{"version":3,"sources":["core/bootstrap/component/bootstrap/dropdown.js","core/bootstrap/component/bootstrap/panel.js","core/bootstrap/component/panel.js","core/bootstrap/component/bootstrap/panelOpen.js","core/bootstrap/component/bootstrap/panelOpenByPath.js","core/bootstrap/component/bootstrap/panelToggle.js","core/bootstrap/component/bootstrap/tab.js","core/bootstrap/component/bootstrap/verticalTab.js","core/bootstrap/component/bootstrap/view.js","core/bootstrap/component/navbar.js","core/bootstrap/component/viewPanel/view.js","core/components/component/boolean/button.js","core/components/component/boolean/exposedField.js","core/components/component/boolean/validate.js","core/components/component/boolean/input.js","core/components/component/boolean/list.js","core/components/component/boolean/vibrate.js","core/components/component/boolean/view.js","core/components/component/conditional/userRole.js","core/components/component/conditional/view.js","core/components/component/conditional/viewAndOr.js","core/components/component/dragAndDrop/myDnd.js","core/components/component/dragAndDrop/context.js","core/components/component/dragAndDrop/list.js","core/components/component/dragAndDrop/handle.js","core/components/component/dragAndDrop/view.js","core/components/component/dropdown/input.js","core/components/component/dropdown/labelView.js","core/components/component/dropdown/view.js","core/components/component/email/exposedField.js","core/components/component/email/validate.js","core/components/component/email/input.js","core/components/component/email/inputNoValidation.js","core/components/component/email/link.js","core/components/component/email/mailto.js","core/components/component/email/sortBy.js","core/components/component/email/verifiedInput.js","core/components/component/email/view.js","core/components/component/flatgroup/input.js","core/components/component/float/exposedField.js","core/components/component/float/input.js","core/components/component/float/link.js","core/components/component/float/sortBy.js","core/components/component/float/view.js","core/components/component/group/input.js","core/components/component/group/view.js","core/components/component/int/exposedField.js","core/components/component/int/validate.js","core/components/component/int/input.js","core/components/component/int/link.js","core/components/component/int/sortBy.js","core/components/component/int/view.js","core/components/component/matrix/input.js","core/components/component/matrix/inputlist.js","core/components/component/multigroup/input.js","core/components/component/multigroup/oneInput.js","core/components/component/multigroup/oneView.js","core/components/component/multigroup/sortBy.js","core/components/component/multigroup/view.js","core/components/component/multilinetext/fields.js","core/components/component/multilinetext/validate.js","core/components/component/multilinetext/input.js","core/components/component/multilinetext/inputlist.js","core/components/component/multilinetext/list.js","core/components/component/multilinetext/view.js","core/components/component/reference/dropdown.js","core/components/component/reference/dropdownFromField.js","core/components/component/reference/exposedField.js","core/components/component/reference/first.js","core/components/component/reference/input.js","core/components/component/reference/select.js","module/nystemServer/component/reference/sortable.js","core/components/component/reference/sortBy.js","core/components/component/reference/validate.js","core/components/component/reference/view.js","core/components/component/select/button.js","core/components/component/select/exposedField.js","core/components/component/select/validate.js","core/components/component/select/input.js","core/components/component/select/sortBy.js","core/components/component/select/view.js","core/components/component/slider/input.js","core/components/component/slider/link.js","core/components/component/slider/view.js","core/components/component/text/exposedField.js","core/components/component/text/validate.js","core/components/component/text/input.js","core/components/component/text/link.js","core/components/component/text/sortBy.js","core/components/component/text/view.js","core/components/component/textarea/input.js","core/components/component/textarea/link.js","core/components/component/textarea/sortBy.js","core/components/component/textarea/view.js","core/components/component/viewButton/autoSave.js","core/components/component/viewButton/back.js","core/components/component/viewButton/eventEmitter.js","core/components/component/viewButton/input.js","core/components/component/viewButton/reference.js","core/components/component/viewButton/view.js","core/components/component/viewInView/empty.js","core/components/component/viewInView/setValue.js","core/components/component/viewInView/view.js","core/components/component/viewLink/button.js","core/components/component/viewLink/dynamicFields.js","core/components/component/viewLink/dynamicLink.js","core/components/component/viewLink/external.js","core/components/component/viewLink/fields.js","core/components/component/viewLink/link.js","core/components/component/viewLink/view.js","core/components/component/viewList/emptySearchresult.js","core/components/component/viewList/listStat.js","core/components/component/viewList/pager.js","core/components/component/viewList/render.js","core/components/component/viewList/search.js","core/components/component/viewList/view.js","core/components/component/viewText/break.js","core/components/component/viewText/token.js","core/components/component/viewText/tokenFallbackNew.js","core/components/component/viewText/view.js","core/connection/component/connection/cssclass.js","core/connection/component/connection/view.js","core/connection/component/offline.js","core/contentType/component/contentType/context.js","core/contentType/component/contentType/render.js","core/contentType/component/contentType/view.js","core/contentType/component/useValidator.js","module/nystemServer/component/button.js","core/core/component/errorManager.js","core/core/component/errorMsg.js","module/nystemServer/component/input.js","module/nystemServer/component/inputWrapper.js","core/core/component/label.js","core/core/component/loading.js","core/core/component/render.js","core/core/component/useEvent.js","core/core/component/viewSmallComponent/errorMsg.js","core/core/component/wrapper.js","core/database/component/database/addToCache.js","core/database/component/database/baseViewSearch.js","core/database/component/database/get.js","core/database/component/database/missing.js","core/database/component/database/oneSearch.js","core/database/component/database/search.js","core/database/component/database/searchContext.js","core/database/component/database/searchContextProvider.js","core/database/component/database/showMoreButton.js","core/database/component/database/view.js","core/date/component/date/exposedField.js","core/date/component/date/exposedYearMonth.js","core/date/component/date/validate.js","core/date/component/date/input.js","core/date/component/date/inputDate.js","core/date/component/date/inputTime.js","core/date/component/date/sortBy.js","core/date/component/date/view.js","module/nystemServer/component/image.js","core/file/component/viewImage/view.js","core/router/component/inserter.js","core/router/component/link.js","core/router/component/router/backHandler.js","core/router/component/router/history.js","core/router/component/router/pageNotFound.js","core/router/component/router/redirect.js","core/router/component/router/scrollpos.js","core/router/component/router/state.js","core/router/component/router/view.js","core/router/component/router/viewByHistory.js","core/session/component/password/validate.js","core/session/component/password/confirmInput.js","core/session/component/password/input.js","core/session/component/password/oldpassword.js","core/session/component/password/view.js","core/session/component/role/view.js","core/session/component/role.js","core/session/component/session/logout.js","core/session/component/session/noRole.js","core/session/component/session/role.js","core/session/component/session/user.js","core/session/component/session/view.js","core/session/component/viewButton/login.js","core/style/component/icon/view.js","icons.js","iconsViewPorts.js","core/style/component/icon.js","core/style/component/style/eventOutside.js","core/style/component/style/onOverHandle.js","core/style/component/style/onOver.js","core/style/component/style/view.js","core/style/component/viewportContext.js","core/style/component/viewport.js","module/chromextension/component/extension/backgroundIndex.js","module/chromextension/component/extension/icon.js","module/chromextension/component/extension/search.js","module/chromextension/component/extension/tab.js","module/chromextension/component/extension/view.js","module/nystemServer/component/bootstrap/computedClass.js","module/nystemServer/component/database/filterResult.js","module/nystemServer/component/index.js","module/nystemServer/component/overlay/accessible.js","module/nystemServer/component/overlay/close.js","module/nystemServer/component/overlay/closeButton.js","module/nystemServer/component/overlay/context.js","module/nystemServer/component/overlay/index.js","module/nystemServer/component/overlay/menu.js","module/nystemServer/component/overlay/open.js","module/nystemServer/component/overlay/overlay.js","module/nystemServer/component/overlay/view.js","module/nystemServer/component/reference/dynamicForm.js","module/nystemServer/component/viewButton/mirrorSave.js","module/nystemServer/component/viewInView/setBaseViewValue.js","module/nystemServer/component/viewText/titlePopup.js","module/service/component/textarea/log.js","core/components/client/index.js","core/contentType/client/index.js","core/database/client/memdb/search.js","core/database/client/memdb/index.js","core/database/client/memdb/delete.js","core/database/client/memdb/find.js","core/database/client/memdb/get.js","core/database/client/memdb/init.js","core/database/client/memdb/save.js","core/database/client/index.js","core/database/client/connection.js","core/database/client/updates.js","core/database/client/debug.js","core/database/client/cache.js","core/database/client/storage.js","core/database/client/saveQueue.js","core/session/client/session.js","core/core/client/eventhandler.js","core/core/client/utils.js","core/core/client/nystem.js","indexScripts.js","core/connection/client/index.js","core/core/client/index.js","core/file/client/index.js","core/router/client/index.js","core/session/client/index.js"],"names":["BootstrapDropdown","React","Component","constructor","props","super","this","state","expanded","toggleExpand","setState","render","self","headerProps","children","headerChildren","Array","map","typeClass","type","menuItem","item","className","onClick","role","slice","createContext","BootstrapPanel","model","path","header","items","body","types","default","wrapper","primary","defaultWithoutPadding","compact","PanelContext","Panel","setSexpanded","useState","panelElement","useRef","useEffect","storedState","app","stateStore","get","isExpanded","forceExpanded","ref","Provider","value","doFunction","set","tabIndex","classNames","BootstrapPanelOpen","classNameOpen","classNameClosed","useContext","BootstrapPanelOpenByPath","view","pathname","useLocation","match","RegExp","val","replace","str","p1","offset","s","test","params","getValue","BootstrapPanelToggle","icon","BootstrapTab","sideways","position","push","renderAs","BootstrapVerticalTab","join","index","key","BootstrapView","row","Navbar","fixed","size","color","setExpanded","aria-hidden","ViewPanelView","onClickExpand","classNameHead","panelProps","BooleanButton","setValue","text","falseText","split","btnType","falseBtnType","includes","alt","t","BooleanExposedField","setSearch","search","context","filter","$and","obj","__id","id","event","uuid","handleClick","setVal","options","placeholder","_id","contextTypes","PropTypes","object","mandatory","text_mandatory","BooleanInput","error","setValidated","UseValidator","validate","e","checked","onChange","disabled","BooleanList","editTable","list","database","contentType","saveField","preventDefault","BooleanVibrate","UNSAFE_componentWillReceiveProps","nextProps","vibrate","componentDidMount","navigator","atState","pattern","JSON","parse","BooleanView","ConditionalUserRole","visible","session","user","contains","array1","array2","i","length","indexOf","createItem","isset","ConditionalView","useCallback","condition","reverse","substring","testCondition","ConditionalViewAndOr","on","tempValue","changeTimer","clearTimeout","setTimeout","setValueView","inThis","valid","refs","testOneCondition","sum","sumValidator","parseInt","componentWillUnmount","off","MyDragAndDropContext","DragDropContext","onDragEnd","addeventhandler","parents","styleDraggableItem","boxSizing","opacity","pointerEvents","transform","transition","zIndex","offsetStyle","Droppable","droppableId","isDropDisabled","style","setStyle","innerRef","styleRef","current","provided","droppableProps","paddingBottom","window","getComputedStyle","stop","result","getBoundingClientRect","x","y","pos","top","bottom","left","right","destination","move","over","height","Draggable","draggableId","breakpoint","currentStyle","offsetStyleSet","start","setStyles","element","styles","Object","entries","forEach","prop","display","draggableProps","dragHandleProps","onMouseDown","baseProps","stringify","movingState","clientX","clientY","clonedElement","cloneNode","mouseMove","document","appendChild","width","then","query","mouseUp","removeEventListener","removeChild","combine","mode","reason","source","data","undefined","addEventListener","onDragStart","draggable","DragAndDropContext","modifiers","checkModifiers","shiftKey","metaKey","ctrlKey","altKey","console","log","DragAndDropListContext","DragAndDropList","myDnd","reactBeautifulDnd","ids","getId","field","valueType","valuePath","updated","splice","onDragEndAddValue","snapshot","replaceInModel","viewFormat","fn","DragAndDropHandle","DragAndDropView","DropdownInput","option","namefield","sourceParser","parsedSource","searchProp","handleChanges","handleChange","errormsg","validated","input","focus","concat","maxLength","selected","DropdownLabelView","DropdownView","directData","loadVal","href","EmailExposedField","EmailInput","clearButton","classNameInput","componentClassName","onBlur","EmailInputNoValidation","func","bind","add","lowerCase","toLowerCase","setval","EmailLink","EmailMailto","EmailSortBy","EmailVerifiedInput","EmailView","FlatgroupInput","add2id","groupVal","startWith","getGroupVal","createElement","components","capFirst","FloatExposedField","onUpdate","update","classNameBase","updateCounter","modelId","from","to","delayTimer","isMounted","offUpdate","FloatInput","parts","IntLink","IntSortBy","outputFloat","tofixed","parseFloat","toFixed","settings","lang","FloatView","GroupInput","GroupView","IntExposedField","IntInput","inputClassName","classNameLabel","IntView","MatrixInput","limit","rowLabel","mapField","label","atRow","newVal","len","rowIndex","MatrixInputlist","oneVal","handleKeyChange","MultigroupInput","setIds","expandable","utils","MultigroupOneInput","itemExpanded","last","info","itemExpandable","MultigroupOneView","rowClassName","MultigroupSortBy","isSortBy","handleSort","target","getAttribute","parentNode","sortBy","MultigroupView","onClose","addItem","MultilinetextFields","rel","MultilinetextInput","itemValue","MultilinetextInputlist","MultilinetextList","MultilinetextView","ReferenceDropdown","loadOption","autoUpdate","parseFilter","count","offline","connection","optionData","ReferenceDropdownFromField","baseView","fromField","open","inside","format","openView","ReferenceExposedField","clone","textField","ReferenceFirst","renderFormat","itemClassName","onReference","Input","selectAllOnFocus","onFocus","inputEl","inFocus","setInFocus","ev","select","InlineAdd","isAdding","setIsAdding","inlineAdd","onSave","close","ReferenceInput","searchVal","setSearchVal","sortby","setResult","$all","useSearch","addModel","addValue","remove","removeModel","removeValue","clicked","itemsSelect","addable","renderFormatSelect","ReferenceSelect","setOption","ReferenceSortable","localValue","save","componentWillReceiveProps","onDelete","addField","hashtag","addTransform","fieldBase","out","insertValues","noForm","onMissing","fieldId","onAdd","ReferenceSortBy","ReferenceView","SelectButton","trueOnState","trueState","falseState","falseOnState","SelectExposedField","setClassName","timer","setTimer","setFilter","DatabaseSearchContext","renderTypes","dropdown","button","checkbox","inline","SelectInput","useMemo","normalizeOption","shift","noWrapper","SelectSortBy","SelectView","fallback","SliderInput","min","absolute","max","precision","SliderLink","SliderView","TextExposedField","active","history","useHistory","createRef","location","useQueryStore","saveValue","ClearButton","forwardRef","contents","TextLink","toFormat","addToPath","TextSortBy","sortbyId","TextView","translate","TextareaInput","TextareaLink","TextareaSortBy","TextareaView","ViewButtonAutoSave","saveIds","saveDelay","saveToDb","async","errors","reduce","res","fields","withRouter","go","ViewButtonEventEmitter","buttonStates","confirm","saving","success","setError","setButton","savedTimer","setSavedTimer","activeKeySaveView","setActiveKeySaveView","sendEvent","emit","subEvent","redirectToPath","router","click","handleSubmit","debug","handleKeySave","inactivateKeySaveView","activateKeySaveView","saveOnKey","baseButtonStates","deleted","saved","noRedirect","redirectURL","sendOnly","delete","ViewButtonReference","btnSize","ViewButtonView","ViewInViewEmpty","viewId","ViewInViewSetValue","insertVal","addid","ViewInViewView","ViewLinkButton","renderType","title","ViewLinkDynamicFields","exact","ViewLinkDynamicLink","ViewLinkExternal","ViewLinkFields","toView","addId","ViewLinkLink","blank","ViewLinkView","Link","ViewListEmptySearchresult","searchText","find","inverse","ViewListListStat","show","searchTotal","total","ViewListPager","prev","next","hasPrev","hasNext","ViewListRender","itemRenderAs","ViewListSearch","ViewListView","emptyFields","headerFields","ViewTextBreak","ViewTextToken","ViewTextTokenFallbackNew","name","ViewTextView","ConnectionCssclass","connected","connectionClass","onlineClass","offlineClass","space","ConnectionView","setConnectedState","Offline","ContentTypeContext","ViewContextProvider","ContentTypeRender","componentName","component","category","focused","useValue","propvalue","noAutoUpdate","loading","first","DatabaseGet","viewValue","setViewValue","reload","firstData","viewValueRef","diff","getDiff","applyDiff","at","setValueAtPath","oldValue","ContentTypeView","addForm","itemFrom","itemTo","viewModel","events","populatedViews","views","base","keys","toUpperCase","onSubmit","isValidated","validator","Promise","resolve","secondary","danger","warning","primaryDisabled","secondaryDisabled","dangerDisabled","warningDisabled","infoDisabled","errorDisabled","defaultDisabled","sizes","xs","sm","lg","xl","Button","ErrorManager","disconnectEvent","errorEvent","connectEvent","url","line","errorTimer","errorReload","ErrorMsg","dangerouslySetInnerHTML","__html","byType","password","parentRef","localRef","elementProps","accessibilityLabel","accessible","accessibilityTraits","InputWrapper","pClassName","inputWidth","floatlabel","htmlFor","errorMsg","nolabel","Label","Loading","inDelay","Render","UseEvent","ViewSmallComponentErrorMsg","errorSetter","tags","tag","h1","h2","h3","h4","DatabaseAddToCache","addMedia","doSearchDebounce","addReferencesToCache","DatabaseBaseViewSearch","updateSearch","db","doGet","DatabaseMissing","dataMissing","isRequired","bool","DatabaseOneSearch","inSearch","searchString","setSearchState","setLoading","DatabaseSearch","reversesortby","subView","iiid","oneFilter","oneFilterIn","and","updateFilter","DatabaseSearchContextProvider","searchResult","doSearch","getSearch","DatabaseShowMoreButton","amount","DatabaseView","DateExposedField","DateExposedYearMonth","years","thisYear","Date","getFullYear","fromYear","toString","months","getTime","year","moment","month","getDate","daysInMonth","modelYear","modelMonth","labelWidth","monthSelector","DateInput","dateType","validateAndSet","DateInputDate","inputVal","setInputVal","setFromPicker","formVal","getMoment","valueOf","Pikaday","onSelect","firstDay","DateInputTime","datePart","now","part","parseVal","DateSortBy","dateTimeFormats","dateLong","timeLong","dateTimeLong","dateTimeNoYear","dateTimeNoYearDay","dateNoYearDay","timeDay","day","DateView","dateFormat","relative","hourInMs","startOf","formatDate","fromNow","setInterval","clearInterval","domain","secure","Image","src","ViewImageView","filename","Inserter","exclude","propMatch","toClassString","RouterBackHandler","routerHistory","atNew","found","rest","is404","setIs404","parentElement","nodeName","RouterRedirect","positions","setPos","documentElement","scrollTop","RouterScrollpos","RouterState","getPath","storage","getItem","redirect","nextContext","setItem","RouterView","RouterViewByHistory","itemsByPosition","paths","historyPos","sort","a","b","PasswordConfirmInput","value1","setValue1","value2","setValue2","svalue","autoComplete","PasswordInput","PasswordOldpassword","PasswordView","RoleView","sessionChange","Role","isVisible","logout","hasNoRole","SessionNoRole","setVisible","check","SessionRole","userrole","updateVisibility","reqRole","userRole","SessionUser","userid","toformat","SessionView","saveButton","setSaveButton","login","IconView","deg","d","points","fill-rule","stroke","strokeWidth","strokeLinecap","strokeLinejoin","Icon","xmlns","viewBox","iconsViewPorts","rotate","icons","StyleEventOutside","classNameInner","innerClicked","HideOnNotOverContext","StyleOnOverHandle","setOver","onMouseOver","onMouseOut","StyleOnOver","classNameOut","classNameOver","StyleView","ViewportContext","ViewportContextProvider","breakpoints","md","Viewport","comp","density","devicePixelRatio","innerWidth","innerHeight","handleResize","Math","clientWidth","clientHeight","ExtensionBackgroundIndex","updateTabs","tab","siteScript","tabs","updateTimer","addToEventLog","updateTabSettings","recording","eventLog","tabId","extensionEvent","doEvent","chrome","tabLoadCallback","status","redirected","tabLoading","callback","doingEvent","sendMessage","connect","saveTab","pathErrorClick","runtime","onMessage","addListener","request","sender","sendResponse","tabOptions","response","newPath","listenTo","forceUpdate","tabField","changed","newUrl","webNavigation","onCompleted","frameId","onBeforeNavigate","onCreated","onUpdated","changeInfo","onRemoved","contextMenus","create","onclick","contexts","extensionIcon","browserAction","canvas","setIcon","setBadgeBackgroundColor","setBadgeText","canvasContext","getContext","imageData","getImageData","ExtensionSearch","missing","setMissing","extract","currentWindow","exec","ExtensionTab","invert","isMatch","setIsMatch","ExtensionView","inExtension","protocol","BootstrapComputedClass","DatabaseFilterResult","filterSearch","definition","viewFields","Index","OverlayAccessible","overlayEvent","accessibleId","_handleScreenReaderToggled","isEnabled","screenReaderEnabled","getChildContext","overlayId","string","childContextTypes","OverlayClose","handleEvent","do","OverlayCloseButton","toPath","OverlayContextObject","OverlayContext","Consumer","OverlayContextProvider","atPath","OverlayIndex","setOpenState","child","OverlayMenu","OverlayOpen","OverlayOverlay","mounted","findPosition","offsetLeft","offsetTop","offsetParent","getScroll","pageYOffset","pageXOffset","r","scrollLeft","modal","shouldComponentUpdate","nextState","OverlayView","link","ReferenceDynamicForm","require","dynamicForm","generate","transformContentType","ViewButtonMirrorSave","oldVal","saveOn","saveVals","ViewInViewSetBaseViewValue","toField","Portal","setElement","createPortal","MouseOver","isOver","setIsOver","delay","ViewTextTitlePopup","popup","overPos","TextareaLog","setLog","parseLog","colors","fullLog","updateLog","wrapperClass","0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","ReactDOM","viewCreatorFields","deepCopy","dynamicFields","fullId","substr","flattenFields","fullPath","flatten","subFields","populateViews","mapFn","byField","curr","sortByFunc","array","sortBys","sortFuncs","sortFuncInt","sortFuncText","collection","fieldByType","field2IdType","extends","_crdate","dbArray","addFields2All","searchFor","oneSearchField","oneSearchValue","oneField","getFilter","searchField","searchValue","tmp","getFilterArray","createRegExp","expression","setSearchDefaults","thisItem","matchVal","filterResult","assign","oldData","dbIndex","deleteM","testIfSet","findM","getM","initM","saveM","searchM","machinename","send","action","inCache","updates","connectionM","updateGet","timer03","timer20","timeoutTimes","updateFrequency","updateEvent","onData","callbackId","delItem","values","_chdate","date","updatesM","debugM","memdbM","noClientCache","insertItem","chdate","searchCache","allInCache","cacheM","setItemDebounce","storageM","storageId","saveQueue","saveQueueM","all","contentTypes","init","clearCache","userContentType","sessionKey","autoLoginUser","sessionid","loginEvent","removeItem","noCallback","userStore","getStackTrace","Error","captureStackTrace","stack","column","host","head","some","scriptEl","setAttribute","onload","addScript","sourceMap","SourceMapConsumer","initialize","consumer","fetch","json","originalPositionFor","addEventHandler","mapevents","callbacks","callbacksprio","callbacksStack","addEventHandlerInitiator","random","addEventHandlers","prio","addEvent","removeEvent","getCallTrace","reject","catch","skipNext","defectiveCallback","___settings___","buildsettings","translations","S4","crypto","getRandomValues","buf","Uint16Array","num","ret","guidGenerator","insertComponent","domSelect","querySelectorAll","insertType","into","insertBefore","firstChild","noBaseDiv","reactBaseComponent","unmountComponentAtNode","URL","native","webSocket","WebSocket","isOnline","reconnect","closed","failCount","counter","callbackid","msg","readyState","timeout","broadcast","waitOnConnect","cont","openconnection","onopen","onclose","onerror","onmessage","message","parsedfilter","states","domPathId","unshift","tagName","keyCode","platform","core","localStorage","memstore","file","parseURL","param","sessionM","addContents","token","method","inited"],"mappings":"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CJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,WC1SDvzC,GAAQ6hC,EAAQ,GAChB2R,GAAW3R,EAAQ,ICJzB,MAAM4R,GAAoB5R,EAAQ,IAc5B6R,GAAYt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","file":"static/js/main.7984bd20.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Button } from \"nystem-components\";\r\n\r\nclass BootstrapDropdown extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      expanded: this.props.expanded\r\n    };\r\n  }\r\n  toggleExpand() {\r\n    this.setState({\r\n      expanded: !this.state.expanded\r\n    });\r\n  }\r\n  render() {\r\n    function headerContent() {\r\n      return <div />;\r\n    }\r\n    const self = this;\r\n    const headerProps = this.props.children[0].props;\r\n    const headerChildren =\r\n      headerProps.children instanceof Array\r\n        ? headerProps.children.map(headerContent)\r\n        : headerProps.children;\r\n    let typeClass = this.props.type ? this.props.type : \"\";\r\n    if (!headerProps) return null;\r\n    function menuItem(item) {\r\n      return <li>{item}</li>;\r\n    }\r\n    function bodyContent() {\r\n      if (self.state.expanded)\r\n        return (\r\n          <ul className=\"dropdown-menu\" role=\"menu\">\r\n            {self.props.children.slice(1).map(menuItem)}\r\n          </ul>\r\n        );\r\n      return \"\";\r\n    }\r\n    if (this.props.className) typeClass += ` ${this.props.className}`;\r\n    if (this.state.expanded) typeClass += \" open\";\r\n    return (\r\n      <div className={`btn-group${typeClass}`}>\r\n        <Button type=\"secondary\" onClick={this.toggleExpand}>\r\n          {headerChildren} <span className=\"caret\" />\r\n        </Button>\r\n        {bodyContent()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default BootstrapDropdown;\r\n","import React from \"react\";\r\nimport { Panel, ContentTypeRender } from \"nystem-components\";\r\n\r\nexport const BootstrapPanelContext = React.createContext();\r\n\r\nconst BootstrapPanel = ({ model, path }) => {\r\n  const { item, header, typeClass } = model;\r\n\r\n  return (\r\n    <Panel\r\n      {...model}\r\n      type={typeClass}\r\n      header={<ContentTypeRender path={path} items={header} />}\r\n      body={<ContentTypeRender path={path} items={item} />}\r\n    />\r\n  );\r\n};\r\nexport default BootstrapPanel;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { Wrapper } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst types = {\r\n  default: {\r\n    wrapper: \"mb-3 border shadow rounded\",\r\n    body: \"p-3\",\r\n    header: \"bg-gray-200 pointer p-1 pl-3\",\r\n  },\r\n  primary: {\r\n    wrapper: \"mb-3 border shadow rounded bg-blue-600 border-blue-600\",\r\n    body: \"p-3 bg-white rounded\",\r\n    header: \"text-white pointer p-1 pl-3\",\r\n  },\r\n  defaultWithoutPadding: {\r\n    wrapper: \"mb-3 border shadow rounded\",\r\n    body: \"\",\r\n    header: \"bg-gray-200 pointer pl-2 pr-1\",\r\n  },\r\n  compact: {\r\n    wrapper: \"mb-1\",\r\n    body: \"pl-3\",\r\n    header: \"\",\r\n  },\r\n};\r\n\r\nconst addClick = (doFunction) => ({\r\n  onClick: doFunction,\r\n  role: \"button\",\r\n  tabIndex: \"0\",\r\n});\r\n\r\nexport const PanelContext = React.createContext();\r\n\r\nconst Panel = ({ body, header, className, ...props }) => {\r\n  const [expanded, setSexpanded] = useState(props.expanded);\r\n  const panelElement = useRef(null);\r\n\r\n  const toggleExpand = () => {\r\n    setSexpanded(!expanded);\r\n    app().stateStore.set(panelElement, !expanded, props.stateStore);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const storedState = app().stateStore.get(panelElement, props.stateStore);\r\n    if (storedState === null || storedState === expanded) return;\r\n    setSexpanded(storedState);\r\n  }, [expanded, props.stateStore]);\r\n\r\n  const type = types[props.type || \"default\"];\r\n  className = className || [];\r\n  className = className instanceof Array ? className : [className];\r\n  const isExpanded = expanded || props.forceExpanded;\r\n\r\n  return (\r\n    <Wrapper ref={panelElement} className={[type.wrapper, ...className]}>\r\n      <Wrapper className={type.header}>\r\n        <PanelContext.Provider\r\n          value={{ toggleExpand: addClick(toggleExpand), expanded: isExpanded }}\r\n        >\r\n          {header}\r\n        </PanelContext.Provider>\r\n      </Wrapper>\r\n      {isExpanded ? <Wrapper className={type.body}>{body}</Wrapper> : null}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Panel;\r\n","import React, { useContext } from \"react\";\r\nimport { Wrapper, ContentTypeRender, Icon } from \"nystem-components\";\r\nimport { PanelContext } from \"../panel\";\r\n\r\nconst classNames = (className) =>\r\n  !className ? [] : className instanceof Array ? className : [className];\r\n\r\nconst BootstrapPanelOpen = ({ model, path, children }) => {\r\n  const { className, item, classNameOpen, classNameClosed } = model;\r\n  const { expanded } = useContext(PanelContext);\r\n\r\n  return (\r\n    <Wrapper\r\n      className={[\r\n        ...classNames(className),\r\n        ...(expanded ? classNames(classNameOpen) : classNames(classNameClosed)),\r\n      ]}\r\n    >\r\n      {children || <ContentTypeRender path={path} items={item} />}\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default BootstrapPanelOpen;\r\n","import React from \"react\";\r\nimport { Panel, ContentTypeRender } from \"nystem-components\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nexport const BootstrapPanelContext = React.createContext();\r\n\r\nconst BootstrapPanelOpenByPath = ({ model, path, value, view }) => {\r\n  const { item, header, typeClass } = model;\r\n  const { pathname } = useLocation();\r\n\r\n  const insertVal = (val) =>\r\n    val &&\r\n    val.replace(/\\{([a-z_.0-9]+)\\}/gim, (str, p1, offset, s) => {\r\n      if (/pathItem[0-9]/.test(p1) && view.params) return view.params[p1[8]];\r\n      return view.getValue(p1.replace(\"..\", path));\r\n    });\r\n\r\n  const expanded = pathname.match(new RegExp(insertVal(model.match)));\r\n\r\n  return (\r\n    <Panel\r\n      {...model}\r\n      forceExpanded={expanded}\r\n      type={typeClass}\r\n      header={<ContentTypeRender path={path} items={header} />}\r\n      body={<ContentTypeRender path={path} items={item} />}\r\n    />\r\n  );\r\n};\r\n\r\nexport default BootstrapPanelOpenByPath;\r\n","import React, { useContext } from \"react\";\r\nimport { Wrapper, ContentTypeRender, Icon } from \"nystem-components\";\r\n\r\nimport { PanelContext } from \"../panel\";\r\n\r\nconst BootstrapPanelToggle = ({ model, path, children }) => {\r\n  const { className, item } = model;\r\n  const { toggleExpand, expanded } = useContext(PanelContext);\r\n\r\n  return (\r\n    <Wrapper className={className} {...toggleExpand}>\r\n      {model.icon && (\r\n        <Icon\r\n          icon={expanded ? \"cheveron-down\" : \"cheveron-right\"}\r\n          className=\"w-8 h-8 p-1 pl-0 pointer\"\r\n        />\r\n      )}\r\n      {children || <ContentTypeRender path={path} items={item} />}\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default BootstrapPanelToggle;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst BootstrapTab = ({ model, path }) => {\r\n  const { className, sideways, position, item } = model;\r\n  className.push(\"nav\");\r\n  className.push(\"nav-tabs\");\r\n\r\n  if (sideways) className.push(\"sideways\");\r\n  if (position) className.push(position);\r\n\r\n  return (\r\n    <Wrapper renderAs=\"ul\" className={className}>\r\n      <ContentTypeRender path={path} items={item || []} />\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default BootstrapTab;\r\n","import React from \"react\";\r\nimport { ContentTypeRender } from \"nystem-components\";\r\n\r\nconst BootstrapVerticalTab = ({ model, path }) => {\r\n  const createItem = (item, index) => (\r\n    <ContentTypeRender key={index} path={path} items={[item]} />\r\n  );\r\n\r\n  const className = model.className ? model.className.join(\" \") : \"\";\r\n  return <ul className={className}>{model.item.map(createItem)}</ul>;\r\n};\r\n\r\nexport default BootstrapVerticalTab;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst BootstrapView = ({ model, path }) => {\r\n  const { className, renderAs, item, row } = model;\r\n\r\n  if (row)\r\n    return (\r\n      <Wrapper className={className}>\r\n        <Wrapper className=\"row\">\r\n          <ContentTypeRender path={path} items={item} />\r\n        </Wrapper>\r\n      </Wrapper>\r\n    );\r\n\r\n  return (\r\n    <Wrapper className={className} renderAs={renderAs}>\r\n      <ContentTypeRender path={path} items={item} />\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default BootstrapView;\r\n","import React, { useState } from \"react\";\r\nimport { Button } from \"nystem-components\";\r\n\r\nconst Navbar = ({\r\n  fixed = \" fixed-top\",\r\n  size = \"md\",\r\n  color = \"light\",\r\n  children\r\n}) => {\r\n  const [expanded, setExpanded] = useState(false);\r\n\r\n  return (\r\n    <nav\r\n      className={`navbar navbar-expand-md ${color} flex-${size}-row bd-navbar ${fixed}`}\r\n    >\r\n      {children[0]}\r\n      <Button\r\n        className=\"navbar-toggler navbar-toggler-right\"\r\n        onClick={() => setExpanded(!expanded)}\r\n        aria-hidden=\"true\"\r\n      >\r\n        <span className=\"navbar-toggler-icon\" />\r\n      </Button>\r\n      <div\r\n        onClick={() => setExpanded(!expanded)}\r\n        className={\r\n          expanded\r\n            ? \"navbar-collapse collapse show\"\r\n            : \"navbar-collapse collapse\"\r\n        }\r\n      >\r\n        {children.slice(1)}\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\nexport default Navbar;\r\n","import React from \"react\";\r\nimport { Panel, Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst ViewPanelView = ({ model, path }) => {\r\n  const {\r\n    onClickExpand,\r\n    classNameHead,\r\n    item,\r\n    header,\r\n    typeClass,\r\n    ...panelProps\r\n  } = model;\r\n\r\n  return (\r\n    <Panel {...panelProps} type={typeClass}>\r\n      <Wrapper\r\n        renderAs=\"h3\"\r\n        onClickExpand={onClickExpand}\r\n        className={classNameHead}\r\n      >\r\n        <ContentTypeRender path={path} items={header || []} />\r\n      </Wrapper>\r\n      <ContentTypeRender path={path} items={item || []} />\r\n    </Panel>\r\n  );\r\n};\r\nexport default ViewPanelView;\r\n","import React from \"react\";\r\nimport { Button, Icon } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst classNames = (className) =>\r\n  !className ? [] : className instanceof Array ? className : [className];\r\n\r\nconst BooleanButton = ({ setValue, model, value }) => {\r\n  const [text, className = []] = (value\r\n    ? model.text\r\n    : model.falseText || model.text\r\n  ).split(\":\");\r\n\r\n  return (\r\n    <Button\r\n      type={value ? model.btnType : model.falseBtnType}\r\n      size={model.size}\r\n      className={[...classNames(className), ...classNames(model.className)]}\r\n      onClick={() => setValue(!value)}\r\n    >\r\n      {[\r\n        \"code\",\r\n        \"pause\",\r\n        \"play\",\r\n        \"folder\",\r\n        \"cog\",\r\n        \"wallet\",\r\n        \"location\",\r\n      ].includes(text) ? (\r\n        <Icon className=\"w-4 h-4\" icon={text} alt={text} />\r\n      ) : (\r\n        app().t(text)\r\n      )}\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default BooleanButton;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport app from \"nystem\";\r\nimport { Button } from \"nystem-components\";\r\n\r\nclass BooleanExposedField extends React.Component {\r\n  static contextTypes = {\r\n    search: PropTypes.object,\r\n    view: PropTypes.object\r\n  };\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.state = {\r\n      value: \"\"\r\n    };\r\n    this.id = app().uuid();\r\n  }\r\n  handleClick(id) {\r\n    const setVal = this.state.value === id ? \"\" : id;\r\n    this.setSearch();\r\n    this.setState({\r\n      value: setVal\r\n    });\r\n  }\r\n  setSearch = value => {\r\n    const { view, search } = this.context;\r\n    const { model } = this.props;\r\n    search.filter = search.filter || {};\r\n    search.filter.$and = (search.filter.$and || []).filter(\r\n      obj => obj.__id !== this.id\r\n    );\r\n    search.filter.$and.push({\r\n      __id: this.id,\r\n      [model.id]: value\r\n    });\r\n\r\n    view.event(\"search\", search);\r\n  };\r\n  render() {\r\n    const self = this;\r\n    let options = this.model.placeholder\r\n      ? [\r\n          {\r\n            text: this.model.placeholder,\r\n            _id: \"\"\r\n          }\r\n        ]\r\n      : [];\r\n    options = [\r\n      {\r\n        _id: \"true\",\r\n        text: \"True\"\r\n      },\r\n      {\r\n        _id: \"false\",\r\n        text: \"False\"\r\n      }\r\n    ];\r\n    const option = function(item, index) {\r\n      function handleClick() {\r\n        return self.handleClick(item._id);\r\n      }\r\n      if (value === item._id)\r\n        return (\r\n          <Button\r\n            onClick={handleClick}\r\n            className=\"btn btn-primary\"\r\n            key={item._id}\r\n            value={item._id}\r\n          >\r\n            {item.text}\r\n          </Button>\r\n        );\r\n      return (\r\n        <Button\r\n          onClick={handleClick}\r\n          className=\"btn btn-secondary\"\r\n          key={item._id}\r\n          value={item._id}\r\n        >\r\n          {item.text}\r\n        </Button>\r\n      );\r\n    };\r\n    const value =\r\n      this.state.value instanceof Array\r\n        ? this.state.value[0]\r\n        : this.state.value;\r\n    const className = this.model.className\r\n      ? this.model.className.join(\" \")\r\n      : \"\";\r\n    return (\r\n      <div className={className}>\r\n        <div className=\"mr-2\">{this.model.text}</div>\r\n        {options.map(option)}\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default BooleanExposedField;\r\n","const text_mandatory = \"Field is mandatory\";\r\n\r\nexport default ({ value, model }) =>\r\n  model.mandatory && !value && (model.text_mandatory || text_mandatory);\r\n","import React from \"react\";\r\nimport { InputWrapper, Input, Button, UseValidator } from \"nystem-components\";\r\nimport validate from \"./validate\";\r\n\r\nconst BooleanInput = ({ model, setValue, value, view, render }) => {\r\n  const [error, setValidated] = UseValidator({ view, validate, value, model });\r\n\r\n  const handleChangeButton = (e) => {\r\n    setValidated(true);\r\n    setValue(!value);\r\n  };\r\n\r\n  if (model.render === \"button\" || render === \"button\")\r\n    return (\r\n      <Button\r\n        type={value ? \"primary\" : \"secondary\"}\r\n        className={model.className}\r\n        onClick={handleChangeButton}\r\n        size=\"xs\"\r\n      >\r\n        {model.text}\r\n      </Button>\r\n    );\r\n\r\n  return (\r\n    <InputWrapper model={model} error={error}>\r\n      <Input\r\n        placeholder={model.text}\r\n        checked={value || false}\r\n        onChange={() => setValue(!value)}\r\n        disabled={model.disabled}\r\n        type=\"checkbox\"\r\n      />\r\n    </InputWrapper>\r\n  );\r\n};\r\n\r\nexport default BooleanInput;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nclass BooleanList extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.editTable = this.model.list && this.model.list.editTable;\r\n    const state = {};\r\n    this.state = state;\r\n  }\r\n  handleClick(e) {\r\n    if (this.editTable)\r\n      app().database[this.props.contentType].saveField(\r\n        this.props.id,\r\n        this.model.id,\r\n        !this.props.value\r\n      );\r\n    e.preventDefault();\r\n  }\r\n  render() {\r\n    if (this.props.value)\r\n      return (\r\n        <div>\r\n          <input\r\n            onClick={this.handleClick}\r\n            type=\"checkbox\"\r\n            disabled={!this.editTable}\r\n            checked\r\n          />\r\n        </div>\r\n      );\r\n    return (\r\n      <div>\r\n        <input\r\n          onClick={this.handleClick}\r\n          type=\"checkbox\"\r\n          disabled={!this.editTable}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default BooleanList;\r\n","import React from \"react\";\r\nclass BooleanVibrate extends React.Component {\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (this.props.value !== nextProps.value) this.vibrate(nextProps);\r\n  }\r\n  componentDidMount() {\r\n    this.vibrate(this.props);\r\n  }\r\n  vibrate(props) {\r\n    if (!navigator.vibrate) return;\r\n    let { atState, pattern } = props.model;\r\n    if (props.value === atState)\r\n      navigator.vibrate(pattern ? JSON.parse(pattern) : 300);\r\n  }\r\n  render() {\r\n    return null;\r\n  }\r\n}\r\nexport default BooleanVibrate;\r\n","import React from \"react\";\r\nclass BooleanView extends React.Component {\r\n  render() {\r\n    const model = this.props.model;\r\n    const className = model.className ? model.className.join(\" \") : \"\";\r\n    if (this.props.value)\r\n      return (\r\n        <div className={className}>\r\n          <span className=\"fa fa-ok\" />\r\n        </div>\r\n      );\r\n    else return null;\r\n  }\r\n}\r\nexport default BooleanView;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nclass ConditionalUserRole extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.view = props.view;\r\n    const state = {\r\n      value: props.value\r\n    };\r\n    state.visible = app().session.user\r\n      ? this.contains(app().session.user.role, this.model.role)\r\n      : false;\r\n    this.state = state;\r\n  }\r\n  contains(array1, array2) {\r\n    if (typeof array1 === \"string\") array1 = [array1];\r\n    if (typeof array2 === \"string\") array2 = [array2];\r\n\r\n    for (let i = 0; i < array1.length; i++)\r\n      if (array2.indexOf(array1[i]) !== -1) return true;\r\n\r\n    return false;\r\n  }\r\n  render() {\r\n    const className = this.props.model.className\r\n      ? this.props.model.className.join(\" \")\r\n      : \"\";\r\n    if (this.state.visible)\r\n      return (\r\n        <Wrapper className={className}>\r\n          {this.model.item.map(this.props.view.createItem, this)}\r\n        </Wrapper>\r\n      );\r\n    return null;\r\n  }\r\n}\r\nexport default ConditionalUserRole;\r\n","import React, { useCallback } from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst isset = (val) => !!val && !(val instanceof Array && val.length === 0);\r\n\r\nconst ConditionalView = ({ view, model, value, path }) => {\r\n  const testCondition = useCallback(() => {\r\n    const { condition } = model;\r\n    for (let i = 0; i < condition.length; i++) {\r\n      const val = view.getValue(condition[i][0]);\r\n      let test = condition[i][1];\r\n      if (test === \"false\") {\r\n        if (!isset(val)) return true;\r\n        continue;\r\n      }\r\n      if (test === \"true\") {\r\n        if (isset(val)) return true;\r\n        continue;\r\n      }\r\n      const reverse = test[0] === \"!\";\r\n      if (reverse) test = test.substring(1);\r\n      test = new RegExp(`^${test}$`, \"i\");\r\n      if (test.test(val)) {\r\n        if (!reverse) return true;\r\n      } else if (reverse) return true;\r\n    }\r\n    return false;\r\n  }, [model, view]);\r\n\r\n  if (testCondition())\r\n    return (\r\n      <Wrapper className={model.className}>\r\n        <ContentTypeRender path={path} items={model.item} />\r\n      </Wrapper>\r\n    );\r\n  return null;\r\n};\r\n\r\nexport default ConditionalView;\r\n","import React from \"react\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nclass ConditionalViewAndOr extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.view = props.view;\r\n    const state = {\r\n      value: this.view.value\r\n    };\r\n    if (!state.value) state.value = {};\r\n    state.visible = this.testCondition(state.value);\r\n    this.view.on(\"change\", this.onChange);\r\n    this.tempValue = {};\r\n    this.state = state;\r\n  }\r\n  setValue(id, value) {\r\n    return this.view.setValue(id, value);\r\n  }\r\n  onChange(id, value) {\r\n    if (this.changeTimer) clearTimeout(this.changeTimer);\r\n    this.changeTimer = setTimeout(this.setValueView, 0);\r\n  }\r\n  setValueView() {\r\n    this.changeTimer = false;\r\n    if (this.inThis) return;\r\n    this.inThis = true;\r\n    const { value } = this.view;\r\n    const visible = this.testCondition(value);\r\n    /* if (!visible && this.state.visible)\r\n      for (let i=0;i<this.model.item.length;i++){\r\n        if (this.model.item[i].id){\r\n          this.tempValue[this.model.item[i].id] = value[this.model.item[i].id];\r\n          this.setValue(this.model.item[i].id);\r\n        } else\r\n        if (this.model.item[i].item){\r\n          for (let j=0;j<this.model.item[i].item.length;j++)\r\n            if (this.model.item[i].item[j].id)\r\n              this.setValue(this.model.item[i].item[j].id);\r\n        } else\r\n        if (this.refs['component'+i].clear)\r\n          this.refs['component'+i].clear();\r\n      } else\r\n      if (visible && !this.state.visible)\r\n        for (let i=0;i<this.model.item.length;i++)\r\n          if (this.model.item[i].id && typeof value[this.model.item[i].id] === 'undefined')\r\n            this.setValue(this.model.item[i].id,this.tempValue[this.model.item[i].id]);*/\r\n\r\n    this.setState({\r\n      value: value,\r\n      visible: visible\r\n    });\r\n    this.inThis = false;\r\n  }\r\n  valid() {\r\n    let valid = true;\r\n    if (this.state.visible)\r\n      for (let i = 0; i < this.model.item.length; i++)\r\n        if (!this.refs[`component${i}`].valid()) valid = false;\r\n    return valid;\r\n  }\r\n  visible() {\r\n    return this.state.visible;\r\n  }\r\n  testCondition(value) {\r\n    const { condition } = this.model;\r\n    if (!condition || !condition.length) return false;\r\n\r\n    function testOneCondition(condition) {\r\n      const key = condition[0];\r\n      const val = value[key];\r\n      let test = condition[1];\r\n      if (test === \"false\" || test === false) return !val;\r\n      if (test === \"true\" || test === true) return !!val;\r\n      const reverse = test[0] === \"!\";\r\n      if (reverse) test = test.substring(1);\r\n      test = new RegExp(`^${test}$`, \"i\");\r\n      if (test.test(val)) {\r\n        if (!reverse) return true;\r\n      } else if (reverse) return true;\r\n      return false;\r\n    }\r\n\r\n    let valid = true;\r\n    let sum = false;\r\n    const sumValidator = function(condition) {\r\n      let sum = 0;\r\n      condition = condition.split(\"||\");\r\n      return function(valid) {\r\n        if (typeof valid !== \"undefined\" && valid) sum++;\r\n        for (let i = 0; i < condition.length; i++)\r\n          if (parseInt(condition[i], 10) === sum) return true;\r\n        return false;\r\n      };\r\n    };\r\n    for (let i = 0; i < condition.length; i++) {\r\n      if (condition[i][0] === \"||\") {\r\n        if (sum) {\r\n          valid = sum();\r\n          sum = false;\r\n        }\r\n        if (valid) return true;\r\n        valid = true;\r\n      } else if (condition[i][0] === \"<sum>\") {\r\n        sum = sumValidator(condition[i][1]);\r\n      } else if (sum) sum(testOneCondition(condition[i]));\r\n      else valid = testOneCondition(condition[i]) && valid;\r\n    }\r\n    if (sum) valid = sum();\r\n    return valid;\r\n  }\r\n  componentWillUnmount() {\r\n    this.props.view.off(\"change\", this.onChange);\r\n  }\r\n  render() {\r\n    const { model, view } = this.props;\r\n    if (this.state.visible)\r\n      return (\r\n        <Wrapper className={model.className}>\r\n          {model.item.map(view.createItem, this)}\r\n        </Wrapper>\r\n      );\r\n    return null;\r\n  }\r\n}\r\nexport default ConditionalViewAndOr;\r\n","import React, { useState, useRef, useEffect, useContext } from \"react\";\r\nimport app from \"nystem\";\r\n\r\nconst MyDragAndDropContext = React.createContext();\r\n\r\nexport const DragDropContext = ({ children, onDragEnd }) => {\r\n  const event = app().addeventhandler();\r\n\r\n  useEffect(() => {\r\n    event.on(\"onDragEnd\", onDragEnd);\r\n  }, [event, onDragEnd]);\r\n\r\n  return (\r\n    <MyDragAndDropContext.Provider value={{ event, parents: [] }}>\r\n      {children}\r\n    </MyDragAndDropContext.Provider>\r\n  );\r\n};\r\n\r\nconst styleDraggableItem = {\r\n  boxSizing: \"border-box\",\r\n  opacity: null,\r\n  pointerEvents: \"none\",\r\n  position: \"fixed\",\r\n  transform: null,\r\n  transition: \"opacity 0.2s cubic-bezier(0.2, 0, 0, 1)\",\r\n  zIndex: 4500,\r\n};\r\nconst offsetStyle = {\r\n  transform: \"translate(0px,0px)\",\r\n  transition:\r\n    \"transform 0.33s cubic-bezier(.2,1,.1,1), opacity 0.33s cubic-bezier(.2,1,.1,1)\",\r\n};\r\n\r\nexport const Droppable = ({ droppableId, type, children, isDropDisabled }) => {\r\n  const [style, setStyle] = useState(null);\r\n  const innerRef = useRef();\r\n  const styleRef = useRef();\r\n  styleRef.current = style;\r\n\r\n  const context = useContext(MyDragAndDropContext);\r\n  const { event } = context;\r\n\r\n  const provided = {\r\n    droppableProps: { style: style || offsetStyle },\r\n    innerRef,\r\n  };\r\n\r\n  const parents = [\r\n    ...context.parents,\r\n    ...(context.droppableId ? [context.droppableId] : []),\r\n  ];\r\n\r\n  useEffect(() => {\r\n    if (isDropDisabled) return;\r\n\r\n    const paddingBottom = parseInt(\r\n      window.getComputedStyle(innerRef.current).paddingBottom,\r\n      10\r\n    );\r\n\r\n    const stop = (result) => {\r\n      const size = innerRef.current.getBoundingClientRect();\r\n      setStyle(null);\r\n      const { x, y } = result.pos;\r\n\r\n      if (y < size.top || y > size.bottom || x < size.left || x > size.right)\r\n        return;\r\n\r\n      if (result.destination.parents.includes(droppableId)) return;\r\n\r\n      return {\r\n        ...result,\r\n        destination: { ...result.destination, droppableId, parents },\r\n      };\r\n    };\r\n\r\n    const move = (result) => {\r\n      if (!innerRef.current) return;\r\n\r\n      const size = innerRef.current.getBoundingClientRect();\r\n      const { x, y } = result;\r\n\r\n      if (y < size.top || y > size.bottom || x < size.left || x > size.right)\r\n        return;\r\n\r\n      if (result.parents.includes(droppableId)) return;\r\n\r\n      return { ...result, over: droppableId, parents };\r\n    };\r\n\r\n    const over = ({ over, height }) => {\r\n      if (!innerRef.current) return;\r\n\r\n      if (over !== droppableId) {\r\n        if (styleRef.current) setStyle(null);\r\n        return;\r\n      }\r\n      if (!styleRef.current)\r\n        setStyle({ ...offsetStyle, paddingBottom: paddingBottom + height });\r\n    };\r\n\r\n    event.on(`${type}Over`, over);\r\n    event.on(`${type}Move`, move);\r\n    event.on(`${type}Stop`, 100, stop);\r\n    return () => {\r\n      event.off(`${type}Over`, over);\r\n      event.on(`${type}Move`, move);\r\n      event.off(`${type}Stop`, stop);\r\n    };\r\n  }, [droppableId, event, isDropDisabled, parents, type]);\r\n\r\n  return (\r\n    <MyDragAndDropContext.Provider\r\n      value={{ ...context, parents, droppableId, isDropDisabled, type }}\r\n    >\r\n      {children(provided, {})}\r\n    </MyDragAndDropContext.Provider>\r\n  );\r\n};\r\n\r\nexport const Draggable = ({ draggableId, index, children }) => {\r\n  const [style, setStyle] = useState(null);\r\n\r\n  const innerRef = useRef();\r\n  const { event, droppableId, isDropDisabled, type } = useContext(\r\n    MyDragAndDropContext\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (isDropDisabled) return;\r\n\r\n    let breakpoint;\r\n    let currentStyle = null;\r\n\r\n    let offsetStyleSet = null;\r\n    const start = (props) => {\r\n      currentStyle = null;\r\n\r\n      if (props.draggableId === draggableId) return;\r\n\r\n      const size = innerRef.current.getBoundingClientRect();\r\n      breakpoint = size.top + size.height / 2;\r\n\r\n      offsetStyleSet = {\r\n        ...offsetStyle,\r\n        transform: `translate(0px, ${props.height}px)`,\r\n      };\r\n      setStyle({\r\n        transform:\r\n          props.y > breakpoint\r\n            ? offsetStyle\r\n            : `translate(0px, ${props.height}px)`,\r\n      });\r\n      currentStyle = true;\r\n    };\r\n\r\n    const move = (pos) => {\r\n      if (!currentStyle) return;\r\n      const size = innerRef.current.getBoundingClientRect();\r\n      breakpoint = size.top + size.height / 2;\r\n\r\n      if (pos.y < breakpoint && droppableId === pos.over) {\r\n        if (currentStyle === offsetStyleSet) return;\r\n        currentStyle = offsetStyleSet;\r\n      } else {\r\n        if (currentStyle === offsetStyle) return;\r\n        currentStyle = offsetStyle;\r\n      }\r\n      setStyle(currentStyle);\r\n    };\r\n\r\n    event.on(`${type}Start`, start);\r\n    event.on(`${type}Over`, move);\r\n    return () => {\r\n      event.off(`${type}Start`, start);\r\n      event.off(`${type}Over`, move);\r\n    };\r\n  }, [droppableId, draggableId, event, isDropDisabled, type]);\r\n\r\n  useEffect(() => {\r\n    if (isDropDisabled) return;\r\n\r\n    const stop = (result) => {\r\n      setStyle(null);\r\n      const { destination } = result;\r\n\r\n      const size = innerRef.current.getBoundingClientRect();\r\n      const breakpoint = size.top + size.height / 2;\r\n\r\n      if (destination.droppableId !== droppableId) return;\r\n      if (destination.index > index) return;\r\n      if (result.pos.y < breakpoint) return;\r\n\r\n      return {\r\n        ...result,\r\n        destination: { ...result.destination, index: index + 1 },\r\n      };\r\n    };\r\n\r\n    event.on(`${type}Stop`, stop);\r\n    return () => {\r\n      event.off(`${type}Stop`, stop);\r\n    };\r\n  }, [droppableId, event, index, isDropDisabled, type]);\r\n\r\n  const setStyles = (element, styles) =>\r\n    Object.entries(styles).forEach(([prop, val]) => {\r\n      element.style[prop] = val;\r\n    });\r\n\r\n  const onMouseDown = (e) => {\r\n    const baseProps = JSON.parse(\r\n      JSON.stringify(innerRef.current.getBoundingClientRect())\r\n    );\r\n\r\n    const style = {\r\n      ...styleDraggableItem,\r\n      ...baseProps,\r\n    };\r\n    const movingState = {\r\n      x: e.clientX - style.left,\r\n      y: e.clientY - style.top,\r\n      height: style.height,\r\n      draggableId,\r\n      droppableId,\r\n      index,\r\n      type,\r\n    };\r\n    let pos = false;\r\n    const clonedElement = innerRef.current.cloneNode(true);\r\n\r\n    const mouseMove = (e) => {\r\n      if (!pos) {\r\n        document.body.appendChild(clonedElement);\r\n        setStyles(clonedElement, style);\r\n        clonedElement.style.width = `${baseProps.width}px`;\r\n        event.event(`${type}Start`, movingState);\r\n      }\r\n\r\n      pos = {\r\n        x: e.clientX - movingState.x,\r\n        y: e.clientY - movingState.y,\r\n        height: style.height,\r\n        parents: [],\r\n      };\r\n\r\n      setStyles(clonedElement, {\r\n        top: `${pos.y}px`,\r\n        left: `${pos.x}px`,\r\n        transform: \"scale(1.01,1.15)\",\r\n      });\r\n      setStyle({ display: \"none\" });\r\n      event\r\n        .event(`${type}Move`, pos)\r\n        .then((query) => event.event(`${type}Over`, query));\r\n    };\r\n\r\n    const mouseUp = (e) => {\r\n      window.removeEventListener(\"mousemove\", mouseMove);\r\n      window.removeEventListener(\"mouseup\", mouseUp);\r\n\r\n      if (!pos) return;\r\n\r\n      document.body.removeChild(clonedElement);\r\n\r\n      event\r\n        .event(`${type}Stop`, {\r\n          combine: null,\r\n          destination: { index: 0, parents: [] },\r\n          draggableId,\r\n          mode: \"FLUID\",\r\n          reason: \"DROP\",\r\n          source: { index, droppableId },\r\n          type,\r\n          pos,\r\n        })\r\n        .then((data) =>\r\n          event.event(\"onDragEnd\", {\r\n            ...data,\r\n            pos: undefined,\r\n          })\r\n        );\r\n\r\n      setStyle(null);\r\n      pos = false;\r\n    };\r\n\r\n    window.addEventListener(\"mouseup\", mouseUp);\r\n    window.addEventListener(\"mousemove\", mouseMove);\r\n  };\r\n\r\n  const onDragStart = (e) => {\r\n    e.preventDefault();\r\n  };\r\n\r\n  if (style && style.display === \"none\") return null;\r\n\r\n  const provided = {\r\n    draggableProps: { style },\r\n    dragHandleProps: {\r\n      onMouseDown,\r\n      onDragStart,\r\n      draggable: false,\r\n      role: \"button\",\r\n      style: {},\r\n    },\r\n    innerRef,\r\n  };\r\n  return children(provided, {});\r\n};\r\n\r\nexport default () => {};\r\n","import React, { useEffect, useRef } from \"react\";\r\nimport * as reactBeautifulDnd from \"react-beautiful-dnd\";\r\nimport app from \"nystem\";\r\nimport * as mDnd from \"./myDnd\";\r\n\r\nconst DragAndDropContext = ({ children }) => {\r\n  const modifiers = useRef({});\r\n  useEffect(() => {\r\n    const checkModifiers = (e) => {\r\n      const { shiftKey, metaKey, ctrlKey, altKey } = e;\r\n      modifiers.current = { shiftKey, metaKey, ctrlKey, altKey };\r\n    };\r\n    document.body.addEventListener(\"mouseup\", checkModifiers);\r\n    return () => {\r\n      document.body.removeEventListener(\"mouseup\", checkModifiers);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <reactBeautifulDnd.DragDropContext\r\n      onDragEnd={(e) => {\r\n        app().event(\"dragAndDropOnDragEnd\", { ...modifiers.current, ...e });\r\n      }}\r\n    >\r\n      <mDnd.DragDropContext\r\n        onDragEnd={(e) => {\r\n          console.log(e);\r\n          app().event(\"dragAndDropOnDragEnd\", { ...modifiers.current, ...e });\r\n        }}\r\n      >\r\n        {children}\r\n      </mDnd.DragDropContext>\r\n    </reactBeautifulDnd.DragDropContext>\r\n  );\r\n};\r\nexport default DragAndDropContext;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport * as reactBeautifulDnd from \"react-beautiful-dnd\";\r\nimport { ContentTypeRender, Wrapper } from \"nystem-components\";\r\nimport app from \"nystem\";\r\nimport * as myDnd from \"./myDnd\";\r\n\r\nexport const DragAndDropListContext = React.createContext();\r\n\r\nconst DragAndDropList = ({ value = [], model, path, view }) => {\r\n  const { Droppable, Draggable } = model.myDnd ? myDnd : reactBeautifulDnd;\r\n  const [droppableId] = useState(app().uuid());\r\n\r\n  const ids = useRef([]);\r\n  const getId = (pos) => {\r\n    if (!ids.current[pos]) ids.current[pos] = app().uuid();\r\n    return ids.current[pos];\r\n  };\r\n\r\n  const { field, valueType } = model;\r\n  const valuePath = path ? `${path}.${field.id}` : field.id;\r\n  value = view.getValue(valuePath);\r\n  value = value || [];\r\n\r\n  useEffect(() => {\r\n    const onDragEnd = (result) => {\r\n      const value = view.getValue(valuePath) || [];\r\n\r\n      let updated = false;\r\n\r\n      if (!result.ctrlKey && result.source.droppableId === droppableId) {\r\n        value.splice(result.source.index, 1);\r\n        ids.current.splice(result.source.index, 1);\r\n        updated = true;\r\n      }\r\n\r\n      if (\r\n        result.destination &&\r\n        result.destination.droppableId === droppableId\r\n      ) {\r\n        value.splice(result.destination.index, 0, result.source.value);\r\n        ids.current.splice(\r\n          result.destination.index,\r\n          0,\r\n          result.source.droppableId === droppableId\r\n            ? result.source.uuid\r\n            : app().uuid()\r\n        );\r\n        updated = true;\r\n      }\r\n\r\n      if (updated) view.setValue({ path: valuePath, value });\r\n    };\r\n\r\n    const onDragEndAddValue = (result) => {\r\n      if (result.source.droppableId !== droppableId) return;\r\n      const value = view.getValue(valuePath);\r\n      result.source.value = value[result.source.index];\r\n      result.source.uuid = result.ctrlKey\r\n        ? app().uuid()\r\n        : ids.current[result.source.index];\r\n    };\r\n\r\n    app().on(\"dragAndDropOnDragEnd\", 100, onDragEndAddValue);\r\n    app().on(\"dragAndDropOnDragEnd\", onDragEnd);\r\n    return () => {\r\n      app().off(\"dragAndDropOnDragEnd\", onDragEndAddValue);\r\n      app().off(\"dragAndDropOnDragEnd\", onDragEnd);\r\n    };\r\n  }, [droppableId, valuePath, view]);\r\n\r\n  const { className = [] } = model;\r\n\r\n  return (\r\n    <Droppable droppableId={droppableId} type={valueType}>\r\n      {(provided, snapshot) => (\r\n        <Wrapper\r\n          className={[\"min-h-2 p-3 border shadow rounded\", ...className]}\r\n          {...provided.droppableProps}\r\n          ref={provided.innerRef}\r\n        >\r\n          {value.map((item, index) => (\r\n            <Draggable\r\n              key={getId(index)}\r\n              draggableId={getId(index)}\r\n              index={index}\r\n            >\r\n              {(provided, snapshot) => (\r\n                <div\r\n                  ref={provided.innerRef}\r\n                  {...provided.draggableProps}\r\n                  style={provided.draggableProps.style}\r\n                >\r\n                  <DragAndDropListContext.Provider\r\n                    value={provided.dragHandleProps}\r\n                  >\r\n                    <ContentTypeRender\r\n                      path={path}\r\n                      items={\r\n                        app().replaceInModel({\r\n                          model,\r\n                          viewFormat: view.viewFormat,\r\n                          fn: ({ model: item }) =>\r\n                            item.id === field.id\r\n                              ? { ...item, id: `${item.id}.${index}` }\r\n                              : item,\r\n                        }).item\r\n                      }\r\n                    />\r\n                  </DragAndDropListContext.Provider>\r\n                </div>\r\n              )}\r\n            </Draggable>\r\n          ))}\r\n          {provided.placeholder}\r\n        </Wrapper>\r\n      )}\r\n    </Droppable>\r\n  );\r\n};\r\nexport default DragAndDropList;\r\n","import React, { useContext } from \"react\";\r\nimport { ContentTypeRender, Icon } from \"nystem-components\";\r\nimport { DragAndDropListContext } from \"./list\";\r\n\r\nconst DragAndDropHandle = ({ model, path }) => {\r\n  const { item, className = [] } = model;\r\n  const dragHandleProps = useContext(DragAndDropListContext);\r\n\r\n  return (\r\n    <div className={className.join(\" \")} {...dragHandleProps}>\r\n      {model.icon && <Icon icon=\"move\" className=\"w-8 h-8 py-2\" />}\r\n      <ContentTypeRender path={path} items={item} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DragAndDropHandle;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport * as reactBeautifulDnd from \"react-beautiful-dnd\";\r\nimport { ContentTypeRender } from \"nystem-components\";\r\nimport app from \"nystem\";\r\nimport * as myDnd from \"./myDnd\";\r\n\r\nconst DragAndDropView = ({ value, model, path }) => {\r\n  const { Droppable, Draggable } = model.myDnd ? myDnd : reactBeautifulDnd;\r\n  const [droppableId] = useState(app().uuid());\r\n\r\n  useEffect(() => {\r\n    if (!value) return;\r\n\r\n    const onDragEndAddValue = (result) => {\r\n      if (result.source.droppableId !== droppableId) return;\r\n      result.source.value = value;\r\n      result.source.uuid = droppableId;\r\n    };\r\n\r\n    app().on(\"dragAndDropOnDragEnd\", 100, onDragEndAddValue);\r\n    return () => {\r\n      app().off(\"dragAndDropOnDragEnd\", onDragEndAddValue);\r\n    };\r\n  }, [value, droppableId]);\r\n\r\n  const { item } = model;\r\n\r\n  return (\r\n    <Droppable\r\n      droppableId={droppableId}\r\n      type={model.valueType}\r\n      isDropDisabled={true}\r\n    >\r\n      {(provided, snapshot) => {\r\n        // console.log(provided);\r\n        return (\r\n          <div {...provided.droppableProps} ref={provided.innerRef}>\r\n            <Draggable key={droppableId} draggableId={droppableId} index={0}>\r\n              {(provided, snapshot) => {\r\n                // console.log(provided.draggableProps.style);\r\n                return (\r\n                  <div\r\n                    ref={provided.innerRef}\r\n                    {...provided.draggableProps}\r\n                    {...provided.dragHandleProps}\r\n                    style={provided.draggableProps.style}\r\n                  >\r\n                    <ContentTypeRender path={path} items={item} />\r\n                  </div>\r\n                );\r\n              }}\r\n            </Draggable>\r\n            {provided.placeholder}\r\n          </div>\r\n        );\r\n      }}\r\n    </Droppable>\r\n  );\r\n};\r\n\r\nexport default DragAndDropView;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { InputWrapper } from \"nystem-components\";\r\n\r\nclass DropdownInput extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const self = this;\r\n    this.model = props.model;\r\n    const state = {\r\n      value: props.value,\r\n      option: []\r\n    };\r\n    const namefield = this.model.namefield ? this.model.namefield : \"name\";\r\n    if (this.model.source) {\r\n      const value = props.value || false;\r\n      app().sourceParser(\r\n        self.model.source,\r\n        parsedSource => {\r\n          self.searchProp = app()\r\n            .database[parsedSource.source].search(\r\n              {\r\n                filter: parsedSource.filter\r\n              },\r\n              data => {\r\n                self.handleChanges = {};\r\n                const option = data.map(item => {\r\n                  self.handleChanges[item._id] = function() {\r\n                    self.handleChange(item._id);\r\n                  };\r\n                  return {\r\n                    _id: item._id,\r\n                    text: item[namefield]\r\n                  };\r\n                });\r\n                if (self.state && self.state.option)\r\n                  self.setState({ option: option });\r\n                else state.option = option;\r\n              }\r\n            )\r\n            .search();\r\n        },\r\n        value\r\n      );\r\n    } else {\r\n      self.handleChanges = {};\r\n      state.option = this.model.option.map(item => {\r\n        if (typeof item === \"string\")\r\n          item = {\r\n            _id: item,\r\n            text: item\r\n          };\r\n        self.handleChanges[item._id] = function() {\r\n          self.handleChange(item._id);\r\n        };\r\n        return item;\r\n      });\r\n    }\r\n    this.errormsg = this.model.text_mandatory\r\n      ? this.model.text_mandatory\r\n      : true;\r\n    this.validated = false;\r\n    if (!state.value && !this.model.placeholder && state.option[0])\r\n      props.setValue(state.option[0]._id);\r\n    this.state = state;\r\n  }\r\n  handleChange(id) {\r\n    const { value } = this.refs.input;\r\n    this.props.setValue(value);\r\n  }\r\n  valid() {\r\n    this.validated = true;\r\n    if (this.model.mandatory && !this.state.value) {\r\n      this.setState({\r\n        error: this.errormsg\r\n      });\r\n      return false;\r\n    }\r\n    if (this.state.error) delete this.state.error;\r\n    return true;\r\n  }\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (this.props.value !== nextProps.value) {\r\n      const error = this.validated && this.model.mandatory && !nextProps.value;\r\n      this.setState({\r\n        value: nextProps.value,\r\n        error: error ? this.errormsg : false\r\n      });\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    if (this.props.focus) this.refs.input.focus();\r\n  }\r\n  render() {\r\n    let options = this.model.placeholder\r\n      ? [{ text: this.model.placeholder, _id: \"\" }]\r\n      : [];\r\n    options = options.concat(this.state.option);\r\n    const option = function(item, index) {\r\n      if (value === item._id)\r\n        return (\r\n          <option key={item._id} value={item._id} selected=\"selected\">\r\n            {item.text}\r\n          </option>\r\n        );\r\n      return (\r\n        <option key={item._id} value={item._id}>\r\n          {item.text}\r\n        </option>\r\n      );\r\n    };\r\n    const value =\r\n      this.state.value instanceof Array\r\n        ? this.state.value[0]\r\n        : this.state.value;\r\n    return (\r\n      <InputWrapper model={this.model} error={this.state.error}>\r\n        <select\r\n          ref=\"input\"\r\n          placeholder={app.t(this.model.text)}\r\n          className=\"form-control\"\r\n          value={value}\r\n          maxLength={this.model.length}\r\n          onChange={this.handleChange}\r\n        >\r\n          {options.map(option)}\r\n        </select>\r\n      </InputWrapper>\r\n    );\r\n  }\r\n}\r\nexport default DropdownInput;\r\n","import React from \"react\";\nimport { InputWrapper } from \"nystem-components\";\nclass DropdownLabelView extends React.Component {\n  render() {\n    return (\n      <InputWrapper model={this.props.model}>\n        <div className=\"form-control\">{this.props.value}</div>\n      </InputWrapper>\n    );\n  }\n}\nexport default DropdownLabelView;\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Link } from \"nystem-components\";\r\n\r\nclass DropdownView extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    let state = {\r\n      value: props.value,\r\n      text: \"\",\r\n      id: \"\"\r\n    };\r\n    const self = this;\r\n    this.namefield = this.model.namefield ? this.model.namefield : \"name\";\r\n    if (this.model.source && props.value && app().database[this.model.source]) {\r\n      const directData = app()\r\n        .database[this.model.source].get({ id: this.props.value })\r\n        .then(({ data }) => {\r\n          if (!directData) self.loadVal(data);\r\n        });\r\n      if (directData) {\r\n        state = {\r\n          _id: directData._id,\r\n          text: directData[this.namefield]\r\n        };\r\n      }\r\n    }\r\n    this.state = state;\r\n  }\r\n  loadVal(data) {\r\n    this.setState({\r\n      _id: data._id,\r\n      text: data[this.namefield]\r\n    });\r\n  }\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (\r\n      this.model.source &&\r\n      this.props.value &&\r\n      app().database[this.model.source]\r\n    )\r\n      app()\r\n        .database[this.model.source].get({ id: nextProps.value })\r\n        .then(({ data }) => this.loadVal(data));\r\n  }\r\n  render() {\r\n    if (this.model.option instanceof Array)\r\n      return <div>{this.props.value}</div>;\r\n    return (\r\n      <div>\r\n        <Link href={`/view/${this.model.source}/${this.state._id}`}>\r\n          {this.state.text}\r\n        </Link>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default DropdownView;\r\n","import React from \"react\";\nimport { TextExposedField } from \"nystem-components\";\nlet EmailExposedField = props => <TextExposedField {...props} />;\nexport default EmailExposedField;\n","export default ({ value, model }) => {\r\n  if (model.mandatory && !value) return model.text_mandatory;\r\n  if (!value) return false;\r\n  if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,6}$/im.test(value))\r\n    return \"Incorrect e-mail adress\";\r\n  return false;\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { InputWrapper, Input, UseValidator } from \"nystem-components\";\r\nimport app from \"nystem\";\r\nimport validate from \"./validate\";\r\n\r\nconst EmailInput = ({ model, view, focus, setValue, value, className }) => {\r\n  const [error, setValidated] = UseValidator({ view, validate, value, model });\r\n  const { disabled, length, text, clearButton, classNameInput } = model;\r\n  const [id] = useState(app().uuid);\r\n\r\n  const componentClassName = [\r\n    className,\r\n    ...(model.className || []),\r\n    \"textInput\",\r\n  ];\r\n  if (clearButton) componentClassName.push(\"flex\");\r\n\r\n  return (\r\n    <InputWrapper\r\n      id={id}\r\n      model={model}\r\n      error={error}\r\n      className={componentClassName}\r\n    >\r\n      <Input\r\n        id={id}\r\n        placeholder={app().t(text)}\r\n        className={classNameInput}\r\n        value={value || \"\"}\r\n        maxLength={length}\r\n        onChange={(value) => setValue(value)}\r\n        disabled={disabled}\r\n        type=\"text\"\r\n        focus={focus}\r\n        onBlur={() => setValidated(true)}\r\n      />\r\n    </InputWrapper>\r\n  );\r\n};\r\nexport default EmailInput;\r\n","import React from \"react\";\r\nimport { InputWrapper, Input } from \"nystem-components\";\r\nimport app from \"nystem\";\r\nclass EmailInputNoValidation extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    const state = {\r\n      value: props.value\r\n    };\r\n    [\"handleChange\", \"valid\", \"validate\"].forEach(func => {\r\n      this[func] = this[func].bind(this);\r\n    });\r\n    if (props.add && this.model.default)\r\n      props.setValue(this.model.id, this.model.default);\r\n    if (state.value) this.valid(state.value);\r\n    this.validated = false;\r\n    this.state = state;\r\n  }\r\n  handleChange(value) {\r\n    if (this.validated) this.valid(value);\r\n    else this.setState({ value });\r\n    this.props.setValue(this.model.id, this.lowerCase(value));\r\n  }\r\n  lowerCase(val) {\r\n    if (!val) return \"\";\r\n    return val.toLowerCase();\r\n  }\r\n  valid(value) {\r\n    this.validated = true;\r\n    const setval = typeof value !== \"undefined\" ? { value: value } : {};\r\n    if (typeof value === \"undefined\") value = this.state.value;\r\n    if (this.model.mandatory && !value) setval.error = this.errormsg;\r\n    this.setState(setval);\r\n    return !setval.error;\r\n  }\r\n  validate() {\r\n    this.validated = true;\r\n    this.handleChange();\r\n  }\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (this.lowerCase(this.state.value) !== this.lowerCase(nextProps.value))\r\n      this.valid(nextProps.value);\r\n  }\r\n  render() {\r\n    return (\r\n      <InputWrapper model={this.model} error={this.state.error}>\r\n        <Input\r\n          placeholder={app().t(this.model.text)}\r\n          className=\"form-control\"\r\n          value={this.state.value || \"\"}\r\n          maxLength={this.model.length}\r\n          onChange={this.handleChange}\r\n          onBlur={() => this.validate}\r\n          type=\"text\"\r\n          disabled={this.model.disabled}\r\n        />\r\n      </InputWrapper>\r\n    );\r\n  }\r\n}\r\nexport default EmailInputNoValidation;\r\n","import React from \"react\";\r\nimport { TextLink } from \"nystem-components\";\r\n\r\nconst EmailLink = props => <TextLink {...props} />;\r\nexport default EmailLink;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst EmailMailto = ({ model, value, path }) => {\r\n  const { className, item } = model;\r\n\r\n  return (\r\n    <Wrapper renderAs=\"a\" href={`mailto:${value}`} className={className}>\r\n      <ContentTypeRender items={item} />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default EmailMailto;\r\n","import React from \"react\";\nimport { TextSortBy } from \"nystem-components\";\nlet EmailSortBy = props => <TextSortBy {...props} />;\nexport default EmailSortBy;\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { InputWrapper } from \"nystem-components\";\r\nclass EmailVerifiedInput extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    const state = {\r\n      value: props.value\r\n    };\r\n    if (props.add && this.model.default)\r\n      this.props.setValue(this.model.id, this.model.default);\r\n    this.errormsg = this.model.text_mandatory\r\n      ? this.model.text_mandatory\r\n      : true;\r\n    this.validated = false;\r\n    this.state = state;\r\n  }\r\n  handleChange() {\r\n    this.validated = true;\r\n    const value = this.refs.input.value;\r\n    this.setState({\r\n      value: value,\r\n      error: this.model.mandatory && !value ? this.errormsg : false\r\n    });\r\n    this.props.setValue(this.model.id, value);\r\n  }\r\n  valid() {\r\n    this.validated = true;\r\n    if (this.model.mandatory && !this.state.value) {\r\n      this.setState({\r\n        error: this.errormsg\r\n      });\r\n      return false;\r\n    }\r\n    if (this.test(this.state.value)) {\r\n      this.setState({\r\n        error: \"Incorrect e-mail adress\"\r\n      });\r\n      return false;\r\n    }\r\n    if (this.state.error) delete this.state.error;\r\n    return true;\r\n  }\r\n  test(value) {\r\n    return (\r\n      (this.validated && this.model.mandatory && !value) ||\r\n      !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,6}$/im.test(value)\r\n    );\r\n  }\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (this.props.value !== nextProps.value) {\r\n      const error = this.validated && this.model.mandatory && !nextProps.value;\r\n      this.setState({\r\n        value: nextProps.value,\r\n        error: error ? this.errormsg : false\r\n      });\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    if (this.props.focus) this.refs.input.focus();\r\n  }\r\n  render() {\r\n    return (\r\n      <InputWrapper model={this.model} error={this.state.error}>\r\n        <input\r\n          ref=\"input\"\r\n          placeholder={app().t(this.model.text)}\r\n          className=\"form-control\"\r\n          value={this.state.value}\r\n          maxLength={this.model.length}\r\n          onChange={this.handleChange}\r\n          type=\"text\"\r\n        />\r\n      </InputWrapper>\r\n    );\r\n  }\r\n}\r\nexport default EmailVerifiedInput;\r\n","import React from \"react\";\r\nimport { TextView } from \"nystem-components\";\r\n\r\nconst EmailView = props => <TextView {...props} />;\r\nexport default EmailView;\r\n","import React from \"react\";\r\nimport * as components from \"nystem-components\";\r\nimport app from \"nystem\";\r\nclass FlatgroupInput extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    if (!this.model.add2id) this.model.add2id = \"\";\r\n    this.state = {\r\n      value: props.value || {}\r\n    };\r\n  }\r\n  setValue(id, value) {\r\n    const val = this.state.value;\r\n    val[this.model.add2id + id] = value;\r\n    if (this.props.setValue) this.props.setValue(this.model.add2id + id, val);\r\n  }\r\n  valid() {\r\n    let valid = true;\r\n    for (let i = 0; i < this.model.item.length; i++)\r\n      if (!this.refs[\"component\" + i].valid()) valid = false;\r\n    return valid;\r\n  }\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (this.props.value !== nextProps.value)\r\n      this.setState({ value: nextProps.value });\r\n  }\r\n  render() {\r\n    const self = this;\r\n    let groupVal = false;\r\n    function getGroupVal() {\r\n      if (!groupVal) {\r\n        if (!self.model.add2id) return self.state.value;\r\n        groupVal = {};\r\n        for (const item in self.state.value) {\r\n          const startWith = new RegExp(\"^\" + self.model.add2id, \"i\");\r\n          if (startWith.test(item))\r\n            groupVal[item.replace(startWith, \"\")] = self.state.value[item];\r\n        }\r\n      }\r\n      return groupVal;\r\n    }\r\n    const createItem = function(item, index) {\r\n      const value = item.id\r\n        ? self.state.value[self.model.add2id + item.id]\r\n        : getGroupVal();\r\n      return React.createElement(\r\n        components[app().capFirst(item.type) + \"Input\"],\r\n        {\r\n          ref: \"component\" + index,\r\n          model: item,\r\n          value: value,\r\n          setValue: self.setValue,\r\n          validated: self.props.validated,\r\n          add: self.props.add\r\n        }\r\n      );\r\n    };\r\n    return (\r\n      <div>\r\n        <h3>{app().t(this.model.text)}</h3>\r\n        <div>{this.model.item.map(createItem)}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default FlatgroupInput;\r\n","import React from \"react\";\r\nimport { InputWrapper, IntInput } from \"nystem-components\";\r\nclass FloatExposedField extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    props.view.searchProp.onUpdate(this.update);\r\n    this.classNameBase = this.model.className ? this.model.className : [];\r\n    this.updateCounter = 0;\r\n  }\r\n  update(data) {\r\n    if (this.id) {\r\n      const state = {};\r\n      const modelId = this.model.id;\r\n\r\n      state.from = this.props.view.searchProp.filter.get(this.id + \"_from\");\r\n      if (state.from !== \"undefined\" && state.from[modelId])\r\n        state.from = state.from[modelId].substring(1);\r\n      else delete state.from;\r\n\r\n      state.to = this.props.view.searchProp.filter.get(this.id + \"_to\");\r\n      if (state.to !== \"undefined\" && state.to[modelId])\r\n        state.to = state.to[modelId].substring(1);\r\n      else delete state.to;\r\n      if (typeof state.from !== \"undefined\" || typeof state.to !== \"undefined\")\r\n        this.setState(state);\r\n    }\r\n    const self = this;\r\n    if (this.updateCounter > 0) this.updateCounter--;\r\n    if (this.state.className === \"\" || this.updateCounter > 0) return;\r\n    this.setState({\r\n      className: \"has-success\"\r\n    });\r\n    this.delayTimer = setTimeout(function() {\r\n      if (self.isMounted())\r\n        self.setState({\r\n          className: \"\"\r\n        });\r\n    }, 1000);\r\n  }\r\n  search(id, value) {\r\n    if (value === \"\") value = undefined;\r\n    const self = this;\r\n    clearTimeout(this.delayTimer);\r\n    const state = {\r\n      className: \"has-warning\"\r\n    };\r\n    state[id] = value;\r\n    this.setState(state);\r\n    this.delayTimer = setTimeout(function() {\r\n      self.updateCounter++;\r\n      if (value)\r\n        if (id === \"to\") value = \"<\" + value;\r\n        else value = \">\" + value;\r\n\r\n      self.props.view.searchProp.filter.add(\r\n        self.model.id,\r\n        value,\r\n        self.id + \"_\" + id\r\n      );\r\n    }, 200);\r\n  }\r\n  componentDidMount() {}\r\n  componentWillUnmount() {\r\n    this.props.view.searchProp.offUpdate(this.update);\r\n    clearTimeout(this.delayTimer);\r\n  }\r\n  render() {\r\n    /*const model = this.props.model;\r\n    const className = model.className && !this.props.wrapper\r\n      ? model.className.join(\" \")\r\n      : \"\";*/\r\n    const modelFrom = {\r\n      id: \"from\",\r\n      placeholder: \"From\",\r\n      clearButton: true\r\n    };\r\n    const modelTo = {\r\n      id: \"to\",\r\n      placeholder: \"To\",\r\n      clearButton: true\r\n    };\r\n    const style = {\r\n      width: \"100px\"\r\n    };\r\n    return (\r\n      <InputWrapper model={this.model} error={this.state.error}>\r\n        <div className=\"form-inline\">\r\n          <IntInput\r\n            style={style}\r\n            model={modelFrom}\r\n            value={this.state.from}\r\n            setValue={this.search}\r\n          />\r\n          {\" - \"}\r\n          <IntInput\r\n            style={style}\r\n            model={modelTo}\r\n            value={this.state.to}\r\n            setValue={this.search}\r\n          />\r\n        </div>\r\n      </InputWrapper>\r\n    );\r\n  }\r\n}\r\nexport default FloatExposedField;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { InputWrapper, Input } from \"nystem-components\";\r\nclass FloatInput extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    const state = {\r\n      value: this.props.value\r\n    };\r\n    [\"handleChange\", \"valid\"].forEach(func => {\r\n      this[func] = this[func].bind(this);\r\n    });\r\n    const parts = this.model.id.split(\".\");\r\n    this.id = this.props.path\r\n      ? this.props.path + \".\" + parts[parts.length - 1]\r\n      : parts[0];\r\n    if (props.add && this.model.default)\r\n      props.setValue(this.id, this.model.default);\r\n    this.state = state;\r\n  }\r\n  handleChange(value) {\r\n    const val = value.replace(/[^0-9.]/gim, \"\");\r\n    this.setState({\r\n      value: val,\r\n      error: this.model.mandatory && !val ? this.errormsg : false\r\n    });\r\n    this.props.setValue(this.id, val);\r\n  }\r\n  valid() {\r\n    if (this.model.mandatory && !this.state.value) {\r\n      this.setState({\r\n        error: this.model.text_mandatory ? this.model.text_mandatory : true\r\n      });\r\n      return false;\r\n    }\r\n    if (this.state.error) delete this.state.error;\r\n    return true;\r\n  }\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    this.setState({\r\n      value: nextProps.value\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <InputWrapper model={this.model} error={this.state.error}>\r\n        <Input\r\n          placeholder={app().t(this.model.text)}\r\n          className=\"form-control\"\r\n          value={this.state.value || \"\"}\r\n          maxLength={this.model.length}\r\n          onChange={this.handleChange}\r\n          disabled={this.model.disabled}\r\n          type=\"text\"\r\n          focus={this.props.focus}\r\n        />\r\n      </InputWrapper>\r\n    );\r\n  }\r\n}\r\nexport default FloatInput;\r\n","import React from \"react\";\nimport { TextLink } from \"nystem-components\";\nlet IntLink = props => <TextLink {...props} />;\nexport default IntLink;\n","import React from \"react\";\nimport { TextSortBy } from \"nystem-components\";\nlet IntSortBy = props => <TextSortBy {...props} />;\nexport default IntSortBy;\n","import React from \"react\";\r\nimport { TextView } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nfunction outputFloat({ value, model }) {\r\n  if (!value || !model || !model.tofixed) return value;\r\n  value = parseFloat(value).toFixed(model.tofixed);\r\n  return app().settings.lang === \"sv\" ? value.replace(\".\", \",\") : value;\r\n}\r\n\r\nlet FloatView = props => <TextView {...props} value={outputFloat(props)} />;\r\nexport default FloatView;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Panel, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst GroupInput = ({ model, path }) => {\r\n  const { text, item } = model;\r\n  return (\r\n    <Panel\r\n      type=\"default\"\r\n      expanded={true}\r\n      header={app().t(text)}\r\n      body={<ContentTypeRender path={path} items={item} />}\r\n    />\r\n  );\r\n};\r\nexport default GroupInput;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst GroupView = ({ model, path }) => (\r\n  <Wrapper className={model.className}>\r\n    <ContentTypeRender items={model.item} path={path} />\r\n  </Wrapper>\r\n);\r\nexport default GroupView;\r\n","import React from \"react\";\r\nimport { InputWrapper, IntInput } from \"nystem-components\";\r\nclass IntExposedField extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    props.view.searchProp.onUpdate(this.update);\r\n    this.classNameBase = this.model.className ? this.model.className : [];\r\n    this.updateCounter = 0;\r\n  }\r\n  update(data) {\r\n    if (this.id) {\r\n      const state = {};\r\n      const modelId = this.model.id;\r\n\r\n      state.from = this.props.view.searchProp.filter.get(this.id + \"_from\");\r\n      if (state.from !== \"undefined\" && state.from[modelId])\r\n        state.from = state.from[modelId].substring(1);\r\n      else delete state.from;\r\n\r\n      state.to = this.props.view.searchProp.filter.get(this.id + \"_to\");\r\n      if (state.to !== \"undefined\" && state.to[modelId])\r\n        state.to = state.to[modelId].substring(1);\r\n      else delete state.to;\r\n      if (typeof state.from !== \"undefined\" || typeof state.to !== \"undefined\")\r\n        this.setState(state);\r\n    }\r\n    const self = this;\r\n    if (this.updateCounter > 0) this.updateCounter--;\r\n    if (this.state.className === \"\" || this.updateCounter > 0) return;\r\n    this.setState({\r\n      className: \"has-success\"\r\n    });\r\n    this.delayTimer = setTimeout(function() {\r\n      if (self.isMounted())\r\n        self.setState({\r\n          className: \"\"\r\n        });\r\n    }, 1000);\r\n  }\r\n  search(id, value) {\r\n    if (value === \"\") value = undefined;\r\n    const self = this;\r\n    clearTimeout(this.delayTimer);\r\n    const state = {\r\n      className: \"has-warning\"\r\n    };\r\n    state[id] = value;\r\n    this.setState(state);\r\n    this.delayTimer = setTimeout(function() {\r\n      self.updateCounter++;\r\n      if (value)\r\n        if (id === \"to\") value = \"<\" + value;\r\n        else value = \">\" + value;\r\n\r\n      self.props.view.searchProp.filter.add(\r\n        self.model.id,\r\n        value,\r\n        self.id + \"_\" + id\r\n      );\r\n    }, 200);\r\n  }\r\n  componentDidMount() {}\r\n  componentWillUnmount() {\r\n    this.props.view.searchProp.offUpdate(this.update);\r\n    clearTimeout(this.delayTimer);\r\n  }\r\n  render() {\r\n    /*const model = this.props.model;\r\n    const className = model.className && !this.props.wrapper\r\n      ? model.className.join(\" \")\r\n      : \"\";*/\r\n    const modelFrom = {\r\n      id: \"from\",\r\n      placeholder: \"From\",\r\n      clearButton: true\r\n    };\r\n    const modelTo = {\r\n      id: \"to\",\r\n      placeholder: \"To\",\r\n      clearButton: true\r\n    };\r\n    const style = {\r\n      width: \"100px\"\r\n    };\r\n    return (\r\n      <InputWrapper model={this.model} error={this.state.error}>\r\n        <div className=\"form-inline\">\r\n          <IntInput\r\n            style={style}\r\n            model={modelFrom}\r\n            value={this.state.from}\r\n            setValue={this.search}\r\n          />\r\n          {\" - \"}\r\n          <IntInput\r\n            style={style}\r\n            model={modelTo}\r\n            value={this.state.to}\r\n            setValue={this.search}\r\n          />\r\n        </div>\r\n      </InputWrapper>\r\n    );\r\n  }\r\n}\r\nexport default IntExposedField;\r\n","export default ({ value, model }) =>\r\n  model.mandatory && !value && model.text_mandatory;\r\n","import React from \"react\";\r\nimport { InputWrapper, Input, UseValidator } from \"nystem-components\";\r\nimport app from \"nystem\";\r\nimport validate from \"./validate\";\r\n\r\nconst IntInput = ({ model, view, focus, setValue, value, className }) => {\r\n  const [error, setValidated] = UseValidator({ view, validate, value, model });\r\n  const { disabled, length, text, clearButton } = model;\r\n\r\n  const componentClassName = [\r\n    className,\r\n    ...(model.className || []),\r\n    \"textInput\"\r\n  ];\r\n  if (clearButton) componentClassName.push(\"flex\");\r\n\r\n  const inputClassName = [\"textInputDefault\"];\r\n  if (error) inputClassName.push(\"textInputError\");\r\n\r\n  return (\r\n    <InputWrapper\r\n      model={{ ...model, classNameInput: \"flex\", classNameLabel: \" \" }}\r\n      error={error}\r\n      className={componentClassName}\r\n    >\r\n      <Input\r\n        placeholder={app().t(text)}\r\n        className={inputClassName}\r\n        value={value || \"\"}\r\n        maxLength={length}\r\n        onChange={value => setValue(value.replace(/[^0-9]/gim, \"\"))}\r\n        disabled={disabled}\r\n        type=\"text\"\r\n        focus={focus}\r\n        onBlur={() => setValidated(true)}\r\n      />\r\n    </InputWrapper>\r\n  );\r\n};\r\nexport default IntInput;\r\n","import React from \"react\";\nimport { TextLink } from \"nystem-components\";\nlet IntLink = props => <TextLink {...props} />;\nexport default IntLink;\n","import React from \"react\";\r\nimport { TextSortBy } from \"nystem-components\";\r\n\r\nconst IntSortBy = props => <TextSortBy {...props} />;\r\nexport default IntSortBy;\r\n","import React from \"react\";\nimport { TextView } from \"nystem-components\";\nlet IntView = props => <TextView {...props} />;\nexport default IntView;\n","import React from \"react\";\r\nimport { InputWrapper, Input } from \"nystem-components\";\r\n\r\nconst MatrixInput = ({ value, model, setValue }) => {\r\n  const { limit = 0, rowLabel } = model;\r\n\r\n  value = value || [];\r\n  if (!limit || value.length < limit) value = [...value, []];\r\n\r\n  const handleChange = (atRow, index, newVal) => {\r\n    const len = value.length;\r\n    const val = value.slice(0, atRow === len - 1 ? len : len - 1);\r\n\r\n    val[atRow][index] = newVal;\r\n\r\n    if (val[len - 2] && !val[len - 2][0]) setValue(val.slice(0, len - 2));\r\n    else setValue(val);\r\n  };\r\n\r\n  const mapHeader = (item, index) => <th key={index}>{item}</th>;\r\n\r\n  const mapField = (label, atRow, index) => {\r\n    const val = value[atRow][index] ? value[atRow][index] : \"\";\r\n    return (\r\n      <td key={index}>\r\n        <Input\r\n          placeholder={label}\r\n          className=\"form-control\"\r\n          value={val}\r\n          maxLength={model.length}\r\n          onChange={(val) => handleChange(atRow, index, val)}\r\n          type=\"text\"\r\n        />\r\n      </td>\r\n    );\r\n  };\r\n\r\n  const mapRow = (item, rowIndex) => (\r\n    <tr key={rowIndex}>\r\n      {model.rowLabel.map((label, index) => mapField(label, rowIndex, index))}\r\n    </tr>\r\n  );\r\n\r\n  return (\r\n    <InputWrapper model={model}>\r\n      <table>\r\n        <thead>\r\n          <tr>{rowLabel.map(mapHeader)}</tr>\r\n        </thead>\r\n        <tbody>{value.map(mapRow)}</tbody>\r\n      </table>\r\n    </InputWrapper>\r\n  );\r\n};\r\nexport default MatrixInput;\r\n","import React from \"react\";\r\n\r\nclass MatrixInputlist extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    let val = props.value || [];\r\n    if (!(val instanceof Array)) val = [val];\r\n    if (val.length > props.limit) this.state = { value: val.concat([]) };\r\n    else this.state = { value: val.concat([\"\"]) };\r\n  }\r\n  handleChange() {\r\n    const val = [];\r\n    for (let i = 0; i < this.state.value.length; i++) {\r\n      const oneVal = this.refs[`input${i}`].value;\r\n      if (oneVal) val.push(oneVal);\r\n    }\r\n    if (this.props.setValue) this.props.setValue(val);\r\n\r\n    this.setState({\r\n      value: val.length > this.props.limit ? val.concat([\"\"]) : val.concat([])\r\n    });\r\n  }\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (this.props.value !== nextProps.value) {\r\n      let val = nextProps.value;\r\n      if (typeof nextProps.value === \"string\") val = [nextProps.value];\r\n      this.setState({ value: val.concat([\"\"]) });\r\n    }\r\n  }\r\n  render() {\r\n    const self = this;\r\n    const inputKeyField = function(item, index) {\r\n      return (\r\n        <input\r\n          ref={`inputKey${index}`}\r\n          className=\"form-control\"\r\n          value={item}\r\n          onChange={self.handleKeyChange}\r\n          type=\"text\"\r\n        />\r\n      );\r\n    };\r\n    const inputValueField = function(item, index) {\r\n      return (\r\n        <input\r\n          ref={`inputValue${index}`}\r\n          className=\"form-control\"\r\n          value={item}\r\n          onChange={self.handleChange}\r\n          type=\"text\"\r\n        />\r\n      );\r\n    };\r\n    return (\r\n      <div>\r\n        <div className=\"col-sm-3\">{this.state.value.map(inputKeyField)}</div>\r\n        <div className=\"col-sm-3\">{this.state.value.map(inputValueField)}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default MatrixInputlist;\r\n","import React, { useState } from \"react\";\r\nimport app from \"nystem\";\r\nimport {\r\n  Panel,\r\n  MultigroupOneInput,\r\n  Button,\r\n  BootstrapPanelToggle,\r\n  Wrapper,\r\n} from \"nystem-components\";\r\n\r\nconst MultigroupInput = ({ value, setValue, model, path, view }) => {\r\n  const [ids, setIds] = useState({});\r\n  value = value || [];\r\n\r\n  const addItem = () => {\r\n    value.push({});\r\n    setValue(value);\r\n  };\r\n\r\n  const createItem = function (item, index) {\r\n    const id = ids[index] || app().utils.uuid();\r\n    if (!ids[index]) setIds({ ...ids, [index]: id });\r\n\r\n    return React.createElement(MultigroupOneInput, {\r\n      key: id,\r\n      model,\r\n      value,\r\n      setValue,\r\n      expanded: model.itemExpanded,\r\n      last: index === value.length - 1,\r\n      view,\r\n      path: `${path}.${index}`,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Panel\r\n      type=\"default\"\r\n      expandable={model.expandable}\r\n      expanded={model.expanded}\r\n      icon={model.expandable}\r\n      header={\r\n        <Wrapper className=\"flex items-center\">\r\n          <BootstrapPanelToggle\r\n            model={{\r\n              ...model,\r\n              icon: true,\r\n              className: \"flex items-center\",\r\n              item: [],\r\n            }}\r\n          >\r\n            {model.text}\r\n          </BootstrapPanelToggle>\r\n          <Button\r\n            onClick={addItem}\r\n            type=\"primary\"\r\n            size=\"xs\"\r\n            className=\"ml-auto\"\r\n          >\r\n            Add\r\n          </Button>\r\n        </Wrapper>\r\n      }\r\n      body={value.map(createItem)}\r\n    />\r\n  );\r\n};\r\nexport default MultigroupInput;\r\n","import React from \"react\";\r\nimport {\r\n  Panel,\r\n  ContentTypeRender,\r\n  BootstrapPanelToggle,\r\n  Button,\r\n  Wrapper,\r\n} from \"nystem-components\";\r\n\r\nconst MultigroupOneInput = ({ value, model, view, path, setValue }) => {\r\n  let text = view.getValue(`${path}.${model.field}`);\r\n\r\n  if (text instanceof Array) text = text.join(\" \");\r\n\r\n  const onClose = (id) => {\r\n    value.splice(id, 1);\r\n    setValue(value);\r\n  };\r\n\r\n  if (model.info && value[model.info]) text += ` (${value[model.info]})`;\r\n\r\n  return (\r\n    <Panel\r\n      type=\"default\"\r\n      expanded={model.itemExpanded}\r\n      expandable={model.itemExpandable}\r\n      icon={model.itemExpandable}\r\n      header={\r\n        <Wrapper className=\"flex items-center\">\r\n          <BootstrapPanelToggle\r\n            model={{\r\n              ...model,\r\n              item: undefined,\r\n              icon: true,\r\n              className: \"flex items-center\",\r\n            }}\r\n          >\r\n            {text || \"Item\"}\r\n          </BootstrapPanelToggle>\r\n          <Button\r\n            onClick={onClose}\r\n            type=\"primary\"\r\n            className=\"ml-auto\"\r\n            size=\"xs\"\r\n          >\r\n            Remove\r\n          </Button>\r\n        </Wrapper>\r\n      }\r\n      body={<ContentTypeRender path={path} items={model.item} />}\r\n    />\r\n  );\r\n};\r\nexport default MultigroupOneInput;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst MultigroupOneView = ({ model, path }) => {\r\n  const className = model.rowClassName ? model.rowClassName.join(\" \") : \"\";\r\n\r\n  return (\r\n    <Wrapper className={className}>\r\n      <ContentTypeRender items={model.items} path={path} />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default MultigroupOneView;\r\n","import React from \"react\";\r\n\r\nclass MultigroupSortBy extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.props.view.searchProp.onUpdate(this.update);\r\n    return {\r\n      isSortBy: props.view.searchProp.isSortBy\r\n        ? props.view.searchProp.isSortBy(this.model.id)\r\n        : false\r\n    };\r\n  }\r\n  update(data) {\r\n    const isSortBy = this.props.view.searchProp.isSortBy(this.model.id);\r\n    if (isSortBy !== this.state.isSortBy)\r\n      this.setState({\r\n        isSortBy: isSortBy\r\n      });\r\n  }\r\n  handleSort(event) {\r\n    let href = event.target.getAttribute(\"href\");\r\n    if (!href && event.target)\r\n      href = event.target.parentNode.getAttribute(\"href\");\r\n    this.props.view.searchProp.sortBy(href);\r\n    return false;\r\n  }\r\n  componentWillUnmount() {\r\n    this.props.view.searchProp.offUpdate(this.update);\r\n  }\r\n  render() {\r\n    const { model } = this;\r\n    const className = model.className ? model.className.join(\" \") : \"\";\r\n    if (this.state.isSortBy)\r\n      return (\r\n        <div className={className}>\r\n          {model.text} <span className={`fa fa-arrow-${this.state.isSortBy}`} />\r\n        </div>\r\n      );\r\n    return <div className={className}>{model.text}</div>;\r\n  }\r\n}\r\nexport default MultigroupSortBy;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { MultigroupOneView, Wrapper } from \"nystem-components\";\r\n\r\nclass MultigroupView extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    const state = {\r\n      value: props.value\r\n    };\r\n    this.ids = [];\r\n    this.path = props.path ? `${props.path}.${this.model.id}` : this.model.id;\r\n    this.state = state;\r\n\r\n    [\"setValue\", \"addItem\", \"onClose\", \"valid\"].forEach(func => {\r\n      this[func] = this[func].bind(this);\r\n    });\r\n    props.view.on(\"multigroupDelete\", this.onClose);\r\n  }\r\n  setValue(id, val) {\r\n    let { value } = this.props;\r\n    if (!value) value = [];\r\n    value[id] = val;\r\n    if (this.props.setValue) this.props.setValue(this.model.id, value);\r\n  }\r\n  valid() {\r\n    let valid = true;\r\n    for (let i = 0; i < this.model.item.length; i++)\r\n      if (this.refs[`component${i}`] && !this.refs[`component${i}`].valid())\r\n        valid = false;\r\n    return valid;\r\n  }\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (this.props.value !== nextProps.value)\r\n      this.setState({ value: nextProps.value });\r\n  }\r\n  addItem() {\r\n    const value = this.props.value || [];\r\n    value.push({});\r\n    this.props.setValue(this.model.id, value);\r\n  }\r\n  onClose(id) {\r\n    if (typeof id === \"object\") {\r\n      const path = id.path.split(\".\");\r\n      id = parseInt(path[path.length - 1], 10);\r\n    }\r\n    const value = this.props.value || [];\r\n    value.splice(id, 1);\r\n    this.ids.splice(id, 1);\r\n    this.props.setValue(this.model.id, value);\r\n  }\r\n  componentWillUnmount() {\r\n    this.props.view.off(\"multigroupDelete\", this.onClose);\r\n  }\r\n  render() {\r\n    const self = this;\r\n    const createItem = function(item, index) {\r\n      if (!self.ids[index]) self.ids[index] = app().utils.uuid();\r\n      return React.createElement(MultigroupOneView, {\r\n        key: self.ids[index],\r\n        ref: `component${index}`,\r\n        id: index,\r\n        model: self.model,\r\n        value: item,\r\n        setValue: self.setValue,\r\n        add: self.props.add,\r\n        expanded: self.model.itemExpanded,\r\n        onClose: self.onClose,\r\n        last: index === value.length - 1,\r\n        view: self.props.view,\r\n        path: self.path\r\n      });\r\n    };\r\n    const value = this.props.value || [];\r\n    return <Wrapper>{value.map(createItem)}</Wrapper>;\r\n  }\r\n}\r\nexport default MultigroupView;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst MultilinetextFields = ({ value, model, path }) => {\r\n  if (!value) return null;\r\n  const { limit, item, className } = model;\r\n\r\n  value = value instanceof Array ? value : [value];\r\n  if (limit) value = value.slice(0, limit);\r\n\r\n  return (\r\n    <Wrapper>\r\n      {value.map((val, index) => (\r\n        <Wrapper key={index} className={className}>\r\n          <a href={`http://${val}`} rel=\"noopener noreferrer\" target=\"_blank\">\r\n            <ContentTypeRender path={path} items={item} />\r\n          </a>\r\n        </Wrapper>\r\n      ))}\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default MultilinetextFields;\r\n","const text_mandatory = \"Field is mandatory\";\r\n\r\nexport default ({ value, model }) =>\r\n  model.mandatory &&\r\n  !value &&\r\n  !value.length &&\r\n  (model.text_mandatory || text_mandatory);\r\n","import React from \"react\";\r\nimport { Input, InputWrapper, UseValidator } from \"nystem-components\";\r\nimport validate from \"./validate\";\r\n\r\nconst MultilinetextInput = ({ model, value, setValue, focus, view }) => {\r\n  const [error, setValidated] = UseValidator({ view, validate, value, model });\r\n  value = value instanceof Array ? value : value ? [value] : [];\r\n\r\n  value = value.filter(value => value !== \"\");\r\n  value.push(\"\");\r\n\r\n  const onChange = (itemValue, index) => {\r\n    value[index] = itemValue;\r\n    setValidated(true);\r\n    setValue(value);\r\n  };\r\n\r\n  return (\r\n    <InputWrapper model={model} error={error}>\r\n      {value.map((value, index) => (\r\n        <div key={index}>\r\n          <Input\r\n            className=\"textInputDefault\"\r\n            value={value}\r\n            onChange={value => onChange(value, index)}\r\n          />\r\n        </div>\r\n      ))}\r\n    </InputWrapper>\r\n  );\r\n};\r\n\r\nexport default MultilinetextInput;\r\n","import React from \"react\";\r\n\r\nclass MultilinetextInputlist extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    let val = props.value || [];\r\n    if (!(val instanceof Array)) val = [val];\r\n    if (props.limit && val.length > props.limit)\r\n      return { value: val.concat([]) };\r\n    return { value: val.concat([\"\"]) };\r\n  }\r\n  handleChange() {\r\n    const val = [];\r\n    for (let i = 0; i < this.state.value.length; i++) {\r\n      const oneVal = this.refs[`input${i}`].value;\r\n      if (oneVal) val.push(oneVal);\r\n    }\r\n    if (this.props.setValue) this.props.setValue(val);\r\n    if (val.length > this.props.limit)\r\n      this.setState({\r\n        value: val.concat([])\r\n      });\r\n    else\r\n      this.setState({\r\n        value: val.concat([\"\"])\r\n      });\r\n  }\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (this.props.value !== nextProps.value) {\r\n      let val = nextProps.value;\r\n      if (typeof nextProps.value === \"string\") val = [nextProps.value];\r\n      if (this.props.limit && val.length > this.props.limit)\r\n        this.setState({ value: val.concat([]) });\r\n      else this.setState({ value: val.concat([\"\"]) });\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    if (this.props.focus)\r\n      this.refs[`input${this.state.value.length - 1}`].focus();\r\n  }\r\n  render() {\r\n    const self = this;\r\n    function inputField(item, index) {\r\n      return (\r\n        <input\r\n          key={`input${index}`}\r\n          ref={`input${index}`}\r\n          className=\"form-control\"\r\n          value={item}\r\n          onChange={self.handleChange}\r\n          type=\"text\"\r\n        />\r\n      );\r\n    }\r\n    return <div>{this.state.value.map(inputField)}</div>;\r\n  }\r\n}\r\nexport default MultilinetextInputlist;\r\n","import React from \"react\";\r\n\r\nclass MultilinetextList extends React.Component {\r\n  render() {\r\n    let { value } = this.props;\r\n    const createItem = function(item, index) {\r\n      const add = value.length !== index + 1 ? \", \" : \"\";\r\n      return (\r\n        <span key={index}>\r\n          <a href={`http://${item}`} rel=\"noopener noreferrer\" target=\"_blank\">\r\n            {item}\r\n          </a>\r\n          {add}\r\n        </span>\r\n      );\r\n    };\r\n    if (!value) return null;\r\n    if (!(value instanceof Array)) value = [value];\r\n    const { model } = this.props;\r\n    const className =\r\n      model.className && !this.props.wrapper ? model.className.join(\" \") : \"\";\r\n    if (value.length > 2)\r\n      return (\r\n        <div className={className.replace(\"btn\", \"\")}>\r\n          {value.map(createItem)}\r\n        </div>\r\n      );\r\n    return <div className={className}>{value.map(createItem)}</div>;\r\n  }\r\n}\r\nexport default MultilinetextList;\r\n","import React from \"react\";\r\n\r\nconst MultilinetextView = ({ value }) => {\r\n  if (!value) return null;\r\n\r\n  value = value instanceof Array ? value : [value];\r\n\r\n  return (\r\n    <div>\r\n      {value.map((item, index) => (\r\n        <div key={index}>\r\n          <a href={`http://${item}`} rel=\"noopener noreferrer\" target=\"_blank\">\r\n            {item}\r\n          </a>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\nexport default MultilinetextView;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { InputWrapper } from \"nystem-components\";\r\n\r\nclass ReferenceDropdown extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const self = this;\r\n    this.model = props.model;\r\n    const state = {\r\n      value: props.value,\r\n      option: []\r\n    };\r\n    this.namefield = this.model.namefield ? this.model.namefield : \"name\";\r\n    if (this.model.default && !state.value)\r\n      self.props.setValue(this.model.default);\r\n\r\n    state.option = [];\r\n\r\n    this.state = state;\r\n  }\r\n  handleChange = () => {\r\n    const { value } = this.refs.input;\r\n    this.props.setValue(value);\r\n  };\r\n  valid = () => {\r\n    if (this.model.mandatory && !this.state.value) {\r\n      this.setState({\r\n        error: this.model.text_mandatory ? this.model.text_mandatory : true\r\n      });\r\n      return false;\r\n    }\r\n    if (this.state.error) delete this.state.error;\r\n    return true;\r\n  };\r\n  loadOption = () => {\r\n    const { model, getValue, path } = this.props;\r\n    app()\r\n      .database[model.source].search({\r\n        autoUpdate: true,\r\n        filter: app().parseFilter(model.filter, getValue, path),\r\n        count: 100\r\n      })\r\n      .then(({ data, offline }) => {\r\n        if (offline) {\r\n          app().connection.on(\"connect\", this.loadOption);\r\n          app().connection.on(\"connect\", this.loadOption);\r\n        } else app().connection.off(\"connect\", this.loadOption);\r\n\r\n        this.setState({ option: data });\r\n      });\r\n  };\r\n  componentDidMount() {\r\n    this.loadOption();\r\n  }\r\n  componentWillUnmount() {\r\n    app().connection.off(\"connect\", this.loadOption);\r\n  }\r\n  render() {\r\n    const self = this;\r\n    let { value } = this.props;\r\n    if (!value) value = [];\r\n    if (!(value instanceof Array)) value = [value];\r\n\r\n    const optionData = this.state.option || [];\r\n\r\n    function option(item, index) {\r\n      if (!item) return null;\r\n      return (\r\n        <option key={item._id || index} value={item._id}>\r\n          {item[self.namefield]}\r\n        </option>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <InputWrapper model={this.model} error={this.state.error}>\r\n        <select\r\n          className=\"block sm:w-1/2 w-full bg-grey-lighter text-grey-darker border border-grey-lighter rounded py-2 px-3\"\r\n          onChange={this.handleChange}\r\n          value={value[0]}\r\n          ref=\"input\"\r\n        >\r\n          <option key=\"_\" id=\"\" value=\"\">\r\n            -- select --\r\n          </option>\r\n          {optionData.map(option)}\r\n        </select>\r\n      </InputWrapper>\r\n    );\r\n  }\r\n}\r\nexport default ReferenceDropdown;\r\n// 57 40 35\r\n","import React from \"react\";\r\nimport { ContentTypeView, InputWrapper } from \"nystem-components\";\r\nclass ReferenceDropdownFromField extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const model = props.model;\r\n    const view = props.view;\r\n    document.addEventListener(\"click\", this.mouseUp, false);\r\n    const state = {\r\n      value: props.value,\r\n      option: view.baseView.value[model.fromField],\r\n      open: false,\r\n      error: false,\r\n    };\r\n    this.state = state;\r\n  }\r\n  mouseUp(event) {\r\n    if (!this.inside)\r\n      this.setState({\r\n        open: false,\r\n      });\r\n    this.inside = false;\r\n  }\r\n  handleChange(id) {\r\n    this.inside = true;\r\n    const val = this.state.value;\r\n    const model = this.props.model;\r\n    if (val === id || typeof id !== \"string\")\r\n      this.setState({\r\n        open: !this.state.open,\r\n      });\r\n    else {\r\n      this.props.setValue(model.id, id);\r\n      this.setState({\r\n        open: !this.state.open,\r\n      });\r\n    }\r\n  }\r\n  valid() {\r\n    if (this.model.mandatory && !this.state.value) {\r\n      this.setState({\r\n        error: this.model.text_mandatory ? this.model.text_mandatory : true,\r\n      });\r\n      return false;\r\n    }\r\n    if (this.state.error) delete this.state.error;\r\n    return true;\r\n  }\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    const model = this.props.model;\r\n    if (this.props.value !== nextProps.value) {\r\n      const error = this.validated && model.mandatory && !nextProps.value;\r\n      this.setState({\r\n        value: nextProps.value,\r\n        error: error ? this.errormsg : false,\r\n      });\r\n    }\r\n  }\r\n  componentWillUnmount() {\r\n    document.removeEventListener(\"click\", this.mouseUp, false);\r\n  }\r\n  render() {\r\n    const self = this;\r\n    const model = this.props.model;\r\n\r\n    const value = this.state.value;\r\n\r\n    function option(item, index) {\r\n      if (index !== -1 && item === value) return null;\r\n      function handleClick() {\r\n        self.handleChange(item);\r\n      }\r\n\r\n      return (\r\n        <div key={item} className=\"item\" onClick={handleClick}>\r\n          <ContentTypeView\r\n            contentType={model.source}\r\n            format={model.view}\r\n            id={item}\r\n            baseView={self.props.view}\r\n          />\r\n        </div>\r\n      );\r\n    }\r\n\r\n    let selected;\r\n    if (value) selected = option(value, -1);\r\n    else\r\n      selected = (\r\n        <div onClick={this.handleChange}>\r\n          {\" \"}\r\n          -- select -- <span className=\"fa fa-triangle-bottom\" />\r\n        </div>\r\n      );\r\n\r\n    let openView = null;\r\n    if (this.state.open)\r\n      openView = (\r\n        <div className=\"form-control dropdown-open\">\r\n          {this.state.option.map(option)}\r\n        </div>\r\n      );\r\n\r\n    return (\r\n      <InputWrapper model={model} error={this.state.error}>\r\n        <div className=\"form-control dropdown\">{selected}</div>\r\n        {openView}\r\n      </InputWrapper>\r\n    );\r\n  }\r\n}\r\nexport default ReferenceDropdownFromField;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { SelectExposedField } from \"nystem-components\";\r\n\r\nclass ReferenceExposedField extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.state = {\r\n      value: props.value,\r\n      option: []\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    app()\r\n      .database[this.model.source].search({\r\n        autoUpdate: true,\r\n        filter: app().parseFilter(\r\n          this.model.filter,\r\n          this.props.getValue,\r\n          this.props.path\r\n        ),\r\n        count: 100\r\n      })\r\n      .then(({ data: option }) => this.setState({ option }));\r\n  }\r\n\r\n  render() {\r\n    const model = app().utils.clone(this.props.model);\r\n    delete model.source;\r\n\r\n    model.option = this.state.option.map(item => ({\r\n      ...item,\r\n      text: item[model.textField || \"name\"]\r\n    }));\r\n    if (!this.state.option || this.state.option.length === 0) return null;\r\n    return <SelectExposedField model={model} view={this.props.view} />;\r\n  }\r\n}\r\nexport default ReferenceExposedField;\r\n","import React from \"react\";\r\nimport { ContentTypeView, InputWrapper, Wrapper } from \"nystem-components\";\r\n\r\nconst ReferenceFirst = ({ model, view, value = [] }) => {\r\n  value = value instanceof Array ? value[0] : value;\r\n  const { renderFormat, className, source, itemClassName } = model;\r\n\r\n  const option = (item, index) => (\r\n    <ContentTypeView\r\n      key={item}\r\n      contentType={source}\r\n      baseView={view}\r\n      format={renderFormat || \"view\"}\r\n      id={item}\r\n      params={view.params}\r\n      className={itemClassName}\r\n      onReference={(item) => view.event(item.event, { ...item, model })}\r\n    />\r\n  );\r\n\r\n  if (model.wrapper)\r\n    return <InputWrapper model={model}>{option(value)}</InputWrapper>;\r\n\r\n  return <Wrapper className={className}>{option(value)}</Wrapper>;\r\n};\r\nexport default ReferenceFirst;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport app from \"nystem\";\r\nimport {\r\n  InputWrapper,\r\n  ReferenceView,\r\n  Wrapper,\r\n  ReferenceSortable,\r\n  Button,\r\n  ViewInViewView,\r\n} from \"nystem-components\";\r\n\r\nconst useSearch = ({ contentType, searchVal, sortby } = {}) => {\r\n  const [result, setResult] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (!contentType) return;\r\n\r\n    const db = app().database[contentType];\r\n    db.search({\r\n      filter: searchVal && { $all: searchVal },\r\n      count: 100,\r\n      data: undefined,\r\n      sortby,\r\n    }).then(({ data }) => setResult(data || []));\r\n  }, [setResult, contentType, searchVal, sortby]);\r\n\r\n  return { result };\r\n};\r\n\r\nconst Input = ({ selectAllOnFocus, focus, onBlur, onFocus, ...props }) => {\r\n  const inputEl = useRef(null);\r\n  const [inFocus, setInFocus] = useState(false);\r\n  useEffect(() => {\r\n    if (!focus || inFocus) return;\r\n    inputEl.current.focus();\r\n  }, [focus, inFocus, onBlur]);\r\n\r\n  let { className } = props;\r\n  className = className instanceof Array ? className.join(\" \") : className;\r\n\r\n  return (\r\n    <input\r\n      ref={inputEl}\r\n      {...props}\r\n      className={`appearance-none block bg-grey-lighter text-grey-darker border border-grey-lighter rounded py-2 px-3 ${\r\n        className || \"sm:w-1/2 w-full\"\r\n      }`}\r\n      onChange={(e) => props.onChange(e.target.value)}\r\n      onFocus={(ev) => {\r\n        if (selectAllOnFocus) inputEl.current.select();\r\n        setInFocus(true);\r\n        if (onFocus) onFocus();\r\n      }}\r\n      onBlur={() => {\r\n        setInFocus(false);\r\n        onBlur();\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nconst InlineAdd = ({ model, view }) => {\r\n  const [isAdding, setIsAdding] = useState(false);\r\n  if (!model.inlineAdd) return null;\r\n  if (!isAdding)\r\n    return (\r\n      <Button\r\n        onClick={() => setIsAdding(true)}\r\n        size=\"sm\"\r\n        className=\"mb-1 float-right\"\r\n      >\r\n        Create new\r\n      </Button>\r\n    );\r\n  return (\r\n    <ViewInViewView\r\n      model={{ contentType: model.source, view: model.inlineAdd }}\r\n      onSave={({ _id }) => {\r\n        view.event(\"referenceAdd\", { model, value: { _id }, close: true });\r\n        setIsAdding(false);\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nconst ReferenceInput = ({ model, view, value = [], setValue }) => {\r\n  const { source } = model;\r\n  const [inFocus, setInFocus] = useState(false);\r\n  const [searchVal, setSearchVal] = useState(\"\");\r\n  const { result } =\r\n    useSearch({ contentType: source, searchVal, sortby: model.sortby }) || {};\r\n\r\n  value = value instanceof Array ? value : [value];\r\n  const error = undefined;\r\n\r\n  useEffect(() => {\r\n    const add = ({ model: addModel, value: addValue, close }) => {\r\n      if (addModel.id !== model.id) return;\r\n\r\n      setValue([...value, addValue._id]);\r\n      if (!close) setInFocus(true);\r\n\r\n      setSearchVal(\"\");\r\n    };\r\n    const remove = ({ model: removeModel, value: removeValue }) => {\r\n      if (removeModel.id !== model.id) return;\r\n\r\n      setValue(value.filter((id) => id !== removeValue._id));\r\n    };\r\n    view.on(\"referenceAdd\", add);\r\n    view.on(\"referenceRemove\", remove);\r\n    return () => {\r\n      view.off(\"referenceAdd\", add);\r\n      view.off(\"referenceRemove\", remove);\r\n    };\r\n  }, [view, setValue, value, setInFocus, model.id]);\r\n\r\n  let clicked = false;\r\n  const itemsSelect =\r\n    result.map((item) => item._id).filter((id) => !value.includes(id)) || [];\r\n\r\n  const addable = !model.limit || value.length < model.limit || null;\r\n\r\n  return (\r\n    <InputWrapper\r\n      model={{ ...model, classNameInput: \"relative flex-grow\" }}\r\n      error={error}\r\n    >\r\n      {(value.length || null) && (\r\n        <Wrapper className=\"px-1 pb-2 pt-1 w-full max-w-sm\">\r\n          <ReferenceSortable\r\n            model={model}\r\n            view={view}\r\n            value={value}\r\n            setValue={setValue}\r\n          />\r\n        </Wrapper>\r\n      )}\r\n      {addable && (\r\n        <>\r\n          <InlineAdd model={model} view={view} />\r\n          <Input\r\n            onFocus={() => setInFocus(true)}\r\n            onBlur={() => {\r\n              if (!clicked) setInFocus(false);\r\n            }}\r\n            onChange={(value) => setSearchVal(value)}\r\n            value={searchVal}\r\n            placeholder=\"Search and add existing\"\r\n            focus={inFocus}\r\n          />\r\n        </>\r\n      )}\r\n      {addable && inFocus && (\r\n        <Wrapper\r\n          className=\"absolute shadow-md sm:w-1/2 w-full bg-white overflow-y-auto z-10 max-h-400\"\r\n          onMouseDown={() => {\r\n            clicked = true;\r\n            setInFocus(true);\r\n            setTimeout(() => {\r\n              clicked = false;\r\n            }, 500);\r\n          }}\r\n        >\r\n          {itemsSelect.length ? (\r\n            <ReferenceView\r\n              model={{ ...model, renderFormat: model.renderFormatSelect }}\r\n              value={itemsSelect}\r\n              view={view}\r\n            />\r\n          ) : (\r\n            <Wrapper className=\"p-2 bg-red-200\">No addable items found</Wrapper>\r\n          )}\r\n        </Wrapper>\r\n      )}\r\n    </InputWrapper>\r\n  );\r\n};\r\nexport default ReferenceInput;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport app from \"nystem\";\r\nimport { SelectInput } from \"nystem-components\";\r\n\r\nconst ReferenceSelect = ({ model, setValue, value, view, path }) => {\r\n  const [option, setOption] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const loadOption = () => {\r\n      const namefield = model.namefield ? model.namefield : \"name\";\r\n      app()\r\n        .database[model.source].search({\r\n          autoUpdate: true,\r\n          filter: app().parseFilter(model.filter, view.getValue, path),\r\n          count: 100\r\n        })\r\n        .then(({ data, offline }) => {\r\n          if (offline) {\r\n            app().connection.on(\"connect\", loadOption);\r\n            app().connection.on(\"connect\", loadOption);\r\n          } else app().connection.off(\"connect\", loadOption);\r\n\r\n          setOption(\r\n            data.map(item => ({ _id: item._id, text: item[namefield] }))\r\n          );\r\n        });\r\n    };\r\n    loadOption();\r\n    return () => {\r\n      app().connection.off(\"connect\", loadOption);\r\n    };\r\n  }, [model, path, view]);\r\n\r\n  if (!value) value = [];\r\n  if (!(value instanceof Array)) value = [value];\r\n\r\n  return (\r\n    <SelectInput\r\n      model={{ ...model, option }}\r\n      setValue={setValue}\r\n      value={value}\r\n    />\r\n  );\r\n};\r\n\r\nexport default ReferenceSelect;\r\n// 57 40 35\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport {\r\n  ContentTypeView,\r\n  InputWrapper,\r\n  DragAndDropList\r\n} from \"nystem-components\";\r\n\r\nclass ReferenceSortable extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.localValue = {};\r\n    [\"setValue\", \"onSave\", \"onDelete\", \"addField\"].forEach(func => {\r\n      this[func] = this[func].bind(this);\r\n    });\r\n    this.props.view.on(\"save\", this.onSave);\r\n    this.state = {\r\n      value: this.props.value\r\n    };\r\n  }\r\n  setValue(id, val) {\r\n    let { value } = this.state;\r\n    if (!value) value = [];\r\n    if (id) value[id] = val;\r\n    else value = val;\r\n    if (this.props.setValue) this.props.setValue(this.model.id, value);\r\n  }\r\n  onSave(data) {\r\n    if (!this.state.value) return true;\r\n    for (let i = 0; i < this.state.value.length; i++)\r\n      if (this.localValue[this.state.value[i]])\r\n        app().database[this.model.source].save({\r\n          data: this.localValue[this.state.value[i]]\r\n        });\r\n    return true;\r\n  }\r\n  componentWillReceiveProps(nextProps) {\r\n    this.setState({\r\n      value: nextProps.value\r\n    });\r\n  }\r\n  onDelete(id) {\r\n    this.state.value.splice(this.state.value.indexOf(id), 1);\r\n    const self = this;\r\n    setTimeout(() => {\r\n      if (self.props.setValue)\r\n        self.props.setValue(self.props.model.id, self.state.value);\r\n    }, 0);\r\n    return true;\r\n  }\r\n  addField(data) {\r\n    if (!data.hashtag || !this.model.addTransform) return;\r\n    const fieldBase = JSON.parse(data.hashtag.replace(/'/g, '\"'));\r\n    const out = {};\r\n    for (\r\n      let i = 0;\r\n      this.model.addTransform && i < this.model.addTransform.length;\r\n      i++\r\n    )\r\n      out[this.model.addTransform[i][0]] = app().utils.insertValues(\r\n        this.model.addTransform[i][1],\r\n        fieldBase\r\n      );\r\n    return out;\r\n  }\r\n  render() {\r\n    const { model } = this.props;\r\n    let { value } = this.state;\r\n    if (!value) value = [];\r\n    if (!(value instanceof Array)) value = [value];\r\n    const className =\r\n      model.className && !this.props.wrapper ? model.className.join(\" \") : \"\";\r\n    const self = this;\r\n    function option(item, index) {\r\n      let id = item;\r\n      function onChange(fieldId, value) {\r\n        self.localValue[id] = value;\r\n      }\r\n      if (typeof item !== \"string\") {\r\n        if (!item._id) item._id = app.uuid();\r\n        id = item._id;\r\n        self.localValue[id] = item;\r\n        self.state.value[index] = id;\r\n      }\r\n      return (\r\n        <ContentTypeView\r\n          key={id}\r\n          noForm=\"true\"\r\n          contentType={model.source}\r\n          format={model.renderFormat ? model.renderFormat : \"view\"}\r\n          onDelete={self.onDelete}\r\n          onMissing={self.onDelete}\r\n          onChange={onChange}\r\n          value={self.localValue[id] ? self.localValue[id] : null}\r\n          id={self.localValue[id] ? null : id}\r\n          baseView={self.props.view}\r\n        />\r\n      );\r\n    }\r\n    this.id = app().uuid();\r\n    if (model.wrapper)\r\n      return (\r\n        <InputWrapper model={model} error={this.state.error}>\r\n          <div className=\"row col-sm-12\">\r\n            <DragAndDropList\r\n              ref=\"list\"\r\n              value={this.state.value}\r\n              setValue={this.setValue}\r\n              onAdd={this.addField}\r\n            >\r\n              {value.map(option)}\r\n            </DragAndDropList>\r\n          </div>\r\n        </InputWrapper>\r\n      );\r\n    return (\r\n      <div className={className}>\r\n        <DragAndDropList\r\n          ref=\"list\"\r\n          value={this.state.value}\r\n          setValue={this.setValue}\r\n          onAdd={this.addField}\r\n        >\r\n          {value.map(option)}\r\n        </DragAndDropList>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default ReferenceSortable;\r\n","import { TextSortBy } from \"nystem-components\";\nimport React from \"react\";\nconst ReferenceSortBy = props => <TextSortBy {...props} />;\nexport default ReferenceSortBy;\n","export default ({ value, model }) =>\r\n  model.mandatory && !value && (model.text_mandatory || \"Field is mandatory\");\r\n","import React from \"react\";\r\nimport { ContentTypeView, InputWrapper, Wrapper } from \"nystem-components\";\r\n\r\nconst ReferenceView = ({ model, view, value = [] }) => {\r\n  value = value instanceof Array ? value : [value];\r\n  const { renderFormat, className, source, itemClassName } = model;\r\n\r\n  const option = (item, index) => (\r\n    <ContentTypeView\r\n      key={item}\r\n      contentType={source}\r\n      baseView={view}\r\n      format={renderFormat || \"view\"}\r\n      id={item}\r\n      params={view.params}\r\n      className={itemClassName}\r\n      onReference={(item) => view.event(item.event, { ...item, model })}\r\n    />\r\n  );\r\n\r\n  if (model.wrapper)\r\n    return <InputWrapper model={model}>{value.map(option)}</InputWrapper>;\r\n\r\n  return <Wrapper className={className}>{value.map(option)}</Wrapper>;\r\n};\r\nexport default ReferenceView;\r\n","import React from \"react\";\r\nimport { Button } from \"nystem-components\";\r\n\r\nclass SelectButton extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    const state = {\r\n      value: props.value\r\n    };\r\n    if (props.validated)\r\n      props.setValue(this.model.id, state.value, this.valid());\r\n    this.state = state;\r\n  }\r\n  handleChange = e => {\r\n    const { model } = this;\r\n    e.preventDefault();\r\n    this.props.setValue(\r\n      this.model.id,\r\n      model.trueOnState.indexOf(this.state.value)\r\n        ? model.trueState\r\n        : model.falseState\r\n    );\r\n  };\r\n  valid = () => {\r\n    if (this.model.mandatory && !this.state.value) {\r\n      this.setState({\r\n        error: this.model.text_mandatory ? this.model.text_mandatory : true\r\n      });\r\n      return false;\r\n    }\r\n    if (this.state.error) delete this.state.error;\r\n    return true;\r\n  };\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (this.props.value !== nextProps.value)\r\n      this.setState({\r\n        value: nextProps.value\r\n      });\r\n  }\r\n  render() {\r\n    const { model } = this;\r\n    let className = this.model.className ? ` ${model.className.join(\" \")}` : \"\";\r\n    let text = \"\";\r\n    let type = false;\r\n    if (model.trueOnState.indexOf(this.state.value) !== -1) {\r\n      text = model.text;\r\n      type = model.btnType;\r\n    } else if (model.falseOnState.indexOf(this.state.value) !== -1) {\r\n      text = model.falseText;\r\n      type = model.falseBtnType;\r\n    }\r\n    return (\r\n      <Button type={type} className={className} onClick={this.handleChange}>\r\n        {text || \"...\"}\r\n      </Button>\r\n    );\r\n  }\r\n}\r\nexport default SelectButton;\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\nimport { SelectInput, DatabaseSearchContext } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst SelectExposedField = ({ model }) => {\r\n  const [id] = useState(app().uuid());\r\n  const [className, setClassName] = useState(\"\");\r\n  const [value, setValue] = useState(\"\");\r\n  const [timer, setTimer] = useState(false);\r\n  const { setFilter } = useContext(DatabaseSearchContext);\r\n\r\n  useEffect(\r\n    () => () => {\r\n      if (timer) clearTimeout(timer);\r\n    },\r\n    [timer]\r\n  );\r\n\r\n  const onChange = value => {\r\n    setClassName(\"border-orange-300 outline-none\");\r\n\r\n    setFilter({ id, modelId: model.id, value }).then(() => {\r\n      setClassName(\"border-green-500 outline-none\");\r\n      clearTimeout(timer);\r\n      setTimer(setTimeout(() => setClassName(\"\"), 1000));\r\n    });\r\n    setValue(value);\r\n  };\r\n\r\n  return (\r\n    <SelectInput\r\n      model={{\r\n        ...model,\r\n        clearButton: true,\r\n        inputClassName: `w-full ${className}`,\r\n        selectAllOnFocus: true\r\n      }}\r\n      value={value}\r\n      setValue={onChange}\r\n    />\r\n  );\r\n};\r\nexport default SelectExposedField;\r\n\r\n/*\r\nimport React from \"react\";\r\nimport { SelectInput } from \"nystem-components\";\r\nimport PropTypes from \"prop-types\";\r\nimport app from \"nystem\";\r\n\r\nclass SelectExposedField extends React.Component {\r\n  static contextTypes = {\r\n    search: PropTypes.object,\r\n    view: PropTypes.object\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.classNameBase = this.model.className || [];\r\n    this.id = app().uuid();\r\n    this.state = { value: this.props.value || \"\", className: \"\" };\r\n  }\r\n\r\n  setSearch = (id, value) => {\r\n    const { view, search } = this.context;\r\n    const { model } = this.props;\r\n\r\n    this.setState({ className: \"has-warning\", value });\r\n\r\n    search.filter = search.filter || {};\r\n    search.filter.$and = (search.filter.$and || []).filter(\r\n      obj => obj.__id !== this.id\r\n    );\r\n    search.filter.$and.push({ __id: this.id, [model.id]: value });\r\n\r\n    view.event(\"search\", search).then(() => {\r\n      this.setState({ className: \"has-success\" });\r\n      this.delayTimer = setTimeout(() => this.setState({ className: \"\" }), 400);\r\n    });\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    clearTimeout(this.delayTimer);\r\n  }\r\n\r\n  render() {\r\n    this.model.className = [...this.classNameBase, this.state.className];\r\n    this.model.clearButton = true;\r\n    return (\r\n      <SelectInput\r\n        model={this.model}\r\n        value={this.state.value}\r\n        setValue={this.setSearch}\r\n      />\r\n    );\r\n  }\r\n}\r\nexport default SelectExposedField;\r\n*/\r\n","export default ({ value, model }) => {\r\n  value = value || [];\r\n  if (!(value instanceof Array)) value = [value];\r\n\r\n  return (\r\n    model.mandatory &&\r\n    !value.length &&\r\n    (model.text_mandatory || \"Field is mandatory\")\r\n  );\r\n};\r\n","import React, { useMemo, useEffect } from \"react\";\r\nimport { InputWrapper, UseValidator, Button, Wrapper } from \"nystem-components\";\r\nimport validate from \"./validate\";\r\n\r\nconst normalizeOption = ({ option }) =>\r\n  !option\r\n    ? []\r\n    : option.map((item) =>\r\n        typeof item === \"string\"\r\n          ? {\r\n              _id: item,\r\n              text: item,\r\n            }\r\n          : item\r\n      );\r\n\r\nconst renderButton = ({ option, handleChange, value }) => (\r\n  <Wrapper>\r\n    {option.map(({ text, _id }) => (\r\n      <Button\r\n        onClick={() => handleChange(_id)}\r\n        className=\"mr-2 my-1\"\r\n        key={_id}\r\n        type={value.indexOf(_id) !== -1 ? \"primary\" : \"secondary\"}\r\n        size=\"xs\"\r\n      >\r\n        {text}\r\n      </Button>\r\n    ))}\r\n  </Wrapper>\r\n);\r\n\r\nconst renderCheckbox = ({ option, handleChange, value, limit, inline }) => (\r\n  <Wrapper className=\"flex flex-wrap items-center\">\r\n    {option.map(({ text, _id }) => (\r\n      <span className={`px-2 my-1 checkbox ${inline}`} key={_id}>\r\n        <label>\r\n          <input\r\n            onChange={() => handleChange(_id)}\r\n            type={limit === 1 ? \"radio\" : \"checkbox\"}\r\n            checked={value.indexOf(_id) !== -1 ? \"checked\" : false}\r\n            className=\"p-1 mr-2\"\r\n          />\r\n          {text}\r\n        </label>\r\n      </span>\r\n    ))}\r\n  </Wrapper>\r\n);\r\n\r\nconst renderDropdown = ({ option, handleChange, value, placeholder }) => (\r\n  // eslint-disable-next-line jsx-a11y/no-onchange\r\n  <select\r\n    className=\"sm:w-1/2 w-full p-2 border\"\r\n    onChange={(e) => handleChange(e.target.value)}\r\n    value={value[0]}\r\n  >\r\n    <option key=\"_empty\" value=\"\">\r\n      {placeholder || \" - choose - \"}\r\n    </option>\r\n    {option.map(({ text, _id }) => (\r\n      <option key={_id || \"___\"} value={_id || \"___\"}>\r\n        {text}\r\n      </option>\r\n    ))}\r\n  </select>\r\n);\r\n\r\nconst renderTypes = {\r\n  dropdown: renderDropdown,\r\n  button: renderButton,\r\n  checkbox: renderCheckbox,\r\n};\r\n\r\nconst SelectInput = ({ model, value, view, setValue }) => {\r\n  const [error, setValidated] = UseValidator({ view, validate, value, model });\r\n\r\n  const { placeholder, inline, render } = model;\r\n\r\n  const limit = render === \"dropdown\" ? 1 : parseInt(model.limit, 10);\r\n  if (!value) value = [];\r\n  if (!(value instanceof Array)) value = [value];\r\n\r\n  const option = useMemo(() => normalizeOption(model), [model]);\r\n\r\n  const handleChange = (id) => {\r\n    if (id === \"\") id = undefined;\r\n    if (value.indexOf(id) !== -1) value.splice(value.indexOf(id), 1);\r\n    else value.push(id);\r\n\r\n    if (limit && limit < value.length) value.shift();\r\n\r\n    if (limit === 1) setValue(value[0]);\r\n    else setValue(value);\r\n    setValidated(true);\r\n  };\r\n  useEffect(() => {\r\n    if (value.length === 0 && model.default) handleChange(model.default);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const out = renderTypes[render || \"checkbox\"]({\r\n    option,\r\n    handleChange,\r\n    value,\r\n    limit,\r\n    inline,\r\n    placeholder,\r\n  });\r\n\r\n  return model.noWrapper ? (\r\n    out\r\n  ) : (\r\n    <InputWrapper model={model} error={error}>\r\n      {out}\r\n    </InputWrapper>\r\n  );\r\n};\r\nexport default SelectInput;\r\n","import React from \"react\";\nimport { TextSortBy } from \"nystem-components\";\nlet SelectSortBy = props => <TextSortBy {...props} />;\nexport default SelectSortBy;\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nconst SelectView = ({ model, value }) => {\r\n  const { className, renderAs, option } = model;\r\n  let val = value || model.fallback;\r\n\r\n  for (let i = 0; option && i < option.length; i++)\r\n    if (option[i]._id === val) {\r\n      val = option[i].text;\r\n      break;\r\n    }\r\n\r\n  return (\r\n    <Wrapper renderAs={renderAs} className={className}>\r\n      {app().t(val)}\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default SelectView;\r\n","import React from \"react\";\r\nimport { Input, Wrapper, Label, ErrorMsg } from \"nystem-components\";\r\nimport app from \"nystem\";\r\nclass SliderInput extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    const state = {\r\n      value: props.value\r\n    };\r\n    if (props.add && this.model.default) {\r\n      state.value = this.model.default;\r\n      props.setValue(this.model.id, state.value);\r\n    }\r\n    if (!state.value) state.value = this.model.min;\r\n    this.state = state;\r\n  }\r\n  handleChange(value) {\r\n    this.props.setValue(this.model.id, value / 10);\r\n  }\r\n  valid() {\r\n    if (this.model.mandatory && !this.state.value) {\r\n      this.setState({\r\n        error: this.model.text_mandatory ? this.model.text_mandatory : true\r\n      });\r\n      return false;\r\n    }\r\n    if (this.state.error) delete this.state.error;\r\n    return true;\r\n  }\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (this.props.value !== nextProps.value)\r\n      this.setState({\r\n        value: nextProps.value\r\n      });\r\n  }\r\n  componentDidMount() {\r\n    // React 15 bug that sets wrong value on initial render, setting it again helps\r\n    this.setState({\r\n      value: this.state.value\r\n    });\r\n  }\r\n  render() {\r\n    const val = this.model.absolute\r\n      ? this.state.value\r\n      : ((this.state.value - this.model.min) / this.model.max) * 100;\r\n    const display = this.model.precision\r\n      ? parseFloat(val).toFixed(this.model.precision)\r\n      : parseInt(val, 10);\r\n    const className = this.model.className\r\n      ? this.model.className.join(\" \")\r\n      : \"\";\r\n    return (\r\n      <Wrapper className={\"form-group row \" + className}>\r\n        <Label model={this.model} />\r\n        <Wrapper className=\"col-sm-9\">\r\n          <Input\r\n            placeholder={app().t(this.model.text)}\r\n            className=\"form-control-slider\"\r\n            value={parseInt(this.state.value * 10, 10)}\r\n            onChange={this.handleChange}\r\n            type=\"range\"\r\n            min={this.model.min * 10}\r\n            max={this.model.max * 10}\r\n          />\r\n          <ErrorMsg error={this.state.error} />\r\n        </Wrapper>\r\n        <Wrapper className=\"col-sm-1 form-control-text\">\r\n          {\"(\" + display + \"%)\"}\r\n        </Wrapper>\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\nexport default SliderInput;\r\n","import React from \"react\";\nimport { TextLink } from \"nystem-components\";\nlet SliderLink = props => <TextLink {...props} />;\nexport default SliderLink;\n","import React from \"react\";\nimport { TextView } from \"nystem-components\";\nlet SliderView = props => <TextView {...props} />;\nexport default SliderView;\n","import React, { useEffect, useState, useContext, createRef } from \"react\";\r\nimport { TextInput, DatabaseSearchContext } from \"nystem-components\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport app from \"nystem\";\r\n\r\n/*\r\nconst useStateStore = (active) => {\r\n  const ref = createRef();\r\n  const [value, setValue] = useState(active ? false : \"\");\r\n\r\n  useEffect(() => {\r\n    const oldValue = app().stateStore.get(ref.current);\r\n    if (value !== false && value !== oldValue)\r\n      app().stateStore.set(ref.current, value);\r\n  }, [ref, value]);\r\n\r\n  useEffect(() => {\r\n    if (value !== false) return;\r\n    setValue(app().stateStore.get(ref.current) || \"\");\r\n  }, [ref, value]);\r\n\r\n  return [value, setValue, ref];\r\n};\r\n*/\r\n\r\nconst useQueryStore = (active) => {\r\n  const history = useHistory();\r\n\r\n  const ref = createRef();\r\n  const { search } = history.location;\r\n  const [value, setValue] = useState(\r\n    active && search ? search.substring(1) : \"\"\r\n  );\r\n\r\n  const setRouterValue = (value) => {\r\n    setValue(value);\r\n\r\n    if (!active) return;\r\n\r\n    const { pathname } = history.location;\r\n    history.replace(`${pathname}?${value}`);\r\n  };\r\n\r\n  return [value, setRouterValue, ref];\r\n};\r\n\r\nconst TextExposedField = ({ model }) => {\r\n  const [id] = useState(app().uuid());\r\n  const [className, setClassName] = useState(\"\");\r\n  const [value, setValue, ref] = useQueryStore(model.saveValue);\r\n  const [timer, setTimer] = useState(false);\r\n  const { setFilter } = useContext(DatabaseSearchContext);\r\n\r\n  useEffect(\r\n    () => () => {\r\n      if (timer) clearTimeout(timer);\r\n    },\r\n    [timer]\r\n  );\r\n\r\n  useEffect(() => {\r\n    setClassName(\"border-orange-300 outline-none\");\r\n    setFilter({ id, modelId: model.id, value }).then(() => {\r\n      setClassName(\"border-green-500 outline-none\");\r\n      clearTimeout(timer);\r\n      setTimer(setTimeout(() => setClassName(\"\"), 1000));\r\n    });\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [setFilter, value]);\r\n\r\n  return (\r\n    <TextInput\r\n      ref={ref}\r\n      model={{\r\n        ...model,\r\n        clearButton: true,\r\n        inputClassName: [\"w-full\", className, ...(model.classNameInput || [])],\r\n        selectAllOnFocus: true,\r\n      }}\r\n      value={value}\r\n      setValue={setValue}\r\n    />\r\n  );\r\n};\r\n\r\nexport default TextExposedField;\r\n","export default ({ value, model }) =>\r\n  model.mandatory && !value && (model.text_mandatory || \"Field is mandatory\");\r\n","import React, { useState } from \"react\";\r\nimport { InputWrapper, Input, Icon, UseValidator } from \"nystem-components\";\r\nimport app from \"nystem\";\r\nimport validate from \"./validate\";\r\n\r\nconst ClearButton = ({ value, setValue }) =>\r\n  !value ? null : (\r\n    <Icon\r\n      onClick={() => setValue(\"\")}\r\n      className=\"absolute w-4 right-0 top-0 m-3\"\r\n      icon=\"close\"\r\n      aria-hidden=\"true\"\r\n    />\r\n  );\r\n\r\nconst TextInput = ({ model, view, focus, setValue, value }, ref) => {\r\n  const [error, setValidated] = UseValidator({ view, validate, value, model });\r\n  const { disabled, length, text, clearButton, classNameInput = [] } = model;\r\n  const [id] = useState(app().uuid);\r\n\r\n  const contents = (\r\n    <Input\r\n      id={id}\r\n      ref={ref}\r\n      placeholder={model.placeholder || app().t(text)}\r\n      className={classNameInput}\r\n      value={value || \"\"}\r\n      maxLength={length}\r\n      onChange={(value) => setValue(value)}\r\n      disabled={disabled}\r\n      type=\"text\"\r\n      focus={model.focus || focus}\r\n      onBlur={() => setValidated(true)}\r\n      selectAllOnFocus={model.selectAllOnFocus}\r\n    />\r\n  );\r\n\r\n  return model.noWrapper ? (\r\n    contents\r\n  ) : (\r\n    <InputWrapper\r\n      id={id}\r\n      model={{\r\n        ...model,\r\n        classNameInput: \"relative flex-grow\",\r\n      }}\r\n      error={error}\r\n    >\r\n      {contents}\r\n      {clearButton ? <ClearButton value={value} setValue={setValue} /> : null}\r\n    </InputWrapper>\r\n  );\r\n};\r\nexport default React.forwardRef(TextInput);\r\n","import React from \"react\";\r\nimport { Link, Wrapper } from \"nystem-components\";\r\n\r\nconst TextLink = ({ model, view, value }) => {\r\n  const id = view.value ? `/${view.value._id}` : \"\";\r\n  const format = model.toFormat || \"input\";\r\n\r\n  if (model.renderAs)\r\n    return (\r\n      <Wrapper renderAs={model.renderAs} className={model.className}>\r\n        <Link\r\n          to={`${model.addToPath || \"\"}/${view.contentType}/${format}${id}`}\r\n        >\r\n          {value || model.fallback}\r\n        </Link>\r\n      </Wrapper>\r\n    );\r\n\r\n  return (\r\n    <Link\r\n      renderAs={model.renderAs}\r\n      className={model.className}\r\n      to={`${model.addToPath || \"\"}/${view.contentType}/${format}${id}`}\r\n    >\r\n      {value || model.fallback}\r\n    </Link>\r\n  );\r\n};\r\nexport default TextLink;\r\n","import React, { useContext } from \"react\";\r\nimport { Wrapper, DatabaseSearchContext, Icon } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst TextSortBy = ({ model }) => {\r\n  const { search, setSearch } = useContext(DatabaseSearchContext);\r\n  const { id, text, className = [] } = model;\r\n  const { sortby, reverse } = search;\r\n\r\n  const sortbyId = sortby instanceof Array ? sortby[0] : sortby;\r\n\r\n  const handleSort = event => {\r\n    if (event) event.preventDefault();\r\n\r\n    setSearch({\r\n      ...search,\r\n      reverse: sortbyId === id ? !reverse : reverse,\r\n      sortby: id\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Wrapper\r\n      className={[...className, \"flex\"]}\r\n      renderAs=\"a\"\r\n      href={id}\r\n      onClick={handleSort}\r\n    >\r\n      <Wrapper renderAs=\"span\">{`${app().t(text)} `}</Wrapper>\r\n      {sortbyId === id ? (\r\n        <Icon\r\n          icon={`arrow-${reverse ? \"up\" : \"down\"}`}\r\n          className=\"ml-2 w-4 font-bold\"\r\n        />\r\n      ) : null}\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default TextSortBy;\r\n","import React from \"react\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nconst TextView = ({ model, value }) => {\r\n  const className = model.className ? model.className.join(\" \") : \"\";\r\n  return (\r\n    <Wrapper\r\n      className={className}\r\n      renderAs={model.renderAs}\r\n      translate={model.translate}\r\n    >\r\n      {value || model.fallback}\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default TextView;\r\n","import React from \"react\";\r\nimport { InputWrapper } from \"nystem-components\";\r\nimport app from \"nystem\";\r\nclass TextareaInput extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    const state = {\r\n      value: props.value\r\n    };\r\n    [\"handleChange\", \"valid\"].forEach(func => {\r\n      this[func] = this[func].bind(this);\r\n    });\r\n    if (props.validated)\r\n      props.setValue(this.model.id, state.value, this.valid());\r\n    this.state = state;\r\n  }\r\n  handleChange() {\r\n    this.validated = true;\r\n    const value = this.refs.input.value;\r\n    this.setState({\r\n      value: value,\r\n      error: this.model.mandatory && !value ? this.errormsg : false\r\n    });\r\n    this.props.setValue(this.model.id, value);\r\n  }\r\n  valid() {\r\n    if (this.model.mandatory && !this.state.value) {\r\n      this.setState({\r\n        error: this.model.text_mandatory ? this.model.text_mandatory : true\r\n      });\r\n      return false;\r\n    }\r\n    if (this.state.error) delete this.state.error;\r\n    return true;\r\n  }\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (this.props.value !== nextProps.value)\r\n      this.setState({\r\n        value: nextProps.value\r\n      });\r\n  }\r\n  render() {\r\n    const height = {};\r\n    if (this.model.height) height.height = this.model.height + \"px\";\r\n    return (\r\n      <InputWrapper model={this.model} error={this.state.error}>\r\n        <textarea\r\n          ref=\"input\"\r\n          placeholder={app().t(this.model.placeholder || this.model.text)}\r\n          className=\"form-control\"\r\n          value={this.state.value}\r\n          maxLength={this.model.length}\r\n          onChange={this.handleChange}\r\n          type=\"text\"\r\n          style={height}\r\n        />\r\n      </InputWrapper>\r\n    );\r\n  }\r\n}\r\nexport default TextareaInput;\r\n","import React from \"react\";\nimport { TextLink } from \"nystem-components\";\nlet TextareaLink = props => <TextLink {...props} />;\nexport default TextareaLink;\n","import React from \"react\";\nimport { TextSortBy } from \"nystem-components\";\nlet TextareaSortBy = props => <TextSortBy {...props} />;\nexport default TextareaSortBy;\n","import React from \"react\";\nimport { TextView } from \"nystem-components\";\nlet TextareaView = props => <TextView {...props} />;\nexport default TextareaView;\n","import { useEffect } from \"react\";\r\nimport app from \"nystem\";\r\n\r\nconst ViewButtonAutoSave = ({ view }) => {\r\n  useEffect(() => {\r\n    let saveIds = [];\r\n    let saveDelay = false;\r\n\r\n    const saveToDb = async () => {\r\n      const { errors } = await view.event(\"validate\");\r\n      if (!saveIds.length || errors) return;\r\n\r\n      const reduceById = (res, id) => ({ ...res, [id]: view.getValue(id) });\r\n\r\n      const data = await app().database[view.contentType].save({\r\n        data: saveIds.reduce(reduceById, {\r\n          _id: view.value._id || view.id,\r\n        }),\r\n        fields: true,\r\n      });\r\n\r\n      if (!view.value._id) view.setValue({ path: \"_id\", value: data.id });\r\n\r\n      view.event(\"save\", view.value);\r\n\r\n      saveIds = [];\r\n    };\r\n\r\n    const handleChange = ({ id }) => {\r\n      if (!id || id === \"_id\" || !view.value) return;\r\n\r\n      if (saveIds.includes(id)) return;\r\n      saveIds.push(id);\r\n\r\n      saveDelay = setTimeout(saveToDb, 200);\r\n    };\r\n\r\n    view.on(\"change\", handleChange);\r\n    return () => {\r\n      view.off(\"change\", handleChange);\r\n      if (saveDelay) clearTimeout(saveDelay);\r\n    };\r\n  }, [view]);\r\n\r\n  return null;\r\n};\r\nexport default ViewButtonAutoSave;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Icon, Wrapper, Button } from \"nystem-components\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nconst ViewButtonBack = ({ children, model, history }) => {\r\n  model = model || {};\r\n  const { className, text } = model;\r\n\r\n  if (model.icon)\r\n    return (\r\n      <Icon\r\n        className={className}\r\n        icon={model.icon}\r\n        onClick={() => history.go(-1)}\r\n      />\r\n    );\r\n\r\n  return (\r\n    <Button type=\"primary\" className={className} onClick={() => history.go(-1)}>\r\n      <Icon icon=\"arrow-left\" className=\"w-6 h-6\" />\r\n      <Wrapper>{children || app().t(text)}</Wrapper>\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default withRouter(ViewButtonBack);\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport app from \"nystem\";\r\nimport { Button } from \"nystem-components\";\r\n\r\nconst ViewButtonEventEmitter = ({ model, view }) => {\r\n  const buttonStates = {\r\n    default: {\r\n      text: model.text ? model.text : \"Send\",\r\n      type: model.btnType ? model.btnType : \"secondary\"\r\n    },\r\n    confirm: {\r\n      text: \"Are you sure?\",\r\n      type: \"danger\"\r\n    },\r\n    saving: {\r\n      text: \"Sending ...\",\r\n      type: \"warning\"\r\n    },\r\n    success: {\r\n      text: \"Sent\",\r\n      type: \"success\"\r\n    }\r\n  };\r\n\r\n  const [error, setError] = useState(false);\r\n  const [button, setButton] = useState(buttonStates.default);\r\n  const [savedTimer, setSavedTimer] = useState(false);\r\n  const [activeKeySaveView, setActiveKeySaveView] = useState(false);\r\n\r\n  const sendEvent = useCallback(() => {\r\n    setError(false);\r\n    setButton(buttonStates.saving);\r\n\r\n    app()\r\n      .connection.emit({\r\n        type: model.event,\r\n        event: model.subEvent,\r\n        value: view.value,\r\n        contentType: view.contentType\r\n      })\r\n      .then(data => {\r\n        setButton(buttonStates.success);\r\n        setSavedTimer(setTimeout(() => setButton(buttonStates.default), 1000));\r\n        if (data.redirectToPath) app().router.click(data.redirectToPath);\r\n      });\r\n  }, [buttonStates, model, view.contentType, view.value]);\r\n\r\n  const handleSubmit = useCallback(\r\n    event => {\r\n      if (app().settings.debug) console.log(view.value);\r\n      if (event) event.preventDefault();\r\n\r\n      if (view.valid()) {\r\n        if (model.confirm && button !== buttonStates.confirm) {\r\n          setButton(buttonStates.confirm);\r\n          setSavedTimer(\r\n            setTimeout(() => setButton(buttonStates.default), 1000)\r\n          );\r\n        } else sendEvent();\r\n      } else setError(\"Correct validation errors\");\r\n    },\r\n    [button, buttonStates, model.confirm, sendEvent, view]\r\n  );\r\n\r\n  useEffect(() => {\r\n    const handleKeySave = () => {\r\n      if (activeKeySaveView) handleSubmit();\r\n    };\r\n    const inactivateKeySaveView = () => setActiveKeySaveView(false);\r\n    const activateKeySaveView = () => {\r\n      app().event(\"inactivateKeySaveView\");\r\n      setActiveKeySaveView(true);\r\n    };\r\n\r\n    if (model.saveOnKey) {\r\n      view.on(\"submit\", handleSubmit);\r\n      app().on(\"keypressSaveEvent\", handleKeySave);\r\n      app().on(\"inactivateKeySaveView\", inactivateKeySaveView);\r\n      setActiveKeySaveView(false);\r\n      view.on(\"change\", activateKeySaveView);\r\n    }\r\n\r\n    return () => {\r\n      if (savedTimer) clearTimeout(savedTimer);\r\n      if (model.saveOnKey) {\r\n        view.off(\"submit\", handleSubmit);\r\n        view.off(\"change\", activateKeySaveView);\r\n        app().off(\"keypressSaveEvent\", handleKeySave);\r\n        app().off(\"inactivateKeySaveView\", inactivateKeySaveView);\r\n      }\r\n    };\r\n  }, [activeKeySaveView, handleSubmit, model.saveOnKey, savedTimer, view]);\r\n\r\n  return (\r\n    <>\r\n      <Button\r\n        onClick={handleSubmit}\r\n        className={model.className}\r\n        type={model.btnType}\r\n      >\r\n        {app().t(button.text)}\r\n      </Button>\r\n      {error}\r\n    </>\r\n  );\r\n};\r\nexport default ViewButtonEventEmitter;\r\n","import React, { useState, useEffect, useMemo, useCallback } from \"react\";\r\nimport app from \"nystem\";\r\nimport { Button, Wrapper } from \"nystem-components\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nconst baseButtonStates = {\r\n  default: {\r\n    text: \"Save\",\r\n    type: \"secondary\",\r\n  },\r\n  saving: {\r\n    text: \"Saving ...\",\r\n    type: \"warning\",\r\n  },\r\n  success: {\r\n    text: \"Saved\",\r\n    type: \"success\",\r\n  },\r\n  deleted: {\r\n    text: \"Undo delete\",\r\n    type: \"warning\",\r\n  },\r\n};\r\n\r\nconst ViewButtonInput = ({ view, model, value, history, location }) => {\r\n  const { text, btnType } = model;\r\n\r\n  const buttonStates = useMemo(\r\n    () =>\r\n      text\r\n        ? {\r\n            ...baseButtonStates,\r\n            default: {\r\n              text,\r\n              type: `${btnType || \"secondary\"}`,\r\n            },\r\n          }\r\n        : baseButtonStates,\r\n    [btnType, text]\r\n  );\r\n  const [button, setButton] = useState(\"default\");\r\n  const [error, setError] = useState(false);\r\n  const [savedTimer, setSavedTimer] = useState(false);\r\n  const [activeKeySaveView, setActiveKeySaveView] = useState(false);\r\n\r\n  const inactivateKeySaveView = () => {\r\n    setActiveKeySaveView(false);\r\n  };\r\n  const activateKeySaveView = () => {\r\n    app().event(\"inactivateKeySaveView\");\r\n    setActiveKeySaveView(true);\r\n  };\r\n  const handleCancel = () => {\r\n    if (view.event(\"cancel\")) view.event(\"reload\");\r\n  };\r\n  const handleDelete = () => {\r\n    if (view.event(\"delete\"))\r\n      app()\r\n        .database[view.contentType].delete({ id: view.value._id })\r\n        .then(() => setButton(\"deleted\"));\r\n  };\r\n\r\n  const handleSubmit = useCallback(async () => {\r\n    if (button !== \"default\") return;\r\n    if (app().settings.debug) console.log(value);\r\n\r\n    const { errors } = await view.event(\"validate\");\r\n    if (errors) {\r\n      setError(\"Correct validation errors\", errors);\r\n      return;\r\n    }\r\n    setError(false);\r\n    setButton(\"saving\");\r\n\r\n    const { data, error } = await app().database[view.contentType].save({\r\n      data: { ...value },\r\n      view: view.format,\r\n    });\r\n\r\n    console.log(\"zzave\", { data, error }, value._id);\r\n\r\n    if (error) {\r\n      view.event(\"error\", error);\r\n      setButton(\"default\");\r\n      return;\r\n    }\r\n\r\n    const saved = await view.event(\"save\", data);\r\n    const { pathname } = location;\r\n\r\n    if (data && view.value._id && view.value._id !== data._id) {\r\n      history.replace(\r\n        pathname.replace(`/${view.value._id}`, `/${data._id || \"\"}`)\r\n      );\r\n      return;\r\n    }\r\n\r\n    if (!model.noRedirect && !view.value._id) {\r\n      view.setValue({ path: \"_id\", value: data._id });\r\n      history.replace(`${model.redirectURL || pathname}/${data._id || \"\"}`);\r\n      return;\r\n    }\r\n\r\n    if (!saved) return;\r\n\r\n    setButton(\"success\");\r\n    setSavedTimer(\r\n      setTimeout(() => {\r\n        setButton(\"default\");\r\n        setSavedTimer(false);\r\n      }, 1000)\r\n    );\r\n  }, [button, history, location, model, value, view]);\r\n\r\n  useEffect(() => () => savedTimer && clearTimeout(savedTimer), [savedTimer]);\r\n\r\n  useEffect(() => {\r\n    const handleKeySave = () => {\r\n      if (activeKeySaveView) handleSubmit();\r\n    };\r\n\r\n    view.on(\"submit\", handleSubmit);\r\n    app().on(\"keypressSaveEvent\", handleKeySave);\r\n    app().on(\"inactivateKeySaveView\", inactivateKeySaveView);\r\n    view.on(\"change\", activateKeySaveView);\r\n\r\n    return () => {\r\n      view.off(\"submit\", handleSubmit);\r\n      view.off(\"change\", activateKeySaveView);\r\n      app().off(\"keypressSaveEvent\", handleKeySave);\r\n      app().off(\"inactivateKeySaveView\", inactivateKeySaveView);\r\n    };\r\n  }, [activeKeySaveView, handleSubmit, view]);\r\n\r\n  return (\r\n    <>\r\n      <Wrapper className={model.className}>\r\n        <Button onClick={handleSubmit} type={buttonStates[button].type}>\r\n          {app().t(buttonStates[button].text)}\r\n        </Button>\r\n        {button === \"default\" && !model.sendOnly && view.value._id && (\r\n          <>\r\n            <Button onClick={handleCancel} type=\"warning\">\r\n              Cancel\r\n            </Button>\r\n            <Button onClick={handleDelete} type=\"danger\">\r\n              {app().t(\"Delete\")}\r\n            </Button>\r\n          </>\r\n        )}\r\n      </Wrapper>\r\n      {error && <Wrapper className=\"red\">{error}</Wrapper>}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default withRouter(ViewButtonInput);\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Button, Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst ViewButtonReference = ({ model, view, path }) => {\r\n  const { event, item, className } = model;\r\n\r\n  if (item && item.length)\r\n    return (\r\n      <Wrapper\r\n        className={className}\r\n        onClick={() => view.event(\"reference\", { event, value: view.value })}\r\n      >\r\n        <ContentTypeRender path={path} items={item} />\r\n      </Wrapper>\r\n    );\r\n\r\n  return (\r\n    <Button\r\n      onClick={() => view.event(\"reference\", { event, value: view.value })}\r\n      className={className}\r\n      type={model.btnType}\r\n      size={model.btnSize}\r\n    >\r\n      {app().t(model.text)}\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default ViewButtonReference;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Button } from \"nystem-components\";\r\n\r\nconst ViewButtonView = ({ model, view }) => (\r\n  <div className={model.className}>\r\n    <Button\r\n      type={model.btnType}\r\n      onClick={() => view.event(model.event || \"submit\", view.value)}\r\n    >\r\n      {app().t(model.text || \"...\")}\r\n    </Button>\r\n  </div>\r\n);\r\n\r\nexport default ViewButtonView;\r\n","import React from \"react\";\r\nimport { ContentTypeView } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst ViewInViewEmpty = ({ model, view, path }) => {\r\n  const { contentType, className, viewId } = model;\r\n\r\n  const insertVal = (val) => {\r\n    if (!val) return val;\r\n    return val.replace(/\\{([a-z_.]+)\\}/gim, (str, p1, offset, s) => {\r\n      if (p1 === \"_language\") return app().settings.lang;\r\n      if (p1 === \"id\") return view.id;\r\n      if (p1.indexOf(\"baseView.\") !== 0)\r\n        return view.getValue(p1.replace(\"..\", path));\r\n      p1 = p1.replace(\"baseView.\", \"\");\r\n      return view.baseView.getValue(p1.replace(\"..\", path));\r\n    });\r\n  };\r\n\r\n  return (\r\n    <ContentTypeView\r\n      className={className}\r\n      contentType={contentType}\r\n      format={model.view}\r\n      baseView={view}\r\n      id={insertVal(viewId)}\r\n    />\r\n  );\r\n};\r\nexport default ViewInViewEmpty;\r\n","import React from \"react\";\r\nimport { ContentTypeView } from \"nystem-components\";\r\n\r\nclass ViewInViewSetValue extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.view = props.view;\r\n    const state = {\r\n      value: this.view.value,\r\n      viewId: this.insertVal(this.model.viewId),\r\n    };\r\n    this.view.on(\"change\", this.setValueView);\r\n    this.state = state;\r\n  }\r\n  setValueView() {\r\n    const self = this;\r\n    if (JSON.stringify(this.view.value) !== JSON.stringify(this.state.value))\r\n      setTimeout(function () {\r\n        if (self.isMounted())\r\n          self.setState({\r\n            value: self.view.value,\r\n            viewId: self.insertVal(self.model.viewId),\r\n          });\r\n        else console.log(\"not mounted\");\r\n      }, 0);\r\n  }\r\n  setValue(id, value) {\r\n    if (!id && !value) return;\r\n    if (this.model.addid) {\r\n      const val = this.state.value[this.model.addid]\r\n        ? this.state.value[this.model.addid]\r\n        : {};\r\n      val[id] = value;\r\n      this.view.setValue(this.model.addid, val);\r\n    } else this.view.setValue(id, value);\r\n  }\r\n  insertVal(val) {\r\n    if (!val) return val;\r\n    const self = this;\r\n    return val.replace(/\\{([a-z_.]+)\\}/gim, function (str, p1, offset, s) {\r\n      return self.view.getValue(p1.replace(\"..\", self.props.path));\r\n    });\r\n  }\r\n  componentWillUnmount() {\r\n    this.view.off(\"change\", this.setValueView);\r\n  }\r\n  render() {\r\n    const className = this.model.className\r\n      ? this.model.className.join(\" \")\r\n      : \"\";\r\n    const value = this.model.addid\r\n      ? this.state.value[this.model.addid]\r\n      : this.state.value;\r\n    return (\r\n      <ContentTypeView\r\n        className={className}\r\n        setValue={this.setValue}\r\n        contentType={this.model.contentType}\r\n        format={this.model.view}\r\n        value={value}\r\n        id={this.state.viewId}\r\n      />\r\n    );\r\n  }\r\n}\r\nexport default ViewInViewSetValue;\r\n","import React from \"react\";\r\nimport { ContentTypeView } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst ViewInViewView = ({ model, view, value, path, onSave }) => {\r\n  const { addid, contentType, className, viewId } = model;\r\n\r\n  const insertVal = (val) => {\r\n    if (!val) return val;\r\n    return val.replace(/\\{([a-z_.]+)\\}/gim, (str, p1, offset, s) => {\r\n      if (p1 === \"_language\") return app().settings.lang;\r\n      if (p1 === \"id\") return view.id;\r\n      if (p1.indexOf(\"baseView.\") !== 0)\r\n        return view.getValue(p1.replace(\"..\", path));\r\n      p1 = p1.replace(\"baseView.\", \"\");\r\n      return view.baseView.getValue(p1.replace(\"..\", path));\r\n    });\r\n  };\r\n\r\n  return (\r\n    <ContentTypeView\r\n      className={className}\r\n      contentType={contentType}\r\n      format={model.view}\r\n      value={(addid && value[addid]) || value}\r\n      id={insertVal(viewId)}\r\n      baseView={view}\r\n      {...(onSave ? { onSave } : {})}\r\n    />\r\n  );\r\n};\r\nexport default ViewInViewView;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Link } from \"nystem-components\";\r\n\r\nclass ViewLinkButton extends React.Component {\r\n  render() {\r\n    const { model } = this.props;\r\n    let className = model.className ? model.className.join(\" \") : \"\";\r\n    let { href } = model;\r\n    if (model.renderType) className += ` btn-${model.renderType}`;\r\n    if (href[href.length - 1] === \"/\" && this.props.view.value)\r\n      href += this.props.view.value._id;\r\n    return (\r\n      <Link\r\n        className={`${className} btn`}\r\n        to={href}\r\n        match={model.match}\r\n        type=\"button\"\r\n        title={this.props.title ? this.props.title : \"\"}\r\n      >\r\n        {app().t(model.text)}\r\n      </Link>\r\n    );\r\n  }\r\n}\r\nexport default ViewLinkButton;\r\n","import React from \"react\";\r\nimport { Link, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst ViewLinkDynamicFields = ({ view, path, model }) => {\r\n  const insertVal = (val) => {\r\n    if (!val) return val;\r\n    return val.replace(/\\{([a-z_.0-9]+)\\}/gim, (str, p1, offset, s) => {\r\n      if (/pathItem[0-9]/.test(p1) && view.params) return view.params[p1[8]];\r\n      return view.getValue(p1.replace(\"..\", path));\r\n    });\r\n  };\r\n\r\n  const { className, exact, match, item, href } = model;\r\n\r\n  return (\r\n    <Link\r\n      className={className}\r\n      to={insertVal(href)}\r\n      match={match}\r\n      exact={exact}\r\n    >\r\n      <ContentTypeRender path={path} items={item} />\r\n    </Link>\r\n  );\r\n};\r\nexport default ViewLinkDynamicFields;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Link } from \"nystem-components\";\r\n\r\nconst ViewLinkDynamicLink = ({ model, view, path }) => {\r\n  const insertVal = (val) =>\r\n    val &&\r\n    val.replace(/\\{([a-z_.0-9]+)\\}/gim, (str, p1, offset, s) => {\r\n      if (/pathItem[0-9]/.test(p1) && view.params) return view.params[p1[8]];\r\n      return view.getValue(p1.replace(\"..\", path));\r\n    });\r\n\r\n  const { href, match, className } = model;\r\n\r\n  return (\r\n    <Link\r\n      className={className ? className.join(\" \") : \"\"}\r\n      to={insertVal(href)}\r\n      match={insertVal(match)}\r\n    >\r\n      {app().t(model.text)}\r\n    </Link>\r\n  );\r\n};\r\nexport default ViewLinkDynamicLink;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst ViewLinkExternal = ({ view, path, model }) => {\r\n  const insertVal = (val) => {\r\n    if (!val) return val;\r\n    return val.replace(/\\{([a-z_.0-9]+)\\}/gim, (str, p1, offset, s) => {\r\n      if (/pathItem[0-9]/.test(p1) && view.params) return view.params[p1[8]];\r\n      return view.getValue(p1.replace(\"..\", path));\r\n    });\r\n  };\r\n\r\n  const { className, item, href } = model;\r\n\r\n  return (\r\n    <Wrapper\r\n      className={className}\r\n      href={`https://${insertVal(href).replace(/https?:\\/\\//, \"\")}`}\r\n      target=\"_blank\"\r\n      renderAs=\"a\"\r\n      rel=\"noopener\"\r\n    >\r\n      <ContentTypeRender path={path} items={item} />\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default ViewLinkExternal;\r\n","import React from \"react\";\r\nimport { Link, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst ViewLinkFields = ({ model, value, path }) => {\r\n  const { className, contentType, view: toView, add, addId, item } = model;\r\n\r\n  let href = `/${contentType}/${toView}`;\r\n  if (addId && value) href += `/${value._id}`;\r\n\r\n  return (\r\n    <Link to={(add || \"\") + href} className={className}>\r\n      <ContentTypeRender path={path} items={item} />\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default ViewLinkFields;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Link, Icon } from \"nystem-components\";\r\nclass ViewLinkLink extends React.Component {\r\n  render() {\r\n    const model = this.props.model;\r\n    const className = model.className ? model.className.join(\" \") : \"\";\r\n    const href =\r\n      model.href && this.props.view.id\r\n        ? model.href.replace(\"{id}\", this.props.view.id)\r\n        : model.href;\r\n\r\n    if (model.blank)\r\n      return (\r\n        <a\r\n          className={className}\r\n          href={href}\r\n          rel=\"noopener noreferrer\"\r\n          target=\"_blank\"\r\n        >\r\n          {app().t(model.text)}\r\n        </a>\r\n      );\r\n\r\n    if (model.renderType === \"icon\")\r\n      return (\r\n        <Link to={href} match={model.match} type=\"link\">\r\n          <Icon className={className} />\r\n        </Link>\r\n      );\r\n\r\n    return (\r\n      <Link className={className} to={href} match={model.match} type=\"link\">\r\n        {app().t(model.text)}\r\n      </Link>\r\n    );\r\n  }\r\n}\r\nexport default ViewLinkLink;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Link, Button } from \"nystem-components\";\r\n\r\nconst ViewLinkView = ({ model, value }) => {\r\n  const {\r\n    renderType,\r\n    className,\r\n    contentType,\r\n    view: toView,\r\n    text,\r\n    add,\r\n    addId,\r\n    btnType,\r\n  } = model;\r\n\r\n  let href = `/${contentType}/${toView}`;\r\n  if (addId && value) href += `/${value._id}`;\r\n\r\n  if (renderType === \"button\")\r\n    return (\r\n      <Button\r\n        type={btnType}\r\n        to={(add || \"\") + href}\r\n        className={className}\r\n        Component={Link}\r\n      >\r\n        {app().t(text)}\r\n      </Button>\r\n    );\r\n\r\n  return (\r\n    <Link\r\n      type={renderType || \"list\"}\r\n      to={(add || \"\") + href}\r\n      className={className}\r\n    >\r\n      {app().t(text)}\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default ViewLinkView;\r\n","import React, { useContext } from \"react\";\r\nimport {\r\n  Wrapper,\r\n  ContentTypeRender,\r\n  DatabaseSearchContext,\r\n} from \"nystem-components\";\r\n\r\nconst ViewListEmptySearchresult = ({ model, path }) => {\r\n  const { search = {} } = useContext(DatabaseSearchContext);\r\n  const { filter = {} } = search;\r\n  const searchText = ((filter.$and || []).find((item) => item.$all) || {}).$all;\r\n\r\n  if ((!searchText && model.inverse) || (searchText && !model.inverse))\r\n    return (\r\n      <Wrapper className={model.className} renderAs={model.renderAs}>\r\n        <ContentTypeRender path={path} items={model.item} />\r\n      </Wrapper>\r\n    );\r\n\r\n  return null;\r\n};\r\nexport default ViewListEmptySearchresult;\r\n","import React, { useContext } from \"react\";\r\nimport { Wrapper, DatabaseSearchContext } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst ViewListListStat = ({ model }) => {\r\n  const { search } = useContext(DatabaseSearchContext);\r\n  function total() {\r\n    if (\r\n      search.searchTotal === search.total ||\r\n      model.show.indexOf(\"total\") === -1\r\n    )\r\n      return null;\r\n    return (\r\n      <Wrapper renderAs=\"span\">\r\n        {`, ${search.total}${app().t(\" in total\")}`}\r\n      </Wrapper>\r\n    );\r\n  }\r\n\r\n  let text = \"\";\r\n  if (!model.show) model.show = [];\r\n  if (model.show.indexOf(\"currentPos\") !== -1)\r\n    text += search.position ? search.position : 0;\r\n  if (\r\n    model.show.indexOf(\"currentPos\") !== -1 &&\r\n    model.show.indexOf(\"toPos\") !== -1\r\n  )\r\n    text += \" - \";\r\n  if (model.show.indexOf(\"toPos\") !== -1)\r\n    text += search.count ? search.count : 0;\r\n  if (\r\n    model.show.indexOf(\"searchTotal\") !== -1 &&\r\n    (model.show.indexOf(\"currentPos\") !== -1 ||\r\n      model.show.indexOf(\"toPos\") !== -1)\r\n  )\r\n    text += \" of \";\r\n  if (model.show.indexOf(\"searchTotal\") !== -1)\r\n    text += search.searchTotal ? search.searchTotal : 0;\r\n\r\n  /* const toPos = settings.searchTotal < settings.position + settings.count\r\n      ? settings.searchTotal\r\n      : settings.position + settings.count; */\r\n  return (\r\n    <Wrapper className={[...(model.className || []), \"control-label\"]}>\r\n      <Wrapper>{model.text}</Wrapper>\r\n      <Wrapper>{text}</Wrapper>\r\n      {total()}\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default ViewListListStat;\r\n","import React, { useContext } from \"react\";\r\nimport { Wrapper, DatabaseSearchContext, Button } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst ViewListPager = ({ view, model }) => {\r\n  const { search, setSearch } = useContext(DatabaseSearchContext);\r\n  const update = (e, move) => {\r\n    if (move === -1) search.position = prev(search);\r\n    if (move === 1) search.position = next(search);\r\n    setSearch(search);\r\n  };\r\n\r\n  const prev = search =>\r\n    search.position !== 0 ? search.position - search.count : -1;\r\n  const next = search =>\r\n    search.position + search.count < search.searchTotal\r\n      ? search.position + search.count\r\n      : -1;\r\n\r\n  const className = model.className ? model.className.join(\" \") : \"\";\r\n  const hasPrev = prev(search) !== -1;\r\n  const hasNext = next(search) !== -1;\r\n\r\n  return (\r\n    <Wrapper renderAs=\"ul\" className={`${className} flex py-4`}>\r\n      <Button\r\n        disabled={!hasPrev && \"disabled\"}\r\n        className=\"mr-2\"\r\n        onClick={hasPrev ? e => update(e, -1) : undefined}\r\n      >\r\n        ← {app().t(\"Previous\")}\r\n      </Button>\r\n      <Button\r\n        disabled={!hasNext && \"disabled\"}\r\n        onClick={hasNext ? e => update(e, 1) : undefined}\r\n      >\r\n        {app().t(\"Next\")} →\r\n      </Button>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default ViewListPager;\r\n","import React from \"react\";\r\nimport { ContentTypeView } from \"nystem-components\";\r\n\r\nimport \"./table.scss\";\r\n\r\nconst ViewListRender = ({ model, view, value }) => {\r\n  const { rowClassName = [] } = model;\r\n  value = model.value || value;\r\n\r\n  function createItem(item) {\r\n    const settings = {\r\n      view: model,\r\n      contentType: view.contentType,\r\n      id: item._id,\r\n      key: item._id,\r\n      noForm: true,\r\n      baseView: view,\r\n      params: view.params,\r\n      className: rowClassName,\r\n      renderAs: item.renderAs,\r\n      itemRenderAs: item.renderAs === \"tr\" && \"td\",\r\n    };\r\n\r\n    return <ContentTypeView {...settings} />;\r\n  }\r\n\r\n  return value.map(createItem);\r\n};\r\n\r\nexport default ViewListRender;\r\n","import React from \"react\";\r\nimport { TextExposedField } from \"nystem-components\";\r\n\r\nconst ViewListSearch = ({ model }) => (\r\n  <TextExposedField model={{ text: \"Search\", ...model, id: \"$all\" }} />\r\n);\r\n\r\nexport default ViewListSearch;\r\n","import React, { useContext } from \"react\";\r\nimport {\r\n  DatabaseSearchContext,\r\n  Wrapper,\r\n  ContentTypeRender,\r\n  ViewListRender,\r\n} from \"nystem-components\";\r\n\r\nimport \"./table.scss\";\r\n\r\nconst ViewListView = ({ model, view }) => {\r\n  const { search } = useContext(DatabaseSearchContext);\r\n  const value = (search && search.data) || [];\r\n  const { emptyFields, className = [], headerFields, renderFormat } = model;\r\n\r\n  if (value.length === 0 && emptyFields && emptyFields.length > 0)\r\n    return (\r\n      <Wrapper className={className}>\r\n        <ContentTypeRender items={emptyFields} />\r\n      </Wrapper>\r\n    );\r\n\r\n  if (model.renderFormat === \"table\")\r\n    return (\r\n      <Wrapper renderAs=\"table\" className={className}>\r\n        <Wrapper renderAs=\"thead\">\r\n          <Wrapper renderAs=\"tr\">\r\n            <ContentTypeRender items={headerFields} renderAs=\"th\" />\r\n          </Wrapper>\r\n        </Wrapper>\r\n        <Wrapper renderAs=\"tbody\">\r\n          <ViewListRender\r\n            value={value.map((data) => ({ ...data, renderAs: \"tr\" }))}\r\n            model={model}\r\n            view={view}\r\n          />\r\n        </Wrapper>\r\n      </Wrapper>\r\n    );\r\n\r\n  if (renderFormat === \"list\")\r\n    return (\r\n      <Wrapper className={className}>\r\n        <ViewListRender value={value} model={model} view={view} />\r\n      </Wrapper>\r\n    );\r\n\r\n  if (headerFields && headerFields.length)\r\n    return (\r\n      <Wrapper className={className}>\r\n        <ContentTypeRender items={headerFields} />\r\n        <ViewListRender value={value} model={model} view={view} />\r\n      </Wrapper>\r\n    );\r\n\r\n  return (\r\n    <Wrapper className={className}>\r\n      <ViewListRender value={value} model={model} view={view} />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default ViewListView;\r\n","import React from \"react\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nconst ViewTextBreak = ({ model }) => {\r\n  const className = model.className ? model.className.join(\" \") : \"\";\r\n  return (\r\n    <Wrapper className={className} renderAs={model.renderAs} translate=\"true\">\r\n      <br />\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default ViewTextBreak;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\nclass ViewTextToken extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.view = props.view;\r\n    const state = {\r\n      value: app().utils.clone(this.view.value),\r\n      text: this.insertVal(this.model.text)\r\n    };\r\n    this.view.on(\"change\", this.setValueView);\r\n    this.state = state;\r\n  }\r\n  setValueView() {\r\n    const self = this;\r\n    if (JSON.stringify(this.view.value) !== JSON.stringify(this.state.value))\r\n      setTimeout(function() {\r\n        if (self.isMounted())\r\n          self.setState({\r\n            value: app().utils.clone(self.view.value),\r\n            text: self.insertVal(self.model.text)\r\n          });\r\n      }, 0);\r\n  }\r\n  insertVal(val) {\r\n    if (!val) return val;\r\n    const self = this;\r\n    this.val = false;\r\n    return val.replace(/\\{([a-z_.]+)\\}/gim, function(str, p1, offset, s) {\r\n      const val = self.view.getValue(p1.replace(\"..\", self.props.path));\r\n      return typeof val === \"undefined\" ? \"\" : val;\r\n    });\r\n  }\r\n  componentWillUnmount() {\r\n    this.view.off(\"change\", this.setValueView);\r\n  }\r\n  render() {\r\n    const className = this.model.className ? this.model.className.join(\" \") : \"\";\r\n    const renderAs = this.props.model.renderAs\r\n      ? this.props.model.renderAs\r\n      : this.props.model.format;\r\n    return (\r\n      <Wrapper renderAs={renderAs} className={className}>\r\n        {app().t(this.state.text)}\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\nexport default ViewTextToken;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\nclass ViewTextTokenFallbackNew extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.view = props.view;\r\n    const state = {\r\n      value: app().utils.clone(this.view.value),\r\n      text: this.insertVal(this.model.text)\r\n    };\r\n    this.view.on(\"change\", this.setValueView);\r\n    this.state = state;\r\n  }\r\n  setValueView() {\r\n    const self = this;\r\n    if (JSON.stringify(this.view.value) !== JSON.stringify(this.state.value))\r\n      setTimeout(function() {\r\n        if (self.isMounted())\r\n          self.setState({\r\n            value: app().utils.clone(self.view.value),\r\n            text: self.insertVal(self.model.text)\r\n          });\r\n      }, 0);\r\n  }\r\n  insertVal(val) {\r\n    if (!val) return val;\r\n    const self = this;\r\n    this.val = false;\r\n    return val.replace(/\\{([a-z_.]+)\\}/gim, function(str, p1, offset, s) {\r\n      const val = self.view.getValue(p1.replace(\"..\", self.props.path));\r\n      self.val = self.val || val;\r\n      return typeof val === \"undefined\" ? \"\" : val;\r\n    });\r\n  }\r\n  componentWillUnmount() {\r\n    this.view.off(\"change\", this.setValueView);\r\n  }\r\n  render() {\r\n    const className = this.model.className ? this.model.className.join(\" \") : \"\";\r\n    const renderAs = this.props.model.renderAs\r\n      ? this.props.model.renderAs\r\n      : this.props.model.format;\r\n    const text = this.val\r\n      ? this.state.text\r\n      : \"New \" + app().contentType[this.view.contentType].name;\r\n    return (\r\n      <Wrapper renderAs={renderAs} className={className}>\r\n        {app().t(text)}\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\nexport default ViewTextTokenFallbackNew;\r\n","import React from \"react\";\r\nimport { Wrapper } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst ViewTextView = ({ model }) => {\r\n  const className = model.className ? model.className.join(\" \") : \"\";\r\n  return (\r\n    <Wrapper className={className} renderAs={model.renderAs} translate=\"true\">\r\n      {app().t(model.text)}\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default ViewTextView;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\nclass ConnectionCssclass extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { connected: app().connection.connected() };\r\n  }\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    this.setState({ value: nextProps.value });\r\n  }\r\n  componentDidMount() {\r\n    app().connection.on(\"connect\", this.update);\r\n    app().connection.on(\"diconnect\", this.update);\r\n  }\r\n  componentWillUnmount() {\r\n    app().connection.on(\"connect\", this.update);\r\n    app().connection.on(\"diconnect\", this.update);\r\n  }\r\n  update = () => {\r\n    this.setState({ connected: app().connection.connected() });\r\n  };\r\n  render() {\r\n    const { children, view } = this.props;\r\n    const model = this.props.model || this.props;\r\n    const { connected } = this.state;\r\n\r\n    let className =\r\n      model.className instanceof Array\r\n        ? model.className.join(\" \")\r\n        : model.className || \"\";\r\n    const connectionClass =\r\n      (connected ? model.onlineClass : model.offlineClass) || \"\";\r\n    const space = connectionClass && className ? \" \" : \"\";\r\n\r\n    return (\r\n      <Wrapper className={className + space + connectionClass}>\r\n        {children ? children : model.item.map(view.createItem, this)}\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ConnectionCssclass;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst ConnectionView = ({ model = {}, offline, className, path, children }) => {\r\n  const [connected, setConnectedState] = useState(app().connection.connected());\r\n\r\n  useEffect(() => {\r\n    const update = () => {\r\n      setConnectedState(app().connection.connected());\r\n    };\r\n\r\n    app().connection.on(\"connect\", update);\r\n    app().connection.on(\"disconnect\", update);\r\n\r\n    return () => {\r\n      app().connection.off(\"connect\", update);\r\n      app().connection.off(\"disconnect\", update);\r\n    };\r\n  });\r\n\r\n  className = className || model.className;\r\n  offline = offline || model.offline;\r\n\r\n  if ((connected && offline) || (!connected && !offline)) return null;\r\n\r\n  return (\r\n    <Wrapper className={className}>\r\n      {children || <ContentTypeRender path={path} items={model.item} />}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default ConnectionView;\r\n","import React from \"react\";\nclass Offline extends React.Component {\n  render() {\n    return (\n      <div className=\"cssload-loader\">\n        <div className=\"cssload-inner cssload-one\" />\n        <div className=\"cssload-inner cssload-two\" />\n        <div className=\"cssload-inner cssload-three\" />\n      </div>\n    );\n  }\n}\nexport default Offline;\n","import React from \"react\";\r\n\r\nconst ContentTypeContext = React.createContext();\r\n\r\nexport default ContentTypeContext;\r\n\r\nexport const ViewContextProvider = ContentTypeContext.Provider;\r\n","import React, { useContext } from \"react\";\r\nimport app from \"nystem\";\r\nimport * as components from \"nystem-components\";\r\n\r\nconst createItem = ({ item, value, path, view, ...context }) => {\r\n  const { capFirst } = app();\r\n  const { id, type, format } = item;\r\n\r\n  const componentName = `${capFirst(type)}${capFirst(\r\n    format || view.viewFormat || \"view\"\r\n  )}`;\r\n\r\n  const component =\r\n    components[componentName] || components[`${capFirst(type)}View`];\r\n\r\n  const { getValue, getId } = view;\r\n  path = getId({ id, path });\r\n  const setValue = (value) => view.setValue({ path, value });\r\n\r\n  if (!component)\r\n    return (\r\n      <div\r\n        key={context.key}\r\n        className=\"red\"\r\n      >{`Missing component ${componentName}`}</div>\r\n    );\r\n\r\n  const focus =\r\n    item.format === \"input\" &&\r\n    item.category !== \"view\" &&\r\n    view.focus &&\r\n    !view.focused;\r\n\r\n  if (focus) view.focused = true;\r\n\r\n  return React.createElement(component, {\r\n    ...context,\r\n    value: getValue(path),\r\n    path,\r\n    view,\r\n    model: item,\r\n    setValue,\r\n    focus,\r\n  });\r\n};\r\n\r\nconst ContentTypeRender = (props) => {\r\n  const { path, items, renderAs } = props;\r\n  const context = useContext(components.ContentTypeContext);\r\n\r\n  if (!items) return <div className=\"red\">Missing items</div>;\r\n\r\n  return items.map((item, key) => {\r\n    const out = createItem({ key, item, path, ...context });\r\n    return (renderAs && React.createElement(renderAs, { key }, out)) || out;\r\n  });\r\n};\r\nexport default ContentTypeRender;\r\n","import React, { useState, useEffect, useMemo, useRef } from \"react\";\r\nimport app from \"nystem\";\r\nimport {\r\n  Loading,\r\n  Wrapper,\r\n  DatabaseGet,\r\n  ContentTypeRender,\r\n  DatabaseSearchContextProvider,\r\n} from \"nystem-components\";\r\nimport { getDiff, applyDiff } from \"recursive-diff\";\r\n\r\nimport { ViewContextProvider } from \"./context\";\r\nimport \"./view.css\";\r\n\r\nconst setValueAtPath = ({ path, current, value }) => {\r\n  if (!path) return value;\r\n\r\n  const parts = path.split(\".\");\r\n  const out = { ...current };\r\n  let at = out;\r\n\r\n  parts.forEach((key, index) => {\r\n    if (parts.length - 1 === index) at[key] = value;\r\n    else {\r\n      at[key] = at[key] instanceof Array ? [...at[key]] : { ...at[key] };\r\n      at = at[key];\r\n    }\r\n  });\r\n  console.log(out);\r\n  return out;\r\n};\r\n\r\nconst getId = ({ path, id }) => {\r\n  if (path && id) return `${path}.${id}`;\r\n  if (id) return id;\r\n  return path;\r\n};\r\n\r\nconst useValue = ({ view, propvalue }) => {\r\n  const { id, contentType, noAutoUpdate } = view;\r\n\r\n  const { loading, data, first } = DatabaseGet({\r\n    contentType,\r\n    id,\r\n    noAutoUpdate,\r\n  });\r\n  const [viewValue, setViewValue] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (!view.on) return;\r\n\r\n    const reload = () => setViewValue(firstData.current);\r\n\r\n    view.on(\"reload\", reload);\r\n    return () => {\r\n      view.off(\"reload\", reload);\r\n    };\r\n  }, [view]);\r\n\r\n  const firstData = useRef(false);\r\n  useEffect(() => {\r\n    if (!data || !first) return;\r\n    firstData.current = data;\r\n  }, [data, first]);\r\n\r\n  const viewValueRef = useRef(false);\r\n  useEffect(() => {\r\n    if (!viewValueRef.current) return;\r\n    const diff = getDiff(firstData.current, data);\r\n    const res = applyDiff(viewValueRef.current, diff);\r\n\r\n    setViewValue({ ...res });\r\n  }, [data, view]);\r\n\r\n  const value = viewValue || data || propvalue || {};\r\n  viewValueRef.current = viewValue;\r\n\r\n  view.getValue = (path) =>\r\n    path ? path.split(\".\").reduce((val, key) => val && val[key], value) : value;\r\n\r\n  view.setValue = useMemo(\r\n    () => (props) => {\r\n      const out = setValueAtPath({ ...props, current: value });\r\n      setViewValue(out);\r\n      view.event(\"change\", { id: props.path, value: out, oldValue: value });\r\n      return out;\r\n    },\r\n    [value, view]\r\n  );\r\n\r\n  view.value = value;\r\n  return { value, loading };\r\n};\r\n\r\nconst ContentTypeView = ({\r\n  id,\r\n  contentType,\r\n  baseView,\r\n  addForm,\r\n  className,\r\n  itemFrom,\r\n  itemTo,\r\n  format,\r\n  children,\r\n  view: viewModel,\r\n  value: propvalue,\r\n  renderAs,\r\n  itemRenderAs,\r\n  ...events\r\n}) => {\r\n  const view = useMemo(() => {\r\n    const model = app().populatedViews[contentType];\r\n\r\n    if (!viewModel && !(model && model.views)) {\r\n      console.error(\"View creation error\", {\r\n        contentType,\r\n        baseView,\r\n        format,\r\n      });\r\n      return { model: {} };\r\n    }\r\n\r\n    const base = viewModel || model.views[format] || {};\r\n    return app().addeventhandler(\r\n      {\r\n        ...base,\r\n        baseView,\r\n        model,\r\n        format,\r\n        viewFormat: base.format,\r\n        contentType,\r\n        getId,\r\n        id,\r\n      },\r\n      `view ${contentType} ${format}`\r\n    );\r\n  }, [id, baseView, contentType, format, viewModel]);\r\n\r\n  const { model } = view;\r\n\r\n  useEffect(() => {\r\n    if (!view.on) return;\r\n\r\n    Object.keys(events).forEach((event) => {\r\n      if (event.substring(0, 2) === \"on\" && event[2].toUpperCase() === event[2])\r\n        view.on(event.substring(2).toLowerCase(), events[event]);\r\n    });\r\n\r\n    return () => {\r\n      Object.keys(events).forEach((event) => {\r\n        if (\r\n          event.substring(0, 2) === \"on\" &&\r\n          event[2].toUpperCase() === event[2]\r\n        )\r\n          view.off(event.substring(2).toLowerCase(), events[event]);\r\n      });\r\n    };\r\n  }, [events, view]);\r\n\r\n  const { value, loading } = useValue({ view, propvalue });\r\n\r\n  if (!model) return \"Missing model to create view\";\r\n  if (loading) return <Loading />;\r\n\r\n  const context = { contentType, model, view, value };\r\n  const items = view.item ? view.item.slice(itemFrom, itemTo) : [];\r\n\r\n  if (!renderAs) renderAs = !addForm ? undefined : \"form\";\r\n\r\n  return (\r\n    <ViewContextProvider value={context}>\r\n      <Wrapper\r\n        renderAs={renderAs}\r\n        className={className}\r\n        {...(!addForm\r\n          ? {}\r\n          : {\r\n              onSubmit: (e) => {\r\n                e.preventDefault();\r\n                view.event(\"submit\");\r\n              },\r\n            })}\r\n      >\r\n        <DatabaseSearchContextProvider view={view}>\r\n          {children || (\r\n            <ContentTypeRender items={items} renderAs={itemRenderAs} />\r\n          )}\r\n        </DatabaseSearchContextProvider>\r\n      </Wrapper>\r\n    </ViewContextProvider>\r\n  );\r\n};\r\n\r\nexport default ContentTypeView;\r\n","import { useState, useEffect } from \"react\";\r\n\r\nconst UseValidator = ({ validate, view, model, value }) => {\r\n  const [isValidated, setValidated] = useState(view && view.isValidated);\r\n  const error = isValidated && validate({ value, model });\r\n\r\n  useEffect(() => {\r\n    const validator = async ({ errors }) => {\r\n      setValidated(true);\r\n\r\n      const error = await Promise.resolve(validate({ value, model }) || false);\r\n      if (error) errors = [...(errors || []), error];\r\n      return errors ? { errors } : undefined;\r\n    };\r\n    if (!view) return;\r\n    view.on(\"validate\", validator);\r\n\r\n    return () => {\r\n      if (!view) return;\r\n      view.off(\"validate\", validator);\r\n    };\r\n  }, [view, validate, value, model]);\r\n\r\n  return [error, setValidated];\r\n};\r\nexport default UseValidator;\r\n","import React from \"react\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nconst types = {\r\n  primary: \"bg-blue-500 hover:bg-blue-500 text-white rounded shadow-sm\",\r\n  secondary:\r\n    \"bg-gray-200 hover:bg-gray-300 text-gray-900 border border-gray-300 rounded shadow-sm\",\r\n  \"ehc-primary\": \"floatlabel bg-primary text-white w-full\",\r\n  \"ehc-secondary\": \"floatlabel bg-secondary border border-gray-300 w-full\",\r\n  danger: \"bg-red-700 hover:bg-red-600 text-white rounded shadow-sm\",\r\n  warning: \"bg-yellow-600 hover:bg-yellow-500 text-white rounded shadow-sm\",\r\n  success: \"bg-green-600 hover:bg-green-500 text-white rounded shadow-sm\",\r\n  info: \"btn\",\r\n  error: \"btn\",\r\n  default: \"bg-gray-200 hover:bg-gray-300 text-gray-900 border border-gray-300\",\r\n  primaryDisabled: \"bg-blue-400 cursor-not-allowed\",\r\n  secondaryDisabled: \"bg-gray-600 text-white cursor-not-allowed\",\r\n  dangerDisabled: \"bg-red-400 text-white cursor-not-allowed\",\r\n  warningDisabled: \"bg-yellow-300 text-white cursor-not-allowed\",\r\n  infoDisabled: \"btn\",\r\n  errorDisabled: \"btn\",\r\n  defaultDisabled: \"bg-gray-300 text-white cursor-not-allowed\",\r\n};\r\n\r\nconst sizes = {\r\n  xs: \"py-1 px-2 text-xs\",\r\n  sm: \"py-1 px-2 text-sm\",\r\n  base: \"py-2 px-4 text-base\",\r\n  lg: \"py-4 px-6 text-lg\",\r\n  xl: \"py-4 px-8 text-xl\",\r\n  \"2xl\": \"py-4 px-8 text-xl2\",\r\n};\r\n\r\nconst Button = ({\r\n  onClick,\r\n  className = [],\r\n  type,\r\n  size,\r\n  disabled,\r\n  ...props\r\n}) => {\r\n  className = className instanceof Array ? [...className] : [className];\r\n\r\n  if (!className.includes(\"floatlabel\")) {\r\n    className.push(types[(type || \"default\") + (disabled ? \"Disabled\" : \"\")]);\r\n    className.push(sizes[size] || sizes.base);\r\n  }\r\n\r\n  if (props.Component)\r\n    return React.createElement(props.Component, {\r\n      className,\r\n      ...props,\r\n    });\r\n\r\n  return (\r\n    <Wrapper\r\n      renderAs=\"button\"\r\n      className={className}\r\n      {...props}\r\n      onClick={(e) => {\r\n        e.preventDefault();\r\n        onClick();\r\n      }}\r\n    />\r\n  );\r\n};\r\nexport default Button;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Button } from \"nystem-components\";\r\n\r\nclass ErrorManager extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.disconnectEvent = this.disconnectEvent.bind(this);\r\n    this.errorEvent = this.errorEvent.bind(this);\r\n    this.connectEvent = this.connectEvent.bind(this);\r\n    //window.onerror = this.errorEvent;\r\n    app().connection.on(\"disconnect\", this.disconnectEvent);\r\n    app().connection.on(\"connect\", this.connectEvent);\r\n    this.state = {\r\n      error: false,\r\n      offline: false\r\n    };\r\n  }\r\n  disconnectEvent() {\r\n    this.setState({\r\n      offline: true\r\n    });\r\n  }\r\n  connectEvent() {\r\n    if (this.state)\r\n      this.setState({\r\n        offline: false\r\n      });\r\n  }\r\n  errorEvent(error, url, line) {\r\n    const self = this;\r\n    console.log(error);\r\n    console.log(\"URL: \" + url);\r\n    console.log(\"Line Number: \" + line);\r\n    this.setState({ error: \"An error occured. Reload?\" });\r\n    if (this.errorTimer) clearTimeout(this.errorTimer);\r\n    this.errorTimer = setTimeout(function() {\r\n      self.setState({ error: false });\r\n    }, 5000);\r\n  }\r\n  errorReload(error, url, line) {\r\n    window.location.reload();\r\n  }\r\n  componentWillUnmount() {\r\n    clearTimeout(this.errorTimer);\r\n    app().connection.off(\"disconnect\", this.disconnectEvent);\r\n    app().connection.off(\"connect\", this.connectEvent);\r\n  }\r\n  render() {\r\n    if (this.state.error || this.state.offline)\r\n      return (\r\n        <Button className=\"btn-danger btn\" onClick={this.errorReload}>\r\n          {this.state.error || \"Site is offline\"}\r\n        </Button>\r\n      );\r\n    return <div />;\r\n  }\r\n}\r\nexport default ErrorManager;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nclass ErrorMsg extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { error: this.props.error };\r\n  }\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    this.setState({ error: nextProps.error });\r\n  }\r\n  render() {\r\n    const error =\r\n        this.state.error === true ? \"Required field\" : this.state.error,\r\n      defaultType = \"danger\",\r\n      className = [\"alert\"];\r\n    className.push(\r\n      \"alert-\" + (this.props.type ? this.props.type : defaultType)\r\n    );\r\n    if (this.props.className) className.push(this.props.className);\r\n    if (error)\r\n      return (\r\n        <p\r\n          className={className.join(\" \")}\r\n          dangerouslySetInnerHTML={{ __html: app().t(error) }}\r\n        />\r\n      );\r\n    return null;\r\n  }\r\n}\r\nexport default ErrorMsg;\r\n","import React, { useEffect, useRef } from \"react\";\r\n\r\nconst byType = {\r\n  text:\r\n    \"appearance-none block bg-grey-lighter text-grey-darker border border-grey-lighter rounded py-1 px-3\",\r\n  password:\r\n    \"appearance-none block bg-grey-lighter text-grey-darker border border-grey-lighter rounded py-1 px-3\",\r\n  checkbox: \"m-4\",\r\n};\r\n\r\nconst Input = ({ selectAllOnFocus, type, value, ...props }, parentRef) => {\r\n  const localRef = useRef(null);\r\n  const ref = parentRef || localRef;\r\n\r\n  useEffect(() => {\r\n    if (props.focus) ref.current.focus();\r\n  }, [props.focus, ref]);\r\n\r\n  const elementProps = { ...props };\r\n  delete elementProps.focus;\r\n  delete elementProps.renderAs;\r\n  delete elementProps.accessibilityLabel;\r\n  delete elementProps.accessible;\r\n  delete elementProps.translate;\r\n  delete elementProps.accessibilityTraits;\r\n  delete elementProps.accessibilityTraits;\r\n\r\n  let { className } = props;\r\n  className = className instanceof Array ? className.join(\" \") : className;\r\n\r\n  type = type || \"text\";\r\n  if (!className && [\"text\", \"password\"].includes(type))\r\n    className = \"sm:w-1/2 w-full\";\r\n\r\n  if (className && className.includes(\"floatlabel\"))\r\n    return (\r\n      <input\r\n        ref={ref}\r\n        {...elementProps}\r\n        className={` ${className}`}\r\n        onChange={(e) => props.onChange(e.target.value)}\r\n        onFocus={(ev) => {\r\n          if (selectAllOnFocus) ref.current.select();\r\n          if (elementProps.onFocus) return elementProps.onFocus(ev);\r\n        }}\r\n        type={type}\r\n        value={value}\r\n      />\r\n    );\r\n\r\n  return (\r\n    <input\r\n      ref={ref}\r\n      {...elementProps}\r\n      className={`${byType[type]} ${className}`}\r\n      onChange={(e) => props.onChange(e.target.value)}\r\n      onFocus={(ev) => {\r\n        if (selectAllOnFocus) ref.current.select();\r\n        if (elementProps.onFocus) return elementProps.onFocus(ev);\r\n      }}\r\n      type={type}\r\n      value={value}\r\n    />\r\n  );\r\n};\r\nexport default React.forwardRef(Input);\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nconst InputWrapper = ({\r\n  model,\r\n  error,\r\n  className: pClassName,\r\n  children,\r\n  id,\r\n}) => {\r\n  const inputWidth = model.classNameInput;\r\n\r\n  function label() {\r\n    const classNameLabel = [...(model.classNameLabel || [])];\r\n    if (!model.floatlabel)\r\n      classNameLabel.push(\r\n        \"mr-3 font-semibold sm:w-32 min-w-32 text-right align-top mt-1\"\r\n      );\r\n\r\n    if (!model.text) return null;\r\n    const text =\r\n      typeof model.text === \"string\" ? app().t(model.text) : model.text;\r\n\r\n    return (\r\n      <Wrapper renderAs=\"label\" htmlFor={id} className={classNameLabel}>\r\n        {text}\r\n        {model.mandatory && <span className=\"text-red-800 text-sm\">*</span>}\r\n      </Wrapper>\r\n    );\r\n  }\r\n\r\n  function errorMsg() {\r\n    error = error === true ? \"Required field\" : error;\r\n\r\n    const className = [\"text-red-600 ml-3\"];\r\n    if (pClassName) className.push(pClassName);\r\n\r\n    if (error) return <p className={className.join(\" \")}>{app().t(error)}</p>;\r\n    return null;\r\n  }\r\n\r\n  const info = () =>\r\n    model.info ? (\r\n      <span className=\"help-block\">{app().t(model.info)}</span>\r\n    ) : null;\r\n\r\n  const className = pClassName || model.className || [];\r\n\r\n  if (model.nolabel)\r\n    return (\r\n      <Wrapper className={className}>\r\n        {children}\r\n        {info()}\r\n        {errorMsg()}\r\n      </Wrapper>\r\n    );\r\n\r\n  if (model.floatlabel)\r\n    return (\r\n      <Wrapper className={className}>\r\n        {label()}\r\n        <Wrapper renderAs=\"div\">\r\n          {children}\r\n          {info()}\r\n          {errorMsg()}\r\n        </Wrapper>\r\n      </Wrapper>\r\n    );\r\n\r\n  return (\r\n    <Wrapper className={[...className, \"sm:flex my-2\"]}>\r\n      {label()}\r\n      <Wrapper renderAs=\"div\" className={inputWidth || \"flex-grow\"}>\r\n        {children}\r\n        {info()}\r\n        {errorMsg()}\r\n      </Wrapper>\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default InputWrapper;\r\n","import React from \"react\";\nclass Label extends React.Component {\n  render() {\n    if (!this.props.model.text) return null;\n    if (this.props.model.mandatory)\n      return (\n        <label htmlFor=\"id_input\" className=\"col-sm-2 col-form-label\">\n          {this.props.model.text}<span className=\"red\">*</span>\n        </label>\n      );\n    return (\n      <label htmlFor=\"id_input\" className=\"col-sm-2 col-form-label\">\n        {this.props.model.text}\n      </label>\n    );\n  }\n}\nexport default Label;\n","import React from \"react\";\nimport \"./loading.scss\";\n\nclass Loading extends React.Component {\n  state = { inDelay: true };\n  componentDidMount() {\n    this.delayTimer = setTimeout(() => this.setState({ inDelay: false }), 200);\n  }\n  componentWillUnmount() {\n    clearTimeout(this.delayTimer);\n  }\n  render() {\n    const { inDelay } = this.state;\n    return inDelay ? null : (\n      <div className=\"cssload-loader\">\n        <div className=\"cssload-inner cssload-one\" />\n        <div className=\"cssload-inner cssload-two\" />\n        <div className=\"cssload-inner cssload-three\" />\n      </div>\n    );\n  }\n}\nexport default Loading;\n","import React from \"react\";\nclass Render extends React.Component {\n  render() {\n    let model = this.props.model || {};\n\n    if (!model.className && !this.props.className)\n      return <div>{this.props.children}</div>;\n\n    let className = model.className ? model.className.join(\" \") : \"\";\n\n    if (!className && !this.props.className)\n      return <div>{this.props.children}</div>;\n\n    return (\n      <div className={this.props.className + \" \" + className}>\n        {this.props.children}\n      </div>\n    );\n  }\n}\nexport default Render;\n","import { useState, useEffect } from \"react\";\r\nimport app from \"nystem\";\r\n\r\nconst UseEvent = (event, data) => {\r\n  const [result, setResult] = useState({});\r\n\r\n  useEffect(() => {\r\n    app()\r\n      .event(event, data)\r\n      .then((result) => setResult(result));\r\n  }, [data, event]);\r\n\r\n  return result;\r\n};\r\n\r\nexport default UseEvent;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nconst ViewSmallComponentErrorMsg = ({ view, model }) => {\r\n  const [error, setError] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const errorSetter = error => {\r\n      setError(error);\r\n    };\r\n    view.on(\"error\", errorSetter);\r\n\r\n    return () => {\r\n      view.off(\"error\", errorSetter);\r\n    };\r\n  });\r\n\r\n  const className = model.className ? model.className.join(\" \") : \"\";\r\n\r\n  if (error)\r\n    return (\r\n      <Wrapper className={`text-red-500 ml-32 pl-12 ${className}`}>\r\n        {app().t(error)}\r\n      </Wrapper>\r\n    );\r\n  return null;\r\n};\r\n\r\nexport default ViewSmallComponentErrorMsg;\r\n","import React from \"react\";\r\n\r\nconst tags = [\r\n  \"p\",\r\n  \"a\",\r\n  \"h1\",\r\n  \"h2\",\r\n  \"h3\",\r\n  \"h4\",\r\n  \"h5\",\r\n  \"h6\",\r\n  \"div\",\r\n  \"nav\",\r\n  \"section\",\r\n  \"span\",\r\n  \"b\",\r\n  \"em\",\r\n  \"strong\",\r\n  \"i\",\r\n  \"form\",\r\n  \"button\",\r\n  \"label\",\r\n  \"table\",\r\n  \"tbody\",\r\n  \"thead\",\r\n  \"tr\",\r\n  \"th\",\r\n  \"td\",\r\n  \"sup\",\r\n].reduce((prev, tag) => {\r\n  prev[tag] = true;\r\n  return prev;\r\n}, {});\r\n\r\nconst typeClass = {\r\n  h1: \"text-2xl\",\r\n  h2: \"text-xl\",\r\n  h3: \"text-4xl pb-5 pt-2\",\r\n  h4: \"text-xl\",\r\n};\r\n\r\nconst Wrapper = (\r\n  {\r\n    renderAs,\r\n    className,\r\n    model,\r\n    accessibilityLabel,\r\n    accessible,\r\n    translate,\r\n    accessibilityTraits,\r\n    children,\r\n    onClick,\r\n    style,\r\n    ...props\r\n  },\r\n  ref\r\n) => {\r\n  className = className instanceof Array ? className.join(\" \") : className;\r\n\r\n  if (\r\n    !className &&\r\n    !renderAs &&\r\n    !onClick &&\r\n    !style &&\r\n    !Object.keys(props).length\r\n  )\r\n    return children || null;\r\n\r\n  if (!tags[renderAs] || renderAs === \"input\") renderAs = \"div\";\r\n\r\n  if (typeClass[renderAs])\r\n    className = `${className || \"\"} ${typeClass[renderAs]}`;\r\n\r\n  return React.createElement(\r\n    renderAs,\r\n    { ...props, ref, className, onClick, style },\r\n    children\r\n  );\r\n};\r\nexport default React.forwardRef(Wrapper);\r\n","import { useEffect } from \"react\";\r\nimport app from \"nystem\";\r\n\r\nconst DatabaseAddToCache = ({ options = {}, contentType, addMedia }) => {\r\n  useEffect(() => {\r\n    const doSearch = () => {\r\n      if (options.count) options.count = parseInt(options.count, 10);\r\n\r\n      app()\r\n        .database[contentType].search(options)\r\n        .then(({ data }) => {\r\n          if (!data) return;\r\n\r\n          data.forEach((item) =>\r\n            app().event(\"addToCache\", {\r\n              id: item._id,\r\n              contentType,\r\n              addReferencesToCache: options.addReferencesToCache,\r\n              addMedia,\r\n              value: item,\r\n            })\r\n          );\r\n        });\r\n    };\r\n\r\n    let timer = false;\r\n    const doSearchDebounce = () => {\r\n      clearTimeout(timer);\r\n      timer = setTimeout(() => {\r\n        timer = false;\r\n        doSearch();\r\n      }, 5000);\r\n    };\r\n\r\n    app().database[contentType].on(\"update\", -1000, doSearchDebounce);\r\n    app().on([\"login\", \"logout\"], -1000, doSearchDebounce);\r\n\r\n    return () => {\r\n      if (timer) clearTimeout(timer);\r\n\r\n      app().database[contentType].off(\"update\", doSearchDebounce);\r\n      app().off([\"login\", \"logout\"], doSearchDebounce);\r\n    };\r\n  });\r\n\r\n  return null;\r\n};\r\nexport default DatabaseAddToCache;\r\n","import { useEffect, useContext } from \"react\";\r\nimport { DatabaseSearchContext } from \"nystem-components\";\r\n\r\nconst DatabaseBaseViewSearch = ({ view }) => {\r\n  const { setSearch, search } = useContext(DatabaseSearchContext);\r\n\r\n  useEffect(() => {\r\n    const updateSearch = ({ filter }) => {\r\n      if (filter) setSearch({ ...search, filter });\r\n    };\r\n    view.baseView.on(\"search\", updateSearch);\r\n    return () => {\r\n      view.baseView.off(\"search\", updateSearch);\r\n    };\r\n  }, [view.baseView, search, setSearch]);\r\n\r\n  useEffect(() => {\r\n    if (!search.contentType || search.filter) return;\r\n\r\n    const updateSearch = ({ filter }) => {\r\n      if (filter) setSearch({ ...search, filter });\r\n    };\r\n    setTimeout(() => {\r\n      view.baseView.event(\"getSearch\").then(updateSearch);\r\n    }, 0);\r\n  }, [view.baseView, search, setSearch]);\r\n\r\n  return null;\r\n};\r\n\r\nexport default DatabaseBaseViewSearch;\r\n","import { useEffect, useState } from \"react\";\r\nimport app from \"nystem\";\r\n\r\nconst DatabaseGet = ({ id, contentType, noAutoUpdate }) => {\r\n  const db = app().database[contentType];\r\n  const [result, setResult] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (!id) {\r\n      setResult(false);\r\n      return;\r\n    }\r\n    if (!db) {\r\n      console.error({ id, contentType, noAutoUpdate });\r\n      return;\r\n    }\r\n\r\n    let first = true;\r\n\r\n    const doGet = ({ ids } = {}) => {\r\n      if (!ids || ids.includes(id))\r\n        db.get({ id }).then((result) => {\r\n          setResult({ first, ...result });\r\n          first = false;\r\n        });\r\n    };\r\n    doGet();\r\n    if (noAutoUpdate) return;\r\n\r\n    db.on(\"update\", doGet);\r\n    return () => {\r\n      db.off(\"update\", doGet);\r\n    };\r\n  }, [noAutoUpdate, contentType, db, id]);\r\n\r\n  return { loading: id && !result, ...result };\r\n};\r\nexport default DatabaseGet;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass DatabaseMissing extends React.Component {\r\n  static contextTypes = {\r\n    view: PropTypes.object.isRequired,\r\n    dataMissing: PropTypes.bool\r\n  };\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.view = props.view;\r\n    this.state = {\r\n      value: this.props.value\r\n    };\r\n    this.path = this.props.path;\r\n  }\r\n  valid = () => {\r\n    let valid = true;\r\n    for (let i = 0; i < this.model.item.length; i++)\r\n      if (\r\n        this.refs[`component${i}`].valid &&\r\n        this.refs[`component${i}`].valid &&\r\n        !this.refs[`component${i}`].valid()\r\n      )\r\n        valid = false;\r\n    return valid;\r\n  };\r\n  setValue = (id, value) => {\r\n    return this.props.setValue(id, value);\r\n  };\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    this.setState({\r\n      value: nextProps.value\r\n    });\r\n  }\r\n  render() {\r\n    const { model } = this.props;\r\n    const { view, dataMissing } = this.context;\r\n    this.focus = view.focus;\r\n    if (dataMissing) return model.item.map(view.createItem, this);\r\n    return null;\r\n  }\r\n}\r\nexport default DatabaseMissing;\r\n","import { useState, useEffect, useCallback } from \"react\";\r\nimport app from \"nystem\";\r\n\r\nconst DatabaseOneSearch = ({ noAutoUpdate, contentType, search: inSearch }) => {\r\n  const db = app().database[contentType];\r\n  const searchString = JSON.stringify(inSearch);\r\n\r\n  const [search, setSearchState] = useState(inSearch);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const setSearch = useCallback(\r\n    (search) => {\r\n      setLoading(true);\r\n\r\n      db.search({ ...search, data: undefined }).then((search) => {\r\n        setSearchState(search);\r\n        setLoading(false);\r\n      });\r\n\r\n      // if (!noAutoUpdate) db.on(\"update\", setSearch);\r\n    },\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [db, searchString]\r\n  );\r\n\r\n  useEffect(() => {\r\n    setSearch(inSearch);\r\n\r\n    return () => {\r\n      if (!noAutoUpdate) db.off(\"update\", setSearch);\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [noAutoUpdate, db, setSearch]);\r\n\r\n  return { loading, search, setSearch };\r\n};\r\n\r\nexport default DatabaseOneSearch;\r\n","import { useEffect, useContext } from \"react\";\r\nimport { DatabaseSearchContext } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst DatabaseSearch = ({ view, model, path, children }) => {\r\n  const { exact, reversesortby: reverse, count, subView, filter } = model;\r\n  let { sortby } = model;\r\n\r\n  const { setSearch } = useContext(DatabaseSearchContext);\r\n\r\n  useEffect(() => {\r\n    const updateFilter = () => {\r\n      if (!filter) return;\r\n\r\n      const insertVal = (val) =>\r\n        val.replace(/\\{([a-z_.]+)\\}/gim, (str, p1, offset, s) =>\r\n          view.getValue(p1.replace(\"..\", path))\r\n        );\r\n\r\n      options.filter = { $and: [] };\r\n      for (const item in filter) {\r\n        const oneFilter = {};\r\n        const oneFilterIn = filter[item].and;\r\n        for (const i in oneFilterIn)\r\n          oneFilter[insertVal(oneFilterIn[i][0])] = insertVal(\r\n            oneFilterIn[i][1]\r\n          );\r\n        options.filter.$and.push(oneFilter);\r\n      }\r\n    };\r\n\r\n    const { contentType } = view;\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    sortby = sortby instanceof Array ? sortby : sortby && [sortby];\r\n\r\n    const options = {\r\n      exact,\r\n      sortby: sortby && sortby.map((item) => item.id),\r\n      reverse,\r\n      contentType,\r\n      iiid: app().uuid(),\r\n    };\r\n\r\n    if (count) options.count = parseInt(count, 10);\r\n    if (view.id && subView) options.database = view.id;\r\n\r\n    updateFilter();\r\n    setSearch(options);\r\n  }, [count, exact, path, reverse, setSearch, sortby, subView, view]);\r\n\r\n  return children || null;\r\n};\r\n\r\nexport default DatabaseSearch;\r\n","import React from \"react\";\r\n\r\nconst DatabaseSearchContext = React.createContext();\r\n\r\nexport default DatabaseSearchContext;\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport app from \"nystem\";\r\nimport SearchContext from \"./searchContext\";\r\n\r\nconst DatabaseSearchContextProvider = ({ children, view }) => {\r\n  const [search, setSearchState] = useState({});\r\n  const [loading, setLoading] = useState(false);\r\n  const { contentType } = search;\r\n\r\n  const setSearch = useCallback(\r\n    async (search) => {\r\n      const { contentType } = search;\r\n      setLoading(true);\r\n      const searchResult = await app().database[contentType].search({\r\n        ...search,\r\n        data: undefined,\r\n      });\r\n\r\n      view\r\n        .event(\"search\", searchResult)\r\n        .then((searchResult) => setSearchState(searchResult));\r\n\r\n      setLoading(false);\r\n\r\n      return searchResult;\r\n    },\r\n    [view]\r\n  );\r\n\r\n  const setFilter = useCallback(\r\n    async ({ value, modelId, id }) => {\r\n      if (!Object.keys(search).length) return;\r\n\r\n      const { filter = {} } = search;\r\n      let { $and = [] } = filter;\r\n      const old = ($and.find((obj) => obj.__id === id) || {})[modelId] || \"\";\r\n      if (old === value) return;\r\n\r\n      $and = $and.filter((obj) => obj.__id !== id);\r\n      if (value !== undefined)\r\n        $and.push({\r\n          __id: id,\r\n          [modelId]: value,\r\n        });\r\n\r\n      return setSearch({ ...search, filter: { ...filter, $and } });\r\n    },\r\n    [setSearch, search]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (!contentType || search.noAutoUpdate) return;\r\n\r\n    const doSearch = async () => {\r\n      setLoading(true);\r\n\r\n      const searchResult = await app().database[contentType].search({\r\n        ...search,\r\n        data: undefined,\r\n      });\r\n\r\n      view\r\n        .event(\"search\", searchResult)\r\n        .then((searchResult) => setSearchState(searchResult));\r\n\r\n      setLoading(false);\r\n    };\r\n\r\n    app().database[contentType].on(\"update\", -1000, doSearch);\r\n    app().on([\"login\", \"logout\"], -1000, doSearch);\r\n    const getSearch = () => search;\r\n    view.on(\"getSearch\", getSearch);\r\n\r\n    return () => {\r\n      app().database[contentType].off(\"update\", doSearch);\r\n      app().off([\"login\", \"logout\"], doSearch);\r\n      view.off(\"getSearch\", getSearch);\r\n    };\r\n  }, [search, contentType, setSearch, view]);\r\n\r\n  return (\r\n    <SearchContext.Provider value={{ loading, search, setSearch, setFilter }}>\r\n      {children}\r\n    </SearchContext.Provider>\r\n  );\r\n};\r\nexport default DatabaseSearchContextProvider;\r\n","import React, { useContext } from \"react\";\r\nimport { Button, DatabaseSearchContext } from \"nystem-components\";\r\n\r\nconst DatabaseShowMoreButton = ({ model }) => {\r\n  const { search, setSearch } = useContext(DatabaseSearchContext);\r\n\r\n  if (search.count > search.searchTotal) return null;\r\n\r\n  return (\r\n    <Button\r\n      className={model.className}\r\n      type=\"lsdkfh\"\r\n      onClick={() => {\r\n        setSearch({\r\n          ...search,\r\n          count: search.count + parseInt(model.amount, 10),\r\n        });\r\n      }}\r\n    >\r\n      {model.text}\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default DatabaseShowMoreButton;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass DatabaseView extends React.Component {\r\n  static contextTypes = {\r\n    view: PropTypes.object.isRequired,\r\n    dataMissing: PropTypes.bool\r\n  };\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.view = props.view;\r\n    this.state = {\r\n      value: this.props.value\r\n    };\r\n    this.path = this.props.path;\r\n  }\r\n  valid = () => {\r\n    let valid = true;\r\n    for (let i = 0; i < this.model.item.length; i++)\r\n      if (\r\n        this.refs[`component${i}`].valid &&\r\n        this.refs[`component${i}`].valid &&\r\n        !this.refs[`component${i}`].valid()\r\n      )\r\n        valid = false;\r\n    return valid;\r\n  };\r\n  setValue = (id, value) => {\r\n    return this.props.setValue(id, value);\r\n  };\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    this.setState({\r\n      value: nextProps.value\r\n    });\r\n  }\r\n  render() {\r\n    const { model } = this.props;\r\n    const { view, dataMissing } = this.context;\r\n    this.focus = view.focus;\r\n    if (!dataMissing) return model.item.map(view.createItem, this);\r\n    return null;\r\n  }\r\n}\r\nexport default DatabaseView;\r\n","import React from \"react\";\r\nimport { DateInput } from \"nystem-components\";\r\nclass DateExposedField extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.props.view.searchProp.onUpdate(this.update);\r\n    this.classNameBase = this.model.className ? this.model.className : [];\r\n    this.updateCounter = 0;\r\n  }\r\n  update(data) {\r\n    if (this.id) {\r\n      const state = {};\r\n      const modelId = this.model.id;\r\n\r\n      state.from = this.props.view.searchProp.filter.get(this.id + \"_from\");\r\n      if (typeof state.from !== \"undefined\" && state.from[modelId])\r\n        state.from = state.from[modelId].substring(1);\r\n      else delete state.from;\r\n\r\n      state.to = this.props.view.searchProp.filter.get(this.id + \"_to\");\r\n      if (typeof state.to !== \"undefined\" && state.to[modelId])\r\n        state.to = state.to[modelId].substring(1);\r\n      else delete state.to;\r\n      if (typeof state.from !== \"undefined\" || typeof state.to !== \"undefined\")\r\n        this.setState(state);\r\n    }\r\n    const self = this;\r\n    if (this.updateCounter > 0) this.updateCounter--;\r\n    if (this.state.className === \"\" || this.updateCounter > 0) return;\r\n    this.setState({\r\n      className: \"has-success\"\r\n    });\r\n    this.delayTimer = setTimeout(function() {\r\n      if (self.isMounted())\r\n        self.setState({\r\n          className: \"\"\r\n        });\r\n    }, 1000);\r\n  }\r\n  search(id, value) {\r\n    const self = this;\r\n    clearTimeout(this.delayTimer);\r\n    const state = {\r\n      className: \"has-warning\"\r\n    };\r\n    state[id] = value;\r\n    this.setState(state);\r\n    this.delayTimer = setTimeout(function() {\r\n      self.updateCounter++;\r\n      if (value)\r\n        if (id === \"to\") value = \"<\" + value;\r\n        else value = \">\" + value;\r\n      self.props.view.searchProp.filter.add(\r\n        self.model.id,\r\n        value,\r\n        self.id + \"_\" + id\r\n      );\r\n    }, 200);\r\n  }\r\n  componentDidMount() {}\r\n  componentWillUnmount() {\r\n    this.props.view.searchProp.offUpdate(this.update);\r\n    clearTimeout(this.delayTimer);\r\n  }\r\n  render() {\r\n    const model = this.props.model;\r\n    const className = model.className && !this.props.wrapper\r\n      ? model.className.join(\" \")\r\n      : \"\";\r\n    const modelFrom = {\r\n      id: \"from\",\r\n      placeholder: \"From\",\r\n      clearButton: true\r\n    };\r\n    const modelTo = {\r\n      id: \"to\",\r\n      placeholder: \"To\",\r\n      clearButton: true\r\n    };\r\n    const style = {\r\n      width: \"150px\"\r\n    };\r\n    return (\r\n      <div className={className + \" form-inline\"}>\r\n        {this.model.text}\r\n        <DateInput\r\n          style={style}\r\n          model={modelFrom}\r\n          value={this.state.from}\r\n          setValue={this.search}\r\n        />\r\n        {\" - \"}\r\n        <DateInput\r\n          style={style}\r\n          model={modelTo}\r\n          value={this.state.to}\r\n          setValue={this.search}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default DateExposedField;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { SelectInput } from \"nystem-components\";\r\n\r\nclass DateExposedYearMonth extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.props.view.searchProp.onUpdate(this.update);\r\n    this.classNameBase = this.model.className ? this.model.className : [];\r\n    this.updateCounter = 0;\r\n    this.years = [];\r\n    const thisYear = new Date().getFullYear();\r\n    for (\r\n      let i = this.model.fromYear ? this.model.fromYear : 2012;\r\n      i <= thisYear;\r\n      i++\r\n    )\r\n      this.years.push(i.toString());\r\n    this.months = [\r\n      \"Jan\",\r\n      \"Feb\",\r\n      \"Mar\",\r\n      \"Apr\",\r\n      \"May\",\r\n      \"Jun\",\r\n      \"Jul\",\r\n      \"Oct\",\r\n      \"Nov\",\r\n      \"Dec\"\r\n    ];\r\n  }\r\n  update(data) {\r\n    if (this.id) {\r\n      const state = {};\r\n      const modelId = this.model.id;\r\n\r\n      state.from = this.props.view.searchProp.filter.get(`${this.id}_from`);\r\n      if (typeof state.from !== \"undefined\" && state.from[modelId])\r\n        state.from = state.from[modelId].substring(1);\r\n      else delete state.from;\r\n\r\n      state.to = this.props.view.searchProp.filter.get(`${this.id}_to`);\r\n      if (typeof state.to !== \"undefined\" && state.to[modelId])\r\n        state.to = state.to[modelId].substring(1);\r\n      else delete state.to;\r\n      if (typeof state.from !== \"undefined\" || typeof state.to !== \"undefined\")\r\n        this.setState(state);\r\n    }\r\n    const self = this;\r\n    if (this.updateCounter > 0) this.updateCounter--;\r\n    if (this.state.className === \"\" || this.updateCounter > 0) return;\r\n    this.setState({\r\n      className: \"has-success\"\r\n    });\r\n    this.delayTimer = setTimeout(() => {\r\n      if (self.isMounted())\r\n        self.setState({\r\n          className: \"\"\r\n        });\r\n    }, 1000);\r\n  }\r\n  search(id, value) {\r\n    const self = this;\r\n    function daysInMonth(year, month) {\r\n      return new Date(year, month, 0).getDate();\r\n    }\r\n    clearTimeout(this.delayTimer);\r\n    let state = {\r\n      className: \"has-warning\"\r\n    };\r\n    self.updateCounter++;\r\n    state = app().utils.clone(self.state);\r\n    if (id === \"year\") {\r\n      if (!value) {\r\n        state.from = undefined;\r\n        state.to = undefined;\r\n      } else {\r\n        state.from = `>${new Date(`${value}-01-01`).getTime()}`;\r\n        state.to = `<${new Date(`${value}-12-31`).getTime()}`;\r\n      }\r\n    }\r\n    if (id === \"month\") {\r\n      const year = app()\r\n        .utils.moment(parseInt(state.from, 10))\r\n        .format(\"YYYY\");\r\n      if (!value) {\r\n        state.from = `>${new Date(`${year}-01-01`).getTime()}`;\r\n        state.to = `>${new Date(`${year}-12-31`).getTime()}`;\r\n      } else {\r\n        const month = this.months.indexOf(value) + 1;\r\n        state.from = `>${new Date(`${year}-${month}-01`).getTime()}`;\r\n        state.to = `<${new Date(\r\n          `${year}-${month}-${daysInMonth(year, month)}`\r\n        ).getTime()}`;\r\n      }\r\n    }\r\n    if (self.state.from !== state.from)\r\n      self.props.view.searchProp.filter.add(\r\n        self.model.id,\r\n        state.from,\r\n        `${self.id}_from`\r\n      );\r\n    if (self.state.to !== state.to)\r\n      self.props.view.searchProp.filter.add(\r\n        self.model.id,\r\n        state.to,\r\n        `${self.id}_to`\r\n      );\r\n    if (state.from) state.from = state.from.substring(1);\r\n    if (state.to) state.to = state.to.substring(1);\r\n    this.setState(state);\r\n  }\r\n  componentDidMount() {}\r\n  componentWillUnmount() {\r\n    this.props.view.searchProp.offUpdate(this.update);\r\n    clearTimeout(this.delayTimer);\r\n  }\r\n  render() {\r\n    const { state } = this;\r\n    const { model } = this.props;\r\n    const self = this;\r\n    const className =\r\n      model.className && !this.props.wrapper ? model.className.join(\" \") : \"\";\r\n    const modelYear = {\r\n      id: \"year\",\r\n      option: this.years,\r\n      render: \"button\",\r\n      limit: 1,\r\n      text: \"Year\"\r\n    };\r\n    const modelMonth = {\r\n      id: \"month\",\r\n      option: this.months,\r\n      render: \"button\",\r\n      limit: 1,\r\n      text: \"Month\",\r\n      inputWidth: \"col-sm-11\",\r\n      labelWidth: \"col-sm-1\"\r\n    };\r\n    const style = {\r\n      width: \"150px\"\r\n    };\r\n    const year = state.from\r\n      ? app()\r\n          .utils.moment(parseInt(state.from, 10))\r\n          .format(\"YYYY\")\r\n      : undefined;\r\n    let month = null;\r\n    function monthSelector() {\r\n      if (!year) return null;\r\n      const from = app()\r\n        .utils.moment(parseInt(state.from, 10))\r\n        .format(\"MM\");\r\n      const to = app()\r\n        .utils.moment(parseInt(state.to, 10))\r\n        .format(\"MM\");\r\n      if (from === to) month = self.months[parseInt(from, 10) - 1];\r\n\r\n      return (\r\n        <SelectInput\r\n          style={style}\r\n          model={modelMonth}\r\n          value={month}\r\n          setValue={self.search}\r\n        />\r\n      );\r\n    }\r\n    return (\r\n      <div className={`${className} form-group row form-inline`}>\r\n        <SelectInput\r\n          style={style}\r\n          model={modelYear}\r\n          value={year}\r\n          setValue={this.search}\r\n        />\r\n        {monthSelector()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default DateExposedYearMonth;\r\n","export default ({ value, model }) =>\r\n  model.mandatory && !value && (model.text_mandatory || \"Field is mandatory\");\r\n","import React from \"react\";\r\nimport {\r\n  InputWrapper,\r\n  DateInputDate,\r\n  UseValidator,\r\n  Wrapper,\r\n  DateInputTime\r\n} from \"nystem-components\";\r\nimport validate from \"./validate\";\r\n\r\nconst DateInput = ({ model, view, focus, setValue, value }) => {\r\n  const { dateType = [\"date\", \"time\"] } = model;\r\n  const [error, setValidated] = UseValidator({ view, validate, value, model });\r\n  const validateAndSet = value => {\r\n    setValue(value);\r\n    setValidated(true);\r\n  };\r\n\r\n  return (\r\n    <InputWrapper model={model} error={error}>\r\n      <Wrapper className=\"flex\">\r\n        {dateType.includes(\"date\") && (\r\n          <DateInputDate\r\n            model={model}\r\n            value={value}\r\n            setValue={validateAndSet}\r\n          />\r\n        )}\r\n        {dateType.includes(\"time\") && (\r\n          <DateInputTime\r\n            model={model}\r\n            value={value}\r\n            setValue={validateAndSet}\r\n          />\r\n        )}\r\n      </Wrapper>\r\n    </InputWrapper>\r\n  );\r\n};\r\nexport default DateInput;\r\n","import React, { useEffect, useRef, useCallback, useState } from \"react\";\r\nimport { Icon, Wrapper } from \"nystem-components\";\r\nimport app from \"nystem\";\r\nimport Pikaday from \"pikaday\";\r\nimport \"pikaday/css/pikaday.css\";\r\nimport moment from \"moment\";\r\n\r\nconst ClearButton = ({ setValue }) => (\r\n  <Icon\r\n    onClick={() => setValue(\"\")}\r\n    className=\"absolute w-4 right-0 top-0 m-3\"\r\n    icon=\"close\"\r\n    aria-hidden=\"true\"\r\n  />\r\n);\r\n\r\nconst dateFormat = \"YYYY-MM-DD\";\r\n\r\nconst DateInputDate = ({ model, onBlur, focus, setValue, value }) => {\r\n  const [inputVal, setInputVal] = useState(\r\n    value ? moment(value).format(dateFormat) : \"\"\r\n  );\r\n  const { disabled, length, text } = model;\r\n\r\n  const inputEl = useRef(null);\r\n\r\n  const setFromPicker = useCallback(\r\n    function() {\r\n      const formVal = this.getMoment().format(dateFormat);\r\n      setValue(moment(formVal).valueOf());\r\n    },\r\n    [setValue]\r\n  );\r\n\r\n  useEffect(() => {\r\n    setInputVal(value ? moment(value).format(dateFormat) : \"\");\r\n  }, [value]);\r\n\r\n  useEffect(() => {\r\n    // eslint-disable-next-line no-new\r\n    new Pikaday({\r\n      field: inputEl.current,\r\n      format: dateFormat,\r\n      onSelect: setFromPicker,\r\n      firstDay: 1\r\n    });\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  return (\r\n    <Wrapper className=\"relative w-1/3\">\r\n      <input\r\n        ref={inputEl}\r\n        placeholder={app().t(text)}\r\n        className={\r\n          \"appearance-none block bg-grey-lighter text-grey-darker border border-grey-lighter rounded py-2 px-3 w-full\"\r\n        }\r\n        value={inputVal}\r\n        maxLength={length}\r\n        onChange={e => setInputVal(e.target.value)}\r\n        disabled={disabled}\r\n        type=\"text\"\r\n        focus={focus}\r\n        onBlur={() => setValue(moment(inputVal).valueOf())}\r\n      />\r\n      {value ? <ClearButton setValue={setValue} /> : null}\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default DateInputDate;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Wrapper, Input } from \"nystem-components\";\r\nimport app from \"nystem\";\r\nimport moment from \"moment\";\r\n\r\nconst parseVal = val => {\r\n  if (val > 100) val /= 100;\r\n\r\n  const parts = val\r\n    .toString()\r\n    .split(/[^0-9]/)\r\n    .filter(part => part);\r\n\r\n  const min = parseFloat(`.${parts[1] || 0}`) * 100;\r\n  return `${parts[0]}:${min < 10 ? `0${min}` : min}`;\r\n};\r\n\r\nconst DateInputTime = ({ model, focus, setValue, value }) => {\r\n  const { disabled, length, inputClassName = [] } = model;\r\n  const [inputVal, setInputVal] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    setInputVal(value ? moment(value).format(\"HH:mm\") : \"\");\r\n  }, [value]);\r\n\r\n  return (\r\n    <Wrapper className=\"flex\">\r\n      <Input\r\n        placeholder={app().t(\"Time\")}\r\n        className={[\"w-40\", ...inputClassName]}\r\n        value={inputVal}\r\n        maxLength={length}\r\n        onChange={value => setInputVal(value)}\r\n        disabled={disabled}\r\n        type=\"text\"\r\n        focus={focus}\r\n        onBlur={() => {\r\n          if (!inputVal) return;\r\n          const datePart = moment(value || Date.now()).format(\"YYYY-MM-DD\");\r\n          setValue(moment(`${datePart} ${parseVal(inputVal)}`).valueOf());\r\n        }}\r\n      />\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default DateInputTime;\r\n","import { TextSortBy } from \"nystem-components\";\r\nimport React from \"react\";\r\n\r\nconst DateSortBy = props => <TextSortBy {...props} />;\r\nexport default DateSortBy;\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport moment from \"moment\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nconst dateTimeFormats = {\r\n  dateLong: \"YYYY-MM-DD\",\r\n  timeLong: \"H:mm\",\r\n  dateTimeLong: \"YYYY-MM-DD HH:mm\",\r\n  dateTimeNoYear: \"D/M H:mm\",\r\n  dateTimeNoYearDay: \"ddd D/M H:mm\",\r\n  dateNoYearDay: \"ddd D/M\",\r\n  timeDay: \"ddd D/M H:mm\",\r\n  day: \"dddd\",\r\n};\r\n\r\nconst hourInMs = 1000 * 60 * 60;\r\n\r\nconst DateView = ({ model, value }) => {\r\n  const { className, renderAs, dateFormat } = model;\r\n  const format = dateTimeFormats[dateFormat || \"dateTimeLong\"];\r\n  value = parseInt(value, 10);\r\n  let rel = value && model.relative && value + hourInMs * 24 - Date.now();\r\n  rel = !rel || rel < 0 ? 0 : rel;\r\n  if (rel && moment().startOf(\"day\").valueOf() > value) rel = 0;\r\n\r\n  const formatDate = useCallback(\r\n    () =>\r\n      rel\r\n        ? rel > 23 * hourInMs\r\n          ? moment(value).fromNow()\r\n          : moment(value).format(\"H:mm\")\r\n        : moment(value).format(format),\r\n    [format, rel, value]\r\n  );\r\n  const [result, setResult] = useState(formatDate());\r\n\r\n  useEffect(() => {\r\n    if (!rel) return;\r\n\r\n    const update = () => setResult(formatDate());\r\n    const timer = setInterval(update, 30000);\r\n    return () => {\r\n      clearInterval(timer);\r\n    };\r\n  }, [formatDate, rel]);\r\n\r\n  return (\r\n    <Wrapper renderAs={renderAs} className={className}>\r\n      {app().t(value ? result : \"\")}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default DateView;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\n\r\nconst add = (path) => {\r\n  const { domain, secure } = app().settings;\r\n  return `http:${secure ? \"s\" : \"\"}//${domain}${path}`;\r\n};\r\n\r\nconst Image = (props) => (\r\n  <img alt={props.alt} {...props} src={add(props.src)} />\r\n);\r\n\r\nexport default Image;\r\n","import React from \"react\";\r\nimport { Image } from \"nystem-components\";\r\n\r\nconst ViewImageView = ({ model }) => {\r\n  const className = model.className ? model.className.join(\" \") : \"\";\r\n\r\n  return (\r\n    <Image alt=\"logo\" className={className} src={`/image/${model.filename}`} />\r\n  );\r\n};\r\nexport default ViewImageView;\r\n","import { ContentTypeView } from \"nystem-components\";\r\nimport { Route } from \"react-router-dom\";\r\nimport React from \"react\";\r\n\r\nconst Inserter = (props) => {\r\n  const { match, className, children, source, exclude } = props;\r\n  const exact = !(match && match.indexOf(\"*\") === match.length - 1);\r\n  const propMatch = exact ? match : match.substring(0, match.length - 1);\r\n\r\n  return (\r\n    <Route\r\n      className={children instanceof Array && className}\r\n      path={match || source}\r\n      exact={exact}\r\n    >\r\n      {({ location, match }) => {\r\n        if (!match || exclude === location.pathname) return null;\r\n\r\n        if (children)\r\n          return children instanceof Array && children.length ? (\r\n            <div className={className}>{children}</div>\r\n          ) : (\r\n            children\r\n          );\r\n\r\n        let path = location.pathname;\r\n        if (source && (exact || source.indexOf(\"*\") === -1)) path = source;\r\n        else if (propMatch && source) {\r\n          const replace = propMatch.replace(source, \"\");\r\n          path =\r\n            source.substring(0, source.length - 1) + path.replace(replace, \"\");\r\n        }\r\n\r\n        path = path.split(\"/\");\r\n\r\n        return (\r\n          <ContentTypeView\r\n            className={className}\r\n            contentType={path[1]}\r\n            format={path[2]}\r\n            id={path[3]}\r\n            location={location}\r\n            params={location.pathname.split(\"/\").slice(1)}\r\n            path={path}\r\n            key={location.pathname}\r\n            noForm={props.noForm}\r\n          />\r\n        );\r\n      }}\r\n    </Route>\r\n  );\r\n};\r\nexport default Inserter;\r\n","import React from \"react\";\r\n\r\nimport { Route, Link as RLink } from \"react-router-dom\";\r\n\r\nconst toClassString = (className, match) => {\r\n  className = className instanceof Array ? className.join(\" \") : className;\r\n  return match ? `${className} active` : className;\r\n};\r\n\r\nconst Link = ({ to, className, match, children, exact }) => (\r\n  <Route\r\n    exact={exact}\r\n    path={match || (typeof to === \"object\" ? to.pathname : to)}\r\n  >\r\n    {({ location, match }) => (\r\n      <RLink to={to || \"/\"} className={toClassString(className, match)}>\r\n        {children}\r\n      </RLink>\r\n    )}\r\n  </Route>\r\n);\r\nexport default Link;\r\n","const RouterBackHandler = () => null;\r\nexport default RouterBackHandler;\r\n","import { withRouter } from \"react-router\";\r\nimport app from \"nystem\";\r\n\r\nlet history = [];\r\nlet at = 0;\r\n\r\nconst RouterHistory = ({ location, history: routerHistory }) => {\r\n  let atNew =\r\n    history.reduce(\r\n      (found, item, index) => found || (location.key === item.key && index + 1),\r\n      false\r\n    ) || history.length + 1;\r\n\r\n  if (atNew === history.length + 1) {\r\n    history = history.slice(0, at);\r\n    atNew = history.length + 1;\r\n  }\r\n\r\n  if (atNew === history.length + 1) history.push(location);\r\n\r\n  at = atNew;\r\n  app().routerHistory = { history, at, routerHistory };\r\n\r\n  return null;\r\n};\r\n\r\nexport default withRouter(RouterHistory);\r\n","import React, { useState, useRef, useEffect } from \"react\";\r\nimport { ContentTypeRender } from \"nystem-components\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nconst exclude = [\"style\"].map((item) => item.toUpperCase());\r\n\r\nconst RouterPageNotFound = ({ model, path, children, location, ...rest }) => {\r\n  const { className, renderAs, item } = model || rest;\r\n  const [is404, setIs404] = useState(false);\r\n  const ref = useRef();\r\n\r\n  useEffect(() => {\r\n    setIs404(false);\r\n    setTimeout(() => {\r\n      const items = [...ref.current.parentElement.children]\r\n        .map((item) => item.nodeName)\r\n        .filter((name) => !exclude.includes(name));\r\n\r\n      if (items.length < 2) setIs404(true);\r\n    }, 200);\r\n  }, [location.pathname, ref, setIs404]);\r\n\r\n  if (!is404) return <div ref={ref} />;\r\n\r\n  return (\r\n    <div\r\n      ref={ref}\r\n      className={className && className.join(\" \")}\r\n      renderAs={renderAs}\r\n    >\r\n      {children || <ContentTypeRender path={path} items={item} />}\r\n    </div>\r\n  );\r\n};\r\nexport default withRouter(RouterPageNotFound);\r\n","import { useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst RouterRedirect = ({ model, view, path }) => {\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    const insertVal = (val) =>\r\n      val &&\r\n      val.replace(/\\{([a-z_.0-9]+)\\}/gim, (str, p1, offset, s) => {\r\n        if (/pathItem[0-9]/.test(p1) && view.params) return view.params[p1[8]];\r\n        return view.getValue(p1.replace(\"..\", path));\r\n      });\r\n\r\n    history.replace(insertVal(model.to));\r\n  }, [history, model, path, view]);\r\n\r\n  return null;\r\n};\r\n\r\nexport default RouterRedirect;\r\n","import { useEffect } from \"react\";\r\n\r\nconst positions = {};\r\nlet count = 0;\r\n\r\nconst setPos = () => {\r\n  if (\r\n    document.documentElement.scrollTop === positions[window.location.pathname]\r\n  )\r\n    return;\r\n\r\n  count++;\r\n  if (count === 5) {\r\n    count = 0;\r\n    return;\r\n  }\r\n\r\n  document.documentElement.scrollTop = positions[window.location.pathname];\r\n  setTimeout(setPos, 120);\r\n};\r\n\r\nconst RouterScrollpos = () => {\r\n  useEffect(() => {\r\n    window.addEventListener(\r\n      \"popstate\",\r\n      () => positions[window.location.pathname] && setTimeout(setPos, 120)\r\n    );\r\n\r\n    window.addEventListener(\"scroll\", () => {\r\n      positions[window.location.pathname] = document.documentElement.scrollTop;\r\n    });\r\n  }, []);\r\n\r\n  return null;\r\n};\r\n\r\nexport default RouterScrollpos;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass RouterState extends React.Component {\r\n  getPath = context => {\r\n    return context.router.history.location.pathname;\r\n  };\r\n  componentDidMount() {\r\n    let pathname = this.getPath(this.context);\r\n    console.log(\"pathname\", pathname);\r\n    if (this.props.save === \"storage\")\r\n      app()\r\n        .storage.getItem({ id: \"router.pathname\" })\r\n        .then(({ value }) => {\r\n          if (value && value !== pathname)\r\n            this.context.router.history.replace(value);\r\n          else if (this.props.start && pathname === \"/\")\r\n            this.context.router.history.replace(this.props.start);\r\n        });\r\n    else if (this.props.save === \"memory\" && app().pathname) {\r\n      if (app().pathname !== pathname)\r\n        this.context.router.history.replace(app().pathname);\r\n    } else if (this.props.start && pathname === \"/\")\r\n      this.context.router.history.replace(this.props.start);\r\n    else if (this.props.redirect) {\r\n      if (pathname.indexOf(this.props.match) === 0) {\r\n        pathname = pathname.replace(this.props.match, \"\");\r\n        this.context.router.history.replace(this.props.redirect + pathname);\r\n        return;\r\n      }\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {}\r\n\r\n  UNSAFE_componentWillReceiveProps(nextProps, nextContext) {\r\n    if (this.props.save === \"memory\")\r\n      app().pathname = this.getPath(this.context);\r\n    if (this.props.save === \"storage\")\r\n      app().storage.setItem({\r\n        id: \"router.pathname\",\r\n        value: this.getPath(this.context)\r\n      });\r\n  }\r\n\r\n  render() {\r\n    return null;\r\n  }\r\n}\r\nRouterState.contextTypes = {\r\n  router: PropTypes.object\r\n};\r\nexport default RouterState;\r\n\r\n//app.storage.getItem({ id: \"language\" }));\r\n","const RouterView = () => null;\r\nexport default RouterView;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst sortFuncInt = (key) => (a, b) => {\r\n  const x = a[key];\r\n  const y = b[key];\r\n  if (x === undefined) return y === undefined ? 0 : 1;\r\n  if (y === undefined) return -1;\r\n  return x < y ? -1 : x > y ? 1 : 0;\r\n};\r\n\r\nconst historyPos = (test) => {\r\n  const { history, at } = app().routerHistory;\r\n\r\n  const slice = history.slice(0, at);\r\n  slice.reverse();\r\n\r\n  const pos = slice.reduce((result, { pathname }, index) => {\r\n    if (result) return result;\r\n\r\n    if (test === \"/\") {\r\n      if (pathname === \"/\") return slice.length - index + 1;\r\n    } else if (new RegExp(test).test(pathname)) return slice.length - index + 1;\r\n\r\n    return 0;\r\n  }, 0);\r\n\r\n  return pos;\r\n};\r\n\r\nconst RouterViewByHistory = ({ model, path }) => {\r\n  model = model || {};\r\n  const { className, renderAs, items } = model;\r\n\r\n  const itemsByPosition = items.map((item) => ({\r\n    ...item,\r\n    pos: item.paths.reduce((res, path) => {\r\n      const pos = historyPos(path);\r\n      return pos > res ? pos : res;\r\n    }, 0),\r\n  }));\r\n\r\n  itemsByPosition.sort(sortFuncInt(\"pos\"));\r\n  itemsByPosition.reverse();\r\n\r\n  return (\r\n    <Wrapper className={className} renderAs={renderAs}>\r\n      <ContentTypeRender\r\n        path={path}\r\n        items={itemsByPosition.reduce(\r\n          (res, item) => [...res, ...item.item],\r\n          []\r\n        )}\r\n      />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default RouterViewByHistory;\r\n","export default ({ value, model }) => {\r\n  if (model.mandatory && !value[0]) return model.text_mandatory;\r\n  if (!value[0] && !value[1]) return false;\r\n\r\n  if (value[0].length < model.length)\r\n    return `Password must be at least ${model.length} characters`;\r\n\r\n  if (value[0] !== value[1]) return \"Repeated password must match\";\r\n\r\n  return false;\r\n};\r\n","import React, { useState } from \"react\";\r\nimport app from \"nystem\";\r\nimport { InputWrapper, Input, UseValidator } from \"nystem-components\";\r\nimport validate from \"./validate\";\r\nimport \"./confirmInput.css\";\r\n\r\nconst PasswordConfirmInput = ({ model, value, view, setValue }) => {\r\n  const [value1, setValue1] = useState(\"\");\r\n  const [value2, setValue2] = useState(\"\");\r\n\r\n  const [error, setValidated] = UseValidator({\r\n    view,\r\n    validate,\r\n    value: [value1, value2],\r\n    model,\r\n  });\r\n\r\n  return (\r\n    <InputWrapper model={model} error={error}>\r\n      <div>\r\n        <Input\r\n          placeholder={app().t(model.text)}\r\n          className={[...(model.classNameInput || []), \"confirm-input\"]}\r\n          value={value1}\r\n          onChange={(svalue) => {\r\n            setValidated(true);\r\n            setValue1(svalue);\r\n            if (svalue === value2) setValue(value1);\r\n            else if (value) setValue(\"\");\r\n          }}\r\n          type=\"password\"\r\n          autoComplete=\"new-password\"\r\n        />\r\n      </div>\r\n      <div>\r\n        <Input\r\n          placeholder={app().t(\"Repeat\")}\r\n          className={[...(model.classNameInput || []), \"confirm-input\"]}\r\n          value={value2}\r\n          onChange={(svalue) => {\r\n            setValidated(true);\r\n            setValue2(svalue);\r\n            if (svalue === value1) setValue(value1);\r\n            else if (value) setValue(\"\");\r\n          }}\r\n          type=\"password\"\r\n          autoComplete=\"new-password\"\r\n        />\r\n      </div>\r\n    </InputWrapper>\r\n  );\r\n};\r\nexport default PasswordConfirmInput;\r\n","import React from \"react\";\r\nimport { InputWrapper, Input } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nclass PasswordInput extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    const state = {\r\n      value: this.props.value,\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n    if (props.add && this.model.default)\r\n      props.setValue(this.model.id, state.value);\r\n    this.errormsg = this.model.text_mandatory\r\n      ? this.model.text_mandatory\r\n      : true;\r\n    this.validated = false;\r\n    this.state = state;\r\n\r\n    this.id = app().uuid();\r\n  }\r\n  handleChange(value) {\r\n    this.validated = true;\r\n    this.setState({\r\n      value: value,\r\n      error: this.model.mandatory && !value ? this.errormsg : false,\r\n    });\r\n    this.props.setValue(value);\r\n  }\r\n  valid() {\r\n    this.validated = true;\r\n    if (this.model.mandatory && !this.state.value) {\r\n      this.setState({\r\n        error: this.errormsg,\r\n      });\r\n      return false;\r\n    }\r\n    if (this.state.error) delete this.state.error;\r\n    return true;\r\n  }\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (this.props.value !== nextProps.value) {\r\n      const error = this.validated && this.model.mandatory && !nextProps.value;\r\n      this.setState({\r\n        value: nextProps.value,\r\n        error: error ? this.errormsg : false,\r\n      });\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <InputWrapper model={this.model} error={this.state.error} id={this.id}>\r\n        <Input\r\n          id={this.id}\r\n          placeholder={app().t(this.model.text)}\r\n          className={this.model.classNameInput || \"sm:w-1/2 w-full\"}\r\n          value={this.state.value || \"\"}\r\n          onChange={this.handleChange}\r\n          type=\"password\"\r\n        />\r\n      </InputWrapper>\r\n    );\r\n  }\r\n}\r\nexport default PasswordInput;\r\n","import React from \"react\";\r\nimport { InputWrapper } from \"nystem-components\";\r\nimport app from \"nystem\";\r\nclass PasswordOldpassword extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.errormsg = this.model.text_mandatory\r\n      ? this.model.text_mandatory\r\n      : true;\r\n    this.validated = false;\r\n    this.state = {};\r\n  }\r\n  handleChange() {\r\n    this.validated = true;\r\n    const value = this.refs.input.value;\r\n    this.setState({\r\n      value: value,\r\n      error: this.model.mandatory && !value ? this.errormsg : false\r\n    });\r\n    this.props.setValue(\"__\" + this.model.id, value);\r\n  }\r\n  valid() {\r\n    this.validated = true;\r\n    if (this.model.mandatory && !this.state.value) {\r\n      this.setState({\r\n        error: this.errormsg\r\n      });\r\n      return false;\r\n    }\r\n    if (this.state.error) delete this.state.error;\r\n    return true;\r\n  }\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (this.props.value !== nextProps.value) {\r\n      const error = this.validated && this.model.mandatory && !nextProps.value;\r\n      this.setState({\r\n        error: error ? this.errormsg : false\r\n      });\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <InputWrapper model={this.model} error={this.state.error}>\r\n        <input\r\n          ref=\"input\"\r\n          placeholder={app().t(this.model.text)}\r\n          className=\"form-control\"\r\n          value={this.state.value}\r\n          onChange={this.handleChange}\r\n          type=\"password\"\r\n        />\r\n      </InputWrapper>\r\n    );\r\n  }\r\n}\r\nexport default PasswordOldpassword;\r\n","import React from \"react\";\nclass PasswordView extends React.Component {\n  render() {\n    return null;\n  }\n}\nexport default PasswordView;\n","import React from \"react\";\r\nimport app from \"nystem\";\r\n\r\nclass RoleView extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    app().on(\"login\", this.sessionChange);\r\n    app().on(\"logout\", this.sessionChange);\r\n\r\n    this.sessionChange();\r\n\r\n    return {};\r\n  }\r\n  sessionChange() {\r\n    let session = app.session.user;\r\n    const { fields } = this.props.model;\r\n\r\n    if (!session) session = {};\r\n\r\n    if (!fields || !fields.length) this.props.setValue(false, session);\r\n    else\r\n      for (let i = 0; i < fields.length; i++)\r\n        this.props.setValue(fields[i], session[fields[i]]);\r\n  }\r\n\r\n  render() {\r\n    return null;\r\n  }\r\n}\r\nexport default RoleView;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nclass Role extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    app().on(\"login\", this.sessionChange.bind(this));\r\n    app().on(\"logout\", this.sessionChange.bind(this));\r\n    this.state = { visible: this.isVisible(props) };\r\n  }\r\n  contains(array1, array2) {\r\n    if (typeof array1 === \"string\") array1 = [array1];\r\n    if (typeof array2 === \"string\") array2 = [array2];\r\n\r\n    for (let i = 0; i < array1.length; i++)\r\n      if (array2.indexOf(array1[i]) !== -1) return true;\r\n\r\n    return false;\r\n  }\r\n  isVisible(props) {\r\n    const user = app().session.user;\r\n    let role =\r\n      user && user.role ? [\"logged-in\"].concat(user.role) : [\"logged-out\"];\r\n    return this.contains(props.role.split(\" \"), role);\r\n  }\r\n  sessionChange() {\r\n    let visible = this.isVisible(this.props);\r\n    if (visible !== this.state.visible) this.setState({ visible });\r\n  }\r\n\r\n  render() {\r\n    if (this.state.visible)\r\n      return (\r\n        <Wrapper className={this.props.className}>\r\n          {this.props.children}\r\n        </Wrapper>\r\n      );\r\n    return null;\r\n  }\r\n}\r\nexport default Role;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nconst SessionLogout = ({ children, model, history, path, ...props }) => {\r\n  const { item, className, to } = model || props;\r\n  return (\r\n    <Wrapper\r\n      className={className}\r\n      onClick={(e) => {\r\n        e.preventDefault();\r\n        app().session.logout();\r\n        if (!to) return;\r\n\r\n        history.replace(to);\r\n      }}\r\n    >\r\n      {children || <ContentTypeRender path={path} items={item} />}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default withRouter(SessionLogout);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst hasNoRole = user => user && !user.role;\r\n\r\nconst SessionNoRole = ({ model = {}, children, path, className }) => {\r\n  const [visible, setVisible] = useState(hasNoRole(app().session.user));\r\n\r\n  useEffect(() => {\r\n    const check = () => {\r\n      setVisible(hasNoRole(app().session.user));\r\n    };\r\n\r\n    app().on(\"logout\", check);\r\n    app().on(\"login\", check);\r\n\r\n    return () => {\r\n      app().off(\"login\", check);\r\n      app().off(\"logout\", check);\r\n    };\r\n  }, []);\r\n\r\n  if (!visible) return null;\r\n\r\n  className = model.className || className;\r\n\r\n  if (children) return <Wrapper className={className}>{children}</Wrapper>;\r\n\r\n  return (\r\n    <Wrapper className={className}>\r\n      <ContentTypeRender path={path} items={model.item} />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default SessionNoRole;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst contains = (array1, array2) => {\r\n  if (!(array1 instanceof Array)) array1 = [array1];\r\n  if (!(array2 instanceof Array)) array2 = [array2];\r\n  for (let i = 0; i < array1.length; i++)\r\n    if (array2.indexOf(array1[i]) !== -1) return true;\r\n\r\n  return false;\r\n};\r\n\r\nconst SessionRole = ({ userrole, model = {}, children, path, className }) => {\r\n  const [visible, setVisible] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const updateVisibility = () => {\r\n      let reqRole = model.role || userrole;\r\n      reqRole = typeof reqRole === \"string\" ? reqRole.split(\" \") : reqRole;\r\n\r\n      const { role } = app().session.user || {};\r\n\r\n      const userRole = role ? [\"logged-in\"].concat(role) : \"logged-out\";\r\n\r\n      setVisible(contains(userRole, reqRole));\r\n    };\r\n\r\n    app().on(\"logout\", -1000, updateVisibility);\r\n    app().on(\"login\", -1000, updateVisibility);\r\n\r\n    updateVisibility();\r\n    return () => {\r\n      app().off(\"login\", updateVisibility);\r\n      app().off(\"logout\", updateVisibility);\r\n    };\r\n  }, [model.role, userrole]);\r\n\r\n  if (!visible) return null;\r\n\r\n  if (children)\r\n    return (\r\n      <Wrapper className={model.className || className}>{children}</Wrapper>\r\n    );\r\n\r\n  return (\r\n    <Wrapper className={model.className}>\r\n      <ContentTypeRender path={path} items={model.item} />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default SessionRole;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { ContentTypeView } from \"nystem-components\";\r\n\r\nclass SessionUser extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    app().on(\"login\", this.sessionChange.bind(this));\r\n    app().on(\"logout\", this.sessionChange.bind(this));\r\n\r\n    const session = app().session.user;\r\n    this.state = { userid: session ? session._id : null };\r\n  }\r\n  sessionChange() {\r\n    const session = app().session.user;\r\n    this.setState({ userid: session ? session._id : null });\r\n  }\r\n  render() {\r\n    const { view, model } = this.props;\r\n    if (this.state.userid && model.toformat !== view.format)\r\n      return (\r\n        <ContentTypeView\r\n          key={this.state.userid}\r\n          contentType={view.contentType}\r\n          format={model.toformat}\r\n          id={this.state.userid}\r\n          baseView={view}\r\n        />\r\n      );\r\n    return null;\r\n  }\r\n}\r\nexport default SessionUser;\r\n","import { useEffect } from \"react\";\r\nimport app from \"nystem\";\r\n\r\nconst SessionView = ({ view }) => {\r\n  useEffect(() => {\r\n    const sessionChange = () => {\r\n      let session = app().session.user;\r\n      const { fields } = this.props.model;\r\n\r\n      if (!session) session = {};\r\n\r\n      if (!fields || !fields.length) view.setValue(false, session);\r\n      else\r\n        for (let i = 0; i < fields.length; i++)\r\n          view.setValue(fields[i], session[fields[i]]);\r\n    };\r\n\r\n    app().on(\"login\", sessionChange);\r\n    app().on(\"logout\", sessionChange);\r\n\r\n    sessionChange();\r\n    return () => {\r\n      app().off(\"login\", sessionChange);\r\n      app().off(\"logout\", sessionChange);\r\n    };\r\n  }, [view]);\r\n\r\n  return null;\r\n};\r\nexport default SessionView;\r\n","import React, { useState } from \"react\";\r\nimport app from \"nystem\";\r\nimport { Button } from \"nystem-components\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nconst ViewButtonLogin = ({ view, model, history }) => {\r\n  const [saveButton, setSaveButton] = useState(\"Log in\");\r\n\r\n  const handleSubmit = async () => {\r\n    const { errors } = await view.event(\"validate\");\r\n\r\n    if (!errors) {\r\n      view.value.contentType = view.contentType;\r\n\r\n      app()\r\n        .session.login(view.value)\r\n        .then(({ error }) => {\r\n          if (error === \"missing\") {\r\n            view.event(\"error\", \"Email does not exist\");\r\n            setSaveButton(\"Log in\");\r\n          } else if (error === \"password\") {\r\n            view.event(\"error\", \"Password error\");\r\n            setSaveButton(\"Log in\");\r\n          } else if (model.redirectURL) history.replace(model.redirectURL);\r\n        });\r\n\r\n      setSaveButton(\"Logging in\");\r\n    } else view.event(\"error\", \"Correct validation errors\");\r\n  };\r\n\r\n  return (\r\n    <Button className={model.className} type=\"default\" onClick={handleSubmit}>\r\n      {saveButton}\r\n    </Button>\r\n  );\r\n};\r\nexport default withRouter(ViewButtonLogin);\r\n","import React from \"react\";\r\nimport { Icon } from \"nystem-components\";\r\n\r\nconst IconView = ({ model }) => (\r\n  <Icon\r\n    className={model.className}\r\n    icon={model.icon}\r\n    deg={model.deg !== \"0\" && model.deg}\r\n  />\r\n);\r\n\r\nexport default IconView;\r\n","import React from \"react\";\n  \n  export default {\"add-outline\":<path d=\"M11 9h4v2h-4v4H9v-4H5V9h4V5h2v4zm-1 11a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16z\"/>,\"add-solid\":<path d=\"M11 9V5H9v4H5v2h4v4h2v-4h4V9h-4zm-1 11a10 10 0 1 1 0-20 10 10 0 0 1 0 20z\"/>,\"adjust\":<path d=\"M10 2v16a8 8 0 1 0 0-16zm0 18a10 10 0 1 1 0-20 10 10 0 0 1 0 20z\"/>,\"airplane\":<path d=\"M8.4 12H2.8L1 15H0V5h1l1.8 3h5.6L6 0h2l4.8 8H18a2 2 0 1 1 0 4h-5.2L8 20H6l2.4-8z\"/>,\"album\":<path d=\"M0 0h20v20H0V0zm10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm0-5a3 3 0 1 1 0-6 3 3 0 0 1 0 6z\"/>,\"align-center\":<path d=\"M1 1h18v2H1V1zm0 8h18v2H1V9zm0 8h18v2H1v-2zM4 5h12v2H4V5zm0 8h12v2H4v-2z\"/>,\"align-justified\":<path d=\"M1 1h18v2H1V1zm0 8h18v2H1V9zm0 8h18v2H1v-2zM1 5h18v2H1V5zm0 8h18v2H1v-2z\"/>,\"align-left\":<path d=\"M1 1h18v2H1V1zm0 8h18v2H1V9zm0 8h18v2H1v-2zM1 5h12v2H1V5zm0 8h12v2H1v-2z\"/>,\"align-right\":<path d=\"M1 1h18v2H1V1zm0 8h18v2H1V9zm0 8h18v2H1v-2zM7 5h12v2H7V5zm0 8h12v2H7v-2z\"/>,\"anchor\":<path d=\"M4.34 15.66A7.97 7.97 0 0 0 9 17.94V10H5V8h4V5.83a3 3 0 1 1 2 0V8h4v2h-4v7.94a7.97 7.97 0 0 0 4.66-2.28l-1.42-1.42h5.66l-2.83 2.83a10 10 0 0 1-14.14 0L.1 14.24h5.66l-1.42 1.42zM10 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2z\"/>,\"announcement\":<path d=\"M3 6c0-1.1.9-2 2-2h8l4-4h2v16h-2l-4-4H5a2 2 0 0 1-2-2H1V6h2zm8 9v5H8l-1.67-5H5v-2h8v2h-2z\"/>,\"apparel\":<path d=\"M7 0H6L0 3v6l4-1v12h12V8l4 1V3l-6-3h-1a3 3 0 0 1-6 0z\"/>,\"arrow-down\":<polygon points=\"9 16.172 2.929 10.101 1.515 11.515 10 20 10.707 19.293 18.485 11.515 17.071 10.101 11 16.172 11 0 9 0\"/>,\"arrow-left\":<polygon points=\"3.828 9 9.899 2.929 8.485 1.515 0 10 .707 10.707 8.485 18.485 9.899 17.071 3.828 11 20 11 20 9 3.828 9\"/>,\"arrow-outline-down\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm-2-8V5h4v5h3l-5 5-5-5h3z\"/>,\"arrow-outline-left\":<path d=\"M0 10a10 10 0 1 1 20 0 10 10 0 0 1-20 0zm2 0a8 8 0 1 0 16 0 8 8 0 0 0-16 0zm8-2h5v4h-5v3l-5-5 5-5v3z\"/>,\"arrow-outline-right\":<path d=\"M20 10a10 10 0 1 1-20 0 10 10 0 0 1 20 0zm-2 0a8 8 0 1 0-16 0 8 8 0 0 0 16 0zm-8 2H5V8h5V5l5 5-5 5v-3z\"/>,\"arrow-outline-up\":<path d=\"M10 0a10 10 0 1 1 0 20 10 10 0 0 1 0-20zm0 2a8 8 0 1 0 0 16 8 8 0 0 0 0-16zm2 8v5H8v-5H5l5-5 5 5h-3z\"/>,\"arrow-right\":<polygon points=\"16.172 9 10.101 2.929 11.515 1.515 20 10 19.293 10.707 11.515 18.485 10.101 17.071 16.172 11 0 11 0 9\"/>,\"arrow-thick-down\":<path d=\"M7 10V2h6v8h5l-8 8-8-8h5z\"/>,\"arrow-thick-left\":<path d=\"M10 13h8V7h-8V2l-8 8 8 8v-5z\"/>,\"arrow-thick-right\":<path d=\"M10 7H2v6h8v5l8-8-8-8v5z\"/>,\"arrow-thick-up\":<path d=\"M7 10v8h6v-8h5l-8-8-8 8h5z\"/>,\"arrow-thin-down\":<path d=\"M9 16.172l-6.071-6.071-1.414 1.414L10 20l.707-.707 7.778-7.778-1.414-1.414L11 16.172V0H9z\"/>,\"arrow-thin-left\":<path d=\"M3.828 9l6.071-6.071-1.414-1.414L0 10l.707.707 7.778 7.778 1.414-1.414L3.828 11H20V9H3.828z\"/>,\"arrow-thin-right\":<path d=\"M16.172 9l-6.071-6.071 1.414-1.414L20 10l-.707.707-7.778 7.778-1.414-1.414L16.172 11H0V9z\"/>,\"arrow-thin-up\":<path d=\"M9 3.828L2.929 9.899 1.515 8.485 10 0l.707.707 7.778 7.778-1.414 1.414L11 3.828V20H9V3.828z\"/>,\"arrow-up\":<polygon points=\"9 3.828 2.929 9.899 1.515 8.485 10 0 10.707 .707 18.485 8.485 17.071 9.899 11 3.828 11 20 9 20 9 3.828\"/>,\"artist\":<path d=\"M15.75 8l-3.74-3.75a3.99 3.99 0 0 1 6.82-3.08A4 4 0 0 1 15.75 8zM1.85 15.3l9.2-9.19 2.83 2.83-9.2 9.2-2.82-2.84zm-1.4 2.83l2.11-2.12 1.42 1.42-2.12 2.12-1.42-1.42zM10 15l2-2v7h-2v-5z\"/>,\"at-symbol\":<path d=\"M13.6 13.47A4.99 4.99 0 0 1 5 10a5 5 0 0 1 8-4V5h2v6.5a1.5 1.5 0 0 0 3 0V10a8 8 0 1 0-4.42 7.16l.9 1.79A10 10 0 1 1 20 10h-.18.17v1.5a3.5 3.5 0 0 1-6.4 1.97zM10 13a3 3 0 1 0 0-6 3 3 0 0 0 0 6z\"/>,\"attachment\":<path d=\"M15 3H7a7 7 0 1 0 0 14h8v-2H7A5 5 0 0 1 7 5h8a3 3 0 0 1 0 6H7a1 1 0 0 1 0-2h8V7H7a3 3 0 1 0 0 6h8a5 5 0 0 0 0-10z\"/>,\"backspace\":<path d=\"M0 10l7-7h13v14H7l-7-7zm14.41 0l2.13-2.12-1.42-1.42L13 8.6l-2.12-2.13-1.42 1.42L11.6 10l-2.13 2.12 1.42 1.42L13 11.4l2.12 2.13 1.42-1.42L14.4 10z\"/>,\"backward-step\":<path d=\"M4 5h3v10H4V5zm12 0v10l-9-5 9-5z\"/>,\"backward\":<path d=\"M19 5v10l-9-5 9-5zm-9 0v10l-9-5 9-5z\"/>,\"badge\":<path d=\"M10 12a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-3a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm4 2.75V20l-4-4-4 4v-8.25a6.97 6.97 0 0 0 8 0z\"/>,\"battery-full\":<path d=\"M0 6c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6zm2 0v8h16V6H2zm1 1h4v6H3V7zm5 0h4v6H8V7zm5 0h4v6h-4V7z\"/>,\"battery-half\":<path d=\"M0 6c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6zm2 0v8h16V6H2zm1 1h4v6H3V7zm5 0h4v6H8V7z\"/>,\"battery-low\":<path d=\"M0 6c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6zm2 0v8h16V6H2zm1 1h4v6H3V7z\"/>,\"beverage\":<path d=\"M9 18v-7L0 2V0h20v2l-9 9v7l5 1v1H4v-1l5-1zm2-10a2 2 0 1 0 0-4 2 2 0 0 0 0 4z\"/>,\"block\":<path d=\"M0 10a10 10 0 1 1 20 0 10 10 0 0 1-20 0zm16.32-4.9L5.09 16.31A8 8 0 0 0 16.32 5.09zm-1.41-1.42A8 8 0 0 0 3.68 14.91L14.91 3.68z\"/>,\"bluetooth\":<path d=\"M9.41 0l6 6-4 4 4 4-6 6H9v-7.59l-3.3 3.3-1.4-1.42L8.58 10l-4.3-4.3L5.7 4.3 9 7.58V0h.41zM11 4.41V7.6L12.59 6 11 4.41zM12.59 14L11 12.41v3.18L12.59 14z\"/>,\"bolt\":<path d=\"M13 8V0L8.11 5.87 3 12h4v8L17 8h-4z\"/>,\"book-reference\":<path d=\"M6 4H5a1 1 0 1 1 0-2h11V1a1 1 0 0 0-1-1H4a2 2 0 0 0-2 2v16c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V5a1 1 0 0 0-1-1h-7v8l-2-2-2 2V4z\"/>,\"bookmark copy 2\":<polygon points=\"18 12 18 13 8 13 8 18 2 12 8 6 8 11 16 11 16 2 18 2\"/>,\"bookmark copy 3\":<polygon points=\"3.5 13 12 13 12 18 18 12 12 6 12 11 4 11 4 2 2 2 2 13\"/>,\"bookmark-outline-add\":<path d=\"M2 2c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v18l-8-4-8 4V2zm2 0v15l6-3 6 3V2H4zm5 5V5h2v2h2v2h-2v2H9V9H7V7h2z\"/>,\"bookmark-outline\":<path d=\"M2 2c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v18l-8-4-8 4V2zm2 0v15l6-3 6 3V2H4z\"/>,\"bookmark\":<path d=\"M2 2c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v18l-8-4-8 4V2z\"/>,\"border-all\":<path d=\"M11 11v6h6v-6h-6zm0-2h6V3h-6v6zm-2 2H3v6h6v-6zm0-2V3H3v6h6zm-8 9V1h18v18H1v-1z\"/>,\"border-bottom\":<path d=\"M1 1h2v2H1V1zm0 4h2v2H1V5zm0 4h2v2H1V9zm0 4h2v2H1v-2zm0 4h18v2H1v-2zM5 1h2v2H5V1zm0 8h2v2H5V9zm4-8h2v2H9V1zm0 4h2v2H9V5zm0 4h2v2H9V9zm0 4h2v2H9v-2zm4-12h2v2h-2V1zm0 8h2v2h-2V9zm4-8h2v2h-2V1zm0 4h2v2h-2V5zm0 4h2v2h-2V9zm0 4h2v2h-2v-2z\"/>,\"border-horizontal\":<path d=\"M1 1h2v2H1V1zm0 4h2v2H1V5zm0 4h18v2H1V9zm0 4h2v2H1v-2zm0 4h2v2H1v-2zM5 1h2v2H5V1zm0 16h2v2H5v-2zM9 1h2v2H9V1zm0 4h2v2H9V5zm0 8h2v2H9v-2zm0 4h2v2H9v-2zm4-16h2v2h-2V1zm0 16h2v2h-2v-2zm4-16h2v2h-2V1zm0 4h2v2h-2V5zm0 8h2v2h-2v-2zm0 4h2v2h-2v-2z\"/>,\"border-inner\":<path d=\"M9 9V1h2v8h8v2h-8v8H9v-8H1V9h8zM1 1h2v2H1V1zm0 4h2v2H1V5zm0 8h2v2H1v-2zm0 4h2v2H1v-2zM5 1h2v2H5V1zm0 16h2v2H5v-2zm8-16h2v2h-2V1zm0 16h2v2h-2v-2zm4-16h2v2h-2V1zm0 4h2v2h-2V5zm0 8h2v2h-2v-2zm0 4h2v2h-2v-2z\"/>,\"border-left\":<path d=\"M1 1h2v18H1V1zm4 0h2v2H5V1zm0 8h2v2H5V9zm0 8h2v2H5v-2zM9 1h2v2H9V1zm0 4h2v2H9V5zm0 4h2v2H9V9zm0 4h2v2H9v-2zm0 4h2v2H9v-2zm4-16h2v2h-2V1zm0 8h2v2h-2V9zm0 8h2v2h-2v-2zm4-16h2v2h-2V1zm0 4h2v2h-2V5zm0 4h2v2h-2V9zm0 4h2v2h-2v-2zm0 4h2v2h-2v-2z\"/>,\"border-none\":<path d=\"M1 1h2v2H1V1zm0 4h2v2H1V5zm0 4h2v2H1V9zm0 4h2v2H1v-2zm0 4h2v2H1v-2zM5 1h2v2H5V1zm0 8h2v2H5V9zm0 8h2v2H5v-2zM9 1h2v2H9V1zm0 4h2v2H9V5zm0 4h2v2H9V9zm0 4h2v2H9v-2zm0 4h2v2H9v-2zm4-16h2v2h-2V1zm0 8h2v2h-2V9zm0 8h2v2h-2v-2zm4-16h2v2h-2V1zm0 4h2v2h-2V5zm0 4h2v2h-2V9zm0 4h2v2h-2v-2zm0 4h2v2h-2v-2z\"/>,\"border-outer\":<path d=\"M2 19H1V1h18v18H2zm1-2h14V3H3v14zm10-8h2v2h-2V9zM9 9h2v2H9V9zM5 9h2v2H5V9zm4-4h2v2H9V5zm0 8h2v2H9v-2z\"/>,\"border-right\":<path d=\"M5 1h2v2H5V1zm0 8h2v2H5V9zm0 8h2v2H5v-2zM9 1h2v2H9V1zm0 4h2v2H9V5zm0 4h2v2H9V9zm0 4h2v2H9v-2zm0 4h2v2H9v-2zm4-16h2v2h-2V1zm0 8h2v2h-2V9zm0 8h2v2h-2v-2zM1 1h2v2H1V1zm0 4h2v2H1V5zm0 4h2v2H1V9zm0 4h2v2H1v-2zm0 4h2v2H1v-2zM17 1h2v18h-2V1z\"/>,\"border-top\":<path d=\"M1 1h18v2H1V1zm0 4h2v2H1V5zm0 4h2v2H1V9zm0 4h2v2H1v-2zm0 4h2v2H1v-2zm4-8h2v2H5V9zm0 8h2v2H5v-2zM9 5h2v2H9V5zm0 4h2v2H9V9zm0 4h2v2H9v-2zm0 4h2v2H9v-2zm4-8h2v2h-2V9zm0 8h2v2h-2v-2zm4-12h2v2h-2V5zm0 4h2v2h-2V9zm0 4h2v2h-2v-2zm0 4h2v2h-2v-2z\"/>,\"border-vertical\":<path d=\"M1 1h2v2H1V1zm0 4h2v2H1V5zm0 4h2v2H1V9zm0 4h2v2H1v-2zm0 4h2v2H1v-2zM5 1h2v2H5V1zm0 8h2v2H5V9zm0 8h2v2H5v-2zM9 1h2v18H9V1zm4 0h2v2h-2V1zm0 8h2v2h-2V9zm0 8h2v2h-2v-2zm4-16h2v2h-2V1zm0 4h2v2h-2V5zm0 4h2v2h-2V9zm0 4h2v2h-2v-2zm0 4h2v2h-2v-2z\"/>,\"box\":<path d=\"M0 2C0 .9.9 0 2 0h16a2 2 0 0 1 2 2v2H0V2zm1 3h18v13a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V5zm6 2v2h6V7H7z\"/>,\"brightness-down\":<path d=\"M10 13a3 3 0 1 1 0-6 3 3 0 0 1 0 6zM9 4a1 1 0 1 1 2 0 1 1 0 1 1-2 0zm4.54 1.05a1 1 0 1 1 1.41 1.41 1 1 0 1 1-1.41-1.41zM16 9a1 1 0 1 1 0 2 1 1 0 1 1 0-2zm-1.05 4.54a1 1 0 1 1-1.41 1.41 1 1 0 1 1 1.41-1.41zM11 16a1 1 0 1 1-2 0 1 1 0 1 1 2 0zm-4.54-1.05a1 1 0 1 1-1.41-1.41 1 1 0 1 1 1.41 1.41zM4 11a1 1 0 1 1 0-2 1 1 0 1 1 0 2zm1.05-4.54a1 1 0 1 1 1.41-1.41 1 1 0 1 1-1.41 1.41z\"/>,\"brightness-up\":<path d=\"M10 14a4 4 0 1 1 0-8 4 4 0 0 1 0 8zM9 1a1 1 0 1 1 2 0v2a1 1 0 1 1-2 0V1zm6.65 1.94a1 1 0 1 1 1.41 1.41l-1.4 1.4a1 1 0 1 1-1.41-1.41l1.4-1.4zM18.99 9a1 1 0 1 1 0 2h-1.98a1 1 0 1 1 0-2h1.98zm-1.93 6.65a1 1 0 1 1-1.41 1.41l-1.4-1.4a1 1 0 1 1 1.41-1.41l1.4 1.4zM11 18.99a1 1 0 1 1-2 0v-1.98a1 1 0 1 1 2 0v1.98zm-6.65-1.93a1 1 0 1 1-1.41-1.41l1.4-1.4a1 1 0 1 1 1.41 1.41l-1.4 1.4zM1.01 11a1 1 0 1 1 0-2h1.98a1 1 0 1 1 0 2H1.01zm1.93-6.65a1 1 0 1 1 1.41-1.41l1.4 1.4a1 1 0 1 1-1.41 1.41l-1.4-1.4z\"/>,\"browser-window-new\":<path d=\"M9 10V8h2v2h2v2h-2v2H9v-2H7v-2h2zM0 3c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3zm2 2v12h16V5H2z\"/>,\"browser-window-open\":<path d=\"M0 3c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3zm2 2v12h16V5H2zm8 3l4 5H6l4-5z\"/>,\"browser-window\":<path d=\"M0 3c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3zm2 2v12h16V5H2z\"/>,\"bug\":<path d=\"M15.3 14.89l2.77 2.77a1 1 0 0 1 0 1.41 1 1 0 0 1-1.41 0l-2.59-2.58A5.99 5.99 0 0 1 11 18V9.04a1 1 0 0 0-2 0V18a5.98 5.98 0 0 1-3.07-1.51l-2.59 2.58a1 1 0 0 1-1.41 0 1 1 0 0 1 0-1.41l2.77-2.77A5.95 5.95 0 0 1 4.07 13H1a1 1 0 1 1 0-2h3V8.41L.93 5.34a1 1 0 0 1 0-1.41 1 1 0 0 1 1.41 0l2.1 2.1h11.12l2.1-2.1a1 1 0 0 1 1.41 0 1 1 0 0 1 0 1.41L16 8.41V11h3a1 1 0 1 1 0 2h-3.07c-.1.67-.32 1.31-.63 1.89zM15 5H5a5 5 0 1 1 10 0z\"/>,\"buoy\":<path d=\"M17.16 6.42a8.03 8.03 0 0 0-3.58-3.58l-1.34 2.69a5.02 5.02 0 0 1 2.23 2.23l2.69-1.34zm0 7.16l-2.69-1.34a5.02 5.02 0 0 1-2.23 2.23l1.34 2.69a8.03 8.03 0 0 0 3.58-3.58zM6.42 2.84a8.03 8.03 0 0 0-3.58 3.58l2.69 1.34a5.02 5.02 0 0 1 2.23-2.23L6.42 2.84zM2.84 13.58a8.03 8.03 0 0 0 3.58 3.58l1.34-2.69a5.02 5.02 0 0 1-2.23-2.23l-2.69 1.34zM10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-7a3 3 0 1 0 0-6 3 3 0 0 0 0 6z\"/>,\"calculator\":<path d=\"M2 2c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2zm3 1v2h10V3H5zm0 4v2h2V7H5zm4 0v2h2V7H9zm4 0v2h2V7h-2zm-8 4v2h2v-2H5zm4 0v2h2v-2H9zm4 0v6h2v-6h-2zm-8 4v2h2v-2H5zm4 0v2h2v-2H9z\"/>,\"calendar\":<path d=\"M1 4c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V4zm2 2v12h14V6H3zm2-6h2v2H5V0zm8 0h2v2h-2V0zM5 9h2v2H5V9zm0 4h2v2H5v-2zm4-4h2v2H9V9zm0 4h2v2H9v-2zm4-4h2v2h-2V9zm0 4h2v2h-2v-2z\"/>,\"camera\":<path d=\"M0 6c0-1.1.9-2 2-2h3l2-2h6l2 2h3a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6zm10 10a5 5 0 1 0 0-10 5 5 0 0 0 0 10zm0-2a3 3 0 1 1 0-6 3 3 0 0 1 0 6z\"/>,\"chart-bar\":<path d=\"M1 10h3v10H1V10zM6 0h3v20H6V0zm5 8h3v12h-3V8zm5-4h3v16h-3V4z\"/>,\"chart-pie\":<path d=\"M19.95 11A10 10 0 1 1 9 .05V11h10.95zm-.08-2.6H11.6V.13a10 10 0 0 1 8.27 8.27z\"/>,\"chart\":<path d=\"M4.13 12H4a2 2 0 1 0 1.8 1.11L7.86 10a2.03 2.03 0 0 0 .65-.07l1.55 1.55a2 2 0 1 0 3.72-.37L15.87 8H16a2 2 0 1 0-1.8-1.11L12.14 10a2.03 2.03 0 0 0-.65.07L9.93 8.52a2 2 0 1 0-3.72.37L4.13 12zM0 4c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4z\"/>,\"chat-bubble-dots\":<path d=\"M10 15l-4 4v-4H2a2 2 0 0 1-2-2V3c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-8zM5 7v2h2V7H5zm4 0v2h2V7H9zm4 0v2h2V7h-2z\"/>,\"checkmark-outline\":<path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM6.7 9.29L9 11.6l4.3-4.3 1.4 1.42L9 14.4l-3.7-3.7 1.4-1.42z\"/>,\"checkmark\":<path d=\"M0 11l2-2 5 5L18 3l2 2L7 18z\"/>,\"cheveron-down\":<path d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\"/>,\"cheveron-left\":<path d=\"M7.05 9.293L6.343 10 12 15.657l1.414-1.414L9.172 10l4.242-4.243L12 4.343z\"/>,\"cheveron-outline-down\":<path d=\"M20 10a10 10 0 1 1-20 0 10 10 0 0 1 20 0zM10 2a8 8 0 1 0 0 16 8 8 0 0 0 0-16zm-.7 10.54L5.75 9l1.41-1.41L10 10.4l2.83-2.82L14.24 9 10 13.24l-.7-.7z\"/>,\"cheveron-outline-left\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm8-10a8 8 0 1 0-16 0 8 8 0 0 0 16 0zM7.46 9.3L11 5.75l1.41 1.41L9.6 10l2.82 2.83L11 14.24 6.76 10l.7-.7z\"/>,\"cheveron-outline-right\":<path d=\"M10 0a10 10 0 1 1 0 20 10 10 0 0 1 0-20zM2 10a8 8 0 1 0 16 0 8 8 0 0 0-16 0zm10.54.7L9 14.25l-1.41-1.41L10.4 10 7.6 7.17 9 5.76 13.24 10l-.7.7z\"/>,\"cheveron-outline-up\":<path d=\"M0 10a10 10 0 1 1 20 0 10 10 0 0 1-20 0zm10 8a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm.7-10.54L14.25 11l-1.41 1.41L10 9.6l-2.83 2.8L5.76 11 10 6.76l.7.7z\"/>,\"cheveron-right\":<path d=\"M12.95 10.707l.707-.707L8 4.343 6.586 5.757 10.828 10l-4.242 4.243L8 15.657l4.95-4.95z\"/>,\"cheveron-up\":<path d=\"M10.707 7.05L10 6.343 4.343 12l1.414 1.414L10 9.172l4.243 4.242L15.657 12z\"/>,\"clipboard\":<path d=\"M7.03 2.6a3 3 0 0 1 5.94 0L15 3v1h1a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h1V3l2.03-.4zM5 6H4v12h12V6h-1v1H5V6zm5-2a1 1 0 1 0 0-2 1 1 0 0 0 0 2z\"/>,\"close-outline\":<path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm1.41-1.41A8 8 0 1 0 15.66 4.34 8 8 0 0 0 4.34 15.66zm9.9-8.49L11.41 10l2.83 2.83-1.41 1.41L10 11.41l-2.83 2.83-1.41-1.41L8.59 10 5.76 7.17l1.41-1.41L10 8.59l2.83-2.83 1.41 1.41z\"/>,\"close-solid\":<path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zM11.4 10l2.83-2.83-1.41-1.41L10 8.59 7.17 5.76 5.76 7.17 8.59 10l-2.83 2.83 1.41 1.41L10 11.41l2.83 2.83 1.41-1.41L11.41 10z\"/>,\"close\":<path d=\"M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z\"/>,\"cloud-upload\":<path d=\"M16.88 9.1A4 4 0 0 1 16 17H5a5 5 0 0 1-1-9.9V7a3 3 0 0 1 4.52-2.59A4.98 4.98 0 0 1 17 8c0 .38-.04.74-.12 1.1zM11 11h3l-4-4-4 4h3v3h2v-3z\"/>,\"cloud\":<path d=\"M16.88 9.1A4 4 0 0 1 16 17H5a5 5 0 0 1-1-9.9V7a3 3 0 0 1 4.52-2.59A4.98 4.98 0 0 1 17 8c0 .38-.04.74-.12 1.1z\"/>,\"code\":<path d=\"M.7 9.3l4.8-4.8 1.4 1.42L2.84 10l4.07 4.07-1.41 1.42L0 10l.7-.7zm18.6 1.4l.7-.7-5.49-5.49-1.4 1.42L17.16 10l-4.07 4.07 1.41 1.42 4.78-4.78z\"/>,\"coffee\":<path d=\"M4 11H2a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h2V1h14v10a4 4 0 0 1-4 4H8a4 4 0 0 1-4-4zm0-2V5H2v4h2zm-2 8v-1h18v1l-4 2H6l-4-2z\"/>,\"cog\":<path d=\"M3.94 6.5L2.22 3.64l1.42-1.42L6.5 3.94c.52-.3 1.1-.54 1.7-.7L9 0h2l.8 3.24c.6.16 1.18.4 1.7.7l2.86-1.72 1.42 1.42-1.72 2.86c.3.52.54 1.1.7 1.7L20 9v2l-3.24.8c-.16.6-.4 1.18-.7 1.7l1.72 2.86-1.42 1.42-2.86-1.72c-.52.3-1.1.54-1.7.7L11 20H9l-.8-3.24c-.6-.16-1.18-.4-1.7-.7l-2.86 1.72-1.42-1.42 1.72-2.86c-.3-.52-.54-1.1-.7-1.7L0 11V9l3.24-.8c.16-.6.4-1.18.7-1.7zM10 13a3 3 0 1 0 0-6 3 3 0 0 0 0 6z\"/>,\"color-palette\":<path d=\"M9 20v-1.7l.01-.24L15.07 12h2.94c1.1 0 1.99.89 1.99 2v4a2 2 0 0 1-2 2H9zm0-3.34V5.34l2.08-2.07a1.99 1.99 0 0 1 2.82 0l2.83 2.83a2 2 0 0 1 0 2.82L9 16.66zM0 1.99C0 .9.89 0 2 0h4a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zM4 17a1 1 0 1 0 0-2 1 1 0 0 0 0 2z\"/>,\"compose\":<path d=\"M2 4v14h14v-6l2-2v10H0V2h10L8 4H2zm10.3-.3l4 4L8 16H4v-4l8.3-8.3zm1.4-1.4L16 0l4 4-2.3 2.3-4-4z\"/>,\"computer-desktop\":<path d=\"M7 17H2a2 2 0 0 1-2-2V2C0 .9.9 0 2 0h16a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2h-5l4 2v1H3v-1l4-2zM2 2v11h16V2H2z\"/>,\"computer-laptop\":<path d=\"M18 16h2v1a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1v-1h2V4c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v12zM4 4v9h12V4H4zm4 11v1h4v-1H8z\"/>,\"conversation\":<path d=\"M17 11v3l-3-3H8a2 2 0 0 1-2-2V2c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v7a2 2 0 0 1-2 2h-1zm-3 2v2a2 2 0 0 1-2 2H6l-3 3v-3H2a2 2 0 0 1-2-2V8c0-1.1.9-2 2-2h2v3a4 4 0 0 0 4 4h6z\"/>,\"copy\":<path d=\"M6 6V2c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-4v4a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V8c0-1.1.9-2 2-2h4zm2 0h4a2 2 0 0 1 2 2v4h4V2H8v4zM2 8v10h10V8H2z\"/>,\"credit-card\":<path d=\"M18 6V4H2v2h16zm0 4H2v6h16v-6zM0 4c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm4 8h4v2H4v-2z\"/>,\"currency-dollar\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm1-5h1a3 3 0 0 0 0-6H7.99a1 1 0 0 1 0-2H14V5h-3V3H9v2H8a3 3 0 1 0 0 6h4a1 1 0 1 1 0 2H6v2h3v2h2v-2z\"/>,\"dashboard\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm-5.6-4.29a9.95 9.95 0 0 1 11.2 0 8 8 0 1 0-11.2 0zm6.12-7.64l3.02-3.02 1.41 1.41-3.02 3.02a2 2 0 1 1-1.41-1.41z\"/>,\"date-add\":<path d=\"M15 2h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V4c0-1.1.9-2 2-2h2V0h2v2h6V0h2v2zM3 6v12h14V6H3zm6 5V9h2v2h2v2h-2v2H9v-2H7v-2h2z\"/>,\"dial-pad\":<path d=\"M5 4a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm5 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm5 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4zM5 9a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm5 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm5 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4zM5 14a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm5 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0 6a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm5-6a2 2 0 1 1 0-4 2 2 0 0 1 0 4z\"/>,\"directions\":<path d=\"M10 0l10 10-10 10L0 10 10 0zM6 10v3h2v-3h3v3l4-4-4-4v3H8a2 2 0 0 0-2 2z\"/>,\"document-add\":<path d=\"M9 10V8h2v2h2v2h-2v2H9v-2H7v-2h2zm-5 8h12V6h-4V2H4v16zm-2 1V0h12l4 4v16H2v-1z\"/>,\"document\":<path d=\"M4 18h12V6h-4V2H4v16zm-2 1V0h12l4 4v16H2v-1z\"/>,\"dots-horizontal-double\":<path d=\"M10 9a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0 6a2 2 0 1 1 0-4 2 2 0 0 1 0 4z\"/>,\"dots-horizontal-triple\":<path d=\"M10 12a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0-6a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0 12a2 2 0 1 1 0-4 2 2 0 0 1 0 4z\"/>,\"download\":<path d=\"M13 8V2H7v6H2l8 8 8-8h-5zM0 18h20v2H0v-2z\"/>,\"duplicate\":<path d=\"M6 6V2c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-4v4a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V8c0-1.1.9-2 2-2h4zm2 0h4a2 2 0 0 1 2 2v4h4V2H8v4zM2 8v10h10V8H2zm4 4v-2h2v2h2v2H8v2H6v-2H4v-2h2z\"/>,\"edit-copy\":<path d=\"M6 6V2c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-4v4a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V8c0-1.1.9-2 2-2h4zm2 0h4a2 2 0 0 1 2 2v4h4V2H8v4zM2 8v10h10V8H2z\"/>,\"edit-crop\":<path d=\"M14 16H6a2 2 0 0 1-2-2V6H0V4h4V0h2v14h14v2h-4v4h-2v-4zm0-3V6H7V4h7a2 2 0 0 1 2 2v7h-2z\"/>,\"edit-cut\":<path d=\"M9.77 11.5l5.34 3.91c.44.33 1.24.59 1.79.59H20L6.89 6.38A3.5 3.5 0 1 0 5.5 8.37L7.73 10 5.5 11.63a3.5 3.5 0 1 0 1.38 1.99l2.9-2.12zM3.5 7a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zM15.1 4.59A3.53 3.53 0 0 1 16.9 4H20l-7.5 5.5L10.45 8l4.65-3.41z\"/>,\"edit-pencil\":<path d=\"M12.3 3.7l4 4L4 20H0v-4L12.3 3.7zm1.4-1.4L16 0l4 4-2.3 2.3-4-4z\"/>,\"education\":<path d=\"M3.33 8L10 12l10-6-10-6L0 6h10v2H3.33zM0 8v8l2-2.22V9.2L0 8zm10 12l-5-3-2-1.2v-6l7 4.2 7-4.2v6L10 20z\"/>,\"envelope\":<path d=\"M18 2a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4c0-1.1.9-2 2-2h16zm-4.37 9.1L20 16v-2l-5.12-3.9L20 6V4l-10 8L0 4v2l5.12 4.1L0 14v2l6.37-4.9L10 14l3.63-2.9z\"/>,\"exclamation-outline\":<path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 5h2v6H9V5zm0 8h2v2H9v-2z\"/>,\"exclamation-solid\":<path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zM9 5v6h2V5H9zm0 8v2h2v-2H9z\"/>,\"explore\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zM7.88 7.88l-3.54 7.78 7.78-3.54 3.54-7.78-7.78 3.54zM10 11a1 1 0 1 1 0-2 1 1 0 0 1 0 2z\"/>,\"factory\":<path d=\"M10.5 20H0V7l5 3.33V7l5 3.33V7l5 3.33V0h5v20h-9.5z\"/>,\"fast-forward\":<path d=\"M1 5l9 5-9 5V5zm9 0l9 5-9 5V5z\"/>,\"fast-rewind\":<path d=\"M19 5v10l-9-5 9-5zm-9 0v10l-9-5 9-5z\"/>,\"film\":<path d=\"M0 4c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm6 0v12h8V4H6zM2 5v2h2V5H2zm0 4v2h2V9H2zm0 4v2h2v-2H2zm14-8v2h2V5h-2zm0 4v2h2V9h-2zm0 4v2h2v-2h-2zM8 7l5 3-5 3V7z\"/>,\"filter\":<path d=\"M12 12l8-8V0H0v4l8 8v8l4-4v-4z\"/>,\"flag\":<path d=\"M7.667 12H2v8H0V0h12l.333 2H20l-3 6 3 6H8l-.333-2z\"/>,\"flashlight\":<path d=\"M13 7v11a2 2 0 0 1-2 2H9a2 2 0 0 1-2-2V7L5 5V3h10v2l-2 2zM9 8v1a1 1 0 1 0 2 0V8a1 1 0 0 0-2 0zM5 0h10v2H5V0z\"/>,\"folder-outline-add\":<path d=\"M0 4c0-1.1.9-2 2-2h7l2 2h7a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm2 2v10h16V6H2zm7 4V8h2v2h2v2h-2v2H9v-2H7v-2h2z\"/>,\"folder-outline\":<path d=\"M0 4c0-1.1.9-2 2-2h7l2 2h7a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm2 2v10h16V6H2z\"/>,\"folder\":<path d=\"M0 4c0-1.1.9-2 2-2h7l2 2h7a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4z\"/>,\"format-bold\":<path d=\"M3 19V1h8a5 5 0 0 1 3.88 8.16A5.5 5.5 0 0 1 11.5 19H3zm7.5-8H7v5h3.5a2.5 2.5 0 1 0 0-5zM7 4v4h3a2 2 0 1 0 0-4H7z\"/>,\"format-font-size\":<path d=\"M16 9v8h-2V9h-4V7h10v2h-4zM8 5v12H6V5H0V3h15v2H8z\"/>,\"format-italic\":<path d=\"M8 1h9v2H8V1zm3 2h3L8 17H5l6-14zM2 17h9v2H2v-2z\"/>,\"format-text-size\":<path d=\"M16 9v8h-2V9h-4V7h10v2h-4zM8 5v12H6V5H0V3h15v2H8z\"/>,\"format-underline\":<path d=\"M16 9A6 6 0 1 1 4 9V1h3v8a3 3 0 0 0 6 0V1h3v8zM2 17h16v2H2v-2z\"/>,\"forward-step\":<path d=\"M13 5h3v10h-3V5zM4 5l9 5-9 5V5z\"/>,\"forward\":<path d=\"M1 5l9 5-9 5V5zm9 0l9 5-9 5V5z\"/>,\"gift\":<path d=\"M14.83 4H20v6h-1v10H1V10H0V4h5.17A3 3 0 0 1 10 .76 3 3 0 0 1 14.83 4zM8 10H3v8h5v-8zm4 0v8h5v-8h-5zM8 6H2v2h6V6zm4 0v2h6V6h-6zM8 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm4 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2z\"/>,\"globe\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm2-2.25a8 8 0 0 0 4-2.46V9a2 2 0 0 1-2-2V3.07a7.95 7.95 0 0 0-3-1V3a2 2 0 0 1-2 2v1a2 2 0 0 1-2 2v2h3a2 2 0 0 1 2 2v5.75zm-4 0V15a2 2 0 0 1-2-2v-1h-.5A1.5 1.5 0 0 1 4 10.5V8H2.25A8.01 8.01 0 0 0 8 17.75z\"/>,\"hand-stop\":<path d=\"M17 16a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4.01V4a1 1 0 0 1 1-1 1 1 0 0 1 1 1v6h1V2a1 1 0 0 1 1-1 1 1 0 0 1 1 1v8h1V1a1 1 0 1 1 2 0v9h1V2a1 1 0 0 1 1-1 1 1 0 0 1 1 1v13h1V9a1 1 0 0 1 1-1h1v8z\"/>,\"hard-drive\":<path d=\"M2 2c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2zm10.4 5.6A5 5 0 1 0 15 12V5l-2.6 2.6zM10 14a2 2 0 1 1 0-4 2 2 0 0 1 0 4zM6 3v2h4V3H6zM4 3a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 16a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm12 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0-16a1 1 0 1 0 0-2 1 1 0 0 0 0 2z\"/>,\"headphones\":<path d=\"M16 8A6 6 0 1 0 4 8v11H2a2 2 0 0 1-2-2v-4a2 2 0 0 1 2-2V8a8 8 0 1 1 16 0v3a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-2V8zm-4 2h3v10h-3V10zm-7 0h3v10H5V10z\"/>,\"heart\":<path d=\"M10 3.22l-.61-.6a5.5 5.5 0 0 0-7.78 7.77L10 18.78l8.39-8.4a5.5 5.5 0 0 0-7.78-7.77l-.61.61z\"/>,\"home\":<path d=\"M8 20H3V10H0L10 0l10 10h-3v10h-5v-6H8v6z\"/>,\"hot\":<path d=\"M10 0s8 7.58 8 12a8 8 0 1 1-16 0c0-1.5.91-3.35 2.12-5.15A3 3 0 0 0 10 6V0zM8 0a3 3 0 1 0 0 6V0z\"/>,\"hour-glass\":<path d=\"M3 18a7 7 0 0 1 4-6.33V8.33A7 7 0 0 1 3 2H1V0h18v2h-2a7 7 0 0 1-4 6.33v3.34A7 7 0 0 1 17 18h2v2H1v-2h2zM5 2a5 5 0 0 0 4 4.9V10h2V6.9A5 5 0 0 0 15 2H5z\"/>,\"inbox-check\":<path d=\"M0 2C0 .9.9 0 2 0h16a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm14 12h4V2H2v12h4c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2zM5 9l2-2 2 2 4-4 2 2-6 6-4-4z\"/>,\"inbox-download\":<path d=\"M0 2C0 .9.9 0 2 0h16a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm14 12h4V2H2v12h4c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2zM9 8V5h2v3h3l-4 4-4-4h3z\"/>,\"inbox-full\":<path d=\"M14 14h4V2H2v12h4c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2zM0 2C0 .9.9 0 2 0h16a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm4 2h12v2H4V4zm0 3h12v2H4V7zm0 3h12v2H4v-2z\"/>,\"inbox\":<path d=\"M0 2C0 .9.9 0 2 0h16a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm14 12h4V2H2v12h4c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2z\"/>,\"indent-decrease\":<path d=\"M1 1h18v2H1V1zm6 8h12v2H7V9zm-6 8h18v2H1v-2zM7 5h12v2H7V5zm0 8h12v2H7v-2zM5 6v8l-4-4 4-4z\"/>,\"indent-increase\":<path d=\"M1 1h18v2H1V1zm6 8h12v2H7V9zm-6 8h18v2H1v-2zM7 5h12v2H7V5zm0 8h12v2H7v-2zM1 6l4 4-4 4V6z\"/>,\"information-outline\":<path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z\"/>,\"information-solid\":<path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zM9 11v4h2V9H9v2zm0-6v2h2V5H9z\"/>,\"key\":<path d=\"M12.26 11.74L10 14H8v2H6v2l-2 2H0v-4l8.26-8.26a6 6 0 1 1 4 4zm4.86-4.62A3 3 0 0 0 15 2a3 3 0 0 0-2.12.88l4.24 4.24z\"/>,\"keyboard\":<path d=\"M0 6c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6zm2 0v2h2V6H2zm1 3v2h2V9H3zm-1 3v2h2v-2H2zm3 0v2h10v-2H5zm11 0v2h2v-2h-2zM6 9v2h2V9H6zm3 0v2h2V9H9zm3 0v2h2V9h-2zm3 0v2h2V9h-2zM5 6v2h2V6H5zm3 0v2h2V6H8zm3 0v2h2V6h-2zm3 0v2h4V6h-4z\"/>,\"layers\":<path d=\"M10 1l10 6-10 6L0 7l10-6zm6.67 10L20 13l-10 6-10-6 3.33-2L10 15l6.67-4z\"/>,\"library\":<path d=\"M0 6l10-6 10 6v2H0V6zm0 12h20v2H0v-2zm2-2h16v2H2v-2zm0-8h4v8H2V8zm6 0h4v8H8V8zm6 0h4v8h-4V8z\"/>,\"light-bulb\":<path d=\"M7 13.33a7 7 0 1 1 6 0V16H7v-2.67zM7 17h6v1.5c0 .83-.67 1.5-1.5 1.5h-3A1.5 1.5 0 0 1 7 18.5V17zm2-5.1V14h2v-2.1a5 5 0 1 0-2 0z\"/>,\"link\":<path d=\"M9.26 13a2 2 0 0 1 .01-2.01A3 3 0 0 0 9 5H5a3 3 0 0 0 0 6h.08a6.06 6.06 0 0 0 0 2H5A5 5 0 0 1 5 3h4a5 5 0 0 1 .26 10zm1.48-6a2 2 0 0 1-.01 2.01A3 3 0 0 0 11 15h4a3 3 0 0 0 0-6h-.08a6.06 6.06 0 0 0 0-2H15a5 5 0 0 1 0 10h-4a5 5 0 0 1-.26-10z\"/>,\"list-add\":<path d=\"M15 9h-3v2h3v3h2v-3h3V9h-3V6h-2v3zM0 3h10v2H0V3zm0 8h10v2H0v-2zm0-4h10v2H0V7zm0 8h10v2H0v-2z\"/>,\"list-bullet\":<path d=\"M1 4h2v2H1V4zm4 0h14v2H5V4zM1 9h2v2H1V9zm4 0h14v2H5V9zm-4 5h2v2H1v-2zm4 0h14v2H5v-2z\"/>,\"list\":<path d=\"M1 4h2v2H1V4zm4 0h14v2H5V4zM1 9h2v2H1V9zm4 0h14v2H5V9zm-4 5h2v2H1v-2zm4 0h14v2H5v-2z\"/>,\"load-balancer\":<path d=\"M17 12h-6v4h1v4H8v-4h1v-4H3v4h1v4H0v-4h1v-4a2 2 0 0 1 2-2h6V6H7V0h6v6h-2v4h6a2 2 0 0 1 2 2v4h1v4h-4v-4h1v-4z\"/>,\"location-current\":<path d=\"M0 0l20 8-8 4-2 8z\"/>,\"location-food\":<path d=\"M18 11v7a2 2 0 0 1-4 0v-5h-2V3a3 3 0 0 1 3-3h3v11zM4 10a2 2 0 0 1-2-2V1a1 1 0 0 1 2 0v4h1V1a1 1 0 0 1 2 0v4h1V1a1 1 0 0 1 2 0v7a2 2 0 0 1-2 2v8a2 2 0 0 1-4 0v-8z\"/>,\"location-gas-station\":<path d=\"M13 18h1v2H0v-2h1V2c0-1.1.9-2 2-2h8a2 2 0 0 1 2 2v16zM3 2v6h8V2H3zm10 8h1a2 2 0 0 1 2 2v3a1 1 0 0 0 2 0v-5l-2-2V6l-2-2 1-1 5 5v7a3 3 0 0 1-6 0v-3h-1v-2z\"/>,\"location-hotel\":<path d=\"M2 12h18v6h-2v-2H2v2H0V2h2v10zm8-6h8a2 2 0 0 1 2 2v3H10V6zm-4 5a3 3 0 1 1 0-6 3 3 0 0 1 0 6z\"/>,\"location-marina\":<path d=\"M8 1.88V0h2v16h10l-4 4H2l-2-4h8v-2H0v-.26A24.03 24.03 0 0 0 8 1.88zM19.97 14H10v-.36A11.94 11.94 0 0 0 10 .36v-.2A16.01 16.01 0 0 1 19.97 14z\"/>,\"location-park\":<path d=\"M5.33 12.77A4 4 0 1 1 3 5.13V5a4 4 0 0 1 5.71-3.62 3.5 3.5 0 0 1 6.26 1.66 2.5 2.5 0 0 1 2 2.08 4 4 0 1 1-2.7 7.49A5.02 5.02 0 0 1 12 14.58V18l2 1v1H6v-1l2-1v-3l-2.67-2.23zM5 10l3 3v-3H5z\"/>,\"location-restroom\":<path d=\"M12 16H9l2-4.5V9c0-1.1.9-2 2-2h2a2 2 0 0 1 2 2v2.5l2 4.5h-3v4h-4v-4zm-5-3h2V9a2 2 0 0 0-2-2H3a2 2 0 0 0-2 2v4h2v7h4v-7zM5 6a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm9 0a3 3 0 1 1 0-6 3 3 0 0 1 0 6z\"/>,\"location-shopping\":<path d=\"M16 6v2h2l2 12H0L2 8h2V6a6 6 0 1 1 12 0zm-2 0a4 4 0 1 0-8 0v2h8V6zM4 10v2h2v-2H4zm10 0v2h2v-2h-2z\"/>,\"location\":<path d=\"M10 20S3 10.87 3 7a7 7 0 1 1 14 0c0 3.87-7 13-7 13zm0-11a2 2 0 1 0 0-4 2 2 0 0 0 0 4z\"/>,\"lock-closed\":<path d=\"M4 8V6a6 6 0 1 1 12 0v2h1a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h1zm5 6.73V17h2v-2.27a2 2 0 1 0-2 0zM7 6v2h6V6a3 3 0 0 0-6 0z\"/>,\"lock-open\":<path d=\"M4 8V6a6 6 0 1 1 12 0h-3v2h4a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h1zm5 6.73V17h2v-2.27a2 2 0 1 0-2 0zM7 6v2h6V6a3 3 0 0 0-6 0z\"/>,\"map\":<path d=\"M0 0l6 4 8-4 6 4v16l-6-4-8 4-6-4V0zm7 6v11l6-3V3L7 6z\"/>,\"menu\":<path d=\"M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z\"/>,\"mic\":<path d=\"M9 18v-1.06A8 8 0 0 1 2 9h2a6 6 0 1 0 12 0h2a8 8 0 0 1-7 7.94V18h3v2H6v-2h3zM6 4a4 4 0 1 1 8 0v5a4 4 0 1 1-8 0V4z\"/>,\"minus-outline\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm5-9v2H5V9h10z\"/>,\"minus-solid\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm5-11H5v2h10V9z\"/>,\"mobile-devices\":<path d=\"M17 6V5h-2V2H3v14h5v4h3.25H11a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6zm-5.75 14H3a2 2 0 0 1-2-2V2c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-5.75zM11 8v8h6V8h-6zm3 11a1 1 0 1 0 0-2 1 1 0 0 0 0 2z\"/>,\"mood-happy-outline\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zM6.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm7 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm2.16 3a6 6 0 0 1-11.32 0h11.32z\"/>,\"mood-happy-solid\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zM6.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm7 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm2.16 3H4.34a6 6 0 0 0 11.32 0z\"/>,\"mood-neutral-outline\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zM6.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm7 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zM7 13h6a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2z\"/>,\"mood-neutral-solid\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zM6.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm7 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM7 13a1 1 0 0 0 0 2h6a1 1 0 0 0 0-2H7z\"/>,\"mood-sad-outline\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zM6.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm7 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm2.16 6H4.34a6 6 0 0 1 11.32 0z\"/>,\"mood-sad-solid\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zM6.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm7 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm2.16 6a6 6 0 0 0-11.32 0h11.32z\"/>,\"mouse\":<path d=\"M4 9V6A6 6 0 0 1 9 .08V9H4zm0 2v3a6 6 0 1 0 12 0v-3H4zm12-2V6a6 6 0 0 0-5-5.92V9h5z\"/>,\"move\":<path d=\"M94.828,45.171L80.687,31.029c-1.562-1.562-4.095-1.562-5.657,0c-1.562,1.562-1.562,4.095,0,5.657L82.344,44H52V13.657  l7.313,7.313c1.562,1.562,4.095,1.562,5.657,0c1.562-1.562,1.562-4.095,0-5.657L50.828,1.171c-1.562-1.562-4.095-1.562-5.657,0  L31.029,15.314c-1.562,1.562-1.562,4.095,0,5.657s4.095,1.562,5.657,0L44,13.657V44H13.657l7.313-7.313  c1.562-1.562,1.562-4.095,0-5.657s-4.095-1.562-5.657,0L1.171,45.171c-1.562,1.562-1.562,4.095,0,5.657l14.143,14.143  c1.562,1.562,4.095,1.562,5.657,0c1.562-1.562,1.562-4.095,0-5.657L13.657,52H44v30.344l-7.313-7.314  c-1.562-1.562-4.095-1.562-5.657,0c-1.562,1.562-1.562,4.095,0,5.657l14.142,14.142c1.562,1.562,4.095,1.562,5.657,0l14.143-14.142  c1.562-1.562,1.562-4.095,0-5.657c-1.562-1.562-4.095-1.562-5.657,0L52,82.343V52h30.343l-7.313,7.313  c-1.562,1.562-1.562,4.095,0,5.657c1.562,1.562,4.095,1.562,5.657,0l14.142-14.143C96.391,49.267,96.391,46.733,94.828,45.171z\" />,\"music-album\":<path d=\"M0 0h20v20H0V0zm10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm0-5a3 3 0 1 1 0-6 3 3 0 0 1 0 6z\"/>,\"music-artist\":<path d=\"M15.75 8l-3.74-3.75a3.99 3.99 0 0 1 6.82-3.08A4 4 0 0 1 15.75 8zm-13.9 7.3l9.2-9.19 2.83 2.83-9.2 9.2-2.82-2.84zm-1.4 2.83l2.11-2.12 1.42 1.42-2.12 2.12-1.42-1.42zM10 15l2-2v7h-2v-5z\"/>,\"music-notes\":<path d=\"M20 2.5V0L6 2v12.17A3 3 0 0 0 5 14H3a3 3 0 0 0 0 6h2a3 3 0 0 0 3-3V5.71L18 4.3v7.88a3 3 0 0 0-1-.17h-2a3 3 0 0 0 0 6h2a3 3 0 0 0 3-3V2.5z\"/>,\"music-playlist\":<path d=\"M16 17a3 3 0 0 1-3 3h-2a3 3 0 0 1 0-6h2a3 3 0 0 1 1 .17V1l6-1v4l-4 .67V17zM0 3h12v2H0V3zm0 4h12v2H0V7zm0 4h12v2H0v-2zm0 4h6v2H0v-2z\"/>,\"navigation-more\":<path d=\"M4 12a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm6 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm6 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4z\"/>,\"network\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm7.75-8a8.01 8.01 0 0 0 0-4h-3.82a28.81 28.81 0 0 1 0 4h3.82zm-.82 2h-3.22a14.44 14.44 0 0 1-.95 3.51A8.03 8.03 0 0 0 16.93 14zm-8.85-2h3.84a24.61 24.61 0 0 0 0-4H8.08a24.61 24.61 0 0 0 0 4zm.25 2c.41 2.4 1.13 4 1.67 4s1.26-1.6 1.67-4H8.33zm-6.08-2h3.82a28.81 28.81 0 0 1 0-4H2.25a8.01 8.01 0 0 0 0 4zm.82 2a8.03 8.03 0 0 0 4.17 3.51c-.42-.96-.74-2.16-.95-3.51H3.07zm13.86-8a8.03 8.03 0 0 0-4.17-3.51c.42.96.74 2.16.95 3.51h3.22zm-8.6 0h3.34c-.41-2.4-1.13-4-1.67-4S8.74 3.6 8.33 6zM3.07 6h3.22c.2-1.35.53-2.55.95-3.51A8.03 8.03 0 0 0 3.07 6z\"/>,\"news-paper\":<path d=\"M16 2h4v15a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V0h16v2zm0 2v13a1 1 0 0 0 1 1 1 1 0 0 0 1-1V4h-2zM2 2v15a1 1 0 0 0 1 1h11.17a2.98 2.98 0 0 1-.17-1V2H2zm2 8h8v2H4v-2zm0 4h8v2H4v-2zM4 4h8v4H4V4z\"/>,\"notification\":<path d=\"M4 8a6 6 0 0 1 4.03-5.67 2 2 0 1 1 3.95 0A6 6 0 0 1 16 8v6l3 2v1H1v-1l3-2V8zm8 10a2 2 0 1 1-4 0h4z\"/>,\"notifications-outline\":<path d=\"M6 8v7h8V8a4 4 0 1 0-8 0zm2.03-5.67a2 2 0 1 1 3.95 0A6 6 0 0 1 16 8v6l3 2v1H1v-1l3-2V8a6 6 0 0 1 4.03-5.67zM12 18a2 2 0 1 1-4 0h4z\"/>,\"notifications\":<path d=\"M4 8a6 6 0 0 1 4.03-5.67 2 2 0 1 1 3.95 0A6 6 0 0 1 16 8v6l3 2v1H1v-1l3-2V8zm8 10a2 2 0 1 1-4 0h4z\"/>,\"paste\":<path d=\"M10.5 20H2a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h1V3l2.03-.4a3 3 0 0 1 5.94 0L13 3v1h1a2 2 0 0 1 2 2v1h-2V6h-1v1H3V6H2v12h5v2h3.5zM8 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm2 4h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-8a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2zm0 2v8h8v-8h-8z\"/>,\"pause-outline\":<path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM7 6h2v8H7V6zm4 0h2v8h-2V6z\"/>,\"pause-solid\":<path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zM7 6v8h2V6H7zm4 0v8h2V6h-2z\"/>,\"pause\":<path d=\"M5 4h3v12H5V4zm7 0h3v12h-3V4z\"/>,\"pen-tool\":<path d=\"M11 9.27V0l6 11-4 6H7l-4-6L9 0v9.27a2 2 0 1 0 2 0zM6 18h8v2H6v-2z\"/>,\"phone\":<path d=\"M20 18.35V19a1 1 0 0 1-1 1h-2A17 17 0 0 1 0 3V1a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v4c0 .56-.31 1.31-.7 1.7L3.16 8.84c1.52 3.6 4.4 6.48 8 8l2.12-2.12c.4-.4 1.15-.71 1.7-.71H19a1 1 0 0 1 .99 1v3.35z\"/>,\"photo\":<path d=\"M0 4c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm11 9l-3-3-6 6h16l-5-5-2 2zm4-4a2 2 0 1 0 0-4 2 2 0 0 0 0 4z\"/>,\"php-elephant\":<path fill-rule=\"evenodd\" d=\"M10 12v8A10 10 0 0 1 8.17.17L10 2h5a5 5 0 0 1 5 4.99v9.02A4 4 0 0 1 16 20v-2a2 2 0 1 0 0-4h-4l-2-2zm5.5-3a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z\"/>,\"pin\":<path d=\"M11 12h6v-1l-3-1V2l3-1V0H3v1l3 1v8l-3 1v1h6v7l1 1 1-1v-7z\"/>,\"play-outline\":<path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM7 6l8 4-8 4V6z\"/>,\"play\":<path d=\"M4 4l12 6-12 6z\"/>,\"playlist\":<path d=\"M16 17a3 3 0 0 1-3 3h-2a3 3 0 0 1 0-6h2a3 3 0 0 1 1 .17V1l6-1v4l-4 .67V17zM0 3h12v2H0V3zm0 4h12v2H0V7zm0 4h12v2H0v-2zm0 4h6v2H0v-2z\"/>,\"plugin\":<path d=\"M20 14v4a2 2 0 0 1-2 2h-4v-2a2 2 0 0 0-2-2 2 2 0 0 0-2 2v2H6a2 2 0 0 1-2-2v-4H2a2 2 0 0 1-2-2 2 2 0 0 1 2-2h2V6c0-1.1.9-2 2-2h4V2a2 2 0 0 1 2-2 2 2 0 0 1 2 2v2h4a2 2 0 0 1 2 2v4h-2a2 2 0 0 0-2 2 2 2 0 0 0 2 2h2z\"/>,\"plus-circle\":<path d=\"M12 9V12M12 12V15M12 12H15M12 12H9M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z\" stroke=\"#4A5568\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>,\"plus\":<path d=\"M12 6V12M12 12V18M12 12H18M12 12L6 12\" stroke=\"#374151\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>,\"portfolio\":<path d=\"M9 12H1v6a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-6h-8v2H9v-2zm0-1H0V5c0-1.1.9-2 2-2h4V2a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v1h4a2 2 0 0 1 2 2v6h-9V9H9v2zm3-8V2H8v1h4z\"/>,\"printer\":<path d=\"M4 16H0V6h20v10h-4v4H4v-4zm2-4v6h8v-6H6zM4 0h12v5H4V0zM2 8v2h2V8H2zm4 0v2h2V8H6z\"/>,\"pylon\":<path d=\"M17.4 18H20v2H0v-2h2.6L8 0h4l5.4 18zm-3.2-4H5.8l-1.2 4h10.8l-1.2-4zm-2.4-8H8.2L7 10h6l-1.2-4z\"/>,\"question\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm2-13c0 .28-.21.8-.42 1L10 9.58c-.57.58-1 1.6-1 2.42v1h2v-1c0-.29.21-.8.42-1L13 9.42c.57-.58 1-1.6 1-2.42a4 4 0 1 0-8 0h2a2 2 0 1 1 4 0zm-3 8v2h2v-2H9z\"/>,\"queue\":<path d=\"M0 2h20v4H0V2zm0 8h20v2H0v-2zm0 6h20v2H0v-2z\"/>,\"radar copy 2\":<path d=\"M12 10a2 2 0 0 1-3.41 1.41A2 2 0 0 1 10 8V0a9.97 9.97 0 0 1 10 10h-8zm7.9 1.41A10 10 0 1 1 8.59.1v2.03a8 8 0 1 0 9.29 9.29h2.02zm-4.07 0a6 6 0 1 1-7.25-7.25v2.1a3.99 3.99 0 0 0-1.4 6.57 4 4 0 0 0 6.56-1.42h2.1z\"/>,\"radar\":<path d=\"M12 10a2 2 0 0 1-3.41 1.41A2 2 0 0 1 10 8V0a9.97 9.97 0 0 1 10 10h-8zm7.9 1.41A10 10 0 1 1 8.59.1v2.03a8 8 0 1 0 9.29 9.29h2.02zm-4.07 0a6 6 0 1 1-7.25-7.25v2.1a3.99 3.99 0 0 0-1.4 6.57 4 4 0 0 0 6.56-1.42h2.1z\"/>,\"radio\":<path d=\"M20 9v9a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V8c0-1.1.9-2 2-2h13.8L.74 1.97 1.26.03 20 5.06V9zm-5 9a3 3 0 1 0 0-6 3 3 0 0 0 0 6zM2 8v2h16V8H2zm1.5 10a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm6.5-1a2 2 0 1 1 0-4 2 2 0 0 1 0 4z\"/>,\"refresh\":<path d=\"M10 3v2a5 5 0 0 0-3.54 8.54l-1.41 1.41A7 7 0 0 1 10 3zm4.95 2.05A7 7 0 0 1 10 17v-2a5 5 0 0 0 3.54-8.54l1.41-1.41zM10 20l-4-4 4-4v8zm0-12V0l4 4-4 4z\"/>,\"reload\":<path d=\"M14.66 15.66A8 8 0 1 1 17 10h-2a6 6 0 1 0-1.76 4.24l1.42 1.42zM12 10h8l-4 4-4-4z\"/>,\"reply-all\":<path d=\"M18 17v-2.99A4 4 0 0 0 14 10h-3v5L5 9l6-6v5h3a6 6 0 0 1 6 6v3h-2zM6 6V3L0 9l6 6v-3L3 9l3-3z\"/>,\"reply\":<path d=\"M15 17v-2.99A4 4 0 0 0 11 10H8v5L2 9l6-6v5h3a6 6 0 0 1 6 6v3h-2z\"/>,\"repost\":<path d=\"M5 4a2 2 0 0 0-2 2v6H0l4 4 4-4H5V6h7l2-2H5zm10 4h-3l4-4 4 4h-3v6a2 2 0 0 1-2 2H6l2-2h7V8z\"/>,\"save-disk\":<path d=\"M0 2C0 .9.9 0 2 0h14l4 4v14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm5 0v6h10V2H5zm6 1h3v4h-3V3z\"/>,\"screen-full\":<path d=\"M2.8 15.8L0 13v7h7l-2.8-2.8 4.34-4.32-1.42-1.42L2.8 15.8zM17.2 4.2L20 7V0h-7l2.8 2.8-4.34 4.32 1.42 1.42L17.2 4.2zm-1.4 13L13 20h7v-7l-2.8 2.8-4.32-4.34-1.42 1.42 4.33 4.33zM4.2 2.8L7 0H0v7l2.8-2.8 4.32 4.34 1.42-1.42L4.2 2.8z\"/>,\"search\":<path d=\"M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12z\"/>,\"send\":<path d=\"M0 0l20 10L0 20V0zm0 8v4l10-2L0 8z\"/>,\"servers\":<path d=\"M0 2C0 .9.9 0 2 0h16a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm0 7c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V9zm0 7c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2zM12 2v2h2V2h-2zm4 0v2h2V2h-2zm-4 7v2h2V9h-2zm4 0v2h2V9h-2zm-4 7v2h2v-2h-2zm4 0v2h2v-2h-2z\"/>,\"share-01\":<path d=\"M4 10c0-1.1.9-2 2-2h8c1.1 0 2 .9 2 2v8c0 1.1-.9 2-2 2H6c-1.1 0-2-.9-2-2v-8zm2 0v8h8v-8h-2V8H8v2H6zm3-6.17V16h2V3.83l3.07 3.07 1.42-1.41L10 0l-.7.7L4.5 5.5l1.42 1.4L9 3.84z\"/>,\"share-alt\":<path d=\"M5.08 12.16A2.99 2.99 0 0 1 0 10a3 3 0 0 1 5.08-2.16l8.94-4.47a3 3 0 1 1 .9 1.79L5.98 9.63a3.03 3.03 0 0 1 0 .74l8.94 4.47A2.99 2.99 0 0 1 20 17a3 3 0 1 1-5.98-.37l-8.94-4.47z\"/>,\"share\":<path d=\"M4 10c0-1.1.9-2 2-2h8c1.1 0 2 .9 2 2v8c0 1.1-.9 2-2 2H6c-1.1 0-2-.9-2-2v-8zm2 0v8h8v-8h-2V8H8v2H6zm3-6.17V16h2V3.83l3.07 3.07 1.42-1.41L10 0l-.7.7-4.8 4.8 1.42 1.4L9 3.84z\"/>,\"shield\":<path d=\"M19 11a7.5 7.5 0 0 1-3.5 5.94L10 20l-5.5-3.06A7.5 7.5 0 0 1 1 11V3c3.38 0 6.5-1.12 9-3 2.5 1.89 5.62 3 9 3v8zm-9 1.08l2.92 2.04-1.03-3.41 2.84-2.15-3.56-.08L10 5.12 8.83 8.48l-3.56.08L8.1 10.7l-1.03 3.4L10 12.09z\"/>,\"shopping-cart\":<path d=\"M4 2h16l-3 9H4a1 1 0 1 0 0 2h13v2H4a3 3 0 0 1 0-6h.33L3 5 2 2H0V0h3a1 1 0 0 1 1 1v1zm1 18a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm10 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4z\"/>,\"show-sidebar\":<path d=\"M7 3H2v14h5V3zm2 0v14h9V3H9zM0 3c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3zm3 1h3v2H3V4zm0 3h3v2H3V7zm0 3h3v2H3v-2z\"/>,\"shuffle\":<path d=\"M6.59 12.83L4.4 15c-.58.58-1.59 1-2.4 1H0v-2h2c.29 0 .8-.2 1-.41l2.17-2.18 1.42 1.42zM16 4V1l4 4-4 4V6h-2c-.29 0-.8.2-1 .41l-2.17 2.18L9.4 7.17 11.6 5c.58-.58 1.59-1 2.41-1h2zm0 10v-3l4 4-4 4v-3h-2c-.82 0-1.83-.42-2.41-1l-8.6-8.59C2.8 6.21 2.3 6 2 6H0V4h2c.82 0 1.83.42 2.41 1l8.6 8.59c.2.2.7.41.99.41h2z\"/>,\"stand-by\":<path fill-rule=\"evenodd\" d=\"M4.16 4.16l1.42 1.42A6.99 6.99 0 0 0 10 18a7 7 0 0 0 4.42-12.42l1.42-1.42a9 9 0 1 1-11.69 0zM9 0h2v8H9V0z\"/>,\"star-full\":<path d=\"M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z\"/>,\"station\":<path d=\"M9 11.73a2 2 0 1 1 2 0V20H9v-8.27zm5.24 2.51l-1.41-1.41A3.99 3.99 0 0 0 10 6a4 4 0 0 0-2.83 6.83l-1.41 1.41a6 6 0 1 1 8.49 0zm2.83 2.83l-1.41-1.41a8 8 0 1 0-11.31 0l-1.42 1.41a10 10 0 1 1 14.14 0z\"/>,\"step-backward\":<path d=\"M4 5h3v10H4V5zm12 0v10l-9-5 9-5z\"/>,\"step-forward\":<path d=\"M13 5h3v10h-3V5zM4 5l9 5-9 5V5z\"/>,\"stethoscope\":<path d=\"M17 10.27V4.99a1 1 0 0 0-2 0V15a5 5 0 0 1-10 0v-1.08A6 6 0 0 1 0 8V2C0 .9.9 0 2 0h1a1 1 0 0 1 1 1 1 1 0 0 1-1 1H2v6a4 4 0 1 0 8 0V2H9a1 1 0 0 1-1-1 1 1 0 0 1 1-1h1a2 2 0 0 1 2 2v6a6 6 0 0 1-5 5.92V15a3 3 0 0 0 6 0V5a3 3 0 0 1 6 0v5.27a2 2 0 1 1-2 0z\"/>,\"store-front\":<path d=\"M18 9.87V20H2V9.87a4.25 4.25 0 0 0 3-.38V14h10V9.5a4.26 4.26 0 0 0 3 .37zM3 0h4l-.67 6.03A3.43 3.43 0 0 1 3 9C1.34 9 .42 7.73.95 6.15L3 0zm5 0h4l.7 6.3c.17 1.5-.91 2.7-2.42 2.7h-.56A2.38 2.38 0 0 1 7.3 6.3L8 0zm5 0h4l2.05 6.15C19.58 7.73 18.65 9 17 9a3.42 3.42 0 0 1-3.33-2.97L13 0z\"/>,\"stroke-width\":<path d=\"M0 0h20v5H0V0zm0 7h20v4H0V7zm0 6h20v3H0v-3zm0 5h20v2H0v-2z\"/>,\"subdirectory-left\":<path d=\"M18 12v1H8v5l-6-6 6-6v5h8V2h2z\"/>,\"subdirectory-right\":<path d=\"M3.5 13H12v5l6-6-6-6v5H4V2H2v11z\"/>,\"swap\":<path d=\"M9 6a4 4 0 1 1 8 0v8h3l-4 4-4-4h3V6a2 2 0 0 0-2-2 2 2 0 0 0-2 2v8a4 4 0 1 1-8 0V6H0l4-4 4 4H5v8a2 2 0 0 0 2 2 2 2 0 0 0 2-2V6z\"/>,\"tablet\":<path d=\"M2 2c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2zm2 0v14h12V2H4zm6 17a1 1 0 1 0 0-2 1 1 0 0 0 0 2z\"/>,\"tag\":<path d=\"M0 10V2l2-2h8l10 10-10 10L0 10zm4.5-4a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z\"/>,\"target\":<path d=\"M17.94 11H13V9h4.94A8 8 0 0 0 11 2.06V7H9V2.06A8 8 0 0 0 2.06 9H7v2H2.06A8 8 0 0 0 9 17.94V13h2v4.94A8 8 0 0 0 17.94 11zM10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20z\"/>,\"text-box\":<path d=\"M0 0h6v6H0V0zm2 2v2h2V2H2zm12-2h6v6h-6V0zm2 2v2h2V2h-2zm-2 12h6v6h-6v-6zm2 2v2h2v-2h-2zM0 14h6v6H0v-6zm2 2v2h2v-2H2zM6 2h8v2H6V2zm0 14h8v2H6v-2zM16 6h2v8h-2V6zM2 6h2v8H2V6zm5 1h6v2H7V7zm2 2h2v4H9V9z\"/>,\"text-decoration\":<path d=\"M12 5h-2v12H8V3h8v2h-2v12h-2V5zM8 3a4 4 0 1 0 0 8V3z\"/>,\"thermometer\":<path d=\"M9 11.17V7h2v4.17a3 3 0 1 1-2 0zm-1-.63a4 4 0 1 0 4 0V4a2 2 0 1 0-4 0v6.53zM6 9.53V4a4 4 0 0 1 8 0v5.53A5.99 5.99 0 0 1 10 20 6 6 0 0 1 6 9.53z\"/>,\"thumbs-down\":<path d=\"M11 20a2 2 0 0 1-2-2v-6H2a2 2 0 0 1-2-2V8l2.3-6.12A3.11 3.11 0 0 1 5 0h8a2 2 0 0 1 2 2v8l-3 7v3h-1zm6-10V0h3v10h-3z\"/>,\"thumbs-up\":<path d=\"M11 0h1v3l3 7v8a2 2 0 0 1-2 2H5c-1.1 0-2.31-.84-2.7-1.88L0 12v-2a2 2 0 0 1 2-2h7V2a2 2 0 0 1 2-2zm6 10h3v10h-3V10z\"/>,\"ticket\":<path d=\"M20 12v5H0v-5a2 2 0 1 0 0-4V3h20v5a2 2 0 1 0 0 4zM3 5v10h14V5H3zm7 7.08l-2.92 2.04L8.1 10.7 5.27 8.56l3.56-.08L10 5.12l1.17 3.36 3.56.08-2.84 2.15 1.03 3.4L10 12.09z\"/>,\"time\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm-1-7.59V4h2v5.59l3.95 3.95-1.41 1.41L9 10.41z\"/>,\"timer\":<path d=\"M16.32 7.1A8 8 0 1 1 9 4.06V2h2v2.06c1.46.18 2.8.76 3.9 1.62l1.46-1.46 1.42 1.42-1.46 1.45zM10 18a6 6 0 1 0 0-12 6 6 0 0 0 0 12zM7 0h6v2H7V0zm5.12 8.46l1.42 1.42L10 13.4 8.59 12l3.53-3.54z\"/>,\"tools copy\":<path d=\"M10 0s8 7.58 8 12a8 8 0 1 1-16 0c0-1.5.91-3.35 2.12-5.15A3 3 0 0 0 10 6V0zM8 0a3 3 0 1 0 0 6V0z\"/>,\"translate\":<path d=\"M7.41 9l2.24 2.24-.83 2L6 10.4l-3.3 3.3-1.4-1.42L4.58 9l-.88-.88c-.53-.53-1-1.3-1.3-2.12h2.2c.15.28.33.53.51.7l.89.9.88-.88C7.48 6.1 8 4.84 8 4H0V2h5V0h2v2h5v2h-2c0 1.37-.74 3.15-1.7 4.12L7.4 9zm3.84 8L10 20H8l5-12h2l5 12h-2l-1.25-3h-5.5zm.83-2h3.84L14 10.4 12.08 15z\"/>,\"trash\":<path d=\"M6 2l2-2h4l2 2h4v2H2V2h4zM3 6h14l-1 14H4L3 6zm5 2v10h1V8H8zm3 0v10h1V8h-1z\"/>,\"travel-bus\":<path d=\"M13 18H7v1a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1a2 2 0 0 1-2-2V2c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2v1a1 1 0 0 1-1 1h-1a1 1 0 0 1-1-1v-1zM4 5v6h5V5H4zm7 0v6h5V5h-5zM5 2v1h10V2H5zm.5 14a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm9 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z\"/>,\"travel-car\":<path d=\"M2 14v-3H1a1 1 0 0 1-1-1 1 1 0 0 1 1-1h1l4-7h8l4 7h1a1 1 0 0 1 1 1 1 1 0 0 1-1 1h-1v6a1 1 0 0 1-1 1h-1a1 1 0 0 1-1-1v-1H5v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1v-3zm13.86-5L13 4H7L4.14 9h11.72zM5.5 14a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm9 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z\"/>,\"travel-case\":<path d=\"M14 5h2v14H4V5h2V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v1zm3 0h1a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1V5zM3 5v14H2a2 2 0 0 1-2-2V7c0-1.1.9-2 2-2h1zm5-1v1h4V4H8z\"/>,\"travel-taxi-cab\":<path d=\"M12 3h2l4 7h1a1 1 0 0 1 1 1 1 1 0 0 1-1 1h-1v6a1 1 0 0 1-1 1h-1a1 1 0 0 1-1-1v-1H5v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1v-6H1a1 1 0 0 1-1-1 1 1 0 0 1 1-1h1l4-7h2V1h4v2zm3.86 7L13 5H7l-2.86 5h11.72zM5.5 15a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm9 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z\"/>,\"travel-train\":<path d=\"M12 18H8l-2 2H3l2-2a2 2 0 0 1-2-2V2c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2l2 2h-3l-2-2zM5 5v6h10V5H5zm1.5 11a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm7 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM8 2v1h4V2H8z\"/>,\"travel-walk\":<path d=\"M11 7l1.44 2.16c.31.47 1.01.84 1.57.84H17V8h-3l-1.44-2.16a5.94 5.94 0 0 0-1.4-1.4l-1.32-.88a1.72 1.72 0 0 0-1.7-.04L4 6v5h2V7l2-1-3 14h2l2.35-7.65L11 14v6h2v-8l-2.7-2.7L11 7zm1-3a2 2 0 1 0 0-4 2 2 0 0 0 0 4z\"/>,\"travel\":<path d=\"M14 5h2v14H4V5h2V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v1zm3 0h1a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1V5zM3 5v14H2a2 2 0 0 1-2-2V7c0-1.1.9-2 2-2h1zm5-1v1h4V4H8z\"/>,\"trophy\":<path d=\"M15 9a3 3 0 0 0 3-3h2a5 5 0 0 1-5.1 5 5 5 0 0 1-3.9 3.9V17l5 2v1H4v-1l5-2v-2.1A5 5 0 0 1 5.1 11H5a5 5 0 0 1-5-5h2a3 3 0 0 0 3 3V4H2v2H0V2h5V0h10v2h5v4h-2V4h-3v5z\"/>,\"tuning\":<path d=\"M17 16v4h-2v-4h-2v-3h6v3h-2zM1 9h6v3H1V9zm6-4h6v3H7V5zM3 0h2v8H3V0zm12 0h2v12h-2V0zM9 0h2v4H9V0zM3 12h2v8H3v-8zm6-4h2v12H9V8z\"/>,\"upload\":<path d=\"M13 10v6H7v-6H2l8-8 8 8h-5zM0 18h20v2H0v-2z\"/>,\"usb\":<path d=\"M15 8v2h-4V4h2l-3-4-3 4h2v8H5V9.73a2 2 0 1 0-2 0V12a2 2 0 0 0 2 2h4v2.27a2 2 0 1 0 2 0V12h4a2 2 0 0 0 2-2V8h1V4h-4v4h1z\"/>,\"user-add\":<path d=\"M2 6H0v2h2v2h2V8h2V6H4V4H2v2zm7 0a3 3 0 0 1 6 0v2a3 3 0 0 1-6 0V6zm11 9.14A15.93 15.93 0 0 0 12 13c-2.91 0-5.65.78-8 2.14V18h16v-2.86z\"/>,\"user-group\":<path d=\"M7 8a4 4 0 1 1 0-8 4 4 0 0 1 0 8zm0 1c2.15 0 4.2.4 6.1 1.09L12 16h-1.25L10 20H4l-.75-4H2L.9 10.09A17.93 17.93 0 0 1 7 9zm8.31.17c1.32.18 2.59.48 3.8.92L18 16h-1.25L16 20h-3.96l.37-2h1.25l1.65-8.83zM13 0a4 4 0 1 1-1.33 7.76 5.96 5.96 0 0 0 0-7.52C12.1.1 12.53 0 13 0z\"/>,\"user-solid-circle\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zM7 6v2a3 3 0 1 0 6 0V6a3 3 0 1 0-6 0zm-3.65 8.44a8 8 0 0 0 13.3 0 15.94 15.94 0 0 0-13.3 0z\"/>,\"user-solid-square\":<path d=\"M0 2C0 .9.9 0 2 0h16a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm7 4v2a3 3 0 1 0 6 0V6a3 3 0 1 0-6 0zm11 9.14A15.93 15.93 0 0 0 10 13c-2.91 0-5.65.78-8 2.14V18h16v-2.86z\"/>,\"user\":<path d=\"M5 5a5 5 0 0 1 10 0v2A5 5 0 0 1 5 7V5zM0 16.68A19.9 19.9 0 0 1 10 14c3.64 0 7.06.97 10 2.68V20H0v-3.32z\"/>,\"vector\":<path d=\"M12 4h4.27a2 2 0 1 1 0 2h-2.14a9 9 0 0 1 4.84 7.25 2 2 0 1 1-2 .04 7 7 0 0 0-4.97-6V8H8v-.71a7 7 0 0 0-4.96 6 2 2 0 1 1-2-.04A9 9 0 0 1 5.86 6H3.73a2 2 0 1 1 0-2H8V3h4v1z\"/>,\"video-camera\":<path d=\"M16 7l4-4v14l-4-4v3a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v3zm-8 7a4 4 0 1 0 0-8 4 4 0 0 0 0 8zm0-2a2 2 0 1 1 0-4 2 2 0 0 1 0 4z\"/>,\"view-carousel\":<path d=\"M16 16v2H4v-2H0V4h4V2h12v2h4v12h-4zM14 5.5V4H6v12h8V5.5zm2 .5v8h2V6h-2zM4 6H2v8h2V6z\"/>,\"view-column\":<path d=\"M12 4H8v12h4V4zm2 0v12h4V4h-4zM6 4H2v12h4V4zM0 2h20v16H0V2z\"/>,\"view-hide\":<path d=\"M12.81 4.36l-1.77 1.78a4 4 0 0 0-4.9 4.9l-2.76 2.75C2.06 12.79.96 11.49.2 10a11 11 0 0 1 12.6-5.64zm3.8 1.85c1.33 1 2.43 2.3 3.2 3.79a11 11 0 0 1-12.62 5.64l1.77-1.78a4 4 0 0 0 4.9-4.9l2.76-2.75zm-.25-3.99l1.42 1.42L3.64 17.78l-1.42-1.42L16.36 2.22z\"/>,\"view-list\":<path d=\"M0 3h20v2H0V3zm0 4h20v2H0V7zm0 4h20v2H0v-2zm0 4h20v2H0v-2z\"/>,\"view-show\":<path d=\"M.2 10a11 11 0 0 1 19.6 0A11 11 0 0 1 .2 10zm9.8 4a4 4 0 1 0 0-8 4 4 0 0 0 0 8zm0-2a2 2 0 1 1 0-4 2 2 0 0 1 0 4z\"/>,\"view-tile\":<path d=\"M0 0h9v9H0V0zm2 2v5h5V2H2zm-2 9h9v9H0v-9zm2 2v5h5v-5H2zm9-13h9v9h-9V0zm2 2v5h5V2h-5zm-2 9h9v9h-9v-9zm2 2v5h5v-5h-5z\"/>,\"volume-down\":<path d=\"M7 7H3v6h4l5 5V2L7 7zm8.54 6.54l-1.42-1.42a3 3 0 0 0 0-4.24l1.42-1.42a4.98 4.98 0 0 1 0 7.08z\"/>,\"volume-mute\":<path d=\"M9 7H5v6h4l5 5V2L9 7z\"/>,\"volume-off\":<path d=\"M15 8.59l-2.12-2.13-1.42 1.42L13.6 10l-2.13 2.12 1.42 1.42L15 11.4l2.12 2.13 1.42-1.42L16.4 10l2.13-2.12-1.42-1.42L15 8.6zM4 7H0v6h4l5 5V2L4 7z\"/>,\"volume-up\":<path d=\"M5 7H1v6h4l5 5V2L5 7zm11.36 9.36l-1.41-1.41a6.98 6.98 0 0 0 0-9.9l1.41-1.41a8.97 8.97 0 0 1 0 12.72zm-2.82-2.82l-1.42-1.42a3 3 0 0 0 0-4.24l1.42-1.42a4.98 4.98 0 0 1 0 7.08z\"/>,\"wallet\":<path d=\"M0 4c0-1.1.9-2 2-2h15a1 1 0 0 1 1 1v1H2v1h17a1 1 0 0 1 1 1v10a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm16.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z\"/>,\"watch\":<path d=\"M11 9h2v2H9V7h2v2zm-5.82 6.08a6.98 6.98 0 0 1 0-10.16L6 0h8l.82 4.92a6.98 6.98 0 0 1 0 10.16L14 20H6l-.82-4.92zM10 15a5 5 0 1 0 0-10 5 5 0 0 0 0 10z\"/>,\"window-new\":<path d=\"M9 10V8h2v2h2v2h-2v2H9v-2H7v-2h2zM0 3c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3zm2 2v12h16V5H2z\"/>,\"window-open\":<path d=\"M0 3c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3zm2 2v12h16V5H2zm8 3l4 5H6l4-5z\"/>,\"window\":<path d=\"M0 3c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3zm2 2v12h16V5H2z\"/>,\"wrench\":<path d=\"M6.47 9.8A5 5 0 0 1 .2 3.22l3.95 3.95 2.82-2.83L3.03.41a5 5 0 0 1 6.4 6.68l10 10-2.83 2.83L6.47 9.8z\"/>,\"yin-yang\":<path fill-rule=\"evenodd\" d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-18a8 8 0 1 0 0 16 4 4 0 1 1 0-8 4 4 0 1 0 0-8zm0 13a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0-8a1 1 0 1 1 0-2 1 1 0 0 1 0 2z\"/>,\"zoom-in\":<path fill-rule=\"evenodd\" d=\"M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12zM7 7V5h2v2h2v2H9v2H7V9H5V7h2z\"/>,\"zoom-out\":<path fill-rule=\"evenodd\" d=\"M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12zM5 7h6v2H5V7z\"/>}","export default {\"move\":\"0 0 96 96\",\"plus-circle\":\"0 0 24 24\",\"plus\":\"0 0 24 24\",\"search\":\"0 0 512 512\"}","import React from \"react\";\r\nimport { Wrapper } from \"nystem-components\";\r\n// eslint-disable-next-line import/extensions\r\nimport icons from \"../../../icons\";\r\n// eslint-disable-next-line import/extensions\r\nimport iconsViewPorts from \"../../../iconsViewPorts\";\r\n\r\nconst rotate = (deg) =>\r\n  (deg && { style: { transform: `rotate(${deg}deg)` } }) || undefined;\r\n\r\nconst Icon = ({ icon, className, renderAs, deg, ...props }) => {\r\n  className = className instanceof Array ? className : [className];\r\n  return (\r\n    <Wrapper renderAs={renderAs} className={renderAs && className}>\r\n      <svg\r\n        className={[...className, \"fill-current\"].join(\" \")}\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        viewBox={iconsViewPorts[icon] || \"0 0 20 20\"}\r\n        {...rotate(deg)}\r\n        {...props}\r\n      >\r\n        {icons[icon]}\r\n      </svg>\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default Icon;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst StyleEventOutside = ({ model, path, view, value }) => {\r\n  const { className, classNameInner, item, event } = model;\r\n  let innerClicked = false;\r\n  return (\r\n    <Wrapper\r\n      className={className}\r\n      onClick={() => {\r\n        if (!innerClicked) view.event(event, value);\r\n        innerClicked = false;\r\n      }}\r\n    >\r\n      <Wrapper\r\n        className={classNameInner}\r\n        onClick={() => {\r\n          innerClicked = true;\r\n        }}\r\n      >\r\n        <ContentTypeRender path={path} items={item} />\r\n      </Wrapper>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default StyleEventOutside;\r\n","/* eslint-disable jsx-a11y/mouse-events-have-key-events */\r\nimport React, { useState } from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nexport const HideOnNotOverContext = React.createContext();\r\n\r\nconst StyleOnOverHandle = ({ model, path }) => {\r\n  const [over, setOver] = useState(false);\r\n  const { item, className } = model;\r\n\r\n  return (\r\n    <Wrapper\r\n      onMouseOver={() => setOver(true)}\r\n      onMouseOut={() => setOver(false)}\r\n      className={className}\r\n    >\r\n      <HideOnNotOverContext.Provider value={over}>\r\n        {<ContentTypeRender path={path} items={item} />}\r\n      </HideOnNotOverContext.Provider>\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default StyleOnOverHandle;\r\n","import React, { useContext } from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nimport { HideOnNotOverContext } from \"./onOverHandle\";\r\n\r\nconst StyleOnOver = ({ model, path, children }) => {\r\n  const { className = [], item, classNameOut = [], classNameOver = [] } = model;\r\n  const over = useContext(HideOnNotOverContext);\r\n\r\n  return (\r\n    <Wrapper\r\n      className={[...className, ...(over ? classNameOver : classNameOut)]}\r\n    >\r\n      {children || <ContentTypeRender path={path} items={item} />}\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default StyleOnOver;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst StyleView = ({ model, path }) => {\r\n  const { className, renderAs, item } = model;\r\n\r\n  return (\r\n    <Wrapper className={className} renderAs={renderAs}>\r\n      <ContentTypeRender path={path} items={item} />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default StyleView;\r\n","import React from \"react\";\r\n\r\nconst ViewportContext = React.createContext();\r\n\r\nexport default ViewportContext;\r\n\r\nexport const ViewportContextProvider = ViewportContext.Provider;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { ViewportContextProvider } from \"./viewportContext\";\r\n\r\nconst breakpoints = {\r\n  xs: 0,\r\n  sm: 576,\r\n  md: 768,\r\n  lg: 992,\r\n  xl: 1200,\r\n};\r\n\r\nconst Viewport = ({ comp }) => {\r\n  const [state, setState] = useState({\r\n    density: window.devicePixelRatio,\r\n    width: window.innerWidth,\r\n    height: window.innerHeight,\r\n    size: Object.keys(breakpoints).reduce((prev, key) => {\r\n      return window.innerWidth < breakpoints[key] &&\r\n        breakpoints[key] < breakpoints[prev]\r\n        ? key\r\n        : prev;\r\n    }, \"xl\"),\r\n  });\r\n\r\n  useEffect(() => {\r\n    const handleResize = () => {\r\n      setState({\r\n        width: Math.max(\r\n          document.documentElement.clientWidth,\r\n          window.innerWidth || 0\r\n        ),\r\n        height: Math.max(\r\n          document.documentElement.clientHeight,\r\n          window.innerHeight || 0\r\n        ),\r\n        size: Object.keys(breakpoints).reduce((prev, key) => {\r\n          return window.innerWidth < breakpoints[key] &&\r\n            breakpoints[key] < breakpoints[prev]\r\n            ? key\r\n            : prev;\r\n        }, \"xl\"),\r\n      });\r\n    };\r\n\r\n    window.addEventListener(\"resize\", handleResize, false);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"resize\", handleResize, false);\r\n    };\r\n  }, []);\r\n\r\n  return state.reload ? null : (\r\n    <ViewportContextProvider value={state}>\r\n      {React.createElement(comp)}\r\n    </ViewportContextProvider>\r\n  );\r\n};\r\n\r\nexport default Viewport;\r\n","import * as React from \"react\";\r\nimport app from \"nystem\";\r\n\r\nclass ExtensionBackgroundIndex extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const self = this;\r\n    this.tabs = {};\r\n    this.tabLoadCallback = {};\r\n    this.tabLoading = {};\r\n    app().doingEvent = {};\r\n    app().pathErrorClick = {};\r\n    window.chrome.runtime.onMessage.addListener(\r\n      (request, sender, sendResponse) => {\r\n        const tabOptions = self.tabs[sender.tab.id];\r\n        if (!tabOptions) {\r\n          console.log(\"Missing \", sender.tab);\r\n          return;\r\n        }\r\n        if (request.doEvent) {\r\n          console.log(\"doEvent\", request, app().doingEvent[sender.tab.id]);\r\n          app().doingEvent[sender.tab.id] = false;\r\n          console.log(\"request.result\");\r\n          if (request.result.error === \"Path\") {\r\n            app().pathErrorClick[sender.tab.id] = request;\r\n            console.log(\"app().pathErrorClick\", app().pathErrorClick);\r\n          } else delete app().pathErrorClick[sender.tab.id];\r\n          app().connection.emit(request);\r\n        } else if (app().pathErrorClick[sender.tab.id]) {\r\n          const response = app().pathErrorClick[sender.tab.id];\r\n          delete app().pathErrorClick[sender.tab.id];\r\n          response.newPath = request.path;\r\n          console.log(\"response.newPath\", response);\r\n          app().connection.emit(response);\r\n        } else if (tabOptions.recording) {\r\n          request.tabId = `${sender.tab.id}`;\r\n          request.url = sender.tab.url;\r\n          if (\r\n            !tabOptions.listenTo ||\r\n            tabOptions.listenTo.length === 0 ||\r\n            tabOptions.listenTo.indexOf(request.event) !== -1\r\n          )\r\n            app().database.eventLog.save({\r\n              data: request,\r\n            });\r\n        }\r\n      }\r\n    );\r\n    // https://developer.window.chrome.com/extensions/tabs\r\n    // https://developer.window.chrome.com/extensions/api_index\r\n    // https://developer.window.chrome.com/extensions/messaging\r\n    app().connection.on(\"connect\", this.connect);\r\n    app().database.tab.on(\"update\", this.updateTabSettings);\r\n\r\n    this.saveTab = function (tab, forceUpdate) {\r\n      const tabField = [\"url\", \"title\"];\r\n      let changed = false;\r\n      const id = tab.id ? tab.id : tab._id;\r\n      if (!self.tabs[tab.id]) {\r\n        changed = true;\r\n        self.tabs[tab.id] = {};\r\n      }\r\n      const newUrl = tab.url !== self.tabs[id].url;\r\n      for (let i = 0; i < tabField.length; i++)\r\n        if (self.tabs[id][tabField[i]] !== tab[tabField[i]]) {\r\n          changed = true;\r\n          self.tabs[id][tabField[i]] = tab[tabField[i]];\r\n        }\r\n      self.tabs[id]._id = `${id}`;\r\n      if (changed || forceUpdate) {\r\n        const tabOptions = self.tabs[id];\r\n        if (\r\n          newUrl &&\r\n          tabOptions.recording &&\r\n          (!tabOptions.listenTo ||\r\n            tabOptions.listenTo.length === 0 ||\r\n            tabOptions.listenTo.indexOf(\"url\") !== -1)\r\n        )\r\n          app().database.eventLog.save({\r\n            data: {\r\n              name: `URL change ${tabOptions.url}`,\r\n              event: \"url\",\r\n              url: tabOptions.url,\r\n              title: tabOptions.title,\r\n              tabId: tabOptions._id,\r\n            },\r\n          });\r\n        app().database.tab.save({\r\n          data: tabOptions,\r\n        });\r\n      }\r\n    };\r\n    app().connection.on(\"extensionEvent\", this.extensionEvent);\r\n    window.chrome.webNavigation.onCompleted.addListener((info) => {\r\n      if (info.frameId !== 0) return;\r\n      const tabLoading = self.tabLoading[info.tabId];\r\n      delete self.tabLoading[info.tabId];\r\n      if (tabLoading && tabLoading.callback) tabLoading.callback();\r\n      if (self.tabLoadCallback[info.tabId]) self.tabLoadCallback[info.tabId]();\r\n    });\r\n    window.chrome.webNavigation.onBeforeNavigate.addListener((info) => {\r\n      if (info.frameId !== 0) return;\r\n      if (!self.tabLoading[info.tabId])\r\n        self.tabLoading[info.tabId] = {\r\n          loading: true,\r\n          callback: false,\r\n        };\r\n    });\r\n    window.chrome.tabs.onCreated.addListener(self.saveTab);\r\n    window.chrome.tabs.onUpdated.addListener((tabId, changeInfo, tab) => {\r\n      self.saveTab(tab);\r\n    });\r\n    window.chrome.tabs.onRemoved.addListener((id) => {\r\n      delete self.tabs[id];\r\n      app().database.tab.delete({ id });\r\n    });\r\n    window.chrome.contextMenus.create({\r\n      title: \"Validate in Testguide eventlog\",\r\n      onclick: this.addToEventLog,\r\n      contexts: [\r\n        \"page\",\r\n        \"selection\",\r\n        \"link\",\r\n        \"editable\",\r\n        \"image\",\r\n        \"video\",\r\n        \"audio\",\r\n      ],\r\n    });\r\n    this.updateTimer = setTimeout(this.updateTabs, 1000 * 10);\r\n    this.state = {};\r\n  }\r\n  updateTabs = () => {\r\n    app()\r\n      .database.tab.search()\r\n      .then(({ data }) =>\r\n        data\r\n          .filter((tab) => !tab.siteScript && !this.tabs[tab._id])\r\n          .forEach((tab) => app().database.tab.delete({ id: tab._id }))\r\n      );\r\n    this.updateTimer = setTimeout(this.updateTabs, 1000 * 60);\r\n  };\r\n  addToEventLog = (info, tab) => {\r\n    // console.log(info, tab);\r\n  };\r\n  updateTabSettings = (items) => {\r\n    if (!items) return;\r\n    const self = this;\r\n    const id = `${Object.keys(items)[0]}`;\r\n    const data = app()\r\n      .database.tab.get({ id })\r\n      .then(({ data }) => {\r\n        if (!data || data.siteScript) {\r\n          console.log(id);\r\n          return;\r\n        }\r\n        if (!self.tabs[data._id].recording && data.recording)\r\n          app().database.eventLog.save({\r\n            data: {\r\n              name: `Recording start ${data.url}`,\r\n              event: \"url\",\r\n              url: data.url,\r\n              title: data.title,\r\n              tabId: data._id,\r\n            },\r\n          });\r\n        self.tabs[data._id] = data;\r\n      });\r\n    if (data) this.tabs[data._id] = data;\r\n  };\r\n  extensionEvent = (data) => {\r\n    const self = this;\r\n    const tabId = parseInt(data.tabId, 10);\r\n    if (data.doEvent.event === \"url\") {\r\n      if (this.tabs[data.tabId].url !== data.doEvent.url)\r\n        window.chrome.tabs.update(tabId, { url: data.doEvent.url }, () => {\r\n          self.tabLoadCallback[tabId] = function () {\r\n            data.result = {\r\n              status: \"success\",\r\n              redirected: true,\r\n            };\r\n            app().connection.emit(data);\r\n          };\r\n        });\r\n      else {\r\n        data.result = {\r\n          status: \"success\",\r\n          redirected: false,\r\n        };\r\n        app().connection.emit(data);\r\n      }\r\n    } else if (data.doEvent)\r\n      if (this.tabLoading[tabId]) {\r\n        console.log(\"delay tab\");\r\n        this.tabLoading[tabId].callback = function () {\r\n          console.log(\"delay tab done\");\r\n          app().doingEvent[tabId] = data;\r\n          window.chrome.tabs.sendMessage(tabId, data);\r\n        };\r\n      } else {\r\n        app().doingEvent[tabId] = data;\r\n        window.chrome.tabs.sendMessage(tabId, data);\r\n      }\r\n  };\r\n  connect = (data) => {\r\n    const self = this;\r\n    app().connection.emit({\r\n      type: \"extensionEvent\",\r\n      event: \"connectExtension\",\r\n    });\r\n    window.chrome.tabs.query({}, (data) => {\r\n      for (const item in data) self.saveTab(data[item], true);\r\n    });\r\n  };\r\n  componentWillUnmount() {\r\n    app().connection.off(\"connect\", this.connect);\r\n    app().connection.off(\"extensionEvent\", this.extensionEvent);\r\n    clearTimeout(this.updateTimer);\r\n  }\r\n  render() {\r\n    return null;\r\n  }\r\n}\r\nexport default ExtensionBackgroundIndex;\r\n","const extensionIcon = props => {\r\n  const { browserAction } = window.chrome;\r\n  const { color, text, icon, canvas } = props.model || props;\r\n  if (icon) browserAction.setIcon({ path: icon });\r\n  if (color) browserAction.setBadgeBackgroundColor({ color }); // [190, 190, 190, 230]\r\n  if (text) browserAction.setBadgeText({ text });\r\n  if (canvas) {\r\n    const canvasContext = canvas.getContext(\"2d\");\r\n    browserAction.setIcon({\r\n      imageData: canvasContext.getImageData(0, 0, canvas.width, canvas.height)\r\n    });\r\n  }\r\n  return null;\r\n};\r\nexport default extensionIcon;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { ContentTypeRender } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst currentUrl = () =>\r\n  new Promise((resolve) =>\r\n    window.chrome.tabs.query({ currentWindow: true, active: true }, (tabs) => {\r\n      resolve(tabs[0].url);\r\n    })\r\n  );\r\n\r\nconst ExtensionSearch = ({ model, view, path, setValue }) => {\r\n  const [missing, setMissing] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const { extract, field } = model;\r\n\r\n    currentUrl().then(async (url) => {\r\n      const [, , val] = new RegExp(extract).exec(url) || [];\r\n      if (!val) return;\r\n\r\n      const { data } = await app().database[view.contentType].search({\r\n        filter: { [field]: val },\r\n        count: 1,\r\n      });\r\n\r\n      if (!data) {\r\n        setMissing(true);\r\n        return;\r\n      }\r\n\r\n      setValue(data[0]);\r\n      view.id = data[0]._id;\r\n    });\r\n  }, [model, setValue, view]);\r\n\r\n  return missing ? <ContentTypeRender path={path} items={model.item} /> : null;\r\n};\r\n\r\nexport default ExtensionSearch;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { ContentTypeRender } from \"nystem-components\";\r\n\r\nconst currentUrl = () =>\r\n  new Promise((resolve) =>\r\n    window.chrome.tabs.query({ currentWindow: true, active: true }, (tabs) => {\r\n      resolve(tabs[0].url);\r\n    })\r\n  );\r\n\r\nconst ExtensionTab = (props) => {\r\n  const { match, invert, children, item } = props.model || props;\r\n  const [isMatch, setIsMatch] = useState();\r\n\r\n  useEffect(() => {\r\n    currentUrl().then((url) => setIsMatch(url.includes(match)));\r\n  }, [match]);\r\n\r\n  if (isMatch === undefined || (isMatch && invert) || (!isMatch && !invert))\r\n    return null;\r\n\r\n  return children || <ContentTypeRender path={props.path} items={item} />;\r\n};\r\nexport default ExtensionTab;\r\n","import React from \"react\";\r\nimport { ContentTypeRender } from \"nystem-components\";\r\n\r\nconst ExtensionView = ({ invert, model = {}, path, children }) => {\r\n  const inExtension = window.location.protocol === \"chrome-extension:\";\r\n  invert = invert || model.invert;\r\n\r\n  if ((inExtension && invert) || (!inExtension && !invert)) return null;\r\n\r\n  return children || <ContentTypeRender path={path} items={model.item} />;\r\n};\r\nexport default ExtensionView;\r\n","import React from \"react\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nclass BootstrapComputedClass extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.view = props.view;\r\n    [\"valid\", \"setValue\"].forEach(func => {\r\n      this[func] = this[func].bind(this);\r\n    });\r\n    this.state = {\r\n      value: this.props.value\r\n    };\r\n    this.path = this.props.path;\r\n  }\r\n  valid() {\r\n    let valid = true;\r\n    for (let i = 0; i < this.model.item.length; i++)\r\n      if (\r\n        this.refs[`component${i}`].valid &&\r\n        this.refs[`component${i}`].valid &&\r\n        !this.refs[`component${i}`].valid()\r\n      )\r\n        valid = false;\r\n    return valid;\r\n  }\r\n  setValue(id, value) {\r\n    return this.props.setValue(id, value);\r\n  }\r\n  componentWillReceiveProps(nextProps) {\r\n    this.setState({\r\n      value: nextProps.value\r\n    });\r\n  }\r\n  render() {\r\n    const { view, model, path } = this.props;\r\n    const insertVal = val =>\r\n      val.replace(\r\n        /\\{([a-z_.]+)\\}/gim,\r\n        (str, p1, offset, s) => view.getValue(p1.replace(\".\", `${path}.`)) || \"\"\r\n      );\r\n\r\n    const className = model.className ? model.className.join(\" \") : \"\";\r\n    this.focus = view.focus;\r\n    if (model.row)\r\n      return (\r\n        <Wrapper className={insertVal(className)}>\r\n          <Wrapper className=\"row\">\r\n            {model.item.map(view.createItem, this)}\r\n          </Wrapper>\r\n        </Wrapper>\r\n      );\r\n    return (\r\n      <Wrapper className={insertVal(className)} renderAs={model.renderAs}>\r\n        {model.item.map(view.createItem, this)}\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\nexport default BootstrapComputedClass;\r\n","import { useEffect } from \"react\";\r\n\r\nconst DatabaseFilterResult = ({ view, children }) => {\r\n  useEffect(() => {\r\n    const filterSearch = (query) => {\r\n      const { data } = query;\r\n\r\n      const definition = data\r\n        .filter((item) => item.name === \"definition\")\r\n        .map((item) => item.component);\r\n\r\n      const viewFields = data\r\n        .filter((item) => item.name === \"view\")\r\n        .filter((item) => !definition.includes(item.component));\r\n\r\n      query.data = viewFields;\r\n    };\r\n\r\n    view.on(\"search\", filterSearch);\r\n    return () => {\r\n      view.off(\"search\", filterSearch);\r\n    };\r\n  }, [view]);\r\n\r\n  return children || null;\r\n};\r\n\r\nexport default DatabaseFilterResult;\r\n","import {\r\n  Wrapper,\r\n  Inserter,\r\n  DragAndDropContext,\r\n  SessionRole,\r\n} from \"nystem-components\";\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\nimport React from \"react\";\r\nimport \"../../../index.css\";\r\nimport \"./index.css\";\r\n\r\nconst Index = () => (\r\n  <Router>\r\n    <DragAndDropContext>\r\n      <SessionRole userrole=\"logged-out\">\r\n        <Inserter\r\n          className=\"p-8 text-left\"\r\n          match=\"*\"\r\n          source=\"/adminUser/login\"\r\n        />\r\n      </SessionRole>\r\n      <SessionRole userrole=\"logged-in\">\r\n        <Inserter match=\"*\" source=\"/server/menu\" />\r\n        <Inserter match=\"/popup.html\" source=\"/server/extension\" />\r\n        <Inserter match=\"/\" source=\"/server/overview\" />\r\n        <Inserter match=\"/menu\" source=\"/settings/menu\" />\r\n        <Wrapper className=\"px-6\">\r\n          <Inserter match=\"/server/*\" />\r\n          <Inserter match=\"/host/*\" />\r\n          <Inserter match=\"/settings/*\" />\r\n        </Wrapper>\r\n      </SessionRole>\r\n    </DragAndDropContext>\r\n  </Router>\r\n);\r\nexport default Index;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass OverlayAccessible extends React.Component {\r\n  state = { accessible: true };\r\n  overlayEvent = options => {\r\n    const accessible = !Object.keys(options.open).length;\r\n    if (this.state.accessible !== accessible) {\r\n      this.setState({ accessible });\r\n      app().event(\"accessible\", {\r\n        accessible,\r\n        accessibleId: this.accessibleId\r\n      });\r\n    }\r\n  };\r\n  getChildContext() {\r\n    return {\r\n      accessibleId: this.accessibleId\r\n    };\r\n  }\r\n\r\n  _handleScreenReaderToggled = isEnabled => {\r\n    this.setState({\r\n      screenReaderEnabled: isEnabled\r\n    });\r\n  };\r\n  componentDidMount(event) {\r\n    this.accessibleId = app().uuid();\r\n    app().on(\"overlay\", this.overlayEvent);\r\n  }\r\n  componentWillUnmount(event) {\r\n    app().off(\"overlay\", this.overlayEvent);\r\n  }\r\n  render() {\r\n    const { accessible } = this.state;\r\n    return (\r\n      <Wrapper accessible={accessible ? undefined : false}>\r\n        {this.props.children}\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\nOverlayAccessible.contextTypes = {\r\n  overlayId: PropTypes.string\r\n};\r\nOverlayAccessible.childContextTypes = {\r\n  accessibleId: PropTypes.string\r\n};\r\nexport default OverlayAccessible;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass OverlayClose extends React.Component {\r\n  handleEvent(event) {\r\n    if (event && event.preventDefault) event.preventDefault();\r\n    app().event(\"overlay\", { overlayId: this.context.overlayId, do: \"close\" });\r\n  }\r\n  render() {\r\n    const { className, renderAs, accessible } = this.props;\r\n    return (\r\n      <Wrapper\r\n        renderAs={renderAs || \"a\"}\r\n        className={className}\r\n        onClick={this.handleEvent.bind(this)}\r\n        accessible={accessible}\r\n      >\r\n        {this.props.children}\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\nOverlayClose.contextTypes = {\r\n  overlayId: PropTypes.string\r\n};\r\nexport default OverlayClose;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nclass OverlayCloseButton extends React.Component {\r\n  handleEvent(event) {\r\n    event.preventDefault();\r\n    const { view, path } = this.props;\r\n    const toPath = path || view.contentType + \"/\" + view.format + \"/\" + view.id;\r\n    app()\r\n      .event(\"closeOverlay\", toPath)\r\n      .then(data => {});\r\n  }\r\n  render() {\r\n    const { model, view } = this.props;\r\n    let { className } = this.props;\r\n    className = className || model.className ? model.className.join(\" \") : \"\";\r\n    return (\r\n      <Wrapper\r\n        renderAs={model.renderAs || \"a\"}\r\n        className={className}\r\n        onClick={this.handleEvent.bind(this)}\r\n      >\r\n        {model.item.map(view.createItem, this)}\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\nexport default OverlayCloseButton;\r\n","import React from \"react\";\r\n\r\nconst OverlayContextObject = React.createContext();\r\n\r\nconst OverlayContext = OverlayContextObject.Consumer;\r\nexport default OverlayContext;\r\n\r\nexport const OverlayContextProvider = OverlayContextObject.Provider;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport app from \"nystem\";\r\nimport { withRouter } from \"react-router\";\r\nimport { OverlayContextProvider } from \"./context\";\r\n\r\nlet atPath = \"\";\r\n\r\nconst OverlayIndex = withRouter(({ children, match }) => {\r\n  let [open, setOpenState] = useState({});\r\n\r\n  const overlayEvent = ({ event, overlayId }) => {\r\n    if (event === \"open\") open[overlayId] = true;\r\n    else if (event === \"close\") {\r\n      if (overlayId) delete open[overlayId];\r\n      else open = {};\r\n    }\r\n    setOpenState(open);\r\n  };\r\n\r\n  useEffect(() => {\r\n    app().on(\"overlay\", overlayEvent);\r\n    return () => {\r\n      app().off(\"overlay\", overlayEvent);\r\n    };\r\n  });\r\n\r\n  const { path } = match;\r\n  if (path !== atPath) app().event(\"overlay\", { event: \"close\" });\r\n  atPath = path;\r\n\r\n  const items =\r\n    children instanceof Array ? children : children ? [children] : [];\r\n\r\n  return items\r\n    .filter(({ props }) => open[props.overlayId])\r\n    .map(child => (\r\n      <OverlayContextProvider\r\n        key={child.props.overlayId}\r\n        value={child.props.overlayId}\r\n      >\r\n        {child}\r\n      </OverlayContextProvider>\r\n    ));\r\n});\r\n\r\nexport default OverlayIndex;\r\n","import React from \"react\";\r\nimport { Wrapper, OverlayClose } from \"nystem-components\";\r\nimport \"./menu.css\";\r\n\r\nconst OverlayMenu = ({ children }) => (\r\n  <Wrapper\r\n    className=\"overlay-menu-container overlay-menu-container--active\"\r\n    id=\"overlay-menu-container\"\r\n  >\r\n    <OverlayClose className=\"overlay-menu-shim\" renderAs=\"a\" accessible={false}>\r\n      {\" \"}\r\n    </OverlayClose>\r\n    <Wrapper renderAs=\"nav\" className=\"overlay-menu\">\r\n      {children}\r\n    </Wrapper>\r\n  </Wrapper>\r\n);\r\n\r\nexport default OverlayMenu;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nconst handleEvent = overlayId => e => {\r\n  e.preventDefault();\r\n  app().event(\"overlay\", { overlayId, event: \"open\" });\r\n};\r\n\r\nconst OverlayOpen = ({ overlayId, ...props }) => (\r\n  <Wrapper renderAs=\"a\" {...props} onClick={handleEvent(overlayId)} />\r\n);\r\n\r\nexport default OverlayOpen;\r\n","import React from \"react\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nclass OverlayOverlay extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      mounted: false\r\n    };\r\n  }\r\n  findPosition(obj) {\r\n    const pos = { x: 0, y: 0 };\r\n    while (1) {\r\n      pos.x += obj.offsetLeft;\r\n      pos.y += obj.offsetTop;\r\n      if (!obj.offsetParent) return pos;\r\n      obj = obj.offsetParent;\r\n    }\r\n  }\r\n  getScroll() {\r\n    if (window.pageYOffset !== undefined)\r\n      return { x: window.pageXOffset, y: window.pageYOffset };\r\n\r\n    const r = document.documentElement;\r\n    const b = document.body;\r\n    const sx = r.scrollLeft || b.scrollLeft || 0;\r\n    const sy = r.scrollTop || b.scrollTop || 0;\r\n    return { x: sx, y: sy };\r\n  }\r\n  onMouseDown(event) {\r\n    const { modal } = this.refs;\r\n    this.at = {\r\n      start: {\r\n        x: event.clientX,\r\n        y: event.clientY\r\n      },\r\n      obj: this.findPosition(modal),\r\n      pos: {\r\n        x: event.clientX,\r\n        y: event.clientY\r\n      }\r\n    };\r\n  }\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    if (nextState === this.state) return false;\r\n    return true;\r\n  }\r\n  componentDidMount() {\r\n    this.setState({ mounted: true });\r\n  }\r\n  render() {\r\n    const add = this.state.mounted ? \"--active\" : \"\";\r\n    return (\r\n      <Wrapper className={`overlay-background overlay-background${add}`}>\r\n        <Wrapper className={`overlay-contents overlay-contents${add}`}>\r\n          {this.props.children}\r\n        </Wrapper>\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\nexport default OverlayOverlay;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\n\r\nclass OverlayView extends React.Component {\r\n  onClick = event => {\r\n    event.preventDefault();\r\n    let { model } = this.props;\r\n    model = model || this.props;\r\n    app().event(\"addOverlay\", model);\r\n  };\r\n  render() {\r\n    let { model } = this.props;\r\n    model = model || this.props;\r\n    const className = model.className ? model.className.join(\" \") : \"\";\r\n    return (\r\n      <a className={className} href={model.link} onClick={this.onClick}>\r\n        {app().t(model.text)}\r\n      </a>\r\n    );\r\n  }\r\n}\r\nexport default OverlayView;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { ContentTypeView } from \"nystem-components\";\r\n\r\nclass ReferenceDynamicForm extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.props.view.on(\"save\", this.onSave);\r\n    this.localValue = {};\r\n    const self = this;\r\n    const state = {};\r\n    app().require([\"dynamicForm\", \"fieldDefinitions\"], function () {\r\n      app().dynamicForm.generate(\r\n        self.props.view.contentType,\r\n        self.model.source,\r\n        self.model.transformContentType,\r\n        self.props.view.value,\r\n        function (id) {\r\n          if (typeof state.value !== \"undefined\")\r\n            self.setState({\r\n              value: id,\r\n            });\r\n          else state.value = id;\r\n        }\r\n      );\r\n    });\r\n    if (typeof state.value === \"undefined\") state.value = false; //'dynamicType' + self.props.view.value._id\r\n    this.state = state;\r\n  }\r\n  componentWillReceiveProps(nextProps) {\r\n    /*this.setState({\r\n      value: nextProps.value\r\n    });*/\r\n  }\r\n  render() {\r\n    const model = this.props.model;\r\n    const format = model.view ? model.view : \"input\";\r\n    if (this.state.value)\r\n      return (\r\n        <ContentTypeView\r\n          noForm=\"true\"\r\n          className={model.className}\r\n          contentType={this.state.value}\r\n          format={format}\r\n          value={{}}\r\n          id={this.props.view.params[3]}\r\n          params={this.props.view.params}\r\n        />\r\n      );\r\n    return null;\r\n  }\r\n}\r\nexport default ReferenceDynamicForm;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nclass ViewButtonMirrorSave extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.view = props.view;\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.saveToDb = this.saveToDb.bind(this);\r\n    this.view.on(\"change\", this.handleChange);\r\n\r\n    this.oldVal = this.props.view.value\r\n      ? JSON.stringify(this.props.view.value)\r\n      : {};\r\n    if (!this.model.saveOn) return {};\r\n\r\n    if (this.model.saveOn.indexOf(\"baseView\") !== -1)\r\n      this.view.baseView.on(\"save\", this.saveToDb);\r\n    if (this.model.saveOn.indexOf(\"baseView.baseView\") !== -1)\r\n      this.view.baseView.baseView.on(\"save\", this.saveToDb);\r\n    if (this.model.saveOn.indexOf(\"baseView.baseView.baseView\") !== -1)\r\n      this.view.baseView.baseView.baseView.on(\"save\", this.saveToDb);\r\n  }\r\n  insertVal(val) {\r\n    if (!val) return val;\r\n    const self = this;\r\n    return val.replace(/\\{([a-z_.]+)\\}/gim, function(str, p1, offset, s) {\r\n      if (p1.indexOf(\"baseView.\") !== 0) return self.view.baseView.getValue(p1);\r\n      p1 = p1.replace(\"baseView.\", \"\");\r\n      if (p1.indexOf(\"baseView.\") !== 0)\r\n        return self.view.baseView.baseView.getValue(p1);\r\n      p1 = p1.replace(\"baseView.\", \"\");\r\n      return self.view.baseView.baseView.baseView.getValue(p1);\r\n    });\r\n  }\r\n  handleChange(id) {\r\n    if (!id || !this.view.value) return;\r\n\r\n    if (!this.saveVals) this.saveVals = {};\r\n\r\n    this.saveVals[id] = this.view.value[id];\r\n  }\r\n  saveToDb() {\r\n    const self = this;\r\n    if (this.saveVals && this.view.valid()) {\r\n      if (this.view.value._id) this.saveVals._id = this.view.value._id;\r\n\r\n      app().database[this.view.contentType].save(\r\n        {\r\n          data: this.saveVals,\r\n          fields: true\r\n        },\r\n        function(data) {\r\n          if (!self.view.value._id) self.view.setValue(\"_id\", data);\r\n\r\n          self.view.event(\"save\", self.view.value);\r\n        }\r\n      );\r\n\r\n      delete this.saveVals;\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    if (this.model.insertVal)\r\n      this.model.insertVal.forEach(item => {\r\n        this.view.setValue(item[0], this.insertVal(item[1]));\r\n      });\r\n  }\r\n  componentWillUnmount() {\r\n    this.view.off(\"change\", this.handleChange);\r\n    if (this.saveDelay) clearTimeout(this.saveDelay);\r\n\r\n    if (this.model.saveOn.indexOf(\"baseView\") !== -1)\r\n      this.view.baseView.off(\"save\", this.saveToDb);\r\n    if (this.model.saveOn.indexOf(\"baseView.baseView\") !== -1)\r\n      this.view.baseView.baseView.off(\"save\", this.saveToDb);\r\n    if (this.model.saveOn.indexOf(\"baseView.baseView.baseView\") !== -1)\r\n      this.view.baseView.baseView.baseView.off(\"save\", this.saveToDb);\r\n  }\r\n  render() {\r\n    return null;\r\n  }\r\n}\r\nexport default ViewButtonMirrorSave;\r\n","import { useEffect } from \"react\";\r\n\r\nconst ViewInViewSetBaseViewValue = ({ model, view }) => {\r\n  useEffect(() => {\r\n    view.setValue({\r\n      path: model.toField,\r\n      value: view.baseView.getValue(model.fromField),\r\n    });\r\n  }, [model, view]);\r\n\r\n  return null;\r\n};\r\nexport default ViewInViewSetBaseViewValue;\r\n","/* eslint-disable jsx-a11y/mouse-events-have-key-events */\r\n\r\nimport React, { useRef, useEffect, useState } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst Portal = ({ children }) => {\r\n  const [element, setElement] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const element = document.createElement(\"div\");\r\n    document.body.appendChild(element);\r\n    setElement(element);\r\n\r\n    return () => {\r\n      document.body.removeChild(element);\r\n    };\r\n  }, []);\r\n\r\n  if (!element) return null;\r\n\r\n  return createPortal(children, element);\r\n};\r\n\r\nconst MouseOver = ({ children, setOver }) => {\r\n  const [isOver, setIsOver] = useState(false);\r\n  const ref = useRef();\r\n  useEffect(() => {\r\n    if (!isOver) return;\r\n\r\n    const size = ref.current.getBoundingClientRect();\r\n    let pos = false;\r\n\r\n    const mouseMove = (e) => {\r\n      pos = { x: e.clientX, y: e.clientY };\r\n      const { x, y } = pos;\r\n\r\n      if (y < size.top || y > size.bottom || x < size.left || x > size.right) {\r\n        setOver(false);\r\n        setIsOver(false);\r\n      }\r\n    };\r\n    const delay = setTimeout(() => {\r\n      setOver(pos);\r\n    }, 100);\r\n\r\n    window.addEventListener(\"mousemove\", mouseMove);\r\n    return () => {\r\n      clearTimeout(delay);\r\n      window.removeEventListener(\"mousemove\", mouseMove);\r\n    };\r\n  }, [isOver, setOver]);\r\n\r\n  return (\r\n    <div ref={ref} onMouseOver={() => setIsOver(true)}>\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ViewTextTitlePopup = ({ model, path }) => {\r\n  const { item, popup } = model;\r\n\r\n  const [overPos, setOver] = useState(false);\r\n\r\n  return (\r\n    <>\r\n      {overPos && (\r\n        <Portal>\r\n          <Wrapper\r\n            style={{\r\n              position: \"fixed\",\r\n              left: overPos.x + 10,\r\n              top: overPos.y + 12,\r\n            }}\r\n          >\r\n            <ContentTypeRender path={path} items={popup} />\r\n          </Wrapper>\r\n        </Portal>\r\n      )}\r\n      <MouseOver setOver={setOver}>\r\n        <ContentTypeRender path={path} items={item} />\r\n      </MouseOver>\r\n    </>\r\n  );\r\n};\r\nexport default ViewTextTitlePopup;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Wrapper } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst TextareaLog = ({ view, model, value = \"\" }) => {\r\n  const [log, setLog] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const parseLog = (log) => {\r\n      const parsedLog = (log || \"\")\r\n        .replace(/ /g, \"&nbsp;\")\r\n        // eslint-disable-next-line no-control-regex\r\n        .replace(/\\x1b\\[((?:\\d{1,3};?)+|)m/gim, (match, p1) => {\r\n          return `</span><span style='color:${colors[parseInt(p1, 10)]};'>`;\r\n        });\r\n      return `<span>${parsedLog.replace(/\\n/g, \"</span><br/><span>\")}</span>`;\r\n    };\r\n\r\n    let fullLog = parseLog(value);\r\n    setLog(fullLog);\r\n\r\n    const updateLog = ({ data }) => {\r\n      fullLog += parseLog(data);\r\n      setLog(fullLog);\r\n    };\r\n\r\n    app().connection.on(`serverLog${view.id}`, updateLog);\r\n    return () => {\r\n      app().connection.off(`serverLog${view.id}`, updateLog);\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const className = model.className && model.className.join(\" \");\r\n  return (\r\n    <code>\r\n      <Wrapper className={model.wrapperClass}>\r\n        <div className={className} dangerouslySetInnerHTML={{ __html: log }} />\r\n      </Wrapper>\r\n    </code>\r\n  );\r\n};\r\n\r\nexport default TextareaLog;\r\n\r\nconst colors = {\r\n  0: \"#000\",\r\n  1: \"white\", // ch\r\n  2: \"#0A0\",\r\n  3: \"#A50\",\r\n  4: \"#00A\",\r\n  5: \"#A0A\",\r\n  6: \"#0AA\",\r\n  7: \"#AAA\",\r\n  8: \"#555\",\r\n  9: \"#F55\",\r\n  10: \"#5F5\",\r\n  11: \"#FF5\",\r\n  12: \"#55F\",\r\n  13: \"#F5F\",\r\n  14: \"#5FF\",\r\n  15: \"#FFF\",\r\n  16: \"#000000\",\r\n  17: \"#00005f\",\r\n  18: \"#000087\",\r\n  19: \"#0000af\",\r\n  20: \"#0000d7\",\r\n  21: \"#0000ff\",\r\n  22: \"#A0A0A0\", // ch\r\n  23: \"#005f5f\",\r\n  24: \"#005f87\",\r\n  25: \"#005faf\",\r\n  26: \"#005fd7\",\r\n  27: \"#005fff\",\r\n  28: \"#008700\",\r\n  29: \"#00875f\",\r\n  30: \"#008787\",\r\n  31: \"red\", // ch\r\n  32: \"green\", // ch\r\n  33: \"yellow\", // ch\r\n  34: \"#00af00\",\r\n  35: \"#00af5f\",\r\n  36: \"#00af87\",\r\n  37: \"#00afaf\",\r\n  38: \"#00afd7\",\r\n  39: \"#00afff\",\r\n  40: \"#00d700\",\r\n  41: \"#00d75f\",\r\n  42: \"#00d787\",\r\n  43: \"#00d7af\",\r\n  44: \"#00d7d7\",\r\n  45: \"#00d7ff\",\r\n  46: \"#00ff00\",\r\n  47: \"#00ff5f\",\r\n  48: \"#00ff87\",\r\n  49: \"#00ffaf\",\r\n  50: \"#00ffd7\",\r\n  51: \"#00ffff\",\r\n  52: \"#5f0000\",\r\n  53: \"#5f005f\",\r\n  54: \"#5f0087\",\r\n  55: \"#5f00af\",\r\n  56: \"#5f00d7\",\r\n  57: \"#5f00ff\",\r\n  58: \"#5f5f00\",\r\n  59: \"#5f5f5f\",\r\n  60: \"#5f5f87\",\r\n  61: \"#5f5faf\",\r\n  62: \"#5f5fd7\",\r\n  63: \"#5f5fff\",\r\n  64: \"#5f8700\",\r\n  65: \"#5f875f\",\r\n  66: \"#5f8787\",\r\n  67: \"#5f87af\",\r\n  68: \"#5f87d7\",\r\n  69: \"#5f87ff\",\r\n  70: \"#5faf00\",\r\n  71: \"#5faf5f\",\r\n  72: \"#5faf87\",\r\n  73: \"#5fafaf\",\r\n  74: \"#5fafd7\",\r\n  75: \"#5fafff\",\r\n  76: \"#5fd700\",\r\n  77: \"#5fd75f\",\r\n  78: \"#5fd787\",\r\n  79: \"#5fd7af\",\r\n  80: \"#5fd7d7\",\r\n  81: \"#5fd7ff\",\r\n  82: \"#5fff00\",\r\n  83: \"#5fff5f\",\r\n  84: \"#5fff87\",\r\n  85: \"#5fffaf\",\r\n  86: \"#5fffd7\",\r\n  87: \"#5fffff\",\r\n  88: \"#870000\",\r\n  89: \"#87005f\",\r\n  90: \"#870087\",\r\n  91: \"#8700af\",\r\n  92: \"#8700d7\",\r\n  93: \"#8700ff\",\r\n  94: \"#875f00\",\r\n  95: \"#875f5f\",\r\n  96: \"#875f87\",\r\n  97: \"#875faf\",\r\n  98: \"#875fd7\",\r\n  99: \"#875fff\",\r\n  100: \"#878700\",\r\n  101: \"#87875f\",\r\n  102: \"#878787\",\r\n  103: \"#8787af\",\r\n  104: \"#8787d7\",\r\n  105: \"#8787ff\",\r\n  106: \"#87af00\",\r\n  107: \"#87af5f\",\r\n  108: \"#87af87\",\r\n  109: \"#87afaf\",\r\n  110: \"#87afd7\",\r\n  111: \"#87afff\",\r\n  112: \"#87d700\",\r\n  113: \"#87d75f\",\r\n  114: \"#87d787\",\r\n  115: \"#87d7af\",\r\n  116: \"#87d7d7\",\r\n  117: \"#87d7ff\",\r\n  118: \"#87ff00\",\r\n  119: \"#87ff5f\",\r\n  120: \"#87ff87\",\r\n  121: \"#87ffaf\",\r\n  122: \"#87ffd7\",\r\n  123: \"#87ffff\",\r\n  124: \"#af0000\",\r\n  125: \"#af005f\",\r\n  126: \"#af0087\",\r\n  127: \"#af00af\",\r\n  128: \"#af00d7\",\r\n  129: \"#af00ff\",\r\n  130: \"#af5f00\",\r\n  131: \"#af5f5f\",\r\n  132: \"#af5f87\",\r\n  133: \"#af5faf\",\r\n  134: \"#af5fd7\",\r\n  135: \"#af5fff\",\r\n  136: \"#af8700\",\r\n  137: \"#af875f\",\r\n  138: \"#af8787\",\r\n  139: \"#af87af\",\r\n  140: \"#af87d7\",\r\n  141: \"#af87ff\",\r\n  142: \"#afaf00\",\r\n  143: \"#afaf5f\",\r\n  144: \"#afaf87\",\r\n  145: \"#afafaf\",\r\n  146: \"#afafd7\",\r\n  147: \"#afafff\",\r\n  148: \"#afd700\",\r\n  149: \"#afd75f\",\r\n  150: \"#afd787\",\r\n  151: \"#afd7af\",\r\n  152: \"#afd7d7\",\r\n  153: \"#afd7ff\",\r\n  154: \"#afff00\",\r\n  155: \"#afff5f\",\r\n  156: \"#afff87\",\r\n  157: \"#afffaf\",\r\n  158: \"#afffd7\",\r\n  159: \"#afffff\",\r\n  160: \"#d70000\",\r\n  161: \"#d7005f\",\r\n  162: \"#d70087\",\r\n  163: \"#d700af\",\r\n  164: \"#d700d7\",\r\n  165: \"#d700ff\",\r\n  166: \"#d75f00\",\r\n  167: \"#d75f5f\",\r\n  168: \"#d75f87\",\r\n  169: \"#d75faf\",\r\n  170: \"#d75fd7\",\r\n  171: \"#d75fff\",\r\n  172: \"#d78700\",\r\n  173: \"#d7875f\",\r\n  174: \"#d78787\",\r\n  175: \"#d787af\",\r\n  176: \"#d787d7\",\r\n  177: \"#d787ff\",\r\n  178: \"#d7af00\",\r\n  179: \"#d7af5f\",\r\n  180: \"#d7af87\",\r\n  181: \"#d7afaf\",\r\n  182: \"#d7afd7\",\r\n  183: \"#d7afff\",\r\n  184: \"#d7d700\",\r\n  185: \"#d7d75f\",\r\n  186: \"#d7d787\",\r\n  187: \"#d7d7af\",\r\n  188: \"#d7d7d7\",\r\n  189: \"#d7d7ff\",\r\n  190: \"#d7ff00\",\r\n  191: \"#d7ff5f\",\r\n  192: \"#d7ff87\",\r\n  193: \"#d7ffaf\",\r\n  194: \"#d7ffd7\",\r\n  195: \"#d7ffff\",\r\n  196: \"#ff0000\",\r\n  197: \"#ff005f\",\r\n  198: \"#ff0087\",\r\n  199: \"#ff00af\",\r\n  200: \"#ff00d7\",\r\n  201: \"#ff00ff\",\r\n  202: \"#ff5f00\",\r\n  203: \"#ff5f5f\",\r\n  204: \"#ff5f87\",\r\n  205: \"#ff5faf\",\r\n  206: \"#ff5fd7\",\r\n  207: \"#ff5fff\",\r\n  208: \"#ff8700\",\r\n  209: \"#ff875f\",\r\n  210: \"#ff8787\",\r\n  211: \"#ff87af\",\r\n  212: \"#ff87d7\",\r\n  213: \"#ff87ff\",\r\n  214: \"#ffaf00\",\r\n  215: \"#ffaf5f\",\r\n  216: \"#ffaf87\",\r\n  217: \"#ffafaf\",\r\n  218: \"#ffafd7\",\r\n  219: \"#ffafff\",\r\n  220: \"#ffd700\",\r\n  221: \"#ffd75f\",\r\n  222: \"#ffd787\",\r\n  223: \"#ffd7af\",\r\n  224: \"#ffd7d7\",\r\n  225: \"#ffd7ff\",\r\n  226: \"#ffff00\",\r\n  227: \"#ffff5f\",\r\n  228: \"#ffff87\",\r\n  229: \"#ffffaf\",\r\n  230: \"#ffffd7\",\r\n  231: \"#ffffff\",\r\n  232: \"#080808\",\r\n  233: \"#121212\",\r\n  234: \"#1c1c1c\",\r\n  235: \"#262626\",\r\n  236: \"#303030\",\r\n  237: \"#3a3a3a\",\r\n  238: \"#444444\",\r\n  239: \"#4e4e4e\",\r\n  240: \"#585858\",\r\n  241: \"#626262\",\r\n  242: \"#6c6c6c\",\r\n  243: \"#767676\",\r\n  244: \"#808080\",\r\n  245: \"#8a8a8a\",\r\n  246: \"#949494\",\r\n  247: \"#9e9e9e\",\r\n  248: \"#a8a8a8\",\r\n  249: \"#b2b2b2\",\r\n  250: \"#bcbcbc\",\r\n  251: \"#c6c6c6\",\r\n  252: \"#d0d0d0\",\r\n  253: \"#dadada\",\r\n  254: \"#e4e4e4\",\r\n  255: \"#eeeeee\",\r\n};\r\n","import * as components from \"nystem-components\";\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\n\r\nconst React = require(\"react\");\r\nconst ReactDOM = require(\"react-dom\");\r\n\r\nexport default function (app) {\r\n  app.on(\"loaded\", () => {\r\n    const insertComponent = app.settings.insertComponent\r\n      ? app.settings.insertComponent\r\n      : {\r\n          component: \"\",\r\n        };\r\n\r\n    let base = insertComponent.domSelect\r\n      ? document.querySelectorAll(insertComponent.domSelect)[0]\r\n      : document.body;\r\n    if (insertComponent.insertType && insertComponent.insertType !== \"html\") {\r\n      const into = document.createElement(\"span\");\r\n      if (insertComponent.insertType === \"append\") base.appendChild(into);\r\n      if (insertComponent.insertType === \"prepend\")\r\n        base.insertBefore(into, base.firstChild);\r\n      base = into;\r\n    }\r\n\r\n    if (base === document.body && !app.settings.noBaseDiv) {\r\n      base = document.createElement(\"div\");\r\n      base.className = \"react-root\";\r\n      base.id = \"react-root\";\r\n      document.body.appendChild(base);\r\n    }\r\n\r\n    if (insertComponent.component)\r\n      insertComponent.component = app.capFirst(insertComponent.component);\r\n\r\n    app.reactBaseComponent = {\r\n      component: `${insertComponent.component}Index`,\r\n      base: base,\r\n    };\r\n\r\n    const render = () => {\r\n      ReactDOM.render(\r\n        <Router>\r\n          {React.createElement(components.Viewport, {\r\n            comp: components[`${insertComponent.component}Index`],\r\n          })}\r\n        </Router>,\r\n        base\r\n      );\r\n    };\r\n    setTimeout(render);\r\n  });\r\n  app.on(\"unmount\", () => {\r\n    const component = app.reactBaseComponent;\r\n    ReactDOM.unmountComponentAtNode(component.base);\r\n  });\r\n}\r\n","const viewCreatorFields = require(\"../../../viewCreatorFields.json\");\r\n\r\nconst arr2Obj = (arr, byField) =>\r\n  arr.reduce((prev, curr) => {\r\n    prev[curr[byField]] = curr;\r\n    return prev;\r\n  }, {});\r\n\r\nconst objectMap = (object, mapFn) =>\r\n  Object.keys(object).reduce((result, key) => {\r\n    result[key] = mapFn(object[key]);\r\n    return result;\r\n  }, {});\r\n\r\nconst deepCopy = (obj) => obj && JSON.parse(JSON.stringify(obj));\r\n\r\nconst getId = ({ path, id }) => {\r\n  if (path && id) return `${path}.${id}`;\r\n  if (id) return id;\r\n  return \"\";\r\n};\r\n\r\nconst capFirst = (str) => str.substr(0, 1).toUpperCase() + str.substr(1);\r\n\r\nconst replaceInModel = ({\r\n  model,\r\n  viewFormat,\r\n  fn,\r\n  path = \"\",\r\n  dynamicFields = [],\r\n}) => {\r\n  if (!model) return {};\r\n\r\n  model = deepCopy(model);\r\n  const { type, id } = model;\r\n  const fullId = getId({ path, id });\r\n  const format = model.format || viewFormat;\r\n\r\n  let componentName = `${type}${capFirst(format)}`;\r\n  if (viewCreatorFields[componentName] === undefined)\r\n    componentName = `${type}View`;\r\n\r\n  model = fn({ model, format, path, id, fullId });\r\n  if (!model) return null;\r\n\r\n  dynamicFields = [\r\n    ...dynamicFields,\r\n    ...(viewCreatorFields[componentName] || []),\r\n  ];\r\n\r\n  dynamicFields.forEach((key) => {\r\n    if (model[key])\r\n      model[key] = model[key]\r\n        .map((item) =>\r\n          replaceInModel({\r\n            model: item,\r\n            viewFormat,\r\n            fn,\r\n            path: fullId || path,\r\n          })\r\n        )\r\n        .filter((model) => !!model);\r\n  });\r\n\r\n  return model;\r\n};\r\n\r\nconst flattenFields = ({ item, viewCreatorFields, path = \"\" }) =>\r\n  (item || []).reduce((prev, field) => {\r\n    const { type, id } = field;\r\n    const fullPath = path ? `${path}.${id}` : id;\r\n\r\n    if (!type) return { [id]: field, ...prev };\r\n\r\n    const flatten = viewCreatorFields[`${type}Definition`];\r\n    if (!flatten) return { [fullPath]: field, ...prev };\r\n\r\n    const subFields = flatten.reduce(\r\n      (prev, key) =>\r\n        field[key]\r\n          ? flattenFields({\r\n              item: field[key],\r\n              viewCreatorFields,\r\n              path: fullPath,\r\n            })\r\n          : prev,\r\n      {}\r\n    );\r\n\r\n    return { [fullPath]: field, ...subFields, ...prev };\r\n  }, {});\r\n\r\nconst populateViews = ({ app }) => {\r\n  const { contentType } = app;\r\n\r\n  const populatedViews = objectMap(deepCopy(contentType), (contentType) => {\r\n    const { views, item } = contentType;\r\n    if (!views) return contentType;\r\n\r\n    const fields = flattenFields({ item, viewCreatorFields });\r\n\r\n    const populatedViews = views.map((view) =>\r\n      replaceInModel({\r\n        model: { ...view, type: \"contentType\", id: undefined },\r\n        fn: ({ model: view, fullId, format }) =>\r\n          fullId && fields[fullId]\r\n            ? { format, ...fields[fullId], ...view }\r\n            : { format, ...view },\r\n        viewFormat: view.format || \"view\",\r\n      })\r\n    );\r\n\r\n    contentType.views = arr2Obj(populatedViews, \"name\");\r\n    return contentType;\r\n  });\r\n\r\n  return populatedViews;\r\n};\r\n\r\nexport default (app) => {\r\n  app.on(\"init\", 1000, () => {\r\n    app.populatedViews = populateViews({ app });\r\n    app.replaceInModel = replaceInModel;\r\n  });\r\n};\r\n","const sortFuncInt = key => (a, b) => {\r\n  const x = a[key];\r\n  const y = b[key];\r\n  if (x === undefined) return y === undefined ? 0 : 1;\r\n  if (y === undefined) return -1;\r\n  return x < y ? -1 : x > y ? 1 : 0;\r\n};\r\n\r\nconst sortFuncText = key => (a, b) => {\r\n  let x = a[key];\r\n  let y = b[key];\r\n  if (x === undefined) return y === undefined ? 0 : 1;\r\n  if (y === undefined) return -1;\r\n  x = x.toString().toLowerCase();\r\n  y = y.toString().toLowerCase();\r\n  return x < y ? -1 : x > y ? 1 : 0;\r\n};\r\n\r\nconst sortByFunc = (array, sortBys) => {\r\n  const sortFuncs = sortBys.map(({ type, key }) =>\r\n    [\"int\", \"date\"].indexOf(type) ? sortFuncInt(key) : sortFuncText(key)\r\n  );\r\n  return array.sort((a, b) => {\r\n    let res;\r\n    for (let i = 0; i < sortFuncs.length; i++) {\r\n      res = sortFuncs[i](a, b);\r\n      if (res !== 0) return res;\r\n    }\r\n    return res;\r\n  });\r\n};\r\n\r\nfunction field2IdType(contentType) {\r\n  const field2IdType = {};\r\n  contentType.item = contentType.item || [];\r\n  for (let i = 0; i < contentType.item.length; i++) {\r\n    const item = contentType.item[i];\r\n    field2IdType[item.id] = item.extends ? item.extends : item.type;\r\n  }\r\n  field2IdType._crdate = \"date\";\r\n  return field2IdType;\r\n}\r\n\r\nfunction setSearchDefaults(query, contentType) {\r\n  const items = contentType.item || [];\r\n  query.sortby = !query.sortby\r\n    ? items.find(item => item.id === \"title\")\r\n      ? \"title\"\r\n      : \"name\"\r\n    : query.sortby;\r\n\r\n  query.sortby = query.sortby || \"_chdate\";\r\n  query.position = query.position || 0;\r\n  query.count = query.count || 200;\r\n}\r\n\r\nfunction getFilterArray(filter) {\r\n  if (filter && Object.keys(filter).length === 0) return [];\r\n  if (filter && filter.$and) {\r\n    filter = { ...filter };\r\n    const tmp = filter.$and;\r\n    delete filter.$and;\r\n    if (tmp instanceof Array) return tmp.concat(filter);\r\n    return [filter, tmp];\r\n  }\r\n\r\n  return [filter];\r\n}\r\n\r\nexport default app => {\r\n  app.database.on(\"init\", ({ collection, db }) => {\r\n    const { contentType } = collection;\r\n    const fieldByType = field2IdType(contentType);\r\n\r\n    collection.on(\r\n      \"init\",\r\n      () => {\r\n        const { dbArray } = db;\r\n        sortByFunc(dbArray, [{ type: \"int\", key: \"_chdate\" }]);\r\n      },\r\n      10\r\n    );\r\n\r\n    const addFields2All = (add2id, searchFor, oneSearchField, oneSearchValue) =>\r\n      contentType.item.forEach(oneField => {\r\n        if (oneField.id && oneField.type !== \"date\") {\r\n          oneSearchField.push(add2id + oneField.id);\r\n          oneSearchValue.push(searchFor);\r\n        } else if (oneField.add2id)\r\n          addFields2All(\r\n            `${add2id + oneField.add2id}_`,\r\n            searchFor,\r\n            oneSearchField,\r\n            oneSearchValue\r\n          );\r\n      });\r\n\r\n    function getFilter(query) {\r\n      const searchField = [];\r\n      const searchValue = [];\r\n\r\n      getFilterArray(query.filter).forEach(filter => {\r\n        const oneSearchField = [];\r\n        const oneSearchValue = [];\r\n        if (filter.$all && filter.$all !== \"\")\r\n          addFields2All(\r\n            \"\",\r\n            createRegExp(filter.$all),\r\n            oneSearchField,\r\n            oneSearchValue\r\n          );\r\n\r\n        Object.entries(filter).forEach(([field, value]) => {\r\n          if (field !== \"$all\" && field !== \"__id\") {\r\n            oneSearchField.push(field);\r\n            if (query.exact) oneSearchValue.push(createRegExp(`^${value}$`));\r\n            else if (value instanceof Array) {\r\n              oneSearchValue.push(createRegExp(value.join(\"|\")));\r\n            } else if (!value) oneSearchValue.push(\"false\");\r\n            else if (value === true) oneSearchValue.push(\"true\");\r\n            else if (\"<>\".indexOf(value[0]) !== -1) oneSearchValue.push(value);\r\n            else oneSearchValue.push(createRegExp(value, field));\r\n          }\r\n        });\r\n\r\n        if (oneSearchField.length > 0) {\r\n          searchField.push(oneSearchField);\r\n          searchValue.push(oneSearchValue);\r\n        }\r\n      });\r\n      if (searchField.length === 0) return {};\r\n      return { searchField, searchValue };\r\n    }\r\n\r\n    function createRegExp(expression, id) {\r\n      if (fieldByType[id] === \"boolean\") return expression;\r\n      return new RegExp(expression.replace(/\\*/g, \"\\\\*\"), \"i\");\r\n    }\r\n\r\n    function search(query) {\r\n      if (query.data) return;\r\n      const { dbArray } = db;\r\n      query.total = dbArray.length;\r\n      setSearchDefaults(query, contentType);\r\n      let result = [];\r\n\r\n      function filterResult(query) {\r\n        const { searchField, searchValue } = getFilter(query);\r\n        if (!searchField) return false;\r\n\r\n        for (let pos = 0; pos < dbArray.length; pos++) {\r\n          const thisItem = dbArray[pos];\r\n          let add = false;\r\n          for (let i = 0; i < searchField.length; i++) {\r\n            add = false;\r\n            for (let field = 0; field < searchField[i].length; field++) {\r\n              let val = thisItem[searchField[i][field]];\r\n              const matchVal = searchValue[i][field];\r\n              if (val && val.toString() === \"[object Object]\") {\r\n                val = JSON.stringify(val);\r\n              }\r\n              if (\r\n                (matchVal === \"false\" && !val) ||\r\n                (matchVal === \"true\" && val) ||\r\n                (matchVal[0] === \"<\" &&\r\n                  parseFloat(val) < parseFloat(matchVal.substring(1))) ||\r\n                (matchVal[0] === \">\" &&\r\n                  parseFloat(val) > parseFloat(matchVal.substring(1))) ||\r\n                (val && matchVal.test && matchVal.test(val))\r\n              ) {\r\n                add = true;\r\n                break;\r\n              }\r\n            }\r\n            if (!add) break;\r\n          }\r\n          if (add) result.push(thisItem);\r\n        }\r\n        return true;\r\n      }\r\n\r\n      let sortBy =\r\n        query.sortby && query.sortby !== \"_chdate\" ? query.sortby : false;\r\n\r\n      if (!query.filter || !filterResult(query)) {\r\n        if (sortBy || (query.reverse && result.length <= query.count)) {\r\n          result = new Array(dbArray.length);\r\n          let i = dbArray.length;\r\n          while (i--) result[i] = dbArray[i];\r\n        } else result = dbArray;\r\n      }\r\n\r\n      query.searchTotal = result.length;\r\n\r\n      if (sortBy) {\r\n        sortBy = sortBy instanceof Array ? sortBy : [sortBy];\r\n        sortByFunc(\r\n          result,\r\n          sortBy.map(key => ({ type: fieldByType[key], key }))\r\n        );\r\n      }\r\n\r\n      if (result.length > query.count) {\r\n        if (query.reverse) {\r\n          result = result.slice(\r\n            result.length - query.position - query.count,\r\n            result.length - query.position\r\n          );\r\n          result.reverse();\r\n        } else\r\n          result = result.slice(query.position, query.position + query.count);\r\n      } else if (query.reverse) result.reverse();\r\n\r\n      query.data = result.length ? result : false;\r\n    }\r\n    collection.on(\"search\", 1000, search);\r\n  });\r\n};\r\n","import deleteM from \"./delete\";\r\nimport findM from \"./find\";\r\nimport getM from \"./get\";\r\nimport initM from \"./init\";\r\nimport saveM from \"./save\";\r\nimport searchM from \"./search\";\r\n\r\nexport default (app) => {\r\n  deleteM(app);\r\n  findM(app);\r\n  getM(app);\r\n  initM(app);\r\n  saveM(app);\r\n  searchM(app);\r\n\r\n  app.database.on(\r\n    \"init\",\r\n    ({ contentType }) => {\r\n      const db = { dbArray: [], dbIndex: {} };\r\n\r\n      const collection = app.addeventhandler(\r\n        { contentType },\r\n        [\r\n          \"delete\",\r\n          \"find\",\r\n          \"get\",\r\n          \"init\",\r\n          \"save\",\r\n          \"search\",\r\n          \"size\",\r\n          \"update\",\r\n          \"updates\",\r\n        ],\r\n        `database ${contentType.machinename}`\r\n      );\r\n\r\n      collection.on(\"init\", (query) => {\r\n        const { dbArray, dbIndex } = db;\r\n        dbArray.forEach((item) => {\r\n          dbIndex[item._id] = item;\r\n        });\r\n      });\r\n\r\n      collection.on(\"size\", () => db.dbArray.length);\r\n      return { collection, db, contentType };\r\n    },\r\n    1000\r\n  );\r\n};\r\n","export default app => {\r\n  app.database.on(\"init\", ({ collection, db }) => {\r\n    collection.on(\r\n      \"delete\",\r\n      query => {\r\n        const id = query.id || query.data._id;\r\n        const data = query.data || { _id: id };\r\n        return Object.assign(query, { id, oldData: db.dbIndex[id], data });\r\n      },\r\n      1000\r\n    );\r\n    collection.on(\r\n      \"delete\",\r\n      query => {\r\n        if (!query.data) return;\r\n        const { dbArray, dbIndex } = db;\r\n        delete dbIndex[query.id];\r\n        const pos = dbArray.indexOf(query.oldData);\r\n        dbArray.splice(pos, 1);\r\n      },\r\n      -200\r\n    );\r\n  });\r\n};\r\n","export default app => {\r\n  app.database.on(\"init\", ({ collection, db }) => {\r\n    collection.on(\"find\", 1000, query => {\r\n      const { field, value, data, testIfSet } = query;\r\n      if (data) return;\r\n      const { dbArray } = db;\r\n\r\n      if (!testIfSet) {\r\n        for (let i = 0; i < dbArray.length; i++)\r\n          if (dbArray[i][field] === value)\r\n            return { ...query, data: dbArray[i] };\r\n        return query;\r\n      }\r\n\r\n      for (let i = 0; i < dbArray.length; i++)\r\n        if (!dbArray[i][field] === !value)\r\n          return { ...query, data: dbArray[i] };\r\n    });\r\n  });\r\n};\r\n","export default app => {\r\n  app.database.on(\"init\", ({ collection, db }) => {\r\n    collection.on(\r\n      \"get\",\r\n      1000,\r\n      query =>\r\n        query.data\r\n          ? query\r\n          : { ...query, data: db.dbIndex[query.id] }\r\n    );\r\n  });\r\n};\r\n","export default app => {\r\n  app.database.on(\"init\", ({ collection, db }) => {\r\n    collection.on(\"init\", 1000, query => Object.assign(db, query));\r\n    collection.on(\"init\", -1000, () => {\r\n      /* collection.on(\r\n        \"init\",\r\n        () => {\r\n          throw new Error(\"Initited already\");\r\n        },\r\n        1001\r\n      ); */\r\n      return collection;\r\n    });\r\n  });\r\n};\r\n","export default (app) => {\r\n  app.database.on(\"init\", ({ collection, db }) => {\r\n    collection.on(\"save\", 2000, (query) => {\r\n      const id = query.id || (query.data && query.data._id);\r\n      if (!id) return;\r\n\r\n      const oldData = db.dbIndex[id];\r\n      if (!oldData) return;\r\n\r\n      if (query.fields) query.data = { ...oldData, ...query.data };\r\n      return { ...query, oldData };\r\n    });\r\n\r\n    collection.on(\"save\", 1000, (query) => {\r\n      if (!query.data) return;\r\n\r\n      // eslint-disable-next-line no-multi-assign\r\n      query.data._id = query.id = query.id || query.data._id || app.uuid();\r\n    });\r\n\r\n    collection.on(\"save\", -100, (query) => {\r\n      if (!query.data) return;\r\n\r\n      const { dbArray, dbIndex } = db;\r\n\r\n      if (query.oldData) {\r\n        dbArray.splice(dbArray.indexOf(query.oldData), 1);\r\n        delete dbIndex[query.oldData._id];\r\n      }\r\n\r\n      dbIndex[query.id] = query.data;\r\n      dbArray.push(query.data);\r\n    });\r\n  });\r\n};\r\n","import connectionM from \"./connection\";\r\nimport updatesM from \"./updates\";\r\nimport debugM from \"./debug\";\r\nimport memdbM from \"./memdb\";\r\nimport cacheM from \"./cache\";\r\nimport storageM from \"./storage\";\r\nimport saveQueueM from \"./saveQueue\";\r\n\r\nexport default function (app) {\r\n  const database = app.addeventhandler(\r\n    {},\r\n    [\"init\", \"add\", \"clearCache\"],\r\n    \"databaseglobal\"\r\n  );\r\n  app.database = database;\r\n\r\n  connectionM(app);\r\n  updatesM(app);\r\n  debugM(app);\r\n  memdbM(app);\r\n  cacheM(app);\r\n  storageM(app);\r\n  saveQueueM(app);\r\n\r\n  database.on(\"clearCache\", () =>\r\n    Promise.all(\r\n      Object.keys(app.contentType)\r\n        .filter((item) => database[item])\r\n        .map((item) => database[item].event(\"clearCache\"))\r\n    )\r\n  );\r\n\r\n  const initDatabases = (contentTypes) =>\r\n    contentTypes\r\n      .filter((contentType) => contentType.storage !== \"none\")\r\n      .map((contentType) =>\r\n        database\r\n          .init({ contentType })\r\n          .then(({ collection }) => collection.init())\r\n          .then(\r\n            // eslint-disable-next-line no-return-assign\r\n            (collection) => (database[contentType.machinename] = collection)\r\n          )\r\n      );\r\n\r\n  app.on(\"init\", -100, () => {\r\n    app.connection.on(\"databaseUpdate\", (data) =>\r\n      database[data.contentType].update(data)\r\n    );\r\n    return Promise.all(initDatabases(Object.values(app.contentType))).then(\r\n      () => {\r\n        app.on([\"login\", \"logout\"], () => {\r\n          database.clearCache().then(() => undefined);\r\n        });\r\n      }\r\n    );\r\n  });\r\n};\r\n","export default (app) => {\r\n  let connected = false;\r\n  app.on(\"init\", () => {\r\n    connected = app.connection.connected();\r\n    app.connection.on(\"connect\", () => {\r\n      connected = true;\r\n    });\r\n    app.connection.on(\"disconnect\", () => {\r\n      connected = false;\r\n    });\r\n  });\r\n\r\n  app.database.on(\"init\", ({ collection, db, contentType }) => {\r\n    const send = (action, query) =>\r\n      app.connection\r\n        .emit({\r\n          type: \"database\",\r\n          action,\r\n          contentType: contentType.machinename,\r\n          query,\r\n        })\r\n        .then((event) => event.query);\r\n\r\n    [\"find\", \"get\", \"size\"].forEach((event) => {\r\n      collection.on(event, 900, (query) =>\r\n        query.data\r\n          ? undefined\r\n          : !connected\r\n          ? { ...query, offline: true }\r\n          : send(event, query)\r\n      );\r\n    });\r\n\r\n    collection.on(\"delete\", 700, (query) =>\r\n      !connected ? { ...query, offline: true } : send(\"delete\", query)\r\n    );\r\n\r\n    collection.on(\"save\", 700, (query) =>\r\n      !connected ? { ...query, offline: true } : send(\"save\", query)\r\n    );\r\n\r\n    collection.on(\"search\", 1700, (query) =>\r\n      query.inCache\r\n        ? undefined\r\n        : !connected\r\n        ? { ...query, offline: true }\r\n        : send(\"search\", query)\r\n    );\r\n\r\n    collection.on(\"updates\", (query) => send(\"updates\", query));\r\n    collection.on(\"update\", 200, (query) => ({\r\n      ...query,\r\n      offline: !connected,\r\n    }));\r\n\r\n    app.connection.on(\"database\", (event) => {\r\n      if (\r\n        event.contentType !== contentType.machinename ||\r\n        ![\"update\"].includes(event.action)\r\n      )\r\n        return;\r\n      collection[event.action](event.query);\r\n    });\r\n\r\n    app.connection.on(\"connect\", () => {\r\n      collection.updates();\r\n    });\r\n  });\r\n};\r\n","export default (app) => {\r\n  app.database.on(\"init\", ({ collection, db, contentType }) => {\r\n    let ids = [];\r\n    const updateSearch = {};\r\n    const updateGet = {};\r\n    let timer03;\r\n    let timer20;\r\n\r\n    const timeoutTimes = (app.settings.database &&\r\n      app.settings.database.updateFrequency) || [300, 2000];\r\n\r\n    const updateEvent = () => {\r\n      clearTimeout(timer03);\r\n      clearTimeout(timer20);\r\n      timer20 = false;\r\n      collection.event(\"update\", { ids }).then(() => {\r\n        ids = [];\r\n      });\r\n    };\r\n\r\n    collection.on(\"get\", 1000, (query) => {\r\n      if (!query.onData || query.callbackId) return;\r\n      query.callbackId = app.uuid();\r\n      updateGet[query.id] = updateGet[query.id] || {};\r\n      updateGet[query.id][query.callbackId] = query.onData;\r\n      delete query.onData;\r\n    });\r\n    collection.on(\"get\", -1000, (query) => {\r\n      if (query.callbackId) updateGet[query.id][query.callbackId](query);\r\n    });\r\n\r\n    collection.on(\"search\", 1000, (query) => {\r\n      if (!query.onData || query.callbackId) return;\r\n      query.callbackId = app.uuid();\r\n      updateSearch[query.callbackId] = { ...query, data: false };\r\n      delete query.onData;\r\n    });\r\n    collection.on(\"search\", -1000, (query) => {\r\n      if (query.callbackId) updateSearch[query.callbackId].onData(query);\r\n    });\r\n\r\n    collection.on(\"offUpdate\", (query) => {\r\n      if (updateSearch[query.callbackId]) delete updateSearch[query.callbackId];\r\n      else delete updateGet[query.id][query.callbackId];\r\n    });\r\n\r\n    collection.on([\"save\", \"delete\"], -1000, (query) => {\r\n      if (timer03) clearTimeout(timer03);\r\n      timer03 = setTimeout(updateEvent, timeoutTimes[0]);\r\n      if (!timer20) timer20 = setTimeout(updateEvent, timeoutTimes[1]);\r\n      if (!ids.includes(query.id)) ids.push(query.id);\r\n    });\r\n\r\n    const delItem = (id) => {\r\n      const { dbArray, dbIndex } = db;\r\n      const item = dbIndex[id];\r\n      if (!item) return;\r\n\r\n      delete dbIndex[id];\r\n      const pos = dbArray.indexOf(item);\r\n      dbArray.splice(pos, 1);\r\n    };\r\n    collection.on(\"update\", ({ ids, offline }) => {\r\n      if (!offline)\r\n        if (ids) ids.forEach(delItem);\r\n        else {\r\n          db.dbArray = [];\r\n          db.dbIndex = {};\r\n        }\r\n\r\n      Object.values(updateSearch).forEach((query) =>\r\n        collection.search({ ...query, data: false, onData: false })\r\n      );\r\n\r\n      const updateGetIds = ids\r\n        ? ids.filter((id) => updateGet[id])\r\n        : Object.keys(updateGet);\r\n\r\n      updateGetIds.forEach((id) => {\r\n        Object.values(updateGet[id]).forEach((callbackId) =>\r\n          collection\r\n            .get({ id })\r\n            .then((query) => updateGet[id][callbackId](query))\r\n        );\r\n      });\r\n      collection.event(\"saveStorage\");\r\n    });\r\n\r\n    const sortFuncInt = (key) => (a, b) => {\r\n      const x = a[key];\r\n      const y = b[key];\r\n      if (x === undefined) return y === undefined ? 0 : 1;\r\n      if (y === undefined) return -1;\r\n      return x < y ? -1 : x > y ? 1 : 0;\r\n    };\r\n    collection.on(\"updates\", 1000, () => {\r\n      const { dbArray } = db;\r\n      const i = dbArray.length - 1;\r\n      dbArray.sort(sortFuncInt(\"_chdate\"));\r\n      dbArray.reverse();\r\n      if (i === -1 || !dbArray[i]._chdate) return;\r\n\r\n      return { date: dbArray[i]._chdate };\r\n    });\r\n    collection.on(\"updates\", -1000, collection.update);\r\n  });\r\n};\r\n","/*\r\nfunction getStackTrace(row) {\r\n  const obj = {};\r\n  Error.captureStackTrace(obj, getStackTrace);\r\n  if (row) return obj.stack.split(\"\\n\")[row].replace(\"   at \", \"\");\r\n  return obj.stack;\r\n}\r\n*/\r\nexport default app => {\r\n  app.database.on(\"init\", ({ collection, db }) => {\r\n    /*\r\n    [\"delete\", \"find\", \"get\", \"save\", \"search\", \"size\"].forEach(event => {\r\n      collection.on(\r\n        event,\r\n        query => {\r\n          console.log(event, query, getStackTrace(6));\r\n        },\r\n        1002\r\n      );\r\n    });*/\r\n  });\r\n};\r\n","export default (app) => {\r\n  if (app.settings.noClientCache) return;\r\n\r\n  app.database.on(\"init\", ({ collection, db }) => {\r\n    const insertItem = (item) => {\r\n      const { dbIndex, dbArray } = db;\r\n      if (dbIndex[item._id]) return;\r\n      dbIndex[item._id] = item;\r\n\r\n      const chdate = item._chdate;\r\n\r\n      if (!item.chdate) dbArray.push(item);\r\n      else\r\n        for (let i = 0; i < dbArray.length; i++)\r\n          if (dbArray[i]._chdate < chdate) {\r\n            dbArray.splice(i, 0, item);\r\n            break;\r\n          }\r\n      collection.event(\"saveStorage\");\r\n    };\r\n\r\n    let searchCache = {};\r\n    let allInCache = false;\r\n\r\n    collection.on([\"update\", \"clearCache\"], 2000, () => {\r\n      searchCache = {};\r\n      allInCache = false;\r\n    });\r\n\r\n    collection.on(\"search\", 2000, (query) => {\r\n      const inCache =\r\n        allInCache ||\r\n        searchCache[JSON.stringify({ ...query, data: undefined })];\r\n\r\n      return { ...query, inCache };\r\n    });\r\n    collection.on(\"search\", -1000, (query) => {\r\n      if (!query.data || allInCache) return;\r\n\r\n      allInCache =\r\n        query.count > query.searchTotal && query.searchTotal === query.total;\r\n\r\n      query.data.forEach(insertItem);\r\n\r\n      const key = JSON.stringify({ ...query, data: undefined });\r\n      if (!searchCache[key]) searchCache[key] = true;\r\n    });\r\n\r\n    collection.on([\"get\", \"find\"], -1000, ({ data }) => {\r\n      if (!allInCache && data) insertItem(data);\r\n    });\r\n  });\r\n};\r\n","export default (app) => {\r\n  if (app.settings.noClientCache) return;\r\n\r\n  app.database.on(\"init\", ({ collection, db }) => {\r\n    const id = `dbStorage${collection.contentType.machinename}`;\r\n\r\n    collection.on([\"save\", \"delete\", \"saveStorage\"], -1000, () => {\r\n      app.storage.setItemDebounce({ id, value: db.dbArray, delay: 500 });\r\n    });\r\n\r\n    collection.on(\"init\", 1000, () =>\r\n      app.storage.getItem({ id }).then(({ value }) => {\r\n        db.dbArray = value || [];\r\n      })\r\n    );\r\n\r\n    collection.on(\"clearCache\", () => {\r\n      app.storage.setItemDebounce({ id, value: [], delay: 0 });\r\n      db.dbArray = [];\r\n      db.dbIndex = {};\r\n    });\r\n  });\r\n};\r\n","export default (app) => {\r\n  if (app.settings.noClientCache) return;\r\n\r\n  app.database.on(\"init\", ({ collection, db }) => {\r\n    const storageId = `dbSaveQueue${collection.contentType.machinename}`;\r\n\r\n    let saveQueue = {};\r\n    app.storage\r\n      .getItem({ id: storageId })\r\n      // eslint-disable-next-line no-return-assign\r\n      .then(({ value }) => (saveQueue = value || {}));\r\n\r\n    const add = ({ id, data, offline }) => {\r\n      if (!offline) return;\r\n      saveQueue[id] = data;\r\n      app.storage.setItemDebounce({\r\n        id: storageId,\r\n        value: saveQueue,\r\n        delay: 300,\r\n      });\r\n    };\r\n    collection.on(\"save\", -1000, (query) => add(query));\r\n    collection.on(\"delete\", -1000, (query) =>\r\n      add({ ...query, data: \"deleted\" })\r\n    );\r\n\r\n    collection.on(\"updates\", 500, (query) => {\r\n      const { dbArray } = db;\r\n      let { date } = query;\r\n      if (!date) return;\r\n\r\n      let i = dbArray.length - 1;\r\n\r\n      while (i !== -1 && !saveQueue[dbArray[i]._id]) {\r\n        date = dbArray[i]._chdate;\r\n        i--;\r\n      }\r\n      return { ...query, saveQueue, date };\r\n    });\r\n    collection.on(\"updates\", -500, (query) => {\r\n      saveQueue = {};\r\n      app.storage.setItem({ id: storageId, value: {} });\r\n    });\r\n  });\r\n};\r\n","export default function (app) {\r\n  const { userContentType = \"adminUser\" } = app.settings;\r\n  const sessionKey = `session${userContentType}`;\r\n\r\n  app.session = app.addeventhandler({}, [\"login\", \"logout\"], \"session\");\r\n  const { session } = app;\r\n  let autoLoginUser = false;\r\n\r\n  function loginEvent(user) {\r\n    if (JSON.stringify(user) === JSON.stringify(session.user)) return;\r\n\r\n    try {\r\n      app.storage.setItem({ id: sessionKey, value: user });\r\n      // eslint-disable-next-line no-empty\r\n    } catch (e) {}\r\n    session.user = user;\r\n    if (typeof session.user.role === \"string\")\r\n      session.user.role = [session.user.role];\r\n\r\n    app.event(\"login\", user);\r\n  }\r\n\r\n  session.on(\"login\", (value) =>\r\n    app.connection\r\n      .emit({\r\n        type: \"login\",\r\n        data: value,\r\n        sessionid: value.sessionid,\r\n        contentType: value.contentType,\r\n      })\r\n      .then((query) => {\r\n        const { user } = query;\r\n\r\n        if (user && !query.error) loginEvent(user);\r\n        else {\r\n          session.user = autoLoginUser;\r\n          try {\r\n            app.storage.removeItem({ id: sessionKey });\r\n            // eslint-disable-next-line no-empty\r\n          } catch (e) {}\r\n        }\r\n        return query;\r\n      })\r\n  );\r\n\r\n  app.connection.on(\"autologin\", (query) => {\r\n    const { user, error } = query;\r\n\r\n    if (!user || error) return;\r\n    autoLoginUser = user;\r\n    if (session.user) return;\r\n\r\n    session.user = user;\r\n    if (typeof session.user.role === \"string\")\r\n      session.user.role = [session.user.role];\r\n\r\n    app.event(\"login\", user);\r\n  });\r\n\r\n  window.addEventListener(\"storage\", ({ key }) => {\r\n    if (key !== sessionKey) return;\r\n    window.location.reload();\r\n  });\r\n\r\n  session.on(\"logout\", () => {\r\n    app.storage.removeItem({ id: sessionKey });\r\n\r\n    delete session.user;\r\n\r\n    app.connection.emit({\r\n      type: \"logout\",\r\n      contentType: userContentType,\r\n      noCallback: true,\r\n    });\r\n\r\n    app.event(\"logout\");\r\n  });\r\n\r\n  app.on(\"init\", () =>\r\n    app.storage.getItem({ id: sessionKey }).then(({ value: userStore }) => {\r\n      session.user = userStore || autoLoginUser;\r\n\r\n      if (userStore) {\r\n        if (app.connection.connected()) session.login(userStore);\r\n\r\n        app.connection.on(\"connect\", () => {\r\n          session.login(userStore);\r\n        });\r\n      }\r\n    })\r\n  );\r\n};\r\n","function getStackTrace(row) {\r\n  const obj = {};\r\n  if (!Error.captureStackTrace) return;\r\n  Error.captureStackTrace(obj, getStackTrace);\r\n  if (row === 3) console.log(obj.stack.split(\"\\n\"));\r\n  const [, source, line, column] =\r\n    /https?:\\/\\/[^/]+\\/([^:]+):([^:]+):([0-9]+)/im.exec(\r\n      obj.stack.split(\"\\n\")[row]\r\n    ) || [];\r\n\r\n  return !source\r\n    ? obj.stack.split(\"\\n\")[row]\r\n    : translate(`${source} ${line}:${column}`);\r\n}\r\n\r\nlet translate = (str) => str;\r\n\r\nif (\r\n  typeof window !== \"undefined\" &&\r\n  window.location.host.includes(\"localhost\")\r\n) {\r\n  const addScript = (src) =>\r\n    new Promise((resolve) => {\r\n      if (\r\n        [...document.head.children].some(\r\n          (child) => child.getAttribute(\"src\") === src\r\n        )\r\n      ) {\r\n        resolve();\r\n        return;\r\n      }\r\n\r\n      const scriptEl = document.createElement(\"script\");\r\n\r\n      scriptEl.setAttribute(\"src\", src);\r\n      scriptEl.onload = resolve;\r\n      document.head.appendChild(scriptEl);\r\n    });\r\n\r\n  addScript(\"/source-map.js\").then(async () => {\r\n    window.sourceMap.SourceMapConsumer.initialize({\r\n      \"lib/mappings.wasm\": \"/mappings.wasm\",\r\n    });\r\n    try {\r\n      const consumer = await new window.sourceMap.SourceMapConsumer(\r\n        await fetch(\"/static/js/main.chunk.js.map\").then((res) => res.json())\r\n      );\r\n      translate = (str) => {\r\n        if (!str || !str.includes(\":\")) return str;\r\n\r\n        let [source, line, column] = str.split(/[ :]/);\r\n\r\n        ({ source, line, column } = consumer.originalPositionFor({\r\n          line: parseInt(line, 10),\r\n          column: parseInt(column, 10),\r\n        }));\r\n        return `${source} ${line}:${column}`;\r\n      };\r\n      // eslint-disable-next-line no-empty\r\n    } catch (e) {}\r\n  });\r\n}\r\n\r\nif (typeof window !== \"undefined\") window.addEventHandlers = {};\r\n\r\nexport default function addEventHandler(context, mapevents, name) {\r\n  const callbacks = {};\r\n  const callbacksprio = {};\r\n  const callbacksStack = {};\r\n  if (typeof mapevents === \"string\") {\r\n    name = mapevents;\r\n    mapevents = undefined;\r\n  }\r\n\r\n  callbacksStack.addEventHandlerInitiator = [\r\n    `${name} ${Math.random()}`,\r\n    getStackTrace(2),\r\n  ];\r\n\r\n  setTimeout(() => {\r\n    if (typeof window !== \"undefined\") {\r\n      Object.entries(callbacksStack).forEach(([key, value]) => {\r\n        callbacksStack[key] = value.map((item) => translate(item));\r\n      });\r\n\r\n      window.addEventHandlers[\r\n        callbacksStack.addEventHandlerInitiator[0]\r\n      ] = callbacksStack;\r\n    }\r\n  }, 1000);\r\n\r\n  context = context || {};\r\n\r\n  context.on = (event, callback, prio) => {\r\n    event = event instanceof Array ? event : [event];\r\n    event.forEach((event) => addEvent(event, callback, prio));\r\n  };\r\n\r\n  function addEvent(event, callback, prio) {\r\n    if (typeof callback === \"number\") {\r\n      const tmp = callback;\r\n      callback = prio;\r\n      prio = tmp;\r\n    }\r\n\r\n    if (!callback) return console.error(\"No callback\", getStackTrace(5));\r\n    if (typeof callback !== \"function\")\r\n      return console.error(\"Not a function\", getStackTrace(5), callback);\r\n\r\n    prio = prio || 0;\r\n\r\n    if (!callbacks[event]) {\r\n      callbacks[event] = [];\r\n      callbacksprio[event] = [];\r\n      callbacksStack[event] = [];\r\n    }\r\n\r\n    let pos = callbacks[event].length;\r\n    while (pos && callbacksprio[event][pos - 1] < prio) pos--;\r\n\r\n    callbacksprio[event].splice(pos, 0, prio);\r\n    callbacks[event].splice(pos, 0, callback);\r\n    callbacksStack[event].splice(pos, 0, getStackTrace(5));\r\n  }\r\n\r\n  context.off = (event, callback) => {\r\n    event = event instanceof Array ? event : [event];\r\n    event.forEach((event) => removeEvent(event, callback));\r\n  };\r\n\r\n  function removeEvent(event, callback) {\r\n    if (!callbacks[event]) {\r\n      console.log(\"Missing event\", event, callbacks);\r\n      return;\r\n    }\r\n    const pos = callbacks[event].indexOf(callback);\r\n    if (pos !== -1) {\r\n      callbacks[event].splice(pos, 1);\r\n      callbacksprio[event].splice(pos, 1);\r\n      callbacksStack[event].splice(pos, 1);\r\n    }\r\n  }\r\n\r\n  const getCallTrace = (event) => {\r\n    const callback = callbacks[event];\r\n    if (typeof window !== \"undefined\") {\r\n      console.log(\r\n        event,\r\n        \" getCallTrace\",\r\n        callback.length,\r\n        Object.keys(context)\r\n      );\r\n      callbacksStack[event].forEach((event) => {\r\n        console.log(event);\r\n      });\r\n    } else\r\n      console.log(\r\n        event,\r\n        \" getCallTrace\",\r\n        callback.length,\r\n        Object.keys(context),\r\n        callbacksStack[event]\r\n      );\r\n  };\r\n\r\n  const doEvent = function (event, data) {\r\n    if (event === \"getCallTrace\") return getCallTrace(data);\r\n    data = data || {};\r\n    const callback = callbacks[event];\r\n\r\n    if (!callback || !callback.length) return Promise.resolve(data);\r\n\r\n    return new Promise((resolve, reject) => {\r\n      const timer = setTimeout(() => {\r\n        console.log(\r\n          event,\r\n          \" Stopped at\",\r\n          pos,\r\n          callback.length,\r\n          Object.keys(context),\r\n          callbacksStack[event][pos - 1],\r\n          callbacksStack[event]\r\n        );\r\n      }, 5000);\r\n      let pos = 0;\r\n      let oldData = data;\r\n\r\n      function next(data) {\r\n        if (data instanceof Promise) {\r\n          data.then(next).catch(reject);\r\n          return;\r\n        }\r\n\r\n        if (data === \"{{{breakEvent}}}\") {\r\n          resolve(oldData);\r\n          return;\r\n        }\r\n\r\n        const skipNext = data === \"{{{skipNext}}}\";\r\n\r\n        data = skipNext || typeof data === \"undefined\" ? oldData : data;\r\n\r\n        if (skipNext) pos++;\r\n\r\n        if (pos >= callback.length) {\r\n          clearTimeout(timer);\r\n          resolve(data);\r\n          return;\r\n        }\r\n\r\n        oldData = data;\r\n        Promise.resolve(callback[pos++](data))\r\n          .then(next)\r\n          .catch(reject);\r\n      }\r\n      next(data);\r\n    });\r\n  };\r\n  context.event = doEvent;\r\n\r\n  if (mapevents)\r\n    mapevents.forEach((event) => {\r\n      context[event] = (data, defectiveCallback) => {\r\n        if (defectiveCallback) debugger;\r\n        return doEvent(event, data);\r\n      };\r\n    });\r\n\r\n  return context;\r\n};\r\n","export default (app) => {\r\n  const translations = {};\r\n  const lang = \"\";\r\n\r\n  app.utils = {\r\n    capFirst: function (text) {\r\n      if (!text) return \"\";\r\n      return text.substring(0, 1).toUpperCase() + text.substring(1);\r\n    },\r\n    contains: function (array1, array2) {\r\n      if (typeof array1 === \"string\") array1 = [array1];\r\n      if (typeof array2 === \"string\") array2 = [array2];\r\n\r\n      for (let i = 0; i < array1.length; i++)\r\n        if (array2.indexOf(array1[i]) !== -1) return true;\r\n\r\n      return false;\r\n    },\r\n    t: function (text) {\r\n      if (translations[lang] && translations[lang][text])\r\n        return translations[lang][text];\r\n      return text;\r\n    },\r\n    translate: function (text) {\r\n      return text.replace(/t\\('([^']+)'\\)/g, (str, p1, offset, s) => {\r\n        if (translations[lang] && translations[lang][p1])\r\n          return translations[lang][p1];\r\n        return p1;\r\n      });\r\n    },\r\n    insertValues: function (text, data) {\r\n      return text.replace(/{([a-z0-9_.]+)}/gi, (str, p1, offset, s) => {\r\n        return data[p1] ? data[p1] : `{${p1}}`;\r\n      });\r\n    },\r\n    clone: (obj) => {\r\n      try {\r\n        return JSON.parse(JSON.stringify(obj));\r\n      } catch (error) {\r\n        console.error(\"Clone error\", obj);\r\n        return {};\r\n      }\r\n    },\r\n    uuid: () => {\r\n      const S4 = () =>\r\n        // eslint-disable-next-line no-bitwise\r\n        (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\r\n\r\n      function guidGenerator() {\r\n        const buf = new Uint16Array(8);\r\n        window.crypto.getRandomValues(buf);\r\n        const S4 = function (num) {\r\n          let ret = num.toString(16);\r\n          while (ret.length < 4) {\r\n            ret = `0${ret}`;\r\n          }\r\n          return ret;\r\n        };\r\n        return (\r\n          S4(buf[0]) +\r\n          S4(buf[1]) +\r\n          S4(buf[2]) +\r\n          S4(buf[3]).substring(1) +\r\n          S4(buf[4]) +\r\n          S4(buf[5]) +\r\n          S4(buf[6]) +\r\n          S4(buf[7])\r\n        );\r\n      }\r\n      if (window.crypto && window.crypto.getRandomValues)\r\n        return guidGenerator();\r\n      return S4() + S4() + S4() + S4() + S4() + S4() + S4() + S4();\r\n    },\r\n  };\r\n\r\n  app.uuid = app.utils.uuid;\r\n};\r\n","import indexScripts from \"../../../indexScripts\";\r\nimport contentType from \"../../../contentype.json\";\r\nimport addeventhandler from \"./eventhandler\";\r\nimport utils from \"./utils\";\r\nimport buildsettings from \"../../../settings.json\";\r\n\r\nconst settings = (window && window.___settings___) || buildsettings;\r\nconst app = { settings, contentType, addeventhandler };\r\n\r\naddeventhandler(app, \"app\");\r\nutils(app);\r\napp.uuid = app.utils.uuid;\r\nindexScripts(app);\r\napp.capFirst = app.utils.capFirst;\r\n\r\napp.on(\"init\", () => {\r\n  app.inited = true;\r\n});\r\n\r\nexport default () => app;\r\napp.event(\"init\");\r\n","import components from './core/components/client/index.js';\nimport connection from './core/connection/client/index.js';\nimport contentType from './core/contentType/client/index.js';\nimport core from './core/core/client/index.js';\nimport database from './core/database/client/index.js';\nimport file from './core/file/client/index.js';\nimport router from './core/router/client/index.js';\nimport session from './core/session/client/index.js';\nexport default function(app) {\n  components(app);\n  connection(app);\n  contentType(app);\n  core(app);\n  database(app);\n  file(app);\n  router(app);\n  session(app);\n}\n","export default function (app) {\r\n  let URL = app.settings.domain;\r\n  if (app.settings.native)\r\n    URL = app.settings.secure ? `wss://${URL}` : `ws://${URL}`;\r\n  else {\r\n    if (!URL) {\r\n      URL = window.location.href.replace(\"http://\", \"\");\r\n      URL = URL.substring(0, URL.indexOf(\"/\"));\r\n    }\r\n    URL = `${\r\n      window.location.href.indexOf(\"https://\") !== -1 ? \"wss\" : \"ws\"\r\n    }://${URL}`;\r\n  }\r\n\r\n  app.webSocket = new WebSocket(URL);\r\n  let { webSocket } = app;\r\n  const callbacks = {};\r\n  let isOnline = false;\r\n  let reconnect = false;\r\n\r\n  let closed = false;\r\n  let failCount = 13;\r\n  const log = (text) => {\r\n    if (isOnline) failCount = 0;\r\n    if (failCount++ < 10) console.log(text);\r\n  };\r\n\r\n  function openconnection() {\r\n    log(`openconnection ${URL}`);\r\n    webSocket = webSocket || new WebSocket(URL);\r\n    function connected() {\r\n      isOnline = true;\r\n      connection.event(\"connect\", { type: \"connect\" });\r\n      console.log(\"Connected\");\r\n      if (reconnect) window.location.reload();\r\n      if (app.settings.debug) reconnect = true;\r\n    }\r\n    if (webSocket.readyState === 1) connected();\r\n    webSocket.onopen = connected;\r\n    webSocket.onclose = function () {\r\n      log(`close ${URL}`);\r\n      webSocket = false;\r\n      isOnline = false;\r\n      if (!closed) setTimeout(openconnection, 1000);\r\n      connection.event(\"disconnect\", { type: \"close\" });\r\n    };\r\n    webSocket.onerror = function (error) {\r\n      log(`error ${URL}`);\r\n    };\r\n    webSocket.onmessage = function (message) {\r\n      const data = JSON.parse(message.data);\r\n      if (callbacks[data.callbackid]) {\r\n        try {\r\n          callbacks[data.callbackid](data);\r\n        } catch (e) {\r\n          log(\"err\", callbacks[data.callbackid], e);\r\n        }\r\n        delete callbacks[data.callbackid];\r\n      }\r\n      connection.event(data.type, data);\r\n    };\r\n  }\r\n\r\n  app.on(\"unmount\", () => {\r\n    closed = true;\r\n    webSocket.close();\r\n  });\r\n\r\n  setInterval(() => {\r\n    if (isOnline) webSocket.send(\"li\");\r\n  }, 15000);\r\n\r\n  const connection = app.addeventhandler(\r\n    { connected: () => isOnline },\r\n    [\"emit\", \"broadcast\", \"close\"],\r\n    \"connection\"\r\n  );\r\n\r\n  connection.on(\r\n    \"emit\",\r\n    (data) =>\r\n      new Promise((resolve, reject) => {\r\n        let counter = 0;\r\n        function send() {\r\n          if (webSocket.readyState > 0) {\r\n            if (msg.length > 64000) {\r\n              for (; msg.length > 64000; ) {\r\n                webSocket.send(msg.substring(0, 64000));\r\n                msg = msg.substring(64000);\r\n              }\r\n            }\r\n            webSocket.send(msg);\r\n            clearTimeout(data.timeout);\r\n          } else {\r\n            if (counter === 1 && callbacks[data.callbackid])\r\n              callbacks[data.callbackid](\r\n                Object.assign({}, data, { offline: true })\r\n              );\r\n            counter++;\r\n            if (counter !== 300) setTimeout(send, 200);\r\n            else {\r\n              callbacks[data.callbackid](\r\n                Object.assign({}, data, { timeout: true })\r\n              );\r\n              delete callbacks[data.callbackid];\r\n            }\r\n          }\r\n        }\r\n        if (!data.noCallback) {\r\n          data.callbackid = app.uuid();\r\n          callbacks[data.callbackid] = resolve;\r\n        } else resolve();\r\n        let msg = JSON.stringify(data);\r\n        send();\r\n      })\r\n  );\r\n\r\n  connection.on(\"broadcast\", (data) => {\r\n    data.broadcast = true;\r\n    return connection.emit(data);\r\n  });\r\n\r\n  connection.on(\"close\", () => {\r\n    webSocket.close();\r\n  });\r\n\r\n  app.connection = connection;\r\n\r\n  if (app.settings.waitOnConnect)\r\n    app.on(\r\n      \"loaded\",\r\n      1000,\r\n      () =>\r\n        new Promise((resolve) => {\r\n          const cont = () => {\r\n            resolve();\r\n            connection.off(\"connect\", cont);\r\n          };\r\n          if (isOnline) resolve();\r\n          else connection.on(\"connect\", cont);\r\n        })\r\n    );\r\n  openconnection();\r\n};\r\n","export default function (app) {\r\n  if (!app.t) app.t = (text) => text;\r\n\r\n  app.on(\"init\", -1000, () => {\r\n    app.capFirst = app.utils.capFirst;\r\n    app.uuid = app.utils.uuid;\r\n    app.clone = app.utils.clone;\r\n    init();\r\n  });\r\n\r\n  function init() {\r\n    if (!document.body) {\r\n      window.onload = init;\r\n      return;\r\n    }\r\n\r\n    if (app.settings.debug) console.log(app);\r\n\r\n    app.parseFilter = function (filter, getValue, path) {\r\n      if (!filter) return {};\r\n      function insertVal(val) {\r\n        return val.replace(/\\{([a-z_.]+)\\}/gim, (str, p1, offset, s) => {\r\n          return getValue(p1.replace(\"..\", path));\r\n        });\r\n      }\r\n      const parsedfilter = { $and: [] };\r\n\r\n      for (const item in filter) {\r\n        const oneFilter = {};\r\n        const oneFilterIn = filter[item].and;\r\n        for (const i in oneFilterIn)\r\n          oneFilter[insertVal(oneFilterIn[i][0])] = insertVal(\r\n            oneFilterIn[i][1]\r\n          );\r\n        parsedfilter.$and.push(oneFilter);\r\n      }\r\n      return parsedfilter;\r\n    };\r\n\r\n    app.stateStore = (() => {\r\n      const states = {};\r\n      return {\r\n        set: function (obj, state, type) {\r\n          if (type === \"disabled\") return;\r\n\r\n          const url = window.location.pathname;\r\n          const id = app.domPathId(obj.current);\r\n          if (type === \"independent\") {\r\n            states[id] = state;\r\n            return;\r\n          }\r\n\r\n          if (!states[url]) states[url] = {};\r\n\r\n          states[url][id] = state;\r\n        },\r\n        get: function (obj, type) {\r\n          if (type === \"disabled\") return null;\r\n\r\n          const id = app.domPathId(obj.current);\r\n          if (type === \"independent\") return states[id];\r\n\r\n          const url = window.location.pathname;\r\n\r\n          if (!states[url] || states[url][id] === undefined) return null;\r\n          return states[url][id];\r\n        },\r\n      };\r\n    })();\r\n\r\n    app.domPathId = function (element) {\r\n      if (!element) return null;\r\n      const path = [];\r\n      for (let i = 0; i < 200 && element.parentElement; i++) {\r\n        for (let item = 0; item < element.parentElement.children.length; item++)\r\n          if (element.parentElement.children[item] === element)\r\n            path.unshift(`${item}.${element.tagName}`);\r\n        element = element.parentElement;\r\n      }\r\n      return path.join(\".\");\r\n    };\r\n\r\n    document.addEventListener(\r\n      \"keydown\",\r\n      (e) => {\r\n        if (\r\n          e.keyCode === 83 &&\r\n          (navigator.platform.match(\"Mac\") ? e.metaKey : e.ctrlKey)\r\n        ) {\r\n          e.preventDefault();\r\n          app.event(\"keypressSaveEvent\");\r\n        }\r\n      },\r\n      false\r\n    );\r\n\r\n    app.event(\"loaded\");\r\n  }\r\n};\r\n","export default function (app) {\r\n  app.storage = app.addeventhandler(\r\n    {},\r\n    [\r\n      \"getItem\",\r\n      \"setItem\",\r\n      \"removeItem\",\r\n      \"getItemMem\",\r\n      \"setItemMem\",\r\n      \"removeItemMem\",\r\n      \"getFile\",\r\n      \"setFile\",\r\n      \"removeFile\",\r\n      \"setItemDebounce\",\r\n    ],\r\n    \"storage\"\r\n  );\r\n\r\n  app.storage.on(\"getItem\", (data) => {\r\n    const val = window.localStorage.getItem(data.id);\r\n    return Object.assign(data, {\r\n      value: val && (val[0] === \"[\" || val[0] === \"{\") ? JSON.parse(val) : val,\r\n    });\r\n  });\r\n\r\n  app.storage.on(\"setItem\", ({ id, value }) => {\r\n    window.localStorage.setItem(\r\n      id,\r\n      typeof value === \"string\" ? value : JSON.stringify(value)\r\n    );\r\n  });\r\n\r\n  const timer = {};\r\n  app.storage.on(\"setItemDebounce\", ({ id, value, delay }) => {\r\n    clearTimeout(timer[id]);\r\n    timer[id] = setTimeout(() => {\r\n      delete timer[id];\r\n      app.storage.setItem({ id, value });\r\n    }, delay);\r\n  });\r\n\r\n  app.storage.on(\"removeItem\", ({ id }) => {\r\n    window.localStorage.removeItem(id);\r\n  });\r\n\r\n  const memstore = {};\r\n\r\n  app.storage.on(\"getItemMem\", (data) =>\r\n    Object.assign(data, { value: memstore[data.id] })\r\n  );\r\n\r\n  app.storage.on(\"setItemMem\", ({ id, value }) => {\r\n    memstore[id] = value;\r\n  });\r\n\r\n  app.storage.on(\"removeItemMem\", ({ id }) => {\r\n    delete memstore[id];\r\n  });\r\n\r\n  app.storage.on(\"getFile\", (data) => {});\r\n\r\n  app.storage.on(\"setFile\", ({ id, value }) => {});\r\n\r\n  app.storage.on(\"removeFile\", ({ id }) => {});\r\n};\r\n","export default function(app) {\r\n  /* const pathRegexp = function(path, keys, sensitive, strict) {\r\n    if (Object.prototype.toString.call(path) === \"[object RegExp]\") return path;\r\n    if (Array.isArray(path)) path = \"(\" + path.join(\"|\") + \")\";\r\n    path = path\r\n      .concat(strict ? \"\" : \"/?\")\r\n      .replace(/\\/\\(/g, \"(?:/\")\r\n      .replace(/(\\/)?(\\.)?:(\\w+)(?:(\\(.*?\\)))?(\\?)?(\\*)?/g, function(\r\n        _,\r\n        slash,\r\n        format,\r\n        key,\r\n        capture,\r\n        optional,\r\n        star\r\n      ) {\r\n        keys.push({ name: key, optional: !!optional });\r\n        slash = slash || \"\";\r\n        return (\r\n          \"\" +\r\n          (optional ? \"\" : slash) +\r\n          \"(?:\" +\r\n          (optional ? slash : \"\") +\r\n          (format || \"\") +\r\n          (capture || ((format && \"([^/.]+?)\") || \"([^/]+?)\")) +\r\n          \")\" +\r\n          (optional || \"\") +\r\n          (star ? \"(/*)?\" : \"\")\r\n        );\r\n      })\r\n      .replace(/([/.])/g, \"\\\\$1\")\r\n      .replace(/\\* /g, \"(.*)\"); Change * /\r\n    return new RegExp(\"^\" + path + \"$\", sensitive ? \"\" : \"i\");\r\n}; */\r\n\r\n  app.parseURL = function(url) {\r\n    url = url.replace(/^[^/]+:\\/\\/[^/]+/gi, \"\");\r\n    const out = {};\r\n    const hashtag = url.split(\"#\");\r\n    let query = hashtag[0].split(/\\/?\\?/);\r\n    out.path = query[0].split(\"/\");\r\n    out.domain = out.path.shift();\r\n    out.query = {};\r\n    out.hashtag = hashtag[1];\r\n    query = query[1] ? query[1].split(\"&\") : false;\r\n    for (const i in query) {\r\n      const param = query[i].split(\"=\");\r\n      out.query[param[0]] = param[1];\r\n    }\r\n    return out;\r\n  };\r\n\r\n  /* app.on(\"loaded\", () => {\r\n    if (app.settings.extension) {\r\n      const to = \"/\";\r\n      if (\r\n        window.localStorage[\"lastpos\"] &&\r\n        window.localStorage[\"lastpos\"] !== \"/index.html\"\r\n      )\r\n        to = window.localStorage[\"lastpos\"];\r\n      window.history.pushState({}, \"Site\", to);\r\n      app.router.setState();\r\n    }\r\n  }); */\r\n};\r\n","import sessionM from \"./session\";\r\n\r\nexport default app => {\r\n  sessionM(app);\r\n\r\n  const addContents = token => ({\r\n    method: \"POST\",\r\n    body: JSON.stringify({ token })\r\n  });\r\n\r\n  app.on(\"login\", -100, ({ token }) => {\r\n    if (!token) return;\r\n    fetch(\"/login\", addContents(token));\r\n  });\r\n\r\n  app.on(\"logout\", -100, ({ token }) => {\r\n    if (!token) return;\r\n    fetch(\"/logout\", addContents(token));\r\n  });\r\n};\r\n"],"sourceRoot":""}