{"version":3,"sources":["C:/Users/Nisse/Dropbox/nodejs/nystem-server/core/date/my-moment/index.js","core/bootstrap/component/bootstrap/dropdown.js","core/bootstrap/component/bootstrap/inputWrapper.js","core/bootstrap/component/bootstrap/panel.js","core/bootstrap/component/bootstrap/panelOpen.js","core/bootstrap/component/bootstrap/panelOpenByPath.js","core/bootstrap/component/bootstrap/panelToggle.js","core/bootstrap/component/bootstrap/tab.js","core/bootstrap/component/bootstrap/verticalTab.js","core/bootstrap/component/bootstrap/view.js","core/bootstrap/component/panel.js","core/bootstrap/component/panelContext.js","core/bootstrap/component/viewPanel/view.js","core/components/component/boolean/button.js","core/components/component/boolean/exposedField.js","core/components/component/boolean/fields.js","core/components/component/boolean/validate.js","core/components/component/boolean/input.js","core/components/component/boolean/name.js","core/components/component/boolean/vibrate.js","core/components/component/boolean/view.js","core/components/component/conditional/int.js","core/components/component/conditional/set.js","core/components/component/conditional/userRole.js","core/components/component/conditional/view.js","core/components/component/conditional/viewAndOr.js","core/components/component/dragAndDrop/myDnd.js","core/components/component/dragAndDrop/context.js","core/components/component/dragAndDrop/fixedVal.js","core/components/component/dragAndDrop/list.js","core/components/component/dragAndDrop/handle.js","core/components/component/dragAndDrop/sortable.js","core/components/component/dragAndDrop/view.js","core/components/component/email/exposedField.js","core/components/component/email/validate.js","core/components/component/email/input.js","core/components/component/email/inputNoValidation.js","core/components/component/email/link.js","core/components/component/email/mailto.js","core/components/component/email/sortBy.js","core/components/component/email/verifiedInput.js","core/components/component/email/view.js","core/components/component/flatgroup/input.js","core/components/component/float/exposedField.js","core/components/component/float/validate.js","core/components/component/float/input.js","core/components/component/float/link.js","core/components/component/float/sortBy.js","core/components/component/float/view.js","core/components/component/group/input.js","core/components/component/group/view.js","core/components/component/int/exposedField.js","core/components/component/int/validate.js","core/components/component/int/input.js","core/components/component/int/link.js","core/components/component/int/sortBy.js","core/components/component/int/view.js","core/components/component/matrix/input.js","core/components/component/matrix/inputlist.js","core/components/component/multigroup/input.js","core/components/component/multigroup/oneInput.js","core/components/component/multigroup/oneView.js","core/components/component/multigroup/sortBy.js","core/components/component/multigroup/view.js","core/components/component/multilinetext/exposedField.js","core/components/component/multilinetext/fields.js","core/components/component/multilinetext/validate.js","core/components/component/multilinetext/input.js","core/components/component/multilinetext/inputlist.js","core/components/component/multilinetext/itemLink.js","core/components/component/multilinetext/itemText.js","core/components/component/multilinetext/list.js","core/components/component/multilinetext/view.js","core/components/component/reference/exposedField.js","core/components/component/reference/exposedFieldViews.js","core/components/component/reference/first.js","core/components/component/reference/validate.js","core/components/component/reference/input.js","core/components/component/reference/select.js","module/nystemServer/component/reference/sortable.js","core/components/component/reference/sortBy.js","core/components/component/reference/view.js","core/components/component/select/button.js","core/components/component/select/exposedField.js","core/components/component/select/validate.js","core/components/component/select/input.js","core/components/component/select/sortBy.js","core/components/component/select/view.js","core/components/component/select.js","core/components/component/slider/input.js","core/components/component/slider/link.js","core/components/component/slider/view.js","core/components/component/text/exposedField.js","core/components/component/text/validate.js","core/components/component/text/input.js","core/components/component/text/link.js","core/components/component/text/sortBy.js","core/components/component/text/view.js","core/components/component/textarea/formatted.js","core/components/component/textarea/validate.js","core/components/component/textarea/input.js","core/components/component/textarea/link.js","core/components/component/textarea/sortBy.js","core/components/component/textarea/view.js","core/components/component/viewButton/autoSave.js","core/components/component/viewButton/back.js","core/components/component/viewButton/delete.js","core/components/component/viewButton/eventEmitter.js","core/components/component/viewButton/input.js","core/components/component/viewButton/reference.js","core/components/component/viewButton/setValue.js","core/components/component/viewButton/setValueOnLoad.js","core/components/component/viewButton/view.js","core/components/component/viewInView/empty.js","core/components/component/viewInView/setValue.js","core/components/component/viewInView/view.js","core/components/component/viewLink/button.js","core/components/component/viewLink/dynamicFields.js","core/components/component/viewLink/dynamicLink.js","core/components/component/viewLink/external.js","core/components/component/viewLink/fields.js","core/components/component/viewLink/link.js","core/components/component/viewLink/view.js","core/components/component/viewList/emptySearchresult.js","core/components/component/viewList/infinite.js","core/components/component/viewList/infiniteScrollPos.js","core/components/component/viewList/listStat.js","core/components/component/viewList/pager.js","core/components/component/viewList/render.js","core/components/component/viewList/search.js","core/components/component/viewList/view.js","core/components/component/viewText/break.js","core/components/component/viewText/token.js","core/components/component/viewText/tokenFallbackNew.js","core/components/component/viewText/view.js","core/connection/component/connection/cssclass.js","core/connection/component/connection/view.js","core/connection/component/offline.js","core/contentType/component/contentType/context.js","core/contentType/component/contentType/render.js","core/contentType/component/contentType/view.js","core/contentType/component/useValidator.js","module/nystemServer/component/button.js","core/core/component/errorManager.js","core/core/component/errorMsg.js","core/core/component/input.js","module/nystemServer/component/inputWrapper.js","core/core/component/label.js","core/core/component/loading.js","core/core/component/useEvent.js","core/core/component/useEventListner.js","core/core/component/viewSmallComponent/errorMsg.js","core/core/component/wrapper.js","core/database/component/database/addToCache.js","core/database/component/database/baseViewSearch.js","core/database/component/database/get.js","core/database/component/database/missing.js","core/database/component/database/oneSearch.js","core/database/component/database/search.js","core/database/component/database/searchContext.js","core/database/component/database/searchContextProvider.js","core/database/component/database/showMoreButton.js","core/database/component/database/view.js","core/database/component/useSearch.js","core/date/component/date/exposedField.js","core/date/component/date/exposedYearMonth.js","core/date/component/date/validate.js","core/date/component/date/input.js","core/date/component/date/inputDate.js","core/date/component/date/inputTime.js","core/date/component/date/sortBy.js","core/date/component/date/view.js","module/nystemServer/component/image.js","core/file/component/viewImage/view.js","core/pwa/component/serviceWorker/selectBox.js","core/pwa/component/serviceWorker/view.js","core/pwa/component/viewButton/debugAndClear.js","core/router/component/inserter.js","core/router/component/link.js","core/router/component/router/backHandler.js","core/router/component/router/history.js","core/router/component/router/pageNotFound.js","core/router/component/router/redirect.js","core/router/component/router/scrollpos.js","core/router/component/router/state.js","core/router/component/router/toTopOnNav.js","core/router/component/router/useQueryStore.js","core/router/component/router/view.js","core/router/component/router/viewByHistory.js","core/session/component/password/validate.js","core/session/component/password/confirmInput.js","core/session/component/password/input.js","core/session/component/password/oldpassword.js","core/session/component/password/view.js","core/session/component/role/view.js","core/session/component/role.js","core/session/component/session/logout.js","core/session/component/session/noRole.js","core/session/component/session/role.js","core/session/component/session/user.js","core/session/component/session/view.js","core/session/component/viewButton/login.js","core/style/component/icon/view.js","icons.js","iconsViewPorts.js","core/style/component/icon.js","core/style/component/style/eventOutside.js","core/style/component/style/onOverHandle.js","core/style/component/style/onOver.js","core/style/component/style/view.js","core/style/component/viewportContext.js","core/style/component/viewport.js","module/chromextension/component/extension/backgroundIndex.js","module/chromextension/component/extension/icon.js","module/chromextension/component/extension/search.js","module/chromextension/component/extension/tab.js","module/chromextension/component/extension/view.js","module/nystemServer/component/bootstrap/computedClass.js","module/nystemServer/component/database/filterResult.js","module/nystemServer/component/index.js","module/nystemServer/component/overlay/accessible.js","module/nystemServer/component/overlay/close.js","module/nystemServer/component/overlay/closeButton.js","module/nystemServer/component/overlay/context.js","module/nystemServer/component/overlay/index.js","module/nystemServer/component/overlay/menu.js","module/nystemServer/component/overlay/open.js","module/nystemServer/component/overlay/overlay.js","module/nystemServer/component/overlay/view.js","module/nystemServer/component/reference/dynamicForm.js","module/nystemServer/component/viewButton/mirrorSave.js","module/nystemServer/component/viewInView/setBaseViewValue.js","module/nystemServer/component/viewText/titlePopup.js","module/service/component/textarea/log.js","core/components/client/index.js","core/connection/client/index.js","core/connection/client/httpsfallback.js","core/contentType/client/index.js","core/database/client/memdb/search.js","core/database/client/memdb/index.js","core/database/client/memdb/delete.js","core/database/client/memdb/find.js","core/database/client/memdb/get.js","core/database/client/memdb/init.js","core/database/client/memdb/save.js","core/database/client/cache.js","core/database/client/index.js","core/database/client/connection.js","core/database/client/updates.js","core/database/client/debug.js","core/database/client/storage.js","core/database/client/saveQueue.js","core/session/client/session.js","core/core/client/eventhandler.js","core/core/client/utils.js","core/core/client/nystem.js","indexScripts.js","core/core/client/index.js","core/file/client/index.js","core/pwa/client/index.js","core/router/client/index.js","core/session/client/index.js"],"names":["typeByFormat","Intl","DateTimeFormat","year","month","day","hour","minute","YYYY","YY","MM","DD","M","D","HH","mm","H","m","dddd","weekday","finderRegExp","RegExp","Object","keys","join","myMoment","val","at","Date","now","startOf","UTC","getFullYear","getMonth","getDate","valueOf","getTime","format","replace","replacer","module","exports","BootstrapDropdown","React","Component","constructor","props","super","this","state","expanded","toggleExpand","setState","render","self","headerProps","children","headerChildren","Array","map","typeClass","type","menuItem","item","className","onClick","role","slice","BootstrapInputWrapper","model","path","items","BootstrapPanel","header","body","classNames","BootstrapPanelOpen","classNameOpen","classNameClosed","useContext","PanelContext","BootstrapPanelOpenByPath","value","view","pathname","useLocation","match","str","p1","offset","s","test","params","getValue","forceExpanded","BootstrapPanelToggle","icon","iconClassName","BootstrapTab","sideways","position","push","renderAs","BootstrapVerticalTab","index","key","BootstrapView","types","default","wrapper","primary","defaultWithoutPadding","compact","Panel","setSexpanded","useState","panelElement","useRef","useEffect","storedState","app","stateStore","get","isExpanded","ref","Provider","doFunction","set","tabIndex","bodyClassName","visibilityHidden","createContext","ViewPanelView","onClickExpand","classNameHead","panelProps","BooleanButton","setValue","text","falseText","split","btnType","falseBtnType","size","includes","alt","t","BooleanExposedField","undefined","UseSearch","id","_id","BooleanFields","itemTrue","itemFalse","mandatory","text_mandatory","BooleanInput","error","setValidated","UseValidator","validate","uuid","e","classNameInput","placeholder","checked","onChange","disabled","BooleanName","BooleanVibrate","UNSAFE_componentWillReceiveProps","nextProps","vibrate","componentDidMount","navigator","atState","pattern","JSON","parse","BooleanView","byType","v1","v2","ConditionalInt","useCallback","condition","i","length","field","testVal","console","log","parseFloat","testCondition","isset","ConditionalSet","setId","condId","condVal","reverse","substring","on","off","ConditionalUserRole","visible","session","user","contains","array1","array2","indexOf","createItem","ConditionalView","ConditionalViewAndOr","tempValue","changeTimer","clearTimeout","setTimeout","setValueView","inThis","valid","refs","testOneCondition","sum","sumValidator","parseInt","componentWillUnmount","MyDragAndDropContext","DragDropContext","onDragEnd","event","addeventhandler","parents","styleDraggableItem","boxSizing","opacity","pointerEvents","transform","transition","zIndex","offsetStyle","Droppable","droppableId","isDropDisabled","style","setStyle","innerRef","styleRef","current","context","provided","droppableProps","useMemo","paddingBottom","window","getComputedStyle","stop","result","getBoundingClientRect","x","y","pos","top","bottom","left","right","destination","move","over","height","Draggable","draggableId","minHeight","breakpoint","currentStyle","offsetStyleSet","start","setStyles","element","styles","entries","forEach","prop","display","draggableProps","dragHandleProps","onMouseDown","baseProps","stringify","movingState","clientX","clientY","clonedElement","cloneNode","mouseMove","document","appendChild","width","then","query","mouseUp","removeEventListener","removeChild","combine","mode","reason","source","data","addEventListener","onDragStart","preventDefault","draggable","DragAndDropContext","modifiers","checkModifiers","shiftKey","metaKey","ctrlKey","altKey","DragAndDropFixedVal","onDragEndAddValue","valueType","snapshot","DragAndDropListContext","DragAndDropList","ids","getId","valuePath","updated","splice","replaceInModel","viewFormat","fn","DragAndDropHandle","DragAndDropSortable","contentType","DragAndDropView","EmailExposedField","EmailInput","focus","clearButton","componentClassName","maxLength","toLowerCase","onBlur","EmailInputNoValidation","EmailLink","EmailMailto","href","EmailSortBy","EmailVerifiedInput","add","errormsg","validated","handleChange","input","EmailView","FlatgroupInput","add2id","groupVal","startWith","getGroupVal","createElement","components","capFirst","FloatExposedField","from","setFrom","RouterUseQueryStore","saveIdFrom","to","setTo","saveIdTo","base","nolabel","modelFrom","modelTo","FloatInput","classNameLabel","selectAllOnFocus","IntLink","IntSortBy","outputFloat","tofixed","toFixed","settings","lang","FloatView","GroupInput","GroupView","IntExposedField","searchProp","onUpdate","update","classNameBase","updateCounter","modelId","filter","delayTimer","isMounted","search","offUpdate","IntInput","intVal","IntView","MatrixInput","limit","rowLabel","mapField","label","atRow","newVal","len","rowIndex","MatrixInputlist","concat","oneVal","handleKeyChange","MultigroupInput","setIds","expandable","utils","MultigroupOneInput","itemExpanded","last","info","itemExpandable","MultigroupOneView","rowClassName","MultigroupSortBy","isSortBy","handleSort","target","getAttribute","parentNode","sortBy","MultigroupView","MultilinetextExposedField","MultilinetextFields","rel","MultilinetextInput","itemValue","MultilinetextInputlist","MultilinetextItemLink","MultilinetextItemText","translate","fallback","MultilinetextList","MultilinetextView","nul","ReferenceExposedField","option","setOption","database","autoUpdate","parseFilter","count","selectModel","clone","textField","ReferenceExposedFieldViews","saveId","exact","exposed","ReferenceFirst","renderFormat","itemClassName","baseView","onReference","InputSpes","onFocus","inputEl","inFocus","setInFocus","InlineAdd","isAdding","setIsAdding","inlineAdd","onSave","close","ReferenceInput","searchVal","setSearchVal","setResult","sortby","searchCount","$all","useSearch","events","remove","addValue","atPath","addable","removeValue","clicked","itemsSelect","renderFormatSelect","ReferenceSelect","loadOption","namefield","offline","connection","ReferenceSortable","localValue","func","bind","save","componentWillReceiveProps","onDelete","addField","hashtag","addTransform","fieldBase","out","insertValues","noForm","onMissing","fieldId","onAdd","ReferenceSortBy","ReferenceView","SelectButton","trueState","trueOnState","falseState","falseOnState","SelectExposedField","setClassName","timer","renderTypes","dropdown","button","classNameItem","checkbox","inline","SelectInput","optionObj","normalizeOption","shift","noWrapper","SelectSortBy","SelectView","find","Select","SliderInput","absolute","min","max","precision","textClass","SliderLink","SliderView","TextExposedField","ClearButton","aria-hidden","forwardRef","TextLink","toFormat","addToPath","TextSortBy","DatabaseSearchContext","ev","setEv","sortbyId","reverse1","rev","setSearch","TextView","TextareaFormatted","dangerouslySetInnerHTML","__html","cutPoint","contents","TextareaLink","TextareaSortBy","TextareaView","ViewButtonAutoSave","saveIds","saveDelay","saveToDb","async","errors","reduce","res","fields","withRouter","history","go","deletedText","setText","delete","redirectURL","ViewButtonEventEmitter","buttonStates","confirm","saving","success","setError","setButton","savedTimer","setSavedTimer","activeKeySaveView","setActiveKeySaveView","sendEvent","emit","subEvent","redirectToPath","router","click","handleSubmit","debug","handleKeySave","inactivateKeySaveView","activateKeySaveView","saveOnKey","baseButtonStates","deleted","location","saved","noRedirect","sendOnly","ViewButtonReference","btnSize","ViewButtonSetValue","modelValue","ViewButtonSetValueOnLoad","ViewButtonView","ViewInViewEmpty","viewId","ViewInViewSetValue","addid","ViewInViewView","ViewLinkButton","renderType","title","ViewLinkDynamicFields","ViewLinkDynamicLink","insertVal","ViewLinkExternal","link","ViewLinkFields","toView","addId","ViewLinkLink","blank","ViewLinkView","Link","ViewListEmptySearchresult","searchText","$and","inverse","getStyle","extend","ViewListInfiniteSlot","slot","setSize","slotSearch","setSlotSearch","db","searchDelay","setHeight","offsetHeight","visibility","ViewListInfinite","loading","searchTotal","setPos","slotsTotal","slotLimit","total","updateTimer","updateSlots","newPos","scrollY","scrollEvent","innerWidth","resizeEvent","newTop","slots","fill","und","newHeight","ViewListInfiniteScrollPos","classNameInfo","UseEventListner","ViewListListStat","show","ViewListPager","prev","next","hasPrev","hasNext","ViewListRender","itemRenderAs","ViewListSearch","ViewListView","emptyFields","headerFields","ViewTextBreak","ViewTextToken","ViewTextTokenFallbackNew","name","ViewTextView","ConnectionCssclass","connected","connectionClass","onlineClass","offlineClass","space","ConnectionView","isConnected","setConnectedState","Offline","ContentTypeContext","ViewContextProvider","ContentTypeRender","componentName","component","category","focused","setValueAtPath","parts","ContentTypeView","addForm","itemFrom","itemTo","viewModel","propvalue","populatedViews","views","toUpperCase","setLoading","noAutoUpdate","firstData","savedData","doGet","diff","getDiff","applyDiff","changeData","oldValue","setData","newValue","saveData","reload","useValue","onSubmit","isValidated","validator","Promise","resolve","clearErrorValidation","secondary","danger","warning","primaryDisabled","secondaryDisabled","dangerDisabled","warningDisabled","infoDisabled","errorDisabled","defaultDisabled","sizes","xs","sm","lg","xl","Button","ErrorManager","disconnectEvent","errorEvent","connectEvent","url","line","errorTimer","errorReload","ErrorMsg","password","parentRef","localRef","setVal","valRef","flat","Infinity","elementProps","select","accessibilityLabel","accessible","accessibilityTraits","InputWrapper","pClassName","inputWidth","floatlabel","htmlFor","errorMsg","Label","Loading","inDelay","UseEvent","handler","ViewSmallComponentErrorMsg","errorSetter","tags","tag","h1","h2","h3","h4","DatabaseAddToCache","options","addMedia","doSearchDebounce","addReferencesToCache","DatabaseBaseViewSearch","baseFilter","setBaseFilter","updateSearch","onSearch","DatabaseGet","first","DatabaseMissing","DatabaseOneSearch","inSearch","searchString","setSearchState","DatabaseSearch","subView","reversesortby","reversesortby2","reversesortby3","getFilter","searchFilter","ofilter","oneFilter","and","oneFilterIn","delay","before","DatabaseSearchContextProvider","active","setSearchDebounce","doSearch","newSearch","isDirty","searchResult","getSearch","DatabaseShowMoreButton","setCount","amount","DatabaseView","__exact","DateExposedField","modelYear","months","toLocaleDateString","modelMonth","modelDay","daysInMonth","getArray","utc","addUTC","getByType","DateExposedYearMonth","years","fromMonth","toMonth","fromDay","toDay","setYear","setMonth","DateInput","dateType","validateAndSet","DateInputDate","inputVal","setInputVal","moment","setFromPicker","formVal","getMoment","pikaday","onSelect","firstDay","DateInputTime","inputClassName","datePart","toString","part","parseVal","DateSortBy","dateTimeFormats","dateLong","timeLong","dateTimeLong","dateTimeNoYear","dateTimeNoYearDay","dateNoYearDay","timeDay","DateView","dateFormat","relative","hourInMs","formatDate","fromNow","setInterval","clearInterval","domain","secure","Image","src","ViewImageView","fullPath","filename","isInstalled","standalone","matchMedia","matches","ServiceWorkerSelectBox","install","setInstall","installable","runInstall","ServiceWorkerView","ViewButtonDebugAndClear","appVersion","Inserter","exclude","propMatch","toClassString","Boolean","RouterBackHandler","routerHistory","atNew","found","rest","is404","setIs404","parentElement","nodeName","RouterRedirect","useHistory","positions","documentElement","scrollTop","RouterScrollpos","RouterState","getPath","storage","getItem","redirect","nextContext","setItem","contextTypes","PropTypes","object","toType","int","float","array","reg","getQueryValue","RouterView","RouterViewByHistory","itemsByPosition","paths","historyPos","sort","a","b","PasswordConfirmInput","value1","setValue1","value2","setValue2","svalue","autoComplete","PasswordInput","PasswordOldpassword","PasswordView","RoleView","sessionChange","Role","isVisible","logout","hasNoRole","SessionNoRole","setVisible","check","SessionRole","userrole","updateVisibility","reqRole","userRole","SessionUser","userid","toformat","SessionView","saveButton","setSaveButton","login","IconView","deg","d","points","fill-rule","stroke","strokeWidth","strokeLinecap","strokeLinejoin","Icon","xmlns","viewBox","iconsViewPorts","rotate","icons","StyleEventOutside","classNameInner","innerClicked","HideOnNotOverContext","StyleOnOverHandle","setOver","onMouseOver","onMouseOut","StyleOnOver","classNameOut","classNameOver","StyleView","ViewportContext","ViewportContextProvider","breakpoints","md","Viewport","density","devicePixelRatio","innerHeight","handleResize","Math","clientWidth","clientHeight","ExtensionBackgroundIndex","updateTabs","tab","siteScript","tabs","addToEventLog","updateTabSettings","recording","eventLog","tabId","extensionEvent","doEvent","chrome","tabLoadCallback","status","redirected","tabLoading","callback","doingEvent","sendMessage","connect","saveTab","pathErrorClick","runtime","onMessage","addListener","request","sender","sendResponse","tabOptions","response","newPath","listenTo","forceUpdate","tabField","changed","newUrl","webNavigation","onCompleted","frameId","onBeforeNavigate","onCreated","onUpdated","changeInfo","onRemoved","contextMenus","create","onclick","contexts","extensionIcon","browserAction","color","canvas","setIcon","setBadgeBackgroundColor","setBadgeText","canvasContext","getContext","imageData","getImageData","ExtensionSearch","missing","setMissing","extract","currentWindow","exec","ExtensionTab","invert","isMatch","setIsMatch","ExtensionView","inExtension","protocol","BootstrapComputedClass","row","DatabaseFilterResult","filterSearch","definition","viewFields","Index","OverlayAccessible","overlayEvent","open","accessibleId","_handleScreenReaderToggled","isEnabled","screenReaderEnabled","getChildContext","overlayId","string","childContextTypes","OverlayClose","handleEvent","do","OverlayCloseButton","toPath","OverlayContextObject","OverlayContext","Consumer","OverlayContextProvider","OverlayIndex","setOpenState","child","OverlayMenu","OverlayOpen","OverlayOverlay","mounted","findPosition","obj","offsetLeft","offsetTop","offsetParent","getScroll","pageYOffset","pageXOffset","r","scrollLeft","modal","shouldComponentUpdate","nextState","OverlayView","ReferenceDynamicForm","require","dynamicForm","generate","transformContentType","ViewButtonMirrorSave","oldVal","saveOn","saveVals","ViewInViewSetBaseViewValue","toField","fromField","Portal","setElement","createPortal","MouseOver","isOver","setIsOver","ViewTextTitlePopup","popup","overPos","TextareaLog","setLog","hasVal","parseLog","colors","fullLog","updateLog","clearLog","wrapperClass","0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","ReactDOM","URL","webSocket","WebSocket","callbacks","isOnline","reconnect","closed","failCount","send","counter","noCallback","callbackid","msg","readyState","timeout","broadcast","waitOnConnect","cont","openconnection","onerror","onopen","onclose","code","onmessage","message","haveConnected","fetch","method","json","httpsfallbackM","viewCreatorFields","deepCopy","dynamicFields","fullId","substr","flattenFields","flatten","subFields","populateViews","mapFn","byField","curr","sortByFunc","sortBys","sortFuncs","up","down","sortFuncInt","sortFuncText","collection","fieldByType","field2IdType","extends","_crdate","dbArray","addFields2All","searchFor","oneSearchField","oneSearchValue","oneField","searchField","searchValue","tmp","getFilterArray","createRegExp","expression","setSearchDefaults","thisItem","matchVal","filterResult","assign","oldData","dbIndex","deleteM","testIfSet","findM","getM","initM","saveM","searchM","machinename","getKey","action","inCache","updates","connectionM","updateGet","timer03","timer20","timeoutTimes","updateFrequency","updateEvent","onData","callbackId","delItem","values","_chdate","date","updatesM","debugM","memdbM","noClientCache","insertItem","chdate","searchCache","allInCache","cacheM","setItemDebounce","storageM","storageId","saveQueue","saveQueueM","all","contentTypes","init","clearCache","userContentType","sessionKey","autoLoginUser","sessionid","loginEvent","removeItem","userStore","getStackTrace","Error","captureStackTrace","stack","column","host","head","some","scriptEl","setAttribute","onload","addScript","sourceMap","SourceMapConsumer","initialize","consumer","originalPositionFor","addEventHandler","mapevents","callbacksprio","callbacksStack","addEventHandlerInitiator","random","addEventHandlers","prio","addEvent","removeEvent","getCallTrace","reject","catch","skipNext","defectiveCallback","___settings___","buildsettings","fetchDomainFromUrl","translations","S4","crypto","getRandomValues","buf","Uint16Array","num","ret","guidGenerator","comp","renderer","unmountComponentAtNode","parsedfilter","states","domPathId","unshift","tagName","keyCode","platform","core","localStorage","memstore","file","serviceWorker","register","registration","err","deferredPrompt","prompt","userChoice","choiceResult","outcome","regExpVersion","clear","caches","clientAppVersion","pwa","parseURL","param","sessionM","addContents","token","inited"],"mappings":"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,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,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","file":"static/js/main.905c3b1b.chunk.js","sourcesContent":["\"use strict\";\r\n\r\nconst typeByFormat = {\r\n  \"YYYY-MM-DD\": new Intl.DateTimeFormat(\"sv-SE\", {\r\n    year: \"numeric\",\r\n    month: \"numeric\",\r\n    day: \"numeric\",\r\n  }),\r\n  \"YYYY-MM-DD HH:mm\": new Intl.DateTimeFormat(\"sv-SE\", {\r\n    year: \"numeric\",\r\n    month: \"numeric\",\r\n    day: \"numeric\",\r\n    hour: \"numeric\",\r\n    minute: \"numeric\",\r\n  }),\r\n  \"HH:mm\": new Intl.DateTimeFormat(\"sv-SE\", {\r\n    hour: \"numeric\",\r\n    minute: \"numeric\",\r\n  }),\r\n  \"H:mm\": new Intl.DateTimeFormat(\"sv-SE\", {\r\n    hour: \"numeric\",\r\n    minute: \"numeric\",\r\n  }),\r\n  YYYY: new Intl.DateTimeFormat(\"sv-SE\", { year: \"numeric\" }),\r\n  YY: new Intl.DateTimeFormat(\"sv-SE\", { year: \"2-digit\" }),\r\n  MM: new Intl.DateTimeFormat(\"sv-SE\", { month: \"2-digit\" }),\r\n  DD: new Intl.DateTimeFormat(\"sv-SE\", { day: \"2-digit\" }),\r\n  M: new Intl.DateTimeFormat(\"sv-SE\", { month: \"numeric\" }),\r\n  D: new Intl.DateTimeFormat(\"sv-SE\", { day: \"numeric\" }),\r\n  HH: new Intl.DateTimeFormat(\"sv-SE\", { hour: \"2-digit\" }),\r\n  mm: new Intl.DateTimeFormat(\"sv-SE\", { minute: \"2-digit\" }),\r\n  H: new Intl.DateTimeFormat(\"sv-SE\", { hour: \"numeric\" }),\r\n  m: new Intl.DateTimeFormat(\"sv-SE\", { minute: \"numeric\" }),\r\n  dddd: new Intl.DateTimeFormat(\"en-GB\", { weekday: \"long\" }),\r\n};\r\n\r\nconst finderRegExp = new RegExp(Object.keys(typeByFormat).join(\"|\"), \"gi\");\r\nconst replacer = (at) => (format) => typeByFormat[format].format(at);\r\n\r\nconst myMoment = (val) => {\r\n  const at = new Date(val || Date.now());\r\n\r\n  return {\r\n    startOf: () =>\r\n      myMoment(Date.UTC(at.getFullYear(), at.getMonth(), at.getDate())),\r\n    valueOf: () => at.getTime(),\r\n    format: (format) => {\r\n      if (!typeByFormat[format])\r\n        return format.replace(finderRegExp, replacer(at));\r\n\r\n      return typeByFormat[format].format(at);\r\n    },\r\n  };\r\n};\r\n\r\nmodule.exports = myMoment;\r\n\r\n/*\r\n\r\nInput\tExample\tDescription\r\nYYYY\t2014\t4 or 2 digit year. Note: Only 4 digit can be parsed on strict mode\r\nYY\t14\t2 digit year\r\nY\t-25\tYear with any number of digits and sign\r\nQ\t1..4\tQuarter of year. Sets month to first month in quarter.\r\nM MM\t1..12\tMonth number\r\nMMM MMMM\tJan..December\tMonth name in locale set by moment.locale()\r\nD DD\t1..31\tDay of month\r\nDo\t1st..31st\tDay of month with ordinal\r\nDDD DDDD\t1..365\tDay of year\r\nX\t1410715640.579\tUnix timestamp\r\nx\t1410715640579\tUnix ms timestamp\r\n\r\nhttps://devhints.io/wip/intl-datetime\r\nhttps://momentjscom.readthedocs.io/en/latest/moment/04-displaying/02-fromnow/\r\n\r\nconst dateTimeFormats = {\r\n  dateLong: \"YYYY-MM-DD\",\r\n  timeLong: \"H:mm\",\r\n  dateTimeLong: \"YYYY-MM-DD HH:mm\",\r\n  dateTimeNoYear: \"D/M H:mm\",\r\n  dateTimeNoYearDay: \"ddd D/M H:mm\",\r\n  dateNoYearDay: \"ddd D/M\",\r\n  timeDay: \"ddd D/M H:mm\",\r\n  day: \"dddd\",\r\n};\r\n\r\n{\r\n  weekday: 'narrow' | 'short' | 'long',\r\n  era: 'narrow' | 'short' | 'long',\r\n  year: 'numeric' | '2-digit',\r\n  month: 'numeric' | '2-digit' | 'narrow' | 'short' | 'long',\r\n  day: 'numeric' | '2-digit',\r\n  hour: 'numeric' | '2-digit',\r\n  minute: 'numeric' | '2-digit',\r\n  second: 'numeric' | '2-digit',\r\n  timeZoneName: 'short' | 'long',\r\n\r\n  // Time zone to express it in\r\n  timeZone: 'Asia/Shanghai',\r\n  // Force 12-hour or 24-hour\r\n  hour12: true | false,\r\n\r\n  // Rarely-used options\r\n  hourCycle: 'h11' | 'h12' | 'h23' | 'h24',\r\n  formatMatcher: 'basic' | 'best fit'\r\n}\r\n*/\r\n","import React from \"react\";\r\nimport { Button } from \"nystem-components\";\r\n\r\nclass BootstrapDropdown extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      expanded: this.props.expanded\r\n    };\r\n  }\r\n  toggleExpand() {\r\n    this.setState({\r\n      expanded: !this.state.expanded\r\n    });\r\n  }\r\n  render() {\r\n    function headerContent() {\r\n      return <div />;\r\n    }\r\n    const self = this;\r\n    const headerProps = this.props.children[0].props;\r\n    const headerChildren =\r\n      headerProps.children instanceof Array\r\n        ? headerProps.children.map(headerContent)\r\n        : headerProps.children;\r\n    let typeClass = this.props.type ? this.props.type : \"\";\r\n    if (!headerProps) return null;\r\n    function menuItem(item) {\r\n      return <li>{item}</li>;\r\n    }\r\n    function bodyContent() {\r\n      if (self.state.expanded)\r\n        return (\r\n          <ul className=\"dropdown-menu\" role=\"menu\">\r\n            {self.props.children.slice(1).map(menuItem)}\r\n          </ul>\r\n        );\r\n      return \"\";\r\n    }\r\n    if (this.props.className) typeClass += ` ${this.props.className}`;\r\n    if (this.state.expanded) typeClass += \" open\";\r\n    return (\r\n      <div className={`btn-group${typeClass}`}>\r\n        <Button type=\"secondary\" onClick={this.toggleExpand}>\r\n          {headerChildren} <span className=\"caret\" />\r\n        </Button>\r\n        {bodyContent()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default BootstrapDropdown;\r\n","import React from \"react\";\r\nimport { InputWrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst BootstrapInputWrapper = ({ model, path }) => {\r\n  const { item } = model;\r\n\r\n  return (\r\n    <InputWrapper model={model}>\r\n      <ContentTypeRender path={path} items={item} />\r\n    </InputWrapper>\r\n  );\r\n};\r\nexport default BootstrapInputWrapper;\r\n","import React from \"react\";\r\nimport { Panel, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst BootstrapPanel = ({ model, path }) => {\r\n  const { item, header, typeClass } = model;\r\n\r\n  return (\r\n    <Panel\r\n      {...model}\r\n      type={typeClass}\r\n      header={<ContentTypeRender path={path} items={header} />}\r\n      body={<ContentTypeRender path={path} items={item} />}\r\n    />\r\n  );\r\n};\r\nexport default BootstrapPanel;\r\n","import React, { useContext } from \"react\";\r\nimport { Wrapper, ContentTypeRender, PanelContext } from \"nystem-components\";\r\n\r\nconst classNames = (className) =>\r\n  !className ? [] : className instanceof Array ? className : [className];\r\n\r\nconst BootstrapPanelOpen = ({ model, path, children }) => {\r\n  const { className, item, classNameOpen, classNameClosed } = model;\r\n  const { expanded } = useContext(PanelContext);\r\n\r\n  return (\r\n    <Wrapper\r\n      className={[\r\n        ...classNames(className),\r\n        ...(expanded ? classNames(classNameOpen) : classNames(classNameClosed)),\r\n      ]}\r\n    >\r\n      {children || <ContentTypeRender path={path} items={item} />}\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default BootstrapPanelOpen;\r\n","import React from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { Panel, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst BootstrapPanelOpenByPath = ({ model, path, value, view }) => {\r\n  const { item, header, typeClass } = model;\r\n  const { pathname } = useLocation();\r\n\r\n  const insertVal = (val) =>\r\n    val &&\r\n    val.replace(/\\{([a-z_.0-9]+)\\}/gim, (str, p1, offset, s) => {\r\n      if (/pathItem[0-9]/.test(p1) && view.params) return view.params[p1[8]];\r\n      return view.getValue(p1.replace(\"..\", path));\r\n    });\r\n\r\n  const expanded = pathname.match(new RegExp(insertVal(model.match)));\r\n\r\n  return (\r\n    <Panel\r\n      {...model}\r\n      forceExpanded={expanded}\r\n      type={typeClass}\r\n      header={<ContentTypeRender path={path} items={header} />}\r\n      body={<ContentTypeRender path={path} items={item} />}\r\n    />\r\n  );\r\n};\r\n\r\nexport default BootstrapPanelOpenByPath;\r\n","import React, { useContext } from \"react\";\r\nimport {\r\n  Wrapper,\r\n  ContentTypeRender,\r\n  Icon,\r\n  PanelContext,\r\n} from \"nystem-components\";\r\n\r\nconst BootstrapPanelToggle = ({ model, path, children }) => {\r\n  const { className, item } = model;\r\n  const { toggleExpand, expanded } = useContext(PanelContext);\r\n\r\n  return (\r\n    <Wrapper className={className} {...toggleExpand}>\r\n      {model.icon && (\r\n        <Icon\r\n          icon={expanded ? \"cheveron-down\" : \"cheveron-right\"}\r\n          className={model.iconClassName || \"w-6 h-6 pl-0 pointer\"}\r\n        />\r\n      )}\r\n      {children || <ContentTypeRender path={path} items={item} />}\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default BootstrapPanelToggle;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst BootstrapTab = ({ model, path }) => {\r\n  const { className, sideways, position, item } = model;\r\n  className.push(\"nav\");\r\n  className.push(\"nav-tabs\");\r\n\r\n  if (sideways) className.push(\"sideways\");\r\n  if (position) className.push(position);\r\n\r\n  return (\r\n    <Wrapper renderAs=\"ul\" className={className}>\r\n      <ContentTypeRender path={path} items={item || []} />\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default BootstrapTab;\r\n","import React from \"react\";\r\nimport { ContentTypeRender } from \"nystem-components\";\r\n\r\nconst BootstrapVerticalTab = ({ model, path }) => {\r\n  const createItem = (item, index) => (\r\n    <ContentTypeRender key={index} path={path} items={[item]} />\r\n  );\r\n\r\n  const className = model.className ? model.className.join(\" \") : \"\";\r\n  return <ul className={className}>{model.item.map(createItem)}</ul>;\r\n};\r\n\r\nexport default BootstrapVerticalTab;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst BootstrapView = ({ model, path }) => {\r\n  const { className, renderAs, item } = model;\r\n\r\n  return (\r\n    <Wrapper className={className} renderAs={renderAs}>\r\n      <ContentTypeRender path={path} items={item} />\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default BootstrapView;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { Wrapper, PanelContext } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst types = {\r\n  default: {\r\n    wrapper: \"mb-3 border shadow rounded\",\r\n    body: \"p-3\",\r\n    header: \"bg-gray-200 pointer p-1 pl-3\",\r\n  },\r\n  primary: {\r\n    wrapper: \"mb-3 border shadow rounded bg-blue-600 border-blue-600\",\r\n    body: \"p-3 bg-white rounded\",\r\n    header: \"text-white pointer p-1 pl-3\",\r\n  },\r\n  defaultWithoutPadding: {\r\n    wrapper: \"mb-3 border shadow rounded\",\r\n    body: \"\",\r\n    header: \"bg-gray-200 pointer pl-2 pr-1\",\r\n  },\r\n  compact: {\r\n    wrapper: \"mb-1\",\r\n    body: \"pl-3\",\r\n    header: \"\",\r\n  },\r\n};\r\n\r\nconst addClick = (doFunction) => ({\r\n  onClick: doFunction,\r\n  role: \"button\",\r\n  tabIndex: \"0\",\r\n});\r\n\r\nconst Panel = ({ body, header, className, ...props }) => {\r\n  const [expanded, setSexpanded] = useState(props.expanded);\r\n  const panelElement = useRef(null);\r\n\r\n  const toggleExpand = () => {\r\n    setSexpanded(!expanded);\r\n    app().stateStore.set(panelElement, !expanded, props.stateStore);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const storedState = app().stateStore.get(panelElement, props.stateStore);\r\n    if (storedState === null || storedState === expanded) return;\r\n    setSexpanded(storedState);\r\n  }, [expanded, props.stateStore]);\r\n\r\n  const type = types[props.type || \"default\"];\r\n  const isExpanded = expanded || props.forceExpanded;\r\n\r\n  return (\r\n    <Wrapper ref={panelElement} className={[type.wrapper, className]}>\r\n      <Wrapper className={type.header}>\r\n        <PanelContext.Provider\r\n          value={{ toggleExpand: addClick(toggleExpand), expanded: isExpanded }}\r\n        >\r\n          {header}\r\n        </PanelContext.Provider>\r\n      </Wrapper>\r\n      {isExpanded ? (\r\n        <Wrapper className={props.bodyClassName || type.body}>{body}</Wrapper>\r\n      ) : props.visibilityHidden ? (\r\n        <Wrapper className={[type.body, \"hidden\"]}>{body}</Wrapper>\r\n      ) : null}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Panel;\r\n","import React from \"react\";\r\n\r\nconst PanelContext = React.createContext();\r\nexport default PanelContext;\r\n","import React from \"react\";\r\nimport { Panel, Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst ViewPanelView = ({ model, path }) => {\r\n  const {\r\n    onClickExpand,\r\n    classNameHead,\r\n    item,\r\n    header,\r\n    typeClass,\r\n    ...panelProps\r\n  } = model;\r\n\r\n  return (\r\n    <Panel {...panelProps} type={typeClass}>\r\n      <Wrapper\r\n        renderAs=\"h3\"\r\n        onClickExpand={onClickExpand}\r\n        className={classNameHead}\r\n      >\r\n        <ContentTypeRender path={path} items={header || []} />\r\n      </Wrapper>\r\n      <ContentTypeRender path={path} items={item || []} />\r\n    </Panel>\r\n  );\r\n};\r\nexport default ViewPanelView;\r\n","import React from \"react\";\r\nimport { Button, Icon } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst classNames = (className) =>\r\n  !className ? [] : className instanceof Array ? className : [className];\r\n\r\nconst BooleanButton = ({ setValue, model, value }) => {\r\n  const [text, className = []] = (value\r\n    ? model.text\r\n    : model.falseText || model.text\r\n  ).split(\":\");\r\n\r\n  return (\r\n    <Button\r\n      type={value ? model.btnType : model.falseBtnType}\r\n      size={model.size}\r\n      className={[...classNames(className), ...classNames(model.className)]}\r\n      onClick={() => setValue(!value)}\r\n    >\r\n      {[\r\n        \"code\",\r\n        \"pause\",\r\n        \"play\",\r\n        \"folder\",\r\n        \"cog\",\r\n        \"wallet\",\r\n        \"location\",\r\n      ].includes(text) ? (\r\n        <Icon className=\"w-4 h-4\" icon={text} alt={text} />\r\n      ) : (\r\n        app().t(text)\r\n      )}\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default BooleanButton;\r\n","import React, { useState } from \"react\";\r\nimport { Button, Wrapper, UseSearch } from \"nystem-components\";\r\n\r\nconst BooleanExposedField = ({ model, view }) => {\r\n  const [value, setValue] = useState(undefined);\r\n  const { className, text } = model;\r\n  UseSearch({ view, id: model.id, value });\r\n\r\n  const options = [\r\n    {\r\n      _id: \"true\",\r\n      text: \"True\",\r\n    },\r\n    {\r\n      _id: \"false\",\r\n      text: \"False\",\r\n    },\r\n  ];\r\n\r\n  const option = (item) => {\r\n    if (value === item._id)\r\n      return (\r\n        <Button\r\n          onClick={() => setValue(item._id)}\r\n          type=\"primary\"\r\n          key={item._id}\r\n          value={item._id}\r\n        >\r\n          {item.text}\r\n        </Button>\r\n      );\r\n\r\n    return (\r\n      <Button\r\n        onClick={() => setValue(item._id)}\r\n        type=\"secondary\"\r\n        key={item._id}\r\n        value={item._id}\r\n      >\r\n        {item.text}\r\n      </Button>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Wrapper className={className}>\r\n      <Wrapper className=\"mr-2\">{text}</Wrapper>\r\n      {options.map(option)}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default BooleanExposedField;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst BooleanFields = ({ setValue, model, value, path }) => {\r\n  const { itemTrue, itemFalse, className } = model;\r\n  return (\r\n    <Wrapper className={className} onClick={() => setValue(!value)}>\r\n      <ContentTypeRender\r\n        path={path.replace(model.id, \"\")}\r\n        items={value ? itemTrue : itemFalse}\r\n      />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default BooleanFields;\r\n","const text_mandatory = \"Field is mandatory\";\r\n\r\nexport default ({ value, model }) =>\r\n  model.mandatory && !value && (model.text_mandatory || text_mandatory);\r\n","import React, { useState } from \"react\";\r\nimport { InputWrapper, Input, Button, UseValidator } from \"nystem-components\";\r\nimport app from \"nystem\";\r\nimport validate from \"./validate\";\r\n\r\nconst BooleanInput = ({ model, setValue, value, view, render }) => {\r\n  const [error, setValidated] = UseValidator({ view, validate, value, model });\r\n  const [id] = useState(app().uuid);\r\n\r\n  const handleChangeButton = (e) => {\r\n    setValidated(true);\r\n    setValue(!value);\r\n  };\r\n\r\n  if (model.render === \"button\" || render === \"button\")\r\n    return (\r\n      <Button\r\n        type={value ? \"primary\" : \"secondary\"}\r\n        className={model.className}\r\n        onClick={handleChangeButton}\r\n        size=\"xs\"\r\n      >\r\n        {model.text}\r\n      </Button>\r\n    );\r\n\r\n  return (\r\n    <InputWrapper id={id} model={model} error={error}>\r\n      <Input\r\n        id={id}\r\n        className={model.classNameInput}\r\n        placeholder={model.text}\r\n        checked={value || false}\r\n        onChange={() => setValue(!value)}\r\n        disabled={model.disabled}\r\n        type=\"checkbox\"\r\n      />\r\n    </InputWrapper>\r\n  );\r\n};\r\n\r\nexport default BooleanInput;\r\n","import React from \"react\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nconst BooleanName = ({ model, value }) =>\r\n  value ? <Wrapper className={model.className}>{model.text}</Wrapper> : null;\r\n\r\nexport default BooleanName;\r\n","import React from \"react\";\r\nclass BooleanVibrate extends React.Component {\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (this.props.value !== nextProps.value) this.vibrate(nextProps);\r\n  }\r\n  componentDidMount() {\r\n    this.vibrate(this.props);\r\n  }\r\n  vibrate(props) {\r\n    if (!navigator.vibrate) return;\r\n    let { atState, pattern } = props.model;\r\n    if (props.value === atState)\r\n      navigator.vibrate(pattern ? JSON.parse(pattern) : 300);\r\n  }\r\n  render() {\r\n    return null;\r\n  }\r\n}\r\nexport default BooleanVibrate;\r\n","import React from \"react\";\r\nimport { Icon } from \"nystem-components\";\r\n\r\nconst BooleanView = ({ model, value }) =>\r\n  value ? <Icon className={model.className} type=\"checkmark\" /> : null;\r\n\r\nexport default BooleanView;\r\n","import React, { useCallback } from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst byType = {\r\n  \"<\": (v1, v2) => v1 < v2,\r\n  \">\": (v1, v2) => v1 > v2,\r\n  \"<=\": (v1, v2) => v1 <= v2,\r\n  \">=\": (v1, v2) => v1 >= v2,\r\n};\r\n\r\nconst ConditionalInt = ({ view, model, value, path }) => {\r\n  const testCondition = useCallback(() => {\r\n    const { condition } = model;\r\n    for (let i = 0; i < condition.length; i++) {\r\n      const [field, test] = condition[i];\r\n      const val = view.getValue(field);\r\n\r\n      const [, type, testVal] = test.match(/([<>=]{1,2})(.+)/im) || [];\r\n      console.log([type, testVal]);\r\n      if (byType[type](parseFloat(val), parseFloat(testVal))) return true;\r\n    }\r\n    return false;\r\n  }, [model, view]);\r\n\r\n  if (testCondition())\r\n    return (\r\n      <Wrapper className={model.className}>\r\n        <ContentTypeRender path={path} items={model.item} />\r\n      </Wrapper>\r\n    );\r\n  return null;\r\n};\r\n\r\nexport default ConditionalInt;\r\n","import { useEffect } from \"react\";\r\n\r\nconst isset = (val) => !!val && !(val instanceof Array && val.length === 0);\r\n\r\nconst ConditionalSet = ({ view, model, value, path }) => {\r\n  useEffect(() => {\r\n    const testCondition = (id, value) => {\r\n      const val = view.getValue(id);\r\n      if (value === \"false\") return !isset(val);\r\n      if (value === \"true\") return isset(val);\r\n\r\n      const reverse = value[0] === \"!\";\r\n      if (reverse) value = value.substring(1);\r\n      value = new RegExp(`^${value}$`, \"i\");\r\n      if (value.test(val)) {\r\n        if (!reverse) return true;\r\n      } else if (reverse) return true;\r\n    };\r\n\r\n    const onChange = ({ id }) => {\r\n      const { setId, condId, condVal } = model;\r\n      let { setValue } = model;\r\n      if (setValue === \"false\") setValue = false;\r\n      if (setValue === \"true\") setValue = true;\r\n      if (setValue === \"undefined\") setValue = undefined;\r\n\r\n      if (\r\n        id === condId &&\r\n        testCondition(condId, condVal) &&\r\n        view.getValue(setId) !== setValue\r\n      )\r\n        view.setValue({ path: setId, value: setValue });\r\n    };\r\n\r\n    view.on(\"change\", -1000, onChange);\r\n    return () => {\r\n      view.off(\"change\", onChange);\r\n    };\r\n  }, [model, value, view]);\r\n\r\n  return null;\r\n};\r\n\r\nexport default ConditionalSet;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nclass ConditionalUserRole extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.view = props.view;\r\n    const state = {\r\n      value: props.value\r\n    };\r\n    state.visible = app().session.user\r\n      ? this.contains(app().session.user.role, this.model.role)\r\n      : false;\r\n    this.state = state;\r\n  }\r\n  contains(array1, array2) {\r\n    if (typeof array1 === \"string\") array1 = [array1];\r\n    if (typeof array2 === \"string\") array2 = [array2];\r\n\r\n    for (let i = 0; i < array1.length; i++)\r\n      if (array2.indexOf(array1[i]) !== -1) return true;\r\n\r\n    return false;\r\n  }\r\n  render() {\r\n    const className = this.props.model.className\r\n      ? this.props.model.className.join(\" \")\r\n      : \"\";\r\n    if (this.state.visible)\r\n      return (\r\n        <Wrapper className={className}>\r\n          {this.model.item.map(this.props.view.createItem, this)}\r\n        </Wrapper>\r\n      );\r\n    return null;\r\n  }\r\n}\r\nexport default ConditionalUserRole;\r\n","/* eslint-disable no-continue */\r\nimport React, { useCallback } from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst isset = (val) => !!val && !(val instanceof Array && val.length === 0);\r\n\r\nconst ConditionalView = ({ view, model, value, path }) => {\r\n  const testCondition = useCallback(() => {\r\n    const { condition } = model;\r\n    for (let i = 0; i < condition.length; i++) {\r\n      const val = view.getValue(condition[i][0]);\r\n      let test = condition[i][1];\r\n      if (test === \"false\") {\r\n        if (!isset(val)) return true;\r\n        continue;\r\n      }\r\n      if (test === \"true\") {\r\n        if (isset(val)) return true;\r\n        continue;\r\n      }\r\n      const reverse = test[0] === \"!\";\r\n      if (reverse) test = test.substring(1);\r\n      test = new RegExp(`^${test}$`, \"i\");\r\n      if (test.test(val)) {\r\n        if (!reverse) return true;\r\n      } else if (reverse) return true;\r\n    }\r\n    return false;\r\n  }, [model, view]);\r\n\r\n  if (testCondition())\r\n    return (\r\n      <Wrapper className={model.className}>\r\n        <ContentTypeRender path={path} items={model.item} />\r\n      </Wrapper>\r\n    );\r\n  return null;\r\n};\r\n\r\nexport default ConditionalView;\r\n","import React from \"react\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nclass ConditionalViewAndOr extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.view = props.view;\r\n    const state = {\r\n      value: this.view.value\r\n    };\r\n    if (!state.value) state.value = {};\r\n    state.visible = this.testCondition(state.value);\r\n    this.view.on(\"change\", this.onChange);\r\n    this.tempValue = {};\r\n    this.state = state;\r\n  }\r\n  setValue(id, value) {\r\n    return this.view.setValue(id, value);\r\n  }\r\n  onChange(id, value) {\r\n    if (this.changeTimer) clearTimeout(this.changeTimer);\r\n    this.changeTimer = setTimeout(this.setValueView, 0);\r\n  }\r\n  setValueView() {\r\n    this.changeTimer = false;\r\n    if (this.inThis) return;\r\n    this.inThis = true;\r\n    const { value } = this.view;\r\n    const visible = this.testCondition(value);\r\n    /* if (!visible && this.state.visible)\r\n      for (let i=0;i<this.model.item.length;i++){\r\n        if (this.model.item[i].id){\r\n          this.tempValue[this.model.item[i].id] = value[this.model.item[i].id];\r\n          this.setValue(this.model.item[i].id);\r\n        } else\r\n        if (this.model.item[i].item){\r\n          for (let j=0;j<this.model.item[i].item.length;j++)\r\n            if (this.model.item[i].item[j].id)\r\n              this.setValue(this.model.item[i].item[j].id);\r\n        } else\r\n        if (this.refs['component'+i].clear)\r\n          this.refs['component'+i].clear();\r\n      } else\r\n      if (visible && !this.state.visible)\r\n        for (let i=0;i<this.model.item.length;i++)\r\n          if (this.model.item[i].id && typeof value[this.model.item[i].id] === 'undefined')\r\n            this.setValue(this.model.item[i].id,this.tempValue[this.model.item[i].id]);*/\r\n\r\n    this.setState({\r\n      value: value,\r\n      visible: visible\r\n    });\r\n    this.inThis = false;\r\n  }\r\n  valid() {\r\n    let valid = true;\r\n    if (this.state.visible)\r\n      for (let i = 0; i < this.model.item.length; i++)\r\n        if (!this.refs[`component${i}`].valid()) valid = false;\r\n    return valid;\r\n  }\r\n  visible() {\r\n    return this.state.visible;\r\n  }\r\n  testCondition(value) {\r\n    const { condition } = this.model;\r\n    if (!condition || !condition.length) return false;\r\n\r\n    function testOneCondition(condition) {\r\n      const key = condition[0];\r\n      const val = value[key];\r\n      let test = condition[1];\r\n      if (test === \"false\" || test === false) return !val;\r\n      if (test === \"true\" || test === true) return !!val;\r\n      const reverse = test[0] === \"!\";\r\n      if (reverse) test = test.substring(1);\r\n      test = new RegExp(`^${test}$`, \"i\");\r\n      if (test.test(val)) {\r\n        if (!reverse) return true;\r\n      } else if (reverse) return true;\r\n      return false;\r\n    }\r\n\r\n    let valid = true;\r\n    let sum = false;\r\n    const sumValidator = function(condition) {\r\n      let sum = 0;\r\n      condition = condition.split(\"||\");\r\n      return function(valid) {\r\n        if (typeof valid !== \"undefined\" && valid) sum++;\r\n        for (let i = 0; i < condition.length; i++)\r\n          if (parseInt(condition[i], 10) === sum) return true;\r\n        return false;\r\n      };\r\n    };\r\n    for (let i = 0; i < condition.length; i++) {\r\n      if (condition[i][0] === \"||\") {\r\n        if (sum) {\r\n          valid = sum();\r\n          sum = false;\r\n        }\r\n        if (valid) return true;\r\n        valid = true;\r\n      } else if (condition[i][0] === \"<sum>\") {\r\n        sum = sumValidator(condition[i][1]);\r\n      } else if (sum) sum(testOneCondition(condition[i]));\r\n      else valid = testOneCondition(condition[i]) && valid;\r\n    }\r\n    if (sum) valid = sum();\r\n    return valid;\r\n  }\r\n  componentWillUnmount() {\r\n    this.props.view.off(\"change\", this.onChange);\r\n  }\r\n  render() {\r\n    const { model, view } = this.props;\r\n    if (this.state.visible)\r\n      return (\r\n        <Wrapper className={model.className}>\r\n          {model.item.map(view.createItem, this)}\r\n        </Wrapper>\r\n      );\r\n    return null;\r\n  }\r\n}\r\nexport default ConditionalViewAndOr;\r\n","// Same as react-beautiful-dnd but more levels than 2\r\n\r\nimport React, { useState, useRef, useEffect, useContext, useMemo } from \"react\";\r\nimport app from \"nystem\";\r\n\r\nconst MyDragAndDropContext = React.createContext();\r\n\r\nexport const DragDropContext = ({ children, onDragEnd }) => {\r\n  const event = app().addeventhandler();\r\n\r\n  useEffect(() => {\r\n    event.on(\"onDragEnd\", onDragEnd);\r\n  }, [event, onDragEnd]);\r\n\r\n  return (\r\n    <MyDragAndDropContext.Provider value={{ event, parents: [] }}>\r\n      {children}\r\n    </MyDragAndDropContext.Provider>\r\n  );\r\n};\r\n\r\nconst styleDraggableItem = {\r\n  boxSizing: \"border-box\",\r\n  opacity: null,\r\n  pointerEvents: \"none\",\r\n  position: \"fixed\",\r\n  transform: null,\r\n  transition: \"opacity 0.2s cubic-bezier(0.2, 0, 0, 1)\",\r\n  zIndex: 4500,\r\n};\r\nconst offsetStyle = {\r\n  transform: \"translate(0px,0px)\",\r\n  transition:\r\n    \"transform 0.33s cubic-bezier(.2,1,.1,1), opacity 0.33s cubic-bezier(.2,1,.1,1)\",\r\n};\r\n\r\nexport const Droppable = ({ droppableId, type, children, isDropDisabled }) => {\r\n  const [style, setStyle] = useState(null);\r\n  const innerRef = useRef();\r\n  const styleRef = useRef();\r\n  styleRef.current = style;\r\n\r\n  const context = useContext(MyDragAndDropContext);\r\n  const { event } = context;\r\n\r\n  const provided = {\r\n    droppableProps: { style: style || offsetStyle },\r\n    innerRef,\r\n  };\r\n\r\n  const parents = useMemo(\r\n    () => [\r\n      ...context.parents,\r\n      ...(context.droppableId ? [context.droppableId] : []),\r\n    ],\r\n    [context.droppableId, context.parents]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (isDropDisabled) return;\r\n\r\n    const paddingBottom = parseInt(\r\n      window.getComputedStyle(innerRef.current).paddingBottom,\r\n      10\r\n    );\r\n\r\n    const stop = (result) => {\r\n      const size = innerRef.current.getBoundingClientRect();\r\n      setStyle(null);\r\n      const { x, y } = result.pos;\r\n\r\n      if (y < size.top || y > size.bottom || x < size.left || x > size.right)\r\n        return;\r\n\r\n      if (result.destination.parents.includes(droppableId)) return;\r\n\r\n      return {\r\n        ...result,\r\n        destination: { ...result.destination, droppableId, parents },\r\n      };\r\n    };\r\n\r\n    const move = (result) => {\r\n      if (!innerRef.current) return;\r\n\r\n      const size = innerRef.current.getBoundingClientRect();\r\n      const { x, y } = result;\r\n\r\n      if (y < size.top || y > size.bottom || x < size.left || x > size.right)\r\n        return;\r\n\r\n      if (result.parents.includes(droppableId)) return;\r\n\r\n      return { ...result, over: droppableId, parents };\r\n    };\r\n\r\n    const over = ({ over, height }) => {\r\n      if (!innerRef.current) return;\r\n\r\n      if (over !== droppableId) {\r\n        if (styleRef.current) setStyle(null);\r\n        return;\r\n      }\r\n      if (!styleRef.current)\r\n        setStyle({ ...offsetStyle, paddingBottom: paddingBottom + height });\r\n    };\r\n\r\n    event.on(`${type}Over`, over);\r\n    event.on(`${type}Move`, move);\r\n    event.on(`${type}Stop`, 100, stop);\r\n    return () => {\r\n      event.off(`${type}Over`, over);\r\n      event.on(`${type}Move`, move);\r\n      event.off(`${type}Stop`, stop);\r\n    };\r\n  }, [droppableId, event, isDropDisabled, parents, type]);\r\n\r\n  return (\r\n    <MyDragAndDropContext.Provider\r\n      value={{ ...context, parents, droppableId, isDropDisabled, type }}\r\n    >\r\n      {children(provided, {})}\r\n    </MyDragAndDropContext.Provider>\r\n  );\r\n};\r\n\r\nexport const Draggable = ({ draggableId, index, children, minHeight = 0 }) => {\r\n  const [style, setStyle] = useState(null);\r\n\r\n  const innerRef = useRef();\r\n  const { event, droppableId, isDropDisabled, type } = useContext(\r\n    MyDragAndDropContext\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (isDropDisabled) return;\r\n\r\n    let breakpoint;\r\n    let currentStyle = null;\r\n\r\n    let offsetStyleSet = null;\r\n    const start = (props) => {\r\n      currentStyle = null;\r\n\r\n      if (props.draggableId === draggableId) return;\r\n\r\n      const size = innerRef.current.getBoundingClientRect();\r\n      breakpoint = size.top + size.height / 2;\r\n\r\n      offsetStyleSet = {\r\n        ...offsetStyle,\r\n        transform: `translate(0px, ${props.height}px)`,\r\n      };\r\n      setStyle({\r\n        transform:\r\n          props.y > breakpoint\r\n            ? offsetStyle\r\n            : `translate(0px, ${props.height}px)`,\r\n      });\r\n      currentStyle = true;\r\n    };\r\n\r\n    const move = (pos) => {\r\n      if (!currentStyle) return;\r\n      const size = innerRef.current.getBoundingClientRect();\r\n      breakpoint = size.top + size.height / 2;\r\n\r\n      if (pos.y < breakpoint && droppableId === pos.over) {\r\n        if (currentStyle === offsetStyleSet) return;\r\n        currentStyle = offsetStyleSet;\r\n      } else {\r\n        if (currentStyle === offsetStyle) return;\r\n        currentStyle = offsetStyle;\r\n      }\r\n      setStyle(currentStyle);\r\n    };\r\n\r\n    event.on(`${type}Start`, start);\r\n    event.on(`${type}Over`, move);\r\n    return () => {\r\n      event.off(`${type}Start`, start);\r\n      event.off(`${type}Over`, move);\r\n    };\r\n  }, [droppableId, draggableId, event, isDropDisabled, type]);\r\n\r\n  useEffect(() => {\r\n    if (isDropDisabled) return;\r\n\r\n    const stop = (result) => {\r\n      setStyle(null);\r\n      const { destination } = result;\r\n\r\n      const size = innerRef.current.getBoundingClientRect();\r\n      const breakpoint = size.top + size.height / 2;\r\n\r\n      if (destination.droppableId !== droppableId) return;\r\n      if (destination.index > index) return;\r\n      if (result.pos.y < breakpoint) return;\r\n\r\n      return {\r\n        ...result,\r\n        destination: { ...result.destination, index: index + 1 },\r\n      };\r\n    };\r\n\r\n    event.on(`${type}Stop`, stop);\r\n    return () => {\r\n      event.off(`${type}Stop`, stop);\r\n    };\r\n  }, [droppableId, event, index, isDropDisabled, type]);\r\n\r\n  const setStyles = (element, styles) =>\r\n    Object.entries(styles).forEach(([prop, val]) => {\r\n      element.style[prop] = val;\r\n    });\r\n\r\n  const onMouseDown = (e) => {\r\n    const baseProps = JSON.parse(\r\n      JSON.stringify(innerRef.current.getBoundingClientRect())\r\n    );\r\n\r\n    const style = {\r\n      ...styleDraggableItem,\r\n      ...baseProps,\r\n    };\r\n    minHeight = parseInt(minHeight, 10);\r\n    style.height = style.height < minHeight ? minHeight : style.height;\r\n\r\n    const movingState = {\r\n      x: e.clientX - style.left,\r\n      y: e.clientY - style.top,\r\n      height: style.height,\r\n      draggableId,\r\n      droppableId,\r\n      index,\r\n      type,\r\n    };\r\n    let pos = false;\r\n    const clonedElement = innerRef.current.cloneNode(true);\r\n\r\n    const mouseMove = (e) => {\r\n      if (!pos) {\r\n        document.body.appendChild(clonedElement);\r\n        setStyles(clonedElement, style);\r\n        clonedElement.style.width = `${baseProps.width}px`;\r\n        event.event(`${type}Start`, movingState);\r\n      }\r\n\r\n      pos = {\r\n        x: e.clientX - movingState.x,\r\n        y: e.clientY - movingState.y,\r\n        height: style.height,\r\n        parents: [],\r\n      };\r\n\r\n      setStyles(clonedElement, {\r\n        top: `${pos.y}px`,\r\n        left: `${pos.x}px`,\r\n        transform: \"scale(1.01,1.15)\",\r\n      });\r\n      setStyle({ display: \"none\" });\r\n      event\r\n        .event(`${type}Move`, pos)\r\n        .then((query) => event.event(`${type}Over`, query));\r\n    };\r\n\r\n    const mouseUp = (e) => {\r\n      window.removeEventListener(\"mousemove\", mouseMove);\r\n      window.removeEventListener(\"mouseup\", mouseUp);\r\n\r\n      if (!pos) return;\r\n\r\n      document.body.removeChild(clonedElement);\r\n\r\n      event\r\n        .event(`${type}Stop`, {\r\n          combine: null,\r\n          destination: { index: 0, parents: [] },\r\n          draggableId,\r\n          mode: \"FLUID\",\r\n          reason: \"DROP\",\r\n          source: { index, droppableId },\r\n          type,\r\n          pos,\r\n        })\r\n        .then((data) =>\r\n          event.event(\"onDragEnd\", {\r\n            ...data,\r\n            pos: undefined,\r\n          })\r\n        );\r\n\r\n      setStyle(null);\r\n      pos = false;\r\n    };\r\n\r\n    window.addEventListener(\"mouseup\", mouseUp);\r\n    window.addEventListener(\"mousemove\", mouseMove);\r\n  };\r\n\r\n  const onDragStart = (e) => {\r\n    e.preventDefault();\r\n  };\r\n\r\n  if (style && style.display === \"none\") return null;\r\n\r\n  const provided = {\r\n    draggableProps: { style },\r\n    dragHandleProps: {\r\n      onMouseDown,\r\n      onDragStart,\r\n      draggable: false,\r\n      role: \"button\",\r\n      style: {},\r\n    },\r\n    innerRef,\r\n  };\r\n  return children(provided, {});\r\n};\r\n\r\nexport default () => {};\r\n","import React, { useEffect, useRef } from \"react\";\r\nimport app from \"nystem\";\r\nimport { DragDropContext } from \"./myDnd\";\r\n\r\nconst DragAndDropContext = ({ children }) => {\r\n  const modifiers = useRef({});\r\n  useEffect(() => {\r\n    const checkModifiers = (e) => {\r\n      const { shiftKey, metaKey, ctrlKey, altKey } = e;\r\n      modifiers.current = { shiftKey, metaKey, ctrlKey, altKey };\r\n    };\r\n    document.body.addEventListener(\"mouseup\", checkModifiers);\r\n    return () => {\r\n      document.body.removeEventListener(\"mouseup\", checkModifiers);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <DragDropContext\r\n      onDragEnd={(e) => {\r\n        app().event(\"dragAndDropOnDragEnd\", { ...modifiers.current, ...e });\r\n      }}\r\n    >\r\n      {children}\r\n    </DragDropContext>\r\n  );\r\n};\r\nexport default DragAndDropContext;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { ContentTypeRender } from \"nystem-components\";\r\nimport app from \"nystem\";\r\nimport { Droppable, Draggable } from \"./myDnd\";\r\n\r\nconst DragAndDropFixedVal = ({ value, model, path }) => {\r\n  const [droppableId] = useState(app().uuid());\r\n\r\n  useEffect(() => {\r\n    if (!value) return;\r\n\r\n    const onDragEndAddValue = (result) => {\r\n      if (result.source.droppableId !== droppableId) return;\r\n      result.source.value = JSON.parse(model.setValue);\r\n      result.source.uuid = droppableId;\r\n    };\r\n\r\n    app().on(\"dragAndDropOnDragEnd\", 100, onDragEndAddValue);\r\n    return () => {\r\n      app().off(\"dragAndDropOnDragEnd\", onDragEndAddValue);\r\n    };\r\n  }, [value, droppableId, model.setValue]);\r\n\r\n  const { item } = model;\r\n\r\n  return (\r\n    <Droppable\r\n      droppableId={droppableId}\r\n      type={model.valueType}\r\n      isDropDisabled={true}\r\n    >\r\n      {(provided, snapshot) => {\r\n        // console.log(provided);\r\n        return (\r\n          <div {...provided.droppableProps} ref={provided.innerRef}>\r\n            <Draggable\r\n              key={droppableId}\r\n              draggableId={droppableId}\r\n              index={0}\r\n              minHeight={model.minHeight}\r\n            >\r\n              {(provided, snapshot) => {\r\n                // console.log(provided.draggableProps.style);\r\n                return (\r\n                  <div\r\n                    ref={provided.innerRef}\r\n                    {...provided.draggableProps}\r\n                    {...provided.dragHandleProps}\r\n                    style={provided.draggableProps.style}\r\n                  >\r\n                    <ContentTypeRender path={path} items={item} />\r\n                  </div>\r\n                );\r\n              }}\r\n            </Draggable>\r\n            {provided.placeholder}\r\n          </div>\r\n        );\r\n      }}\r\n    </Droppable>\r\n  );\r\n};\r\n\r\nexport default DragAndDropFixedVal;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { ContentTypeRender, Wrapper } from \"nystem-components\";\r\nimport app from \"nystem\";\r\nimport { Droppable, Draggable } from \"./myDnd\";\r\n\r\nexport const DragAndDropListContext = React.createContext();\r\n\r\nconst DragAndDropList = ({ value = [], model, path, view }) => {\r\n  const [droppableId] = useState(app().uuid());\r\n\r\n  const ids = useRef([]);\r\n  const getId = (pos) => {\r\n    if (!ids.current[pos]) ids.current[pos] = app().uuid();\r\n    return ids.current[pos];\r\n  };\r\n\r\n  const { valueType } = model;\r\n  let { field } = model;\r\n  if (field instanceof Array) [field] = field;\r\n  if (!field) field = { id: \"item\" };\r\n  const valuePath = path ? `${path}.${field.id}` : field.id;\r\n\r\n  value = view.getValue(valuePath);\r\n  value = value || [];\r\n\r\n  useEffect(() => {\r\n    const onDragEnd = (result) => {\r\n      const value = view.getValue(valuePath) || [];\r\n\r\n      let updated = false;\r\n\r\n      if (!result.ctrlKey && result.source.droppableId === droppableId) {\r\n        value.splice(result.source.index, 1);\r\n        ids.current.splice(result.source.index, 1);\r\n        updated = true;\r\n      }\r\n\r\n      if (\r\n        result.destination &&\r\n        result.destination.droppableId === droppableId\r\n      ) {\r\n        value.splice(result.destination.index, 0, result.source.value);\r\n        ids.current.splice(\r\n          result.destination.index,\r\n          0,\r\n          result.source.droppableId === droppableId\r\n            ? result.source.uuid\r\n            : app().uuid()\r\n        );\r\n        updated = true;\r\n      }\r\n\r\n      if (updated) view.setValue({ path: valuePath, value });\r\n    };\r\n\r\n    const onDragEndAddValue = (result) => {\r\n      if (result.source.droppableId !== droppableId) return;\r\n      const value = view.getValue(valuePath);\r\n      result.source.value = value[result.source.index];\r\n      result.source.uuid = result.ctrlKey\r\n        ? app().uuid()\r\n        : ids.current[result.source.index];\r\n    };\r\n\r\n    app().on(\"dragAndDropOnDragEnd\", 100, onDragEndAddValue);\r\n    app().on(\"dragAndDropOnDragEnd\", onDragEnd);\r\n    return () => {\r\n      app().off(\"dragAndDropOnDragEnd\", onDragEndAddValue);\r\n      app().off(\"dragAndDropOnDragEnd\", onDragEnd);\r\n    };\r\n  }, [droppableId, valuePath, view]);\r\n\r\n  if (!(value instanceof Array)) return null;\r\n\r\n  const { className = [] } = model;\r\n\r\n  return (\r\n    <Droppable droppableId={droppableId} type={valueType}>\r\n      {(provided, snapshot) => (\r\n        <Wrapper\r\n          className={[\r\n            \"min-h-2-5 px-2 py-1 border shadow rounded\",\r\n            ...className,\r\n          ]}\r\n          {...provided.droppableProps}\r\n          ref={provided.innerRef}\r\n        >\r\n          {value.map((item, index) => (\r\n            <Draggable\r\n              key={getId(index)}\r\n              draggableId={getId(index)}\r\n              index={index}\r\n              minHeight={model.minHeight}\r\n            >\r\n              {(provided, snapshot) => (\r\n                <div\r\n                  ref={provided.innerRef}\r\n                  {...provided.draggableProps}\r\n                  style={provided.draggableProps.style}\r\n                >\r\n                  <DragAndDropListContext.Provider\r\n                    value={provided.dragHandleProps}\r\n                  >\r\n                    <ContentTypeRender\r\n                      path={path}\r\n                      items={\r\n                        app().replaceInModel({\r\n                          model,\r\n                          viewFormat: view.viewFormat,\r\n                          fn: ({ model: item }) =>\r\n                            item.id === field.id\r\n                              ? { ...item, id: `${item.id}.${index}` }\r\n                              : item,\r\n                        }).item\r\n                      }\r\n                    />\r\n                  </DragAndDropListContext.Provider>\r\n                </div>\r\n              )}\r\n            </Draggable>\r\n          ))}\r\n          {provided.placeholder}\r\n        </Wrapper>\r\n      )}\r\n    </Droppable>\r\n  );\r\n};\r\nexport default DragAndDropList;\r\n","import React, { useContext } from \"react\";\r\nimport { ContentTypeRender, Icon } from \"nystem-components\";\r\nimport { DragAndDropListContext } from \"./list\";\r\n\r\nconst DragAndDropHandle = ({ model, path }) => {\r\n  const { item, className = [] } = model;\r\n  const dragHandleProps = useContext(DragAndDropListContext);\r\n\r\n  return (\r\n    <div className={className.join(\" \")} {...dragHandleProps}>\r\n      {model.icon && <Icon icon=\"move\" className=\"w-8 h-8 py-2\" />}\r\n      <ContentTypeRender path={path} items={item} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DragAndDropHandle;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport app from \"nystem\";\r\nimport { Droppable, Draggable } from \"./myDnd\";\r\n\r\nconst DragAndDropSortable = ({ Component, items = [], setValue }) => {\r\n  const [droppableId] = useState(app().uuid());\r\n  useEffect(() => {\r\n    if (!items.length) return;\r\n\r\n    const onDragEnd = (result) => {\r\n      const value = items.map((item) => item.id);\r\n      let updated = false;\r\n\r\n      if (result.source.droppableId === droppableId) {\r\n        value.splice(result.source.index, 1);\r\n        updated = true;\r\n      }\r\n\r\n      if (\r\n        result.destination &&\r\n        result.destination.droppableId === droppableId\r\n      ) {\r\n        value.splice(result.destination.index, 0, result.draggableId);\r\n        updated = true;\r\n      }\r\n\r\n      if (updated) setValue(value);\r\n    };\r\n\r\n    app().on(\"dragAndDropOnDragEnd\", onDragEnd);\r\n    return () => {\r\n      app().off(\"dragAndDropOnDragEnd\", onDragEnd);\r\n    };\r\n  }, [items, setValue, droppableId]);\r\n\r\n  if (!items.length) return null;\r\n\r\n  return (\r\n    <Droppable droppableId={droppableId} type={items[0].contentType}>\r\n      {(provided, snapshot) => (\r\n        <div {...provided.droppableProps} ref={provided.innerRef}>\r\n          {items.map((item, index) => (\r\n            <Draggable key={item.id} draggableId={item.id} index={index}>\r\n              {(provided, snapshot) => (\r\n                <div\r\n                  ref={provided.innerRef}\r\n                  {...provided.draggableProps}\r\n                  {...provided.dragHandleProps}\r\n                  style={provided.draggableProps.style}\r\n                >\r\n                  {<Component {...item} />}\r\n                </div>\r\n              )}\r\n            </Draggable>\r\n          ))}\r\n          {provided.placeholder}\r\n        </div>\r\n      )}\r\n    </Droppable>\r\n  );\r\n};\r\n\r\nexport default DragAndDropSortable;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { ContentTypeRender } from \"nystem-components\";\r\nimport app from \"nystem\";\r\nimport { Droppable, Draggable } from \"./myDnd\";\r\n\r\nconst DragAndDropView = ({ value, model, path }) => {\r\n  const [droppableId] = useState(app().uuid());\r\n\r\n  useEffect(() => {\r\n    if (!value) return;\r\n\r\n    const onDragEndAddValue = (result) => {\r\n      if (result.source.droppableId !== droppableId) return;\r\n      result.source.value = value;\r\n      result.source.uuid = droppableId;\r\n    };\r\n\r\n    app().on(\"dragAndDropOnDragEnd\", 100, onDragEndAddValue);\r\n    return () => {\r\n      app().off(\"dragAndDropOnDragEnd\", onDragEndAddValue);\r\n    };\r\n  }, [value, droppableId]);\r\n\r\n  if (!model) return null;\r\n  const { item } = model;\r\n  return (\r\n    <Droppable\r\n      droppableId={droppableId}\r\n      type={model.valueType}\r\n      isDropDisabled={true}\r\n    >\r\n      {(provided, snapshot) => {\r\n        // console.log(provided);\r\n        return (\r\n          <div {...provided.droppableProps} ref={provided.innerRef}>\r\n            <Draggable\r\n              key={droppableId}\r\n              draggableId={droppableId}\r\n              index={0}\r\n              minHeight={model.minHeight}\r\n            >\r\n              {(provided, snapshot) => {\r\n                // console.log(provided.draggableProps.style);\r\n                return (\r\n                  <div\r\n                    ref={provided.innerRef}\r\n                    {...provided.draggableProps}\r\n                    {...provided.dragHandleProps}\r\n                    style={provided.draggableProps.style}\r\n                  >\r\n                    <ContentTypeRender path={path} items={item} />\r\n                  </div>\r\n                );\r\n              }}\r\n            </Draggable>\r\n            {provided.placeholder}\r\n          </div>\r\n        );\r\n      }}\r\n    </Droppable>\r\n  );\r\n};\r\n\r\nexport default DragAndDropView;\r\n","import React from \"react\";\nimport { TextExposedField } from \"nystem-components\";\nlet EmailExposedField = props => <TextExposedField {...props} />;\nexport default EmailExposedField;\n","export default ({ value, model }) => {\r\n  if (model.mandatory && !value) return model.text_mandatory;\r\n  if (!value) return false;\r\n  if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,6}$/im.test(value))\r\n    return \"Incorrect e-mail adress\";\r\n  return false;\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { InputWrapper, Input, UseValidator } from \"nystem-components\";\r\nimport app from \"nystem\";\r\nimport validate from \"./validate\";\r\n\r\nconst EmailInput = ({ model, view, focus, setValue, value, className }) => {\r\n  const [error, setValidated] = UseValidator({ view, validate, value, model });\r\n  const { disabled, length, text, clearButton, classNameInput } = model;\r\n  const [id] = useState(app().uuid);\r\n\r\n  const componentClassName = [\r\n    className,\r\n    ...(model.className || []),\r\n    \"textInput\",\r\n  ];\r\n  if (clearButton) componentClassName.push(\"flex\");\r\n\r\n  return (\r\n    <InputWrapper\r\n      id={id}\r\n      model={model}\r\n      error={error}\r\n      className={componentClassName}\r\n    >\r\n      <Input\r\n        id={id}\r\n        placeholder={app().t(text)}\r\n        className={classNameInput}\r\n        value={value || \"\"}\r\n        maxLength={length}\r\n        onChange={(value) => setValue(value.toLowerCase())}\r\n        disabled={disabled}\r\n        type=\"text\"\r\n        focus={focus}\r\n        onBlur={() => setValidated(true)}\r\n      />\r\n    </InputWrapper>\r\n  );\r\n};\r\nexport default EmailInput;\r\n","import React, { useState } from \"react\";\r\nimport { InputWrapper, Input } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst EmailInputNoValidation = ({ model, focus, setValue, value, className }) => {\r\n  const { disabled, length, text, clearButton, classNameInput } = model;\r\n  const [id] = useState(app().uuid);\r\n\r\n  const componentClassName = [\r\n    className,\r\n    ...(model.className || []),\r\n    \"textInput\",\r\n  ];\r\n  if (clearButton) componentClassName.push(\"flex\");\r\n\r\n  return (\r\n    <InputWrapper id={id} model={model} className={componentClassName}>\r\n      <Input\r\n        id={id}\r\n        placeholder={app().t(text)}\r\n        className={classNameInput}\r\n        value={value || \"\"}\r\n        maxLength={length}\r\n        onChange={(value) => setValue(value)}\r\n        disabled={disabled}\r\n        type=\"text\"\r\n        focus={focus}\r\n      />\r\n    </InputWrapper>\r\n  );\r\n};\r\nexport default EmailInputNoValidation;\r\n","import React from \"react\";\r\nimport { TextLink } from \"nystem-components\";\r\n\r\nconst EmailLink = props => <TextLink {...props} />;\r\nexport default EmailLink;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst EmailMailto = ({ model, value, path }) => {\r\n  const { className, item } = model;\r\n\r\n  return (\r\n    <Wrapper renderAs=\"a\" href={`mailto:${value}`} className={className}>\r\n      <ContentTypeRender items={item} />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default EmailMailto;\r\n","import React from \"react\";\nimport { TextSortBy } from \"nystem-components\";\nlet EmailSortBy = props => <TextSortBy {...props} />;\nexport default EmailSortBy;\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { InputWrapper } from \"nystem-components\";\r\nclass EmailVerifiedInput extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    const state = {\r\n      value: props.value\r\n    };\r\n    if (props.add && this.model.default)\r\n      this.props.setValue(this.model.id, this.model.default);\r\n    this.errormsg = this.model.text_mandatory\r\n      ? this.model.text_mandatory\r\n      : true;\r\n    this.validated = false;\r\n    this.state = state;\r\n  }\r\n  handleChange() {\r\n    this.validated = true;\r\n    const value = this.refs.input.value;\r\n    this.setState({\r\n      value: value,\r\n      error: this.model.mandatory && !value ? this.errormsg : false\r\n    });\r\n    this.props.setValue(this.model.id, value);\r\n  }\r\n  valid() {\r\n    this.validated = true;\r\n    if (this.model.mandatory && !this.state.value) {\r\n      this.setState({\r\n        error: this.errormsg\r\n      });\r\n      return false;\r\n    }\r\n    if (this.test(this.state.value)) {\r\n      this.setState({\r\n        error: \"Incorrect e-mail adress\"\r\n      });\r\n      return false;\r\n    }\r\n    if (this.state.error) delete this.state.error;\r\n    return true;\r\n  }\r\n  test(value) {\r\n    return (\r\n      (this.validated && this.model.mandatory && !value) ||\r\n      !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,6}$/im.test(value)\r\n    );\r\n  }\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (this.props.value !== nextProps.value) {\r\n      const error = this.validated && this.model.mandatory && !nextProps.value;\r\n      this.setState({\r\n        value: nextProps.value,\r\n        error: error ? this.errormsg : false\r\n      });\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    if (this.props.focus) this.refs.input.focus();\r\n  }\r\n  render() {\r\n    return (\r\n      <InputWrapper model={this.model} error={this.state.error}>\r\n        <input\r\n          ref=\"input\"\r\n          placeholder={app().t(this.model.text)}\r\n          className=\"form-control\"\r\n          value={this.state.value}\r\n          maxLength={this.model.length}\r\n          onChange={this.handleChange}\r\n          type=\"text\"\r\n        />\r\n      </InputWrapper>\r\n    );\r\n  }\r\n}\r\nexport default EmailVerifiedInput;\r\n","import React from \"react\";\r\nimport { TextView } from \"nystem-components\";\r\n\r\nconst EmailView = props => <TextView {...props} />;\r\nexport default EmailView;\r\n","import React from \"react\";\r\nimport * as components from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nclass FlatgroupInput extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    if (!this.model.add2id) this.model.add2id = \"\";\r\n    this.state = {\r\n      value: props.value || {},\r\n    };\r\n  }\r\n  setValue(id, value) {\r\n    const val = this.state.value;\r\n    val[this.model.add2id + id] = value;\r\n    if (this.props.setValue) this.props.setValue(this.model.add2id + id, val);\r\n  }\r\n  valid() {\r\n    let valid = true;\r\n    for (let i = 0; i < this.model.item.length; i++)\r\n      if (!this.refs[`component${i}`].valid()) valid = false;\r\n    return valid;\r\n  }\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (this.props.value !== nextProps.value)\r\n      this.setState({ value: nextProps.value });\r\n  }\r\n  render() {\r\n    const self = this;\r\n    let groupVal = false;\r\n    function getGroupVal() {\r\n      if (!groupVal) {\r\n        if (!self.model.add2id) return self.state.value;\r\n        groupVal = {};\r\n        for (const item of self.state.value) {\r\n          const startWith = new RegExp(`^${self.model.add2id}`, \"i\");\r\n          if (startWith.test(item))\r\n            groupVal[item.replace(startWith, \"\")] = self.state.value[item];\r\n        }\r\n      }\r\n      return groupVal;\r\n    }\r\n    const createItem = function (item, index) {\r\n      const value = item.id\r\n        ? self.state.value[self.model.add2id + item.id]\r\n        : getGroupVal();\r\n      return React.createElement(\r\n        components[`${app().capFirst(item.type)}Input`],\r\n        {\r\n          ref: `component${index}`,\r\n          model: item,\r\n          value: value,\r\n          setValue: self.setValue,\r\n          validated: self.props.validated,\r\n          add: self.props.add,\r\n        }\r\n      );\r\n    };\r\n    return (\r\n      <div>\r\n        <h3>{app().t(this.model.text)}</h3>\r\n        <div>{this.model.item.map(createItem)}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default FlatgroupInput;\r\n","import React from \"react\";\r\nimport {\r\n  InputWrapper,\r\n  FloatInput,\r\n  UseSearch,\r\n  RouterUseQueryStore,\r\n} from \"nystem-components\";\r\n\r\nconst FloatExposedField = ({ model, view }) => {\r\n  const [from, setFrom] = RouterUseQueryStore(model.saveIdFrom, \"float\");\r\n  const [to, setTo] = RouterUseQueryStore(model.saveIdTo, \"float\");\r\n\r\n  UseSearch({ view, id: model.id, value: from && `>${from}` });\r\n  UseSearch({ view, id: model.id, value: to && `<${to}` });\r\n\r\n  const base = {\r\n    clearButton: true,\r\n    classNameInput: [\"w-16\"],\r\n    nolabel: true,\r\n    id: \"1\",\r\n  };\r\n  const modelFrom = { ...base, text: \"From\" };\r\n  const modelTo = { ...base, text: \"To\" };\r\n\r\n  return (\r\n    <InputWrapper model={model}>\r\n      <div className=\"flex items-center\">\r\n        <FloatInput model={modelFrom} value={from} setValue={setFrom} />-\r\n        <FloatInput model={modelTo} value={to} setValue={setTo} />\r\n      </div>\r\n    </InputWrapper>\r\n  );\r\n};\r\n\r\nexport default FloatExposedField;\r\n","export default ({ value, model }) =>\r\n  model.mandatory && !value && model.text_mandatory;\r\n","import React from \"react\";\r\nimport { InputWrapper, Input, UseValidator } from \"nystem-components\";\r\nimport app from \"nystem\";\r\nimport validate from \"./validate\";\r\n\r\nconst FloatInput = ({ model, view, focus, setValue, value, className }) => {\r\n  const [error, setValidated] = UseValidator({ view, validate, value, model });\r\n  const { disabled, length, text, clearButton } = model;\r\n\r\n  const componentClassName = [\r\n    className,\r\n    ...(model.className || []),\r\n    \"textInput\",\r\n  ];\r\n  if (clearButton) componentClassName.push(\"flex\");\r\n\r\n  const inputClassName = [\"textInputDefault\"];\r\n  if (error) inputClassName.push(\"textInputError\");\r\n\r\n  return (\r\n    <InputWrapper\r\n      model={{ ...model, classNameInput: \"flex\", classNameLabel: \" \" }}\r\n      error={error}\r\n      className={componentClassName}\r\n    >\r\n      <Input\r\n        placeholder={app().t(text)}\r\n        className={model.classNameInput}\r\n        value={!value && value !== 0 ? \"\" : value}\r\n        maxLength={length}\r\n        onChange={(value) => {\r\n          const val = value.replace(/[^0-9.-]/gim, \"\");\r\n          setValue(val ? parseFloat(val) : undefined);\r\n        }}\r\n        disabled={disabled}\r\n        type=\"text\"\r\n        focus={focus}\r\n        onBlur={() => setValidated(true)}\r\n        selectAllOnFocus={model.selectAllOnFocus}\r\n      />\r\n    </InputWrapper>\r\n  );\r\n};\r\nexport default FloatInput;\r\n","import React from \"react\";\nimport { TextLink } from \"nystem-components\";\nlet IntLink = props => <TextLink {...props} />;\nexport default IntLink;\n","import React from \"react\";\nimport { TextSortBy } from \"nystem-components\";\nlet IntSortBy = props => <TextSortBy {...props} />;\nexport default IntSortBy;\n","import React from \"react\";\r\nimport { TextView } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nfunction outputFloat({ value, model }) {\r\n  if (!value || !model || !model.tofixed) return value;\r\n  value = parseFloat(value).toFixed(model.tofixed);\r\n  return app().settings.lang === \"sv\" ? value.replace(\".\", \",\") : value;\r\n}\r\n\r\nlet FloatView = props => <TextView {...props} value={outputFloat(props)} />;\r\nexport default FloatView;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Panel, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst GroupInput = ({ model, path }) => {\r\n  const { text, item } = model;\r\n  return (\r\n    <Panel\r\n      type=\"default\"\r\n      expanded={true}\r\n      header={app().t(text)}\r\n      body={<ContentTypeRender path={path} items={item} />}\r\n    />\r\n  );\r\n};\r\nexport default GroupInput;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst GroupView = ({ model, path }) => (\r\n  <Wrapper className={model.className}>\r\n    <ContentTypeRender items={model.item} path={path} />\r\n  </Wrapper>\r\n);\r\nexport default GroupView;\r\n","import React from \"react\";\r\nimport { InputWrapper, IntInput } from \"nystem-components\";\r\n\r\nclass IntExposedField extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    props.view.searchProp.onUpdate(this.update);\r\n    this.classNameBase = this.model.className ? this.model.className : [];\r\n    this.updateCounter = 0;\r\n  }\r\n  update(data) {\r\n    if (this.id) {\r\n      const state = {};\r\n      const modelId = this.model.id;\r\n\r\n      state.from = this.props.view.searchProp.filter.get(`${this.id}_from`);\r\n      if (state.from !== \"undefined\" && state.from[modelId])\r\n        state.from = state.from[modelId].substring(1);\r\n      else delete state.from;\r\n\r\n      state.to = this.props.view.searchProp.filter.get(`${this.id}_to`);\r\n      if (state.to !== \"undefined\" && state.to[modelId])\r\n        state.to = state.to[modelId].substring(1);\r\n      else delete state.to;\r\n      if (typeof state.from !== \"undefined\" || typeof state.to !== \"undefined\")\r\n        this.setState(state);\r\n    }\r\n    const self = this;\r\n    if (this.updateCounter > 0) this.updateCounter--;\r\n    if (this.state.className === \"\" || this.updateCounter > 0) return;\r\n    this.setState({\r\n      className: \"has-success\",\r\n    });\r\n    this.delayTimer = setTimeout(() => {\r\n      if (self.isMounted())\r\n        self.setState({\r\n          className: \"\",\r\n        });\r\n    }, 1000);\r\n  }\r\n  search(id, value) {\r\n    if (value === \"\") value = undefined;\r\n    const self = this;\r\n    clearTimeout(this.delayTimer);\r\n    const state = {\r\n      className: \"has-warning\",\r\n    };\r\n    state[id] = value;\r\n    this.setState(state);\r\n    this.delayTimer = setTimeout(() => {\r\n      self.updateCounter++;\r\n      if (value)\r\n        if (id === \"to\") value = `<${value}`;\r\n        else value = `>${value}`;\r\n\r\n      self.props.view.searchProp.filter.add(\r\n        self.model.id,\r\n        value,\r\n        `${self.id}_${id}`\r\n      );\r\n    }, 200);\r\n  }\r\n  componentDidMount() {}\r\n  componentWillUnmount() {\r\n    this.props.view.searchProp.offUpdate(this.update);\r\n    clearTimeout(this.delayTimer);\r\n  }\r\n  render() {\r\n    /* const model = this.props.model;\r\n    const className = model.className && !this.props.wrapper\r\n      ? model.className.join(\" \")\r\n      : \"\"; */\r\n    const modelFrom = {\r\n      id: \"from\",\r\n      placeholder: \"From\",\r\n      clearButton: true,\r\n    };\r\n    const modelTo = {\r\n      id: \"to\",\r\n      placeholder: \"To\",\r\n      clearButton: true,\r\n    };\r\n    const style = {\r\n      width: \"100px\",\r\n    };\r\n    return (\r\n      <InputWrapper model={this.model} error={this.state.error}>\r\n        <div className=\"form-inline\">\r\n          <IntInput\r\n            style={style}\r\n            model={modelFrom}\r\n            value={this.state.from}\r\n            setValue={this.search}\r\n          />\r\n          {\" - \"}\r\n          <IntInput\r\n            style={style}\r\n            model={modelTo}\r\n            value={this.state.to}\r\n            setValue={this.search}\r\n          />\r\n        </div>\r\n      </InputWrapper>\r\n    );\r\n  }\r\n}\r\nexport default IntExposedField;\r\n","export default ({ value, model }) =>\r\n  model.mandatory && !value && model.text_mandatory;\r\n","import React, { useState } from \"react\";\r\nimport { InputWrapper, Input, UseValidator } from \"nystem-components\";\r\nimport app from \"nystem\";\r\nimport validate from \"./validate\";\r\n\r\nconst IntInput = ({ model, view, focus, setValue, value, className }) => {\r\n  const [error, setValidated] = UseValidator({ view, validate, value, model });\r\n  const { disabled, length, text, clearButton } = model;\r\n  const [id] = useState(app().uuid);\r\n\r\n  const componentClassName = [\r\n    className,\r\n    ...(model.className || []),\r\n    \"textInput\",\r\n  ];\r\n  if (clearButton) componentClassName.push(\"flex\");\r\n\r\n  const inputClassName = [\"textInputDefault\"];\r\n  if (error) inputClassName.push(\"textInputError\");\r\n\r\n  return (\r\n    <InputWrapper\r\n      id={id}\r\n      model={{ ...model, classNameInput: \"flex\", classNameLabel: \" \" }}\r\n      error={error}\r\n      className={componentClassName}\r\n    >\r\n      <Input\r\n        id={id}\r\n        placeholder={app().t(text)}\r\n        className={model.classNameInput}\r\n        value={!value && value !== 0 ? \"\" : value}\r\n        maxLength={length}\r\n        onChange={(value) => {\r\n          const intVal = value.replace(/[^0-9-]/gim, \"\");\r\n          setValue(\r\n            intVal === \"-\" ? intVal : intVal ? parseInt(intVal, 10) : undefined\r\n          );\r\n        }}\r\n        disabled={disabled}\r\n        type=\"text\"\r\n        focus={focus}\r\n        onBlur={() => setValidated(true)}\r\n        selectAllOnFocus={model.selectAllOnFocus}\r\n      />\r\n    </InputWrapper>\r\n  );\r\n};\r\nexport default IntInput;\r\n","import React from \"react\";\nimport { TextLink } from \"nystem-components\";\nlet IntLink = props => <TextLink {...props} />;\nexport default IntLink;\n","import React from \"react\";\r\nimport { TextSortBy } from \"nystem-components\";\r\n\r\nconst IntSortBy = props => <TextSortBy {...props} />;\r\nexport default IntSortBy;\r\n","import React from \"react\";\r\nimport { TextView } from \"nystem-components\";\r\n\r\nconst IntView = ({ value, ...props }) => (\r\n  <TextView {...props} value={value === 0 ? \"0\" : value} />\r\n);\r\nexport default IntView;\r\n","import React from \"react\";\r\nimport { InputWrapper, Input } from \"nystem-components\";\r\n\r\nconst MatrixInput = ({ value, model, setValue }) => {\r\n  const { limit = 0, rowLabel } = model;\r\n\r\n  value = value || [];\r\n  if (!limit || value.length < limit) value = [...value, []];\r\n\r\n  const handleChange = (atRow, index, newVal) => {\r\n    const len = value.length;\r\n    const val = value.slice(0, atRow === len - 1 ? len : len - 1);\r\n\r\n    val[atRow][index] = newVal;\r\n\r\n    if (val[len - 2] && !val[len - 2][0]) setValue(val.slice(0, len - 2));\r\n    else setValue(val);\r\n  };\r\n\r\n  const mapHeader = (item, index) => <th key={index}>{item}</th>;\r\n\r\n  const mapField = (label, atRow, index) => {\r\n    const val = value[atRow][index] ? value[atRow][index] : \"\";\r\n    return (\r\n      <td key={index}>\r\n        <Input\r\n          placeholder={label}\r\n          className=\"form-control\"\r\n          value={val}\r\n          maxLength={model.length}\r\n          onChange={(val) => handleChange(atRow, index, val)}\r\n          type=\"text\"\r\n        />\r\n      </td>\r\n    );\r\n  };\r\n\r\n  const mapRow = (item, rowIndex) => (\r\n    <tr key={rowIndex}>\r\n      {model.rowLabel.map((label, index) => mapField(label, rowIndex, index))}\r\n    </tr>\r\n  );\r\n\r\n  return (\r\n    <InputWrapper model={model}>\r\n      <table>\r\n        <thead>\r\n          <tr>{rowLabel.map(mapHeader)}</tr>\r\n        </thead>\r\n        <tbody>{value.map(mapRow)}</tbody>\r\n      </table>\r\n    </InputWrapper>\r\n  );\r\n};\r\nexport default MatrixInput;\r\n","import React from \"react\";\r\n\r\nclass MatrixInputlist extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    let val = props.value || [];\r\n    if (!(val instanceof Array)) val = [val];\r\n    if (val.length > props.limit) this.state = { value: val.concat([]) };\r\n    else this.state = { value: val.concat([\"\"]) };\r\n  }\r\n  handleChange() {\r\n    const val = [];\r\n    for (let i = 0; i < this.state.value.length; i++) {\r\n      const oneVal = this.refs[`input${i}`].value;\r\n      if (oneVal) val.push(oneVal);\r\n    }\r\n    if (this.props.setValue) this.props.setValue(val);\r\n\r\n    this.setState({\r\n      value: val.length > this.props.limit ? val.concat([\"\"]) : val.concat([])\r\n    });\r\n  }\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (this.props.value !== nextProps.value) {\r\n      let val = nextProps.value;\r\n      if (typeof nextProps.value === \"string\") val = [nextProps.value];\r\n      this.setState({ value: val.concat([\"\"]) });\r\n    }\r\n  }\r\n  render() {\r\n    const self = this;\r\n    const inputKeyField = function(item, index) {\r\n      return (\r\n        <input\r\n          ref={`inputKey${index}`}\r\n          className=\"form-control\"\r\n          value={item}\r\n          onChange={self.handleKeyChange}\r\n          type=\"text\"\r\n        />\r\n      );\r\n    };\r\n    const inputValueField = function(item, index) {\r\n      return (\r\n        <input\r\n          ref={`inputValue${index}`}\r\n          className=\"form-control\"\r\n          value={item}\r\n          onChange={self.handleChange}\r\n          type=\"text\"\r\n        />\r\n      );\r\n    };\r\n    return (\r\n      <div>\r\n        <div className=\"col-sm-3\">{this.state.value.map(inputKeyField)}</div>\r\n        <div className=\"col-sm-3\">{this.state.value.map(inputValueField)}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default MatrixInputlist;\r\n","import React, { useState } from \"react\";\r\nimport app from \"nystem\";\r\nimport {\r\n  Panel,\r\n  MultigroupOneInput,\r\n  Button,\r\n  BootstrapPanelToggle,\r\n  Wrapper,\r\n} from \"nystem-components\";\r\n\r\nconst MultigroupInput = ({ value, setValue, model, path, view }) => {\r\n  const [ids, setIds] = useState({});\r\n  value = value || [];\r\n\r\n  const addItem = () => {\r\n    value.push({});\r\n    setValue(value);\r\n  };\r\n\r\n  const createItem = function (item, index) {\r\n    const id = ids[index] || app().utils.uuid();\r\n    if (!ids[index]) setIds({ ...ids, [index]: id });\r\n\r\n    return React.createElement(MultigroupOneInput, {\r\n      key: id,\r\n      model,\r\n      value,\r\n      setValue,\r\n      expanded: model.itemExpanded,\r\n      last: index === value.length - 1,\r\n      view,\r\n      path: `${path}.${index}`,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Panel\r\n      type=\"default\"\r\n      expandable={model.expandable}\r\n      expanded={model.expanded}\r\n      icon={model.expandable}\r\n      header={\r\n        <Wrapper className=\"flex items-center\">\r\n          <BootstrapPanelToggle\r\n            model={{\r\n              ...model,\r\n              icon: true,\r\n              className: \"flex items-center\",\r\n              item: [],\r\n            }}\r\n          >\r\n            {model.text}\r\n          </BootstrapPanelToggle>\r\n          <Button\r\n            onClick={addItem}\r\n            type=\"primary\"\r\n            size=\"xs\"\r\n            className=\"ml-auto\"\r\n          >\r\n            Add\r\n          </Button>\r\n        </Wrapper>\r\n      }\r\n      body={value.map(createItem)}\r\n    />\r\n  );\r\n};\r\nexport default MultigroupInput;\r\n","import React from \"react\";\r\nimport {\r\n  Panel,\r\n  ContentTypeRender,\r\n  BootstrapPanelToggle,\r\n  Button,\r\n  Wrapper,\r\n} from \"nystem-components\";\r\n\r\nconst MultigroupOneInput = ({ value, model, view, path, setValue }) => {\r\n  let text = view.getValue(`${path}.${model.field || \"text\"}`);\r\n\r\n  if (text instanceof Array) text = text.join(\" \");\r\n\r\n  const onClose = (id) => {\r\n    value.splice(id, 1);\r\n    setValue(value);\r\n  };\r\n\r\n  if (model.info && value[model.info]) text += ` (${value[model.info]})`;\r\n\r\n  return (\r\n    <Panel\r\n      type=\"default\"\r\n      expanded={model.itemExpanded}\r\n      expandable={model.itemExpandable}\r\n      icon={model.itemExpandable}\r\n      header={\r\n        <Wrapper className=\"flex items-center\">\r\n          <BootstrapPanelToggle\r\n            model={{\r\n              ...model,\r\n              item: undefined,\r\n              icon: true,\r\n              className: \"flex items-center\",\r\n            }}\r\n          >\r\n            {text || \"Item\"}\r\n          </BootstrapPanelToggle>\r\n          <Button\r\n            onClick={onClose}\r\n            type=\"primary\"\r\n            className=\"ml-auto\"\r\n            size=\"xs\"\r\n          >\r\n            Remove\r\n          </Button>\r\n        </Wrapper>\r\n      }\r\n      body={<ContentTypeRender path={path} items={model.item} />}\r\n    />\r\n  );\r\n};\r\nexport default MultigroupOneInput;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst MultigroupOneView = ({ model, path }) => {\r\n  const className = model.rowClassName ? model.rowClassName.join(\" \") : \"\";\r\n\r\n  return (\r\n    <Wrapper className={className}>\r\n      <ContentTypeRender items={model.items} path={path} />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default MultigroupOneView;\r\n","import React from \"react\";\r\n\r\nclass MultigroupSortBy extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.props.view.searchProp.onUpdate(this.update);\r\n    return {\r\n      isSortBy: props.view.searchProp.isSortBy\r\n        ? props.view.searchProp.isSortBy(this.model.id)\r\n        : false\r\n    };\r\n  }\r\n  update(data) {\r\n    const isSortBy = this.props.view.searchProp.isSortBy(this.model.id);\r\n    if (isSortBy !== this.state.isSortBy)\r\n      this.setState({\r\n        isSortBy: isSortBy\r\n      });\r\n  }\r\n  handleSort(event) {\r\n    let href = event.target.getAttribute(\"href\");\r\n    if (!href && event.target)\r\n      href = event.target.parentNode.getAttribute(\"href\");\r\n    this.props.view.searchProp.sortBy(href);\r\n    return false;\r\n  }\r\n  componentWillUnmount() {\r\n    this.props.view.searchProp.offUpdate(this.update);\r\n  }\r\n  render() {\r\n    const { model } = this;\r\n    const className = model.className ? model.className.join(\" \") : \"\";\r\n    if (this.state.isSortBy)\r\n      return (\r\n        <div className={className}>\r\n          {model.text} <span className={`fa fa-arrow-${this.state.isSortBy}`} />\r\n        </div>\r\n      );\r\n    return <div className={className}>{model.text}</div>;\r\n  }\r\n}\r\nexport default MultigroupSortBy;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst getId = (item, model) =>\r\n  item.id.replace(new RegExp(`^${model.id}.`, \"i\"), \"\");\r\n\r\nconst MultigroupView = ({ value, view, model, path }) => {\r\n  const { className, rowClassName } = model;\r\n\r\n  value = value || [];\r\n  return (\r\n    <Wrapper className={className}>\r\n      {value.map((item, index) => (\r\n        <Wrapper key={index} className={rowClassName}>\r\n          <ContentTypeRender\r\n            path={`${path}.${index}`}\r\n            items={\r\n              app().replaceInModel({\r\n                model,\r\n                viewFormat: view.viewFormat,\r\n                fn: ({ model: item }) =>\r\n                  item.id && item.id.indexOf(model.id) === 0\r\n                    ? { ...item, id: getId(item, model, index) }\r\n                    : item,\r\n              }).item\r\n            }\r\n          />\r\n        </Wrapper>\r\n      ))}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default MultigroupView;\r\n","import { TextExposedField } from \"nystem-components\";\r\nimport React from \"react\";\r\n\r\nconst MultilinetextExposedField = (props) => <TextExposedField {...props} />;\r\n\r\nexport default MultilinetextExposedField;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst MultilinetextFields = ({ value, model, path }) => {\r\n  if (!value) return null;\r\n  const { limit, item, className } = model;\r\n\r\n  value = value instanceof Array ? value : [value];\r\n  if (limit) value = value.slice(0, limit);\r\n\r\n  return (\r\n    <Wrapper>\r\n      {value.map((val, index) => (\r\n        <Wrapper key={index} className={className}>\r\n          <a href={`http://${val}`} rel=\"noopener noreferrer\" target=\"_blank\">\r\n            <ContentTypeRender path={path} items={item} />\r\n          </a>\r\n        </Wrapper>\r\n      ))}\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default MultilinetextFields;\r\n","const text_mandatory = \"Field is mandatory\";\r\n\r\nexport default ({ value, model }) =>\r\n  model.mandatory &&\r\n  !value &&\r\n  !value.length &&\r\n  (model.text_mandatory || text_mandatory);\r\n","import React from \"react\";\r\nimport { Input, InputWrapper, UseValidator } from \"nystem-components\";\r\nimport validate from \"./validate\";\r\n\r\nconst MultilinetextInput = ({ model, value, setValue, focus, view }) => {\r\n  const [error, setValidated] = UseValidator({ view, validate, value, model });\r\n  value = value instanceof Array ? value : value ? [value] : [];\r\n\r\n  value = value.filter(value => value !== \"\");\r\n  value.push(\"\");\r\n\r\n  const onChange = (itemValue, index) => {\r\n    value[index] = itemValue;\r\n    setValidated(true);\r\n    setValue(value);\r\n  };\r\n\r\n  return (\r\n    <InputWrapper model={model} error={error}>\r\n      {value.map((value, index) => (\r\n        <div key={index}>\r\n          <Input\r\n            className=\"textInputDefault\"\r\n            value={value}\r\n            onChange={value => onChange(value, index)}\r\n          />\r\n        </div>\r\n      ))}\r\n    </InputWrapper>\r\n  );\r\n};\r\n\r\nexport default MultilinetextInput;\r\n","import React from \"react\";\r\n\r\nclass MultilinetextInputlist extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    let val = props.value || [];\r\n    if (!(val instanceof Array)) val = [val];\r\n    if (props.limit && val.length > props.limit)\r\n      return { value: val.concat([]) };\r\n    return { value: val.concat([\"\"]) };\r\n  }\r\n  handleChange() {\r\n    const val = [];\r\n    for (let i = 0; i < this.state.value.length; i++) {\r\n      const oneVal = this.refs[`input${i}`].value;\r\n      if (oneVal) val.push(oneVal);\r\n    }\r\n    if (this.props.setValue) this.props.setValue(val);\r\n    if (val.length > this.props.limit)\r\n      this.setState({\r\n        value: val.concat([])\r\n      });\r\n    else\r\n      this.setState({\r\n        value: val.concat([\"\"])\r\n      });\r\n  }\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (this.props.value !== nextProps.value) {\r\n      let val = nextProps.value;\r\n      if (typeof nextProps.value === \"string\") val = [nextProps.value];\r\n      if (this.props.limit && val.length > this.props.limit)\r\n        this.setState({ value: val.concat([]) });\r\n      else this.setState({ value: val.concat([\"\"]) });\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    if (this.props.focus)\r\n      this.refs[`input${this.state.value.length - 1}`].focus();\r\n  }\r\n  render() {\r\n    const self = this;\r\n    function inputField(item, index) {\r\n      return (\r\n        <input\r\n          key={`input${index}`}\r\n          ref={`input${index}`}\r\n          className=\"form-control\"\r\n          value={item}\r\n          onChange={self.handleChange}\r\n          type=\"text\"\r\n        />\r\n      );\r\n    }\r\n    return <div>{this.state.value.map(inputField)}</div>;\r\n  }\r\n}\r\nexport default MultilinetextInputlist;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst MultilinetextItemLink = ({ value, model, path }) => (\r\n  <Wrapper\r\n    renderAs=\"a\"\r\n    className={model.className}\r\n    href={`http://${value}`}\r\n    rel=\"noopener noreferrer\"\r\n    target=\"_blank\"\r\n  >\r\n    <ContentTypeRender path={path} items={model.item} />\r\n  </Wrapper>\r\n);\r\nexport default MultilinetextItemLink;\r\n","import React from \"react\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nconst MultilinetextItemText = ({ model, value }) => (\r\n  <Wrapper\r\n    className={model.className}\r\n    renderAs={model.renderAs}\r\n    translate={model.translate}\r\n  >\r\n    {value || model.fallback}\r\n  </Wrapper>\r\n);\r\n\r\nexport default MultilinetextItemText;\r\n","import React from \"react\";\r\n\r\nclass MultilinetextList extends React.Component {\r\n  render() {\r\n    let { value } = this.props;\r\n    const createItem = function(item, index) {\r\n      const add = value.length !== index + 1 ? \", \" : \"\";\r\n      return (\r\n        <span key={index}>\r\n          <a href={`http://${item}`} rel=\"noopener noreferrer\" target=\"_blank\">\r\n            {item}\r\n          </a>\r\n          {add}\r\n        </span>\r\n      );\r\n    };\r\n    if (!value) return null;\r\n    if (!(value instanceof Array)) value = [value];\r\n    const { model } = this.props;\r\n    const className =\r\n      model.className && !this.props.wrapper ? model.className.join(\" \") : \"\";\r\n    if (value.length > 2)\r\n      return (\r\n        <div className={className.replace(\"btn\", \"\")}>\r\n          {value.map(createItem)}\r\n        </div>\r\n      );\r\n    return <div className={className}>{value.map(createItem)}</div>;\r\n  }\r\n}\r\nexport default MultilinetextList;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst MultilinetextView = ({ value, path, model, view }) => {\r\n  if (!value) return null;\r\n\r\n  value = value instanceof Array ? value : [value];\r\n  const { className, id } = model;\r\n  return (\r\n    <Wrapper className={className}>\r\n      {value.map((nul, index) => (\r\n        <ContentTypeRender\r\n          key={index}\r\n          path={path.replace(new RegExp(`.?${id}$`, \"i\"), \"\")}\r\n          items={\r\n            app().replaceInModel({\r\n              model,\r\n              viewFormat: view.viewFormat,\r\n              fn: ({ model: item }) =>\r\n                item.id === id ? { ...item, id: `${item.id}.${index}` } : item,\r\n            }).item\r\n          }\r\n        />\r\n      ))}\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default MultilinetextView;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport app from \"nystem\";\r\nimport { SelectExposedField } from \"nystem-components\";\r\n\r\nconst ReferenceExposedField = ({ model, view, path }) => {\r\n  const [option, setOption] = useState();\r\n\r\n  useEffect(() => {\r\n    app()\r\n      .database[model.source].search({\r\n        autoUpdate: true,\r\n        filter: app().parseFilter(model.filter, view.getValue, path),\r\n        count: 100,\r\n      })\r\n      .then(({ data: option }) => setOption(option));\r\n  }, [model.filter, model.source, path, view.getValue]);\r\n\r\n  if (!option || option.length === 0) return null;\r\n\r\n  const selectModel = app().utils.clone(model);\r\n  delete selectModel.source;\r\n\r\n  selectModel.option = option.map((item) => ({\r\n    ...item,\r\n    text: item[model.textField || \"name\"],\r\n  }));\r\n\r\n  return <SelectExposedField model={selectModel} view={view} />;\r\n};\r\n\r\nexport default ReferenceExposedField;\r\n","import React from \"react\";\r\nimport {\r\n  ReferenceInput,\r\n  RouterUseQueryStore,\r\n  UseSearch,\r\n} from \"nystem-components\";\r\n\r\nconst ReferenceExposedFieldViews = ({ model, view, path }) => {\r\n  const [value, setValue] = RouterUseQueryStore(model.saveId, \"array\");\r\n  UseSearch({ view, id: model.id, value, exact: true });\r\n\r\n  return (\r\n    <ReferenceInput\r\n      model={{ ...model, mandatory: false, exposed: true }}\r\n      setValue={setValue}\r\n      view={view}\r\n      value={value}\r\n      path={path}\r\n    />\r\n  );\r\n};\r\n\r\nexport default ReferenceExposedFieldViews;\r\n","import React from \"react\";\r\nimport { ContentTypeView, InputWrapper, Wrapper } from \"nystem-components\";\r\n\r\nconst ReferenceFirst = ({ model, view, value = [] }) => {\r\n  value = value instanceof Array ? value[0] : value;\r\n  const { renderFormat, className, source, itemClassName } = model;\r\n\r\n  if (!value) return null;\r\n\r\n  const option = (item, index) => (\r\n    <ContentTypeView\r\n      key={item}\r\n      contentType={source}\r\n      baseView={view}\r\n      format={renderFormat || \"view\"}\r\n      id={item}\r\n      params={view.params}\r\n      className={itemClassName}\r\n      onReference={(item) => view.event(item.event, { ...item, model })}\r\n    />\r\n  );\r\n\r\n  if (model.wrapper)\r\n    return <InputWrapper model={model}>{option(value)}</InputWrapper>;\r\n\r\n  return <Wrapper className={className}>{option(value)}</Wrapper>;\r\n};\r\nexport default ReferenceFirst;\r\n","export default ({ value, model }) =>\r\n  model.mandatory &&\r\n  (!value || (value instanceof Array && !value[0])) &&\r\n  (model.text_mandatory || \"Field is mandatory\");\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport app from \"nystem\";\r\nimport {\r\n  InputWrapper,\r\n  ReferenceView,\r\n  Wrapper,\r\n  ReferenceSortable,\r\n  Button,\r\n  ViewInViewView,\r\n  UseValidator,\r\n  Input,\r\n} from \"nystem-components\";\r\nimport validate from \"./validate\";\r\nimport \"./input.css\";\r\n\r\nconst useSearch = ({ contentType, searchVal, model } = {}) => {\r\n  const [result, setResult] = useState([]);\r\n  useEffect(() => {\r\n    if (!contentType) return;\r\n    const { sortby, searchCount, reverse } = model;\r\n\r\n    const db = app().database[contentType];\r\n    db.search({\r\n      filter: searchVal && { $all: searchVal },\r\n      count: searchCount || 100,\r\n      data: undefined,\r\n      sortby,\r\n      reverse,\r\n    }).then(({ data }) => setResult(data || []));\r\n  }, [setResult, contentType, searchVal, model]);\r\n\r\n  return { result };\r\n};\r\n\r\nconst InputSpes = ({ focus, onBlur, onFocus, ...props }) => {\r\n  const inputEl = useRef(null);\r\n  const [inFocus, setInFocus] = useState(false);\r\n  useEffect(() => {\r\n    if (!focus || inFocus) return;\r\n    inputEl.current.focus();\r\n  }, [focus, inFocus, onBlur]);\r\n\r\n  let { className } = props;\r\n  className = className instanceof Array ? className.join(\" \") : className;\r\n\r\n  return (\r\n    <Input\r\n      ref={inputEl}\r\n      {...props}\r\n      className={className || \"sm:w-1/2 w-full\"}\r\n      onChange={props.onChange}\r\n      onFocus={() => {\r\n        setInFocus(true);\r\n        if (onFocus) onFocus();\r\n      }}\r\n      onBlur={() => {\r\n        setInFocus(false);\r\n        onBlur();\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nconst InlineAdd = ({ model, view }) => {\r\n  const [isAdding, setIsAdding] = useState(false);\r\n  if (!model.inlineAdd) return null;\r\n  if (!isAdding)\r\n    return (\r\n      <Button\r\n        onClick={() => setIsAdding(true)}\r\n        size=\"sm\"\r\n        className=\"mb-1 float-right\"\r\n      >\r\n        Create new\r\n      </Button>\r\n    );\r\n  return (\r\n    <ViewInViewView\r\n      model={{ contentType: model.source, view: model.inlineAdd }}\r\n      onSave={({ _id }) => {\r\n        view.event(\"referenceAdd\", { model, value: { _id }, close: true });\r\n        setIsAdding(false);\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nconst ReferenceInput = ({ model, view, value = [], setValue, path }) => {\r\n  const { source, exposed } = model;\r\n  const [inFocus, setInFocus] = useState(false);\r\n  const [searchVal, setSearchVal] = useState(\"\");\r\n  const [error] = UseValidator({ view, validate, value, model });\r\n\r\n  const { result } = useSearch({ contentType: source, searchVal, model }) || {};\r\n\r\n  value = value instanceof Array ? value : [value];\r\n\r\n  useEffect(() => {\r\n    const events = exposed\r\n      ? { add: \"exposedReferenceAdd\", remove: \"exposedReferenceRemove\" }\r\n      : { add: \"referenceAdd\", remove: \"referenceRemove\" };\r\n\r\n    const add = ({ value: addValue, close, path: atPath }) => {\r\n      if (path !== atPath) return;\r\n\r\n      const newVal = [...value, addValue._id];\r\n      setValue(model.limit === 1 ? newVal[0] : newVal);\r\n\r\n      const addable = !model.limit || newVal.length < model.limit;\r\n      if (!close) setInFocus(addable);\r\n\r\n      setSearchVal(\"\");\r\n    };\r\n    const remove = ({ value: removeValue, path: atPath }) => {\r\n      if (path !== atPath) return;\r\n\r\n      const newVal = value.filter((id) => `${id}` !== `${removeValue._id}`);\r\n      setValue(newVal.length ? newVal : undefined);\r\n      setInFocus(true);\r\n    };\r\n    view.on(events.add, add);\r\n    view.on(events.remove, remove);\r\n    return () => {\r\n      view.off(events.add, add);\r\n      view.off(events.remove, remove);\r\n    };\r\n  }, [view, setValue, value, setInFocus, model.id, model.limit, path, exposed]);\r\n\r\n  let clicked = false;\r\n  const itemsSelect =\r\n    result.map((item) => item._id).filter((id) => !value.includes(id)) || [];\r\n\r\n  const addable = !model.limit || value.length < model.limit || null;\r\n\r\n  return (\r\n    <InputWrapper\r\n      model={{ ...model, classNameInput: \"relative flex-grow\" }}\r\n      error={error}\r\n    >\r\n      {(value.length || null) && (\r\n        <Wrapper className=\"px-1 pb-2 pt-1 w-full max-w-sm\">\r\n          <ReferenceSortable\r\n            model={model}\r\n            view={view}\r\n            value={value}\r\n            setValue={setValue}\r\n            path={path}\r\n          />\r\n        </Wrapper>\r\n      )}\r\n      {addable && (\r\n        <>\r\n          <InlineAdd model={model} view={view} />\r\n          <InputSpes\r\n            onFocus={() => setInFocus(true)}\r\n            onBlur={() => {\r\n              if (!clicked) setInFocus(false);\r\n            }}\r\n            onChange={(value) => setSearchVal(value)}\r\n            value={searchVal}\r\n            placeholder=\"Search and add existing\"\r\n            focus={inFocus}\r\n          />\r\n        </>\r\n      )}\r\n      {addable && inFocus && (\r\n        <Wrapper\r\n          className=\"absolute shadow-md sm:w-1/2 w-full overflow-y-auto z-10 max-h-400\"\r\n          onMouseDown={() => {\r\n            clicked = true;\r\n            setInFocus(true);\r\n            setTimeout(() => {\r\n              clicked = false;\r\n            }, 500);\r\n          }}\r\n        >\r\n          {itemsSelect.length ? (\r\n            <ReferenceView\r\n              model={{ ...model, renderFormat: model.renderFormatSelect }}\r\n              value={itemsSelect}\r\n              view={view}\r\n              path={path}\r\n            />\r\n          ) : (\r\n            <Wrapper className=\"p-2 bg-red-200\">No addable items found</Wrapper>\r\n          )}\r\n        </Wrapper>\r\n      )}\r\n    </InputWrapper>\r\n  );\r\n};\r\nexport default ReferenceInput;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport app from \"nystem\";\r\nimport { SelectInput } from \"nystem-components\";\r\n\r\nconst ReferenceSelect = ({ model, setValue, value, view, path }) => {\r\n  const [option, setOption] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const loadOption = () => {\r\n      const namefield = model.namefield ? model.namefield : \"name\";\r\n      app()\r\n        .database[model.source].search({\r\n          autoUpdate: true,\r\n          filter: app().parseFilter(model.filter, view.getValue, path),\r\n          count: 100,\r\n        })\r\n        .then(({ data, offline }) => {\r\n          if (offline) {\r\n            app().connection.on(\"connect\", loadOption);\r\n            app().connection.on(\"connect\", loadOption);\r\n          } else app().connection.off(\"connect\", loadOption);\r\n\r\n          setOption(\r\n            data.map((item) => ({ _id: item._id, text: item[namefield] }))\r\n          );\r\n        });\r\n    };\r\n    loadOption();\r\n    return () => {\r\n      app().connection.off(\"connect\", loadOption);\r\n    };\r\n  }, [model, path, view]);\r\n\r\n  if (!value) value = [];\r\n  if (!(value instanceof Array)) value = [value];\r\n\r\n  return (\r\n    <SelectInput\r\n      model={{ ...model, option }}\r\n      setValue={setValue}\r\n      value={value}\r\n    />\r\n  );\r\n};\r\n\r\nexport default ReferenceSelect;\r\n// 57 40 35\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport {\r\n  ContentTypeView,\r\n  InputWrapper,\r\n  DragAndDropList\r\n} from \"nystem-components\";\r\n\r\nclass ReferenceSortable extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.localValue = {};\r\n    [\"setValue\", \"onSave\", \"onDelete\", \"addField\"].forEach(func => {\r\n      this[func] = this[func].bind(this);\r\n    });\r\n    this.props.view.on(\"save\", this.onSave);\r\n    this.state = {\r\n      value: this.props.value\r\n    };\r\n  }\r\n  setValue(id, val) {\r\n    let { value } = this.state;\r\n    if (!value) value = [];\r\n    if (id) value[id] = val;\r\n    else value = val;\r\n    if (this.props.setValue) this.props.setValue(this.model.id, value);\r\n  }\r\n  onSave(data) {\r\n    if (!this.state.value) return true;\r\n    for (let i = 0; i < this.state.value.length; i++)\r\n      if (this.localValue[this.state.value[i]])\r\n        app().database[this.model.source].save({\r\n          data: this.localValue[this.state.value[i]]\r\n        });\r\n    return true;\r\n  }\r\n  componentWillReceiveProps(nextProps) {\r\n    this.setState({\r\n      value: nextProps.value\r\n    });\r\n  }\r\n  onDelete(id) {\r\n    this.state.value.splice(this.state.value.indexOf(id), 1);\r\n    const self = this;\r\n    setTimeout(() => {\r\n      if (self.props.setValue)\r\n        self.props.setValue(self.props.model.id, self.state.value);\r\n    }, 0);\r\n    return true;\r\n  }\r\n  addField(data) {\r\n    if (!data.hashtag || !this.model.addTransform) return;\r\n    const fieldBase = JSON.parse(data.hashtag.replace(/'/g, '\"'));\r\n    const out = {};\r\n    for (\r\n      let i = 0;\r\n      this.model.addTransform && i < this.model.addTransform.length;\r\n      i++\r\n    )\r\n      out[this.model.addTransform[i][0]] = app().utils.insertValues(\r\n        this.model.addTransform[i][1],\r\n        fieldBase\r\n      );\r\n    return out;\r\n  }\r\n  render() {\r\n    const { model } = this.props;\r\n    let { value } = this.state;\r\n    if (!value) value = [];\r\n    if (!(value instanceof Array)) value = [value];\r\n    const className =\r\n      model.className && !this.props.wrapper ? model.className.join(\" \") : \"\";\r\n    const self = this;\r\n    function option(item, index) {\r\n      let id = item;\r\n      function onChange(fieldId, value) {\r\n        self.localValue[id] = value;\r\n      }\r\n      if (typeof item !== \"string\") {\r\n        if (!item._id) item._id = app.uuid();\r\n        id = item._id;\r\n        self.localValue[id] = item;\r\n        self.state.value[index] = id;\r\n      }\r\n      return (\r\n        <ContentTypeView\r\n          key={id}\r\n          noForm=\"true\"\r\n          contentType={model.source}\r\n          format={model.renderFormat ? model.renderFormat : \"view\"}\r\n          onDelete={self.onDelete}\r\n          onMissing={self.onDelete}\r\n          onChange={onChange}\r\n          value={self.localValue[id] ? self.localValue[id] : null}\r\n          id={self.localValue[id] ? null : id}\r\n          baseView={self.props.view}\r\n        />\r\n      );\r\n    }\r\n    this.id = app().uuid();\r\n    if (model.wrapper)\r\n      return (\r\n        <InputWrapper model={model} error={this.state.error}>\r\n          <div className=\"row col-sm-12\">\r\n            <DragAndDropList\r\n              ref=\"list\"\r\n              value={this.state.value}\r\n              setValue={this.setValue}\r\n              onAdd={this.addField}\r\n            >\r\n              {value.map(option)}\r\n            </DragAndDropList>\r\n          </div>\r\n        </InputWrapper>\r\n      );\r\n    return (\r\n      <div className={className}>\r\n        <DragAndDropList\r\n          ref=\"list\"\r\n          value={this.state.value}\r\n          setValue={this.setValue}\r\n          onAdd={this.addField}\r\n        >\r\n          {value.map(option)}\r\n        </DragAndDropList>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default ReferenceSortable;\r\n","import { TextSortBy } from \"nystem-components\";\r\nimport React from \"react\";\r\n\r\nconst ReferenceSortBy = (props) => <TextSortBy {...props} />;\r\nexport default ReferenceSortBy;\r\n","import React from \"react\";\r\nimport { ContentTypeView, InputWrapper, Wrapper } from \"nystem-components\";\r\n\r\nconst ReferenceView = ({ model, view, value = [], path }) => {\r\n  value = value instanceof Array ? value : [value];\r\n  const { renderFormat, className, source, itemClassName } = model;\r\n\r\n  const option = (item, index) => (\r\n    <ContentTypeView\r\n      key={item}\r\n      contentType={source}\r\n      baseView={view}\r\n      format={renderFormat || \"view\"}\r\n      id={item}\r\n      params={view.params}\r\n      className={itemClassName}\r\n      onReference={(item) => view.event(item.event, { ...item, model, path })}\r\n    />\r\n  );\r\n\r\n  if (model.wrapper)\r\n    return <InputWrapper model={model}>{value.map(option)}</InputWrapper>;\r\n\r\n  return <Wrapper className={className}>{value.map(option)}</Wrapper>;\r\n};\r\nexport default ReferenceView;\r\n","import React from \"react\";\r\nimport { Button } from \"nystem-components\";\r\n\r\nconst SelectButton = ({ model, setValue, value }) => {\r\n  const { trueState, trueOnState, falseState, btnType, falseOnState } = model;\r\n\r\n  const handleChange = (e) =>\r\n    setValue(trueOnState.indexOf(value) ? trueState : falseState);\r\n\r\n  let text = \"\";\r\n  let type = false;\r\n\r\n  if (trueOnState.indexOf(value) !== -1) {\r\n    ({ text } = model);\r\n    type = btnType;\r\n  } else if (falseOnState.indexOf(value) !== -1) {\r\n    text = model.falseText;\r\n    type = model.falseBtnType;\r\n  }\r\n\r\n  return (\r\n    <Button type={type} className={model.className} onClick={handleChange}>\r\n      {text || \"...\"}\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default SelectButton;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { SelectInput, UseSearch, RouterUseQueryStore } from \"nystem-components\";\r\n\r\nconst SelectExposedField = ({ model, view }) => {\r\n  const [className, setClassName] = useState(\"\");\r\n  const [value, setValue] = RouterUseQueryStore(model.saveId);\r\n  UseSearch({ view, id: model.id, value });\r\n\r\n  useEffect(() => {\r\n    if (!value) return;\r\n    setClassName(\"border-orange-300 outline-none\");\r\n\r\n    let timer = setTimeout(() => {\r\n      setClassName(\"border-green-500 outline-none\");\r\n      timer = setTimeout(() => {\r\n        timer = false;\r\n        setClassName(\"\");\r\n      }, 1000);\r\n    }, 200);\r\n\r\n    return () => {\r\n      if (timer) clearTimeout(timer);\r\n    };\r\n  }, [value]);\r\n\r\n  return (\r\n    <SelectInput\r\n      model={{\r\n        ...model,\r\n        clearButton: true,\r\n        classNameInput: `w-full ${className}`,\r\n        selectAllOnFocus: true,\r\n      }}\r\n      value={value}\r\n      setValue={setValue}\r\n    />\r\n  );\r\n};\r\nexport default SelectExposedField;\r\n","export default ({ value, model }) => {\r\n  value = value || [];\r\n  if (!(value instanceof Array)) value = [value];\r\n\r\n  return (\r\n    model.mandatory &&\r\n    !value.length &&\r\n    (model.text_mandatory || \"Field is mandatory\")\r\n  );\r\n};\r\n","import React, { useMemo, useEffect, useState } from \"react\";\r\nimport app from \"nystem\";\r\nimport {\r\n  InputWrapper,\r\n  UseValidator,\r\n  Button,\r\n  Wrapper,\r\n  Select,\r\n} from \"nystem-components\";\r\nimport validate from \"./validate\";\r\n\r\nconst normalizeOption = ({ option, optionObj }) =>\r\n  !option\r\n    ? optionObj || []\r\n    : option.map((item) =>\r\n        typeof item === \"string\" || typeof item === \"number\"\r\n          ? {\r\n              _id: item,\r\n              text: item,\r\n            }\r\n          : item\r\n      );\r\n\r\nconst renderButton = ({ option, handleChange, value, model }) => (\r\n  <Wrapper className={model.classNameInput}>\r\n    {option.map(({ text, _id }) => (\r\n      <Button\r\n        onClick={() => handleChange(_id)}\r\n        className={[model.classNameItem, \"mr-2 my-1\"]}\r\n        key={_id}\r\n        type={value.indexOf(_id) !== -1 ? \"primary\" : \"secondary\"}\r\n        size=\"xs\"\r\n      >\r\n        {text}\r\n      </Button>\r\n    ))}\r\n  </Wrapper>\r\n);\r\n\r\nconst renderCheckbox = ({ option, handleChange, value, limit, inline }) => (\r\n  <Wrapper className=\"flex flex-wrap items-center\">\r\n    {option.map(({ text, _id }) => (\r\n      <span className={`px-2 my-1 checkbox ${inline}`} key={_id}>\r\n        <label>\r\n          <input\r\n            onChange={() => handleChange(_id)}\r\n            type={limit === 1 ? \"radio\" : \"checkbox\"}\r\n            checked={value.indexOf(_id) !== -1 ? \"checked\" : false}\r\n            className=\"p-1 mr-2\"\r\n          />\r\n          {text}\r\n        </label>\r\n      </span>\r\n    ))}\r\n  </Wrapper>\r\n);\r\n\r\nconst renderDropdown = ({ id, option, handleChange, value, placeholder }) => (\r\n  // eslint-disable-next-line jsx-a11y/no-onchange\r\n  <Select\r\n    className=\"sm:w-1/2 w-full p-2 border\"\r\n    onChange={(e) => handleChange(e.target.value)}\r\n    value={value[0]}\r\n  >\r\n    <option key=\"_empty\" value=\"\">\r\n      {placeholder || \" - choose - \"}\r\n    </option>\r\n    {option.map(({ text, _id }) => (\r\n      <option key={_id || \"___\"} value={_id || \"___\"}>\r\n        {text}\r\n      </option>\r\n    ))}\r\n  </Select>\r\n);\r\n\r\nconst renderTypes = {\r\n  dropdown: renderDropdown,\r\n  button: renderButton,\r\n  checkbox: renderCheckbox,\r\n};\r\n\r\nconst SelectInput = ({ model, value, view, setValue }) => {\r\n  const [id] = useState(app().uuid);\r\n  const [error, setValidated] = UseValidator({ view, validate, value, model });\r\n\r\n  const { placeholder, inline, render } = model;\r\n\r\n  const limit = render === \"dropdown\" ? 1 : parseInt(model.limit, 10);\r\n  if (!value) value = [];\r\n  if (!(value instanceof Array)) value = [value];\r\n\r\n  const option = useMemo(() => normalizeOption(model), [model]);\r\n\r\n  const handleChange = (id) => {\r\n    if (id === \"\") id = undefined;\r\n    if (value.indexOf(id) !== -1) value.splice(value.indexOf(id), 1);\r\n    else value.push(id);\r\n\r\n    if (limit && limit < value.length) value.shift();\r\n\r\n    if (limit === 1) setValue(value[0]);\r\n    else setValue(value);\r\n    setValidated(true);\r\n  };\r\n  useEffect(() => {\r\n    if (value.length === 0 && model.default) handleChange(model.default);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const out = renderTypes[render || \"checkbox\"]({\r\n    option,\r\n    handleChange,\r\n    value,\r\n    limit,\r\n    inline,\r\n    placeholder,\r\n    model,\r\n    id,\r\n  });\r\n\r\n  return model.noWrapper ? (\r\n    out\r\n  ) : (\r\n    <InputWrapper id={id} model={model} error={error}>\r\n      {out}\r\n    </InputWrapper>\r\n  );\r\n};\r\nexport default SelectInput;\r\n","import React from \"react\";\nimport { TextSortBy } from \"nystem-components\";\nlet SelectSortBy = props => <TextSortBy {...props} />;\nexport default SelectSortBy;\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nconst SelectView = ({ model, value }) => {\r\n  const { className, renderAs, option } = model;\r\n  let val = value || model.fallback;\r\n\r\n  val =\r\n    option\r\n      .map((item) =>\r\n        typeof item === \"string\" ? { _id: item, text: item } : item\r\n      )\r\n      .find(({ _id }) => value === _id) || {};\r\n\r\n  return (\r\n    <Wrapper renderAs={renderAs} className={className}>\r\n      {app().t(val.text)}\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default SelectView;\r\n","import React from \"react\";\r\n\r\nconst Select = ({ className, ...props }) => (\r\n  <select className={className} {...props} />\r\n);\r\nexport default Select;\r\n","import React, { useState } from \"react\";\r\nimport { Input, Wrapper, InputWrapper } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst SliderInput = ({ model, setValue, value }) => {\r\n  const [id] = useState(app().uuid);\r\n  const val = model.absolute ? value : ((value - model.min) / model.max) * 100;\r\n  const display = model.precision\r\n    ? parseFloat(val).toFixed(model.precision)\r\n    : parseInt(val, 10);\r\n\r\n  return (\r\n    <InputWrapper id={id} model={model} className={model.className}>\r\n      <Input\r\n        id={id}\r\n        placeholder={app().t(model.text)}\r\n        className=\"w-full\"\r\n        value={parseInt(value * 10, 10) || 0}\r\n        onChange={(value) => setValue(value / 10)}\r\n        type=\"range\"\r\n        min={model.min * 10}\r\n        max={model.max * 10}\r\n      />\r\n      <Wrapper className={model.textClass}>{`(${display || 0}%)`}</Wrapper>\r\n    </InputWrapper>\r\n  );\r\n};\r\n\r\nexport default SliderInput;\r\n","import React from \"react\";\r\nimport { TextLink } from \"nystem-components\";\r\n\r\nconst SliderLink = (props) => <TextLink {...props} />;\r\nexport default SliderLink;\r\n","import React from \"react\";\r\nimport { TextView } from \"nystem-components\";\r\n\r\nconst SliderView = (props) => <TextView {...props} />;\r\nexport default SliderView;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { TextInput, UseSearch, RouterUseQueryStore } from \"nystem-components\";\r\n\r\nconst TextExposedField = ({ model, view }) => {\r\n  const [className, setClassName] = useState(\"\");\r\n  const [value, setValue, ref] = RouterUseQueryStore(model.saveId);\r\n  UseSearch({ view, id: model.id, value, exact: model.exact || undefined });\r\n\r\n  useEffect(() => {\r\n    if (!value) {\r\n      setClassName(\"\");\r\n      return;\r\n    }\r\n\r\n    setClassName(\"border-orange-300 outline-none\");\r\n\r\n    let timer = setTimeout(() => {\r\n      setClassName(\"border-green-500 outline-none\");\r\n      timer = setTimeout(() => {\r\n        timer = false;\r\n        setClassName(\"\");\r\n      }, 500);\r\n    }, 200);\r\n\r\n    return () => {\r\n      if (timer) clearTimeout(timer);\r\n    };\r\n  }, [value]);\r\n\r\n  return (\r\n    <TextInput\r\n      ref={ref}\r\n      model={{\r\n        ...model,\r\n        mandatory: false,\r\n        clearButton: true,\r\n        classNameInput: [\r\n          !model.noWrapper && \"w-full\",\r\n          className,\r\n          model.classNameInput,\r\n        ],\r\n        selectAllOnFocus: true,\r\n      }}\r\n      value={value}\r\n      setValue={setValue}\r\n    />\r\n  );\r\n};\r\n\r\nexport default TextExposedField;\r\n","export default ({ value, model }) =>\r\n  model.mandatory && !value && (model.text_mandatory || \"Field is mandatory\");\r\n","import React, { useState } from \"react\";\r\nimport { InputWrapper, Input, Icon, UseValidator } from \"nystem-components\";\r\nimport app from \"nystem\";\r\nimport validate from \"./validate\";\r\nimport \"./input.css\";\r\n\r\nconst ClearButton = ({ value, setValue }) =>\r\n  !value ? null : (\r\n    <>\r\n      <Icon\r\n        onClick={() => setValue(\"\")}\r\n        className=\"w-8 h-8 p-2 relative left-12 cursor-pointer\"\r\n        icon=\"close\"\r\n        aria-hidden=\"true\"\r\n      />\r\n      <div className=\"flex-grow\" />\r\n    </>\r\n  );\r\n\r\nconst TextInput = ({ model, view, focus, setValue, value }, ref) => {\r\n  const [error, setValidated] = UseValidator({ view, validate, value, model });\r\n  const { disabled, length, text, clearButton, classNameInput = [] } = model;\r\n  const [id] = useState(app().uuid);\r\n\r\n  return (\r\n    <InputWrapper\r\n      id={id}\r\n      model={{\r\n        ...model,\r\n        classNameInput: \"relative flex-grow flex\",\r\n      }}\r\n      error={error}\r\n    >\r\n      <Input\r\n        id={id}\r\n        ref={ref}\r\n        placeholder={model.placeholder || app().t(text)}\r\n        className={classNameInput}\r\n        value={value || \"\"}\r\n        maxLength={length}\r\n        onChange={(value) => setValue(value)}\r\n        disabled={disabled}\r\n        type=\"text\"\r\n        focus={model.focus || focus}\r\n        onBlur={() => setValidated(true)}\r\n        selectAllOnFocus={model.selectAllOnFocus}\r\n      />\r\n      {clearButton ? <ClearButton value={value} setValue={setValue} /> : null}\r\n    </InputWrapper>\r\n  );\r\n};\r\nexport default React.forwardRef(TextInput);\r\n","import React from \"react\";\r\nimport { Link, Wrapper } from \"nystem-components\";\r\n\r\nconst TextLink = ({ model, view, value }) => {\r\n  const id = view.value ? `/${view.value._id}` : \"\";\r\n  const format = model.toFormat || \"input\";\r\n\r\n  if (model.renderAs)\r\n    return (\r\n      <Wrapper renderAs={model.renderAs} className={model.className}>\r\n        <Link\r\n          to={`${model.addToPath || \"\"}/${view.contentType}/${format}${id}`}\r\n        >\r\n          {value || model.fallback}\r\n        </Link>\r\n      </Wrapper>\r\n    );\r\n\r\n  return (\r\n    <Link\r\n      renderAs={model.renderAs}\r\n      className={model.className}\r\n      to={`${model.addToPath || \"\"}/${view.contentType}/${format}${id}`}\r\n    >\r\n      {value || model.fallback}\r\n    </Link>\r\n  );\r\n};\r\nexport default TextLink;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { Wrapper, DatabaseSearchContext, Icon } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst TextSortBy = ({ model, view }) => {\r\n  const { search } = useContext(DatabaseSearchContext);\r\n  const { id, text, className } = model;\r\n  const { sortby, reverse } = search;\r\n  const [ev, setEv] = useState(false);\r\n\r\n  const sortbyId = sortby instanceof Array ? sortby[0] : sortby;\r\n  const reverse1 = reverse instanceof Array ? reverse[0] : reverse;\r\n\r\n  const handleSort = (event) => {\r\n    if (event) event.preventDefault();\r\n\r\n    const rev = sortbyId === id ? !reverse : false;\r\n    const setSearch = (search) => ({\r\n      ...search,\r\n      reverse: rev,\r\n      sortby: id,\r\n    });\r\n\r\n    setEv(setSearch);\r\n    view.on(\"setSearch\", 200, setSearch);\r\n    view.event(\"setSearch\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!ev) return;\r\n\r\n    return () => {\r\n      view.off(\"setSearch\", ev);\r\n      setEv(false);\r\n    };\r\n  }, [ev, view]);\r\n\r\n  return (\r\n    <Wrapper\r\n      className={[className, \"flex\"]}\r\n      renderAs=\"a\"\r\n      href={id}\r\n      onClick={handleSort}\r\n    >\r\n      <Wrapper renderAs=\"span\">{`${app().t(text)} `}</Wrapper>\r\n      {sortbyId === id ? (\r\n        <Icon\r\n          icon={`arrow-${reverse1 ? \"up\" : \"down\"}`}\r\n          className=\"ml-1 w-4 font-bold\"\r\n        />\r\n      ) : null}\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default TextSortBy;\r\n","import React from \"react\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nconst TextView = ({ model, value }) => (\r\n  <Wrapper\r\n    className={model.className}\r\n    renderAs={model.renderAs}\r\n    translate={model.translate}\r\n  >\r\n    {value || model.fallback}\r\n  </Wrapper>\r\n);\r\n\r\nexport default TextView;\r\n","import React from \"react\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nconst TextareaFormatted = ({ model, value }) => (\r\n  <Wrapper\r\n    className={model.className}\r\n    renderAs={model.renderAs}\r\n    translate={model.translate}\r\n    dangerouslySetInnerHTML={{\r\n      __html: (value || model.fallback || \"\")\r\n        .substring(0, model.cutPoint || 100000)\r\n        .replace(\r\n          /(https?:\\/\\/[^\\s]+)/gim,\r\n          '<a target=\"_blank\" class=\"text-gray-400\" href=\"$1\">$1</a>'\r\n        )\r\n        .replace(/[\\n]/g, \"<br>\"),\r\n    }}\r\n  />\r\n);\r\n\r\nexport default TextareaFormatted;\r\n","export default ({ value, model }) =>\r\n  model.mandatory && !value && (model.text_mandatory || \"Field is mandatory\");\r\n","import React, { useState } from \"react\";\r\nimport { InputWrapper, Input, UseValidator } from \"nystem-components\";\r\nimport app from \"nystem\";\r\nimport validate from \"./validate\";\r\n\r\nconst TextInput = ({ model, view, focus, setValue, value }, ref) => {\r\n  const [error, setValidated] = UseValidator({ view, validate, value, model });\r\n  const { disabled, length, text, classNameInput = [] } = model;\r\n  const [id] = useState(app().uuid);\r\n\r\n  const style = model.height && { height: `${model.height}px` };\r\n  const contents = (\r\n    <Input\r\n      id={id}\r\n      ref={ref}\r\n      placeholder={model.placeholder || app().t(text)}\r\n      className={classNameInput}\r\n      value={value || \"\"}\r\n      maxLength={length}\r\n      onChange={(value) => setValue(value)}\r\n      disabled={disabled}\r\n      type=\"textarea\"\r\n      focus={model.focus || focus}\r\n      onBlur={() => setValidated(true)}\r\n      selectAllOnFocus={model.selectAllOnFocus}\r\n      style={style}\r\n    />\r\n  );\r\n\r\n  return model.noWrapper ? (\r\n    contents\r\n  ) : (\r\n    <InputWrapper\r\n      id={id}\r\n      model={{\r\n        ...model,\r\n        classNameInput: \"relative flex-grow flex\",\r\n      }}\r\n      error={error}\r\n    >\r\n      {contents}\r\n    </InputWrapper>\r\n  );\r\n};\r\nexport default React.forwardRef(TextInput);\r\n","import React from \"react\";\nimport { TextLink } from \"nystem-components\";\nlet TextareaLink = props => <TextLink {...props} />;\nexport default TextareaLink;\n","import React from \"react\";\nimport { TextSortBy } from \"nystem-components\";\nlet TextareaSortBy = props => <TextSortBy {...props} />;\nexport default TextareaSortBy;\n","import React from \"react\";\r\nimport { TextView } from \"nystem-components\";\r\n\r\nconst TextareaView = (props) => <TextView {...props} />;\r\nexport default TextareaView;\r\n","import { useEffect } from \"react\";\r\nimport app from \"nystem\";\r\n\r\nconst ViewButtonAutoSave = ({ view }) => {\r\n  useEffect(() => {\r\n    let saveIds = [];\r\n    let saveDelay = false;\r\n\r\n    const saveToDb = async () => {\r\n      const { errors = [] } = await view.event(\"validate\");\r\n      if (!saveIds.length || errors.length) return;\r\n\r\n      const reduceById = (res, id) => ({ ...res, [id]: view.getValue(id) });\r\n\r\n      const data = await app().database[view.contentType].save({\r\n        data: saveIds.reduce(reduceById, {\r\n          _id: view.value._id || view.id,\r\n        }),\r\n        fields: true,\r\n      });\r\n\r\n      if (!view.value._id) view.setValue({ path: \"_id\", value: data.id });\r\n\r\n      view.event(\"save\", view.value);\r\n\r\n      saveIds = [];\r\n    };\r\n\r\n    const handleChange = ({ id }) => {\r\n      if (!id || id === \"_id\" || !view.value) return;\r\n\r\n      if (saveIds.includes(id)) return;\r\n      saveIds.push(id);\r\n\r\n      saveDelay = setTimeout(saveToDb, 200);\r\n    };\r\n\r\n    view.on(\"change\", handleChange);\r\n    return () => {\r\n      view.off(\"change\", handleChange);\r\n      if (saveDelay) clearTimeout(saveDelay);\r\n    };\r\n  }, [view]);\r\n\r\n  return null;\r\n};\r\nexport default ViewButtonAutoSave;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Icon, Wrapper, Button } from \"nystem-components\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nconst ViewButtonBack = ({ children, model, history }) => {\r\n  model = model || {};\r\n  const { className, text } = model;\r\n\r\n  if (model.icon)\r\n    return (\r\n      <Icon\r\n        className={className}\r\n        icon={model.icon}\r\n        onClick={() => history.go(-1)}\r\n      />\r\n    );\r\n\r\n  return (\r\n    <Button\r\n      size={model.size}\r\n      type={model.btnType}\r\n      className={className}\r\n      onClick={() => history.go(-1)}\r\n    >\r\n      <Icon icon=\"arrow-left\" className=\"w-6 h-6\" />\r\n      <Wrapper>{children || app().t(text)}</Wrapper>\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default withRouter(ViewButtonBack);\r\n","import React, { useState } from \"react\";\r\nimport app from \"nystem\";\r\nimport { Button } from \"nystem-components\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nconst ViewButtonDelete = ({ view, model, history }) => {\r\n  const { className, size, btnType, deletedText } = model;\r\n  const [text, setText] = useState(model.text);\r\n\r\n  const handleDelete = () => {\r\n    if (view.event(\"delete\"))\r\n      app()\r\n        .database[view.contentType].delete({ id: view.value._id })\r\n        .then(() =>\r\n          model.redirectURL\r\n            ? history.replace(model.redirectURL)\r\n            : setText(deletedText)\r\n        );\r\n  };\r\n\r\n  return (\r\n    <Button\r\n      className={className}\r\n      size={size}\r\n      onClick={handleDelete}\r\n      type={btnType}\r\n    >\r\n      {app().t(text || \"Delete\")}\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default withRouter(ViewButtonDelete);\r\n","import React, { useState, useEffect, useCallback, useMemo } from \"react\";\r\nimport app from \"nystem\";\r\nimport { Button } from \"nystem-components\";\r\n\r\nconst ViewButtonEventEmitter = ({ model, view }) => {\r\n  const buttonStates = useMemo(\r\n    () => ({\r\n      default: {\r\n        text: model.text ? model.text : \"Send\",\r\n        type: model.btnType ? model.btnType : \"secondary\",\r\n      },\r\n      confirm: {\r\n        text: \"Are you sure?\",\r\n        type: \"danger\",\r\n      },\r\n      saving: {\r\n        text: \"Sending ...\",\r\n        type: \"warning\",\r\n      },\r\n      success: {\r\n        text: \"Sent\",\r\n        type: \"success\",\r\n      },\r\n    }),\r\n    [model.btnType, model.text]\r\n  );\r\n\r\n  const [error, setError] = useState(false);\r\n  const [button, setButton] = useState(buttonStates.default);\r\n  const [savedTimer, setSavedTimer] = useState(false);\r\n  const [activeKeySaveView, setActiveKeySaveView] = useState(false);\r\n\r\n  const sendEvent = useCallback(() => {\r\n    setError(false);\r\n    setButton(buttonStates.saving);\r\n\r\n    app()\r\n      .connection.emit({\r\n        type: model.event,\r\n        event: model.subEvent,\r\n        value: view.value,\r\n        contentType: view.contentType,\r\n      })\r\n      .then((data) => {\r\n        setButton(buttonStates.success);\r\n        setSavedTimer(setTimeout(() => setButton(buttonStates.default), 1000));\r\n        if (data.redirectToPath) app().router.click(data.redirectToPath);\r\n      });\r\n  }, [buttonStates, model, view.contentType, view.value]);\r\n\r\n  const handleSubmit = useCallback(\r\n    async (event) => {\r\n      if (app().settings.debug) console.log(view.value);\r\n      if (event) event.preventDefault();\r\n      const { errors = [] } = await view.event(\"validate\");\r\n      if (errors.length) {\r\n        setError(\"Correct validation errors\");\r\n        return;\r\n      }\r\n\r\n      if (model.confirm && button !== buttonStates.confirm) {\r\n        setButton(buttonStates.confirm);\r\n        setSavedTimer(setTimeout(() => setButton(buttonStates.default), 1000));\r\n      } else sendEvent();\r\n    },\r\n    [button, buttonStates, model.confirm, sendEvent, view]\r\n  );\r\n\r\n  useEffect(() => {\r\n    const handleKeySave = () => {\r\n      if (activeKeySaveView) handleSubmit();\r\n    };\r\n    const inactivateKeySaveView = () => setActiveKeySaveView(false);\r\n    const activateKeySaveView = () => {\r\n      app().event(\"inactivateKeySaveView\");\r\n      setActiveKeySaveView(true);\r\n    };\r\n\r\n    if (model.saveOnKey) {\r\n      view.on(\"submit\", handleSubmit);\r\n      app().on(\"keypressSaveEvent\", handleKeySave);\r\n      app().on(\"inactivateKeySaveView\", inactivateKeySaveView);\r\n      setActiveKeySaveView(false);\r\n      view.on(\"change\", activateKeySaveView);\r\n    }\r\n\r\n    return () => {\r\n      if (savedTimer) clearTimeout(savedTimer);\r\n      if (model.saveOnKey) {\r\n        view.off(\"submit\", handleSubmit);\r\n        view.off(\"change\", activateKeySaveView);\r\n        app().off(\"keypressSaveEvent\", handleKeySave);\r\n        app().off(\"inactivateKeySaveView\", inactivateKeySaveView);\r\n      }\r\n    };\r\n  }, [activeKeySaveView, handleSubmit, model.saveOnKey, savedTimer, view]);\r\n\r\n  return (\r\n    <>\r\n      <Button\r\n        onClick={handleSubmit}\r\n        className={model.className}\r\n        type={model.btnType}\r\n        size={model.size}\r\n      >\r\n        {app().t(button.text)}\r\n      </Button>\r\n      {error}\r\n    </>\r\n  );\r\n};\r\nexport default ViewButtonEventEmitter;\r\n","import React, { useState, useEffect, useMemo, useCallback } from \"react\";\r\nimport app from \"nystem\";\r\nimport { Button, Wrapper } from \"nystem-components\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nconst baseButtonStates = {\r\n  default: {\r\n    text: \"Save\",\r\n    type: \"secondary\",\r\n  },\r\n  saving: {\r\n    text: \"Saving ...\",\r\n    type: \"warning\",\r\n  },\r\n  success: {\r\n    text: \"Saved\",\r\n    type: \"success\",\r\n  },\r\n  deleted: {\r\n    text: \"Undo delete\",\r\n    type: \"warning\",\r\n  },\r\n};\r\n\r\nconst ViewButtonInput = ({ view, model, value, history, location }) => {\r\n  const { text, btnType } = model;\r\n\r\n  const buttonStates = useMemo(\r\n    () =>\r\n      text\r\n        ? {\r\n            ...baseButtonStates,\r\n            default: {\r\n              text,\r\n              type: `${btnType || \"secondary\"}`,\r\n            },\r\n          }\r\n        : baseButtonStates,\r\n    [btnType, text]\r\n  );\r\n  const [button, setButton] = useState(\"default\");\r\n  const [error, setError] = useState(false);\r\n  const [savedTimer, setSavedTimer] = useState(false);\r\n  const [activeKeySaveView, setActiveKeySaveView] = useState(false);\r\n\r\n  const inactivateKeySaveView = () => {\r\n    setActiveKeySaveView(false);\r\n  };\r\n  const activateKeySaveView = () => {\r\n    app().event(\"inactivateKeySaveView\");\r\n    setActiveKeySaveView(true);\r\n  };\r\n  const handleCancel = () => {\r\n    if (view.event(\"cancel\")) view.event(\"reload\");\r\n  };\r\n  const handleDelete = () => {\r\n    if (view.event(\"delete\"))\r\n      app()\r\n        .database[view.contentType].delete({ id: view.value._id })\r\n        .then(() => setButton(\"deleted\"));\r\n  };\r\n\r\n  const handleSubmit = useCallback(async () => {\r\n    if (button !== \"default\") return;\r\n\r\n    const { errors = [] } = await view.event(\"validate\");\r\n    if (errors.length) {\r\n      setError(\"Correct validation errors\", errors);\r\n      setSavedTimer(\r\n        setTimeout(() => {\r\n          setSavedTimer(false);\r\n        }, 1000)\r\n      );\r\n      return;\r\n    }\r\n    setError(false);\r\n    setButton(\"saving\");\r\n\r\n    const { data, error } = await app().database[view.contentType].save({\r\n      data: { ...value },\r\n      view: view.format,\r\n    });\r\n\r\n    console.log(\"zzave\", { data, error }, value._id);\r\n\r\n    if (error) {\r\n      view.event(\"error\", error);\r\n      setButton(\"default\");\r\n      return;\r\n    }\r\n\r\n    const saved = await view.event(\"save\", data);\r\n    const { pathname } = location;\r\n\r\n    if (data && view.value._id && view.value._id !== data._id) {\r\n      history.replace(\r\n        pathname.replace(`/${view.value._id}`, `/${data._id || \"\"}`)\r\n      );\r\n      return;\r\n    }\r\n\r\n    if (!model.noRedirect && !view.value._id) {\r\n      view.setValue({ path: \"_id\", value: data._id });\r\n      history.replace(`${model.redirectURL || pathname}/${data._id || \"\"}`);\r\n      return;\r\n    }\r\n\r\n    if (!saved) return;\r\n\r\n    setButton(\"success\");\r\n    setSavedTimer(\r\n      setTimeout(() => {\r\n        setButton(\"default\");\r\n        setSavedTimer(false);\r\n      }, 1000)\r\n    );\r\n  }, [button, history, location, model, value, view]);\r\n\r\n  useEffect(() => () => savedTimer && clearTimeout(savedTimer), [savedTimer]);\r\n\r\n  useEffect(() => {\r\n    const handleKeySave = () => {\r\n      if (activeKeySaveView) handleSubmit();\r\n    };\r\n\r\n    view.on(\"submit\", handleSubmit);\r\n    app().on(\"keypressSaveEvent\", handleKeySave);\r\n    app().on(\"inactivateKeySaveView\", inactivateKeySaveView);\r\n    view.on(\"change\", activateKeySaveView);\r\n\r\n    return () => {\r\n      view.off(\"submit\", handleSubmit);\r\n      view.off(\"change\", activateKeySaveView);\r\n      app().off(\"keypressSaveEvent\", handleKeySave);\r\n      app().off(\"inactivateKeySaveView\", inactivateKeySaveView);\r\n    };\r\n  }, [activeKeySaveView, handleSubmit, view]);\r\n\r\n  return (\r\n    <>\r\n      <Wrapper className={model.className}>\r\n        <Button\r\n          size={model.size}\r\n          onClick={handleSubmit}\r\n          type={buttonStates[button].type}\r\n        >\r\n          {app().t(buttonStates[button].text)}\r\n        </Button>\r\n        {button === \"default\" && !model.sendOnly && view.value._id && (\r\n          <>\r\n            <Button size={model.size} onClick={handleCancel} type=\"warning\">\r\n              Cancel\r\n            </Button>\r\n            <Button size={model.size} onClick={handleDelete} type=\"danger\">\r\n              {app().t(\"Delete\")}\r\n            </Button>\r\n          </>\r\n        )}\r\n      </Wrapper>\r\n      {error && (\r\n        <Wrapper className={`red py-2 px-1 ${savedTimer ? \"font-bold\" : \"\"}`}>\r\n          {error}\r\n        </Wrapper>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default withRouter(ViewButtonInput);\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Button, Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst ViewButtonReference = ({ model, view, path }) => {\r\n  const { event, item, className } = model;\r\n\r\n  if (item && item.length)\r\n    return (\r\n      <Wrapper\r\n        className={className}\r\n        onClick={() => view.event(\"reference\", { event, value: view.value })}\r\n      >\r\n        <ContentTypeRender path={path} items={item} />\r\n      </Wrapper>\r\n    );\r\n\r\n  return (\r\n    <Button\r\n      onClick={() => view.event(\"reference\", { event, value: view.value })}\r\n      className={className}\r\n      type={model.btnType}\r\n      size={model.btnSize}\r\n    >\r\n      {app().t(model.text)}\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default ViewButtonReference;\r\n","import React from \"react\";\r\nimport { Button } from \"nystem-components\";\r\n\r\nconst ViewButtonSetValue = ({ model, view }) => {\r\n  const value = view.getValue(model.field);\r\n  const modelValue =\r\n    model.value.replace(/[0-9]/, \"\") === \"\"\r\n      ? parseInt(model.value, 10)\r\n      : model.value;\r\n\r\n  const setValue = () =>\r\n    view.setValue({ path: model.field, value: modelValue });\r\n\r\n  return (\r\n    <Button\r\n      type={value === modelValue ? model.btnType : model.falseBtnType}\r\n      size={model.size}\r\n      className={model.className}\r\n      onClick={() => setValue()}\r\n    >\r\n      {value ? model.text : model.falseText || model.text}\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default ViewButtonSetValue;\r\n","import { useEffect } from \"react\";\r\n\r\nconst ViewButtonSetValueOnLoad = ({ model, view }) => {\r\n  useEffect(() => {\r\n    const value = view.getValue(model.field);\r\n    const modelValue =\r\n      model.value.replace(/[0-9]/, \"\") === \"\"\r\n        ? parseInt(model.value, 10)\r\n        : model.value;\r\n\r\n    if (value !== modelValue)\r\n      view.setValue({ path: model.field, value: modelValue });\r\n  }, [model, view]);\r\n\r\n  return null;\r\n};\r\n\r\nexport default ViewButtonSetValueOnLoad;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Button, Wrapper } from \"nystem-components\";\r\n\r\nconst ViewButtonView = ({ model, view }) => (\r\n  <Wrapper className={model.className}>\r\n    <Button\r\n      type={model.btnType}\r\n      onClick={() => view.event(model.event || \"submit\", view.value)}\r\n    >\r\n      {app().t(model.text || \"...\")}\r\n    </Button>\r\n  </Wrapper>\r\n);\r\n\r\nexport default ViewButtonView;\r\n","import React from \"react\";\r\nimport { ContentTypeView } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst ViewInViewEmpty = ({ model, view, path }) => {\r\n  const { contentType, className, viewId } = model;\r\n\r\n  const insertVal = (val) => {\r\n    if (!val) return val;\r\n    return val.replace(/\\{([a-z_.]+)\\}/gim, (str, p1, offset, s) => {\r\n      if (p1 === \"_language\") return app().settings.lang;\r\n      if (p1 === \"id\") return view.id;\r\n      if (p1.indexOf(\"baseView.\") !== 0)\r\n        return view.getValue(p1.replace(\"..\", path));\r\n      p1 = p1.replace(\"baseView.\", \"\");\r\n      return view.baseView.getValue(p1.replace(\"..\", path));\r\n    });\r\n  };\r\n\r\n  return (\r\n    <ContentTypeView\r\n      className={className}\r\n      contentType={contentType}\r\n      format={model.view}\r\n      baseView={view}\r\n      id={insertVal(viewId)}\r\n    />\r\n  );\r\n};\r\nexport default ViewInViewEmpty;\r\n","import React from \"react\";\r\nimport { ContentTypeView } from \"nystem-components\";\r\n\r\nconst ViewInViewSetValue = ({ model, view, path, value }) => {\r\n  const { addid, viewId, contentType } = model;\r\n\r\n  const setValue = (id, value) => {\r\n    if (!id && !value) return;\r\n    if (model.addid) view.setValue({ path: model.addid, value });\r\n    else view.setValue(id, value);\r\n  };\r\n\r\n  const insertVal = (val) =>\r\n    val &&\r\n    val.replace(/\\{([a-z_.]+)\\}/gim, (str, p1, offset, s) =>\r\n      view.getValue(p1.replace(\"..\", path))\r\n    );\r\n\r\n  return (\r\n    <ContentTypeView\r\n      className={model.className}\r\n      setValue={setValue}\r\n      contentType={contentType}\r\n      format={model.view}\r\n      value={addid ? value[addid] : value}\r\n      id={insertVal(viewId)}\r\n    />\r\n  );\r\n};\r\n\r\nexport default ViewInViewSetValue;\r\n","import React from \"react\";\r\nimport { ContentTypeView } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst ViewInViewView = ({ model, view, value, path, onSave }) => {\r\n  const { addid, contentType, className, viewId } = model;\r\n\r\n  const insertVal = (val) => {\r\n    if (!val) return val;\r\n    return val.replace(/\\{([a-z_.]+)\\}/gim, (str, p1, offset, s) => {\r\n      if (p1 === \"_language\") return app().settings.lang;\r\n      if (p1 === \"id\") return view.id;\r\n      if (p1.indexOf(\"baseView.\") !== 0)\r\n        return view.getValue(p1.replace(\"..\", path));\r\n      p1 = p1.replace(\"baseView.\", \"\");\r\n      return view.baseView.getValue(p1.replace(\"..\", path));\r\n    });\r\n  };\r\n\r\n  return (\r\n    <ContentTypeView\r\n      className={className}\r\n      contentType={contentType}\r\n      format={model.view}\r\n      value={(addid && value[addid]) || value}\r\n      id={insertVal(viewId)}\r\n      baseView={view}\r\n      {...(onSave ? { onSave } : {})}\r\n    />\r\n  );\r\n};\r\nexport default ViewInViewView;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Link } from \"nystem-components\";\r\n\r\nclass ViewLinkButton extends React.Component {\r\n  render() {\r\n    const { model } = this.props;\r\n    let className = model.className ? model.className.join(\" \") : \"\";\r\n    let { href } = model;\r\n    if (model.renderType) className += ` btn-${model.renderType}`;\r\n    if (href[href.length - 1] === \"/\" && this.props.view.value)\r\n      href += this.props.view.value._id;\r\n    return (\r\n      <Link\r\n        className={`${className} btn`}\r\n        to={href}\r\n        match={model.match}\r\n        type=\"button\"\r\n        title={this.props.title ? this.props.title : \"\"}\r\n      >\r\n        {app().t(model.text)}\r\n      </Link>\r\n    );\r\n  }\r\n}\r\nexport default ViewLinkButton;\r\n","import React from \"react\";\r\nimport { Link, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst ViewLinkDynamicFields = ({ view, path, model }) => {\r\n  const insertVal = (val) => {\r\n    if (!val) return val;\r\n    return val.replace(/\\{([a-z_.0-9]+)\\}/gim, (str, p1, offset, s) => {\r\n      if (/pathItem[0-9]/.test(p1) && view.params) return view.params[p1[8]];\r\n      return view.getValue(p1.replace(\"..\", path));\r\n    });\r\n  };\r\n\r\n  const { className, exact, match, item, href } = model;\r\n\r\n  return (\r\n    <Link\r\n      className={className}\r\n      to={insertVal(href)}\r\n      match={match}\r\n      exact={exact}\r\n    >\r\n      <ContentTypeRender path={path} items={item} />\r\n    </Link>\r\n  );\r\n};\r\nexport default ViewLinkDynamicFields;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Link } from \"nystem-components\";\r\n\r\nconst ViewLinkDynamicLink = ({ model, view, path }) => {\r\n  const insertVal = (val) =>\r\n    val &&\r\n    val.replace(/\\{([a-z_.0-9]+)\\}/gim, (str, p1, offset, s) => {\r\n      if (/pathItem[0-9]/.test(p1) && view.params) return view.params[p1[8]];\r\n      return view.getValue(p1.replace(\"..\", path));\r\n    });\r\n\r\n  const { href, match, className } = model;\r\n\r\n  return (\r\n    <Link\r\n      className={className ? className.join(\" \") : \"\"}\r\n      to={insertVal(href)}\r\n      match={insertVal(match)}\r\n    >\r\n      {app().t(model.text)}\r\n    </Link>\r\n  );\r\n};\r\nexport default ViewLinkDynamicLink;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst ViewLinkExternal = ({ view, path, model }) => {\r\n  const insertVal = (val) => {\r\n    if (!val) return val;\r\n    return val.replace(/\\{([a-z_.0-9]+)\\}/gim, (str, p1, offset, s) => {\r\n      if (/pathItem[0-9]/.test(p1) && view.params) return view.params[p1[8]];\r\n      return view.getValue(p1.replace(\"..\", path));\r\n    });\r\n  };\r\n\r\n  const { className, item, href } = model;\r\n  let link = insertVal(href);\r\n  if (!/https?:\\/\\//im.test(link)) link = `https://${link}`;\r\n\r\n  return (\r\n    <Wrapper\r\n      className={className}\r\n      href={link}\r\n      target=\"_blank\"\r\n      renderAs=\"a\"\r\n      rel=\"noopener\"\r\n    >\r\n      <ContentTypeRender path={path} items={item} />\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default ViewLinkExternal;\r\n","import React from \"react\";\r\nimport { Link, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst ViewLinkFields = ({ model, value, path }) => {\r\n  const { className, contentType, view: toView, add, addId, item } = model;\r\n\r\n  let href = `/${contentType}/${toView}`;\r\n  if (addId && value) href += `/${value._id}`;\r\n\r\n  return (\r\n    <Link to={(add || \"\") + href} className={className}>\r\n      <ContentTypeRender path={path} items={item} />\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default ViewLinkFields;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Link, Icon } from \"nystem-components\";\r\nclass ViewLinkLink extends React.Component {\r\n  render() {\r\n    const model = this.props.model;\r\n    const className = model.className ? model.className.join(\" \") : \"\";\r\n    const href =\r\n      model.href && this.props.view.id\r\n        ? model.href.replace(\"{id}\", this.props.view.id)\r\n        : model.href;\r\n\r\n    if (model.blank)\r\n      return (\r\n        <a\r\n          className={className}\r\n          href={href}\r\n          rel=\"noopener noreferrer\"\r\n          target=\"_blank\"\r\n        >\r\n          {app().t(model.text)}\r\n        </a>\r\n      );\r\n\r\n    if (model.renderType === \"icon\")\r\n      return (\r\n        <Link to={href} match={model.match} type=\"link\">\r\n          <Icon className={className} />\r\n        </Link>\r\n      );\r\n\r\n    return (\r\n      <Link className={className} to={href} match={model.match} type=\"link\">\r\n        {app().t(model.text)}\r\n      </Link>\r\n    );\r\n  }\r\n}\r\nexport default ViewLinkLink;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Link, Button } from \"nystem-components\";\r\n\r\nconst ViewLinkView = ({ model, value }) => {\r\n  const {\r\n    renderType,\r\n    className,\r\n    contentType,\r\n    view: toView,\r\n    text,\r\n    add,\r\n    addId,\r\n    btnType,\r\n    size,\r\n  } = model;\r\n\r\n  let href = `/${contentType}/${toView}`;\r\n  if (addId && value) href += `/${value._id}`;\r\n\r\n  if (renderType === \"button\")\r\n    return (\r\n      <Button\r\n        type={btnType}\r\n        size={size}\r\n        to={(add || \"\") + href}\r\n        className={className}\r\n        Component={Link}\r\n      >\r\n        {app().t(text)}\r\n      </Button>\r\n    );\r\n\r\n  return (\r\n    <Link\r\n      type={renderType || \"list\"}\r\n      to={(add || \"\") + href}\r\n      className={className}\r\n    >\r\n      {app().t(text)}\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default ViewLinkView;\r\n","import React, { useContext } from \"react\";\r\nimport {\r\n  Wrapper,\r\n  ContentTypeRender,\r\n  DatabaseSearchContext,\r\n} from \"nystem-components\";\r\n\r\nconst ViewListEmptySearchresult = ({ model, path }) => {\r\n  const { search = {} } = useContext(DatabaseSearchContext);\r\n  const { filter = {} } = search;\r\n  const searchText = ((filter.$and || []).find((item) => item.$all) || {}).$all;\r\n\r\n  if ((!searchText && model.inverse) || (searchText && !model.inverse))\r\n    return (\r\n      <Wrapper className={model.className} renderAs={model.renderAs}>\r\n        <ContentTypeRender path={path} items={model.item} />\r\n      </Wrapper>\r\n    );\r\n\r\n  return null;\r\n};\r\nexport default ViewListEmptySearchresult;\r\n","import React, { useState, useEffect, useRef, useContext } from \"react\";\r\nimport app from \"nystem\";\r\nimport {\r\n  Wrapper,\r\n  DatabaseSearchContext,\r\n  ContentTypeRender,\r\n} from \"nystem-components\";\r\n\r\nconst getStyle = (top, extend) => ({\r\n  position: \"absolute\",\r\n  top: `${top}px`,\r\n  width: \"100%\",\r\n  ...extend,\r\n});\r\n\r\nconst ViewListInfiniteSlot = ({ height, slot, model, setSize, view }) => {\r\n  const context = useContext(DatabaseSearchContext);\r\n  const [slotSearch, setSlotSearch] = useState(false);\r\n  const ref = useRef();\r\n\r\n  useEffect(() => {\r\n    if (slot === 0) return;\r\n    const db = app().database[view.contentType];\r\n\r\n    const timer = setTimeout(() => {\r\n      db.search({\r\n        ...context.search,\r\n        position: slot * context.search.count,\r\n        data: undefined,\r\n      }).then((search) => search.data && setSlotSearch(search));\r\n    }, model.searchDelay || 10);\r\n    return () => {\r\n      clearTimeout(timer);\r\n    };\r\n  }, [context.search, model.searchDelay, slot, view.contentType]);\r\n\r\n  useEffect(() => {\r\n    const setHeight = () => {\r\n      if (ref.current && ref.current.offsetHeight)\r\n        setSize(ref.current.offsetHeight);\r\n      else setTimeout(setHeight, 20);\r\n    };\r\n    setTimeout(setHeight, 0);\r\n  }, [setSize]);\r\n\r\n  if (slot !== 0 && !slotSearch)\r\n    return (\r\n      <div\r\n        className=\"loading p-4 m-4 rounded-lg shadow h-4 max-w-xl\"\r\n        style={getStyle(height * slot)}\r\n      />\r\n    );\r\n\r\n  const contents = (\r\n    <div\r\n      ref={ref}\r\n      style={getStyle(height * slot, {\r\n        visibility: height ? \"visible\" : \"hidden\",\r\n      })}\r\n    >\r\n      <ContentTypeRender path={model.path} items={model.item} />\r\n    </div>\r\n  );\r\n\r\n  if (slot === 0) return contents;\r\n\r\n  return (\r\n    <DatabaseSearchContext.Provider value={{ search: slotSearch }}>\r\n      {contents}\r\n    </DatabaseSearchContext.Provider>\r\n  );\r\n};\r\n\r\nconst ViewListInfinite = ({ view, model }) => {\r\n  const { search, loading } = useContext(DatabaseSearchContext);\r\n  const { searchTotal } = search;\r\n  const ref = useRef();\r\n  const [pos, setPos] = useState(0);\r\n  const [height, setHeight] = useState(0);\r\n  const slotsTotal = parseInt((searchTotal || 0) / search.count, 10) || 0;\r\n  const slotLimit = parseInt(model.slotLimit || 3, 10);\r\n\r\n  useEffect(() => {\r\n    if (!slotsTotal) return;\r\n    view.event(\"infiniteScrollPos\", { pos, total: slotsTotal - slotLimit + 1 });\r\n  }, [pos, slotLimit, slotsTotal, view]);\r\n\r\n  useEffect(() => {\r\n    let updateTimer = false;\r\n    let pos = 0;\r\n    let element = false;\r\n    let top = 0;\r\n    let timer = false;\r\n    const offset = (height) => (height < top ? 0 : height - top);\r\n\r\n    const updateSlots = () => {\r\n      clearTimeout(updateTimer);\r\n      updateTimer = false;\r\n\r\n      const newPos = parseInt(\r\n        (offset(element.scrollY) / (height * slotsTotal)) * slotsTotal,\r\n        10\r\n      );\r\n\r\n      if (pos === newPos) return;\r\n      pos = newPos;\r\n      setPos(pos);\r\n    };\r\n\r\n    const scrollEvent = () => {\r\n      if (!updateTimer) updateTimer = setTimeout(updateSlots, 200);\r\n    };\r\n\r\n    let width = window.innerWidth;\r\n    const resizeEvent = () => {\r\n      if (width === window.innerWidth) return;\r\n\r\n      width = window.innerWidth;\r\n      scrollEvent();\r\n      setHeight(0);\r\n    };\r\n\r\n    const start = () => {\r\n      element = ref.current;\r\n      if (!element) {\r\n        timer = setTimeout(start, 20);\r\n        return;\r\n      }\r\n      const { top: newTop } = element.getBoundingClientRect();\r\n      if (newTop > 0) top = newTop;\r\n\r\n      element = window;\r\n\r\n      element.addEventListener(\"scroll\", scrollEvent);\r\n      element.addEventListener(\"resize\", resizeEvent);\r\n    };\r\n    start();\r\n\r\n    return () => {\r\n      if (timer) clearTimeout(timer);\r\n      if (updateTimer) clearTimeout(updateTimer);\r\n      if (!element) return;\r\n\r\n      element.removeEventListener(\"scroll\", scrollEvent);\r\n      element.removeEventListener(\"resize\", resizeEvent);\r\n    };\r\n  }, [height, model, search.count, search.searchTotal, slotsTotal]);\r\n\r\n  if (loading) return null;\r\n\r\n  const slots = Array(\r\n    slotsTotal - pos < slotLimit - 1 ? slotsTotal - pos + 1 : slotLimit\r\n  ).fill();\r\n\r\n  return (\r\n    <Wrapper\r\n      ref={ref}\r\n      className={model.className}\r\n      style={{ position: \"relative\", height: `${height * slotsTotal}px` }}\r\n    >\r\n      {slots.map((und, index) => (\r\n        <ViewListInfiniteSlot\r\n          key={index + pos}\r\n          slot={index + pos}\r\n          model={model}\r\n          height={height}\r\n          setSize={(newHeight) => {\r\n            if (height < newHeight) setHeight(newHeight);\r\n          }}\r\n          view={view}\r\n          search={search}\r\n        />\r\n      ))}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default ViewListInfinite;\r\n","import React from \"react\";\r\nimport { Wrapper, UseEventListner } from \"nystem-components\";\r\n\r\nconst ViewListInfiniteScrollPos = ({ model, view }) => {\r\n  const { text, className, classNameLabel, classNameInfo } = model;\r\n  const { pos, total } = UseEventListner(view, \"infiniteScrollPos\");\r\n\r\n  if (!total) return null;\r\n\r\n  return (\r\n    <Wrapper className={className}>\r\n      <Wrapper className={classNameLabel}>{text}</Wrapper>\r\n      <Wrapper className={classNameInfo}>\r\n        {pos + 1} of {total + 1}\r\n      </Wrapper>\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default ViewListInfiniteScrollPos;\r\n","import React, { useContext } from \"react\";\r\nimport { Wrapper, DatabaseSearchContext } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst ViewListListStat = ({ model }) => {\r\n  const { search } = useContext(DatabaseSearchContext);\r\n  function total() {\r\n    if (\r\n      search.searchTotal === search.total ||\r\n      model.show.indexOf(\"total\") === -1\r\n    )\r\n      return null;\r\n    return (\r\n      <Wrapper renderAs=\"span\">\r\n        {`, ${search.total}${app().t(\" in total\")}`}\r\n      </Wrapper>\r\n    );\r\n  }\r\n\r\n  let text = \"\";\r\n  if (!model.show) model.show = [];\r\n  if (model.show.indexOf(\"currentPos\") !== -1)\r\n    text += search.position ? search.position : 0;\r\n  if (\r\n    model.show.indexOf(\"currentPos\") !== -1 &&\r\n    model.show.indexOf(\"toPos\") !== -1\r\n  )\r\n    text += \" - \";\r\n  if (model.show.indexOf(\"toPos\") !== -1)\r\n    text += search.count ? search.count : 0;\r\n  if (\r\n    model.show.indexOf(\"searchTotal\") !== -1 &&\r\n    (model.show.indexOf(\"currentPos\") !== -1 ||\r\n      model.show.indexOf(\"toPos\") !== -1)\r\n  )\r\n    text += \" of \";\r\n  if (model.show.indexOf(\"searchTotal\") !== -1)\r\n    text += search.searchTotal ? search.searchTotal : 0;\r\n\r\n  /* const toPos = settings.searchTotal < settings.position + settings.count\r\n      ? settings.searchTotal\r\n      : settings.position + settings.count; */\r\n  return (\r\n    <Wrapper className={[model.className, \"control-label\"]}>\r\n      <Wrapper>{model.text}</Wrapper>\r\n      <Wrapper>{text}</Wrapper>\r\n      {total()}\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default ViewListListStat;\r\n","import React, { useContext } from \"react\";\r\nimport { Wrapper, DatabaseSearchContext, Button } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst ViewListPager = ({ view, model }) => {\r\n  const { search } = useContext(DatabaseSearchContext);\r\n  const update = (e, move) => {\r\n    if (move === -1) search.position = prev(search);\r\n    if (move === 1) search.position = next(search);\r\n    view.event(\"setSearch\", search);\r\n  };\r\n\r\n  const prev = (search) =>\r\n    search.position !== 0 ? search.position - search.count : -1;\r\n  const next = (search) =>\r\n    search.position + search.count < search.searchTotal\r\n      ? search.position + search.count\r\n      : -1;\r\n\r\n  const className = model.className ? model.className.join(\" \") : \"\";\r\n  const hasPrev = prev(search) !== -1;\r\n  const hasNext = next(search) !== -1;\r\n\r\n  return (\r\n    <Wrapper renderAs=\"ul\" className={`${className} flex py-4`}>\r\n      <Button\r\n        disabled={!hasPrev && \"disabled\"}\r\n        className=\"mr-2\"\r\n        onClick={hasPrev ? (e) => update(e, -1) : undefined}\r\n      >\r\n         {app().t(\"Previous\")}\r\n      </Button>\r\n      <Button\r\n        disabled={!hasNext && \"disabled\"}\r\n        onClick={hasNext ? (e) => update(e, 1) : undefined}\r\n      >\r\n        {app().t(\"Next\")} \r\n      </Button>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default ViewListPager;\r\n","import React from \"react\";\r\nimport { ContentTypeView } from \"nystem-components\";\r\n\r\nimport \"./table.css\";\r\n\r\nconst ViewListRender = ({ model, view, value }) => {\r\n  const { rowClassName = [] } = model;\r\n  value = model.value || value;\r\n\r\n  function createItem(item) {\r\n    const id = [\"number\", \"string\"].includes(typeof item) ? item : item._id;\r\n\r\n    const settings = {\r\n      view: model,\r\n      contentType: view.contentType,\r\n      id,\r\n      key: id,\r\n      noForm: true,\r\n      baseView: view,\r\n      params: view.params,\r\n      className: rowClassName,\r\n      renderAs: item.renderAs,\r\n      itemRenderAs: item.renderAs === \"tr\" && \"td\",\r\n    };\r\n\r\n    return <ContentTypeView {...settings} />;\r\n  }\r\n\r\n  return value.map(createItem);\r\n};\r\n\r\nexport default ViewListRender;\r\n","import React from \"react\";\r\nimport { TextExposedField } from \"nystem-components\";\r\n\r\nconst ViewListSearch = ({ model, view }) => (\r\n  <TextExposedField\r\n    view={view}\r\n    model={{ text: \"Search\", ...model, id: \"$all\" }}\r\n  />\r\n);\r\n\r\nexport default ViewListSearch;\r\n","import React, { useContext } from \"react\";\r\nimport {\r\n  DatabaseSearchContext,\r\n  Wrapper,\r\n  ContentTypeRender,\r\n  ViewListRender,\r\n} from \"nystem-components\";\r\n\r\nimport \"./table.css\";\r\n\r\nconst ViewListView = ({ model, view }) => {\r\n  const { search } = useContext(DatabaseSearchContext);\r\n\r\n  const value = (search && search.data) || [];\r\n  const { emptyFields, className = [], headerFields, renderFormat } = model;\r\n\r\n  if (value.length === 0 && emptyFields && emptyFields.length > 0)\r\n    return (\r\n      <Wrapper className={className}>\r\n        <ContentTypeRender items={emptyFields} />\r\n      </Wrapper>\r\n    );\r\n\r\n  if (model.renderFormat === \"table\")\r\n    return (\r\n      <Wrapper renderAs=\"table\" className={className}>\r\n        <Wrapper renderAs=\"thead\">\r\n          <Wrapper renderAs=\"tr\">\r\n            <ContentTypeRender items={headerFields} renderAs=\"th\" />\r\n          </Wrapper>\r\n        </Wrapper>\r\n        <Wrapper renderAs=\"tbody\">\r\n          <ViewListRender\r\n            value={value.map((data) => ({ ...data, renderAs: \"tr\" }))}\r\n            model={model}\r\n            view={view}\r\n          />\r\n        </Wrapper>\r\n      </Wrapper>\r\n    );\r\n\r\n  if (renderFormat === \"list\")\r\n    return (\r\n      <Wrapper className={className}>\r\n        <ViewListRender value={value} model={model} view={view} />\r\n      </Wrapper>\r\n    );\r\n\r\n  if (headerFields && headerFields.length)\r\n    return (\r\n      <Wrapper className={className}>\r\n        <ContentTypeRender items={headerFields} />\r\n        <ViewListRender value={value} model={model} view={view} />\r\n      </Wrapper>\r\n    );\r\n\r\n  return (\r\n    <Wrapper className={className}>\r\n      <ViewListRender value={value} model={model} view={view} />\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default ViewListView;\r\n","import React from \"react\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nconst ViewTextBreak = ({ model }) => {\r\n  const className = model.className ? model.className.join(\" \") : \"\";\r\n  return (\r\n    <Wrapper className={className} renderAs={model.renderAs} translate=\"true\">\r\n      <br />\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default ViewTextBreak;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\nclass ViewTextToken extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.view = props.view;\r\n    const state = {\r\n      value: app().utils.clone(this.view.value),\r\n      text: this.insertVal(this.model.text)\r\n    };\r\n    this.view.on(\"change\", this.setValueView);\r\n    this.state = state;\r\n  }\r\n  setValueView() {\r\n    const self = this;\r\n    if (JSON.stringify(this.view.value) !== JSON.stringify(this.state.value))\r\n      setTimeout(function() {\r\n        if (self.isMounted())\r\n          self.setState({\r\n            value: app().utils.clone(self.view.value),\r\n            text: self.insertVal(self.model.text)\r\n          });\r\n      }, 0);\r\n  }\r\n  insertVal(val) {\r\n    if (!val) return val;\r\n    const self = this;\r\n    this.val = false;\r\n    return val.replace(/\\{([a-z_.]+)\\}/gim, function(str, p1, offset, s) {\r\n      const val = self.view.getValue(p1.replace(\"..\", self.props.path));\r\n      return typeof val === \"undefined\" ? \"\" : val;\r\n    });\r\n  }\r\n  componentWillUnmount() {\r\n    this.view.off(\"change\", this.setValueView);\r\n  }\r\n  render() {\r\n    const className = this.model.className ? this.model.className.join(\" \") : \"\";\r\n    const renderAs = this.props.model.renderAs\r\n      ? this.props.model.renderAs\r\n      : this.props.model.format;\r\n    return (\r\n      <Wrapper renderAs={renderAs} className={className}>\r\n        {app().t(this.state.text)}\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\nexport default ViewTextToken;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nclass ViewTextTokenFallbackNew extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.view = props.view;\r\n    const state = {\r\n      value: app().utils.clone(this.view.value),\r\n      text: this.insertVal(this.model.text),\r\n    };\r\n    this.view.on(\"change\", this.setValueView);\r\n    this.state = state;\r\n  }\r\n  setValueView() {\r\n    const self = this;\r\n    if (JSON.stringify(this.view.value) !== JSON.stringify(this.state.value))\r\n      setTimeout(() => {\r\n        if (self.isMounted())\r\n          self.setState({\r\n            value: app().utils.clone(self.view.value),\r\n            text: self.insertVal(self.model.text),\r\n          });\r\n      }, 0);\r\n  }\r\n  insertVal(val) {\r\n    if (!val) return val;\r\n    const self = this;\r\n    this.val = false;\r\n    return val.replace(/\\{([a-z_.]+)\\}/gim, (str, p1, offset, s) => {\r\n      const val = self.view.getValue(p1.replace(\"..\", self.props.path));\r\n      self.val = self.val || val;\r\n      return typeof val === \"undefined\" ? \"\" : val;\r\n    });\r\n  }\r\n  componentWillUnmount() {\r\n    this.view.off(\"change\", this.setValueView);\r\n  }\r\n  render() {\r\n    const className = this.model.className\r\n      ? this.model.className.join(\" \")\r\n      : \"\";\r\n    const renderAs = this.props.model.renderAs\r\n      ? this.props.model.renderAs\r\n      : this.props.model.format;\r\n    const text = this.val\r\n      ? this.state.text\r\n      : `New ${app().contentType[this.view.contentType].name}`;\r\n    return (\r\n      <Wrapper renderAs={renderAs} className={className}>\r\n        {app().t(text)}\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\nexport default ViewTextTokenFallbackNew;\r\n","import React from \"react\";\r\nimport { Wrapper } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst ViewTextView = ({ model }) => {\r\n  const className = model.className ? model.className.join(\" \") : \"\";\r\n  return (\r\n    <Wrapper className={className} renderAs={model.renderAs} translate=\"true\">\r\n      {app().t(model.text)}\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default ViewTextView;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\nclass ConnectionCssclass extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { connected: app().connection.connected() };\r\n  }\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    this.setState({ value: nextProps.value });\r\n  }\r\n  componentDidMount() {\r\n    app().connection.on(\"connect\", this.update);\r\n    app().connection.on(\"diconnect\", this.update);\r\n  }\r\n  componentWillUnmount() {\r\n    app().connection.on(\"connect\", this.update);\r\n    app().connection.on(\"diconnect\", this.update);\r\n  }\r\n  update = () => {\r\n    this.setState({ connected: app().connection.connected() });\r\n  };\r\n  render() {\r\n    const { children, view } = this.props;\r\n    const model = this.props.model || this.props;\r\n    const { connected } = this.state;\r\n\r\n    let className =\r\n      model.className instanceof Array\r\n        ? model.className.join(\" \")\r\n        : model.className || \"\";\r\n    const connectionClass =\r\n      (connected ? model.onlineClass : model.offlineClass) || \"\";\r\n    const space = connectionClass && className ? \" \" : \"\";\r\n\r\n    return (\r\n      <Wrapper className={className + space + connectionClass}>\r\n        {children ? children : model.item.map(view.createItem, this)}\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ConnectionCssclass;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst ConnectionView = ({ model = {}, offline, className, path, children }) => {\r\n  const isConnected = () => app().connection.connected();\r\n  const [connected, setConnectedState] = useState(isConnected());\r\n\r\n  useEffect(() => {\r\n    const update = () => setConnectedState(isConnected());\r\n\r\n    app().connection.on(\"connect\", update);\r\n    app().connection.on(\"disconnect\", update);\r\n    setTimeout(() => {\r\n      if (connected !== isConnected()) setConnectedState(isConnected());\r\n    }, 60);\r\n    return () => {\r\n      app().connection.off(\"connect\", update);\r\n      app().connection.off(\"disconnect\", update);\r\n    };\r\n  }, [connected]);\r\n\r\n  className = className || model.className;\r\n  offline = offline || model.offline;\r\n\r\n  if ((connected && offline) || (!connected && !offline)) return null;\r\n\r\n  return (\r\n    <Wrapper className={className}>\r\n      {children || <ContentTypeRender path={path} items={model.item} />}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default ConnectionView;\r\n","import React from \"react\";\nclass Offline extends React.Component {\n  render() {\n    return (\n      <div className=\"cssload-loader\">\n        <div className=\"cssload-inner cssload-one\" />\n        <div className=\"cssload-inner cssload-two\" />\n        <div className=\"cssload-inner cssload-three\" />\n      </div>\n    );\n  }\n}\nexport default Offline;\n","import React from \"react\";\r\n\r\nconst ContentTypeContext = React.createContext();\r\n\r\nexport default ContentTypeContext;\r\n\r\nexport const ViewContextProvider = ContentTypeContext.Provider;\r\n","import React, { useContext } from \"react\";\r\nimport app from \"nystem\";\r\nimport * as components from \"nystem-components\";\r\n\r\nconst createItem = ({ item, value, path, view, ...context }) => {\r\n  const { capFirst } = app();\r\n  const { id, type, format } = item;\r\n\r\n  const componentName = `${capFirst(type)}${capFirst(\r\n    format || view.viewFormat || \"view\"\r\n  )}`;\r\n\r\n  const component =\r\n    components[componentName] || components[`${capFirst(type)}View`];\r\n\r\n  const { getValue, getId } = view;\r\n  path = getId({ id, path });\r\n  const setValue = (value) => view.setValue({ path, value });\r\n\r\n  if (!component)\r\n    return (\r\n      <div\r\n        key={context.key}\r\n        className=\"red\"\r\n      >{`Missing component ${componentName}`}</div>\r\n    );\r\n\r\n  const focus =\r\n    item.format === \"input\" &&\r\n    item.category !== \"view\" &&\r\n    view.focus &&\r\n    !view.focused;\r\n\r\n  if (focus) view.focused = true;\r\n\r\n  return React.createElement(component, {\r\n    ...context,\r\n    value: getValue(path),\r\n    path,\r\n    view,\r\n    model: item,\r\n    setValue,\r\n    focus,\r\n  });\r\n};\r\n\r\nconst ContentTypeRender = (props) => {\r\n  const { path, items, renderAs } = props;\r\n  const context = useContext(components.ContentTypeContext);\r\n\r\n  if (!items) return <div className=\"red\">Missing items</div>;\r\n\r\n  return items.map((item, key) => {\r\n    const out = createItem({ key, item, path, ...context });\r\n    return (renderAs && React.createElement(renderAs, { key }, out)) || out;\r\n  });\r\n};\r\nexport default ContentTypeRender;\r\n","import React, { useState, useEffect, useMemo } from \"react\";\r\nimport app from \"nystem\";\r\nimport {\r\n  Loading,\r\n  Wrapper,\r\n  ContentTypeRender,\r\n  DatabaseSearchContextProvider,\r\n} from \"nystem-components\";\r\nimport { getDiff, applyDiff } from \"recursive-diff\";\r\n\r\nimport { ViewContextProvider } from \"./context\";\r\nimport \"./view.css\";\r\n\r\nconst setValueAtPath = ({ path, current, value }) => {\r\n  if (!path) return value;\r\n\r\n  const parts = path.split(\".\");\r\n  const out = { ...current };\r\n  let at = out;\r\n\r\n  parts.forEach((key, index) => {\r\n    if (parts.length - 1 === index) at[key] = value;\r\n    else {\r\n      at[key] = at[key] instanceof Array ? [...at[key]] : { ...at[key] };\r\n      at = at[key];\r\n    }\r\n  });\r\n\r\n  if (app().settings.debug) console.log(out);\r\n  return out;\r\n};\r\n\r\nconst getId = ({ path = \"\", id = \"\" }) => {\r\n  if (path && id) return `${path}.${id}`;\r\n  if (id) return id;\r\n  return path;\r\n};\r\n\r\nconst useValue = ({ view, propvalue }) => {\r\n  const [value, setValue] = useState({});\r\n  const [loading, setLoading] = useState(!!view.id);\r\n\r\n  useEffect(() => {\r\n    if (!propvalue || view.id) return;\r\n    setTimeout(() => {\r\n      view.event(\"change\", { value: propvalue });\r\n    }, 10);\r\n  }, [view, propvalue]);\r\n\r\n  useEffect(() => {\r\n    if (!view.on) return;\r\n\r\n    const { id, contentType, noAutoUpdate } = view;\r\n    const db = app().database[contentType];\r\n    let firstData = id ? false : {};\r\n    let value = false;\r\n    let savedData = false;\r\n\r\n    const doGet = ({ ids } = {}) => {\r\n      if (!ids || ids.includes(id))\r\n        db.get({ id }).then(({ data }) => {\r\n          if (!data) data = {};\r\n          if (!firstData) {\r\n            view.event(\"change\", { value: data });\r\n            return;\r\n          }\r\n\r\n          const diff = getDiff(savedData, data);\r\n          value = applyDiff(value, diff);\r\n\r\n          if (diff.length) view.event(\"change\", { value });\r\n        });\r\n    };\r\n    if (id) doGet();\r\n    if (!noAutoUpdate) db.on(\"update\", doGet);\r\n\r\n    const changeData = (props) => ({\r\n      ...props,\r\n      id: props.path,\r\n      value: props.path\r\n        ? setValueAtPath({ ...props, current: value })\r\n        : props.value,\r\n      oldValue: value,\r\n    });\r\n\r\n    view.on(\"change\", 1000, changeData);\r\n\r\n    const setData = async ({ value: newValue }) => {\r\n      value = newValue;\r\n      await setValue({ ...value });\r\n\r\n      if (!firstData) {\r\n        // eslint-disable-next-line no-multi-assign\r\n        firstData = savedData = value;\r\n        setLoading(false);\r\n      }\r\n    };\r\n    view.on(\"change\", -999, setData);\r\n\r\n    const saveData = (data) => {\r\n      savedData = data;\r\n    };\r\n    view.on(\"save\", -1000, saveData);\r\n\r\n    const reload = () => {\r\n      view.event(\"clearErrorValidation\");\r\n      view.event(\"change\", { value: firstData });\r\n    };\r\n    view.on(\"reload\", reload);\r\n\r\n    return () => {\r\n      if (!noAutoUpdate) db.off(\"update\", doGet);\r\n      view.off(\"reload\", reload);\r\n      view.off(\"change\", changeData);\r\n      view.off(\"change\", setData);\r\n      view.on(\"save\", saveData);\r\n    };\r\n  }, [view]);\r\n\r\n  view.getValue = (path) =>\r\n    path ? path.split(\".\").reduce((val, key) => val && val[key], value) : value;\r\n\r\n  view.setValue = (props) => view.event(\"change\", props);\r\n  view.value = value;\r\n\r\n  return { value, loading };\r\n};\r\n\r\nconst ContentTypeView = ({\r\n  id,\r\n  contentType,\r\n  baseView,\r\n  addForm,\r\n  className,\r\n  itemFrom,\r\n  itemTo,\r\n  format,\r\n  children,\r\n  view: viewModel,\r\n  value: propvalue,\r\n  renderAs,\r\n  itemRenderAs,\r\n  ...events\r\n}) => {\r\n  const view = useMemo(() => {\r\n    const model = app().populatedViews[contentType];\r\n\r\n    if (!viewModel && !(model && model.views)) {\r\n      console.error(\"View creation error\", {\r\n        contentType,\r\n        baseView,\r\n        format,\r\n      });\r\n      return { model: {} };\r\n    }\r\n\r\n    const base = viewModel || model.views[format] || {};\r\n    return app().addeventhandler(\r\n      {\r\n        ...base,\r\n        baseView,\r\n        model,\r\n        format,\r\n        viewFormat: base.format,\r\n        contentType,\r\n        getId,\r\n        id,\r\n      },\r\n      `view ${contentType} ${format}`\r\n    );\r\n  }, [id, baseView, contentType, format, viewModel]);\r\n\r\n  const { model } = view;\r\n\r\n  useEffect(() => {\r\n    if (!view.on) return;\r\n\r\n    Object.keys(events).forEach((event) => {\r\n      if (event.substring(0, 2) === \"on\" && event[2].toUpperCase() === event[2])\r\n        view.on(event.substring(2).toLowerCase(), events[event]);\r\n    });\r\n\r\n    return () => {\r\n      Object.keys(events).forEach((event) => {\r\n        if (\r\n          event.substring(0, 2) === \"on\" &&\r\n          event[2].toUpperCase() === event[2]\r\n        )\r\n          view.off(event.substring(2).toLowerCase(), events[event]);\r\n      });\r\n    };\r\n  }, [events, view]);\r\n\r\n  const { value, loading } = useValue({ view, propvalue });\r\n\r\n  if (!model) return \"Missing model to create view\";\r\n  if (loading) return <Loading />;\r\n\r\n  const context = { contentType, model, view, value };\r\n  const items = view.item ? view.item.slice(itemFrom, itemTo) : [];\r\n\r\n  if (!renderAs) renderAs = !(addForm || view.addForm) ? undefined : \"form\";\r\n\r\n  return (\r\n    <ViewContextProvider value={context}>\r\n      <Wrapper\r\n        renderAs={renderAs}\r\n        className={className}\r\n        {...(!addForm\r\n          ? {}\r\n          : {\r\n              onSubmit: (e) => {\r\n                e.preventDefault();\r\n                view.event(\"submit\");\r\n              },\r\n            })}\r\n      >\r\n        <DatabaseSearchContextProvider view={view}>\r\n          {children || (\r\n            <ContentTypeRender items={items} renderAs={itemRenderAs} />\r\n          )}\r\n        </DatabaseSearchContextProvider>\r\n      </Wrapper>\r\n    </ViewContextProvider>\r\n  );\r\n};\r\n\r\nexport default ContentTypeView;\r\n","import { useState, useEffect } from \"react\";\r\n\r\nconst UseValidator = ({ validate, view, model, value }) => {\r\n  const [isValidated, setValidated] = useState(view && view.isValidated);\r\n  const error = isValidated && validate({ value, model });\r\n\r\n  useEffect(() => {\r\n    const validator = async ({ errors }) => {\r\n      setValidated(true);\r\n\r\n      const error = await Promise.resolve(validate({ value, model }) || false);\r\n      if (error) errors = [...(errors || []), error];\r\n      return errors ? { errors } : undefined;\r\n    };\r\n\r\n    const clearErrorValidation = () => {\r\n      setValidated(false);\r\n    };\r\n    if (!view) return;\r\n    view.on(\"validate\", validator);\r\n    view.on(\"clearErrorValidation\", clearErrorValidation);\r\n\r\n    return () => {\r\n      if (!view) return;\r\n      view.off(\"validate\", validator);\r\n      view.off(\"clearErrorValidation\", clearErrorValidation);\r\n    };\r\n  }, [view, validate, value, model]);\r\n\r\n  return [error, setValidated];\r\n};\r\nexport default UseValidator;\r\n","import React from \"react\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nconst types = {\r\n  primary: \"bg-blue-500 hover:bg-blue-500 text-white rounded shadow-sm\",\r\n  secondary:\r\n    \"bg-gray-200 hover:bg-gray-300 text-gray-900 border border-gray-300 rounded shadow-sm\",\r\n  \"ehc-primary\": \"floatlabel bg-primary text-white w-full\",\r\n  \"ehc-secondary\": \"floatlabel bg-secondary border border-gray-300 w-full\",\r\n  danger: \"bg-red-700 hover:bg-red-600 text-white rounded shadow-sm\",\r\n  warning: \"bg-yellow-600 hover:bg-yellow-500 text-white rounded shadow-sm\",\r\n  success: \"bg-green-600 hover:bg-green-500 text-white rounded shadow-sm\",\r\n  info: \"btn\",\r\n  error: \"btn\",\r\n  default: \"bg-gray-200 hover:bg-gray-300 text-gray-900 border border-gray-300\",\r\n  primaryDisabled: \"bg-blue-400 cursor-not-allowed\",\r\n  secondaryDisabled: \"bg-gray-600 text-white cursor-not-allowed\",\r\n  dangerDisabled: \"bg-red-400 text-white cursor-not-allowed\",\r\n  warningDisabled: \"bg-yellow-300 text-white cursor-not-allowed\",\r\n  infoDisabled: \"btn\",\r\n  errorDisabled: \"btn\",\r\n  defaultDisabled: \"bg-gray-300 text-white cursor-not-allowed\",\r\n};\r\n\r\nconst sizes = {\r\n  xs: \"py-1 px-2 text-xs\",\r\n  sm: \"py-1 px-2 text-sm\",\r\n  base: \"py-2 px-4 text-base\",\r\n  lg: \"py-4 px-6 text-lg\",\r\n  xl: \"py-4 px-8 text-xl\",\r\n  \"2xl\": \"py-4 px-8 text-xl2\",\r\n};\r\n\r\nconst Button = ({\r\n  onClick,\r\n  className = [],\r\n  type,\r\n  size,\r\n  disabled,\r\n  ...props\r\n}) => {\r\n  className = className instanceof Array ? [...className] : [className];\r\n\r\n  if (!className.includes(\"floatlabel\")) {\r\n    className.push(types[(type || \"default\") + (disabled ? \"Disabled\" : \"\")]);\r\n    className.push(sizes[size] || sizes.base);\r\n  }\r\n\r\n  if (props.Component)\r\n    return React.createElement(props.Component, {\r\n      className,\r\n      ...props,\r\n    });\r\n\r\n  return (\r\n    <Wrapper\r\n      renderAs=\"button\"\r\n      className={className}\r\n      {...props}\r\n      onClick={(e) => {\r\n        e.preventDefault();\r\n        onClick();\r\n      }}\r\n    />\r\n  );\r\n};\r\nexport default Button;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Button } from \"nystem-components\";\r\n\r\nclass ErrorManager extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.disconnectEvent = this.disconnectEvent.bind(this);\r\n    this.errorEvent = this.errorEvent.bind(this);\r\n    this.connectEvent = this.connectEvent.bind(this);\r\n    // window.onerror = this.errorEvent;\r\n    app().connection.on(\"disconnect\", this.disconnectEvent);\r\n    app().connection.on(\"connect\", this.connectEvent);\r\n    this.state = {\r\n      error: false,\r\n      offline: false,\r\n    };\r\n  }\r\n  disconnectEvent() {\r\n    this.setState({\r\n      offline: true,\r\n    });\r\n  }\r\n  connectEvent() {\r\n    if (this.state)\r\n      this.setState({\r\n        offline: false,\r\n      });\r\n  }\r\n  errorEvent(error, url, line) {\r\n    const self = this;\r\n    console.log(error);\r\n    console.log(`URL: ${url}`);\r\n    console.log(`Line Number: ${line}`);\r\n    this.setState({ error: \"An error occured. Reload?\" });\r\n    if (this.errorTimer) clearTimeout(this.errorTimer);\r\n    this.errorTimer = setTimeout(() => {\r\n      self.setState({ error: false });\r\n    }, 5000);\r\n  }\r\n  errorReload(error, url, line) {\r\n    window.location.reload();\r\n  }\r\n  componentWillUnmount() {\r\n    clearTimeout(this.errorTimer);\r\n    app().connection.off(\"disconnect\", this.disconnectEvent);\r\n    app().connection.off(\"connect\", this.connectEvent);\r\n  }\r\n  render() {\r\n    if (this.state.error || this.state.offline)\r\n      return (\r\n        <Button className=\"btn-danger btn\" onClick={this.errorReload}>\r\n          {this.state.error || \"Site is offline\"}\r\n        </Button>\r\n      );\r\n    return <div />;\r\n  }\r\n}\r\nexport default ErrorManager;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\n\r\nclass ErrorMsg extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { error: this.props.error };\r\n  }\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    this.setState({ error: nextProps.error });\r\n  }\r\n  render() {\r\n    const error =\r\n      this.state.error === true ? \"Required field\" : this.state.error;\r\n    const defaultType = \"danger\";\r\n    const className = [\"alert\"];\r\n    className.push(`alert-${this.props.type ? this.props.type : defaultType}`);\r\n    if (this.props.className) className.push(this.props.className);\r\n    if (error)\r\n      return (\r\n        <p\r\n          className={className.join(\" \")}\r\n          dangerouslySetInnerHTML={{ __html: app().t(error) }}\r\n        />\r\n      );\r\n    return null;\r\n  }\r\n}\r\nexport default ErrorMsg;\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\n\r\nconst byType = {\r\n  text:\r\n    \"appearance-none block bg-grey-lighter text-grey-darker border border-grey-lighter rounded py-1 px-3 shadow-sm\",\r\n  password:\r\n    \"appearance-none block bg-grey-lighter text-grey-darker border border-grey-lighter rounded py-1 px-3 shadow-sm\",\r\n  checkbox: \"m-4\",\r\n};\r\n\r\nconst Input = ({ type, value, ...props }, parentRef) => {\r\n  const localRef = useRef(null);\r\n  const [val, setVal] = useState(value);\r\n  const ref = parentRef || localRef;\r\n\r\n  const valRef = useRef();\r\n  valRef.current = val;\r\n  useEffect(() => {\r\n    if (valRef.current === value) return;\r\n    setVal(value);\r\n  }, [value]);\r\n\r\n  useEffect(() => {\r\n    if (props.focus) ref.current.focus();\r\n  }, [props.focus, ref]);\r\n\r\n  let { className } = props;\r\n  className =\r\n    className instanceof Array\r\n      ? className\r\n          .flat(Infinity)\r\n          .filter((item) => item)\r\n          .join(\" \")\r\n      : className;\r\n\r\n  type = type || \"text\";\r\n  if (!className && [\"text\", \"password\"].includes(type))\r\n    className = \"sm:w-1/2 w-full\";\r\n\r\n  const elementProps = {\r\n    ...props,\r\n    ref,\r\n    onChange: (e) => {\r\n      setVal(e.target.value);\r\n      props.onChange(e.target.value);\r\n    },\r\n    onFocus: (ev) => {\r\n      if (props.selectAllOnFocus) ref.current.select();\r\n      if (props.onFocus) return props.onFocus(ev);\r\n    },\r\n    className: `${byType[type]} ${className}`,\r\n    type,\r\n    value: val,\r\n    focus: undefined,\r\n    renderAs: undefined,\r\n    accessibilityLabel: undefined,\r\n    accessible: undefined,\r\n    translate: undefined,\r\n    accessibilityTraits: undefined,\r\n    selectAllOnFocus: undefined,\r\n  };\r\n\r\n  Object.keys(elementProps)\r\n    .filter((key) => elementProps[key] === undefined)\r\n    .forEach((key) => {\r\n      delete elementProps[key];\r\n    });\r\n\r\n  return type === \"textarea\" ? (\r\n    <textarea {...elementProps} />\r\n  ) : (\r\n    <input {...elementProps} />\r\n  );\r\n};\r\n\r\nexport default React.forwardRef(Input);\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nconst InputWrapper = ({\r\n  model,\r\n  error,\r\n  className: pClassName,\r\n  children,\r\n  id,\r\n}) => {\r\n  const inputWidth = model.classNameInput;\r\n\r\n  function label() {\r\n    const classNameLabel = [...(model.classNameLabel || [])];\r\n    if (!model.floatlabel)\r\n      classNameLabel.push(\r\n        \"mr-3 font-semibold sm:w-32 min-w-32 text-right align-top mt-1\"\r\n      );\r\n\r\n    if (!model.text) return null;\r\n    const text =\r\n      typeof model.text === \"string\" ? app().t(model.text) : model.text;\r\n\r\n    return (\r\n      <Wrapper renderAs=\"label\" htmlFor={id} className={classNameLabel}>\r\n        {text}\r\n        {model.mandatory && <span className=\"text-red-800 text-sm\">*</span>}\r\n      </Wrapper>\r\n    );\r\n  }\r\n\r\n  function errorMsg() {\r\n    error = error === true ? \"Required field\" : error;\r\n\r\n    const className = [\"text-red-600 ml-3\"];\r\n    if (pClassName) className.push(pClassName);\r\n\r\n    if (error) return <p className={className.join(\" \")}>{app().t(error)}</p>;\r\n    return null;\r\n  }\r\n\r\n  const info = () =>\r\n    model.info ? (\r\n      <span className=\"help-block\">{app().t(model.info)}</span>\r\n    ) : null;\r\n\r\n  const className = pClassName || model.className || [];\r\n\r\n  if (model.nolabel)\r\n    return (\r\n      <Wrapper className={className}>\r\n        {children}\r\n        {info()}\r\n        {errorMsg()}\r\n      </Wrapper>\r\n    );\r\n\r\n  if (model.floatlabel)\r\n    return (\r\n      <Wrapper className={className}>\r\n        {label()}\r\n        <Wrapper renderAs=\"div\">\r\n          {children}\r\n          {info()}\r\n          {errorMsg()}\r\n        </Wrapper>\r\n      </Wrapper>\r\n    );\r\n\r\n  return (\r\n    <Wrapper className={[...className, \"sm:flex my-2\"]}>\r\n      {label()}\r\n      <Wrapper renderAs=\"div\" className={inputWidth || \"flex-grow\"}>\r\n        {children}\r\n        {info()}\r\n        {errorMsg()}\r\n      </Wrapper>\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default InputWrapper;\r\n","import React from \"react\";\nclass Label extends React.Component {\n  render() {\n    if (!this.props.model.text) return null;\n    if (this.props.model.mandatory)\n      return (\n        <label htmlFor=\"id_input\" className=\"col-sm-2 col-form-label\">\n          {this.props.model.text}<span className=\"red\">*</span>\n        </label>\n      );\n    return (\n      <label htmlFor=\"id_input\" className=\"col-sm-2 col-form-label\">\n        {this.props.model.text}\n      </label>\n    );\n  }\n}\nexport default Label;\n","import React from \"react\";\r\nimport \"./loading.css\";\r\n\r\nclass Loading extends React.Component {\r\n  state = { inDelay: true };\r\n  componentDidMount() {\r\n    this.delayTimer = setTimeout(() => this.setState({ inDelay: false }), 200);\r\n  }\r\n  componentWillUnmount() {\r\n    clearTimeout(this.delayTimer);\r\n  }\r\n  render() {\r\n    const { inDelay } = this.state;\r\n    return inDelay ? null : (\r\n      <div className=\"loading m-2 rounded-lg shadow h-2\" />\r\n    );\r\n  }\r\n}\r\n\r\nexport default Loading;\r\n","import { useState, useEffect } from \"react\";\r\nimport app from \"nystem\";\r\n\r\nconst UseEvent = (event, data) => {\r\n  const [result, setResult] = useState({});\r\n\r\n  useEffect(() => {\r\n    app()\r\n      .event(event, data)\r\n      .then((result) => setResult(result));\r\n  }, [data, event]);\r\n\r\n  return result;\r\n};\r\n\r\nexport default UseEvent;\r\n","import { useState, useEffect } from \"react\";\r\nimport app from \"nystem\";\r\n\r\nconst UseEventListner = (handler, event) => {\r\n  const [result, setResult] = useState({});\r\n  handler = handler || app();\r\n\r\n  useEffect(() => {\r\n    handler.on(event, setResult);\r\n    return () => {\r\n      handler.off(event, setResult);\r\n    };\r\n  }, [event, handler]);\r\n\r\n  return result;\r\n};\r\n\r\nexport default UseEventListner;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nconst ViewSmallComponentErrorMsg = ({ view, model }) => {\r\n  const [error, setError] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const errorSetter = error => {\r\n      setError(error);\r\n    };\r\n    view.on(\"error\", errorSetter);\r\n\r\n    return () => {\r\n      view.off(\"error\", errorSetter);\r\n    };\r\n  });\r\n\r\n  const className = model.className ? model.className.join(\" \") : \"\";\r\n\r\n  if (error)\r\n    return (\r\n      <Wrapper className={`text-red-500 ml-32 pl-12 ${className}`}>\r\n        {app().t(error)}\r\n      </Wrapper>\r\n    );\r\n  return null;\r\n};\r\n\r\nexport default ViewSmallComponentErrorMsg;\r\n","import React from \"react\";\r\n\r\nconst tags = [\r\n  \"p\",\r\n  \"a\",\r\n  \"h1\",\r\n  \"h2\",\r\n  \"h3\",\r\n  \"h4\",\r\n  \"h5\",\r\n  \"h6\",\r\n  \"div\",\r\n  \"nav\",\r\n  \"section\",\r\n  \"span\",\r\n  \"b\",\r\n  \"em\",\r\n  \"strong\",\r\n  \"i\",\r\n  \"form\",\r\n  \"button\",\r\n  \"label\",\r\n  \"table\",\r\n  \"tbody\",\r\n  \"thead\",\r\n  \"tr\",\r\n  \"th\",\r\n  \"td\",\r\n  \"sup\",\r\n  \"main\",\r\n  \"header\",\r\n].reduce((prev, tag) => {\r\n  prev[tag] = true;\r\n  return prev;\r\n}, {});\r\n\r\nconst typeClass = {\r\n  h1: \"text-2xl\",\r\n  h2: \"text-xl\",\r\n  h3: \"text-4xl pb-5 pt-2\",\r\n  h4: \"text-xl\",\r\n};\r\n\r\nconst Wrapper = (\r\n  {\r\n    renderAs,\r\n    className,\r\n    model,\r\n    accessibilityLabel,\r\n    accessible,\r\n    translate,\r\n    accessibilityTraits,\r\n    children,\r\n    onClick,\r\n    style,\r\n    ...props\r\n  },\r\n  ref\r\n) => {\r\n  className =\r\n    className instanceof Array\r\n      ? className\r\n          .flat(Infinity)\r\n          .filter((item) => item)\r\n          .join(\" \")\r\n      : className;\r\n\r\n  if (\r\n    !className &&\r\n    !renderAs &&\r\n    !onClick &&\r\n    !style &&\r\n    !Object.keys(props).length\r\n  )\r\n    return children || null;\r\n\r\n  if (!tags[renderAs] || renderAs === \"input\") renderAs = \"div\";\r\n\r\n  if (typeClass[renderAs])\r\n    className = `${className || \"\"} ${typeClass[renderAs]}`;\r\n\r\n  return React.createElement(\r\n    renderAs,\r\n    { ...props, ref, className, onClick, style },\r\n    children\r\n  );\r\n};\r\nexport default React.forwardRef(Wrapper);\r\n","import { useEffect } from \"react\";\r\nimport app from \"nystem\";\r\n\r\nconst DatabaseAddToCache = ({ options = {}, contentType, addMedia }) => {\r\n  useEffect(() => {\r\n    const doSearch = () => {\r\n      if (options.count) options.count = parseInt(options.count, 10);\r\n\r\n      app()\r\n        .database[contentType].search(options)\r\n        .then(({ data }) => {\r\n          if (!data) return;\r\n\r\n          data.forEach((item) =>\r\n            app().event(\"addToCache\", {\r\n              id: item._id,\r\n              contentType,\r\n              addReferencesToCache: options.addReferencesToCache,\r\n              addMedia,\r\n              value: item,\r\n            })\r\n          );\r\n        });\r\n    };\r\n\r\n    let timer = false;\r\n    const doSearchDebounce = () => {\r\n      clearTimeout(timer);\r\n      timer = setTimeout(() => {\r\n        timer = false;\r\n        doSearch();\r\n      }, 5000);\r\n    };\r\n\r\n    app().database[contentType].on(\"update\", -1000, doSearchDebounce);\r\n    app().on([\"login\", \"logout\"], -1000, doSearchDebounce);\r\n\r\n    return () => {\r\n      if (timer) clearTimeout(timer);\r\n\r\n      app().database[contentType].off(\"update\", doSearchDebounce);\r\n      app().off([\"login\", \"logout\"], doSearchDebounce);\r\n    };\r\n  });\r\n\r\n  return null;\r\n};\r\nexport default DatabaseAddToCache;\r\n","import { useEffect, useContext, useState } from \"react\";\r\nimport { DatabaseSearchContext } from \"nystem-components\";\r\n\r\nconst DatabaseBaseViewSearch = ({ view }) => {\r\n  const [baseFilter, setBaseFilter] = useState({});\r\n  const { search } = useContext(DatabaseSearchContext);\r\n\r\n  useEffect(() => {\r\n    const updateSearch = ({ filter }) => {\r\n      setBaseFilter(filter);\r\n    };\r\n    view.baseView.on(\"search\", -100, updateSearch);\r\n    return () => {\r\n      view.baseView.off(\"search\", updateSearch);\r\n    };\r\n  }, [view]);\r\n\r\n  useEffect(() => {\r\n    if (!search.contentType || search.filter) return;\r\n\r\n    setTimeout(() => {\r\n      view.baseView\r\n        .event(\"getSearch\")\r\n        .then(({ filter }) => setBaseFilter(filter));\r\n    }, 0);\r\n  }, [search, view]);\r\n\r\n  useEffect(() => {\r\n    if (!baseFilter) return;\r\n\r\n    const onSearch = (search) => ({ ...search, filter: baseFilter });\r\n\r\n    view.on(\"setSearch\", 10, onSearch);\r\n    view.event(\"setSearch\");\r\n    return () => {\r\n      view.off(\"setSearch\", onSearch);\r\n    };\r\n  }, [baseFilter, view]);\r\n\r\n  return null;\r\n};\r\n\r\nexport default DatabaseBaseViewSearch;\r\n","import { useEffect, useState } from \"react\";\r\nimport app from \"nystem\";\r\n\r\nconst DatabaseGet = ({ id, contentType, noAutoUpdate }) => {\r\n  const db = app().database[contentType];\r\n  const [result, setResult] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (!id) {\r\n      setResult(false);\r\n      return;\r\n    }\r\n    if (!db) {\r\n      console.error({ id, contentType, noAutoUpdate });\r\n      return;\r\n    }\r\n\r\n    let first = true;\r\n\r\n    const doGet = ({ ids } = {}) => {\r\n      if (!ids || ids.includes(id))\r\n        db.get({ id }).then((result) => {\r\n          setResult({ first, ...result });\r\n          first = false;\r\n        });\r\n    };\r\n    doGet();\r\n    if (noAutoUpdate) return;\r\n\r\n    db.on(\"update\", doGet);\r\n    return () => {\r\n      db.off(\"update\", doGet);\r\n    };\r\n  }, [noAutoUpdate, contentType, db, id]);\r\n\r\n  return { loading: id && !result, ...result };\r\n};\r\nexport default DatabaseGet;\r\n","import React, { useContext } from \"react\";\r\nimport { ContentTypeRender, DatabaseSearchContext } from \"nystem-components\";\r\n\r\nconst DatabaseMissing = ({ model, path }) => {\r\n  const { search } = useContext(DatabaseSearchContext);\r\n\r\n  if (!search.data) return <ContentTypeRender path={path} items={model.item} />;\r\n  return null;\r\n};\r\nexport default DatabaseMissing;\r\n","import { useState, useEffect, useCallback } from \"react\";\r\nimport app from \"nystem\";\r\n\r\nconst DatabaseOneSearch = ({ noAutoUpdate, contentType, search: inSearch }) => {\r\n  const db = app().database[contentType];\r\n  const searchString = JSON.stringify(inSearch);\r\n\r\n  const [search, setSearchState] = useState(inSearch);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const setSearch = useCallback(\r\n    (search, loading) => {\r\n      if (loading) setLoading(true);\r\n\r\n      db.search({ ...search, data: undefined }).then((search) => {\r\n        setSearchState(search);\r\n        if (loading) setLoading(false);\r\n      });\r\n    },\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [db, searchString]\r\n  );\r\n\r\n  useEffect(() => {\r\n    setSearch(inSearch, true);\r\n    if (!noAutoUpdate) db.on(\"update\", () => setSearch(search));\r\n    return () => {\r\n      if (!noAutoUpdate) db.off(\"update\", setSearch);\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [noAutoUpdate, db, setSearch]);\r\n\r\n  return { loading, search, setSearch };\r\n};\r\n\r\nexport default DatabaseOneSearch;\r\n","import { useEffect } from \"react\";\r\n\r\nconst DatabaseSearch = ({ view, model, path, children }) => {\r\n  const { exact, count, subView, filter } = model;\r\n\r\n  let { sortby } = model;\r\n\r\n  useEffect(() => {\r\n    const reverse = [\r\n      model.reversesortby,\r\n      model.reversesortby2,\r\n      model.reversesortby3,\r\n    ];\r\n\r\n    const getFilter = () => {\r\n      const searchFilter = { $and: [] };\r\n      if (!filter) return searchFilter;\r\n\r\n      const insertVal = (val) =>\r\n        val.replace(/\\{([a-z_.]+)\\}/gim, (str, p1, offset, s) =>\r\n          view.getValue(p1.replace(\"..\", path))\r\n        );\r\n\r\n      filter.forEach((ofilter) => {\r\n        const oneFilter = {};\r\n        ofilter.and.forEach((oneFilterIn) => {\r\n          oneFilter[insertVal(oneFilterIn[0])] = insertVal(oneFilterIn[1]);\r\n        });\r\n        searchFilter.$and.push(oneFilter);\r\n      });\r\n      return searchFilter;\r\n    };\r\n\r\n    const { contentType } = view;\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    sortby = sortby instanceof Array ? sortby : sortby && [sortby];\r\n\r\n    const options = {\r\n      position: 0,\r\n      exact,\r\n      sortby: sortby && sortby.map((item) => item.id),\r\n      reverse,\r\n      contentType,\r\n      delay: model.button ? -1 : parseInt(model.delay, 10),\r\n      noAutoUpdate: model.noAutoUpdate,\r\n    };\r\n\r\n    if (count) options.count = parseInt(count, 10);\r\n    if (view.id && subView) options.database = view.id;\r\n\r\n    let searchFilter = getFilter();\r\n    const onChange = () => {\r\n      const before = JSON.stringify(searchFilter);\r\n      searchFilter = getFilter();\r\n      if (before !== JSON.stringify(searchFilter)) view.event(\"setSearch\");\r\n    };\r\n\r\n    const onSearch = () => ({ ...options, filter: getFilter() });\r\n    view.on(\"setSearch\", 1000, onSearch);\r\n    view.on(\"change\", -1000, onChange);\r\n\r\n    setTimeout(() => {\r\n      view.event(\"setSearch\", options);\r\n    }, 0);\r\n    return () => {\r\n      view.off(\"setSearch\", onSearch);\r\n      view.off(\"change\", -10, onChange);\r\n    };\r\n  }, [count, exact, path, sortby, subView, view]);\r\n\r\n  return children || null;\r\n};\r\n\r\nexport default DatabaseSearch;\r\n","import React from \"react\";\r\n\r\nconst DatabaseSearchContext = React.createContext();\r\n\r\nexport default DatabaseSearchContext;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport app from \"nystem\";\r\nimport SearchContext from \"./searchContext\";\r\n\r\nconst DatabaseSearchContextProvider = ({ children, view }) => {\r\n  const [search, setSearchState] = useState({});\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const { contentType } = view;\r\n    let search = {};\r\n    let timer = false;\r\n    let active = false;\r\n\r\n    const setSearchDebounce = async (newSearch) => {\r\n      if (!active) {\r\n        setLoading(true);\r\n        view.on(\"search\", 200, doSearch);\r\n        if (!newSearch.noAutoUpdate)\r\n          app().database[contentType].on(\"update\", -1000, setSearch);\r\n        app().on([\"login\", \"logout\"], -1000, setSearch);\r\n        active = true;\r\n      }\r\n      if (newSearch) search = { ...newSearch, isDirty: true };\r\n      if (!timer && search.delay !== -1)\r\n        timer = setTimeout(() => setSearch(), 0);\r\n    };\r\n\r\n    const setSearch = async () => {\r\n      timer = false;\r\n\r\n      const searchResult = await view.event(\"search\", {\r\n        ...search,\r\n        data: undefined,\r\n      });\r\n      setSearchState({ ...searchResult, isDirty: false });\r\n\r\n      setLoading(false);\r\n      return searchResult;\r\n    };\r\n\r\n    const getSearch = () => search;\r\n    view.on(\"getSearch\", getSearch);\r\n\r\n    view.on(\"setSearch\", -500, setSearchDebounce);\r\n\r\n    const doSearch = (search) =>\r\n      app().database[contentType].search({\r\n        ...search,\r\n        data: undefined,\r\n      });\r\n\r\n    return () => {\r\n      view.off(\"setSearch\", setSearchDebounce);\r\n\r\n      if (active) {\r\n        view.off(\"search\", doSearch);\r\n        app().database[contentType].off(\"update\", setSearch);\r\n        app().off([\"login\", \"logout\"], setSearch);\r\n      }\r\n      view.off(\"getSearch\", getSearch);\r\n    };\r\n  }, [view]);\r\n\r\n  return (\r\n    <SearchContext.Provider value={{ loading, search }}>\r\n      {children}\r\n    </SearchContext.Provider>\r\n  );\r\n};\r\nexport default DatabaseSearchContextProvider;\r\n","import React, { useContext, useState, useEffect } from \"react\";\r\nimport { Button, DatabaseSearchContext } from \"nystem-components\";\r\n\r\nconst DatabaseShowMoreButton = ({ model, view }) => {\r\n  const { search } = useContext(DatabaseSearchContext);\r\n  const [count, setCount] = useState();\r\n\r\n  useEffect(() => {\r\n    if (!count) return;\r\n\r\n    const onSearch = (search) => ({ ...search, count });\r\n    view.on(\"setSearch\", onSearch);\r\n    view.event(\"setSearch\");\r\n    return () => {\r\n      view.off(\"setSearch\", onSearch);\r\n    };\r\n  }, [count, view]);\r\n\r\n  if (search.count > search.searchTotal) return null;\r\n\r\n  return (\r\n    <Button\r\n      className={model.className}\r\n      type=\"lsdkfh\"\r\n      onClick={() => {\r\n        setCount((count || search.count || 0) + parseInt(model.amount, 10));\r\n      }}\r\n    >\r\n      {model.text}\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default DatabaseShowMoreButton;\r\n","import React, { useContext } from \"react\";\r\nimport { ContentTypeRender, DatabaseSearchContext } from \"nystem-components\";\r\n\r\nconst DatabaseView = ({ model, path }) => {\r\n  const { search } = useContext(DatabaseSearchContext);\r\n\r\n  if (search.data) return <ContentTypeRender path={path} items={model.item} />;\r\n  return null;\r\n};\r\nexport default DatabaseView;\r\n","import { useRef, useEffect } from \"react\";\r\n\r\nconst UseSearch = ({ view, id, value, exact = false }) => {\r\n  const last = useRef(false);\r\n\r\n  useEffect(() => {\r\n    if (!value && !last.current) return;\r\n\r\n    const setSearch = (query) => {\r\n      query.filter = query.filter || {};\r\n      query.filter.$and = query.filter.$and || [];\r\n      const search = exact ? { [id]: value, __exact: true } : { [id]: value };\r\n      query.filter.$and.push(search);\r\n    };\r\n    if (value) view.on(\"setSearch\", setSearch);\r\n    view.event(\"setSearch\");\r\n\r\n    last.current = value;\r\n    return () => {\r\n      if (value) view.off(\"setSearch\", setSearch);\r\n    };\r\n  }, [exact, id, value, view]);\r\n};\r\nexport default UseSearch;\r\n","import React from \"react\";\r\nimport { DateInput } from \"nystem-components\";\r\n\r\nclass DateExposedField extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.props.view.searchProp.onUpdate(this.update);\r\n    this.classNameBase = this.model.className ? this.model.className : [];\r\n    this.updateCounter = 0;\r\n  }\r\n  update(data) {\r\n    if (this.id) {\r\n      const state = {};\r\n      const modelId = this.model.id;\r\n\r\n      state.from = this.props.view.searchProp.filter.get(`${this.id}_from`);\r\n      if (typeof state.from !== \"undefined\" && state.from[modelId])\r\n        state.from = state.from[modelId].substring(1);\r\n      else delete state.from;\r\n\r\n      state.to = this.props.view.searchProp.filter.get(`${this.id}_to`);\r\n      if (typeof state.to !== \"undefined\" && state.to[modelId])\r\n        state.to = state.to[modelId].substring(1);\r\n      else delete state.to;\r\n      if (typeof state.from !== \"undefined\" || typeof state.to !== \"undefined\")\r\n        this.setState(state);\r\n    }\r\n    const self = this;\r\n    if (this.updateCounter > 0) this.updateCounter--;\r\n    if (this.state.className === \"\" || this.updateCounter > 0) return;\r\n    this.setState({\r\n      className: \"has-success\",\r\n    });\r\n    this.delayTimer = setTimeout(() => {\r\n      if (self.isMounted())\r\n        self.setState({\r\n          className: \"\",\r\n        });\r\n    }, 1000);\r\n  }\r\n  search(id, value) {\r\n    const self = this;\r\n    clearTimeout(this.delayTimer);\r\n    const state = {\r\n      className: \"has-warning\",\r\n    };\r\n    state[id] = value;\r\n    this.setState(state);\r\n    this.delayTimer = setTimeout(() => {\r\n      self.updateCounter++;\r\n      if (value)\r\n        if (id === \"to\") value = `<${value}`;\r\n        else value = `>${value}`;\r\n      self.props.view.searchProp.filter.add(\r\n        self.model.id,\r\n        value,\r\n        `${self.id}_${id}`\r\n      );\r\n    }, 200);\r\n  }\r\n  componentDidMount() {}\r\n  componentWillUnmount() {\r\n    this.props.view.searchProp.offUpdate(this.update);\r\n    clearTimeout(this.delayTimer);\r\n  }\r\n  render() {\r\n    const { model } = this.props;\r\n    const className =\r\n      model.className && !this.props.wrapper ? model.className.join(\" \") : \"\";\r\n    const modelFrom = {\r\n      id: \"from\",\r\n      placeholder: \"From\",\r\n      clearButton: true,\r\n    };\r\n    const modelTo = {\r\n      id: \"to\",\r\n      placeholder: \"To\",\r\n      clearButton: true,\r\n    };\r\n    const style = {\r\n      width: \"150px\",\r\n    };\r\n    return (\r\n      <div className={`${className} form-inline`}>\r\n        {this.model.text}\r\n        <DateInput\r\n          style={style}\r\n          model={modelFrom}\r\n          value={this.state.from}\r\n          setValue={this.search}\r\n        />\r\n        {\" - \"}\r\n        <DateInput\r\n          style={style}\r\n          model={modelTo}\r\n          value={this.state.to}\r\n          setValue={this.search}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default DateExposedField;\r\n","import React, { useState } from \"react\";\r\nimport {\r\n  InputWrapper,\r\n  SelectInput,\r\n  UseSearch,\r\n  RouterUseQueryStore,\r\n} from \"nystem-components\";\r\n\r\nconst modelYear = {\r\n  id: \"year\",\r\n  option: [1200],\r\n  render: \"button\",\r\n  limit: 1,\r\n  text: \"Year\",\r\n};\r\n\r\nconst months = Array.from({ length: 12 }, (e, i) =>\r\n  new Date(null, i + 1, null).toLocaleDateString(\"en\", {\r\n    month: \"short\",\r\n  })\r\n);\r\nconst modelMonth = {\r\n  id: \"month\",\r\n  option: months,\r\n  render: \"button\",\r\n  limit: 1,\r\n  text: \"Month\",\r\n};\r\n\r\nconst modelDay = {\r\n  id: \"day\",\r\n  option: [],\r\n  render: \"button\",\r\n  limit: 1,\r\n  text: \"Day\",\r\n};\r\n\r\nconst daysInMonth = (year, month) => new Date(year, month, 0).getDate();\r\nconst getArray = (from, to) =>\r\n  Array.from({ length: to - from }, (e, i) => parseInt(from, 10) + i);\r\n\r\nconst getDate = ({ utc, year, month = 0, day = 1 }) =>\r\n  utc ? Date.UTC(year, month, day) : new Date(year, month, day).getTime();\r\n\r\nconst addUTC = {\r\n  getFullYear: \"getUTCFullYear\",\r\n  getMonth: \"getUTCMonth\",\r\n  getDate: \"getUTCDate\",\r\n};\r\n\r\nconst getByType = (utc, val, func) =>\r\n  val ? new Date(val)[utc ? addUTC[func] : func]() : undefined;\r\n\r\nconst DateExposedYearMonth = ({ model, view }) => {\r\n  const [years] = useState(getArray(model.from, model.to));\r\n  const [from, setFrom] = RouterUseQueryStore(model.saveIdFrom, \"int\");\r\n  const [to, setTo] = RouterUseQueryStore(model.saveIdTo, \"int\");\r\n  UseSearch({ view, id: model.id, value: from && `>${from - 1}` });\r\n  UseSearch({ view, id: model.id, value: to && `<${to + 1}` });\r\n\r\n  const { utc } = model;\r\n\r\n  const year = getByType(utc, from, \"getFullYear\");\r\n\r\n  const fromMonth = getByType(utc, from, \"getMonth\");\r\n  const toMonth = getByType(utc, to, \"getMonth\");\r\n  const month = fromMonth === toMonth ? months[fromMonth] : null;\r\n\r\n  const fromDay = getByType(utc, from, \"getDate\");\r\n  const toDay = getByType(utc, to, \"getDate\");\r\n  const day = fromDay === toDay ? toDay : null;\r\n\r\n  const setYear = (year) => {\r\n    setFrom(year && getDate({ utc, year }));\r\n    setTo(year && getDate({ utc, year: year + 1 }) - 1);\r\n  };\r\n\r\n  const setMonth = (value) => {\r\n    if (!value) setYear(year);\r\n    else {\r\n      const month = months.indexOf(value);\r\n      setFrom(getDate({ utc, year, month }));\r\n      setTo(getDate({ utc, year, month: month + 1 }) - 1);\r\n    }\r\n  };\r\n\r\n  const setDay = (day) => {\r\n    const month = fromMonth;\r\n    if (!day) setMonth(months[month]);\r\n    else {\r\n      setFrom(getDate({ utc, year, month, day }));\r\n      setTo(getDate({ utc, year, month, day: day + 1 }) - 1);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <InputWrapper model={model}>\r\n      <SelectInput\r\n        model={{\r\n          ...modelYear,\r\n          classNameInput: \"yearExposedField\",\r\n          option: years,\r\n        }}\r\n        value={year}\r\n        setValue={setYear}\r\n      />\r\n      {year && model.month && (\r\n        <SelectInput model={modelMonth} value={month} setValue={setMonth} />\r\n      )}\r\n      {month && model.day && (\r\n        <SelectInput\r\n          model={{\r\n            ...modelDay,\r\n            option: getArray(1, daysInMonth(year, fromMonth) + 1),\r\n            classNameInput: \"dayExposedField\",\r\n          }}\r\n          value={day}\r\n          setValue={setDay}\r\n        />\r\n      )}\r\n    </InputWrapper>\r\n  );\r\n};\r\n\r\nexport default DateExposedYearMonth;\r\n","export default ({ value, model }) =>\r\n  model.mandatory && !value && (model.text_mandatory || \"Field is mandatory\");\r\n","import React from \"react\";\r\nimport {\r\n  InputWrapper,\r\n  DateInputDate,\r\n  UseValidator,\r\n  Wrapper,\r\n  DateInputTime\r\n} from \"nystem-components\";\r\nimport validate from \"./validate\";\r\n\r\nconst DateInput = ({ model, view, focus, setValue, value }) => {\r\n  const { dateType = [\"date\", \"time\"] } = model;\r\n  const [error, setValidated] = UseValidator({ view, validate, value, model });\r\n  const validateAndSet = value => {\r\n    setValue(value);\r\n    setValidated(true);\r\n  };\r\n\r\n  return (\r\n    <InputWrapper model={model} error={error}>\r\n      <Wrapper className=\"flex\">\r\n        {dateType.includes(\"date\") && (\r\n          <DateInputDate\r\n            model={model}\r\n            value={value}\r\n            setValue={validateAndSet}\r\n          />\r\n        )}\r\n        {dateType.includes(\"time\") && (\r\n          <DateInputTime\r\n            model={model}\r\n            value={value}\r\n            setValue={validateAndSet}\r\n          />\r\n        )}\r\n      </Wrapper>\r\n    </InputWrapper>\r\n  );\r\n};\r\nexport default DateInput;\r\n","import React, { useEffect, useRef, useCallback, useState } from \"react\";\r\nimport { Icon, Wrapper } from \"nystem-components\";\r\nimport app from \"nystem\";\r\nimport moment from \"my-moment\";\r\n\r\nconst ClearButton = ({ setValue }) => (\r\n  <Icon\r\n    onClick={() => setValue(\"\")}\r\n    className=\"absolute w-4 right-0 top-0 m-3\"\r\n    icon=\"close\"\r\n    aria-hidden=\"true\"\r\n  />\r\n);\r\n\r\nconst dateFormat = \"YYYY-MM-DD\";\r\n\r\nconst DateInputDate = ({ model, onBlur, focus, setValue, value }) => {\r\n  const [inputVal, setInputVal] = useState(\r\n    value ? moment(value).format(dateFormat) : \"\"\r\n  );\r\n  const { disabled, length, text } = model;\r\n\r\n  const inputEl = useRef(null);\r\n\r\n  const setFromPicker = useCallback(\r\n    function () {\r\n      const formVal = this.getMoment().format(dateFormat);\r\n      setValue(moment(formVal).valueOf());\r\n    },\r\n    [setValue]\r\n  );\r\n\r\n  useEffect(() => {\r\n    setInputVal(value ? moment(value).format(dateFormat) : \"\");\r\n  }, [value]);\r\n\r\n  useEffect(() => {\r\n    const start = async () => {\r\n      const { pikaday } = await import(\"../../client/pikaday\");\r\n      pikaday({\r\n        field: inputEl.current,\r\n        format: dateFormat,\r\n        onSelect: setFromPicker,\r\n        firstDay: 1,\r\n      });\r\n    };\r\n    start();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  return (\r\n    <Wrapper className=\"relative w-1/3\">\r\n      <input\r\n        ref={inputEl}\r\n        placeholder={app().t(text)}\r\n        className={\r\n          \"appearance-none block bg-grey-lighter text-grey-darker border border-grey-lighter rounded py-2 px-3 w-full\"\r\n        }\r\n        value={inputVal}\r\n        maxLength={length}\r\n        onChange={(e) => setInputVal(e.target.value)}\r\n        disabled={disabled}\r\n        type=\"text\"\r\n        focus={focus}\r\n        onBlur={() => setValue(moment(inputVal).valueOf())}\r\n      />\r\n      {value ? <ClearButton setValue={setValue} /> : null}\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default DateInputDate;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Wrapper, Input } from \"nystem-components\";\r\nimport app from \"nystem\";\r\nimport moment from \"my-moment\";\r\n\r\nconst parseVal = (val) => {\r\n  if (val > 100) val /= 100;\r\n\r\n  const parts = val\r\n    .toString()\r\n    .split(/[^0-9]/)\r\n    .filter((part) => part);\r\n\r\n  const min = parseFloat(`.${parts[1] || 0}`) * 100;\r\n  return `${parts[0]}:${min < 10 ? `0${min}` : min}`;\r\n};\r\n\r\nconst DateInputTime = ({ model, focus, setValue, value }) => {\r\n  const { disabled, length, inputClassName = [] } = model;\r\n  const [inputVal, setInputVal] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    setInputVal(value ? moment(value).format(\"HH:mm\") : \"\");\r\n  }, [value]);\r\n\r\n  return (\r\n    <Wrapper className=\"flex\">\r\n      <Input\r\n        placeholder={app().t(\"Time\")}\r\n        className={[\"w-40\", inputClassName]}\r\n        value={inputVal}\r\n        maxLength={length}\r\n        onChange={(value) => setInputVal(value)}\r\n        disabled={disabled}\r\n        type=\"text\"\r\n        focus={focus}\r\n        onBlur={() => {\r\n          if (!inputVal) return;\r\n          const datePart = moment(value || Date.now()).format(\"YYYY-MM-DD\");\r\n          setValue(moment(`${datePart} ${parseVal(inputVal)}`).valueOf());\r\n        }}\r\n      />\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default DateInputTime;\r\n","import { TextSortBy } from \"nystem-components\";\r\nimport React from \"react\";\r\n\r\nconst DateSortBy = props => <TextSortBy {...props} />;\r\nexport default DateSortBy;\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport moment from \"my-moment\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nconst dateTimeFormats = {\r\n  dateLong: \"YYYY-MM-DD\",\r\n  timeLong: \"H:mm\",\r\n  dateTimeLong: \"YYYY-MM-DD HH:mm\",\r\n  dateTimeNoYear: \"D/M H:mm\",\r\n  dateTimeNoYearDay: \"ddd D/M H:mm\",\r\n  dateNoYearDay: \"ddd D/M\",\r\n  timeDay: \"ddd D/M H:mm\",\r\n  day: \"dddd\",\r\n};\r\n\r\nconst hourInMs = 1000 * 60 * 60;\r\n\r\nconst DateView = ({ model, value }) => {\r\n  const { className, renderAs, dateFormat } = model;\r\n  const format = dateTimeFormats[dateFormat || \"dateTimeLong\"];\r\n  value = parseInt(value, 10);\r\n  let rel = value && model.relative && value + hourInMs * 24 - Date.now();\r\n  rel = !rel || rel < 0 ? 0 : rel;\r\n  if (rel && moment().startOf(\"day\").valueOf() > value) rel = 0;\r\n\r\n  const formatDate = useCallback(\r\n    () =>\r\n      rel\r\n        ? rel > 23 * hourInMs\r\n          ? moment(value).fromNow()\r\n          : moment(value).format(\"H:mm\")\r\n        : moment(value).format(format),\r\n    [format, rel, value]\r\n  );\r\n  const [result, setResult] = useState(formatDate());\r\n\r\n  useEffect(() => {\r\n    if (!rel) return;\r\n\r\n    const update = () => setResult(formatDate());\r\n    const timer = setInterval(update, 30000);\r\n    return () => {\r\n      clearInterval(timer);\r\n    };\r\n  }, [formatDate, rel]);\r\n\r\n  return (\r\n    <Wrapper renderAs={renderAs} className={className}>\r\n      {app().t(value ? result : \"\")}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default DateView;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\n\r\nconst add = (path) => {\r\n  if (/^https?:/im.test(path)) return path;\r\n\r\n  const { domain, secure } = app().settings;\r\n  return `http${secure ? \"s\" : \"\"}://${domain}${path}`;\r\n};\r\n\r\nconst Image = ({ className, alt, src, ...props }) => (\r\n  <img\r\n    alt={alt}\r\n    {...props}\r\n    className={\r\n      className instanceof Array\r\n        ? className\r\n            .flat(Infinity)\r\n            .filter((item) => item)\r\n            .join(\" \")\r\n        : className\r\n    }\r\n    src={add(src)}\r\n  />\r\n);\r\n\r\nexport default Image;\r\n","import React from \"react\";\r\nimport { Image } from \"nystem-components\";\r\n\r\nconst ViewImageView = ({ model }) => (\r\n  <Image\r\n    alt=\"logo\"\r\n    className={model.className}\r\n    width={model.width}\r\n    height={model.height}\r\n    src={model.fullPath ? model.filename : `/image/${model.filename}`}\r\n  />\r\n);\r\nexport default ViewImageView;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { InputWrapper, Input } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nlet isInstalled =\r\n  navigator.standalone || matchMedia(\"(display-mode: standalone)\").matches;\r\n\r\nconst ServiceWorkerSelectBox = ({ model, view }) => {\r\n  const [install, setInstall] = useState(false);\r\n  const [id] = useState(app().uuid);\r\n\r\n  useEffect(() => {\r\n    if (!install) return;\r\n    app()\r\n      .event(\"canRunAppInstall\")\r\n      .then(({ installable }) => {\r\n        isInstalled = isInstalled || !installable;\r\n      });\r\n\r\n    const runInstall = () => app().event(\"runAppInstall\");\r\n\r\n    view.on([\"save\"], runInstall);\r\n    app().on([\"login\"], runInstall);\r\n    return () => {\r\n      view.off([\"save\"], runInstall);\r\n\r\n      setTimeout(() => {\r\n        app().off([\"login\"], runInstall);\r\n      }, 200);\r\n    };\r\n  }, [install, view]);\r\n\r\n  return isInstalled ? null : (\r\n    <InputWrapper id={id} model={model} error={false}>\r\n      <Input\r\n        id={id}\r\n        className={model.classNameInput}\r\n        checked={install}\r\n        onChange={() => setInstall(!install)}\r\n        disabled={model.disabled}\r\n        type=\"checkbox\"\r\n      />\r\n    </InputWrapper>\r\n  );\r\n};\r\n\r\nexport default ServiceWorkerSelectBox;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Button } from \"nystem-components\";\r\n\r\nconst isInstalled =\r\n  navigator.standalone || matchMedia(\"(display-mode: standalone)\").matches;\r\n\r\nconst ServiceWorkerView = ({ model, view }) =>\r\n  isInstalled ? null : (\r\n    <div className={model.className}>\r\n      <Button type={model.btnType} onClick={() => app().event(\"runAppInstall\")}>\r\n        {app().t(model.text || \"...\")}\r\n      </Button>\r\n    </div>\r\n  );\r\n\r\nexport default ServiceWorkerView;\r\n\r\nif (navigator.standalone) {\r\n  console.log(\"Launched: Installed (iOS)\");\r\n} else if (matchMedia(\"(display-mode: standalone)\").matches) {\r\n  console.log(\"Launched: Installed\");\r\n} else {\r\n  console.log(\"Launched: Browser Tab\");\r\n}\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Button, Wrapper, UseEvent } from \"nystem-components\";\r\n\r\nconst ViewButtonDebugAndClear = ({ model }) => {\r\n  const { appVersion } = UseEvent(\"getAppVersion\");\r\n  return (\r\n    <Wrapper className={model.className}>\r\n      <Wrapper className=\"mb-2\">App version: {appVersion || \"\"}</Wrapper>\r\n      <Wrapper className=\"mb-2\">\r\n        The button below will require you to log in again.\r\n      </Wrapper>\r\n      <Button\r\n        type={model.btnType}\r\n        onClick={() => app().event(\"clearCacheAndReload\")}\r\n      >\r\n        {app().t(model.text || \"...\")}\r\n      </Button>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default ViewButtonDebugAndClear;\r\n","import { ContentTypeView } from \"nystem-components\";\r\nimport { Route } from \"react-router-dom\";\r\nimport React from \"react\";\r\n\r\nconst Inserter = (props) => {\r\n  const { match, className, children, source, exclude } = props;\r\n  const exact = !(match && match.indexOf(\"*\") === match.length - 1);\r\n  const propMatch = exact ? match : match.substring(0, match.length - 1);\r\n\r\n  return (\r\n    <Route\r\n      className={children instanceof Array && className}\r\n      path={match || source}\r\n      exact={exact}\r\n    >\r\n      {({ location, match }) => {\r\n        if (!match || exclude === location.pathname) return null;\r\n\r\n        if (children)\r\n          return children instanceof Array && children.length ? (\r\n            <div className={className}>{children}</div>\r\n          ) : (\r\n            children\r\n          );\r\n\r\n        let path = location.pathname;\r\n        if (source && (exact || source.indexOf(\"*\") === -1)) path = source;\r\n        else if (propMatch && source) {\r\n          const replace = propMatch.replace(source, \"\");\r\n          path =\r\n            source.substring(0, source.length - 1) + path.replace(replace, \"\");\r\n        }\r\n\r\n        path = path.split(\"/\");\r\n\r\n        return (\r\n          <ContentTypeView\r\n            className={className}\r\n            contentType={path[1]}\r\n            format={path[2]}\r\n            id={path[3]}\r\n            location={location}\r\n            params={location.pathname.split(\"/\").slice(1)}\r\n            path={path}\r\n            key={location.pathname}\r\n            noForm={props.noForm}\r\n          />\r\n        );\r\n      }}\r\n    </Route>\r\n  );\r\n};\r\nexport default Inserter;\r\n","import React from \"react\";\r\n\r\nimport { Route, Link as RLink } from \"react-router-dom\";\r\n\r\nconst toClassString = (className, match) => {\r\n  className = className instanceof Array ? className.join(\" \") : className;\r\n  return match ? `${className} active` : className;\r\n};\r\n\r\nconst Link = ({ to, className, match, children, exact }) => (\r\n  <Route\r\n    exact={Boolean(exact)}\r\n    path={match || (typeof to === \"object\" ? to.pathname : to)}\r\n  >\r\n    {({ location, match }) => (\r\n      <RLink to={to || \"/\"} className={toClassString(className, match)}>\r\n        {children}\r\n      </RLink>\r\n    )}\r\n  </Route>\r\n);\r\nexport default Link;\r\n","const RouterBackHandler = () => null;\r\nexport default RouterBackHandler;\r\n","import { withRouter } from \"react-router\";\r\nimport app from \"nystem\";\r\n\r\nlet history = [];\r\nlet at = 0;\r\n\r\nconst RouterHistory = ({ location, history: routerHistory }) => {\r\n  let atNew =\r\n    history.reduce(\r\n      (found, item, index) => found || (location.key === item.key && index + 1),\r\n      false\r\n    ) || history.length + 1;\r\n\r\n  if (atNew === history.length + 1) {\r\n    history = history.slice(0, at);\r\n    atNew = history.length + 1;\r\n  }\r\n\r\n  if (atNew === history.length + 1) history.push(location);\r\n\r\n  at = atNew;\r\n  app().routerHistory = { history, at, routerHistory };\r\n\r\n  return null;\r\n};\r\n\r\nexport default withRouter(RouterHistory);\r\n","import React, { useState, useRef, useEffect } from \"react\";\r\nimport { ContentTypeRender } from \"nystem-components\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nconst exclude = [\"style\"].map((item) => item.toUpperCase());\r\n\r\nconst RouterPageNotFound = ({ model, path, children, location, ...rest }) => {\r\n  const { className, renderAs, item } = model || rest;\r\n  const [is404, setIs404] = useState(false);\r\n  const ref = useRef();\r\n\r\n  useEffect(() => {\r\n    setIs404(false);\r\n    setTimeout(() => {\r\n      const items = [...ref.current.parentElement.children]\r\n        .map((item) => item.nodeName)\r\n        .filter((name) => !exclude.includes(name));\r\n\r\n      if (items.length < 2) setIs404(true);\r\n    }, 200);\r\n  }, [location.pathname, ref, setIs404]);\r\n\r\n  if (!is404) return <div ref={ref} />;\r\n\r\n  return (\r\n    <div\r\n      ref={ref}\r\n      className={className && className.join(\" \")}\r\n      renderAs={renderAs}\r\n    >\r\n      {children || <ContentTypeRender path={path} items={item} />}\r\n    </div>\r\n  );\r\n};\r\nexport default withRouter(RouterPageNotFound);\r\n","import { useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst RouterRedirect = ({ to, model = {}, view, path }) => {\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    const insertVal = (val) =>\r\n      val &&\r\n      val.replace(/\\{([a-z_.0-9]+)\\}/gim, (str, p1, offset, s) => {\r\n        if (/pathItem[0-9]/.test(p1) && view.params) return view.params[p1[8]];\r\n        return view.getValue(p1.replace(\"..\", path));\r\n      });\r\n\r\n    history.replace(insertVal(model.to || to));\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  return null;\r\n};\r\n\r\nexport default RouterRedirect;\r\n","import { useEffect } from \"react\";\r\n\r\nconst positions = {};\r\nlet count = 0;\r\n\r\nconst setPos = () => {\r\n  if (\r\n    document.documentElement.scrollTop === positions[window.location.pathname]\r\n  )\r\n    return;\r\n\r\n  count++;\r\n  if (count === 5) {\r\n    count = 0;\r\n    return;\r\n  }\r\n\r\n  document.documentElement.scrollTop = positions[window.location.pathname];\r\n  setTimeout(setPos, 120);\r\n};\r\n\r\nconst RouterScrollpos = () => {\r\n  useEffect(() => {\r\n    window.addEventListener(\r\n      \"popstate\",\r\n      () => positions[window.location.pathname] && setTimeout(setPos, 120)\r\n    );\r\n\r\n    window.addEventListener(\"scroll\", () => {\r\n      positions[window.location.pathname] = document.documentElement.scrollTop;\r\n    });\r\n  }, []);\r\n\r\n  return null;\r\n};\r\n\r\nexport default RouterScrollpos;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass RouterState extends React.Component {\r\n  getPath = context => {\r\n    return context.router.history.location.pathname;\r\n  };\r\n  componentDidMount() {\r\n    let pathname = this.getPath(this.context);\r\n    console.log(\"pathname\", pathname);\r\n    if (this.props.save === \"storage\")\r\n      app()\r\n        .storage.getItem({ id: \"router.pathname\" })\r\n        .then(({ value }) => {\r\n          if (value && value !== pathname)\r\n            this.context.router.history.replace(value);\r\n          else if (this.props.start && pathname === \"/\")\r\n            this.context.router.history.replace(this.props.start);\r\n        });\r\n    else if (this.props.save === \"memory\" && app().pathname) {\r\n      if (app().pathname !== pathname)\r\n        this.context.router.history.replace(app().pathname);\r\n    } else if (this.props.start && pathname === \"/\")\r\n      this.context.router.history.replace(this.props.start);\r\n    else if (this.props.redirect) {\r\n      if (pathname.indexOf(this.props.match) === 0) {\r\n        pathname = pathname.replace(this.props.match, \"\");\r\n        this.context.router.history.replace(this.props.redirect + pathname);\r\n        return;\r\n      }\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {}\r\n\r\n  UNSAFE_componentWillReceiveProps(nextProps, nextContext) {\r\n    if (this.props.save === \"memory\")\r\n      app().pathname = this.getPath(this.context);\r\n    if (this.props.save === \"storage\")\r\n      app().storage.setItem({\r\n        id: \"router.pathname\",\r\n        value: this.getPath(this.context)\r\n      });\r\n  }\r\n\r\n  render() {\r\n    return null;\r\n  }\r\n}\r\nRouterState.contextTypes = {\r\n  router: PropTypes.object\r\n};\r\nexport default RouterState;\r\n\r\n//app.storage.getItem({ id: \"language\" }));\r\n","import { withRouter } from \"react-router\";\r\n\r\nlet last = false;\r\nconst RouterToTopOnNav = ({ location }) => {\r\n  if (location.pathname !== last) {\r\n    last = location.pathname;\r\n    document.documentElement.scrollTop = 0;\r\n  }\r\n\r\n  return null;\r\n};\r\n\r\nexport default withRouter(RouterToTopOnNav);\r\n","import { useState, useRef } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst toType = {\r\n  int: (val) => parseInt(val, 10),\r\n  float: (val) => parseFloat(val),\r\n  array: (val) => (val === \"\" ? undefined : val),\r\n};\r\n\r\nconst RouterUseQueryStore = (saveId, type) => {\r\n  const history = useHistory();\r\n\r\n  const ref = useRef();\r\n  const { search } = history.location;\r\n  const getQueryValue = (query) => {\r\n    if (!saveId) return \"\";\r\n    const reg = `\\\\&${saveId}=([^\\\\s&]+)`;\r\n    const [, value = \"\"] = query.match(new RegExp(reg, \"im\")) || [];\r\n    return type ? toType[type](value) : value;\r\n  };\r\n\r\n  const [value, setValue] = useState(\r\n    saveId ? getQueryValue(search) : type ? toType[type](\"\") : \"\"\r\n  );\r\n\r\n  const setRouterValue = (value) => {\r\n    setValue(value);\r\n\r\n    if (!saveId) return;\r\n\r\n    const { pathname, search } = history.location;\r\n\r\n    const reg = `(^\\\\?)|(\\\\&${saveId}=[^\\\\s&]*)`;\r\n    const rest = search.replace(new RegExp(reg, \"gi\"), \"\");\r\n    const add = value ? `&${saveId}=${value}` : \"\";\r\n\r\n    history.replace(`${pathname}?${rest}${add}`);\r\n  };\r\n\r\n  return [value, setRouterValue, ref];\r\n};\r\n\r\nexport default RouterUseQueryStore;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nconst RouterView = ({ model, view, path }) => {\r\n  const { className, renderAs, item } = model;\r\n  const { pathname } = useLocation();\r\n\r\n  const insertVal = (val) =>\r\n    val &&\r\n    val.replace(/\\{([a-z_.0-9]+)\\}/gim, (str, p1, offset, s) => {\r\n      if (/pathItem[0-9]/.test(p1) && view.params) return view.params[p1[8]];\r\n      return view.getValue(p1.replace(\"..\", path));\r\n    });\r\n\r\n  if (!pathname.match(new RegExp(insertVal(model.match)))) return null;\r\n\r\n  return (\r\n    <Wrapper className={className} renderAs={renderAs}>\r\n      <ContentTypeRender path={path} items={item} />\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default RouterView;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst sortFuncInt = (key) => (a, b) => {\r\n  const x = a[key];\r\n  const y = b[key];\r\n  if (x === undefined) return y === undefined ? 0 : 1;\r\n  if (y === undefined) return -1;\r\n  return x < y ? -1 : x > y ? 1 : 0;\r\n};\r\n\r\nconst historyPos = (test) => {\r\n  const { history, at } = app().routerHistory;\r\n\r\n  const slice = history.slice(0, at);\r\n  slice.reverse();\r\n\r\n  const pos = slice.reduce((result, { pathname }, index) => {\r\n    if (result) return result;\r\n\r\n    if (test === \"/\") {\r\n      if (pathname === \"/\") return slice.length - index + 1;\r\n    } else if (new RegExp(test).test(pathname)) return slice.length - index + 1;\r\n\r\n    return 0;\r\n  }, 0);\r\n\r\n  return pos;\r\n};\r\n\r\nconst RouterViewByHistory = ({ model, path }) => {\r\n  model = model || {};\r\n  const { className, renderAs, items } = model;\r\n\r\n  const itemsByPosition = items.map((item) => ({\r\n    ...item,\r\n    pos: item.paths.reduce((res, path) => {\r\n      const pos = historyPos(path);\r\n      return pos > res ? pos : res;\r\n    }, 0),\r\n  }));\r\n\r\n  itemsByPosition.sort(sortFuncInt(\"pos\"));\r\n  itemsByPosition.reverse();\r\n\r\n  return (\r\n    <Wrapper className={className} renderAs={renderAs}>\r\n      <ContentTypeRender\r\n        path={path}\r\n        items={itemsByPosition.reduce(\r\n          (res, item) => [...res, ...item.item],\r\n          []\r\n        )}\r\n      />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default RouterViewByHistory;\r\n","export default ({ value, model }) => {\r\n  if (model.mandatory && !value[0]) return model.text_mandatory;\r\n  if (!value[0] && !value[1]) return false;\r\n\r\n  if (value[0].length < model.length)\r\n    return `Password must be at least ${model.length} characters`;\r\n\r\n  if (value[0] !== value[1]) return \"Repeated password must match\";\r\n\r\n  return false;\r\n};\r\n","import React, { useState } from \"react\";\r\nimport app from \"nystem\";\r\nimport { InputWrapper, Input, UseValidator } from \"nystem-components\";\r\nimport validate from \"./validate\";\r\nimport \"./confirmInput.css\";\r\n\r\nconst PasswordConfirmInput = ({ model, value, view, setValue }) => {\r\n  const [value1, setValue1] = useState(\"\");\r\n  const [value2, setValue2] = useState(\"\");\r\n\r\n  const [error, setValidated] = UseValidator({\r\n    view,\r\n    validate,\r\n    value: [value1, value2],\r\n    model,\r\n  });\r\n\r\n  return (\r\n    <InputWrapper model={model} error={error}>\r\n      <div>\r\n        <Input\r\n          placeholder={app().t(model.text)}\r\n          className={[model.classNameInput, \"confirm-input\"]}\r\n          value={value1}\r\n          onChange={(svalue) => {\r\n            setValidated(true);\r\n            setValue1(svalue);\r\n            if (svalue === value2) setValue(value1);\r\n            else if (value) setValue(\"\");\r\n          }}\r\n          type=\"password\"\r\n          autoComplete=\"new-password\"\r\n        />\r\n      </div>\r\n      <div>\r\n        <Input\r\n          placeholder={app().t(\"Repeat\")}\r\n          className={[model.classNameInput, \"confirm-input\"]}\r\n          value={value2}\r\n          onChange={(svalue) => {\r\n            setValidated(true);\r\n            setValue2(svalue);\r\n            if (svalue === value1) setValue(value1);\r\n            else if (value) setValue(\"\");\r\n          }}\r\n          type=\"password\"\r\n          autoComplete=\"new-password\"\r\n        />\r\n      </div>\r\n    </InputWrapper>\r\n  );\r\n};\r\nexport default PasswordConfirmInput;\r\n","import React, { useState } from \"react\";\r\nimport { InputWrapper, Input } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst PasswordInput = ({ model, value, setValue }) => {\r\n  const { disabled, text, classNameInput = [] } = model;\r\n  const [id] = useState(app().uuid);\r\n\r\n  return (\r\n    <InputWrapper model={model} id={id}>\r\n      <Input\r\n        id={id}\r\n        placeholder={app().t(text)}\r\n        className={classNameInput || \"sm:w-1/2 w-full\"}\r\n        value={value || \"\"}\r\n        onChange={setValue}\r\n        type=\"password\"\r\n        disabled={disabled}\r\n      />\r\n    </InputWrapper>\r\n  );\r\n};\r\n\r\nexport default PasswordInput;\r\n","import React from \"react\";\r\nimport { InputWrapper } from \"nystem-components\";\r\nimport app from \"nystem\";\r\nclass PasswordOldpassword extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.errormsg = this.model.text_mandatory\r\n      ? this.model.text_mandatory\r\n      : true;\r\n    this.validated = false;\r\n    this.state = {};\r\n  }\r\n  handleChange() {\r\n    this.validated = true;\r\n    const value = this.refs.input.value;\r\n    this.setState({\r\n      value: value,\r\n      error: this.model.mandatory && !value ? this.errormsg : false\r\n    });\r\n    this.props.setValue(\"__\" + this.model.id, value);\r\n  }\r\n  valid() {\r\n    this.validated = true;\r\n    if (this.model.mandatory && !this.state.value) {\r\n      this.setState({\r\n        error: this.errormsg\r\n      });\r\n      return false;\r\n    }\r\n    if (this.state.error) delete this.state.error;\r\n    return true;\r\n  }\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (this.props.value !== nextProps.value) {\r\n      const error = this.validated && this.model.mandatory && !nextProps.value;\r\n      this.setState({\r\n        error: error ? this.errormsg : false\r\n      });\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <InputWrapper model={this.model} error={this.state.error}>\r\n        <input\r\n          ref=\"input\"\r\n          placeholder={app().t(this.model.text)}\r\n          className=\"form-control\"\r\n          value={this.state.value}\r\n          onChange={this.handleChange}\r\n          type=\"password\"\r\n        />\r\n      </InputWrapper>\r\n    );\r\n  }\r\n}\r\nexport default PasswordOldpassword;\r\n","import React from \"react\";\nclass PasswordView extends React.Component {\n  render() {\n    return null;\n  }\n}\nexport default PasswordView;\n","import React from \"react\";\r\nimport app from \"nystem\";\r\n\r\nclass RoleView extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    app().on(\"login\", this.sessionChange);\r\n    app().on(\"logout\", this.sessionChange);\r\n\r\n    this.sessionChange();\r\n\r\n    return {};\r\n  }\r\n  sessionChange() {\r\n    let session = app.session.user;\r\n    const { fields } = this.props.model;\r\n\r\n    if (!session) session = {};\r\n\r\n    if (!fields || !fields.length) this.props.setValue(false, session);\r\n    else\r\n      for (let i = 0; i < fields.length; i++)\r\n        this.props.setValue(fields[i], session[fields[i]]);\r\n  }\r\n\r\n  render() {\r\n    return null;\r\n  }\r\n}\r\nexport default RoleView;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nclass Role extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    app().on(\"login\", this.sessionChange.bind(this));\r\n    app().on(\"logout\", this.sessionChange.bind(this));\r\n    this.state = { visible: this.isVisible(props) };\r\n  }\r\n  contains(array1, array2) {\r\n    if (typeof array1 === \"string\") array1 = [array1];\r\n    if (typeof array2 === \"string\") array2 = [array2];\r\n\r\n    for (let i = 0; i < array1.length; i++)\r\n      if (array2.indexOf(array1[i]) !== -1) return true;\r\n\r\n    return false;\r\n  }\r\n  isVisible(props) {\r\n    const user = app().session.user;\r\n    let role =\r\n      user && user.role ? [\"logged-in\"].concat(user.role) : [\"logged-out\"];\r\n    return this.contains(props.role.split(\" \"), role);\r\n  }\r\n  sessionChange() {\r\n    let visible = this.isVisible(this.props);\r\n    if (visible !== this.state.visible) this.setState({ visible });\r\n  }\r\n\r\n  render() {\r\n    if (this.state.visible)\r\n      return (\r\n        <Wrapper className={this.props.className}>\r\n          {this.props.children}\r\n        </Wrapper>\r\n      );\r\n    return null;\r\n  }\r\n}\r\nexport default Role;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nconst SessionLogout = ({ children, model, history, path, ...props }) => {\r\n  const { item, className, to } = model || props;\r\n  return (\r\n    <Wrapper\r\n      className={className}\r\n      onClick={(e) => {\r\n        e.preventDefault();\r\n        app().session.logout();\r\n        if (!to) return;\r\n\r\n        history.replace(to);\r\n      }}\r\n    >\r\n      {children || <ContentTypeRender path={path} items={item} />}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default withRouter(SessionLogout);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst hasNoRole = user => user && !user.role;\r\n\r\nconst SessionNoRole = ({ model = {}, children, path, className }) => {\r\n  const [visible, setVisible] = useState(hasNoRole(app().session.user));\r\n\r\n  useEffect(() => {\r\n    const check = () => {\r\n      setVisible(hasNoRole(app().session.user));\r\n    };\r\n\r\n    app().on(\"logout\", check);\r\n    app().on(\"login\", check);\r\n\r\n    return () => {\r\n      app().off(\"login\", check);\r\n      app().off(\"logout\", check);\r\n    };\r\n  }, []);\r\n\r\n  if (!visible) return null;\r\n\r\n  className = model.className || className;\r\n\r\n  if (children) return <Wrapper className={className}>{children}</Wrapper>;\r\n\r\n  return (\r\n    <Wrapper className={className}>\r\n      <ContentTypeRender path={path} items={model.item} />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default SessionNoRole;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst contains = (array1, array2) => {\r\n  if (!(array1 instanceof Array)) array1 = [array1];\r\n  if (!(array2 instanceof Array)) array2 = [array2];\r\n  for (let i = 0; i < array1.length; i++)\r\n    if (array2.indexOf(array1[i]) !== -1) return true;\r\n\r\n  return false;\r\n};\r\n\r\nconst SessionRole = ({ userrole, model = {}, children, path, className }) => {\r\n  const [visible, setVisible] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const updateVisibility = () => {\r\n      let reqRole = model.role || userrole;\r\n      reqRole = typeof reqRole === \"string\" ? reqRole.split(\" \") : reqRole;\r\n\r\n      const { role } = app().session.user || {};\r\n\r\n      const userRole = role ? [\"logged-in\"].concat(role) : \"logged-out\";\r\n\r\n      setVisible(contains(userRole, reqRole));\r\n    };\r\n\r\n    app().on(\"logout\", -1000, updateVisibility);\r\n    app().on(\"login\", -1000, updateVisibility);\r\n\r\n    updateVisibility();\r\n    return () => {\r\n      app().off(\"login\", updateVisibility);\r\n      app().off(\"logout\", updateVisibility);\r\n    };\r\n  }, [model.role, userrole]);\r\n\r\n  if (!visible) return null;\r\n\r\n  if (children)\r\n    return (\r\n      <Wrapper className={model.className || className}>{children}</Wrapper>\r\n    );\r\n\r\n  return (\r\n    <Wrapper className={model.className}>\r\n      <ContentTypeRender path={path} items={model.item} />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default SessionRole;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { ContentTypeView } from \"nystem-components\";\r\n\r\nclass SessionUser extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    app().on(\"login\", this.sessionChange.bind(this));\r\n    app().on(\"logout\", this.sessionChange.bind(this));\r\n\r\n    const session = app().session.user;\r\n    this.state = { userid: session ? session._id : null };\r\n  }\r\n  sessionChange() {\r\n    const session = app().session.user;\r\n    this.setState({ userid: session ? session._id : null });\r\n  }\r\n  render() {\r\n    const { view, model } = this.props;\r\n    if (this.state.userid && model.toformat !== view.format)\r\n      return (\r\n        <ContentTypeView\r\n          key={this.state.userid}\r\n          contentType={view.contentType}\r\n          format={model.toformat}\r\n          id={this.state.userid}\r\n          baseView={view}\r\n        />\r\n      );\r\n    return null;\r\n  }\r\n}\r\nexport default SessionUser;\r\n","import { useEffect } from \"react\";\r\nimport app from \"nystem\";\r\n\r\nconst SessionView = ({ view }) => {\r\n  useEffect(() => {\r\n    const sessionChange = () => {\r\n      let session = app().session.user;\r\n      const { fields } = this.props.model;\r\n\r\n      if (!session) session = {};\r\n\r\n      if (!fields || !fields.length) view.setValue(false, session);\r\n      else\r\n        for (let i = 0; i < fields.length; i++)\r\n          view.setValue(fields[i], session[fields[i]]);\r\n    };\r\n\r\n    app().on(\"login\", sessionChange);\r\n    app().on(\"logout\", sessionChange);\r\n\r\n    sessionChange();\r\n    return () => {\r\n      app().off(\"login\", sessionChange);\r\n      app().off(\"logout\", sessionChange);\r\n    };\r\n  }, [view]);\r\n\r\n  return null;\r\n};\r\nexport default SessionView;\r\n","import React, { useState } from \"react\";\r\nimport app from \"nystem\";\r\nimport { Button } from \"nystem-components\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nconst ViewButtonLogin = ({ view, model, history }) => {\r\n  const [saveButton, setSaveButton] = useState(\"Log in\");\r\n\r\n  const handleSubmit = async (e) => {\r\n    const { errors = [] } = await view.event(\"validate\");\r\n\r\n    if (errors.length) {\r\n      view.event(\"error\", \"Correct validation errors\");\r\n      return;\r\n    }\r\n    setSaveButton(\"Logging in\");\r\n    view.value.contentType = view.contentType;\r\n    const { error } = await app().session.login(view.value);\r\n\r\n    if (error === \"missing\") view.event(\"error\", \"Email does not exist\");\r\n    else if (error === \"password\") view.event(\"error\", \"Password error\");\r\n    else if (model.redirectURL) history.replace(model.redirectURL);\r\n\r\n    setSaveButton(\"Log in\");\r\n  };\r\n\r\n  return (\r\n    <Button\r\n      className={model.className}\r\n      type={model.btnType}\r\n      size={model.size}\r\n      onClick={handleSubmit}\r\n    >\r\n      {saveButton}\r\n    </Button>\r\n  );\r\n};\r\nexport default withRouter(ViewButtonLogin);\r\n","import React from \"react\";\r\nimport { Icon } from \"nystem-components\";\r\n\r\nconst IconView = ({ model }) => (\r\n  <Icon\r\n    className={model.className}\r\n    icon={model.icon}\r\n    deg={model.deg !== \"0\" && model.deg}\r\n  />\r\n);\r\n\r\nexport default IconView;\r\n","import React from \"react\";\n  \n  export default {\"add-outline\":<path d=\"M11 9h4v2h-4v4H9v-4H5V9h4V5h2v4zm-1 11a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16z\"/>,\"add-solid\":<path d=\"M11 9V5H9v4H5v2h4v4h2v-4h4V9h-4zm-1 11a10 10 0 1 1 0-20 10 10 0 0 1 0 20z\"/>,\"adjust\":<path d=\"M10 2v16a8 8 0 1 0 0-16zm0 18a10 10 0 1 1 0-20 10 10 0 0 1 0 20z\"/>,\"airplane\":<path d=\"M8.4 12H2.8L1 15H0V5h1l1.8 3h5.6L6 0h2l4.8 8H18a2 2 0 1 1 0 4h-5.2L8 20H6l2.4-8z\"/>,\"album\":<path d=\"M0 0h20v20H0V0zm10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm0-5a3 3 0 1 1 0-6 3 3 0 0 1 0 6z\"/>,\"align-center\":<path d=\"M1 1h18v2H1V1zm0 8h18v2H1V9zm0 8h18v2H1v-2zM4 5h12v2H4V5zm0 8h12v2H4v-2z\"/>,\"align-justified\":<path d=\"M1 1h18v2H1V1zm0 8h18v2H1V9zm0 8h18v2H1v-2zM1 5h18v2H1V5zm0 8h18v2H1v-2z\"/>,\"align-left\":<path d=\"M1 1h18v2H1V1zm0 8h18v2H1V9zm0 8h18v2H1v-2zM1 5h12v2H1V5zm0 8h12v2H1v-2z\"/>,\"align-right\":<path d=\"M1 1h18v2H1V1zm0 8h18v2H1V9zm0 8h18v2H1v-2zM7 5h12v2H7V5zm0 8h12v2H7v-2z\"/>,\"anchor\":<path d=\"M4.34 15.66A7.97 7.97 0 0 0 9 17.94V10H5V8h4V5.83a3 3 0 1 1 2 0V8h4v2h-4v7.94a7.97 7.97 0 0 0 4.66-2.28l-1.42-1.42h5.66l-2.83 2.83a10 10 0 0 1-14.14 0L.1 14.24h5.66l-1.42 1.42zM10 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2z\"/>,\"announcement\":<path d=\"M3 6c0-1.1.9-2 2-2h8l4-4h2v16h-2l-4-4H5a2 2 0 0 1-2-2H1V6h2zm8 9v5H8l-1.67-5H5v-2h8v2h-2z\"/>,\"apparel\":<path d=\"M7 0H6L0 3v6l4-1v12h12V8l4 1V3l-6-3h-1a3 3 0 0 1-6 0z\"/>,\"arrow-down\":<polygon points=\"9 16.172 2.929 10.101 1.515 11.515 10 20 10.707 19.293 18.485 11.515 17.071 10.101 11 16.172 11 0 9 0\"/>,\"arrow-left\":<polygon points=\"3.828 9 9.899 2.929 8.485 1.515 0 10 .707 10.707 8.485 18.485 9.899 17.071 3.828 11 20 11 20 9 3.828 9\"/>,\"arrow-outline-down\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm-2-8V5h4v5h3l-5 5-5-5h3z\"/>,\"arrow-outline-left\":<path d=\"M0 10a10 10 0 1 1 20 0 10 10 0 0 1-20 0zm2 0a8 8 0 1 0 16 0 8 8 0 0 0-16 0zm8-2h5v4h-5v3l-5-5 5-5v3z\"/>,\"arrow-outline-right\":<path d=\"M20 10a10 10 0 1 1-20 0 10 10 0 0 1 20 0zm-2 0a8 8 0 1 0-16 0 8 8 0 0 0 16 0zm-8 2H5V8h5V5l5 5-5 5v-3z\"/>,\"arrow-outline-up\":<path d=\"M10 0a10 10 0 1 1 0 20 10 10 0 0 1 0-20zm0 2a8 8 0 1 0 0 16 8 8 0 0 0 0-16zm2 8v5H8v-5H5l5-5 5 5h-3z\"/>,\"arrow-right\":<polygon points=\"16.172 9 10.101 2.929 11.515 1.515 20 10 19.293 10.707 11.515 18.485 10.101 17.071 16.172 11 0 11 0 9\"/>,\"arrow-thick-down\":<path d=\"M7 10V2h6v8h5l-8 8-8-8h5z\"/>,\"arrow-thick-left\":<path d=\"M10 13h8V7h-8V2l-8 8 8 8v-5z\"/>,\"arrow-thick-right\":<path d=\"M10 7H2v6h8v5l8-8-8-8v5z\"/>,\"arrow-thick-up\":<path d=\"M7 10v8h6v-8h5l-8-8-8 8h5z\"/>,\"arrow-thin-down\":<path d=\"M9 16.172l-6.071-6.071-1.414 1.414L10 20l.707-.707 7.778-7.778-1.414-1.414L11 16.172V0H9z\"/>,\"arrow-thin-left\":<path d=\"M3.828 9l6.071-6.071-1.414-1.414L0 10l.707.707 7.778 7.778 1.414-1.414L3.828 11H20V9H3.828z\"/>,\"arrow-thin-right\":<path d=\"M16.172 9l-6.071-6.071 1.414-1.414L20 10l-.707.707-7.778 7.778-1.414-1.414L16.172 11H0V9z\"/>,\"arrow-thin-up\":<path d=\"M9 3.828L2.929 9.899 1.515 8.485 10 0l.707.707 7.778 7.778-1.414 1.414L11 3.828V20H9V3.828z\"/>,\"arrow-up\":<polygon points=\"9 3.828 2.929 9.899 1.515 8.485 10 0 10.707 .707 18.485 8.485 17.071 9.899 11 3.828 11 20 9 20 9 3.828\"/>,\"artist\":<path d=\"M15.75 8l-3.74-3.75a3.99 3.99 0 0 1 6.82-3.08A4 4 0 0 1 15.75 8zM1.85 15.3l9.2-9.19 2.83 2.83-9.2 9.2-2.82-2.84zm-1.4 2.83l2.11-2.12 1.42 1.42-2.12 2.12-1.42-1.42zM10 15l2-2v7h-2v-5z\"/>,\"at-symbol\":<path d=\"M13.6 13.47A4.99 4.99 0 0 1 5 10a5 5 0 0 1 8-4V5h2v6.5a1.5 1.5 0 0 0 3 0V10a8 8 0 1 0-4.42 7.16l.9 1.79A10 10 0 1 1 20 10h-.18.17v1.5a3.5 3.5 0 0 1-6.4 1.97zM10 13a3 3 0 1 0 0-6 3 3 0 0 0 0 6z\"/>,\"attachment\":<path d=\"M15 3H7a7 7 0 1 0 0 14h8v-2H7A5 5 0 0 1 7 5h8a3 3 0 0 1 0 6H7a1 1 0 0 1 0-2h8V7H7a3 3 0 1 0 0 6h8a5 5 0 0 0 0-10z\"/>,\"backspace\":<path d=\"M0 10l7-7h13v14H7l-7-7zm14.41 0l2.13-2.12-1.42-1.42L13 8.6l-2.12-2.13-1.42 1.42L11.6 10l-2.13 2.12 1.42 1.42L13 11.4l2.12 2.13 1.42-1.42L14.4 10z\"/>,\"backward-step\":<path d=\"M4 5h3v10H4V5zm12 0v10l-9-5 9-5z\"/>,\"backward\":<path d=\"M19 5v10l-9-5 9-5zm-9 0v10l-9-5 9-5z\"/>,\"badge\":<path d=\"M10 12a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-3a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm4 2.75V20l-4-4-4 4v-8.25a6.97 6.97 0 0 0 8 0z\"/>,\"battery-full\":<path d=\"M0 6c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6zm2 0v8h16V6H2zm1 1h4v6H3V7zm5 0h4v6H8V7zm5 0h4v6h-4V7z\"/>,\"battery-half\":<path d=\"M0 6c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6zm2 0v8h16V6H2zm1 1h4v6H3V7zm5 0h4v6H8V7z\"/>,\"battery-low\":<path d=\"M0 6c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6zm2 0v8h16V6H2zm1 1h4v6H3V7z\"/>,\"beverage\":<path d=\"M9 18v-7L0 2V0h20v2l-9 9v7l5 1v1H4v-1l5-1zm2-10a2 2 0 1 0 0-4 2 2 0 0 0 0 4z\"/>,\"block\":<path d=\"M0 10a10 10 0 1 1 20 0 10 10 0 0 1-20 0zm16.32-4.9L5.09 16.31A8 8 0 0 0 16.32 5.09zm-1.41-1.42A8 8 0 0 0 3.68 14.91L14.91 3.68z\"/>,\"bluetooth\":<path d=\"M9.41 0l6 6-4 4 4 4-6 6H9v-7.59l-3.3 3.3-1.4-1.42L8.58 10l-4.3-4.3L5.7 4.3 9 7.58V0h.41zM11 4.41V7.6L12.59 6 11 4.41zM12.59 14L11 12.41v3.18L12.59 14z\"/>,\"bolt\":<path d=\"M13 8V0L8.11 5.87 3 12h4v8L17 8h-4z\"/>,\"book-reference\":<path d=\"M6 4H5a1 1 0 1 1 0-2h11V1a1 1 0 0 0-1-1H4a2 2 0 0 0-2 2v16c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V5a1 1 0 0 0-1-1h-7v8l-2-2-2 2V4z\"/>,\"bookmark copy 2\":<polygon points=\"18 12 18 13 8 13 8 18 2 12 8 6 8 11 16 11 16 2 18 2\"/>,\"bookmark copy 3\":<polygon points=\"3.5 13 12 13 12 18 18 12 12 6 12 11 4 11 4 2 2 2 2 13\"/>,\"bookmark-outline-add\":<path d=\"M2 2c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v18l-8-4-8 4V2zm2 0v15l6-3 6 3V2H4zm5 5V5h2v2h2v2h-2v2H9V9H7V7h2z\"/>,\"bookmark-outline\":<path d=\"M2 2c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v18l-8-4-8 4V2zm2 0v15l6-3 6 3V2H4z\"/>,\"bookmark\":<path d=\"M2 2c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v18l-8-4-8 4V2z\"/>,\"border-all\":<path d=\"M11 11v6h6v-6h-6zm0-2h6V3h-6v6zm-2 2H3v6h6v-6zm0-2V3H3v6h6zm-8 9V1h18v18H1v-1z\"/>,\"border-bottom\":<path d=\"M1 1h2v2H1V1zm0 4h2v2H1V5zm0 4h2v2H1V9zm0 4h2v2H1v-2zm0 4h18v2H1v-2zM5 1h2v2H5V1zm0 8h2v2H5V9zm4-8h2v2H9V1zm0 4h2v2H9V5zm0 4h2v2H9V9zm0 4h2v2H9v-2zm4-12h2v2h-2V1zm0 8h2v2h-2V9zm4-8h2v2h-2V1zm0 4h2v2h-2V5zm0 4h2v2h-2V9zm0 4h2v2h-2v-2z\"/>,\"border-horizontal\":<path d=\"M1 1h2v2H1V1zm0 4h2v2H1V5zm0 4h18v2H1V9zm0 4h2v2H1v-2zm0 4h2v2H1v-2zM5 1h2v2H5V1zm0 16h2v2H5v-2zM9 1h2v2H9V1zm0 4h2v2H9V5zm0 8h2v2H9v-2zm0 4h2v2H9v-2zm4-16h2v2h-2V1zm0 16h2v2h-2v-2zm4-16h2v2h-2V1zm0 4h2v2h-2V5zm0 8h2v2h-2v-2zm0 4h2v2h-2v-2z\"/>,\"border-inner\":<path d=\"M9 9V1h2v8h8v2h-8v8H9v-8H1V9h8zM1 1h2v2H1V1zm0 4h2v2H1V5zm0 8h2v2H1v-2zm0 4h2v2H1v-2zM5 1h2v2H5V1zm0 16h2v2H5v-2zm8-16h2v2h-2V1zm0 16h2v2h-2v-2zm4-16h2v2h-2V1zm0 4h2v2h-2V5zm0 8h2v2h-2v-2zm0 4h2v2h-2v-2z\"/>,\"border-left\":<path d=\"M1 1h2v18H1V1zm4 0h2v2H5V1zm0 8h2v2H5V9zm0 8h2v2H5v-2zM9 1h2v2H9V1zm0 4h2v2H9V5zm0 4h2v2H9V9zm0 4h2v2H9v-2zm0 4h2v2H9v-2zm4-16h2v2h-2V1zm0 8h2v2h-2V9zm0 8h2v2h-2v-2zm4-16h2v2h-2V1zm0 4h2v2h-2V5zm0 4h2v2h-2V9zm0 4h2v2h-2v-2zm0 4h2v2h-2v-2z\"/>,\"border-none\":<path d=\"M1 1h2v2H1V1zm0 4h2v2H1V5zm0 4h2v2H1V9zm0 4h2v2H1v-2zm0 4h2v2H1v-2zM5 1h2v2H5V1zm0 8h2v2H5V9zm0 8h2v2H5v-2zM9 1h2v2H9V1zm0 4h2v2H9V5zm0 4h2v2H9V9zm0 4h2v2H9v-2zm0 4h2v2H9v-2zm4-16h2v2h-2V1zm0 8h2v2h-2V9zm0 8h2v2h-2v-2zm4-16h2v2h-2V1zm0 4h2v2h-2V5zm0 4h2v2h-2V9zm0 4h2v2h-2v-2zm0 4h2v2h-2v-2z\"/>,\"border-outer\":<path d=\"M2 19H1V1h18v18H2zm1-2h14V3H3v14zm10-8h2v2h-2V9zM9 9h2v2H9V9zM5 9h2v2H5V9zm4-4h2v2H9V5zm0 8h2v2H9v-2z\"/>,\"border-right\":<path d=\"M5 1h2v2H5V1zm0 8h2v2H5V9zm0 8h2v2H5v-2zM9 1h2v2H9V1zm0 4h2v2H9V5zm0 4h2v2H9V9zm0 4h2v2H9v-2zm0 4h2v2H9v-2zm4-16h2v2h-2V1zm0 8h2v2h-2V9zm0 8h2v2h-2v-2zM1 1h2v2H1V1zm0 4h2v2H1V5zm0 4h2v2H1V9zm0 4h2v2H1v-2zm0 4h2v2H1v-2zM17 1h2v18h-2V1z\"/>,\"border-top\":<path d=\"M1 1h18v2H1V1zm0 4h2v2H1V5zm0 4h2v2H1V9zm0 4h2v2H1v-2zm0 4h2v2H1v-2zm4-8h2v2H5V9zm0 8h2v2H5v-2zM9 5h2v2H9V5zm0 4h2v2H9V9zm0 4h2v2H9v-2zm0 4h2v2H9v-2zm4-8h2v2h-2V9zm0 8h2v2h-2v-2zm4-12h2v2h-2V5zm0 4h2v2h-2V9zm0 4h2v2h-2v-2zm0 4h2v2h-2v-2z\"/>,\"border-vertical\":<path d=\"M1 1h2v2H1V1zm0 4h2v2H1V5zm0 4h2v2H1V9zm0 4h2v2H1v-2zm0 4h2v2H1v-2zM5 1h2v2H5V1zm0 8h2v2H5V9zm0 8h2v2H5v-2zM9 1h2v18H9V1zm4 0h2v2h-2V1zm0 8h2v2h-2V9zm0 8h2v2h-2v-2zm4-16h2v2h-2V1zm0 4h2v2h-2V5zm0 4h2v2h-2V9zm0 4h2v2h-2v-2zm0 4h2v2h-2v-2z\"/>,\"box\":<path d=\"M0 2C0 .9.9 0 2 0h16a2 2 0 0 1 2 2v2H0V2zm1 3h18v13a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V5zm6 2v2h6V7H7z\"/>,\"brightness-down\":<path d=\"M10 13a3 3 0 1 1 0-6 3 3 0 0 1 0 6zM9 4a1 1 0 1 1 2 0 1 1 0 1 1-2 0zm4.54 1.05a1 1 0 1 1 1.41 1.41 1 1 0 1 1-1.41-1.41zM16 9a1 1 0 1 1 0 2 1 1 0 1 1 0-2zm-1.05 4.54a1 1 0 1 1-1.41 1.41 1 1 0 1 1 1.41-1.41zM11 16a1 1 0 1 1-2 0 1 1 0 1 1 2 0zm-4.54-1.05a1 1 0 1 1-1.41-1.41 1 1 0 1 1 1.41 1.41zM4 11a1 1 0 1 1 0-2 1 1 0 1 1 0 2zm1.05-4.54a1 1 0 1 1 1.41-1.41 1 1 0 1 1-1.41 1.41z\"/>,\"brightness-up\":<path d=\"M10 14a4 4 0 1 1 0-8 4 4 0 0 1 0 8zM9 1a1 1 0 1 1 2 0v2a1 1 0 1 1-2 0V1zm6.65 1.94a1 1 0 1 1 1.41 1.41l-1.4 1.4a1 1 0 1 1-1.41-1.41l1.4-1.4zM18.99 9a1 1 0 1 1 0 2h-1.98a1 1 0 1 1 0-2h1.98zm-1.93 6.65a1 1 0 1 1-1.41 1.41l-1.4-1.4a1 1 0 1 1 1.41-1.41l1.4 1.4zM11 18.99a1 1 0 1 1-2 0v-1.98a1 1 0 1 1 2 0v1.98zm-6.65-1.93a1 1 0 1 1-1.41-1.41l1.4-1.4a1 1 0 1 1 1.41 1.41l-1.4 1.4zM1.01 11a1 1 0 1 1 0-2h1.98a1 1 0 1 1 0 2H1.01zm1.93-6.65a1 1 0 1 1 1.41-1.41l1.4 1.4a1 1 0 1 1-1.41 1.41l-1.4-1.4z\"/>,\"browser-window-new\":<path d=\"M9 10V8h2v2h2v2h-2v2H9v-2H7v-2h2zM0 3c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3zm2 2v12h16V5H2z\"/>,\"browser-window-open\":<path d=\"M0 3c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3zm2 2v12h16V5H2zm8 3l4 5H6l4-5z\"/>,\"browser-window\":<path d=\"M0 3c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3zm2 2v12h16V5H2z\"/>,\"bug\":<path d=\"M15.3 14.89l2.77 2.77a1 1 0 0 1 0 1.41 1 1 0 0 1-1.41 0l-2.59-2.58A5.99 5.99 0 0 1 11 18V9.04a1 1 0 0 0-2 0V18a5.98 5.98 0 0 1-3.07-1.51l-2.59 2.58a1 1 0 0 1-1.41 0 1 1 0 0 1 0-1.41l2.77-2.77A5.95 5.95 0 0 1 4.07 13H1a1 1 0 1 1 0-2h3V8.41L.93 5.34a1 1 0 0 1 0-1.41 1 1 0 0 1 1.41 0l2.1 2.1h11.12l2.1-2.1a1 1 0 0 1 1.41 0 1 1 0 0 1 0 1.41L16 8.41V11h3a1 1 0 1 1 0 2h-3.07c-.1.67-.32 1.31-.63 1.89zM15 5H5a5 5 0 1 1 10 0z\"/>,\"buoy\":<path d=\"M17.16 6.42a8.03 8.03 0 0 0-3.58-3.58l-1.34 2.69a5.02 5.02 0 0 1 2.23 2.23l2.69-1.34zm0 7.16l-2.69-1.34a5.02 5.02 0 0 1-2.23 2.23l1.34 2.69a8.03 8.03 0 0 0 3.58-3.58zM6.42 2.84a8.03 8.03 0 0 0-3.58 3.58l2.69 1.34a5.02 5.02 0 0 1 2.23-2.23L6.42 2.84zM2.84 13.58a8.03 8.03 0 0 0 3.58 3.58l1.34-2.69a5.02 5.02 0 0 1-2.23-2.23l-2.69 1.34zM10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-7a3 3 0 1 0 0-6 3 3 0 0 0 0 6z\"/>,\"calculator\":<path d=\"M2 2c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2zm3 1v2h10V3H5zm0 4v2h2V7H5zm4 0v2h2V7H9zm4 0v2h2V7h-2zm-8 4v2h2v-2H5zm4 0v2h2v-2H9zm4 0v6h2v-6h-2zm-8 4v2h2v-2H5zm4 0v2h2v-2H9z\"/>,\"calendar\":<path d=\"M1 4c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V4zm2 2v12h14V6H3zm2-6h2v2H5V0zm8 0h2v2h-2V0zM5 9h2v2H5V9zm0 4h2v2H5v-2zm4-4h2v2H9V9zm0 4h2v2H9v-2zm4-4h2v2h-2V9zm0 4h2v2h-2v-2z\"/>,\"camera\":<path d=\"M0 6c0-1.1.9-2 2-2h3l2-2h6l2 2h3a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6zm10 10a5 5 0 1 0 0-10 5 5 0 0 0 0 10zm0-2a3 3 0 1 1 0-6 3 3 0 0 1 0 6z\"/>,\"chart-bar\":<path d=\"M1 10h3v10H1V10zM6 0h3v20H6V0zm5 8h3v12h-3V8zm5-4h3v16h-3V4z\"/>,\"chart-pie\":<path d=\"M19.95 11A10 10 0 1 1 9 .05V11h10.95zm-.08-2.6H11.6V.13a10 10 0 0 1 8.27 8.27z\"/>,\"chart\":<path d=\"M4.13 12H4a2 2 0 1 0 1.8 1.11L7.86 10a2.03 2.03 0 0 0 .65-.07l1.55 1.55a2 2 0 1 0 3.72-.37L15.87 8H16a2 2 0 1 0-1.8-1.11L12.14 10a2.03 2.03 0 0 0-.65.07L9.93 8.52a2 2 0 1 0-3.72.37L4.13 12zM0 4c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4z\"/>,\"chat-bubble-dots\":<path d=\"M10 15l-4 4v-4H2a2 2 0 0 1-2-2V3c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-8zM5 7v2h2V7H5zm4 0v2h2V7H9zm4 0v2h2V7h-2z\"/>,\"checkmark-outline\":<path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM6.7 9.29L9 11.6l4.3-4.3 1.4 1.42L9 14.4l-3.7-3.7 1.4-1.42z\"/>,\"checkmark\":<path d=\"M0 11l2-2 5 5L18 3l2 2L7 18z\"/>,\"cheveron-down\":<path d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\"/>,\"cheveron-left\":<path d=\"M7.05 9.293L6.343 10 12 15.657l1.414-1.414L9.172 10l4.242-4.243L12 4.343z\"/>,\"cheveron-outline-down\":<path d=\"M20 10a10 10 0 1 1-20 0 10 10 0 0 1 20 0zM10 2a8 8 0 1 0 0 16 8 8 0 0 0 0-16zm-.7 10.54L5.75 9l1.41-1.41L10 10.4l2.83-2.82L14.24 9 10 13.24l-.7-.7z\"/>,\"cheveron-outline-left\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm8-10a8 8 0 1 0-16 0 8 8 0 0 0 16 0zM7.46 9.3L11 5.75l1.41 1.41L9.6 10l2.82 2.83L11 14.24 6.76 10l.7-.7z\"/>,\"cheveron-outline-right\":<path d=\"M10 0a10 10 0 1 1 0 20 10 10 0 0 1 0-20zM2 10a8 8 0 1 0 16 0 8 8 0 0 0-16 0zm10.54.7L9 14.25l-1.41-1.41L10.4 10 7.6 7.17 9 5.76 13.24 10l-.7.7z\"/>,\"cheveron-outline-up\":<path d=\"M0 10a10 10 0 1 1 20 0 10 10 0 0 1-20 0zm10 8a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm.7-10.54L14.25 11l-1.41 1.41L10 9.6l-2.83 2.8L5.76 11 10 6.76l.7.7z\"/>,\"cheveron-right\":<path d=\"M12.95 10.707l.707-.707L8 4.343 6.586 5.757 10.828 10l-4.242 4.243L8 15.657l4.95-4.95z\"/>,\"cheveron-up\":<path d=\"M10.707 7.05L10 6.343 4.343 12l1.414 1.414L10 9.172l4.243 4.242L15.657 12z\"/>,\"clipboard\":<path d=\"M7.03 2.6a3 3 0 0 1 5.94 0L15 3v1h1a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h1V3l2.03-.4zM5 6H4v12h12V6h-1v1H5V6zm5-2a1 1 0 1 0 0-2 1 1 0 0 0 0 2z\"/>,\"close-outline\":<path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm1.41-1.41A8 8 0 1 0 15.66 4.34 8 8 0 0 0 4.34 15.66zm9.9-8.49L11.41 10l2.83 2.83-1.41 1.41L10 11.41l-2.83 2.83-1.41-1.41L8.59 10 5.76 7.17l1.41-1.41L10 8.59l2.83-2.83 1.41 1.41z\"/>,\"close-solid\":<path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zM11.4 10l2.83-2.83-1.41-1.41L10 8.59 7.17 5.76 5.76 7.17 8.59 10l-2.83 2.83 1.41 1.41L10 11.41l2.83 2.83 1.41-1.41L11.41 10z\"/>,\"close\":<path d=\"M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z\"/>,\"cloud-upload\":<path d=\"M16.88 9.1A4 4 0 0 1 16 17H5a5 5 0 0 1-1-9.9V7a3 3 0 0 1 4.52-2.59A4.98 4.98 0 0 1 17 8c0 .38-.04.74-.12 1.1zM11 11h3l-4-4-4 4h3v3h2v-3z\"/>,\"cloud\":<path d=\"M16.88 9.1A4 4 0 0 1 16 17H5a5 5 0 0 1-1-9.9V7a3 3 0 0 1 4.52-2.59A4.98 4.98 0 0 1 17 8c0 .38-.04.74-.12 1.1z\"/>,\"code\":<path d=\"M.7 9.3l4.8-4.8 1.4 1.42L2.84 10l4.07 4.07-1.41 1.42L0 10l.7-.7zm18.6 1.4l.7-.7-5.49-5.49-1.4 1.42L17.16 10l-4.07 4.07 1.41 1.42 4.78-4.78z\"/>,\"coffee\":<path d=\"M4 11H2a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h2V1h14v10a4 4 0 0 1-4 4H8a4 4 0 0 1-4-4zm0-2V5H2v4h2zm-2 8v-1h18v1l-4 2H6l-4-2z\"/>,\"cog\":<path d=\"M3.94 6.5L2.22 3.64l1.42-1.42L6.5 3.94c.52-.3 1.1-.54 1.7-.7L9 0h2l.8 3.24c.6.16 1.18.4 1.7.7l2.86-1.72 1.42 1.42-1.72 2.86c.3.52.54 1.1.7 1.7L20 9v2l-3.24.8c-.16.6-.4 1.18-.7 1.7l1.72 2.86-1.42 1.42-2.86-1.72c-.52.3-1.1.54-1.7.7L11 20H9l-.8-3.24c-.6-.16-1.18-.4-1.7-.7l-2.86 1.72-1.42-1.42 1.72-2.86c-.3-.52-.54-1.1-.7-1.7L0 11V9l3.24-.8c.16-.6.4-1.18.7-1.7zM10 13a3 3 0 1 0 0-6 3 3 0 0 0 0 6z\"/>,\"color-palette\":<path d=\"M9 20v-1.7l.01-.24L15.07 12h2.94c1.1 0 1.99.89 1.99 2v4a2 2 0 0 1-2 2H9zm0-3.34V5.34l2.08-2.07a1.99 1.99 0 0 1 2.82 0l2.83 2.83a2 2 0 0 1 0 2.82L9 16.66zM0 1.99C0 .9.89 0 2 0h4a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zM4 17a1 1 0 1 0 0-2 1 1 0 0 0 0 2z\"/>,\"compose\":<path d=\"M2 4v14h14v-6l2-2v10H0V2h10L8 4H2zm10.3-.3l4 4L8 16H4v-4l8.3-8.3zm1.4-1.4L16 0l4 4-2.3 2.3-4-4z\"/>,\"computer-desktop\":<path d=\"M7 17H2a2 2 0 0 1-2-2V2C0 .9.9 0 2 0h16a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2h-5l4 2v1H3v-1l4-2zM2 2v11h16V2H2z\"/>,\"computer-laptop\":<path d=\"M18 16h2v1a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1v-1h2V4c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v12zM4 4v9h12V4H4zm4 11v1h4v-1H8z\"/>,\"conversation\":<path d=\"M17 11v3l-3-3H8a2 2 0 0 1-2-2V2c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v7a2 2 0 0 1-2 2h-1zm-3 2v2a2 2 0 0 1-2 2H6l-3 3v-3H2a2 2 0 0 1-2-2V8c0-1.1.9-2 2-2h2v3a4 4 0 0 0 4 4h6z\"/>,\"copy\":<path d=\"M6 6V2c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-4v4a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V8c0-1.1.9-2 2-2h4zm2 0h4a2 2 0 0 1 2 2v4h4V2H8v4zM2 8v10h10V8H2z\"/>,\"credit-card\":<path d=\"M18 6V4H2v2h16zm0 4H2v6h16v-6zM0 4c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm4 8h4v2H4v-2z\"/>,\"currency-dollar\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm1-5h1a3 3 0 0 0 0-6H7.99a1 1 0 0 1 0-2H14V5h-3V3H9v2H8a3 3 0 1 0 0 6h4a1 1 0 1 1 0 2H6v2h3v2h2v-2z\"/>,\"dashboard\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm-5.6-4.29a9.95 9.95 0 0 1 11.2 0 8 8 0 1 0-11.2 0zm6.12-7.64l3.02-3.02 1.41 1.41-3.02 3.02a2 2 0 1 1-1.41-1.41z\"/>,\"date-add\":<path d=\"M15 2h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V4c0-1.1.9-2 2-2h2V0h2v2h6V0h2v2zM3 6v12h14V6H3zm6 5V9h2v2h2v2h-2v2H9v-2H7v-2h2z\"/>,\"dial-pad\":<path d=\"M5 4a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm5 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm5 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4zM5 9a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm5 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm5 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4zM5 14a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm5 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0 6a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm5-6a2 2 0 1 1 0-4 2 2 0 0 1 0 4z\"/>,\"directions\":<path d=\"M10 0l10 10-10 10L0 10 10 0zM6 10v3h2v-3h3v3l4-4-4-4v3H8a2 2 0 0 0-2 2z\"/>,\"document-add\":<path d=\"M9 10V8h2v2h2v2h-2v2H9v-2H7v-2h2zm-5 8h12V6h-4V2H4v16zm-2 1V0h12l4 4v16H2v-1z\"/>,\"document\":<path d=\"M4 18h12V6h-4V2H4v16zm-2 1V0h12l4 4v16H2v-1z\"/>,\"dots-horizontal-double\":<path d=\"M10 9a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0 6a2 2 0 1 1 0-4 2 2 0 0 1 0 4z\"/>,\"dots-horizontal-triple\":<path d=\"M10 12a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0-6a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0 12a2 2 0 1 1 0-4 2 2 0 0 1 0 4z\"/>,\"download\":<path d=\"M13 8V2H7v6H2l8 8 8-8h-5zM0 18h20v2H0v-2z\"/>,\"duplicate\":<path d=\"M6 6V2c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-4v4a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V8c0-1.1.9-2 2-2h4zm2 0h4a2 2 0 0 1 2 2v4h4V2H8v4zM2 8v10h10V8H2zm4 4v-2h2v2h2v2H8v2H6v-2H4v-2h2z\"/>,\"edit-copy\":<path d=\"M6 6V2c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-4v4a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V8c0-1.1.9-2 2-2h4zm2 0h4a2 2 0 0 1 2 2v4h4V2H8v4zM2 8v10h10V8H2z\"/>,\"edit-crop\":<path d=\"M14 16H6a2 2 0 0 1-2-2V6H0V4h4V0h2v14h14v2h-4v4h-2v-4zm0-3V6H7V4h7a2 2 0 0 1 2 2v7h-2z\"/>,\"edit-cut\":<path d=\"M9.77 11.5l5.34 3.91c.44.33 1.24.59 1.79.59H20L6.89 6.38A3.5 3.5 0 1 0 5.5 8.37L7.73 10 5.5 11.63a3.5 3.5 0 1 0 1.38 1.99l2.9-2.12zM3.5 7a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zM15.1 4.59A3.53 3.53 0 0 1 16.9 4H20l-7.5 5.5L10.45 8l4.65-3.41z\"/>,\"edit-pencil\":<path d=\"M12.3 3.7l4 4L4 20H0v-4L12.3 3.7zm1.4-1.4L16 0l4 4-2.3 2.3-4-4z\"/>,\"education\":<path d=\"M3.33 8L10 12l10-6-10-6L0 6h10v2H3.33zM0 8v8l2-2.22V9.2L0 8zm10 12l-5-3-2-1.2v-6l7 4.2 7-4.2v6L10 20z\"/>,\"envelope\":<path d=\"M18 2a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4c0-1.1.9-2 2-2h16zm-4.37 9.1L20 16v-2l-5.12-3.9L20 6V4l-10 8L0 4v2l5.12 4.1L0 14v2l6.37-4.9L10 14l3.63-2.9z\"/>,\"exclamation-outline\":<path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 5h2v6H9V5zm0 8h2v2H9v-2z\"/>,\"exclamation-solid\":<path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zM9 5v6h2V5H9zm0 8v2h2v-2H9z\"/>,\"explore\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zM7.88 7.88l-3.54 7.78 7.78-3.54 3.54-7.78-7.78 3.54zM10 11a1 1 0 1 1 0-2 1 1 0 0 1 0 2z\"/>,\"factory\":<path d=\"M10.5 20H0V7l5 3.33V7l5 3.33V7l5 3.33V0h5v20h-9.5z\"/>,\"fast-forward\":<path d=\"M1 5l9 5-9 5V5zm9 0l9 5-9 5V5z\"/>,\"fast-rewind\":<path d=\"M19 5v10l-9-5 9-5zm-9 0v10l-9-5 9-5z\"/>,\"film\":<path d=\"M0 4c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm6 0v12h8V4H6zM2 5v2h2V5H2zm0 4v2h2V9H2zm0 4v2h2v-2H2zm14-8v2h2V5h-2zm0 4v2h2V9h-2zm0 4v2h2v-2h-2zM8 7l5 3-5 3V7z\"/>,\"filter\":<path d=\"M12 12l8-8V0H0v4l8 8v8l4-4v-4z\"/>,\"flag\":<path d=\"M7.667 12H2v8H0V0h12l.333 2H20l-3 6 3 6H8l-.333-2z\"/>,\"flashlight\":<path d=\"M13 7v11a2 2 0 0 1-2 2H9a2 2 0 0 1-2-2V7L5 5V3h10v2l-2 2zM9 8v1a1 1 0 1 0 2 0V8a1 1 0 0 0-2 0zM5 0h10v2H5V0z\"/>,\"folder-outline-add\":<path d=\"M0 4c0-1.1.9-2 2-2h7l2 2h7a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm2 2v10h16V6H2zm7 4V8h2v2h2v2h-2v2H9v-2H7v-2h2z\"/>,\"folder-outline\":<path d=\"M0 4c0-1.1.9-2 2-2h7l2 2h7a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm2 2v10h16V6H2z\"/>,\"folder\":<path d=\"M0 4c0-1.1.9-2 2-2h7l2 2h7a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4z\"/>,\"format-bold\":<path d=\"M3 19V1h8a5 5 0 0 1 3.88 8.16A5.5 5.5 0 0 1 11.5 19H3zm7.5-8H7v5h3.5a2.5 2.5 0 1 0 0-5zM7 4v4h3a2 2 0 1 0 0-4H7z\"/>,\"format-font-size\":<path d=\"M16 9v8h-2V9h-4V7h10v2h-4zM8 5v12H6V5H0V3h15v2H8z\"/>,\"format-italic\":<path d=\"M8 1h9v2H8V1zm3 2h3L8 17H5l6-14zM2 17h9v2H2v-2z\"/>,\"format-text-size\":<path d=\"M16 9v8h-2V9h-4V7h10v2h-4zM8 5v12H6V5H0V3h15v2H8z\"/>,\"format-underline\":<path d=\"M16 9A6 6 0 1 1 4 9V1h3v8a3 3 0 0 0 6 0V1h3v8zM2 17h16v2H2v-2z\"/>,\"forward-step\":<path d=\"M13 5h3v10h-3V5zM4 5l9 5-9 5V5z\"/>,\"forward\":<path d=\"M1 5l9 5-9 5V5zm9 0l9 5-9 5V5z\"/>,\"gift\":<path d=\"M14.83 4H20v6h-1v10H1V10H0V4h5.17A3 3 0 0 1 10 .76 3 3 0 0 1 14.83 4zM8 10H3v8h5v-8zm4 0v8h5v-8h-5zM8 6H2v2h6V6zm4 0v2h6V6h-6zM8 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm4 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2z\"/>,\"globe\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm2-2.25a8 8 0 0 0 4-2.46V9a2 2 0 0 1-2-2V3.07a7.95 7.95 0 0 0-3-1V3a2 2 0 0 1-2 2v1a2 2 0 0 1-2 2v2h3a2 2 0 0 1 2 2v5.75zm-4 0V15a2 2 0 0 1-2-2v-1h-.5A1.5 1.5 0 0 1 4 10.5V8H2.25A8.01 8.01 0 0 0 8 17.75z\"/>,\"hand-stop\":<path d=\"M17 16a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4.01V4a1 1 0 0 1 1-1 1 1 0 0 1 1 1v6h1V2a1 1 0 0 1 1-1 1 1 0 0 1 1 1v8h1V1a1 1 0 1 1 2 0v9h1V2a1 1 0 0 1 1-1 1 1 0 0 1 1 1v13h1V9a1 1 0 0 1 1-1h1v8z\"/>,\"hard-drive\":<path d=\"M2 2c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2zm10.4 5.6A5 5 0 1 0 15 12V5l-2.6 2.6zM10 14a2 2 0 1 1 0-4 2 2 0 0 1 0 4zM6 3v2h4V3H6zM4 3a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 16a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm12 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0-16a1 1 0 1 0 0-2 1 1 0 0 0 0 2z\"/>,\"headphones\":<path d=\"M16 8A6 6 0 1 0 4 8v11H2a2 2 0 0 1-2-2v-4a2 2 0 0 1 2-2V8a8 8 0 1 1 16 0v3a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-2V8zm-4 2h3v10h-3V10zm-7 0h3v10H5V10z\"/>,\"heart\":<path d=\"M10 3.22l-.61-.6a5.5 5.5 0 0 0-7.78 7.77L10 18.78l8.39-8.4a5.5 5.5 0 0 0-7.78-7.77l-.61.61z\"/>,\"home\":<path d=\"M8 20H3V10H0L10 0l10 10h-3v10h-5v-6H8v6z\"/>,\"hot\":<path d=\"M10 0s8 7.58 8 12a8 8 0 1 1-16 0c0-1.5.91-3.35 2.12-5.15A3 3 0 0 0 10 6V0zM8 0a3 3 0 1 0 0 6V0z\"/>,\"hour-glass\":<path d=\"M3 18a7 7 0 0 1 4-6.33V8.33A7 7 0 0 1 3 2H1V0h18v2h-2a7 7 0 0 1-4 6.33v3.34A7 7 0 0 1 17 18h2v2H1v-2h2zM5 2a5 5 0 0 0 4 4.9V10h2V6.9A5 5 0 0 0 15 2H5z\"/>,\"inbox-check\":<path d=\"M0 2C0 .9.9 0 2 0h16a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm14 12h4V2H2v12h4c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2zM5 9l2-2 2 2 4-4 2 2-6 6-4-4z\"/>,\"inbox-download\":<path d=\"M0 2C0 .9.9 0 2 0h16a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm14 12h4V2H2v12h4c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2zM9 8V5h2v3h3l-4 4-4-4h3z\"/>,\"inbox-full\":<path d=\"M14 14h4V2H2v12h4c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2zM0 2C0 .9.9 0 2 0h16a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm4 2h12v2H4V4zm0 3h12v2H4V7zm0 3h12v2H4v-2z\"/>,\"inbox\":<path d=\"M0 2C0 .9.9 0 2 0h16a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm14 12h4V2H2v12h4c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2z\"/>,\"indent-decrease\":<path d=\"M1 1h18v2H1V1zm6 8h12v2H7V9zm-6 8h18v2H1v-2zM7 5h12v2H7V5zm0 8h12v2H7v-2zM5 6v8l-4-4 4-4z\"/>,\"indent-increase\":<path d=\"M1 1h18v2H1V1zm6 8h12v2H7V9zm-6 8h18v2H1v-2zM7 5h12v2H7V5zm0 8h12v2H7v-2zM1 6l4 4-4 4V6z\"/>,\"information-outline\":<path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z\"/>,\"information-solid\":<path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zM9 11v4h2V9H9v2zm0-6v2h2V5H9z\"/>,\"key\":<path d=\"M12.26 11.74L10 14H8v2H6v2l-2 2H0v-4l8.26-8.26a6 6 0 1 1 4 4zm4.86-4.62A3 3 0 0 0 15 2a3 3 0 0 0-2.12.88l4.24 4.24z\"/>,\"keyboard\":<path d=\"M0 6c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6zm2 0v2h2V6H2zm1 3v2h2V9H3zm-1 3v2h2v-2H2zm3 0v2h10v-2H5zm11 0v2h2v-2h-2zM6 9v2h2V9H6zm3 0v2h2V9H9zm3 0v2h2V9h-2zm3 0v2h2V9h-2zM5 6v2h2V6H5zm3 0v2h2V6H8zm3 0v2h2V6h-2zm3 0v2h4V6h-4z\"/>,\"layers\":<path d=\"M10 1l10 6-10 6L0 7l10-6zm6.67 10L20 13l-10 6-10-6 3.33-2L10 15l6.67-4z\"/>,\"library\":<path d=\"M0 6l10-6 10 6v2H0V6zm0 12h20v2H0v-2zm2-2h16v2H2v-2zm0-8h4v8H2V8zm6 0h4v8H8V8zm6 0h4v8h-4V8z\"/>,\"light-bulb\":<path d=\"M7 13.33a7 7 0 1 1 6 0V16H7v-2.67zM7 17h6v1.5c0 .83-.67 1.5-1.5 1.5h-3A1.5 1.5 0 0 1 7 18.5V17zm2-5.1V14h2v-2.1a5 5 0 1 0-2 0z\"/>,\"link\":<path d=\"M9.26 13a2 2 0 0 1 .01-2.01A3 3 0 0 0 9 5H5a3 3 0 0 0 0 6h.08a6.06 6.06 0 0 0 0 2H5A5 5 0 0 1 5 3h4a5 5 0 0 1 .26 10zm1.48-6a2 2 0 0 1-.01 2.01A3 3 0 0 0 11 15h4a3 3 0 0 0 0-6h-.08a6.06 6.06 0 0 0 0-2H15a5 5 0 0 1 0 10h-4a5 5 0 0 1-.26-10z\"/>,\"list-add\":<path d=\"M15 9h-3v2h3v3h2v-3h3V9h-3V6h-2v3zM0 3h10v2H0V3zm0 8h10v2H0v-2zm0-4h10v2H0V7zm0 8h10v2H0v-2z\"/>,\"list-bullet\":<path d=\"M1 4h2v2H1V4zm4 0h14v2H5V4zM1 9h2v2H1V9zm4 0h14v2H5V9zm-4 5h2v2H1v-2zm4 0h14v2H5v-2z\"/>,\"list\":<path d=\"M1 4h2v2H1V4zm4 0h14v2H5V4zM1 9h2v2H1V9zm4 0h14v2H5V9zm-4 5h2v2H1v-2zm4 0h14v2H5v-2z\"/>,\"load-balancer\":<path d=\"M17 12h-6v4h1v4H8v-4h1v-4H3v4h1v4H0v-4h1v-4a2 2 0 0 1 2-2h6V6H7V0h6v6h-2v4h6a2 2 0 0 1 2 2v4h1v4h-4v-4h1v-4z\"/>,\"location-current\":<path d=\"M0 0l20 8-8 4-2 8z\"/>,\"location-food\":<path d=\"M18 11v7a2 2 0 0 1-4 0v-5h-2V3a3 3 0 0 1 3-3h3v11zM4 10a2 2 0 0 1-2-2V1a1 1 0 0 1 2 0v4h1V1a1 1 0 0 1 2 0v4h1V1a1 1 0 0 1 2 0v7a2 2 0 0 1-2 2v8a2 2 0 0 1-4 0v-8z\"/>,\"location-gas-station\":<path d=\"M13 18h1v2H0v-2h1V2c0-1.1.9-2 2-2h8a2 2 0 0 1 2 2v16zM3 2v6h8V2H3zm10 8h1a2 2 0 0 1 2 2v3a1 1 0 0 0 2 0v-5l-2-2V6l-2-2 1-1 5 5v7a3 3 0 0 1-6 0v-3h-1v-2z\"/>,\"location-hotel\":<path d=\"M2 12h18v6h-2v-2H2v2H0V2h2v10zm8-6h8a2 2 0 0 1 2 2v3H10V6zm-4 5a3 3 0 1 1 0-6 3 3 0 0 1 0 6z\"/>,\"location-marina\":<path d=\"M8 1.88V0h2v16h10l-4 4H2l-2-4h8v-2H0v-.26A24.03 24.03 0 0 0 8 1.88zM19.97 14H10v-.36A11.94 11.94 0 0 0 10 .36v-.2A16.01 16.01 0 0 1 19.97 14z\"/>,\"location-park\":<path d=\"M5.33 12.77A4 4 0 1 1 3 5.13V5a4 4 0 0 1 5.71-3.62 3.5 3.5 0 0 1 6.26 1.66 2.5 2.5 0 0 1 2 2.08 4 4 0 1 1-2.7 7.49A5.02 5.02 0 0 1 12 14.58V18l2 1v1H6v-1l2-1v-3l-2.67-2.23zM5 10l3 3v-3H5z\"/>,\"location-restroom\":<path d=\"M12 16H9l2-4.5V9c0-1.1.9-2 2-2h2a2 2 0 0 1 2 2v2.5l2 4.5h-3v4h-4v-4zm-5-3h2V9a2 2 0 0 0-2-2H3a2 2 0 0 0-2 2v4h2v7h4v-7zM5 6a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm9 0a3 3 0 1 1 0-6 3 3 0 0 1 0 6z\"/>,\"location-shopping\":<path d=\"M16 6v2h2l2 12H0L2 8h2V6a6 6 0 1 1 12 0zm-2 0a4 4 0 1 0-8 0v2h8V6zM4 10v2h2v-2H4zm10 0v2h2v-2h-2z\"/>,\"location\":<path d=\"M10 20S3 10.87 3 7a7 7 0 1 1 14 0c0 3.87-7 13-7 13zm0-11a2 2 0 1 0 0-4 2 2 0 0 0 0 4z\"/>,\"lock-closed\":<path d=\"M4 8V6a6 6 0 1 1 12 0v2h1a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h1zm5 6.73V17h2v-2.27a2 2 0 1 0-2 0zM7 6v2h6V6a3 3 0 0 0-6 0z\"/>,\"lock-open\":<path d=\"M4 8V6a6 6 0 1 1 12 0h-3v2h4a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h1zm5 6.73V17h2v-2.27a2 2 0 1 0-2 0zM7 6v2h6V6a3 3 0 0 0-6 0z\"/>,\"map\":<path d=\"M0 0l6 4 8-4 6 4v16l-6-4-8 4-6-4V0zm7 6v11l6-3V3L7 6z\"/>,\"menu\":<path d=\"M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z\"/>,\"mic\":<path d=\"M9 18v-1.06A8 8 0 0 1 2 9h2a6 6 0 1 0 12 0h2a8 8 0 0 1-7 7.94V18h3v2H6v-2h3zM6 4a4 4 0 1 1 8 0v5a4 4 0 1 1-8 0V4z\"/>,\"minus-outline\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm5-9v2H5V9h10z\"/>,\"minus-solid\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm5-11H5v2h10V9z\"/>,\"mobile-devices\":<path d=\"M17 6V5h-2V2H3v14h5v4h3.25H11a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6zm-5.75 14H3a2 2 0 0 1-2-2V2c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-5.75zM11 8v8h6V8h-6zm3 11a1 1 0 1 0 0-2 1 1 0 0 0 0 2z\"/>,\"mood-happy-outline\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zM6.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm7 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm2.16 3a6 6 0 0 1-11.32 0h11.32z\"/>,\"mood-happy-solid\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zM6.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm7 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm2.16 3H4.34a6 6 0 0 0 11.32 0z\"/>,\"mood-neutral-outline\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zM6.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm7 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zM7 13h6a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2z\"/>,\"mood-neutral-solid\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zM6.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm7 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM7 13a1 1 0 0 0 0 2h6a1 1 0 0 0 0-2H7z\"/>,\"mood-sad-outline\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zM6.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm7 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm2.16 6H4.34a6 6 0 0 1 11.32 0z\"/>,\"mood-sad-solid\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zM6.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm7 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm2.16 6a6 6 0 0 0-11.32 0h11.32z\"/>,\"mouse\":<path d=\"M4 9V6A6 6 0 0 1 9 .08V9H4zm0 2v3a6 6 0 1 0 12 0v-3H4zm12-2V6a6 6 0 0 0-5-5.92V9h5z\"/>,\"move\":<path d=\"M94.828,45.171L80.687,31.029c-1.562-1.562-4.095-1.562-5.657,0c-1.562,1.562-1.562,4.095,0,5.657L82.344,44H52V13.657  l7.313,7.313c1.562,1.562,4.095,1.562,5.657,0c1.562-1.562,1.562-4.095,0-5.657L50.828,1.171c-1.562-1.562-4.095-1.562-5.657,0  L31.029,15.314c-1.562,1.562-1.562,4.095,0,5.657s4.095,1.562,5.657,0L44,13.657V44H13.657l7.313-7.313  c1.562-1.562,1.562-4.095,0-5.657s-4.095-1.562-5.657,0L1.171,45.171c-1.562,1.562-1.562,4.095,0,5.657l14.143,14.143  c1.562,1.562,4.095,1.562,5.657,0c1.562-1.562,1.562-4.095,0-5.657L13.657,52H44v30.344l-7.313-7.314  c-1.562-1.562-4.095-1.562-5.657,0c-1.562,1.562-1.562,4.095,0,5.657l14.142,14.142c1.562,1.562,4.095,1.562,5.657,0l14.143-14.142  c1.562-1.562,1.562-4.095,0-5.657c-1.562-1.562-4.095-1.562-5.657,0L52,82.343V52h30.343l-7.313,7.313  c-1.562,1.562-1.562,4.095,0,5.657c1.562,1.562,4.095,1.562,5.657,0l14.142-14.143C96.391,49.267,96.391,46.733,94.828,45.171z\" />,\"music-album\":<path d=\"M0 0h20v20H0V0zm10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm0-5a3 3 0 1 1 0-6 3 3 0 0 1 0 6z\"/>,\"music-artist\":<path d=\"M15.75 8l-3.74-3.75a3.99 3.99 0 0 1 6.82-3.08A4 4 0 0 1 15.75 8zm-13.9 7.3l9.2-9.19 2.83 2.83-9.2 9.2-2.82-2.84zm-1.4 2.83l2.11-2.12 1.42 1.42-2.12 2.12-1.42-1.42zM10 15l2-2v7h-2v-5z\"/>,\"music-notes\":<path d=\"M20 2.5V0L6 2v12.17A3 3 0 0 0 5 14H3a3 3 0 0 0 0 6h2a3 3 0 0 0 3-3V5.71L18 4.3v7.88a3 3 0 0 0-1-.17h-2a3 3 0 0 0 0 6h2a3 3 0 0 0 3-3V2.5z\"/>,\"music-playlist\":<path d=\"M16 17a3 3 0 0 1-3 3h-2a3 3 0 0 1 0-6h2a3 3 0 0 1 1 .17V1l6-1v4l-4 .67V17zM0 3h12v2H0V3zm0 4h12v2H0V7zm0 4h12v2H0v-2zm0 4h6v2H0v-2z\"/>,\"navigation-more\":<path d=\"M4 12a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm6 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm6 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4z\"/>,\"network\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm7.75-8a8.01 8.01 0 0 0 0-4h-3.82a28.81 28.81 0 0 1 0 4h3.82zm-.82 2h-3.22a14.44 14.44 0 0 1-.95 3.51A8.03 8.03 0 0 0 16.93 14zm-8.85-2h3.84a24.61 24.61 0 0 0 0-4H8.08a24.61 24.61 0 0 0 0 4zm.25 2c.41 2.4 1.13 4 1.67 4s1.26-1.6 1.67-4H8.33zm-6.08-2h3.82a28.81 28.81 0 0 1 0-4H2.25a8.01 8.01 0 0 0 0 4zm.82 2a8.03 8.03 0 0 0 4.17 3.51c-.42-.96-.74-2.16-.95-3.51H3.07zm13.86-8a8.03 8.03 0 0 0-4.17-3.51c.42.96.74 2.16.95 3.51h3.22zm-8.6 0h3.34c-.41-2.4-1.13-4-1.67-4S8.74 3.6 8.33 6zM3.07 6h3.22c.2-1.35.53-2.55.95-3.51A8.03 8.03 0 0 0 3.07 6z\"/>,\"news-paper\":<path d=\"M16 2h4v15a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V0h16v2zm0 2v13a1 1 0 0 0 1 1 1 1 0 0 0 1-1V4h-2zM2 2v15a1 1 0 0 0 1 1h11.17a2.98 2.98 0 0 1-.17-1V2H2zm2 8h8v2H4v-2zm0 4h8v2H4v-2zM4 4h8v4H4V4z\"/>,\"notification\":<path d=\"M4 8a6 6 0 0 1 4.03-5.67 2 2 0 1 1 3.95 0A6 6 0 0 1 16 8v6l3 2v1H1v-1l3-2V8zm8 10a2 2 0 1 1-4 0h4z\"/>,\"notifications-outline\":<path d=\"M6 8v7h8V8a4 4 0 1 0-8 0zm2.03-5.67a2 2 0 1 1 3.95 0A6 6 0 0 1 16 8v6l3 2v1H1v-1l3-2V8a6 6 0 0 1 4.03-5.67zM12 18a2 2 0 1 1-4 0h4z\"/>,\"notifications\":<path d=\"M4 8a6 6 0 0 1 4.03-5.67 2 2 0 1 1 3.95 0A6 6 0 0 1 16 8v6l3 2v1H1v-1l3-2V8zm8 10a2 2 0 1 1-4 0h4z\"/>,\"paste\":<path d=\"M10.5 20H2a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h1V3l2.03-.4a3 3 0 0 1 5.94 0L13 3v1h1a2 2 0 0 1 2 2v1h-2V6h-1v1H3V6H2v12h5v2h3.5zM8 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm2 4h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-8a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2zm0 2v8h8v-8h-8z\"/>,\"pause-outline\":<path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM7 6h2v8H7V6zm4 0h2v8h-2V6z\"/>,\"pause-solid\":<path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zM7 6v8h2V6H7zm4 0v8h2V6h-2z\"/>,\"pause\":<path d=\"M5 4h3v12H5V4zm7 0h3v12h-3V4z\"/>,\"pen-tool\":<path d=\"M11 9.27V0l6 11-4 6H7l-4-6L9 0v9.27a2 2 0 1 0 2 0zM6 18h8v2H6v-2z\"/>,\"phone\":<path d=\"M20 18.35V19a1 1 0 0 1-1 1h-2A17 17 0 0 1 0 3V1a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v4c0 .56-.31 1.31-.7 1.7L3.16 8.84c1.52 3.6 4.4 6.48 8 8l2.12-2.12c.4-.4 1.15-.71 1.7-.71H19a1 1 0 0 1 .99 1v3.35z\"/>,\"photo\":<path d=\"M0 4c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm11 9l-3-3-6 6h16l-5-5-2 2zm4-4a2 2 0 1 0 0-4 2 2 0 0 0 0 4z\"/>,\"php-elephant\":<path fill-rule=\"evenodd\" d=\"M10 12v8A10 10 0 0 1 8.17.17L10 2h5a5 5 0 0 1 5 4.99v9.02A4 4 0 0 1 16 20v-2a2 2 0 1 0 0-4h-4l-2-2zm5.5-3a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z\"/>,\"pin\":<path d=\"M11 12h6v-1l-3-1V2l3-1V0H3v1l3 1v8l-3 1v1h6v7l1 1 1-1v-7z\"/>,\"play-outline\":<path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM7 6l8 4-8 4V6z\"/>,\"play\":<path d=\"M4 4l12 6-12 6z\"/>,\"playlist\":<path d=\"M16 17a3 3 0 0 1-3 3h-2a3 3 0 0 1 0-6h2a3 3 0 0 1 1 .17V1l6-1v4l-4 .67V17zM0 3h12v2H0V3zm0 4h12v2H0V7zm0 4h12v2H0v-2zm0 4h6v2H0v-2z\"/>,\"plugin\":<path d=\"M20 14v4a2 2 0 0 1-2 2h-4v-2a2 2 0 0 0-2-2 2 2 0 0 0-2 2v2H6a2 2 0 0 1-2-2v-4H2a2 2 0 0 1-2-2 2 2 0 0 1 2-2h2V6c0-1.1.9-2 2-2h4V2a2 2 0 0 1 2-2 2 2 0 0 1 2 2v2h4a2 2 0 0 1 2 2v4h-2a2 2 0 0 0-2 2 2 2 0 0 0 2 2h2z\"/>,\"plus-circle\":<path d=\"M12 9V12M12 12V15M12 12H15M12 12H9M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z\" stroke=\"#4A5568\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>,\"plus\":<path d=\"M12 6V12M12 12V18M12 12H18M12 12L6 12\" stroke=\"#374151\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>,\"portfolio\":<path d=\"M9 12H1v6a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-6h-8v2H9v-2zm0-1H0V5c0-1.1.9-2 2-2h4V2a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v1h4a2 2 0 0 1 2 2v6h-9V9H9v2zm3-8V2H8v1h4z\"/>,\"printer\":<path d=\"M4 16H0V6h20v10h-4v4H4v-4zm2-4v6h8v-6H6zM4 0h12v5H4V0zM2 8v2h2V8H2zm4 0v2h2V8H6z\"/>,\"pylon\":<path d=\"M17.4 18H20v2H0v-2h2.6L8 0h4l5.4 18zm-3.2-4H5.8l-1.2 4h10.8l-1.2-4zm-2.4-8H8.2L7 10h6l-1.2-4z\"/>,\"question\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm2-13c0 .28-.21.8-.42 1L10 9.58c-.57.58-1 1.6-1 2.42v1h2v-1c0-.29.21-.8.42-1L13 9.42c.57-.58 1-1.6 1-2.42a4 4 0 1 0-8 0h2a2 2 0 1 1 4 0zm-3 8v2h2v-2H9z\"/>,\"queue\":<path d=\"M0 2h20v4H0V2zm0 8h20v2H0v-2zm0 6h20v2H0v-2z\"/>,\"radar copy 2\":<path d=\"M12 10a2 2 0 0 1-3.41 1.41A2 2 0 0 1 10 8V0a9.97 9.97 0 0 1 10 10h-8zm7.9 1.41A10 10 0 1 1 8.59.1v2.03a8 8 0 1 0 9.29 9.29h2.02zm-4.07 0a6 6 0 1 1-7.25-7.25v2.1a3.99 3.99 0 0 0-1.4 6.57 4 4 0 0 0 6.56-1.42h2.1z\"/>,\"radar\":<path d=\"M12 10a2 2 0 0 1-3.41 1.41A2 2 0 0 1 10 8V0a9.97 9.97 0 0 1 10 10h-8zm7.9 1.41A10 10 0 1 1 8.59.1v2.03a8 8 0 1 0 9.29 9.29h2.02zm-4.07 0a6 6 0 1 1-7.25-7.25v2.1a3.99 3.99 0 0 0-1.4 6.57 4 4 0 0 0 6.56-1.42h2.1z\"/>,\"radio\":<path d=\"M20 9v9a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V8c0-1.1.9-2 2-2h13.8L.74 1.97 1.26.03 20 5.06V9zm-5 9a3 3 0 1 0 0-6 3 3 0 0 0 0 6zM2 8v2h16V8H2zm1.5 10a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm6.5-1a2 2 0 1 1 0-4 2 2 0 0 1 0 4z\"/>,\"refresh\":<path d=\"M10 3v2a5 5 0 0 0-3.54 8.54l-1.41 1.41A7 7 0 0 1 10 3zm4.95 2.05A7 7 0 0 1 10 17v-2a5 5 0 0 0 3.54-8.54l1.41-1.41zM10 20l-4-4 4-4v8zm0-12V0l4 4-4 4z\"/>,\"reload\":<path d=\"M14.66 15.66A8 8 0 1 1 17 10h-2a6 6 0 1 0-1.76 4.24l1.42 1.42zM12 10h8l-4 4-4-4z\"/>,\"reply-all\":<path d=\"M18 17v-2.99A4 4 0 0 0 14 10h-3v5L5 9l6-6v5h3a6 6 0 0 1 6 6v3h-2zM6 6V3L0 9l6 6v-3L3 9l3-3z\"/>,\"reply\":<path d=\"M15 17v-2.99A4 4 0 0 0 11 10H8v5L2 9l6-6v5h3a6 6 0 0 1 6 6v3h-2z\"/>,\"repost\":<path d=\"M5 4a2 2 0 0 0-2 2v6H0l4 4 4-4H5V6h7l2-2H5zm10 4h-3l4-4 4 4h-3v6a2 2 0 0 1-2 2H6l2-2h7V8z\"/>,\"save-disk\":<path d=\"M0 2C0 .9.9 0 2 0h14l4 4v14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm5 0v6h10V2H5zm6 1h3v4h-3V3z\"/>,\"screen-full\":<path d=\"M2.8 15.8L0 13v7h7l-2.8-2.8 4.34-4.32-1.42-1.42L2.8 15.8zM17.2 4.2L20 7V0h-7l2.8 2.8-4.34 4.32 1.42 1.42L17.2 4.2zm-1.4 13L13 20h7v-7l-2.8 2.8-4.32-4.34-1.42 1.42 4.33 4.33zM4.2 2.8L7 0H0v7l2.8-2.8 4.32 4.34 1.42-1.42L4.2 2.8z\"/>,\"search\":<path d=\"M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12z\"/>,\"send\":<path d=\"M0 0l20 10L0 20V0zm0 8v4l10-2L0 8z\"/>,\"servers\":<path d=\"M0 2C0 .9.9 0 2 0h16a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm0 7c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V9zm0 7c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2zM12 2v2h2V2h-2zm4 0v2h2V2h-2zm-4 7v2h2V9h-2zm4 0v2h2V9h-2zm-4 7v2h2v-2h-2zm4 0v2h2v-2h-2z\"/>,\"share-01\":<path d=\"M4 10c0-1.1.9-2 2-2h8c1.1 0 2 .9 2 2v8c0 1.1-.9 2-2 2H6c-1.1 0-2-.9-2-2v-8zm2 0v8h8v-8h-2V8H8v2H6zm3-6.17V16h2V3.83l3.07 3.07 1.42-1.41L10 0l-.7.7L4.5 5.5l1.42 1.4L9 3.84z\"/>,\"share-alt\":<path d=\"M5.08 12.16A2.99 2.99 0 0 1 0 10a3 3 0 0 1 5.08-2.16l8.94-4.47a3 3 0 1 1 .9 1.79L5.98 9.63a3.03 3.03 0 0 1 0 .74l8.94 4.47A2.99 2.99 0 0 1 20 17a3 3 0 1 1-5.98-.37l-8.94-4.47z\"/>,\"share\":<path d=\"M4 10c0-1.1.9-2 2-2h8c1.1 0 2 .9 2 2v8c0 1.1-.9 2-2 2H6c-1.1 0-2-.9-2-2v-8zm2 0v8h8v-8h-2V8H8v2H6zm3-6.17V16h2V3.83l3.07 3.07 1.42-1.41L10 0l-.7.7-4.8 4.8 1.42 1.4L9 3.84z\"/>,\"shield\":<path d=\"M19 11a7.5 7.5 0 0 1-3.5 5.94L10 20l-5.5-3.06A7.5 7.5 0 0 1 1 11V3c3.38 0 6.5-1.12 9-3 2.5 1.89 5.62 3 9 3v8zm-9 1.08l2.92 2.04-1.03-3.41 2.84-2.15-3.56-.08L10 5.12 8.83 8.48l-3.56.08L8.1 10.7l-1.03 3.4L10 12.09z\"/>,\"shopping-cart\":<path d=\"M4 2h16l-3 9H4a1 1 0 1 0 0 2h13v2H4a3 3 0 0 1 0-6h.33L3 5 2 2H0V0h3a1 1 0 0 1 1 1v1zm1 18a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm10 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4z\"/>,\"show-sidebar\":<path d=\"M7 3H2v14h5V3zm2 0v14h9V3H9zM0 3c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3zm3 1h3v2H3V4zm0 3h3v2H3V7zm0 3h3v2H3v-2z\"/>,\"shuffle\":<path d=\"M6.59 12.83L4.4 15c-.58.58-1.59 1-2.4 1H0v-2h2c.29 0 .8-.2 1-.41l2.17-2.18 1.42 1.42zM16 4V1l4 4-4 4V6h-2c-.29 0-.8.2-1 .41l-2.17 2.18L9.4 7.17 11.6 5c.58-.58 1.59-1 2.41-1h2zm0 10v-3l4 4-4 4v-3h-2c-.82 0-1.83-.42-2.41-1l-8.6-8.59C2.8 6.21 2.3 6 2 6H0V4h2c.82 0 1.83.42 2.41 1l8.6 8.59c.2.2.7.41.99.41h2z\"/>,\"stand-by\":<path fill-rule=\"evenodd\" d=\"M4.16 4.16l1.42 1.42A6.99 6.99 0 0 0 10 18a7 7 0 0 0 4.42-12.42l1.42-1.42a9 9 0 1 1-11.69 0zM9 0h2v8H9V0z\"/>,\"star-full\":<path d=\"M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z\"/>,\"station\":<path d=\"M9 11.73a2 2 0 1 1 2 0V20H9v-8.27zm5.24 2.51l-1.41-1.41A3.99 3.99 0 0 0 10 6a4 4 0 0 0-2.83 6.83l-1.41 1.41a6 6 0 1 1 8.49 0zm2.83 2.83l-1.41-1.41a8 8 0 1 0-11.31 0l-1.42 1.41a10 10 0 1 1 14.14 0z\"/>,\"step-backward\":<path d=\"M4 5h3v10H4V5zm12 0v10l-9-5 9-5z\"/>,\"step-forward\":<path d=\"M13 5h3v10h-3V5zM4 5l9 5-9 5V5z\"/>,\"stethoscope\":<path d=\"M17 10.27V4.99a1 1 0 0 0-2 0V15a5 5 0 0 1-10 0v-1.08A6 6 0 0 1 0 8V2C0 .9.9 0 2 0h1a1 1 0 0 1 1 1 1 1 0 0 1-1 1H2v6a4 4 0 1 0 8 0V2H9a1 1 0 0 1-1-1 1 1 0 0 1 1-1h1a2 2 0 0 1 2 2v6a6 6 0 0 1-5 5.92V15a3 3 0 0 0 6 0V5a3 3 0 0 1 6 0v5.27a2 2 0 1 1-2 0z\"/>,\"store-front\":<path d=\"M18 9.87V20H2V9.87a4.25 4.25 0 0 0 3-.38V14h10V9.5a4.26 4.26 0 0 0 3 .37zM3 0h4l-.67 6.03A3.43 3.43 0 0 1 3 9C1.34 9 .42 7.73.95 6.15L3 0zm5 0h4l.7 6.3c.17 1.5-.91 2.7-2.42 2.7h-.56A2.38 2.38 0 0 1 7.3 6.3L8 0zm5 0h4l2.05 6.15C19.58 7.73 18.65 9 17 9a3.42 3.42 0 0 1-3.33-2.97L13 0z\"/>,\"stroke-width\":<path d=\"M0 0h20v5H0V0zm0 7h20v4H0V7zm0 6h20v3H0v-3zm0 5h20v2H0v-2z\"/>,\"subdirectory-left\":<path d=\"M18 12v1H8v5l-6-6 6-6v5h8V2h2z\"/>,\"subdirectory-right\":<path d=\"M3.5 13H12v5l6-6-6-6v5H4V2H2v11z\"/>,\"swap\":<path d=\"M9 6a4 4 0 1 1 8 0v8h3l-4 4-4-4h3V6a2 2 0 0 0-2-2 2 2 0 0 0-2 2v8a4 4 0 1 1-8 0V6H0l4-4 4 4H5v8a2 2 0 0 0 2 2 2 2 0 0 0 2-2V6z\"/>,\"tablet\":<path d=\"M2 2c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2zm2 0v14h12V2H4zm6 17a1 1 0 1 0 0-2 1 1 0 0 0 0 2z\"/>,\"tag\":<path d=\"M0 10V2l2-2h8l10 10-10 10L0 10zm4.5-4a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z\"/>,\"target\":<path d=\"M17.94 11H13V9h4.94A8 8 0 0 0 11 2.06V7H9V2.06A8 8 0 0 0 2.06 9H7v2H2.06A8 8 0 0 0 9 17.94V13h2v4.94A8 8 0 0 0 17.94 11zM10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20z\"/>,\"text-box\":<path d=\"M0 0h6v6H0V0zm2 2v2h2V2H2zm12-2h6v6h-6V0zm2 2v2h2V2h-2zm-2 12h6v6h-6v-6zm2 2v2h2v-2h-2zM0 14h6v6H0v-6zm2 2v2h2v-2H2zM6 2h8v2H6V2zm0 14h8v2H6v-2zM16 6h2v8h-2V6zM2 6h2v8H2V6zm5 1h6v2H7V7zm2 2h2v4H9V9z\"/>,\"text-decoration\":<path d=\"M12 5h-2v12H8V3h8v2h-2v12h-2V5zM8 3a4 4 0 1 0 0 8V3z\"/>,\"thermometer\":<path d=\"M9 11.17V7h2v4.17a3 3 0 1 1-2 0zm-1-.63a4 4 0 1 0 4 0V4a2 2 0 1 0-4 0v6.53zM6 9.53V4a4 4 0 0 1 8 0v5.53A5.99 5.99 0 0 1 10 20 6 6 0 0 1 6 9.53z\"/>,\"thumbs-down\":<path d=\"M11 20a2 2 0 0 1-2-2v-6H2a2 2 0 0 1-2-2V8l2.3-6.12A3.11 3.11 0 0 1 5 0h8a2 2 0 0 1 2 2v8l-3 7v3h-1zm6-10V0h3v10h-3z\"/>,\"thumbs-up\":<path d=\"M11 0h1v3l3 7v8a2 2 0 0 1-2 2H5c-1.1 0-2.31-.84-2.7-1.88L0 12v-2a2 2 0 0 1 2-2h7V2a2 2 0 0 1 2-2zm6 10h3v10h-3V10z\"/>,\"ticket\":<path d=\"M20 12v5H0v-5a2 2 0 1 0 0-4V3h20v5a2 2 0 1 0 0 4zM3 5v10h14V5H3zm7 7.08l-2.92 2.04L8.1 10.7 5.27 8.56l3.56-.08L10 5.12l1.17 3.36 3.56.08-2.84 2.15 1.03 3.4L10 12.09z\"/>,\"time\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm-1-7.59V4h2v5.59l3.95 3.95-1.41 1.41L9 10.41z\"/>,\"timer\":<path d=\"M16.32 7.1A8 8 0 1 1 9 4.06V2h2v2.06c1.46.18 2.8.76 3.9 1.62l1.46-1.46 1.42 1.42-1.46 1.45zM10 18a6 6 0 1 0 0-12 6 6 0 0 0 0 12zM7 0h6v2H7V0zm5.12 8.46l1.42 1.42L10 13.4 8.59 12l3.53-3.54z\"/>,\"tools copy\":<path d=\"M10 0s8 7.58 8 12a8 8 0 1 1-16 0c0-1.5.91-3.35 2.12-5.15A3 3 0 0 0 10 6V0zM8 0a3 3 0 1 0 0 6V0z\"/>,\"translate\":<path d=\"M7.41 9l2.24 2.24-.83 2L6 10.4l-3.3 3.3-1.4-1.42L4.58 9l-.88-.88c-.53-.53-1-1.3-1.3-2.12h2.2c.15.28.33.53.51.7l.89.9.88-.88C7.48 6.1 8 4.84 8 4H0V2h5V0h2v2h5v2h-2c0 1.37-.74 3.15-1.7 4.12L7.4 9zm3.84 8L10 20H8l5-12h2l5 12h-2l-1.25-3h-5.5zm.83-2h3.84L14 10.4 12.08 15z\"/>,\"trash\":<path d=\"M6 2l2-2h4l2 2h4v2H2V2h4zM3 6h14l-1 14H4L3 6zm5 2v10h1V8H8zm3 0v10h1V8h-1z\"/>,\"travel-bus\":<path d=\"M13 18H7v1a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1a2 2 0 0 1-2-2V2c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2v1a1 1 0 0 1-1 1h-1a1 1 0 0 1-1-1v-1zM4 5v6h5V5H4zm7 0v6h5V5h-5zM5 2v1h10V2H5zm.5 14a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm9 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z\"/>,\"travel-car\":<path d=\"M2 14v-3H1a1 1 0 0 1-1-1 1 1 0 0 1 1-1h1l4-7h8l4 7h1a1 1 0 0 1 1 1 1 1 0 0 1-1 1h-1v6a1 1 0 0 1-1 1h-1a1 1 0 0 1-1-1v-1H5v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1v-3zm13.86-5L13 4H7L4.14 9h11.72zM5.5 14a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm9 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z\"/>,\"travel-case\":<path d=\"M14 5h2v14H4V5h2V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v1zm3 0h1a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1V5zM3 5v14H2a2 2 0 0 1-2-2V7c0-1.1.9-2 2-2h1zm5-1v1h4V4H8z\"/>,\"travel-taxi-cab\":<path d=\"M12 3h2l4 7h1a1 1 0 0 1 1 1 1 1 0 0 1-1 1h-1v6a1 1 0 0 1-1 1h-1a1 1 0 0 1-1-1v-1H5v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1v-6H1a1 1 0 0 1-1-1 1 1 0 0 1 1-1h1l4-7h2V1h4v2zm3.86 7L13 5H7l-2.86 5h11.72zM5.5 15a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm9 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z\"/>,\"travel-train\":<path d=\"M12 18H8l-2 2H3l2-2a2 2 0 0 1-2-2V2c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2l2 2h-3l-2-2zM5 5v6h10V5H5zm1.5 11a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm7 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM8 2v1h4V2H8z\"/>,\"travel-walk\":<path d=\"M11 7l1.44 2.16c.31.47 1.01.84 1.57.84H17V8h-3l-1.44-2.16a5.94 5.94 0 0 0-1.4-1.4l-1.32-.88a1.72 1.72 0 0 0-1.7-.04L4 6v5h2V7l2-1-3 14h2l2.35-7.65L11 14v6h2v-8l-2.7-2.7L11 7zm1-3a2 2 0 1 0 0-4 2 2 0 0 0 0 4z\"/>,\"travel\":<path d=\"M14 5h2v14H4V5h2V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v1zm3 0h1a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1V5zM3 5v14H2a2 2 0 0 1-2-2V7c0-1.1.9-2 2-2h1zm5-1v1h4V4H8z\"/>,\"trophy\":<path d=\"M15 9a3 3 0 0 0 3-3h2a5 5 0 0 1-5.1 5 5 5 0 0 1-3.9 3.9V17l5 2v1H4v-1l5-2v-2.1A5 5 0 0 1 5.1 11H5a5 5 0 0 1-5-5h2a3 3 0 0 0 3 3V4H2v2H0V2h5V0h10v2h5v4h-2V4h-3v5z\"/>,\"tuning\":<path d=\"M17 16v4h-2v-4h-2v-3h6v3h-2zM1 9h6v3H1V9zm6-4h6v3H7V5zM3 0h2v8H3V0zm12 0h2v12h-2V0zM9 0h2v4H9V0zM3 12h2v8H3v-8zm6-4h2v12H9V8z\"/>,\"upload\":<path d=\"M13 10v6H7v-6H2l8-8 8 8h-5zM0 18h20v2H0v-2z\"/>,\"usb\":<path d=\"M15 8v2h-4V4h2l-3-4-3 4h2v8H5V9.73a2 2 0 1 0-2 0V12a2 2 0 0 0 2 2h4v2.27a2 2 0 1 0 2 0V12h4a2 2 0 0 0 2-2V8h1V4h-4v4h1z\"/>,\"user-add\":<path d=\"M2 6H0v2h2v2h2V8h2V6H4V4H2v2zm7 0a3 3 0 0 1 6 0v2a3 3 0 0 1-6 0V6zm11 9.14A15.93 15.93 0 0 0 12 13c-2.91 0-5.65.78-8 2.14V18h16v-2.86z\"/>,\"user-group\":<path d=\"M7 8a4 4 0 1 1 0-8 4 4 0 0 1 0 8zm0 1c2.15 0 4.2.4 6.1 1.09L12 16h-1.25L10 20H4l-.75-4H2L.9 10.09A17.93 17.93 0 0 1 7 9zm8.31.17c1.32.18 2.59.48 3.8.92L18 16h-1.25L16 20h-3.96l.37-2h1.25l1.65-8.83zM13 0a4 4 0 1 1-1.33 7.76 5.96 5.96 0 0 0 0-7.52C12.1.1 12.53 0 13 0z\"/>,\"user-solid-circle\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zM7 6v2a3 3 0 1 0 6 0V6a3 3 0 1 0-6 0zm-3.65 8.44a8 8 0 0 0 13.3 0 15.94 15.94 0 0 0-13.3 0z\"/>,\"user-solid-square\":<path d=\"M0 2C0 .9.9 0 2 0h16a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm7 4v2a3 3 0 1 0 6 0V6a3 3 0 1 0-6 0zm11 9.14A15.93 15.93 0 0 0 10 13c-2.91 0-5.65.78-8 2.14V18h16v-2.86z\"/>,\"user\":<path d=\"M5 5a5 5 0 0 1 10 0v2A5 5 0 0 1 5 7V5zM0 16.68A19.9 19.9 0 0 1 10 14c3.64 0 7.06.97 10 2.68V20H0v-3.32z\"/>,\"vector\":<path d=\"M12 4h4.27a2 2 0 1 1 0 2h-2.14a9 9 0 0 1 4.84 7.25 2 2 0 1 1-2 .04 7 7 0 0 0-4.97-6V8H8v-.71a7 7 0 0 0-4.96 6 2 2 0 1 1-2-.04A9 9 0 0 1 5.86 6H3.73a2 2 0 1 1 0-2H8V3h4v1z\"/>,\"video-camera\":<path d=\"M16 7l4-4v14l-4-4v3a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v3zm-8 7a4 4 0 1 0 0-8 4 4 0 0 0 0 8zm0-2a2 2 0 1 1 0-4 2 2 0 0 1 0 4z\"/>,\"view-carousel\":<path d=\"M16 16v2H4v-2H0V4h4V2h12v2h4v12h-4zM14 5.5V4H6v12h8V5.5zm2 .5v8h2V6h-2zM4 6H2v8h2V6z\"/>,\"view-column\":<path d=\"M12 4H8v12h4V4zm2 0v12h4V4h-4zM6 4H2v12h4V4zM0 2h20v16H0V2z\"/>,\"view-hide\":<path d=\"M12.81 4.36l-1.77 1.78a4 4 0 0 0-4.9 4.9l-2.76 2.75C2.06 12.79.96 11.49.2 10a11 11 0 0 1 12.6-5.64zm3.8 1.85c1.33 1 2.43 2.3 3.2 3.79a11 11 0 0 1-12.62 5.64l1.77-1.78a4 4 0 0 0 4.9-4.9l2.76-2.75zm-.25-3.99l1.42 1.42L3.64 17.78l-1.42-1.42L16.36 2.22z\"/>,\"view-list\":<path d=\"M0 3h20v2H0V3zm0 4h20v2H0V7zm0 4h20v2H0v-2zm0 4h20v2H0v-2z\"/>,\"view-show\":<path d=\"M.2 10a11 11 0 0 1 19.6 0A11 11 0 0 1 .2 10zm9.8 4a4 4 0 1 0 0-8 4 4 0 0 0 0 8zm0-2a2 2 0 1 1 0-4 2 2 0 0 1 0 4z\"/>,\"view-tile\":<path d=\"M0 0h9v9H0V0zm2 2v5h5V2H2zm-2 9h9v9H0v-9zm2 2v5h5v-5H2zm9-13h9v9h-9V0zm2 2v5h5V2h-5zm-2 9h9v9h-9v-9zm2 2v5h5v-5h-5z\"/>,\"volume-down\":<path d=\"M7 7H3v6h4l5 5V2L7 7zm8.54 6.54l-1.42-1.42a3 3 0 0 0 0-4.24l1.42-1.42a4.98 4.98 0 0 1 0 7.08z\"/>,\"volume-mute\":<path d=\"M9 7H5v6h4l5 5V2L9 7z\"/>,\"volume-off\":<path d=\"M15 8.59l-2.12-2.13-1.42 1.42L13.6 10l-2.13 2.12 1.42 1.42L15 11.4l2.12 2.13 1.42-1.42L16.4 10l2.13-2.12-1.42-1.42L15 8.6zM4 7H0v6h4l5 5V2L4 7z\"/>,\"volume-up\":<path d=\"M5 7H1v6h4l5 5V2L5 7zm11.36 9.36l-1.41-1.41a6.98 6.98 0 0 0 0-9.9l1.41-1.41a8.97 8.97 0 0 1 0 12.72zm-2.82-2.82l-1.42-1.42a3 3 0 0 0 0-4.24l1.42-1.42a4.98 4.98 0 0 1 0 7.08z\"/>,\"wallet\":<path d=\"M0 4c0-1.1.9-2 2-2h15a1 1 0 0 1 1 1v1H2v1h17a1 1 0 0 1 1 1v10a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm16.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z\"/>,\"watch\":<path d=\"M11 9h2v2H9V7h2v2zm-5.82 6.08a6.98 6.98 0 0 1 0-10.16L6 0h8l.82 4.92a6.98 6.98 0 0 1 0 10.16L14 20H6l-.82-4.92zM10 15a5 5 0 1 0 0-10 5 5 0 0 0 0 10z\"/>,\"window-new\":<path d=\"M9 10V8h2v2h2v2h-2v2H9v-2H7v-2h2zM0 3c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3zm2 2v12h16V5H2z\"/>,\"window-open\":<path d=\"M0 3c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3zm2 2v12h16V5H2zm8 3l4 5H6l4-5z\"/>,\"window\":<path d=\"M0 3c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3zm2 2v12h16V5H2z\"/>,\"wrench\":<path d=\"M6.47 9.8A5 5 0 0 1 .2 3.22l3.95 3.95 2.82-2.83L3.03.41a5 5 0 0 1 6.4 6.68l10 10-2.83 2.83L6.47 9.8z\"/>,\"yin-yang\":<path fill-rule=\"evenodd\" d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-18a8 8 0 1 0 0 16 4 4 0 1 1 0-8 4 4 0 1 0 0-8zm0 13a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0-8a1 1 0 1 1 0-2 1 1 0 0 1 0 2z\"/>,\"zoom-in\":<path fill-rule=\"evenodd\" d=\"M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12zM7 7V5h2v2h2v2H9v2H7V9H5V7h2z\"/>,\"zoom-out\":<path fill-rule=\"evenodd\" d=\"M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12zM5 7h6v2H5V7z\"/>}","export default {\"move\":\"0 0 96 96\",\"plus-circle\":\"0 0 24 24\",\"plus\":\"0 0 24 24\",\"search\":\"0 0 512 512\"}","import React from \"react\";\r\nimport { Wrapper } from \"nystem-components\";\r\n// eslint-disable-next-line import/extensions\r\nimport icons from \"../../../icons\";\r\n// eslint-disable-next-line import/extensions\r\nimport iconsViewPorts from \"../../../iconsViewPorts\";\r\n\r\nconst rotate = (deg) =>\r\n  (deg && { style: { transform: `rotate(${deg}deg)` } }) || undefined;\r\n\r\nconst Icon = ({ icon, className, renderAs, deg, ...props }) => {\r\n  return (\r\n    <Wrapper renderAs={renderAs} className={renderAs && className}>\r\n      <svg\r\n        className={`${\r\n          className instanceof Array\r\n            ? className\r\n                .flat(Infinity)\r\n                .filter((item) => item)\r\n                .join(\" \")\r\n            : className\r\n        } fill-current`}\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        viewBox={iconsViewPorts[icon] || \"0 0 20 20\"}\r\n        {...rotate(deg)}\r\n        {...props}\r\n      >\r\n        <title>{props.title || icon}</title>\r\n        {icons[icon]}\r\n      </svg>\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default Icon;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst StyleEventOutside = ({ model, path, view, value }) => {\r\n  const { className, classNameInner, item, event } = model;\r\n  let innerClicked = false;\r\n  return (\r\n    <Wrapper\r\n      className={className}\r\n      onClick={() => {\r\n        if (!innerClicked) view.event(event, value);\r\n        innerClicked = false;\r\n      }}\r\n    >\r\n      <Wrapper\r\n        className={classNameInner}\r\n        onClick={() => {\r\n          innerClicked = true;\r\n        }}\r\n      >\r\n        <ContentTypeRender path={path} items={item} />\r\n      </Wrapper>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default StyleEventOutside;\r\n","/* eslint-disable jsx-a11y/mouse-events-have-key-events */\r\nimport React, { useState } from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nexport const HideOnNotOverContext = React.createContext();\r\n\r\nconst StyleOnOverHandle = ({ model, path }) => {\r\n  const [over, setOver] = useState(false);\r\n  const { item, className } = model;\r\n\r\n  return (\r\n    <Wrapper\r\n      onMouseOver={() => setOver(true)}\r\n      onMouseOut={() => setOver(false)}\r\n      className={className}\r\n    >\r\n      <HideOnNotOverContext.Provider value={over}>\r\n        {<ContentTypeRender path={path} items={item} />}\r\n      </HideOnNotOverContext.Provider>\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default StyleOnOverHandle;\r\n","import React, { useContext } from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nimport { HideOnNotOverContext } from \"./onOverHandle\";\r\n\r\nconst StyleOnOver = ({ model, path, children }) => {\r\n  const { className, item, classNameOut, classNameOver } = model;\r\n  const over = useContext(HideOnNotOverContext);\r\n\r\n  return (\r\n    <Wrapper className={[className, over ? classNameOver : classNameOut]}>\r\n      {children || <ContentTypeRender path={path} items={item} />}\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default StyleOnOver;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst StyleView = ({ model, path }) => {\r\n  const { className, renderAs, item } = model;\r\n\r\n  return (\r\n    <Wrapper className={className} renderAs={renderAs}>\r\n      <ContentTypeRender path={path} items={item} />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default StyleView;\r\n","import React from \"react\";\r\n\r\nconst ViewportContext = React.createContext();\r\n\r\nexport default ViewportContext;\r\n\r\nexport const ViewportContextProvider = ViewportContext.Provider;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { ViewportContextProvider } from \"./viewportContext\";\r\n\r\nconst breakpoints = {\r\n  xs: 0,\r\n  sm: 576,\r\n  md: 768,\r\n  lg: 992,\r\n  xl: 1200,\r\n};\r\n\r\nconst Viewport = ({ children }) => {\r\n  const [state, setState] = useState({\r\n    density: window.devicePixelRatio,\r\n    width: window.innerWidth,\r\n    height: window.innerHeight,\r\n    size: Object.keys(breakpoints).reduce((prev, key) => {\r\n      return window.innerWidth < breakpoints[key] &&\r\n        breakpoints[key] < breakpoints[prev]\r\n        ? key\r\n        : prev;\r\n    }, \"xl\"),\r\n  });\r\n\r\n  useEffect(() => {\r\n    const handleResize = () => {\r\n      setState({\r\n        width: Math.max(\r\n          document.documentElement.clientWidth,\r\n          window.innerWidth || 0\r\n        ),\r\n        height: Math.max(\r\n          document.documentElement.clientHeight,\r\n          window.innerHeight || 0\r\n        ),\r\n        size: Object.keys(breakpoints).reduce((prev, key) => {\r\n          return window.innerWidth < breakpoints[key] &&\r\n            breakpoints[key] < breakpoints[prev]\r\n            ? key\r\n            : prev;\r\n        }, \"xl\"),\r\n      });\r\n    };\r\n\r\n    window.addEventListener(\"resize\", handleResize, false);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"resize\", handleResize, false);\r\n    };\r\n  }, []);\r\n\r\n  return state.reload ? null : (\r\n    <ViewportContextProvider value={state}>{children}</ViewportContextProvider>\r\n  );\r\n};\r\n\r\nexport default Viewport;\r\n","import * as React from \"react\";\r\nimport app from \"nystem\";\r\n\r\nclass ExtensionBackgroundIndex extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const self = this;\r\n    this.tabs = {};\r\n    this.tabLoadCallback = {};\r\n    this.tabLoading = {};\r\n    app().doingEvent = {};\r\n    app().pathErrorClick = {};\r\n    window.chrome.runtime.onMessage.addListener(\r\n      (request, sender, sendResponse) => {\r\n        const tabOptions = self.tabs[sender.tab.id];\r\n        if (!tabOptions) {\r\n          console.log(\"Missing \", sender.tab);\r\n          return;\r\n        }\r\n        if (request.doEvent) {\r\n          console.log(\"doEvent\", request, app().doingEvent[sender.tab.id]);\r\n          app().doingEvent[sender.tab.id] = false;\r\n          console.log(\"request.result\");\r\n          if (request.result.error === \"Path\") {\r\n            app().pathErrorClick[sender.tab.id] = request;\r\n            console.log(\"app().pathErrorClick\", app().pathErrorClick);\r\n          } else delete app().pathErrorClick[sender.tab.id];\r\n          app().connection.emit(request);\r\n        } else if (app().pathErrorClick[sender.tab.id]) {\r\n          const response = app().pathErrorClick[sender.tab.id];\r\n          delete app().pathErrorClick[sender.tab.id];\r\n          response.newPath = request.path;\r\n          console.log(\"response.newPath\", response);\r\n          app().connection.emit(response);\r\n        } else if (tabOptions.recording) {\r\n          request.tabId = `${sender.tab.id}`;\r\n          request.url = sender.tab.url;\r\n          if (\r\n            !tabOptions.listenTo ||\r\n            tabOptions.listenTo.length === 0 ||\r\n            tabOptions.listenTo.indexOf(request.event) !== -1\r\n          )\r\n            app().database.eventLog.save({\r\n              data: request,\r\n            });\r\n        }\r\n      }\r\n    );\r\n    // https://developer.window.chrome.com/extensions/tabs\r\n    // https://developer.window.chrome.com/extensions/api_index\r\n    // https://developer.window.chrome.com/extensions/messaging\r\n    app().connection.on(\"connect\", this.connect);\r\n    app().database.tab.on(\"update\", this.updateTabSettings);\r\n\r\n    this.saveTab = function (tab, forceUpdate) {\r\n      const tabField = [\"url\", \"title\"];\r\n      let changed = false;\r\n      const id = tab.id ? tab.id : tab._id;\r\n      if (!self.tabs[tab.id]) {\r\n        changed = true;\r\n        self.tabs[tab.id] = {};\r\n      }\r\n      const newUrl = tab.url !== self.tabs[id].url;\r\n      for (let i = 0; i < tabField.length; i++)\r\n        if (self.tabs[id][tabField[i]] !== tab[tabField[i]]) {\r\n          changed = true;\r\n          self.tabs[id][tabField[i]] = tab[tabField[i]];\r\n        }\r\n      self.tabs[id]._id = `${id}`;\r\n      if (changed || forceUpdate) {\r\n        const tabOptions = self.tabs[id];\r\n        if (\r\n          newUrl &&\r\n          tabOptions.recording &&\r\n          (!tabOptions.listenTo ||\r\n            tabOptions.listenTo.length === 0 ||\r\n            tabOptions.listenTo.indexOf(\"url\") !== -1)\r\n        )\r\n          app().database.eventLog.save({\r\n            data: {\r\n              name: `URL change ${tabOptions.url}`,\r\n              event: \"url\",\r\n              url: tabOptions.url,\r\n              title: tabOptions.title,\r\n              tabId: tabOptions._id,\r\n            },\r\n          });\r\n        app().database.tab.save({\r\n          data: tabOptions,\r\n        });\r\n      }\r\n    };\r\n    app().connection.on(\"extensionEvent\", this.extensionEvent);\r\n    window.chrome.webNavigation.onCompleted.addListener((info) => {\r\n      if (info.frameId !== 0) return;\r\n      const tabLoading = self.tabLoading[info.tabId];\r\n      delete self.tabLoading[info.tabId];\r\n      if (tabLoading && tabLoading.callback) tabLoading.callback();\r\n      if (self.tabLoadCallback[info.tabId]) self.tabLoadCallback[info.tabId]();\r\n    });\r\n    window.chrome.webNavigation.onBeforeNavigate.addListener((info) => {\r\n      if (info.frameId !== 0) return;\r\n      if (!self.tabLoading[info.tabId])\r\n        self.tabLoading[info.tabId] = {\r\n          loading: true,\r\n          callback: false,\r\n        };\r\n    });\r\n    window.chrome.tabs.onCreated.addListener(self.saveTab);\r\n    window.chrome.tabs.onUpdated.addListener((tabId, changeInfo, tab) => {\r\n      self.saveTab(tab);\r\n    });\r\n    window.chrome.tabs.onRemoved.addListener((id) => {\r\n      delete self.tabs[id];\r\n      app().database.tab.delete({ id });\r\n    });\r\n    window.chrome.contextMenus.create({\r\n      title: \"Validate in Testguide eventlog\",\r\n      onclick: this.addToEventLog,\r\n      contexts: [\r\n        \"page\",\r\n        \"selection\",\r\n        \"link\",\r\n        \"editable\",\r\n        \"image\",\r\n        \"video\",\r\n        \"audio\",\r\n      ],\r\n    });\r\n    this.updateTimer = setTimeout(this.updateTabs, 1000 * 10);\r\n    this.state = {};\r\n  }\r\n  updateTabs = () => {\r\n    app()\r\n      .database.tab.search()\r\n      .then(({ data }) =>\r\n        data\r\n          .filter((tab) => !tab.siteScript && !this.tabs[tab._id])\r\n          .forEach((tab) => app().database.tab.delete({ id: tab._id }))\r\n      );\r\n    this.updateTimer = setTimeout(this.updateTabs, 1000 * 60);\r\n  };\r\n  addToEventLog = (info, tab) => {\r\n    // console.log(info, tab);\r\n  };\r\n  updateTabSettings = (items) => {\r\n    if (!items) return;\r\n    const self = this;\r\n    const id = `${Object.keys(items)[0]}`;\r\n    const data = app()\r\n      .database.tab.get({ id })\r\n      .then(({ data }) => {\r\n        if (!data || data.siteScript) {\r\n          console.log(id);\r\n          return;\r\n        }\r\n        if (!self.tabs[data._id].recording && data.recording)\r\n          app().database.eventLog.save({\r\n            data: {\r\n              name: `Recording start ${data.url}`,\r\n              event: \"url\",\r\n              url: data.url,\r\n              title: data.title,\r\n              tabId: data._id,\r\n            },\r\n          });\r\n        self.tabs[data._id] = data;\r\n      });\r\n    if (data) this.tabs[data._id] = data;\r\n  };\r\n  extensionEvent = (data) => {\r\n    const self = this;\r\n    const tabId = parseInt(data.tabId, 10);\r\n    if (data.doEvent.event === \"url\") {\r\n      if (this.tabs[data.tabId].url !== data.doEvent.url)\r\n        window.chrome.tabs.update(tabId, { url: data.doEvent.url }, () => {\r\n          self.tabLoadCallback[tabId] = function () {\r\n            data.result = {\r\n              status: \"success\",\r\n              redirected: true,\r\n            };\r\n            app().connection.emit(data);\r\n          };\r\n        });\r\n      else {\r\n        data.result = {\r\n          status: \"success\",\r\n          redirected: false,\r\n        };\r\n        app().connection.emit(data);\r\n      }\r\n    } else if (data.doEvent)\r\n      if (this.tabLoading[tabId]) {\r\n        console.log(\"delay tab\");\r\n        this.tabLoading[tabId].callback = function () {\r\n          console.log(\"delay tab done\");\r\n          app().doingEvent[tabId] = data;\r\n          window.chrome.tabs.sendMessage(tabId, data);\r\n        };\r\n      } else {\r\n        app().doingEvent[tabId] = data;\r\n        window.chrome.tabs.sendMessage(tabId, data);\r\n      }\r\n  };\r\n  connect = (data) => {\r\n    const self = this;\r\n    app().connection.emit({\r\n      type: \"extensionEvent\",\r\n      event: \"connectExtension\",\r\n    });\r\n    window.chrome.tabs.query({}, (data) => {\r\n      for (const item in data) self.saveTab(data[item], true);\r\n    });\r\n  };\r\n  componentWillUnmount() {\r\n    app().connection.off(\"connect\", this.connect);\r\n    app().connection.off(\"extensionEvent\", this.extensionEvent);\r\n    clearTimeout(this.updateTimer);\r\n  }\r\n  render() {\r\n    return null;\r\n  }\r\n}\r\nexport default ExtensionBackgroundIndex;\r\n","const extensionIcon = props => {\r\n  const { browserAction } = window.chrome;\r\n  const { color, text, icon, canvas } = props.model || props;\r\n  if (icon) browserAction.setIcon({ path: icon });\r\n  if (color) browserAction.setBadgeBackgroundColor({ color }); // [190, 190, 190, 230]\r\n  if (text) browserAction.setBadgeText({ text });\r\n  if (canvas) {\r\n    const canvasContext = canvas.getContext(\"2d\");\r\n    browserAction.setIcon({\r\n      imageData: canvasContext.getImageData(0, 0, canvas.width, canvas.height)\r\n    });\r\n  }\r\n  return null;\r\n};\r\nexport default extensionIcon;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { ContentTypeRender } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst currentUrl = () =>\r\n  new Promise((resolve) =>\r\n    window.chrome.tabs.query({ currentWindow: true, active: true }, (tabs) => {\r\n      resolve(tabs[0].url);\r\n    })\r\n  );\r\n\r\nconst ExtensionSearch = ({ model, view, path, setValue }) => {\r\n  const [missing, setMissing] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const { extract, field } = model;\r\n\r\n    currentUrl().then(async (url) => {\r\n      const [, , val] = new RegExp(extract).exec(url) || [];\r\n      if (!val) return;\r\n\r\n      const { data } = await app().database[view.contentType].search({\r\n        filter: { [field]: val },\r\n        count: 1,\r\n      });\r\n\r\n      if (!data) {\r\n        setMissing(true);\r\n        return;\r\n      }\r\n\r\n      setValue(data[0]);\r\n      view.id = data[0]._id;\r\n    });\r\n  }, [model, setValue, view]);\r\n\r\n  return missing ? <ContentTypeRender path={path} items={model.item} /> : null;\r\n};\r\n\r\nexport default ExtensionSearch;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { ContentTypeRender } from \"nystem-components\";\r\n\r\nconst currentUrl = () =>\r\n  new Promise((resolve) =>\r\n    window.chrome.tabs.query({ currentWindow: true, active: true }, (tabs) => {\r\n      resolve(tabs[0].url);\r\n    })\r\n  );\r\n\r\nconst ExtensionTab = (props) => {\r\n  const { match, invert, children, item } = props.model || props;\r\n  const [isMatch, setIsMatch] = useState();\r\n\r\n  useEffect(() => {\r\n    currentUrl().then((url) => setIsMatch(url.includes(match)));\r\n  }, [match]);\r\n\r\n  if (isMatch === undefined || (isMatch && invert) || (!isMatch && !invert))\r\n    return null;\r\n\r\n  return children || <ContentTypeRender path={props.path} items={item} />;\r\n};\r\nexport default ExtensionTab;\r\n","import React from \"react\";\r\nimport { ContentTypeRender } from \"nystem-components\";\r\n\r\nconst ExtensionView = ({ invert, model = {}, path, children }) => {\r\n  const inExtension = window.location.protocol === \"chrome-extension:\";\r\n  invert = invert || model.invert;\r\n\r\n  if ((inExtension && invert) || (!inExtension && !invert)) return null;\r\n\r\n  return children || <ContentTypeRender path={path} items={model.item} />;\r\n};\r\nexport default ExtensionView;\r\n","import React from \"react\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nclass BootstrapComputedClass extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.view = props.view;\r\n    [\"valid\", \"setValue\"].forEach(func => {\r\n      this[func] = this[func].bind(this);\r\n    });\r\n    this.state = {\r\n      value: this.props.value\r\n    };\r\n    this.path = this.props.path;\r\n  }\r\n  valid() {\r\n    let valid = true;\r\n    for (let i = 0; i < this.model.item.length; i++)\r\n      if (\r\n        this.refs[`component${i}`].valid &&\r\n        this.refs[`component${i}`].valid &&\r\n        !this.refs[`component${i}`].valid()\r\n      )\r\n        valid = false;\r\n    return valid;\r\n  }\r\n  setValue(id, value) {\r\n    return this.props.setValue(id, value);\r\n  }\r\n  componentWillReceiveProps(nextProps) {\r\n    this.setState({\r\n      value: nextProps.value\r\n    });\r\n  }\r\n  render() {\r\n    const { view, model, path } = this.props;\r\n    const insertVal = val =>\r\n      val.replace(\r\n        /\\{([a-z_.]+)\\}/gim,\r\n        (str, p1, offset, s) => view.getValue(p1.replace(\".\", `${path}.`)) || \"\"\r\n      );\r\n\r\n    const className = model.className ? model.className.join(\" \") : \"\";\r\n    this.focus = view.focus;\r\n    if (model.row)\r\n      return (\r\n        <Wrapper className={insertVal(className)}>\r\n          <Wrapper className=\"row\">\r\n            {model.item.map(view.createItem, this)}\r\n          </Wrapper>\r\n        </Wrapper>\r\n      );\r\n    return (\r\n      <Wrapper className={insertVal(className)} renderAs={model.renderAs}>\r\n        {model.item.map(view.createItem, this)}\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\nexport default BootstrapComputedClass;\r\n","import { useEffect } from \"react\";\r\n\r\nconst DatabaseFilterResult = ({ view, children }) => {\r\n  useEffect(() => {\r\n    const filterSearch = (query) => {\r\n      const { data } = query;\r\n\r\n      const definition = data\r\n        .filter((item) => item.name === \"definition\")\r\n        .map((item) => item.component);\r\n\r\n      const viewFields = data\r\n        .filter((item) => item.name === \"view\")\r\n        .filter((item) => !definition.includes(item.component));\r\n\r\n      query.data = viewFields;\r\n    };\r\n\r\n    view.on(\"search\", filterSearch);\r\n    return () => {\r\n      view.off(\"search\", filterSearch);\r\n    };\r\n  }, [view]);\r\n\r\n  return children || null;\r\n};\r\n\r\nexport default DatabaseFilterResult;\r\n","import {\r\n  Wrapper,\r\n  Inserter,\r\n  DragAndDropContext,\r\n  SessionRole,\r\n} from \"nystem-components\";\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\nimport React from \"react\";\r\nimport \"../../../index.css\";\r\nimport \"./index.css\";\r\n\r\nconst Index = () => (\r\n  <Router>\r\n    <DragAndDropContext>\r\n      <SessionRole userrole=\"logged-out\">\r\n        <Inserter\r\n          className=\"p-8 text-left\"\r\n          match=\"*\"\r\n          source=\"/adminUser/login\"\r\n        />\r\n      </SessionRole>\r\n      <SessionRole userrole=\"logged-in\">\r\n        <Inserter match=\"*\" source=\"/server/menu\" />\r\n        <Inserter match=\"/popup.html\" source=\"/server/extension\" />\r\n        <Inserter match=\"/\" source=\"/server/overview\" />\r\n        <Inserter match=\"/menu\" source=\"/settings/menu\" />\r\n        <Wrapper className=\"px-6\">\r\n          <Inserter match=\"/server/*\" />\r\n          <Inserter match=\"/host/*\" />\r\n          <Inserter match=\"/settings/*\" />\r\n        </Wrapper>\r\n      </SessionRole>\r\n    </DragAndDropContext>\r\n  </Router>\r\n);\r\nexport default Index;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass OverlayAccessible extends React.Component {\r\n  state = { accessible: true };\r\n  overlayEvent = options => {\r\n    const accessible = !Object.keys(options.open).length;\r\n    if (this.state.accessible !== accessible) {\r\n      this.setState({ accessible });\r\n      app().event(\"accessible\", {\r\n        accessible,\r\n        accessibleId: this.accessibleId\r\n      });\r\n    }\r\n  };\r\n  getChildContext() {\r\n    return {\r\n      accessibleId: this.accessibleId\r\n    };\r\n  }\r\n\r\n  _handleScreenReaderToggled = isEnabled => {\r\n    this.setState({\r\n      screenReaderEnabled: isEnabled\r\n    });\r\n  };\r\n  componentDidMount(event) {\r\n    this.accessibleId = app().uuid();\r\n    app().on(\"overlay\", this.overlayEvent);\r\n  }\r\n  componentWillUnmount(event) {\r\n    app().off(\"overlay\", this.overlayEvent);\r\n  }\r\n  render() {\r\n    const { accessible } = this.state;\r\n    return (\r\n      <Wrapper accessible={accessible ? undefined : false}>\r\n        {this.props.children}\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\nOverlayAccessible.contextTypes = {\r\n  overlayId: PropTypes.string\r\n};\r\nOverlayAccessible.childContextTypes = {\r\n  accessibleId: PropTypes.string\r\n};\r\nexport default OverlayAccessible;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass OverlayClose extends React.Component {\r\n  handleEvent(event) {\r\n    if (event && event.preventDefault) event.preventDefault();\r\n    app().event(\"overlay\", { overlayId: this.context.overlayId, do: \"close\" });\r\n  }\r\n  render() {\r\n    const { className, renderAs, accessible } = this.props;\r\n    return (\r\n      <Wrapper\r\n        renderAs={renderAs || \"a\"}\r\n        className={className}\r\n        onClick={this.handleEvent.bind(this)}\r\n        accessible={accessible}\r\n      >\r\n        {this.props.children}\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\nOverlayClose.contextTypes = {\r\n  overlayId: PropTypes.string\r\n};\r\nexport default OverlayClose;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nclass OverlayCloseButton extends React.Component {\r\n  handleEvent(event) {\r\n    event.preventDefault();\r\n    const { view, path } = this.props;\r\n    const toPath = path || view.contentType + \"/\" + view.format + \"/\" + view.id;\r\n    app()\r\n      .event(\"closeOverlay\", toPath)\r\n      .then(data => {});\r\n  }\r\n  render() {\r\n    const { model, view } = this.props;\r\n    let { className } = this.props;\r\n    className = className || model.className ? model.className.join(\" \") : \"\";\r\n    return (\r\n      <Wrapper\r\n        renderAs={model.renderAs || \"a\"}\r\n        className={className}\r\n        onClick={this.handleEvent.bind(this)}\r\n      >\r\n        {model.item.map(view.createItem, this)}\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\nexport default OverlayCloseButton;\r\n","import React from \"react\";\r\n\r\nconst OverlayContextObject = React.createContext();\r\n\r\nconst OverlayContext = OverlayContextObject.Consumer;\r\nexport default OverlayContext;\r\n\r\nexport const OverlayContextProvider = OverlayContextObject.Provider;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport app from \"nystem\";\r\nimport { withRouter } from \"react-router\";\r\nimport { OverlayContextProvider } from \"./context\";\r\n\r\nlet atPath = \"\";\r\n\r\nconst OverlayIndex = withRouter(({ children, match }) => {\r\n  let [open, setOpenState] = useState({});\r\n\r\n  const overlayEvent = ({ event, overlayId }) => {\r\n    if (event === \"open\") open[overlayId] = true;\r\n    else if (event === \"close\") {\r\n      if (overlayId) delete open[overlayId];\r\n      else open = {};\r\n    }\r\n    setOpenState(open);\r\n  };\r\n\r\n  useEffect(() => {\r\n    app().on(\"overlay\", overlayEvent);\r\n    return () => {\r\n      app().off(\"overlay\", overlayEvent);\r\n    };\r\n  });\r\n\r\n  const { path } = match;\r\n  if (path !== atPath) app().event(\"overlay\", { event: \"close\" });\r\n  atPath = path;\r\n\r\n  const items =\r\n    children instanceof Array ? children : children ? [children] : [];\r\n\r\n  return items\r\n    .filter(({ props }) => open[props.overlayId])\r\n    .map(child => (\r\n      <OverlayContextProvider\r\n        key={child.props.overlayId}\r\n        value={child.props.overlayId}\r\n      >\r\n        {child}\r\n      </OverlayContextProvider>\r\n    ));\r\n});\r\n\r\nexport default OverlayIndex;\r\n","import React from \"react\";\r\nimport { Wrapper, OverlayClose } from \"nystem-components\";\r\nimport \"./menu.css\";\r\n\r\nconst OverlayMenu = ({ children }) => (\r\n  <Wrapper\r\n    className=\"overlay-menu-container overlay-menu-container--active\"\r\n    id=\"overlay-menu-container\"\r\n  >\r\n    <OverlayClose className=\"overlay-menu-shim\" renderAs=\"a\" accessible={false}>\r\n      {\" \"}\r\n    </OverlayClose>\r\n    <Wrapper renderAs=\"nav\" className=\"overlay-menu\">\r\n      {children}\r\n    </Wrapper>\r\n  </Wrapper>\r\n);\r\n\r\nexport default OverlayMenu;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nconst handleEvent = overlayId => e => {\r\n  e.preventDefault();\r\n  app().event(\"overlay\", { overlayId, event: \"open\" });\r\n};\r\n\r\nconst OverlayOpen = ({ overlayId, ...props }) => (\r\n  <Wrapper renderAs=\"a\" {...props} onClick={handleEvent(overlayId)} />\r\n);\r\n\r\nexport default OverlayOpen;\r\n","import React from \"react\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nclass OverlayOverlay extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      mounted: false\r\n    };\r\n  }\r\n  findPosition(obj) {\r\n    const pos = { x: 0, y: 0 };\r\n    while (1) {\r\n      pos.x += obj.offsetLeft;\r\n      pos.y += obj.offsetTop;\r\n      if (!obj.offsetParent) return pos;\r\n      obj = obj.offsetParent;\r\n    }\r\n  }\r\n  getScroll() {\r\n    if (window.pageYOffset !== undefined)\r\n      return { x: window.pageXOffset, y: window.pageYOffset };\r\n\r\n    const r = document.documentElement;\r\n    const b = document.body;\r\n    const sx = r.scrollLeft || b.scrollLeft || 0;\r\n    const sy = r.scrollTop || b.scrollTop || 0;\r\n    return { x: sx, y: sy };\r\n  }\r\n  onMouseDown(event) {\r\n    const { modal } = this.refs;\r\n    this.at = {\r\n      start: {\r\n        x: event.clientX,\r\n        y: event.clientY\r\n      },\r\n      obj: this.findPosition(modal),\r\n      pos: {\r\n        x: event.clientX,\r\n        y: event.clientY\r\n      }\r\n    };\r\n  }\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    if (nextState === this.state) return false;\r\n    return true;\r\n  }\r\n  componentDidMount() {\r\n    this.setState({ mounted: true });\r\n  }\r\n  render() {\r\n    const add = this.state.mounted ? \"--active\" : \"\";\r\n    return (\r\n      <Wrapper className={`overlay-background overlay-background${add}`}>\r\n        <Wrapper className={`overlay-contents overlay-contents${add}`}>\r\n          {this.props.children}\r\n        </Wrapper>\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\nexport default OverlayOverlay;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\n\r\nclass OverlayView extends React.Component {\r\n  onClick = event => {\r\n    event.preventDefault();\r\n    let { model } = this.props;\r\n    model = model || this.props;\r\n    app().event(\"addOverlay\", model);\r\n  };\r\n  render() {\r\n    let { model } = this.props;\r\n    model = model || this.props;\r\n    const className = model.className ? model.className.join(\" \") : \"\";\r\n    return (\r\n      <a className={className} href={model.link} onClick={this.onClick}>\r\n        {app().t(model.text)}\r\n      </a>\r\n    );\r\n  }\r\n}\r\nexport default OverlayView;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { ContentTypeView } from \"nystem-components\";\r\n\r\nclass ReferenceDynamicForm extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.props.view.on(\"save\", this.onSave);\r\n    this.localValue = {};\r\n    const self = this;\r\n    const state = {};\r\n    app().require([\"dynamicForm\", \"fieldDefinitions\"], function () {\r\n      app().dynamicForm.generate(\r\n        self.props.view.contentType,\r\n        self.model.source,\r\n        self.model.transformContentType,\r\n        self.props.view.value,\r\n        function (id) {\r\n          if (typeof state.value !== \"undefined\")\r\n            self.setState({\r\n              value: id,\r\n            });\r\n          else state.value = id;\r\n        }\r\n      );\r\n    });\r\n    if (typeof state.value === \"undefined\") state.value = false; //'dynamicType' + self.props.view.value._id\r\n    this.state = state;\r\n  }\r\n  componentWillReceiveProps(nextProps) {\r\n    /*this.setState({\r\n      value: nextProps.value\r\n    });*/\r\n  }\r\n  render() {\r\n    const model = this.props.model;\r\n    const format = model.view ? model.view : \"input\";\r\n    if (this.state.value)\r\n      return (\r\n        <ContentTypeView\r\n          noForm=\"true\"\r\n          className={model.className}\r\n          contentType={this.state.value}\r\n          format={format}\r\n          value={{}}\r\n          id={this.props.view.params[3]}\r\n          params={this.props.view.params}\r\n        />\r\n      );\r\n    return null;\r\n  }\r\n}\r\nexport default ReferenceDynamicForm;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nclass ViewButtonMirrorSave extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.view = props.view;\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.saveToDb = this.saveToDb.bind(this);\r\n    this.view.on(\"change\", this.handleChange);\r\n\r\n    this.oldVal = this.props.view.value\r\n      ? JSON.stringify(this.props.view.value)\r\n      : {};\r\n    if (!this.model.saveOn) return {};\r\n\r\n    if (this.model.saveOn.indexOf(\"baseView\") !== -1)\r\n      this.view.baseView.on(\"save\", this.saveToDb);\r\n    if (this.model.saveOn.indexOf(\"baseView.baseView\") !== -1)\r\n      this.view.baseView.baseView.on(\"save\", this.saveToDb);\r\n    if (this.model.saveOn.indexOf(\"baseView.baseView.baseView\") !== -1)\r\n      this.view.baseView.baseView.baseView.on(\"save\", this.saveToDb);\r\n  }\r\n  insertVal(val) {\r\n    if (!val) return val;\r\n    const self = this;\r\n    return val.replace(/\\{([a-z_.]+)\\}/gim, function(str, p1, offset, s) {\r\n      if (p1.indexOf(\"baseView.\") !== 0) return self.view.baseView.getValue(p1);\r\n      p1 = p1.replace(\"baseView.\", \"\");\r\n      if (p1.indexOf(\"baseView.\") !== 0)\r\n        return self.view.baseView.baseView.getValue(p1);\r\n      p1 = p1.replace(\"baseView.\", \"\");\r\n      return self.view.baseView.baseView.baseView.getValue(p1);\r\n    });\r\n  }\r\n  handleChange(id) {\r\n    if (!id || !this.view.value) return;\r\n\r\n    if (!this.saveVals) this.saveVals = {};\r\n\r\n    this.saveVals[id] = this.view.value[id];\r\n  }\r\n  saveToDb() {\r\n    const self = this;\r\n    if (this.saveVals && this.view.valid()) {\r\n      if (this.view.value._id) this.saveVals._id = this.view.value._id;\r\n\r\n      app().database[this.view.contentType].save(\r\n        {\r\n          data: this.saveVals,\r\n          fields: true\r\n        },\r\n        function(data) {\r\n          if (!self.view.value._id) self.view.setValue(\"_id\", data);\r\n\r\n          self.view.event(\"save\", self.view.value);\r\n        }\r\n      );\r\n\r\n      delete this.saveVals;\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    if (this.model.insertVal)\r\n      this.model.insertVal.forEach(item => {\r\n        this.view.setValue(item[0], this.insertVal(item[1]));\r\n      });\r\n  }\r\n  componentWillUnmount() {\r\n    this.view.off(\"change\", this.handleChange);\r\n    if (this.saveDelay) clearTimeout(this.saveDelay);\r\n\r\n    if (this.model.saveOn.indexOf(\"baseView\") !== -1)\r\n      this.view.baseView.off(\"save\", this.saveToDb);\r\n    if (this.model.saveOn.indexOf(\"baseView.baseView\") !== -1)\r\n      this.view.baseView.baseView.off(\"save\", this.saveToDb);\r\n    if (this.model.saveOn.indexOf(\"baseView.baseView.baseView\") !== -1)\r\n      this.view.baseView.baseView.baseView.off(\"save\", this.saveToDb);\r\n  }\r\n  render() {\r\n    return null;\r\n  }\r\n}\r\nexport default ViewButtonMirrorSave;\r\n","import { useEffect } from \"react\";\r\n\r\nconst ViewInViewSetBaseViewValue = ({ model, view }) => {\r\n  useEffect(() => {\r\n    view.setValue({\r\n      path: model.toField,\r\n      value: view.baseView.getValue(model.fromField),\r\n    });\r\n  }, [model, view]);\r\n\r\n  return null;\r\n};\r\nexport default ViewInViewSetBaseViewValue;\r\n","/* eslint-disable jsx-a11y/mouse-events-have-key-events */\r\n\r\nimport React, { useRef, useEffect, useState } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst Portal = ({ children }) => {\r\n  const [element, setElement] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const element = document.createElement(\"div\");\r\n    document.body.appendChild(element);\r\n    setElement(element);\r\n\r\n    return () => {\r\n      document.body.removeChild(element);\r\n    };\r\n  }, []);\r\n\r\n  if (!element) return null;\r\n\r\n  return createPortal(children, element);\r\n};\r\n\r\nconst MouseOver = ({ children, setOver }) => {\r\n  const [isOver, setIsOver] = useState(false);\r\n  const ref = useRef();\r\n  useEffect(() => {\r\n    if (!isOver) return;\r\n\r\n    const size = ref.current.getBoundingClientRect();\r\n    let pos = false;\r\n\r\n    const mouseMove = (e) => {\r\n      pos = { x: e.clientX, y: e.clientY };\r\n      const { x, y } = pos;\r\n\r\n      if (y < size.top || y > size.bottom || x < size.left || x > size.right) {\r\n        setOver(false);\r\n        setIsOver(false);\r\n      }\r\n    };\r\n    const delay = setTimeout(() => {\r\n      setOver(pos);\r\n    }, 100);\r\n\r\n    window.addEventListener(\"mousemove\", mouseMove);\r\n    return () => {\r\n      clearTimeout(delay);\r\n      window.removeEventListener(\"mousemove\", mouseMove);\r\n    };\r\n  }, [isOver, setOver]);\r\n\r\n  return (\r\n    <div ref={ref} onMouseOver={() => setIsOver(true)}>\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ViewTextTitlePopup = ({ model, path }) => {\r\n  const { item, popup } = model;\r\n\r\n  const [overPos, setOver] = useState(false);\r\n\r\n  return (\r\n    <>\r\n      {overPos && (\r\n        <Portal>\r\n          <Wrapper\r\n            style={{\r\n              position: \"fixed\",\r\n              left: overPos.x + 10,\r\n              top: overPos.y + 12,\r\n            }}\r\n          >\r\n            <ContentTypeRender path={path} items={popup} />\r\n          </Wrapper>\r\n        </Portal>\r\n      )}\r\n      <MouseOver setOver={setOver}>\r\n        <ContentTypeRender path={path} items={item} />\r\n      </MouseOver>\r\n    </>\r\n  );\r\n};\r\nexport default ViewTextTitlePopup;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Wrapper } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst TextareaLog = ({ view, model, value = \"\" }) => {\r\n  const [log, setLog] = useState(\"\");\r\n  const hasVal = !!value;\r\n\r\n  useEffect(() => {\r\n    if (!hasVal) return;\r\n    const parseLog = (log) => {\r\n      const parsedLog = (log || \"\")\r\n        .replace(/ /g, \"&nbsp;\")\r\n        // eslint-disable-next-line no-control-regex\r\n        .replace(/\\x1b\\[((?:\\d{1,3};?)+|)m/gim, (match, p1) => {\r\n          return `</span><span style='color:${colors[parseInt(p1, 10)]};'>`;\r\n        });\r\n      return `<span>${parsedLog.replace(/\\n/g, \"</span><br/><span>\")}</span>`;\r\n    };\r\n\r\n    let fullLog = parseLog(value);\r\n    setLog(fullLog);\r\n\r\n    const updateLog = ({ data }) => {\r\n      fullLog += parseLog(data);\r\n      setLog(fullLog);\r\n    };\r\n\r\n    app().connection.on(`serverLog${view.id}`, updateLog);\r\n    const clearLog = () => {\r\n      setLog(\"\");\r\n      fullLog = \"\";\r\n    };\r\n    view.on(\"clearlog\", clearLog);\r\n    return () => {\r\n      view.off(\"clearlog\", clearLog);\r\n      app().connection.off(`serverLog${view.id}`, updateLog);\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [hasVal]);\r\n\r\n  const className = model.className && model.className.join(\" \");\r\n  return (\r\n    <code>\r\n      <Wrapper className={model.wrapperClass}>\r\n        <div className={className} dangerouslySetInnerHTML={{ __html: log }} />\r\n      </Wrapper>\r\n    </code>\r\n  );\r\n};\r\n\r\nexport default TextareaLog;\r\n\r\nconst colors = {\r\n  0: \"#000\",\r\n  1: \"white\", // ch\r\n  2: \"#0A0\",\r\n  3: \"#A50\",\r\n  4: \"#00A\",\r\n  5: \"#A0A\",\r\n  6: \"#0AA\",\r\n  7: \"#AAA\",\r\n  8: \"#555\",\r\n  9: \"#F55\",\r\n  10: \"#5F5\",\r\n  11: \"#FF5\",\r\n  12: \"#55F\",\r\n  13: \"#F5F\",\r\n  14: \"#5FF\",\r\n  15: \"#FFF\",\r\n  16: \"#000000\",\r\n  17: \"#00005f\",\r\n  18: \"#000087\",\r\n  19: \"#0000af\",\r\n  20: \"#0000d7\",\r\n  21: \"#0000ff\",\r\n  22: \"#A0A0A0\", // ch\r\n  23: \"#005f5f\",\r\n  24: \"#005f87\",\r\n  25: \"#005faf\",\r\n  26: \"#005fd7\",\r\n  27: \"#005fff\",\r\n  28: \"#008700\",\r\n  29: \"#00875f\",\r\n  30: \"#008787\",\r\n  31: \"red\", // ch\r\n  32: \"green\", // ch\r\n  33: \"yellow\", // ch\r\n  34: \"#00af00\",\r\n  35: \"#00af5f\",\r\n  36: \"#00af87\",\r\n  37: \"#00afaf\",\r\n  38: \"#00afd7\",\r\n  39: \"#00afff\",\r\n  40: \"#00d700\",\r\n  41: \"#00d75f\",\r\n  42: \"#00d787\",\r\n  43: \"#00d7af\",\r\n  44: \"#00d7d7\",\r\n  45: \"#00d7ff\",\r\n  46: \"#00ff00\",\r\n  47: \"#00ff5f\",\r\n  48: \"#00ff87\",\r\n  49: \"#00ffaf\",\r\n  50: \"#00ffd7\",\r\n  51: \"#00ffff\",\r\n  52: \"#5f0000\",\r\n  53: \"#5f005f\",\r\n  54: \"#5f0087\",\r\n  55: \"#5f00af\",\r\n  56: \"#5f00d7\",\r\n  57: \"#5f00ff\",\r\n  58: \"#5f5f00\",\r\n  59: \"#5f5f5f\",\r\n  60: \"#5f5f87\",\r\n  61: \"#5f5faf\",\r\n  62: \"#5f5fd7\",\r\n  63: \"#5f5fff\",\r\n  64: \"#5f8700\",\r\n  65: \"#5f875f\",\r\n  66: \"#5f8787\",\r\n  67: \"#5f87af\",\r\n  68: \"#5f87d7\",\r\n  69: \"#5f87ff\",\r\n  70: \"#5faf00\",\r\n  71: \"#5faf5f\",\r\n  72: \"#5faf87\",\r\n  73: \"#5fafaf\",\r\n  74: \"#5fafd7\",\r\n  75: \"#5fafff\",\r\n  76: \"#5fd700\",\r\n  77: \"#5fd75f\",\r\n  78: \"#5fd787\",\r\n  79: \"#5fd7af\",\r\n  80: \"#5fd7d7\",\r\n  81: \"#5fd7ff\",\r\n  82: \"#5fff00\",\r\n  83: \"#5fff5f\",\r\n  84: \"#5fff87\",\r\n  85: \"#5fffaf\",\r\n  86: \"#5fffd7\",\r\n  87: \"#5fffff\",\r\n  88: \"#870000\",\r\n  89: \"#87005f\",\r\n  90: \"#870087\",\r\n  91: \"#8700af\",\r\n  92: \"#8700d7\",\r\n  93: \"#8700ff\",\r\n  94: \"#875f00\",\r\n  95: \"#875f5f\",\r\n  96: \"#875f87\",\r\n  97: \"#875faf\",\r\n  98: \"#875fd7\",\r\n  99: \"#875fff\",\r\n  100: \"#878700\",\r\n  101: \"#87875f\",\r\n  102: \"#878787\",\r\n  103: \"#8787af\",\r\n  104: \"#8787d7\",\r\n  105: \"#8787ff\",\r\n  106: \"#87af00\",\r\n  107: \"#87af5f\",\r\n  108: \"#87af87\",\r\n  109: \"#87afaf\",\r\n  110: \"#87afd7\",\r\n  111: \"#87afff\",\r\n  112: \"#87d700\",\r\n  113: \"#87d75f\",\r\n  114: \"#87d787\",\r\n  115: \"#87d7af\",\r\n  116: \"#87d7d7\",\r\n  117: \"#87d7ff\",\r\n  118: \"#87ff00\",\r\n  119: \"#87ff5f\",\r\n  120: \"#87ff87\",\r\n  121: \"#87ffaf\",\r\n  122: \"#87ffd7\",\r\n  123: \"#87ffff\",\r\n  124: \"#af0000\",\r\n  125: \"#af005f\",\r\n  126: \"#af0087\",\r\n  127: \"#af00af\",\r\n  128: \"#af00d7\",\r\n  129: \"#af00ff\",\r\n  130: \"#af5f00\",\r\n  131: \"#af5f5f\",\r\n  132: \"#af5f87\",\r\n  133: \"#af5faf\",\r\n  134: \"#af5fd7\",\r\n  135: \"#af5fff\",\r\n  136: \"#af8700\",\r\n  137: \"#af875f\",\r\n  138: \"#af8787\",\r\n  139: \"#af87af\",\r\n  140: \"#af87d7\",\r\n  141: \"#af87ff\",\r\n  142: \"#afaf00\",\r\n  143: \"#afaf5f\",\r\n  144: \"#afaf87\",\r\n  145: \"#afafaf\",\r\n  146: \"#afafd7\",\r\n  147: \"#afafff\",\r\n  148: \"#afd700\",\r\n  149: \"#afd75f\",\r\n  150: \"#afd787\",\r\n  151: \"#afd7af\",\r\n  152: \"#afd7d7\",\r\n  153: \"#afd7ff\",\r\n  154: \"#afff00\",\r\n  155: \"#afff5f\",\r\n  156: \"#afff87\",\r\n  157: \"#afffaf\",\r\n  158: \"#afffd7\",\r\n  159: \"#afffff\",\r\n  160: \"#d70000\",\r\n  161: \"#d7005f\",\r\n  162: \"#d70087\",\r\n  163: \"#d700af\",\r\n  164: \"#d700d7\",\r\n  165: \"#d700ff\",\r\n  166: \"#d75f00\",\r\n  167: \"#d75f5f\",\r\n  168: \"#d75f87\",\r\n  169: \"#d75faf\",\r\n  170: \"#d75fd7\",\r\n  171: \"#d75fff\",\r\n  172: \"#d78700\",\r\n  173: \"#d7875f\",\r\n  174: \"#d78787\",\r\n  175: \"#d787af\",\r\n  176: \"#d787d7\",\r\n  177: \"#d787ff\",\r\n  178: \"#d7af00\",\r\n  179: \"#d7af5f\",\r\n  180: \"#d7af87\",\r\n  181: \"#d7afaf\",\r\n  182: \"#d7afd7\",\r\n  183: \"#d7afff\",\r\n  184: \"#d7d700\",\r\n  185: \"#d7d75f\",\r\n  186: \"#d7d787\",\r\n  187: \"#d7d7af\",\r\n  188: \"#d7d7d7\",\r\n  189: \"#d7d7ff\",\r\n  190: \"#d7ff00\",\r\n  191: \"#d7ff5f\",\r\n  192: \"#d7ff87\",\r\n  193: \"#d7ffaf\",\r\n  194: \"#d7ffd7\",\r\n  195: \"#d7ffff\",\r\n  196: \"#ff0000\",\r\n  197: \"#ff005f\",\r\n  198: \"#ff0087\",\r\n  199: \"#ff00af\",\r\n  200: \"#ff00d7\",\r\n  201: \"#ff00ff\",\r\n  202: \"#ff5f00\",\r\n  203: \"#ff5f5f\",\r\n  204: \"#ff5f87\",\r\n  205: \"#ff5faf\",\r\n  206: \"#ff5fd7\",\r\n  207: \"#ff5fff\",\r\n  208: \"#ff8700\",\r\n  209: \"#ff875f\",\r\n  210: \"#ff8787\",\r\n  211: \"#ff87af\",\r\n  212: \"#ff87d7\",\r\n  213: \"#ff87ff\",\r\n  214: \"#ffaf00\",\r\n  215: \"#ffaf5f\",\r\n  216: \"#ffaf87\",\r\n  217: \"#ffafaf\",\r\n  218: \"#ffafd7\",\r\n  219: \"#ffafff\",\r\n  220: \"#ffd700\",\r\n  221: \"#ffd75f\",\r\n  222: \"#ffd787\",\r\n  223: \"#ffd7af\",\r\n  224: \"#ffd7d7\",\r\n  225: \"#ffd7ff\",\r\n  226: \"#ffff00\",\r\n  227: \"#ffff5f\",\r\n  228: \"#ffff87\",\r\n  229: \"#ffffaf\",\r\n  230: \"#ffffd7\",\r\n  231: \"#ffffff\",\r\n  232: \"#080808\",\r\n  233: \"#121212\",\r\n  234: \"#1c1c1c\",\r\n  235: \"#262626\",\r\n  236: \"#303030\",\r\n  237: \"#3a3a3a\",\r\n  238: \"#444444\",\r\n  239: \"#4e4e4e\",\r\n  240: \"#585858\",\r\n  241: \"#626262\",\r\n  242: \"#6c6c6c\",\r\n  243: \"#767676\",\r\n  244: \"#808080\",\r\n  245: \"#8a8a8a\",\r\n  246: \"#949494\",\r\n  247: \"#9e9e9e\",\r\n  248: \"#a8a8a8\",\r\n  249: \"#b2b2b2\",\r\n  250: \"#bcbcbc\",\r\n  251: \"#c6c6c6\",\r\n  252: \"#d0d0d0\",\r\n  253: \"#dadada\",\r\n  254: \"#e4e4e4\",\r\n  255: \"#eeeeee\",\r\n};\r\n","import * as components from \"nystem-components\";\r\n\r\nconst React = require(\"react\");\r\nconst ReactDOM = require(\"react-dom\");\r\n\r\nconst base = document.createElement(\"div\");\r\nbase.className = \"react-root\";\r\nbase.id = \"react-root\";\r\ndocument.body.appendChild(base);\r\n\r\nexport default function (app) {\r\n  let comp;\r\n  app.on(\"loaded\", async () => {\r\n    const { renderer, component, element } = await app.event(\r\n      \"getElementContext\",\r\n      {\r\n        renderer: ReactDOM,\r\n        component: \"Index\",\r\n        element: base,\r\n      }\r\n    );\r\n    comp = element;\r\n    renderer.render(React.createElement(components[component]), element);\r\n  });\r\n\r\n  app.on(\"unmount\", () => {\r\n    ReactDOM.unmountComponentAtNode(comp);\r\n  });\r\n}\r\n","import httpsfallbackM from \"./httpsfallback\";\r\n\r\nexport default function (app) {\r\n  const URL = `ws${app.settings.secure ? \"s\" : \"\"}://${app.settings.domain}`;\r\n\r\n  app.webSocket = new WebSocket(URL);\r\n  let { webSocket } = app;\r\n  const callbacks = {};\r\n  let isOnline = false;\r\n  let reconnect = false;\r\n\r\n  let closed = false;\r\n  let failCount = 1;\r\n  const log = (text) => {\r\n    if (isOnline) failCount = 0;\r\n    if (failCount++ < 10) console.log(text);\r\n  };\r\n\r\n  function openconnection() {\r\n    log(`openconnection ${URL}`);\r\n\r\n    webSocket = webSocket || new WebSocket(URL);\r\n    webSocket.onerror = () => {\r\n      log(`error ${URL}`);\r\n    };\r\n\r\n    function connected() {\r\n      isOnline = true;\r\n      connection.event(\"connect\", { type: \"connect\" });\r\n      console.log(\"Connected\");\r\n      if (reconnect) window.location.reload();\r\n      if (app.settings.debug) reconnect = true;\r\n    }\r\n    if (webSocket.readyState === 1) connected();\r\n    webSocket.onopen = connected;\r\n    webSocket.onclose = function (e) {\r\n      log(`close ${URL} ${e.code}`);\r\n      webSocket = false;\r\n      isOnline = false;\r\n      if (!closed) setTimeout(openconnection, 1000);\r\n      connection.event(\"disconnect\", { type: \"close\" });\r\n    };\r\n\r\n    webSocket.onmessage = function (message) {\r\n      const data = JSON.parse(message.data);\r\n      if (callbacks[data.callbackid]) {\r\n        try {\r\n          callbacks[data.callbackid](data);\r\n        } catch (e) {\r\n          log(\"err\", callbacks[data.callbackid], e);\r\n        }\r\n        delete callbacks[data.callbackid];\r\n      }\r\n      connection.event(data.type, data);\r\n    };\r\n  }\r\n\r\n  app.on(\"unmount\", () => {\r\n    closed = true;\r\n    webSocket.close();\r\n  });\r\n\r\n  setInterval(() => {\r\n    if (isOnline) webSocket.send(\"li\");\r\n  }, 15000);\r\n\r\n  const connection = app.addeventhandler(\r\n    { connected: () => isOnline },\r\n    [\"emit\", \"broadcast\", \"close\"],\r\n    \"connection\"\r\n  );\r\n\r\n  connection.on(\r\n    \"emit\",\r\n    (data) =>\r\n      new Promise((resolve) => {\r\n        let counter = 0;\r\n        function send() {\r\n          if (webSocket.readyState > 0) {\r\n            if (msg.length > 64000)\r\n              while (msg.length > 64000) {\r\n                webSocket.send(msg.substring(0, 64000));\r\n                msg = msg.substring(64000);\r\n              }\r\n\r\n            webSocket.send(msg);\r\n            clearTimeout(data.timeout);\r\n          } else {\r\n            if (counter === 1 && callbacks[data.callbackid])\r\n              callbacks[data.callbackid]({ ...data, offline: true });\r\n            counter++;\r\n            if (counter !== 3) setTimeout(send, 200);\r\n            else {\r\n              callbacks[data.callbackid]({ ...data, timeout: true });\r\n              delete callbacks[data.callbackid];\r\n            }\r\n          }\r\n        }\r\n\r\n        if (!data.noCallback) {\r\n          data.callbackid = app.uuid();\r\n          callbacks[data.callbackid] = resolve;\r\n        } else resolve();\r\n\r\n        let msg = JSON.stringify(data);\r\n        send();\r\n      })\r\n  );\r\n\r\n  connection.on(\"broadcast\", (data) =>\r\n    connection.emit({ ...data, broadcast: true })\r\n  );\r\n\r\n  connection.on(\"close\", () => {\r\n    webSocket.close();\r\n  });\r\n\r\n  app.connection = connection;\r\n\r\n  if (app.settings.waitOnConnect)\r\n    app.on(\r\n      \"loaded\",\r\n      1000,\r\n      () =>\r\n        new Promise((resolve) => {\r\n          const cont = () => {\r\n            resolve();\r\n            connection.off(\"connect\", cont);\r\n          };\r\n          if (isOnline) resolve();\r\n          else connection.on(\"connect\", cont);\r\n        })\r\n    );\r\n\r\n  openconnection();\r\n\r\n  httpsfallbackM(app);\r\n};\r\n","export default function (app) {\r\n  app.connection.on(\"emit\", async (data) => {\r\n    if (haveConnected === true) return;\r\n    // console.log(\"f emit\");\r\n    data = fetch(\"/httpsfallback\", {\r\n      method: \"post\",\r\n      body: JSON.stringify(data),\r\n    }).then((response) => response.json());\r\n    return data;\r\n  });\r\n\r\n  let haveConnected = false;\r\n  app.connection.on(\"connect\", (data) => {\r\n    // console.log(\"f connect\");\r\n    haveConnected = true;\r\n  });\r\n\r\n  app.connection.on(\"disconnect\", (data) => {\r\n    haveConnected = false;\r\n  });\r\n\r\n  /*\r\n  setTimeout(() => {\r\n    app.connection.event(\"connect\", { type: \"connect\" });\r\n  }, 1000);\r\n  */\r\n};\r\n","const viewCreatorFields = require(\"../../../viewCreatorFields.json\");\r\n\r\nconst arr2Obj = (arr, byField) =>\r\n  arr.reduce((prev, curr) => {\r\n    prev[curr[byField]] = curr;\r\n    return prev;\r\n  }, {});\r\n\r\nconst objectMap = (object, mapFn) =>\r\n  Object.keys(object).reduce((result, key) => {\r\n    result[key] = mapFn(object[key]);\r\n    return result;\r\n  }, {});\r\n\r\nconst deepCopy = (obj) => obj && JSON.parse(JSON.stringify(obj));\r\n\r\nconst getId = ({ path = \"\", id = \"\" }) => {\r\n  if (path && id) return `${path}.${id}`;\r\n  if (id) return id;\r\n  return \"\";\r\n};\r\n\r\nconst capFirst = (str) => str.substr(0, 1).toUpperCase() + str.substr(1);\r\n\r\nconst replaceInModel = ({\r\n  model,\r\n  viewFormat,\r\n  fn,\r\n  path = \"\",\r\n  dynamicFields = [],\r\n}) => {\r\n  if (!model) return {};\r\n\r\n  model = deepCopy(model);\r\n  const { type, id } = model;\r\n  const fullId = getId({ path, id });\r\n  const format = model.format || viewFormat;\r\n\r\n  let componentName = `${type}${capFirst(format)}`;\r\n  if (viewCreatorFields[componentName] === undefined)\r\n    componentName = `${type}View`;\r\n\r\n  model = fn({ model, format, path, id, fullId });\r\n  if (!model) return null;\r\n\r\n  dynamicFields = [\r\n    ...dynamicFields,\r\n    ...(viewCreatorFields[componentName] || []),\r\n  ];\r\n\r\n  dynamicFields.forEach((key) => {\r\n    if (model[key])\r\n      model[key] = model[key]\r\n        .map((item) =>\r\n          replaceInModel({\r\n            model: item,\r\n            viewFormat,\r\n            fn,\r\n            path: fullId || path,\r\n          })\r\n        )\r\n        .filter((model) => !!model);\r\n  });\r\n\r\n  return model;\r\n};\r\n\r\nconst flattenFields = ({ item, viewCreatorFields, path = \"\" }) =>\r\n  (item || []).reduce((prev, field) => {\r\n    const { type, id } = field;\r\n    const fullPath = path ? `${path}.${id}` : id;\r\n\r\n    if (!type) return { [id]: field, ...prev };\r\n\r\n    const flatten = viewCreatorFields[`${type}Definition`];\r\n    if (!flatten) return { [fullPath]: field, ...prev };\r\n\r\n    const subFields = flatten.reduce(\r\n      (prev, key) =>\r\n        field[key]\r\n          ? flattenFields({\r\n              item: field[key],\r\n              viewCreatorFields,\r\n              path: fullPath,\r\n            })\r\n          : prev,\r\n      {}\r\n    );\r\n\r\n    return { [fullPath]: field, ...subFields, ...prev };\r\n  }, {});\r\n\r\nconst populateViews = ({ app }) => {\r\n  const { contentType } = app;\r\n\r\n  const populatedViews = objectMap(deepCopy(contentType), (contentType) => {\r\n    const { views, item } = contentType;\r\n    if (!views) return contentType;\r\n\r\n    const fields = flattenFields({ item, viewCreatorFields });\r\n\r\n    const populatedViews = views.map((view) =>\r\n      replaceInModel({\r\n        model: { ...view, type: \"contentType\", id: undefined },\r\n        fn: ({ model: view, fullId, format }) =>\r\n          fullId && fields[fullId]\r\n            ? { format, ...fields[fullId], ...view }\r\n            : { format, ...view },\r\n        viewFormat: view.format || \"view\",\r\n      })\r\n    );\r\n\r\n    contentType.views = arr2Obj(populatedViews, \"name\");\r\n    return contentType;\r\n  });\r\n\r\n  return populatedViews;\r\n};\r\n\r\nexport default (app) => {\r\n  app.on(\"init\", 1000, () => {\r\n    app.populatedViews = populateViews({ app });\r\n    app.replaceInModel = replaceInModel;\r\n  });\r\n};\r\n","const sortFuncInt = (key, reverse) => {\r\n  const up = reverse ? 1 : -1;\r\n  const down = reverse ? -1 : 1;\r\n\r\n  return (a, b) => {\r\n    const x = a[key];\r\n    const y = b[key];\r\n\r\n    if (x === undefined) return y === undefined ? 0 : down;\r\n    if (y === undefined) return up;\r\n    return x < y ? up : x > y ? down : 0;\r\n  };\r\n};\r\n\r\nconst sortFuncText = (key, reverse) => {\r\n  const up = reverse ? 1 : -1;\r\n  const down = reverse ? -1 : 1;\r\n\r\n  return (a, b) => {\r\n    let x = a[key];\r\n    let y = b[key];\r\n    if (x === undefined) return y === undefined ? 0 : up;\r\n    if (y === undefined) return down;\r\n    x = x.toString().toLowerCase();\r\n    y = y.toString().toLowerCase();\r\n\r\n    return x < y ? up : x > y ? down : 0;\r\n  };\r\n};\r\n\r\nconst sortByFunc = (array, sortBys) => {\r\n  const sortFuncs = sortBys.map(({ type, key, reverse }) =>\r\n    [\"int\", \"date\"].includes(type)\r\n      ? sortFuncInt(key, reverse)\r\n      : sortFuncText(key, reverse)\r\n  );\r\n  return array.sort((a, b) => {\r\n    let res;\r\n    for (let i = 0; i < sortFuncs.length; i++) {\r\n      res = sortFuncs[i](a, b);\r\n      if (res !== 0) return res;\r\n    }\r\n    return res;\r\n  });\r\n};\r\n\r\nfunction field2IdType(contentType) {\r\n  const field2IdType = {};\r\n  contentType.item = contentType.item || [];\r\n  for (let i = 0; i < contentType.item.length; i++) {\r\n    const item = contentType.item[i];\r\n    field2IdType[item.id] = item.extends ? item.extends : item.type;\r\n  }\r\n  field2IdType._crdate = \"date\";\r\n  return field2IdType;\r\n}\r\n\r\nfunction setSearchDefaults(query, contentType) {\r\n  const items = contentType.item || [];\r\n  query.sortby = !query.sortby\r\n    ? items.find((item) => item.id === \"title\")\r\n      ? \"title\"\r\n      : \"name\"\r\n    : query.sortby;\r\n\r\n  query.sortby = query.sortby || \"_chdate\";\r\n  query.position = query.position || 0;\r\n  query.count = query.count || 200;\r\n}\r\n\r\nfunction getFilterArray(filter) {\r\n  if (filter && Object.keys(filter).length === 0) return [];\r\n  if (filter && filter.$and) {\r\n    filter = { ...filter };\r\n    const tmp = filter.$and;\r\n    delete filter.$and;\r\n    if (tmp instanceof Array) return tmp.concat(filter);\r\n    return [filter, tmp];\r\n  }\r\n\r\n  return [filter];\r\n}\r\n\r\nexport default (app) => {\r\n  app.database.on(\"init\", ({ collection, db }) => {\r\n    const { contentType } = collection;\r\n    const fieldByType = field2IdType(contentType);\r\n\r\n    collection.on(\"init\", 10, () => {\r\n      const { dbArray } = db;\r\n      sortByFunc(dbArray, [{ type: \"int\", key: \"_chdate\" }]);\r\n    });\r\n\r\n    const addFields2All = (add2id, searchFor, oneSearchField, oneSearchValue) =>\r\n      contentType.item.forEach((oneField) => {\r\n        if (oneField.id && oneField.type !== \"date\") {\r\n          oneSearchField.push(add2id + oneField.id);\r\n          oneSearchValue.push(searchFor);\r\n        } else if (oneField.add2id)\r\n          addFields2All(\r\n            `${add2id + oneField.add2id}_`,\r\n            searchFor,\r\n            oneSearchField,\r\n            oneSearchValue\r\n          );\r\n      });\r\n\r\n    function getFilter(query) {\r\n      const searchField = [];\r\n      const searchValue = [];\r\n\r\n      getFilterArray(query.filter).forEach((filter) => {\r\n        const oneSearchField = [];\r\n        const oneSearchValue = [];\r\n        if (filter.$all && filter.$all !== \"\")\r\n          addFields2All(\r\n            \"\",\r\n            createRegExp(filter.$all),\r\n            oneSearchField,\r\n            oneSearchValue\r\n          );\r\n\r\n        const exact = filter.__exact || query.exact;\r\n        Object.entries(filter).forEach(([field, value]) => {\r\n          if (![\"$all\", \"__id\", \"__exact\"].includes(field)) {\r\n            oneSearchField.push(field);\r\n            if (exact) oneSearchValue.push(createRegExp(`^${value}$`));\r\n            else if (value instanceof Array) {\r\n              oneSearchValue.push(createRegExp(value.join(\"|\")));\r\n            } else if (!value) oneSearchValue.push(\"false\");\r\n            else if (value === true) oneSearchValue.push(\"true\");\r\n            else if (\"<>\".indexOf(value[0]) !== -1) oneSearchValue.push(value);\r\n            else oneSearchValue.push(createRegExp(value, field));\r\n          }\r\n        });\r\n\r\n        if (oneSearchField.length > 0) {\r\n          searchField.push(oneSearchField);\r\n          searchValue.push(oneSearchValue);\r\n        }\r\n      });\r\n      if (searchField.length === 0) return {};\r\n      return { searchField, searchValue };\r\n    }\r\n\r\n    function createRegExp(expression, id) {\r\n      if (fieldByType[id] === \"boolean\") return expression;\r\n      return new RegExp(expression.toString().replace(/\\*/g, \"\\\\*\"), \"i\");\r\n    }\r\n\r\n    function search(query) {\r\n      if (query.data !== undefined) return;\r\n\r\n      const { dbArray } = db;\r\n      query.total = dbArray.length;\r\n      setSearchDefaults(query, contentType);\r\n      let result = [];\r\n\r\n      function filterResult(query) {\r\n        const { searchField, searchValue } = getFilter(query);\r\n        if (!searchField) return false;\r\n\r\n        for (let pos = 0; pos < dbArray.length; pos++) {\r\n          const thisItem = dbArray[pos];\r\n          let add = false;\r\n          for (let i = 0; i < searchField.length; i++) {\r\n            add = false;\r\n            for (let field = 0; field < searchField[i].length; field++) {\r\n              let val = thisItem[searchField[i][field]];\r\n              const matchVal = searchValue[i][field];\r\n              if (val && val.toString() === \"[object Object]\") {\r\n                val = JSON.stringify(val);\r\n              }\r\n              if (\r\n                (matchVal === \"false\" && !val) ||\r\n                (matchVal === \"true\" && val) ||\r\n                (matchVal[0] === \"<\" &&\r\n                  parseFloat(val) < parseFloat(matchVal.substring(1))) ||\r\n                (matchVal[0] === \">\" &&\r\n                  parseFloat(val) > parseFloat(matchVal.substring(1))) ||\r\n                (val && matchVal.test && matchVal.test(val))\r\n              ) {\r\n                add = true;\r\n                break;\r\n              }\r\n            }\r\n            if (!add) break;\r\n          }\r\n          if (add) result.push(thisItem);\r\n        }\r\n        return true;\r\n      }\r\n\r\n      let sortBy =\r\n        query.sortby instanceof Array\r\n          ? query.sortby\r\n          : [query.sortby || \"_chdate\"];\r\n\r\n      let reverse =\r\n        query.reverse instanceof Array\r\n          ? query.reverse\r\n          : [query.reverse || false];\r\n\r\n      if (sortBy[0] === \"_chdate\" && sortBy.length === 1) sortBy = false;\r\n      if (reverse[0] === false && reverse.length === 1) reverse = false;\r\n\r\n      if (!query.filter || !filterResult(query)) {\r\n        if (sortBy || (reverse && result.length <= query.count)) {\r\n          result = new Array(dbArray.length);\r\n          let i = dbArray.length;\r\n          while (i--) result[i] = dbArray[i];\r\n        } else result = dbArray;\r\n      }\r\n\r\n      query.searchTotal = result.length;\r\n\r\n      if (sortBy)\r\n        sortByFunc(\r\n          result,\r\n          sortBy.map((key, index) => ({\r\n            type: fieldByType[key],\r\n            key,\r\n            reverse: reverse[index],\r\n          }))\r\n        );\r\n      else if (reverse[0]) {\r\n        if (result === dbArray) result = [...result];\r\n        result.reverse();\r\n      }\r\n      if (result.length <= query.position) result = [];\r\n      else if (result.length > query.count)\r\n        result = result.slice(query.position, query.position + query.count);\r\n\r\n      query.data = result.length ? result : false;\r\n    }\r\n    collection.on(\"search\", 1000, search);\r\n  });\r\n};\r\n","import deleteM from \"./delete\";\r\nimport findM from \"./find\";\r\nimport getM from \"./get\";\r\nimport initM from \"./init\";\r\nimport saveM from \"./save\";\r\nimport searchM from \"./search\";\r\n\r\nexport default (app) => {\r\n  deleteM(app);\r\n  findM(app);\r\n  getM(app);\r\n  initM(app);\r\n  saveM(app);\r\n  searchM(app);\r\n\r\n  app.database.on(\r\n    \"init\",\r\n    ({ contentType }) => {\r\n      const db = { dbArray: [], dbIndex: {} };\r\n\r\n      const collection = app.addeventhandler(\r\n        { contentType },\r\n        [\r\n          \"delete\",\r\n          \"find\",\r\n          \"get\",\r\n          \"init\",\r\n          \"save\",\r\n          \"search\",\r\n          \"size\",\r\n          \"update\",\r\n          \"updates\",\r\n        ],\r\n        `database ${contentType.machinename}`\r\n      );\r\n\r\n      collection.on(\"init\", () => {\r\n        const { dbArray, dbIndex } = db;\r\n        dbArray.forEach((item) => {\r\n          if (dbIndex[item._id])\r\n            dbArray.splice(dbArray.indexOf(dbIndex[item._id]), 1);\r\n          dbIndex[item._id] = item;\r\n        });\r\n      });\r\n\r\n      collection.on(\"size\", () => db.dbArray.length);\r\n      return { collection, db, contentType };\r\n    },\r\n    1000\r\n  );\r\n};\r\n","export default (app) => {\r\n  app.database.on(\"init\", ({ collection, db }) => {\r\n    collection.on(\"delete\", 1000, (query) => {\r\n      const id = query.id || query.data._id;\r\n      const data = query.data || { _id: id };\r\n      return Object.assign(query, { id, oldData: db.dbIndex[id], data });\r\n    });\r\n\r\n    collection.on(\"delete\", -200, (query) => {\r\n      if (!query.data) return;\r\n      const { dbArray, dbIndex } = db;\r\n      delete dbIndex[query.id];\r\n      const pos = dbArray.indexOf(query.oldData);\r\n      dbArray.splice(pos, 1);\r\n    });\r\n  });\r\n};\r\n","export default app => {\r\n  app.database.on(\"init\", ({ collection, db }) => {\r\n    collection.on(\"find\", 1000, query => {\r\n      const { field, value, data, testIfSet } = query;\r\n      if (data) return;\r\n      const { dbArray } = db;\r\n\r\n      if (!testIfSet) {\r\n        for (let i = 0; i < dbArray.length; i++)\r\n          if (dbArray[i][field] === value)\r\n            return { ...query, data: dbArray[i] };\r\n        return query;\r\n      }\r\n\r\n      for (let i = 0; i < dbArray.length; i++)\r\n        if (!dbArray[i][field] === !value)\r\n          return { ...query, data: dbArray[i] };\r\n    });\r\n  });\r\n};\r\n","export default app => {\r\n  app.database.on(\"init\", ({ collection, db }) => {\r\n    collection.on(\r\n      \"get\",\r\n      1000,\r\n      query =>\r\n        query.data\r\n          ? query\r\n          : { ...query, data: db.dbIndex[query.id] }\r\n    );\r\n  });\r\n};\r\n","export default app => {\r\n  app.database.on(\"init\", ({ collection, db }) => {\r\n    collection.on(\"init\", 1000, query => Object.assign(db, query));\r\n    collection.on(\"init\", -1000, () => {\r\n      /* collection.on(\r\n        \"init\",\r\n        () => {\r\n          throw new Error(\"Initited already\");\r\n        },\r\n        1001\r\n      ); */\r\n      return collection;\r\n    });\r\n  });\r\n};\r\n","export default (app) => {\r\n  app.database.on(\"init\", ({ collection, db }) => {\r\n    collection.on(\"save\", 2000, (query) => {\r\n      const id = query.id || (query.data && query.data._id);\r\n      if (!id || query.oldData) return;\r\n\r\n      const oldData = db.dbIndex[id];\r\n      if (!oldData) return;\r\n\r\n      if (query.fields) query.data = { ...oldData, ...query.data };\r\n      return { ...query, oldData };\r\n    });\r\n\r\n    collection.on(\"save\", 1000, (query) => {\r\n      if (!query.data) return;\r\n\r\n      // eslint-disable-next-line no-multi-assign\r\n      query.data._id = query.id = query.id || query.data._id || app.uuid();\r\n    });\r\n\r\n    collection.on(\"save\", -100, (query) => {\r\n      if (!query.data) return;\r\n\r\n      const { dbArray, dbIndex } = db;\r\n\r\n      if (query.oldData) {\r\n        dbArray.splice(dbArray.indexOf(query.oldData), 1);\r\n        delete dbIndex[query.oldData._id];\r\n      }\r\n\r\n      dbIndex[query.id] = query.data;\r\n      dbArray.push(query.data);\r\n    });\r\n  });\r\n};\r\n","const getKey = (data) => JSON.stringify(data);\r\n\r\nexport default (app) => {\r\n  if (app.settings.noClientCache) return;\r\n\r\n  app.database.on(\"init\", ({ collection, db }) => {\r\n    if (collection.contentType.noClientCache) return;\r\n\r\n    const insertItem = (item) => {\r\n      const { dbIndex, dbArray } = db;\r\n      if (dbIndex[item._id]) return;\r\n\r\n      dbIndex[item._id] = item;\r\n\r\n      const chdate = item._chdate;\r\n      let pos = dbArray.length - 1;\r\n\r\n      if (chdate)\r\n        while (\r\n          pos >= 0 &&\r\n          (!dbArray[pos]._chdate || dbArray[pos]._chdate > chdate)\r\n        )\r\n          pos -= 1;\r\n\r\n      if (pos === dbArray.length - 1) dbArray.push(item);\r\n      else dbArray.splice(pos + 1, 0, item);\r\n\r\n      collection.event(\"saveStorage\");\r\n    };\r\n\r\n    let searchCache = {};\r\n    let allInCache = false;\r\n\r\n    collection.on([\"update\", \"clearCache\"], 2000, () => {\r\n      searchCache = {};\r\n      allInCache = false;\r\n    });\r\n\r\n    collection.on(\"search\", 2000, (query) => {\r\n      const inCache =\r\n        allInCache || searchCache[getKey({ ...query, data: undefined })];\r\n\r\n      return { ...query, inCache };\r\n    });\r\n    collection.on(\"search\", -1000, (query) => {\r\n      if (!query.data || allInCache) return;\r\n\r\n      allInCache =\r\n        query.count > query.searchTotal && query.searchTotal === query.total;\r\n\r\n      query.data.forEach(insertItem);\r\n\r\n      const key = getKey({ ...query, data: undefined });\r\n      if (!searchCache[key]) searchCache[key] = true;\r\n    });\r\n\r\n    collection.on([\"get\", \"find\"], -1000, ({ data }) => {\r\n      if (!allInCache && data) insertItem(data);\r\n    });\r\n  });\r\n};\r\n","import connectionM from \"./connection\";\r\nimport updatesM from \"./updates\";\r\nimport debugM from \"./debug\";\r\nimport memdbM from \"./memdb\";\r\nimport cacheM from \"./cache\";\r\nimport storageM from \"./storage\";\r\nimport saveQueueM from \"./saveQueue\";\r\n\r\nexport default function (app) {\r\n  const database = app.addeventhandler(\r\n    {},\r\n    [\"init\", \"add\", \"clearCache\"],\r\n    \"databaseglobal\"\r\n  );\r\n  app.database = database;\r\n\r\n  connectionM(app);\r\n  updatesM(app);\r\n  debugM(app);\r\n  memdbM(app);\r\n  cacheM(app);\r\n  storageM(app);\r\n  saveQueueM(app);\r\n\r\n  database.on(\"clearCache\", () =>\r\n    Promise.all(\r\n      Object.keys(app.contentType)\r\n        .filter((item) => database[item])\r\n        .map((item) => database[item].event(\"clearCache\"))\r\n    )\r\n  );\r\n\r\n  const initDatabases = (contentTypes) =>\r\n    contentTypes\r\n      .filter((contentType) => contentType.storage !== \"none\")\r\n      .map((contentType) =>\r\n        database\r\n          .init({ contentType })\r\n          .then(({ collection }) => collection.init())\r\n          .then(\r\n            // eslint-disable-next-line no-return-assign\r\n            (collection) => (database[contentType.machinename] = collection)\r\n          )\r\n      );\r\n\r\n  app.on(\"init\", -100, () => {\r\n    app.connection.on(\"databaseUpdate\", (data) =>\r\n      database[data.contentType].update(data)\r\n    );\r\n    return Promise.all(initDatabases(Object.values(app.contentType))).then(\r\n      () => {\r\n        app.on([\"login\", \"logout\"], () => {\r\n          database.clearCache().then(() => undefined);\r\n        });\r\n      }\r\n    );\r\n  });\r\n};\r\n","export default (app) => {\r\n  let connected = false;\r\n  app.on(\"init\", () => {\r\n    connected = app.connection.connected();\r\n    app.connection.on(\"connect\", () => {\r\n      connected = true;\r\n    });\r\n    app.connection.on(\"disconnect\", () => {\r\n      connected = false;\r\n    });\r\n  });\r\n\r\n  app.database.on(\"init\", ({ collection, db, contentType }) => {\r\n    const send = (action, query) =>\r\n      app.connection\r\n        .emit({\r\n          type: \"database\",\r\n          action,\r\n          contentType: contentType.machinename,\r\n          query,\r\n        })\r\n        .then((event) => event.query);\r\n\r\n    [\"find\", \"get\", \"size\"].forEach((event) => {\r\n      collection.on(event, 900, (query) =>\r\n        query.data\r\n          ? undefined\r\n          : !connected\r\n          ? { ...query, offline: true }\r\n          : send(event, query)\r\n      );\r\n    });\r\n\r\n    collection.on(\"delete\", 2700, (query) =>\r\n      !connected ? { ...query, offline: true } : send(\"delete\", query)\r\n    );\r\n\r\n    collection.on(\"save\", 2700, (query) =>\r\n      !connected ? { ...query, offline: true } : send(\"save\", query)\r\n    );\r\n\r\n    collection.on(\"search\", 1700, (query) =>\r\n      query.inCache\r\n        ? undefined\r\n        : !connected\r\n        ? { ...query, offline: true }\r\n        : send(\"search\", query)\r\n    );\r\n\r\n    collection.on(\"updates\", (query) => send(\"updates\", query));\r\n    collection.on(\"update\", 200, (query) => ({\r\n      ...query,\r\n      offline: !connected,\r\n    }));\r\n\r\n    app.connection.on(\"database\", (event) => {\r\n      if (\r\n        event.contentType !== contentType.machinename ||\r\n        ![\"update\"].includes(event.action)\r\n      )\r\n        return;\r\n      collection[event.action](event.query);\r\n    });\r\n\r\n    app.connection.on(\"connect\", () => {\r\n      collection.updates();\r\n    });\r\n  });\r\n};\r\n","export default (app) => {\r\n  app.database.on(\"init\", ({ collection, db, contentType }) => {\r\n    let ids = [];\r\n    const updateSearch = {};\r\n    const updateGet = {};\r\n    let timer03;\r\n    let timer20;\r\n\r\n    const timeoutTimes = (app.settings.database &&\r\n      app.settings.database.updateFrequency) || [300, 2000];\r\n\r\n    const updateEvent = () => {\r\n      clearTimeout(timer03);\r\n      clearTimeout(timer20);\r\n      timer20 = false;\r\n      collection.event(\"update\", { ids }).then(() => {\r\n        ids = [];\r\n      });\r\n    };\r\n\r\n    collection.on(\"get\", 1000, (query) => {\r\n      if (!query.onData || query.callbackId) return;\r\n      query.callbackId = app.uuid();\r\n      updateGet[query.id] = updateGet[query.id] || {};\r\n      updateGet[query.id][query.callbackId] = query.onData;\r\n      delete query.onData;\r\n    });\r\n    collection.on(\"get\", -1000, (query) => {\r\n      if (query.callbackId) updateGet[query.id][query.callbackId](query);\r\n    });\r\n\r\n    collection.on(\"search\", 1000, (query) => {\r\n      if (!query.onData || query.callbackId) return;\r\n      query.callbackId = app.uuid();\r\n      updateSearch[query.callbackId] = { ...query, data: false };\r\n      delete query.onData;\r\n    });\r\n    collection.on(\"search\", -1000, (query) => {\r\n      if (query.callbackId) updateSearch[query.callbackId].onData(query);\r\n    });\r\n\r\n    collection.on(\"offUpdate\", (query) => {\r\n      if (updateSearch[query.callbackId]) delete updateSearch[query.callbackId];\r\n      else delete updateGet[query.id][query.callbackId];\r\n    });\r\n\r\n    collection.on([\"save\", \"delete\"], -1000, (query) => {\r\n      if (!query.offline) return;\r\n\r\n      if (timer03) clearTimeout(timer03);\r\n      timer03 = setTimeout(updateEvent, timeoutTimes[0]);\r\n      if (!timer20) timer20 = setTimeout(updateEvent, timeoutTimes[1]);\r\n      if (!ids.includes(query.id)) ids.push(query.id);\r\n    });\r\n\r\n    const delItem = (id) => {\r\n      // Not working, strange...\r\n      // dbArray.splice(dbArray.indexOf(dbIndex[id]),1);\r\n      db.dbArray = db.dbArray.filter((i) => i._id !== id);\r\n      delete db.dbIndex[id];\r\n    };\r\n\r\n    collection.on(\"update\", ({ ids, offline }) => {\r\n      if (offline) return;\r\n      if (ids) {\r\n        ids.forEach(delItem);\r\n        return;\r\n      }\r\n\r\n      db.dbArray = [];\r\n      db.dbIndex = {};\r\n    });\r\n\r\n    collection.on(\"update\", -1000, ({ ids }) => {\r\n      Object.values(updateSearch).forEach((query) =>\r\n        collection.search({ ...query, data: false, onData: false })\r\n      );\r\n\r\n      const updateGetIds = ids\r\n        ? ids.filter((id) => updateGet[id])\r\n        : Object.keys(updateGet);\r\n\r\n      updateGetIds.forEach((id) => {\r\n        Object.values(updateGet[id]).forEach((callbackId) =>\r\n          collection\r\n            .get({ id })\r\n            .then((query) => updateGet[id][callbackId](query))\r\n        );\r\n      });\r\n\r\n      collection.event(\"saveStorage\");\r\n    });\r\n\r\n    collection.on(\"updates\", 1000, () => {\r\n      const { dbArray } = db;\r\n      const i = dbArray.length - 1;\r\n\r\n      if (i === -1 || !dbArray[i]._chdate) return;\r\n\r\n      return { date: dbArray[i]._chdate };\r\n    });\r\n    collection.on(\"updates\", -1000, collection.update);\r\n  });\r\n};\r\n","/*\r\nfunction getStackTrace(row) {\r\n  const obj = {};\r\n  Error.captureStackTrace(obj, getStackTrace);\r\n  if (row) return obj.stack.split(\"\\n\")[row].replace(\"   at \", \"\");\r\n  return obj.stack;\r\n}\r\n*/\r\nexport default app => {\r\n  app.database.on(\"init\", ({ collection, db }) => {\r\n    /*\r\n    [\"delete\", \"find\", \"get\", \"save\", \"search\", \"size\"].forEach(event => {\r\n      collection.on(\r\n        event,\r\n        query => {\r\n          console.log(event, query, getStackTrace(6));\r\n        },\r\n        1002\r\n      );\r\n    });*/\r\n  });\r\n};\r\n","export default (app) => {\r\n  if (app.settings.noClientCache) return;\r\n\r\n  app.database.on(\"init\", ({ collection, db }) => {\r\n    const id = `dbStorage${collection.contentType.machinename}`;\r\n\r\n    collection.on([\"save\", \"delete\", \"saveStorage\"], -1000, () => {\r\n      app.storage.setItemDebounce({ id, value: db.dbArray, delay: 500 });\r\n    });\r\n\r\n    collection.on(\"init\", 1000, () =>\r\n      app.storage.getItem({ id }).then(({ value }) => {\r\n        db.dbArray = value || [];\r\n      })\r\n    );\r\n\r\n    collection.on(\"clearCache\", () => {\r\n      app.storage.setItemDebounce({ id, value: [], delay: 0 });\r\n      db.dbArray = [];\r\n      db.dbIndex = {};\r\n    });\r\n  });\r\n};\r\n","export default (app) => {\r\n  if (app.settings.noClientCache) return;\r\n\r\n  app.database.on(\"init\", ({ collection, db }) => {\r\n    const storageId = `dbSaveQueue${collection.contentType.machinename}`;\r\n\r\n    let saveQueue = {};\r\n    app.storage\r\n      .getItem({ id: storageId })\r\n      // eslint-disable-next-line no-return-assign\r\n      .then(({ value }) => (saveQueue = value || {}));\r\n\r\n    const add = ({ id, data, offline }) => {\r\n      if (!offline) return;\r\n      saveQueue[id] = data;\r\n      app.storage.setItemDebounce({\r\n        id: storageId,\r\n        value: saveQueue,\r\n        delay: 300,\r\n      });\r\n    };\r\n    collection.on(\"save\", -1000, (query) => add(query));\r\n    collection.on(\"delete\", -1000, (query) =>\r\n      add({ ...query, data: \"deleted\" })\r\n    );\r\n\r\n    collection.on(\"updates\", 500, (query) => {\r\n      const { dbArray } = db;\r\n      let { date } = query;\r\n      if (!date) return;\r\n\r\n      let i = dbArray.length - 1;\r\n      console.log(\"saveQueue\");\r\n      while (i !== -1 && !saveQueue[dbArray[i]._id]) {\r\n        // date = dbArray[i]._chdate;\r\n        i--;\r\n      }\r\n      return { ...query, saveQueue, date };\r\n    });\r\n    collection.on(\"updates\", -500, () => {\r\n      saveQueue = {};\r\n      app.storage.setItem({ id: storageId, value: {} });\r\n    });\r\n  });\r\n};\r\n","export default function (app) {\r\n  const { userContentType = \"adminUser\" } = app.settings;\r\n  const sessionKey = `session${userContentType}`;\r\n\r\n  app.session = app.addeventhandler({}, [\"login\", \"logout\"], \"session\");\r\n  const { session } = app;\r\n  let autoLoginUser = false;\r\n\r\n  function loginEvent(user) {\r\n    if (JSON.stringify(user) === JSON.stringify(session.user)) return;\r\n\r\n    try {\r\n      app.storage.setItem({ id: sessionKey, value: user });\r\n      // eslint-disable-next-line no-empty\r\n    } catch (e) {}\r\n    session.user = user;\r\n    if (typeof session.user.role === \"string\")\r\n      session.user.role = [session.user.role];\r\n\r\n    app.event(\"login\", user);\r\n  }\r\n\r\n  session.on(\"login\", (value) =>\r\n    app.connection\r\n      .emit({\r\n        type: \"login\",\r\n        data: value,\r\n        sessionid: value.sessionid,\r\n        contentType: value.contentType,\r\n      })\r\n      .then((query) => {\r\n        const { user } = query;\r\n\r\n        if (user && !query.error) loginEvent(user);\r\n        else if (session.user !== autoLoginUser) {\r\n          session.user = autoLoginUser;\r\n          try {\r\n            app.storage.removeItem({ id: sessionKey });\r\n            // eslint-disable-next-line no-empty\r\n          } catch (e) {}\r\n        }\r\n        return query;\r\n      })\r\n  );\r\n\r\n  app.connection.on(\"autologin\", (query) => {\r\n    const { user, error } = query;\r\n\r\n    if (!user || error) return;\r\n    autoLoginUser = user;\r\n    if (session.user) return;\r\n\r\n    session.user = user;\r\n    if (typeof session.user.role === \"string\")\r\n      session.user.role = [session.user.role];\r\n\r\n    app.event(\"login\", user);\r\n  });\r\n\r\n  const reload = ({ key, id }) => {\r\n    if ((key || id) !== sessionKey) return;\r\n    window.location.reload();\r\n  };\r\n  window.addEventListener(\"storage\", reload);\r\n  app.storage.on(\"removeItem\", -1000, reload);\r\n  app.storage.on(\"setItem\", -1000, reload);\r\n\r\n  session.on(\"logout\", () => {\r\n    app.storage.removeItem({ id: sessionKey });\r\n\r\n    delete session.user;\r\n\r\n    app.connection.emit({\r\n      type: \"logout\",\r\n      contentType: userContentType,\r\n      noCallback: true,\r\n    });\r\n\r\n    app.event(\"logout\");\r\n  });\r\n\r\n  app.connection.on(\"logout\", () => {\r\n    app.storage.removeItem({ id: sessionKey });\r\n  });\r\n\r\n  app.on(\"init\", () =>\r\n    app.storage.getItem({ id: sessionKey }).then(({ value: userStore }) => {\r\n      session.user = userStore || autoLoginUser;\r\n\r\n      if (userStore) {\r\n        if (app.connection.connected()) session.login(userStore);\r\n\r\n        app.connection.on(\"connect\", () => {\r\n          session.login(userStore);\r\n        });\r\n      }\r\n    })\r\n  );\r\n};\r\n","function getStackTrace(row) {\r\n  const obj = {};\r\n  if (!Error.captureStackTrace) return;\r\n  Error.captureStackTrace(obj, getStackTrace);\r\n  if (row === 3) console.log(obj.stack.split(\"\\n\"));\r\n  const [, source, line, column] =\r\n    /https?:\\/\\/[^/]+\\/([^:]+):([^:]+):([0-9]+)/im.exec(\r\n      obj.stack.split(\"\\n\")[row]\r\n    ) || [];\r\n\r\n  return !source\r\n    ? obj.stack.split(\"\\n\")[row]\r\n    : translate(`${source} ${line}:${column}`);\r\n}\r\n\r\nlet translate = (str) => str;\r\n\r\nif (\r\n  typeof window !== \"undefined\" &&\r\n  window.location.host.includes(\"localhost\")\r\n) {\r\n  const addScript = (src) =>\r\n    new Promise((resolve) => {\r\n      if (\r\n        [...document.head.children].some(\r\n          (child) => child.getAttribute(\"src\") === src\r\n        )\r\n      ) {\r\n        resolve();\r\n        return;\r\n      }\r\n\r\n      const scriptEl = document.createElement(\"script\");\r\n\r\n      scriptEl.setAttribute(\"src\", src);\r\n      scriptEl.onload = resolve;\r\n      document.head.appendChild(scriptEl);\r\n    });\r\n\r\n  addScript(\"/source-map.js\").then(async () => {\r\n    window.sourceMap.SourceMapConsumer.initialize({\r\n      \"lib/mappings.wasm\": \"/mappings.wasm\",\r\n    });\r\n    try {\r\n      const consumer = await new window.sourceMap.SourceMapConsumer(\r\n        await fetch(\"/static/js/main.chunk.js.map\").then((res) => res.json())\r\n      );\r\n      translate = (str) => {\r\n        if (!str || !str.includes(\":\")) return str;\r\n\r\n        let [source, line, column] = str.split(/[ :]/);\r\n\r\n        ({ source, line, column } = consumer.originalPositionFor({\r\n          line: parseInt(line, 10),\r\n          column: parseInt(column, 10),\r\n        }));\r\n        return `${source} ${line}:${column}`;\r\n      };\r\n      // eslint-disable-next-line no-empty\r\n    } catch (e) {}\r\n  });\r\n}\r\n\r\nif (typeof window !== \"undefined\") window.addEventHandlers = {};\r\n\r\nexport default function addEventHandler(context, mapevents, name) {\r\n  const callbacks = {};\r\n  const callbacksprio = {};\r\n  const callbacksStack = {};\r\n  if (typeof mapevents === \"string\") {\r\n    name = mapevents;\r\n    mapevents = undefined;\r\n  }\r\n\r\n  callbacksStack.addEventHandlerInitiator = [\r\n    `${name} ${Math.random()}`,\r\n    getStackTrace(2),\r\n  ];\r\n\r\n  setTimeout(() => {\r\n    if (typeof window !== \"undefined\") {\r\n      Object.entries(callbacksStack).forEach(([key, value]) => {\r\n        callbacksStack[key] = value.map((item) => translate(item));\r\n      });\r\n\r\n      window.addEventHandlers[\r\n        callbacksStack.addEventHandlerInitiator[0]\r\n      ] = callbacksStack;\r\n    }\r\n  }, 1000);\r\n\r\n  context = context || {};\r\n\r\n  context.on = (event, callback, prio) => {\r\n    event = event instanceof Array ? event : [event];\r\n    event.forEach((event) => addEvent(event, callback, prio));\r\n  };\r\n\r\n  function addEvent(event, callback, prio) {\r\n    if (typeof callback === \"number\") {\r\n      const tmp = callback;\r\n      callback = prio;\r\n      prio = tmp;\r\n    }\r\n\r\n    if (!callback) return console.error(\"No callback\", getStackTrace(5));\r\n    if (typeof callback !== \"function\")\r\n      return console.error(\"Not a function\", getStackTrace(5), callback);\r\n\r\n    prio = prio || 0;\r\n\r\n    if (!callbacks[event]) {\r\n      callbacks[event] = [];\r\n      callbacksprio[event] = [];\r\n      callbacksStack[event] = [];\r\n    }\r\n\r\n    let pos = callbacks[event].length;\r\n    while (pos && callbacksprio[event][pos - 1] < prio) pos--;\r\n\r\n    callbacksprio[event].splice(pos, 0, prio);\r\n    callbacks[event].splice(pos, 0, callback);\r\n    callbacksStack[event].splice(pos, 0, getStackTrace(5));\r\n  }\r\n\r\n  context.off = (event, callback) => {\r\n    event = event instanceof Array ? event : [event];\r\n    event.forEach((event) => removeEvent(event, callback));\r\n  };\r\n\r\n  function removeEvent(event, callback) {\r\n    if (!callbacks[event]) {\r\n      console.log(\"Missing event\", event, callbacks);\r\n      return;\r\n    }\r\n    const pos = callbacks[event].indexOf(callback);\r\n    if (pos !== -1) {\r\n      callbacks[event].splice(pos, 1);\r\n      callbacksprio[event].splice(pos, 1);\r\n      callbacksStack[event].splice(pos, 1);\r\n    }\r\n  }\r\n\r\n  const getCallTrace = (event) => {\r\n    const callback = callbacks[event];\r\n    if (typeof window !== \"undefined\") {\r\n      console.log(\r\n        event,\r\n        \" getCallTrace\",\r\n        callback.length,\r\n        Object.keys(context)\r\n      );\r\n      callbacksStack[event].forEach((event) => {\r\n        console.log(event);\r\n      });\r\n    } else\r\n      console.log(\r\n        event,\r\n        \" getCallTrace\",\r\n        callback.length,\r\n        Object.keys(context),\r\n        callbacksStack[event]\r\n      );\r\n  };\r\n\r\n  const doEvent = function (event, data) {\r\n    if (event === \"getCallTrace\") return getCallTrace(data);\r\n    data = data || {};\r\n    const callback = callbacks[event];\r\n\r\n    if (!callback || !callback.length) return Promise.resolve(data);\r\n\r\n    return new Promise((resolve, reject) => {\r\n      const timer = setTimeout(() => {\r\n        console.log(\r\n          event,\r\n          \" Stopped at\",\r\n          pos,\r\n          callback.length,\r\n          Object.keys(context),\r\n          callbacksStack[event][pos - 1],\r\n          callbacksStack[event]\r\n        );\r\n      }, 5000);\r\n      let pos = 0;\r\n      let oldData = data;\r\n\r\n      function next(data) {\r\n        if (data instanceof Promise) {\r\n          data.then(next).catch(reject);\r\n          return;\r\n        }\r\n\r\n        if (data === \"{{{breakEvent}}}\") {\r\n          resolve(oldData);\r\n          return;\r\n        }\r\n\r\n        const skipNext = data === \"{{{skipNext}}}\";\r\n\r\n        data = skipNext || typeof data === \"undefined\" ? oldData : data;\r\n\r\n        if (skipNext) pos++;\r\n\r\n        if (pos >= callback.length) {\r\n          clearTimeout(timer);\r\n          resolve(data);\r\n          return;\r\n        }\r\n\r\n        oldData = data;\r\n        Promise.resolve(callback[pos++](data))\r\n          .then(next)\r\n          .catch(reject);\r\n      }\r\n      next(data);\r\n    });\r\n  };\r\n  context.event = doEvent;\r\n\r\n  if (mapevents)\r\n    mapevents.forEach((event) => {\r\n      context[event] = (data, defectiveCallback) => {\r\n        if (defectiveCallback) debugger;\r\n        return doEvent(event, data);\r\n      };\r\n    });\r\n\r\n  return context;\r\n};\r\n","export default (app) => {\r\n  const translations = {};\r\n  const lang = \"\";\r\n\r\n  app.utils = {\r\n    capFirst: function (text) {\r\n      if (!text) return \"\";\r\n      return text.substring(0, 1).toUpperCase() + text.substring(1);\r\n    },\r\n    contains: function (array1, array2) {\r\n      if (typeof array1 === \"string\") array1 = [array1];\r\n      if (typeof array2 === \"string\") array2 = [array2];\r\n\r\n      for (let i = 0; i < array1.length; i++)\r\n        if (array2.indexOf(array1[i]) !== -1) return true;\r\n\r\n      return false;\r\n    },\r\n    t: function (text) {\r\n      if (translations[lang] && translations[lang][text])\r\n        return translations[lang][text];\r\n      return text;\r\n    },\r\n    translate: function (text) {\r\n      return text.replace(/t\\('([^']+)'\\)/g, (str, p1, offset, s) => {\r\n        if (translations[lang] && translations[lang][p1])\r\n          return translations[lang][p1];\r\n        return p1;\r\n      });\r\n    },\r\n    insertValues: function (text, data) {\r\n      return text.replace(/{([a-z0-9_.]+)}/gi, (str, p1, offset, s) => {\r\n        return data[p1] ? data[p1] : `{${p1}}`;\r\n      });\r\n    },\r\n    clone: (obj) => {\r\n      try {\r\n        return JSON.parse(JSON.stringify(obj));\r\n      } catch (error) {\r\n        console.error(\"Clone error\", obj);\r\n        return {};\r\n      }\r\n    },\r\n    uuid: () => {\r\n      const S4 = () =>\r\n        // eslint-disable-next-line no-bitwise\r\n        (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\r\n\r\n      function guidGenerator() {\r\n        const buf = new Uint16Array(8);\r\n        window.crypto.getRandomValues(buf);\r\n        const S4 = function (num) {\r\n          let ret = num.toString(16);\r\n          while (ret.length < 4) {\r\n            ret = `0${ret}`;\r\n          }\r\n          return ret;\r\n        };\r\n        return (\r\n          S4(buf[0]) +\r\n          S4(buf[1]) +\r\n          S4(buf[2]) +\r\n          S4(buf[3]).substring(1) +\r\n          S4(buf[4]) +\r\n          S4(buf[5]) +\r\n          S4(buf[6]) +\r\n          S4(buf[7])\r\n        );\r\n      }\r\n      if (window.crypto && window.crypto.getRandomValues)\r\n        return guidGenerator();\r\n      return S4() + S4() + S4() + S4() + S4() + S4() + S4() + S4();\r\n    },\r\n  };\r\n\r\n  app.uuid = app.utils.uuid;\r\n};\r\n","// eslint-disable-next-line import/extensions\r\nimport indexScripts from \"../../../indexScripts\";\r\nimport contentType from \"../../../contentype.json\";\r\nimport addeventhandler from \"./eventhandler\";\r\nimport utils from \"./utils\";\r\nimport buildsettings from \"../../../settings.json\";\r\n\r\nconst settings = (window && window.___settings___) || buildsettings;\r\nconst app = { settings, contentType, addeventhandler };\r\n\r\nif (app.settings.fetchDomainFromUrl) {\r\n  const { protocol, host } = (window && window.location) || {};\r\n  if (protocol === \"https:\" && !app.settings.secure) {\r\n    app.settings.secure = true;\r\n    app.settings.domain = host;\r\n  }\r\n}\r\n\r\naddeventhandler(app, \"app\");\r\nutils(app);\r\napp.uuid = app.utils.uuid;\r\nindexScripts(app);\r\napp.capFirst = app.utils.capFirst;\r\n\r\napp.on(\"init\", () => {\r\n  app.inited = true;\r\n});\r\n\r\nexport default () => app;\r\napp.event(\"init\").then(() => app.event(\"start\"));\r\n","import components from './core/components/client/index.js';\nimport connection from './core/connection/client/index.js';\nimport contentType from './core/contentType/client/index.js';\nimport core from './core/core/client/index.js';\nimport database from './core/database/client/index.js';\nimport file from './core/file/client/index.js';\nimport pwa from './core/pwa/client/index.js';\nimport router from './core/router/client/index.js';\nimport session from './core/session/client/index.js';\nexport default function(app) {\n  components(app);\n  connection(app);\n  contentType(app);\n  core(app);\n  database(app);\n  file(app);\n  pwa(app);\n  router(app);\n  session(app);\n}\n","export default function (app) {\r\n  if (!app.t) app.t = (text) => text;\r\n\r\n  app.on(\"init\", -1000, () => {\r\n    app.capFirst = app.utils.capFirst;\r\n    app.uuid = app.utils.uuid;\r\n    app.clone = app.utils.clone;\r\n    init();\r\n  });\r\n\r\n  function init() {\r\n    if (!document.body) {\r\n      window.onload = init;\r\n      return;\r\n    }\r\n\r\n    if (app.settings.debug) console.log(app);\r\n\r\n    app.parseFilter = function (filter, getValue, path) {\r\n      if (!filter) return {};\r\n      function insertVal(val) {\r\n        return val.replace(/\\{([a-z_.]+)\\}/gim, (str, p1, offset, s) => {\r\n          return getValue(p1.replace(\"..\", path));\r\n        });\r\n      }\r\n      const parsedfilter = { $and: [] };\r\n\r\n      for (const item in filter) {\r\n        const oneFilter = {};\r\n        const oneFilterIn = filter[item].and;\r\n        for (const i in oneFilterIn)\r\n          oneFilter[insertVal(oneFilterIn[i][0])] = insertVal(\r\n            oneFilterIn[i][1]\r\n          );\r\n        parsedfilter.$and.push(oneFilter);\r\n      }\r\n      return parsedfilter;\r\n    };\r\n\r\n    app.stateStore = (() => {\r\n      const states = {};\r\n      return {\r\n        set: function (obj, state, type) {\r\n          if (type === \"disabled\") return;\r\n\r\n          const url = window.location.pathname;\r\n          const id = app.domPathId(obj.current);\r\n          if (type === \"independent\") {\r\n            states[id] = state;\r\n            return;\r\n          }\r\n\r\n          if (!states[url]) states[url] = {};\r\n\r\n          states[url][id] = state;\r\n        },\r\n        get: function (obj, type) {\r\n          if (type === \"disabled\") return null;\r\n\r\n          const id = app.domPathId(obj.current);\r\n          if (type === \"independent\") return states[id];\r\n\r\n          const url = window.location.pathname;\r\n\r\n          if (!states[url] || states[url][id] === undefined) return null;\r\n          return states[url][id];\r\n        },\r\n      };\r\n    })();\r\n\r\n    app.domPathId = function (element) {\r\n      if (!element) return null;\r\n      const path = [];\r\n      for (let i = 0; i < 200 && element.parentElement; i++) {\r\n        for (let item = 0; item < element.parentElement.children.length; item++)\r\n          if (element.parentElement.children[item] === element)\r\n            path.unshift(`${item}.${element.tagName}`);\r\n        element = element.parentElement;\r\n      }\r\n      return path.join(\".\");\r\n    };\r\n\r\n    document.addEventListener(\r\n      \"keydown\",\r\n      (e) => {\r\n        if (\r\n          e.keyCode === 83 &&\r\n          (navigator.platform.match(\"Mac\") ? e.metaKey : e.ctrlKey)\r\n        ) {\r\n          e.preventDefault();\r\n          app.event(\"keypressSaveEvent\");\r\n        }\r\n      },\r\n      false\r\n    );\r\n\r\n    app.event(\"loaded\");\r\n  }\r\n};\r\n","export default function (app) {\r\n  app.storage = app.addeventhandler(\r\n    {},\r\n    [\r\n      \"getItem\",\r\n      \"setItem\",\r\n      \"removeItem\",\r\n      \"getItemMem\",\r\n      \"setItemMem\",\r\n      \"removeItemMem\",\r\n      \"getFile\",\r\n      \"setFile\",\r\n      \"removeFile\",\r\n      \"setItemDebounce\",\r\n    ],\r\n    \"storage\"\r\n  );\r\n\r\n  app.storage.on(\"getItem\", (data) => {\r\n    const val = window.localStorage.getItem(data.id);\r\n    return Object.assign(data, {\r\n      value: val && (val[0] === \"[\" || val[0] === \"{\") ? JSON.parse(val) : val,\r\n    });\r\n  });\r\n\r\n  app.storage.on(\"setItem\", ({ id, value }) => {\r\n    window.localStorage.setItem(\r\n      id,\r\n      typeof value === \"string\" ? value : JSON.stringify(value)\r\n    );\r\n  });\r\n\r\n  const timer = {};\r\n  app.storage.on(\"setItemDebounce\", ({ id, value, delay }) => {\r\n    clearTimeout(timer[id]);\r\n    timer[id] = setTimeout(() => {\r\n      delete timer[id];\r\n      app.storage.setItem({ id, value });\r\n    }, delay);\r\n  });\r\n\r\n  app.storage.on(\"removeItem\", ({ id }) => {\r\n    window.localStorage.removeItem(id);\r\n  });\r\n\r\n  const memstore = {};\r\n\r\n  app.storage.on(\"getItemMem\", (data) =>\r\n    Object.assign(data, { value: memstore[data.id] })\r\n  );\r\n\r\n  app.storage.on(\"setItemMem\", ({ id, value }) => {\r\n    memstore[id] = value;\r\n  });\r\n\r\n  app.storage.on(\"removeItemMem\", ({ id }) => {\r\n    delete memstore[id];\r\n  });\r\n\r\n  app.storage.on(\"getFile\", (data) => {});\r\n\r\n  app.storage.on(\"setFile\", ({ id, value }) => {});\r\n\r\n  app.storage.on(\"removeFile\", ({ id }) => {});\r\n};\r\n","export default (app) => {\r\n  if (\"serviceWorker\" in navigator)\r\n    window.addEventListener(\"load\", () => {\r\n      navigator.serviceWorker.register(\"/nystem-service-worker.js\").then(\r\n        (registration) => {\r\n          console.log(\"ServiceWorker registration successful\");\r\n          registration.update();\r\n        },\r\n        (err) => {\r\n          console.log(\"ServiceWorker registration failed: \", err);\r\n        }\r\n      );\r\n    });\r\n\r\n  let deferredPrompt = false;\r\n\r\n  window.addEventListener(\"beforeinstallprompt\", (e) => {\r\n    deferredPrompt = e;\r\n  });\r\n\r\n  app.on(\"canRunAppInstall\", () => ({\r\n    installable: !!deferredPrompt,\r\n  }));\r\n\r\n  app.on(\"runAppInstall\", () => {\r\n    if (!deferredPrompt) return;\r\n\r\n    deferredPrompt.prompt();\r\n\r\n    deferredPrompt.userChoice.then((choiceResult) => {\r\n      if (choiceResult.outcome === \"accepted\")\r\n        console.log(\"User accepted the install prompt\");\r\n      else console.log(\"User dismissed the install prompt\");\r\n    });\r\n  });\r\n\r\n  const regExpVersion = /main\\.([0-9a-f]+)\\.chunk.js/im;\r\n  app.on(\"getAppVersion\", () => ({\r\n    appVersion: (regExpVersion.exec(\r\n      [...document.body.children]\r\n        .map((child) => child.src)\r\n        .find((src) => regExpVersion.test(src))\r\n    ) || [])[1],\r\n  }));\r\n\r\n  app.on(\"clearCacheAndReload\", () => {\r\n    window.localStorage.clear();\r\n    window.caches.delete(\"nystem\").then(() => {\r\n      window.location.reload();\r\n    });\r\n  });\r\n\r\n  app.connection.on(\"connect\", () => {\r\n    app.connection\r\n      .emit({ type: \"getAppVersion\" })\r\n      .then(async ({ appVersion }) => {\r\n        const { appVersion: clientAppVersion } = await app.event(\r\n          \"getAppVersion\"\r\n        );\r\n        console.log(\"At version\", { clientAppVersion, appVersion });\r\n        if (\r\n          !clientAppVersion ||\r\n          !appVersion ||\r\n          clientAppVersion === appVersion\r\n        ) {\r\n          window.localStorage.setItem(\"havereloaded\", \"false\");\r\n          return;\r\n        }\r\n\r\n        if (window.localStorage.getItem(\"havereloaded\") === \"true\") return;\r\n\r\n        window.localStorage.setItem(\"havereloaded\", \"true\");\r\n\r\n        window.caches.delete(\"nystem\").then(() => {\r\n          window.location.reload();\r\n        });\r\n      });\r\n  });\r\n  setTimeout(() => {\r\n    window.localStorage.setItem(\"havereloaded\", \"false\");\r\n  }, 10000);\r\n};\r\n","export default function(app) {\r\n  /* const pathRegexp = function(path, keys, sensitive, strict) {\r\n    if (Object.prototype.toString.call(path) === \"[object RegExp]\") return path;\r\n    if (Array.isArray(path)) path = \"(\" + path.join(\"|\") + \")\";\r\n    path = path\r\n      .concat(strict ? \"\" : \"/?\")\r\n      .replace(/\\/\\(/g, \"(?:/\")\r\n      .replace(/(\\/)?(\\.)?:(\\w+)(?:(\\(.*?\\)))?(\\?)?(\\*)?/g, function(\r\n        _,\r\n        slash,\r\n        format,\r\n        key,\r\n        capture,\r\n        optional,\r\n        star\r\n      ) {\r\n        keys.push({ name: key, optional: !!optional });\r\n        slash = slash || \"\";\r\n        return (\r\n          \"\" +\r\n          (optional ? \"\" : slash) +\r\n          \"(?:\" +\r\n          (optional ? slash : \"\") +\r\n          (format || \"\") +\r\n          (capture || ((format && \"([^/.]+?)\") || \"([^/]+?)\")) +\r\n          \")\" +\r\n          (optional || \"\") +\r\n          (star ? \"(/*)?\" : \"\")\r\n        );\r\n      })\r\n      .replace(/([/.])/g, \"\\\\$1\")\r\n      .replace(/\\* /g, \"(.*)\"); Change * /\r\n    return new RegExp(\"^\" + path + \"$\", sensitive ? \"\" : \"i\");\r\n}; */\r\n\r\n  app.parseURL = function(url) {\r\n    url = url.replace(/^[^/]+:\\/\\/[^/]+/gi, \"\");\r\n    const out = {};\r\n    const hashtag = url.split(\"#\");\r\n    let query = hashtag[0].split(/\\/?\\?/);\r\n    out.path = query[0].split(\"/\");\r\n    out.domain = out.path.shift();\r\n    out.query = {};\r\n    out.hashtag = hashtag[1];\r\n    query = query[1] ? query[1].split(\"&\") : false;\r\n    for (const i in query) {\r\n      const param = query[i].split(\"=\");\r\n      out.query[param[0]] = param[1];\r\n    }\r\n    return out;\r\n  };\r\n\r\n  /* app.on(\"loaded\", () => {\r\n    if (app.settings.extension) {\r\n      const to = \"/\";\r\n      if (\r\n        window.localStorage[\"lastpos\"] &&\r\n        window.localStorage[\"lastpos\"] !== \"/index.html\"\r\n      )\r\n        to = window.localStorage[\"lastpos\"];\r\n      window.history.pushState({}, \"Site\", to);\r\n      app.router.setState();\r\n    }\r\n  }); */\r\n};\r\n","import sessionM from \"./session\";\r\n\r\nexport default app => {\r\n  sessionM(app);\r\n\r\n  const addContents = token => ({\r\n    method: \"POST\",\r\n    body: JSON.stringify({ token })\r\n  });\r\n\r\n  app.on(\"login\", -100, ({ token }) => {\r\n    if (!token) return;\r\n    fetch(\"/login\", addContents(token));\r\n  });\r\n\r\n  app.on(\"logout\", -100, ({ token }) => {\r\n    if (!token) return;\r\n    fetch(\"/logout\", addContents(token));\r\n  });\r\n};\r\n"],"sourceRoot":""}