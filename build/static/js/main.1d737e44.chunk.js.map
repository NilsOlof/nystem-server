{"version":3,"sources":["C:/Users/Nisse/Dropbox/nodejs/nystem-server/core/date/my-moment/index.js","core/bootstrap/component/bootstrap/dropdown.js","core/bootstrap/component/bootstrap/inputWrapper.js","core/bootstrap/component/bootstrap/panel.js","core/bootstrap/component/bootstrap/panelOpen.js","core/bootstrap/component/bootstrap/panelOpenByPath.js","core/bootstrap/component/bootstrap/panelToggle.js","core/bootstrap/component/bootstrap/tab.js","core/bootstrap/component/bootstrap/verticalTab.js","core/bootstrap/component/bootstrap/view.js","core/bootstrap/component/navbar.js","core/bootstrap/component/panel.js","core/bootstrap/component/panelContext.js","core/bootstrap/component/viewPanel/view.js","core/components/component/boolean/button.js","core/components/component/boolean/exposedField.js","core/components/component/boolean/fields.js","core/components/component/boolean/validate.js","core/components/component/boolean/input.js","core/components/component/boolean/name.js","core/components/component/boolean/vibrate.js","core/components/component/boolean/view.js","core/components/component/conditional/int.js","core/components/component/conditional/userRole.js","core/components/component/conditional/view.js","core/components/component/conditional/viewAndOr.js","core/components/component/dragAndDrop/myDnd.js","core/components/component/dragAndDrop/context.js","core/components/component/dragAndDrop/fixedVal.js","core/components/component/dragAndDrop/list.js","core/components/component/dragAndDrop/handle.js","core/components/component/dragAndDrop/sortable.js","core/components/component/dragAndDrop/view.js","core/components/component/email/exposedField.js","core/components/component/email/validate.js","core/components/component/email/input.js","core/components/component/email/inputNoValidation.js","core/components/component/email/link.js","core/components/component/email/mailto.js","core/components/component/email/sortBy.js","core/components/component/email/verifiedInput.js","core/components/component/email/view.js","core/components/component/flatgroup/input.js","core/components/component/float/exposedField.js","core/components/component/float/validate.js","core/components/component/float/input.js","core/components/component/float/link.js","core/components/component/float/sortBy.js","core/components/component/float/view.js","core/components/component/group/input.js","core/components/component/group/view.js","core/components/component/int/exposedField.js","core/components/component/int/validate.js","core/components/component/int/input.js","core/components/component/int/link.js","core/components/component/int/sortBy.js","core/components/component/int/view.js","core/components/component/matrix/input.js","core/components/component/matrix/inputlist.js","core/components/component/multigroup/input.js","core/components/component/multigroup/oneInput.js","core/components/component/multigroup/oneView.js","core/components/component/multigroup/sortBy.js","core/components/component/multigroup/view.js","core/components/component/multilinetext/exposedField.js","core/components/component/multilinetext/fields.js","core/components/component/multilinetext/validate.js","core/components/component/multilinetext/input.js","core/components/component/multilinetext/inputlist.js","core/components/component/multilinetext/itemLink.js","core/components/component/multilinetext/itemText.js","core/components/component/multilinetext/list.js","core/components/component/multilinetext/view.js","core/components/component/reference/exposedField.js","core/components/component/reference/exposedFieldViews.js","core/components/component/reference/first.js","core/components/component/reference/validate.js","core/components/component/reference/input.js","core/components/component/reference/select.js","module/nystemServer/component/reference/sortable.js","core/components/component/reference/sortBy.js","core/components/component/reference/view.js","core/components/component/select/button.js","core/components/component/select/exposedField.js","core/components/component/select/validate.js","core/components/component/select/input.js","core/components/component/select/sortBy.js","core/components/component/select/view.js","core/components/component/select.js","core/components/component/slider/input.js","core/components/component/slider/link.js","core/components/component/slider/view.js","core/components/component/text/exposedField.js","core/components/component/text/validate.js","core/components/component/text/input.js","core/components/component/text/link.js","core/components/component/text/sortBy.js","core/components/component/text/view.js","core/components/component/textarea/formatted.js","core/components/component/textarea/input.js","core/components/component/textarea/link.js","core/components/component/textarea/sortBy.js","core/components/component/textarea/view.js","core/components/component/viewButton/autoSave.js","core/components/component/viewButton/back.js","core/components/component/viewButton/eventEmitter.js","core/components/component/viewButton/input.js","core/components/component/viewButton/reference.js","core/components/component/viewButton/setValue.js","core/components/component/viewButton/view.js","core/components/component/viewInView/empty.js","core/components/component/viewInView/setValue.js","core/components/component/viewInView/view.js","core/components/component/viewLink/button.js","core/components/component/viewLink/dynamicFields.js","core/components/component/viewLink/dynamicLink.js","core/components/component/viewLink/external.js","core/components/component/viewLink/fields.js","core/components/component/viewLink/link.js","core/components/component/viewLink/view.js","core/components/component/viewList/emptySearchresult.js","core/components/component/viewList/infinite.js","core/components/component/viewList/infiniteScrollPos.js","core/components/component/viewList/listStat.js","core/components/component/viewList/pager.js","core/components/component/viewList/render.js","core/components/component/viewList/search.js","core/components/component/viewList/view.js","core/components/component/viewText/break.js","core/components/component/viewText/token.js","core/components/component/viewText/tokenFallbackNew.js","core/components/component/viewText/view.js","core/connection/component/connection/cssclass.js","core/connection/component/connection/view.js","core/connection/component/offline.js","core/contentType/component/contentType/context.js","core/contentType/component/contentType/render.js","core/contentType/component/contentType/view.js","core/contentType/component/useValidator.js","module/nystemServer/component/button.js","core/core/component/errorManager.js","core/core/component/errorMsg.js","core/core/component/input.js","module/nystemServer/component/inputWrapper.js","core/core/component/label.js","core/core/component/loading.js","core/core/component/useEvent.js","core/core/component/useEventListner.js","core/core/component/viewSmallComponent/errorMsg.js","core/core/component/wrapper.js","core/database/component/database/addToCache.js","core/database/component/database/baseViewSearch.js","core/database/component/database/get.js","core/database/component/database/missing.js","core/database/component/database/oneSearch.js","core/database/component/database/search.js","core/database/component/database/searchContext.js","core/database/component/database/searchContextProvider.js","core/database/component/database/showMoreButton.js","core/database/component/database/view.js","core/database/component/useSearch.js","core/date/component/date/exposedField.js","core/date/component/date/exposedYearMonth.js","core/date/component/date/validate.js","core/date/component/date/input.js","core/date/component/date/inputDate.js","core/date/component/date/inputTime.js","core/date/component/date/sortBy.js","core/date/component/date/view.js","module/nystemServer/component/image.js","core/file/component/viewImage/view.js","core/pwa/component/serviceWorker/selectBox.js","core/pwa/component/serviceWorker/view.js","core/pwa/component/viewButton/debugAndClear.js","core/router/component/inserter.js","core/router/component/link.js","core/router/component/router/backHandler.js","core/router/component/router/history.js","core/router/component/router/pageNotFound.js","core/router/component/router/redirect.js","core/router/component/router/scrollpos.js","core/router/component/router/state.js","core/router/component/router/toTopOnNav.js","core/router/component/router/useQueryStore.js","core/router/component/router/view.js","core/router/component/router/viewByHistory.js","core/session/component/password/validate.js","core/session/component/password/confirmInput.js","core/session/component/password/input.js","core/session/component/password/oldpassword.js","core/session/component/password/view.js","core/session/component/role/view.js","core/session/component/role.js","core/session/component/session/logout.js","core/session/component/session/noRole.js","core/session/component/session/role.js","core/session/component/session/user.js","core/session/component/session/view.js","core/session/component/viewButton/login.js","core/style/component/icon/view.js","icons.js","iconsViewPorts.js","core/style/component/icon.js","core/style/component/style/eventOutside.js","core/style/component/style/onOverHandle.js","core/style/component/style/onOver.js","core/style/component/style/view.js","core/style/component/viewportContext.js","core/style/component/viewport.js","module/chromextension/component/extension/backgroundIndex.js","module/chromextension/component/extension/icon.js","module/chromextension/component/extension/search.js","module/chromextension/component/extension/tab.js","module/chromextension/component/extension/view.js","module/nystemServer/component/bootstrap/computedClass.js","module/nystemServer/component/database/filterResult.js","module/nystemServer/component/index.js","module/nystemServer/component/overlay/accessible.js","module/nystemServer/component/overlay/close.js","module/nystemServer/component/overlay/closeButton.js","module/nystemServer/component/overlay/context.js","module/nystemServer/component/overlay/index.js","module/nystemServer/component/overlay/menu.js","module/nystemServer/component/overlay/open.js","module/nystemServer/component/overlay/overlay.js","module/nystemServer/component/overlay/view.js","module/nystemServer/component/reference/dynamicForm.js","module/nystemServer/component/viewButton/mirrorSave.js","module/nystemServer/component/viewInView/setBaseViewValue.js","module/nystemServer/component/viewText/titlePopup.js","module/service/component/textarea/log.js","core/components/client/index.js","core/contentType/client/index.js","core/database/client/memdb/search.js","core/database/client/memdb/index.js","core/database/client/memdb/delete.js","core/database/client/memdb/find.js","core/database/client/memdb/get.js","core/database/client/memdb/init.js","core/database/client/memdb/save.js","core/database/client/cache.js","core/database/client/index.js","core/database/client/connection.js","core/database/client/updates.js","core/database/client/debug.js","core/database/client/storage.js","core/database/client/saveQueue.js","core/session/client/session.js","core/core/client/eventhandler.js","core/core/client/utils.js","core/core/client/nystem.js","indexScripts.js","core/connection/client/index.js","core/core/client/index.js","core/file/client/index.js","core/pwa/client/index.js","core/router/client/index.js","core/session/client/index.js"],"names":["myMoment","val","at","Date","now","startOf","UTC","getFullYear","getMonth","getDate","valueOf","getTime","format","typeByFormat","console","error","Intl","DateTimeFormat","year","month","day","YYYY","YY","M","D","MM","DD","hour","minute","module","exports","BootstrapDropdown","React","Component","constructor","props","super","this","state","expanded","toggleExpand","setState","render","self","headerProps","children","headerChildren","Array","map","typeClass","type","menuItem","item","className","onClick","role","slice","BootstrapInputWrapper","model","path","items","BootstrapPanel","header","body","classNames","BootstrapPanelOpen","classNameOpen","classNameClosed","useContext","PanelContext","BootstrapPanelOpenByPath","value","view","pathname","useLocation","match","RegExp","replace","str","p1","offset","s","test","params","getValue","forceExpanded","BootstrapPanelToggle","icon","BootstrapTab","sideways","position","push","renderAs","BootstrapVerticalTab","join","index","key","BootstrapView","Navbar","fixed","size","color","setExpanded","useState","aria-hidden","types","default","wrapper","primary","defaultWithoutPadding","compact","Panel","setSexpanded","panelElement","useRef","useEffect","storedState","app","stateStore","get","isExpanded","ref","Provider","doFunction","set","tabIndex","visibilityHidden","createContext","ViewPanelView","onClickExpand","classNameHead","panelProps","BooleanButton","setValue","text","falseText","split","btnType","falseBtnType","includes","alt","t","BooleanExposedField","undefined","UseSearch","id","_id","BooleanFields","itemTrue","itemFalse","mandatory","text_mandatory","BooleanInput","setValidated","UseValidator","validate","e","placeholder","checked","onChange","disabled","BooleanName","BooleanVibrate","UNSAFE_componentWillReceiveProps","nextProps","vibrate","componentDidMount","navigator","atState","pattern","JSON","parse","BooleanView","byType","v1","v2","ConditionalInt","useCallback","condition","i","length","field","testVal","log","parseFloat","testCondition","ConditionalUserRole","visible","session","user","contains","array1","array2","indexOf","createItem","isset","ConditionalView","reverse","substring","ConditionalViewAndOr","on","tempValue","changeTimer","clearTimeout","setTimeout","setValueView","inThis","valid","refs","testOneCondition","sum","sumValidator","parseInt","componentWillUnmount","off","MyDragAndDropContext","DragDropContext","onDragEnd","event","addeventhandler","parents","styleDraggableItem","boxSizing","opacity","pointerEvents","transform","transition","zIndex","offsetStyle","Droppable","droppableId","isDropDisabled","style","setStyle","innerRef","styleRef","current","context","provided","droppableProps","useMemo","paddingBottom","window","getComputedStyle","stop","result","getBoundingClientRect","x","y","pos","top","bottom","left","right","destination","move","over","height","Draggable","draggableId","minHeight","breakpoint","currentStyle","offsetStyleSet","start","setStyles","element","styles","Object","entries","forEach","prop","display","draggableProps","dragHandleProps","onMouseDown","baseProps","stringify","movingState","clientX","clientY","clonedElement","cloneNode","mouseMove","document","appendChild","width","then","query","mouseUp","removeEventListener","removeChild","combine","mode","reason","source","data","addEventListener","onDragStart","preventDefault","draggable","DragAndDropContext","modifiers","checkModifiers","shiftKey","metaKey","ctrlKey","altKey","DragAndDropFixedVal","myDnd","uuid","onDragEndAddValue","valueType","snapshot","DragAndDropListContext","DragAndDropList","ids","getId","valuePath","updated","splice","replaceInModel","viewFormat","fn","DragAndDropHandle","DragAndDropSortable","contentType","DragAndDropView","EmailExposedField","EmailInput","focus","clearButton","classNameInput","componentClassName","maxLength","onBlur","EmailInputNoValidation","EmailLink","EmailMailto","href","EmailSortBy","EmailVerifiedInput","add","errormsg","validated","handleChange","input","EmailView","FlatgroupInput","add2id","groupVal","startWith","getGroupVal","createElement","components","capFirst","FloatExposedField","from","setFrom","RouterUseQueryStore","saveIdFrom","to","setTo","saveIdTo","base","nolabel","modelFrom","modelTo","FloatInput","classNameLabel","selectAllOnFocus","IntLink","IntSortBy","outputFloat","tofixed","toFixed","settings","lang","FloatView","GroupInput","GroupView","IntExposedField","searchProp","onUpdate","update","classNameBase","updateCounter","modelId","filter","delayTimer","isMounted","search","offUpdate","IntInput","intVal","IntView","MatrixInput","limit","rowLabel","mapField","label","atRow","newVal","len","rowIndex","MatrixInputlist","concat","oneVal","handleKeyChange","MultigroupInput","setIds","expandable","utils","MultigroupOneInput","itemExpanded","last","info","itemExpandable","MultigroupOneView","rowClassName","MultigroupSortBy","isSortBy","handleSort","target","getAttribute","parentNode","sortBy","MultigroupView","MultilinetextExposedField","MultilinetextFields","rel","MultilinetextInput","itemValue","MultilinetextInputlist","MultilinetextItemLink","MultilinetextItemText","translate","fallback","MultilinetextList","MultilinetextView","nul","ReferenceExposedField","option","setOption","database","autoUpdate","parseFilter","count","selectModel","clone","textField","ReferenceExposedFieldViews","saveId","exact","exposed","ReferenceFirst","renderFormat","itemClassName","baseView","onReference","InputSpes","onFocus","inputEl","inFocus","setInFocus","InlineAdd","isAdding","setIsAdding","inlineAdd","onSave","close","ReferenceInput","searchVal","setSearchVal","setResult","sortby","searchCount","$all","useSearch","events","remove","addValue","atPath","addable","removeValue","clicked","itemsSelect","renderFormatSelect","ReferenceSelect","loadOption","namefield","offline","connection","ReferenceSortable","localValue","func","bind","save","componentWillReceiveProps","onDelete","addField","hashtag","addTransform","fieldBase","out","insertValues","noForm","onMissing","fieldId","onAdd","ReferenceSortBy","ReferenceView","SelectButton","trueState","trueOnState","falseState","falseOnState","SelectExposedField","setClassName","timer","renderTypes","dropdown","button","classNameItem","checkbox","inline","SelectInput","optionObj","normalizeOption","shift","noWrapper","SelectSortBy","SelectView","find","Select","SliderInput","absolute","min","max","precision","textClass","SliderLink","SliderView","TextExposedField","ClearButton","forwardRef","contents","TextLink","toFormat","addToPath","TextSortBy","DatabaseSearchContext","ev","setEv","sortbyId","reverse1","rev","setSearch","TextView","TextareaFormatted","dangerouslySetInnerHTML","__html","cutPoint","TextareaInput","TextareaLink","TextareaSortBy","TextareaView","ViewButtonAutoSave","saveIds","saveDelay","saveToDb","async","errors","reduce","res","fields","withRouter","history","go","ViewButtonEventEmitter","buttonStates","confirm","saving","success","setError","setButton","savedTimer","setSavedTimer","activeKeySaveView","setActiveKeySaveView","sendEvent","emit","subEvent","redirectToPath","router","click","handleSubmit","debug","handleKeySave","inactivateKeySaveView","activateKeySaveView","saveOnKey","baseButtonStates","deleted","location","saved","noRedirect","redirectURL","sendOnly","delete","ViewButtonReference","btnSize","ViewButtonSetValue","modelValue","ViewButtonView","ViewInViewEmpty","viewId","ViewInViewSetValue","addid","ViewInViewView","ViewLinkButton","renderType","title","ViewLinkDynamicFields","ViewLinkDynamicLink","insertVal","ViewLinkExternal","ViewLinkFields","toView","addId","ViewLinkLink","blank","ViewLinkView","Link","ViewListEmptySearchresult","searchText","$and","inverse","getStyle","extend","ViewListInfiniteSlot","slot","setSize","slotSearch","setSlotSearch","db","searchDelay","setHeight","offsetHeight","visibility","ViewListInfinite","loading","searchTotal","setPos","slotsTotal","slotLimit","total","updateTimer","updateSlots","newPos","scrollY","scrollEvent","innerWidth","resizeEvent","newTop","slots","fill","und","newHeight","ViewListInfiniteScrollPos","classNameInfo","UseEventListner","ViewListListStat","show","ViewListPager","prev","next","hasPrev","hasNext","ViewListRender","itemRenderAs","ViewListSearch","ViewListView","emptyFields","headerFields","ViewTextBreak","ViewTextToken","ViewTextTokenFallbackNew","name","ViewTextView","ConnectionCssclass","connected","connectionClass","onlineClass","offlineClass","space","ConnectionView","isConnected","setConnectedState","Offline","ContentTypeContext","ViewContextProvider","ContentTypeRender","componentName","component","category","focused","setValueAtPath","parts","lastIndexOf","ContentTypeView","addForm","itemFrom","itemTo","viewModel","propvalue","populatedViews","views","keys","toUpperCase","toLowerCase","setLoading","noAutoUpdate","firstData","savedData","doGet","diff","getDiff","applyDiff","changeData","oldValue","setData","newValue","saveData","reload","useValue","onSubmit","isValidated","validator","Promise","resolve","clearErrorValidation","secondary","danger","warning","primaryDisabled","secondaryDisabled","dangerDisabled","warningDisabled","infoDisabled","errorDisabled","defaultDisabled","sizes","xs","sm","lg","xl","Button","ErrorManager","disconnectEvent","errorEvent","connectEvent","url","line","errorTimer","errorReload","ErrorMsg","password","parentRef","localRef","setVal","valRef","elementProps","accessibilityLabel","accessible","accessibilityTraits","select","InputWrapper","pClassName","inputWidth","floatlabel","htmlFor","errorMsg","Label","Loading","inDelay","UseEvent","handler","ViewSmallComponentErrorMsg","errorSetter","tags","tag","h1","h2","h3","h4","flat","Infinity","DatabaseAddToCache","options","addMedia","doSearchDebounce","addReferencesToCache","DatabaseBaseViewSearch","updateSearch","DatabaseGet","first","DatabaseMissing","DatabaseOneSearch","inSearch","searchString","setSearchState","DatabaseSearch","subView","reversesortby","reversesortby2","reversesortby3","getFilter","searchFilter","ofilter","oneFilter","and","oneFilterIn","delay","before","onSearch","DatabaseSearchContextProvider","active","setSearchDebounce","doSearch","newSearch","isDirty","searchResult","getSearch","DatabaseShowMoreButton","amount","DatabaseView","__exact","DateExposedField","modelYear","months","toLocaleDateString","modelMonth","modelDay","daysInMonth","getArray","utc","addUTC","getByType","DateExposedYearMonth","years","fromMonth","toMonth","fromDay","toDay","setYear","setMonth","DateInput","dateType","validateAndSet","DateInputDate","inputVal","setInputVal","moment","setFromPicker","formVal","getMoment","pikaday","onSelect","firstDay","DateInputTime","inputClassName","datePart","toString","part","parseVal","DateSortBy","dateTimeFormats","dateLong","timeLong","dateTimeLong","dateTimeNoYear","dateTimeNoYearDay","dateNoYearDay","timeDay","DateView","dateFormat","relative","hourInMs","formatDate","fromNow","setInterval","clearInterval","domain","secure","Image","src","ViewImageView","filename","isInstalled","standalone","matchMedia","matches","ServiceWorkerSelectBox","install","setInstall","installable","runInstall","ServiceWorkerView","ViewButtonDebugAndClear","appVersion","Inserter","exclude","propMatch","toClassString","Boolean","RouterBackHandler","routerHistory","atNew","found","rest","is404","setIs404","parentElement","nodeName","RouterRedirect","useHistory","positions","documentElement","scrollTop","RouterScrollpos","RouterState","getPath","storage","getItem","redirect","nextContext","setItem","contextTypes","PropTypes","object","toType","int","float","array","reg","getQueryValue","RouterView","RouterViewByHistory","itemsByPosition","paths","historyPos","sort","a","b","PasswordConfirmInput","value1","setValue1","value2","setValue2","svalue","autoComplete","PasswordInput","PasswordOldpassword","PasswordView","RoleView","sessionChange","Role","isVisible","logout","hasNoRole","SessionNoRole","setVisible","check","SessionRole","userrole","updateVisibility","reqRole","userRole","SessionUser","userid","toformat","SessionView","saveButton","setSaveButton","login","IconView","deg","d","points","fill-rule","stroke","strokeWidth","strokeLinecap","strokeLinejoin","Icon","xmlns","viewBox","iconsViewPorts","rotate","icons","StyleEventOutside","classNameInner","innerClicked","HideOnNotOverContext","StyleOnOverHandle","setOver","onMouseOver","onMouseOut","StyleOnOver","classNameOut","classNameOver","StyleView","ViewportContext","ViewportContextProvider","breakpoints","md","Viewport","comp","density","devicePixelRatio","innerHeight","handleResize","Math","clientWidth","clientHeight","ExtensionBackgroundIndex","updateTabs","tab","siteScript","tabs","addToEventLog","updateTabSettings","recording","eventLog","tabId","extensionEvent","doEvent","chrome","tabLoadCallback","status","redirected","tabLoading","callback","doingEvent","sendMessage","connect","saveTab","pathErrorClick","runtime","onMessage","addListener","request","sender","sendResponse","tabOptions","response","newPath","listenTo","forceUpdate","tabField","changed","newUrl","webNavigation","onCompleted","frameId","onBeforeNavigate","onCreated","onUpdated","changeInfo","onRemoved","contextMenus","create","onclick","contexts","extensionIcon","browserAction","canvas","setIcon","setBadgeBackgroundColor","setBadgeText","canvasContext","getContext","imageData","getImageData","ExtensionSearch","missing","setMissing","extract","currentWindow","exec","ExtensionTab","invert","isMatch","setIsMatch","ExtensionView","inExtension","protocol","BootstrapComputedClass","row","DatabaseFilterResult","filterSearch","definition","viewFields","Index","OverlayAccessible","overlayEvent","open","accessibleId","_handleScreenReaderToggled","isEnabled","screenReaderEnabled","getChildContext","overlayId","string","childContextTypes","OverlayClose","handleEvent","do","OverlayCloseButton","toPath","OverlayContextObject","OverlayContext","Consumer","OverlayContextProvider","OverlayIndex","setOpenState","child","OverlayMenu","OverlayOpen","OverlayOverlay","mounted","findPosition","obj","offsetLeft","offsetTop","offsetParent","getScroll","pageYOffset","pageXOffset","r","scrollLeft","modal","shouldComponentUpdate","nextState","OverlayView","link","ReferenceDynamicForm","require","dynamicForm","generate","transformContentType","ViewButtonMirrorSave","oldVal","saveOn","saveVals","ViewInViewSetBaseViewValue","toField","fromField","Portal","setElement","createPortal","MouseOver","isOver","setIsOver","ViewTextTitlePopup","popup","overPos","TextareaLog","setLog","parseLog","colors","fullLog","updateLog","clearLog","wrapperClass","0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","ReactDOM","viewCreatorFields","deepCopy","dynamicFields","fullId","substr","flattenFields","fullPath","flatten","subFields","populateViews","mapFn","byField","curr","sortByFunc","sortBys","sortFuncs","up","down","sortFuncInt","sortFuncText","collection","fieldByType","field2IdType","extends","_crdate","dbArray","addFields2All","searchFor","oneSearchField","oneSearchValue","oneField","searchField","searchValue","tmp","getFilterArray","createRegExp","expression","setSearchDefaults","thisItem","matchVal","filterResult","assign","oldData","dbIndex","deleteM","testIfSet","findM","getM","initM","saveM","searchM","machinename","getKey","send","action","inCache","updates","connectionM","updateGet","timer03","timer20","timeoutTimes","updateFrequency","updateEvent","onData","callbackId","delItem","values","_chdate","date","updatesM","debugM","memdbM","noClientCache","insertItem","chdate","searchCache","allInCache","cacheM","setItemDebounce","storageM","storageId","saveQueue","saveQueueM","all","contentTypes","init","clearCache","userContentType","sessionKey","autoLoginUser","sessionid","loginEvent","removeItem","noCallback","userStore","getStackTrace","Error","captureStackTrace","stack","column","host","head","some","scriptEl","setAttribute","onload","addScript","sourceMap","SourceMapConsumer","initialize","consumer","fetch","json","originalPositionFor","addEventHandler","mapevents","callbacks","callbacksprio","callbacksStack","addEventHandlerInitiator","random","addEventHandlers","prio","addEvent","removeEvent","getCallTrace","reject","catch","skipNext","defectiveCallback","___settings___","buildsettings","translations","S4","crypto","getRandomValues","buf","Uint16Array","num","ret","guidGenerator","renderer","unmountComponentAtNode","URL","native","webSocket","WebSocket","isOnline","reconnect","closed","failCount","counter","callbackid","msg","readyState","timeout","broadcast","waitOnConnect","cont","openconnection","onopen","onclose","onerror","onmessage","message","parsedfilter","states","domPathId","unshift","tagName","keyCode","platform","core","localStorage","memstore","file","serviceWorker","register","registration","err","deferredPrompt","prompt","userChoice","choiceResult","outcome","regExpVersion","caches","clear","clientAppVersion","pwa","parseURL","param","sessionM","addContents","token","method","inited"],"mappings":"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AI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAA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","file":"static/js/main.1d737e44.chunk.js","sourcesContent":["\"use strict\";\r\n\r\nconst myMoment = (val) => {\r\n  const at = new Date(val || Date.now());\r\n\r\n  return {\r\n    startOf: () =>\r\n      myMoment(Date.UTC(at.getFullYear(), at.getMonth(), at.getDate())),\r\n    valueOf: () => at.getTime(),\r\n    format: (format) => {\r\n      if (!typeByFormat[format]) console.error(\"Missing format\", format);\r\n\r\n      return typeByFormat[format].format(at);\r\n    },\r\n  };\r\n};\r\n\r\nconst typeByFormat = {\r\n  \"YYYY-MM-DD\": new Intl.DateTimeFormat(\"sv-SE\", {\r\n    year: \"numeric\",\r\n    month: \"numeric\",\r\n    day: \"numeric\",\r\n  }),\r\n  YYYY: new Intl.DateTimeFormat(\"sv-SE\", { year: \"numeric\" }),\r\n  YY: new Intl.DateTimeFormat(\"sv-SE\", { year: \"2-digit\" }),\r\n  M: new Intl.DateTimeFormat(\"sv-SE\", { month: \"numeric\" }),\r\n  D: new Intl.DateTimeFormat(\"sv-SE\", { day: \"numeric\" }),\r\n  MM: new Intl.DateTimeFormat(\"sv-SE\", { month: \"2-digit\" }),\r\n  DD: new Intl.DateTimeFormat(\"sv-SE\", { day: \"2-digit\" }),\r\n  \"YYYY-MM-DD HH:mm\": new Intl.DateTimeFormat(\"sv-SE\", {\r\n    year: \"numeric\",\r\n    month: \"numeric\",\r\n    day: \"numeric\",\r\n    hour: \"numeric\",\r\n    minute: \"numeric\",\r\n  }),\r\n  \"HH:mm\": new Intl.DateTimeFormat(\"sv-SE\", {\r\n    hour: \"numeric\",\r\n    minute: \"numeric\",\r\n  }),\r\n  \"H:mm\": new Intl.DateTimeFormat(\"sv-SE\", {\r\n    hour: \"numeric\",\r\n    minute: \"numeric\",\r\n  }),\r\n};\r\n\r\nmodule.exports = myMoment;\r\n\r\n/*\r\n\r\nInput\tExample\tDescription\r\nYYYY\t2014\t4 or 2 digit year. Note: Only 4 digit can be parsed on strict mode\r\nYY\t14\t2 digit year\r\nY\t-25\tYear with any number of digits and sign\r\nQ\t1..4\tQuarter of year. Sets month to first month in quarter.\r\nM MM\t1..12\tMonth number\r\nMMM MMMM\tJan..December\tMonth name in locale set by moment.locale()\r\nD DD\t1..31\tDay of month\r\nDo\t1st..31st\tDay of month with ordinal\r\nDDD DDDD\t1..365\tDay of year\r\nX\t1410715640.579\tUnix timestamp\r\nx\t1410715640579\tUnix ms timestamp\r\n\r\nhttps://devhints.io/wip/intl-datetime\r\nhttps://momentjscom.readthedocs.io/en/latest/moment/04-displaying/02-fromnow/\r\n\r\nconst dateTimeFormats = {\r\n  dateLong: \"YYYY-MM-DD\",\r\n  timeLong: \"H:mm\",\r\n  dateTimeLong: \"YYYY-MM-DD HH:mm\",\r\n  dateTimeNoYear: \"D/M H:mm\",\r\n  dateTimeNoYearDay: \"ddd D/M H:mm\",\r\n  dateNoYearDay: \"ddd D/M\",\r\n  timeDay: \"ddd D/M H:mm\",\r\n  day: \"dddd\",\r\n};\r\n*/\r\n","import React from \"react\";\r\nimport { Button } from \"nystem-components\";\r\n\r\nclass BootstrapDropdown extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      expanded: this.props.expanded\r\n    };\r\n  }\r\n  toggleExpand() {\r\n    this.setState({\r\n      expanded: !this.state.expanded\r\n    });\r\n  }\r\n  render() {\r\n    function headerContent() {\r\n      return <div />;\r\n    }\r\n    const self = this;\r\n    const headerProps = this.props.children[0].props;\r\n    const headerChildren =\r\n      headerProps.children instanceof Array\r\n        ? headerProps.children.map(headerContent)\r\n        : headerProps.children;\r\n    let typeClass = this.props.type ? this.props.type : \"\";\r\n    if (!headerProps) return null;\r\n    function menuItem(item) {\r\n      return <li>{item}</li>;\r\n    }\r\n    function bodyContent() {\r\n      if (self.state.expanded)\r\n        return (\r\n          <ul className=\"dropdown-menu\" role=\"menu\">\r\n            {self.props.children.slice(1).map(menuItem)}\r\n          </ul>\r\n        );\r\n      return \"\";\r\n    }\r\n    if (this.props.className) typeClass += ` ${this.props.className}`;\r\n    if (this.state.expanded) typeClass += \" open\";\r\n    return (\r\n      <div className={`btn-group${typeClass}`}>\r\n        <Button type=\"secondary\" onClick={this.toggleExpand}>\r\n          {headerChildren} <span className=\"caret\" />\r\n        </Button>\r\n        {bodyContent()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default BootstrapDropdown;\r\n","import React from \"react\";\r\nimport { InputWrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst BootstrapInputWrapper = ({ model, path }) => {\r\n  const { item } = model;\r\n\r\n  return (\r\n    <InputWrapper model={model}>\r\n      <ContentTypeRender path={path} items={item} />\r\n    </InputWrapper>\r\n  );\r\n};\r\nexport default BootstrapInputWrapper;\r\n","import React from \"react\";\r\nimport { Panel, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst BootstrapPanel = ({ model, path }) => {\r\n  const { item, header, typeClass } = model;\r\n\r\n  return (\r\n    <Panel\r\n      {...model}\r\n      type={typeClass}\r\n      header={<ContentTypeRender path={path} items={header} />}\r\n      body={<ContentTypeRender path={path} items={item} />}\r\n    />\r\n  );\r\n};\r\nexport default BootstrapPanel;\r\n","import React, { useContext } from \"react\";\r\nimport { Wrapper, ContentTypeRender, PanelContext } from \"nystem-components\";\r\n\r\nconst classNames = (className) =>\r\n  !className ? [] : className instanceof Array ? className : [className];\r\n\r\nconst BootstrapPanelOpen = ({ model, path, children }) => {\r\n  const { className, item, classNameOpen, classNameClosed } = model;\r\n  const { expanded } = useContext(PanelContext);\r\n\r\n  return (\r\n    <Wrapper\r\n      className={[\r\n        ...classNames(className),\r\n        ...(expanded ? classNames(classNameOpen) : classNames(classNameClosed)),\r\n      ]}\r\n    >\r\n      {children || <ContentTypeRender path={path} items={item} />}\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default BootstrapPanelOpen;\r\n","import React from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { Panel, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst BootstrapPanelOpenByPath = ({ model, path, value, view }) => {\r\n  const { item, header, typeClass } = model;\r\n  const { pathname } = useLocation();\r\n\r\n  const insertVal = (val) =>\r\n    val &&\r\n    val.replace(/\\{([a-z_.0-9]+)\\}/gim, (str, p1, offset, s) => {\r\n      if (/pathItem[0-9]/.test(p1) && view.params) return view.params[p1[8]];\r\n      return view.getValue(p1.replace(\"..\", path));\r\n    });\r\n\r\n  const expanded = pathname.match(new RegExp(insertVal(model.match)));\r\n\r\n  return (\r\n    <Panel\r\n      {...model}\r\n      forceExpanded={expanded}\r\n      type={typeClass}\r\n      header={<ContentTypeRender path={path} items={header} />}\r\n      body={<ContentTypeRender path={path} items={item} />}\r\n    />\r\n  );\r\n};\r\n\r\nexport default BootstrapPanelOpenByPath;\r\n","import React, { useContext } from \"react\";\r\nimport {\r\n  Wrapper,\r\n  ContentTypeRender,\r\n  Icon,\r\n  PanelContext,\r\n} from \"nystem-components\";\r\n\r\nconst BootstrapPanelToggle = ({ model, path, children }) => {\r\n  const { className, item } = model;\r\n  const { toggleExpand, expanded } = useContext(PanelContext);\r\n\r\n  return (\r\n    <Wrapper className={className} {...toggleExpand}>\r\n      {model.icon && (\r\n        <Icon\r\n          icon={expanded ? \"cheveron-down\" : \"cheveron-right\"}\r\n          className=\"w-8 h-8 p-1 pl-0 pointer\"\r\n        />\r\n      )}\r\n      {children || <ContentTypeRender path={path} items={item} />}\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default BootstrapPanelToggle;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst BootstrapTab = ({ model, path }) => {\r\n  const { className, sideways, position, item } = model;\r\n  className.push(\"nav\");\r\n  className.push(\"nav-tabs\");\r\n\r\n  if (sideways) className.push(\"sideways\");\r\n  if (position) className.push(position);\r\n\r\n  return (\r\n    <Wrapper renderAs=\"ul\" className={className}>\r\n      <ContentTypeRender path={path} items={item || []} />\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default BootstrapTab;\r\n","import React from \"react\";\r\nimport { ContentTypeRender } from \"nystem-components\";\r\n\r\nconst BootstrapVerticalTab = ({ model, path }) => {\r\n  const createItem = (item, index) => (\r\n    <ContentTypeRender key={index} path={path} items={[item]} />\r\n  );\r\n\r\n  const className = model.className ? model.className.join(\" \") : \"\";\r\n  return <ul className={className}>{model.item.map(createItem)}</ul>;\r\n};\r\n\r\nexport default BootstrapVerticalTab;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst BootstrapView = ({ model, path }) => {\r\n  const { className, renderAs, item } = model;\r\n\r\n  return (\r\n    <Wrapper className={className} renderAs={renderAs}>\r\n      <ContentTypeRender path={path} items={item} />\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default BootstrapView;\r\n","import React, { useState } from \"react\";\r\nimport { Button } from \"nystem-components\";\r\n\r\nconst Navbar = ({\r\n  fixed = \" fixed-top\",\r\n  size = \"md\",\r\n  color = \"light\",\r\n  children\r\n}) => {\r\n  const [expanded, setExpanded] = useState(false);\r\n\r\n  return (\r\n    <nav\r\n      className={`navbar navbar-expand-md ${color} flex-${size}-row bd-navbar ${fixed}`}\r\n    >\r\n      {children[0]}\r\n      <Button\r\n        className=\"navbar-toggler navbar-toggler-right\"\r\n        onClick={() => setExpanded(!expanded)}\r\n        aria-hidden=\"true\"\r\n      >\r\n        <span className=\"navbar-toggler-icon\" />\r\n      </Button>\r\n      <div\r\n        onClick={() => setExpanded(!expanded)}\r\n        className={\r\n          expanded\r\n            ? \"navbar-collapse collapse show\"\r\n            : \"navbar-collapse collapse\"\r\n        }\r\n      >\r\n        {children.slice(1)}\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\nexport default Navbar;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { Wrapper, PanelContext } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst types = {\r\n  default: {\r\n    wrapper: \"mb-3 border shadow rounded\",\r\n    body: \"p-3\",\r\n    header: \"bg-gray-200 pointer p-1 pl-3\",\r\n  },\r\n  primary: {\r\n    wrapper: \"mb-3 border shadow rounded bg-blue-600 border-blue-600\",\r\n    body: \"p-3 bg-white rounded\",\r\n    header: \"text-white pointer p-1 pl-3\",\r\n  },\r\n  defaultWithoutPadding: {\r\n    wrapper: \"mb-3 border shadow rounded\",\r\n    body: \"\",\r\n    header: \"bg-gray-200 pointer pl-2 pr-1\",\r\n  },\r\n  compact: {\r\n    wrapper: \"mb-1\",\r\n    body: \"pl-3\",\r\n    header: \"\",\r\n  },\r\n};\r\n\r\nconst addClick = (doFunction) => ({\r\n  onClick: doFunction,\r\n  role: \"button\",\r\n  tabIndex: \"0\",\r\n});\r\n\r\nconst Panel = ({ body, header, className, ...props }) => {\r\n  const [expanded, setSexpanded] = useState(props.expanded);\r\n  const panelElement = useRef(null);\r\n\r\n  const toggleExpand = () => {\r\n    setSexpanded(!expanded);\r\n    app().stateStore.set(panelElement, !expanded, props.stateStore);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const storedState = app().stateStore.get(panelElement, props.stateStore);\r\n    if (storedState === null || storedState === expanded) return;\r\n    setSexpanded(storedState);\r\n  }, [expanded, props.stateStore]);\r\n\r\n  const type = types[props.type || \"default\"];\r\n  const isExpanded = expanded || props.forceExpanded;\r\n\r\n  return (\r\n    <Wrapper ref={panelElement} className={[type.wrapper, className]}>\r\n      <Wrapper className={type.header}>\r\n        <PanelContext.Provider\r\n          value={{ toggleExpand: addClick(toggleExpand), expanded: isExpanded }}\r\n        >\r\n          {header}\r\n        </PanelContext.Provider>\r\n      </Wrapper>\r\n      {isExpanded ? (\r\n        <Wrapper className={type.body}>{body}</Wrapper>\r\n      ) : props.visibilityHidden ? (\r\n        <Wrapper className={[type.body, \"hidden\"]}>{body}</Wrapper>\r\n      ) : null}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Panel;\r\n","import React from \"react\";\r\n\r\nconst PanelContext = React.createContext();\r\nexport default PanelContext;\r\n","import React from \"react\";\r\nimport { Panel, Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst ViewPanelView = ({ model, path }) => {\r\n  const {\r\n    onClickExpand,\r\n    classNameHead,\r\n    item,\r\n    header,\r\n    typeClass,\r\n    ...panelProps\r\n  } = model;\r\n\r\n  return (\r\n    <Panel {...panelProps} type={typeClass}>\r\n      <Wrapper\r\n        renderAs=\"h3\"\r\n        onClickExpand={onClickExpand}\r\n        className={classNameHead}\r\n      >\r\n        <ContentTypeRender path={path} items={header || []} />\r\n      </Wrapper>\r\n      <ContentTypeRender path={path} items={item || []} />\r\n    </Panel>\r\n  );\r\n};\r\nexport default ViewPanelView;\r\n","import React from \"react\";\r\nimport { Button, Icon } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst classNames = (className) =>\r\n  !className ? [] : className instanceof Array ? className : [className];\r\n\r\nconst BooleanButton = ({ setValue, model, value }) => {\r\n  const [text, className = []] = (value\r\n    ? model.text\r\n    : model.falseText || model.text\r\n  ).split(\":\");\r\n\r\n  return (\r\n    <Button\r\n      type={value ? model.btnType : model.falseBtnType}\r\n      size={model.size}\r\n      className={[...classNames(className), ...classNames(model.className)]}\r\n      onClick={() => setValue(!value)}\r\n    >\r\n      {[\r\n        \"code\",\r\n        \"pause\",\r\n        \"play\",\r\n        \"folder\",\r\n        \"cog\",\r\n        \"wallet\",\r\n        \"location\",\r\n      ].includes(text) ? (\r\n        <Icon className=\"w-4 h-4\" icon={text} alt={text} />\r\n      ) : (\r\n        app().t(text)\r\n      )}\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default BooleanButton;\r\n","import React, { useState } from \"react\";\r\nimport { Button, Wrapper, UseSearch } from \"nystem-components\";\r\n\r\nconst BooleanExposedField = ({ model, view }) => {\r\n  const [value, setValue] = useState(undefined);\r\n  const { className, text } = model;\r\n  UseSearch({ view, id: model.id, value });\r\n\r\n  const options = [\r\n    {\r\n      _id: \"true\",\r\n      text: \"True\",\r\n    },\r\n    {\r\n      _id: \"false\",\r\n      text: \"False\",\r\n    },\r\n  ];\r\n\r\n  const option = (item) => {\r\n    if (value === item._id)\r\n      return (\r\n        <Button\r\n          onClick={() => setValue(item._id)}\r\n          type=\"primary\"\r\n          key={item._id}\r\n          value={item._id}\r\n        >\r\n          {item.text}\r\n        </Button>\r\n      );\r\n\r\n    return (\r\n      <Button\r\n        onClick={() => setValue(item._id)}\r\n        type=\"secondary\"\r\n        key={item._id}\r\n        value={item._id}\r\n      >\r\n        {item.text}\r\n      </Button>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Wrapper className={className}>\r\n      <Wrapper className=\"mr-2\">{text}</Wrapper>\r\n      {options.map(option)}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default BooleanExposedField;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst BooleanFields = ({ setValue, model, value, path }) => {\r\n  const { itemTrue, itemFalse, className } = model;\r\n  return (\r\n    <Wrapper className={className} onClick={() => setValue(!value)}>\r\n      <ContentTypeRender\r\n        path={path.replace(model.id, \"\")}\r\n        items={value ? itemTrue : itemFalse}\r\n      />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default BooleanFields;\r\n","const text_mandatory = \"Field is mandatory\";\r\n\r\nexport default ({ value, model }) =>\r\n  model.mandatory && !value && (model.text_mandatory || text_mandatory);\r\n","import React from \"react\";\r\nimport { InputWrapper, Input, Button, UseValidator } from \"nystem-components\";\r\nimport validate from \"./validate\";\r\n\r\nconst BooleanInput = ({ model, setValue, value, view, render }) => {\r\n  const [error, setValidated] = UseValidator({ view, validate, value, model });\r\n\r\n  const handleChangeButton = (e) => {\r\n    setValidated(true);\r\n    setValue(!value);\r\n  };\r\n\r\n  if (model.render === \"button\" || render === \"button\")\r\n    return (\r\n      <Button\r\n        type={value ? \"primary\" : \"secondary\"}\r\n        className={model.className}\r\n        onClick={handleChangeButton}\r\n        size=\"xs\"\r\n      >\r\n        {model.text}\r\n      </Button>\r\n    );\r\n\r\n  return (\r\n    <InputWrapper model={model} error={error}>\r\n      <Input\r\n        placeholder={model.text}\r\n        checked={value || false}\r\n        onChange={() => setValue(!value)}\r\n        disabled={model.disabled}\r\n        type=\"checkbox\"\r\n      />\r\n    </InputWrapper>\r\n  );\r\n};\r\n\r\nexport default BooleanInput;\r\n","import React from \"react\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nconst BooleanName = ({ model, value }) =>\r\n  value ? <Wrapper className={model.className}>{model.text}</Wrapper> : null;\r\n\r\nexport default BooleanName;\r\n","import React from \"react\";\r\nclass BooleanVibrate extends React.Component {\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (this.props.value !== nextProps.value) this.vibrate(nextProps);\r\n  }\r\n  componentDidMount() {\r\n    this.vibrate(this.props);\r\n  }\r\n  vibrate(props) {\r\n    if (!navigator.vibrate) return;\r\n    let { atState, pattern } = props.model;\r\n    if (props.value === atState)\r\n      navigator.vibrate(pattern ? JSON.parse(pattern) : 300);\r\n  }\r\n  render() {\r\n    return null;\r\n  }\r\n}\r\nexport default BooleanVibrate;\r\n","import React from \"react\";\r\nimport { Icon } from \"nystem-components\";\r\n\r\nconst BooleanView = ({ model, value }) =>\r\n  value ? <Icon className={model.className} type=\"checkmark\" /> : null;\r\n\r\nexport default BooleanView;\r\n","import React, { useCallback } from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst byType = {\r\n  \"<\": (v1, v2) => v1 < v2,\r\n  \">\": (v1, v2) => v1 > v2,\r\n  \"<=\": (v1, v2) => v1 <= v2,\r\n  \">=\": (v1, v2) => v1 >= v2,\r\n};\r\n\r\nconst ConditionalInt = ({ view, model, value, path }) => {\r\n  const testCondition = useCallback(() => {\r\n    const { condition } = model;\r\n    for (let i = 0; i < condition.length; i++) {\r\n      const [field, test] = condition[i];\r\n      const val = view.getValue(field);\r\n\r\n      const [, type, testVal] = test.match(/([<>=]{1,2})(.+)/im) || [];\r\n      console.log([type, testVal]);\r\n      if (byType[type](parseFloat(val), parseFloat(testVal))) return true;\r\n    }\r\n    return false;\r\n  }, [model, view]);\r\n\r\n  if (testCondition())\r\n    return (\r\n      <Wrapper className={model.className}>\r\n        <ContentTypeRender path={path} items={model.item} />\r\n      </Wrapper>\r\n    );\r\n  return null;\r\n};\r\n\r\nexport default ConditionalInt;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nclass ConditionalUserRole extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.view = props.view;\r\n    const state = {\r\n      value: props.value\r\n    };\r\n    state.visible = app().session.user\r\n      ? this.contains(app().session.user.role, this.model.role)\r\n      : false;\r\n    this.state = state;\r\n  }\r\n  contains(array1, array2) {\r\n    if (typeof array1 === \"string\") array1 = [array1];\r\n    if (typeof array2 === \"string\") array2 = [array2];\r\n\r\n    for (let i = 0; i < array1.length; i++)\r\n      if (array2.indexOf(array1[i]) !== -1) return true;\r\n\r\n    return false;\r\n  }\r\n  render() {\r\n    const className = this.props.model.className\r\n      ? this.props.model.className.join(\" \")\r\n      : \"\";\r\n    if (this.state.visible)\r\n      return (\r\n        <Wrapper className={className}>\r\n          {this.model.item.map(this.props.view.createItem, this)}\r\n        </Wrapper>\r\n      );\r\n    return null;\r\n  }\r\n}\r\nexport default ConditionalUserRole;\r\n","import React, { useCallback } from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst isset = (val) => !!val && !(val instanceof Array && val.length === 0);\r\n\r\nconst ConditionalView = ({ view, model, value, path }) => {\r\n  const testCondition = useCallback(() => {\r\n    const { condition } = model;\r\n    for (let i = 0; i < condition.length; i++) {\r\n      const val = view.getValue(condition[i][0]);\r\n      let test = condition[i][1];\r\n      if (test === \"false\") {\r\n        if (!isset(val)) return true;\r\n        continue;\r\n      }\r\n      if (test === \"true\") {\r\n        if (isset(val)) return true;\r\n        continue;\r\n      }\r\n      const reverse = test[0] === \"!\";\r\n      if (reverse) test = test.substring(1);\r\n      test = new RegExp(`^${test}$`, \"i\");\r\n      if (test.test(val)) {\r\n        if (!reverse) return true;\r\n      } else if (reverse) return true;\r\n    }\r\n    return false;\r\n  }, [model, view]);\r\n\r\n  if (testCondition())\r\n    return (\r\n      <Wrapper className={model.className}>\r\n        <ContentTypeRender path={path} items={model.item} />\r\n      </Wrapper>\r\n    );\r\n  return null;\r\n};\r\n\r\nexport default ConditionalView;\r\n","import React from \"react\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nclass ConditionalViewAndOr extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.view = props.view;\r\n    const state = {\r\n      value: this.view.value\r\n    };\r\n    if (!state.value) state.value = {};\r\n    state.visible = this.testCondition(state.value);\r\n    this.view.on(\"change\", this.onChange);\r\n    this.tempValue = {};\r\n    this.state = state;\r\n  }\r\n  setValue(id, value) {\r\n    return this.view.setValue(id, value);\r\n  }\r\n  onChange(id, value) {\r\n    if (this.changeTimer) clearTimeout(this.changeTimer);\r\n    this.changeTimer = setTimeout(this.setValueView, 0);\r\n  }\r\n  setValueView() {\r\n    this.changeTimer = false;\r\n    if (this.inThis) return;\r\n    this.inThis = true;\r\n    const { value } = this.view;\r\n    const visible = this.testCondition(value);\r\n    /* if (!visible && this.state.visible)\r\n      for (let i=0;i<this.model.item.length;i++){\r\n        if (this.model.item[i].id){\r\n          this.tempValue[this.model.item[i].id] = value[this.model.item[i].id];\r\n          this.setValue(this.model.item[i].id);\r\n        } else\r\n        if (this.model.item[i].item){\r\n          for (let j=0;j<this.model.item[i].item.length;j++)\r\n            if (this.model.item[i].item[j].id)\r\n              this.setValue(this.model.item[i].item[j].id);\r\n        } else\r\n        if (this.refs['component'+i].clear)\r\n          this.refs['component'+i].clear();\r\n      } else\r\n      if (visible && !this.state.visible)\r\n        for (let i=0;i<this.model.item.length;i++)\r\n          if (this.model.item[i].id && typeof value[this.model.item[i].id] === 'undefined')\r\n            this.setValue(this.model.item[i].id,this.tempValue[this.model.item[i].id]);*/\r\n\r\n    this.setState({\r\n      value: value,\r\n      visible: visible\r\n    });\r\n    this.inThis = false;\r\n  }\r\n  valid() {\r\n    let valid = true;\r\n    if (this.state.visible)\r\n      for (let i = 0; i < this.model.item.length; i++)\r\n        if (!this.refs[`component${i}`].valid()) valid = false;\r\n    return valid;\r\n  }\r\n  visible() {\r\n    return this.state.visible;\r\n  }\r\n  testCondition(value) {\r\n    const { condition } = this.model;\r\n    if (!condition || !condition.length) return false;\r\n\r\n    function testOneCondition(condition) {\r\n      const key = condition[0];\r\n      const val = value[key];\r\n      let test = condition[1];\r\n      if (test === \"false\" || test === false) return !val;\r\n      if (test === \"true\" || test === true) return !!val;\r\n      const reverse = test[0] === \"!\";\r\n      if (reverse) test = test.substring(1);\r\n      test = new RegExp(`^${test}$`, \"i\");\r\n      if (test.test(val)) {\r\n        if (!reverse) return true;\r\n      } else if (reverse) return true;\r\n      return false;\r\n    }\r\n\r\n    let valid = true;\r\n    let sum = false;\r\n    const sumValidator = function(condition) {\r\n      let sum = 0;\r\n      condition = condition.split(\"||\");\r\n      return function(valid) {\r\n        if (typeof valid !== \"undefined\" && valid) sum++;\r\n        for (let i = 0; i < condition.length; i++)\r\n          if (parseInt(condition[i], 10) === sum) return true;\r\n        return false;\r\n      };\r\n    };\r\n    for (let i = 0; i < condition.length; i++) {\r\n      if (condition[i][0] === \"||\") {\r\n        if (sum) {\r\n          valid = sum();\r\n          sum = false;\r\n        }\r\n        if (valid) return true;\r\n        valid = true;\r\n      } else if (condition[i][0] === \"<sum>\") {\r\n        sum = sumValidator(condition[i][1]);\r\n      } else if (sum) sum(testOneCondition(condition[i]));\r\n      else valid = testOneCondition(condition[i]) && valid;\r\n    }\r\n    if (sum) valid = sum();\r\n    return valid;\r\n  }\r\n  componentWillUnmount() {\r\n    this.props.view.off(\"change\", this.onChange);\r\n  }\r\n  render() {\r\n    const { model, view } = this.props;\r\n    if (this.state.visible)\r\n      return (\r\n        <Wrapper className={model.className}>\r\n          {model.item.map(view.createItem, this)}\r\n        </Wrapper>\r\n      );\r\n    return null;\r\n  }\r\n}\r\nexport default ConditionalViewAndOr;\r\n","// Same as react-beautiful-dnd but more levels than 2\r\n\r\nimport React, { useState, useRef, useEffect, useContext, useMemo } from \"react\";\r\nimport app from \"nystem\";\r\n\r\nconst MyDragAndDropContext = React.createContext();\r\n\r\nexport const DragDropContext = ({ children, onDragEnd }) => {\r\n  const event = app().addeventhandler();\r\n\r\n  useEffect(() => {\r\n    event.on(\"onDragEnd\", onDragEnd);\r\n  }, [event, onDragEnd]);\r\n\r\n  return (\r\n    <MyDragAndDropContext.Provider value={{ event, parents: [] }}>\r\n      {children}\r\n    </MyDragAndDropContext.Provider>\r\n  );\r\n};\r\n\r\nconst styleDraggableItem = {\r\n  boxSizing: \"border-box\",\r\n  opacity: null,\r\n  pointerEvents: \"none\",\r\n  position: \"fixed\",\r\n  transform: null,\r\n  transition: \"opacity 0.2s cubic-bezier(0.2, 0, 0, 1)\",\r\n  zIndex: 4500,\r\n};\r\nconst offsetStyle = {\r\n  transform: \"translate(0px,0px)\",\r\n  transition:\r\n    \"transform 0.33s cubic-bezier(.2,1,.1,1), opacity 0.33s cubic-bezier(.2,1,.1,1)\",\r\n};\r\n\r\nexport const Droppable = ({ droppableId, type, children, isDropDisabled }) => {\r\n  const [style, setStyle] = useState(null);\r\n  const innerRef = useRef();\r\n  const styleRef = useRef();\r\n  styleRef.current = style;\r\n\r\n  const context = useContext(MyDragAndDropContext);\r\n  const { event } = context;\r\n\r\n  const provided = {\r\n    droppableProps: { style: style || offsetStyle },\r\n    innerRef,\r\n  };\r\n\r\n  const parents = useMemo(\r\n    () => [\r\n      ...context.parents,\r\n      ...(context.droppableId ? [context.droppableId] : []),\r\n    ],\r\n    [context.droppableId, context.parents]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (isDropDisabled) return;\r\n\r\n    const paddingBottom = parseInt(\r\n      window.getComputedStyle(innerRef.current).paddingBottom,\r\n      10\r\n    );\r\n\r\n    const stop = (result) => {\r\n      const size = innerRef.current.getBoundingClientRect();\r\n      setStyle(null);\r\n      const { x, y } = result.pos;\r\n\r\n      if (y < size.top || y > size.bottom || x < size.left || x > size.right)\r\n        return;\r\n\r\n      if (result.destination.parents.includes(droppableId)) return;\r\n\r\n      return {\r\n        ...result,\r\n        destination: { ...result.destination, droppableId, parents },\r\n      };\r\n    };\r\n\r\n    const move = (result) => {\r\n      if (!innerRef.current) return;\r\n\r\n      const size = innerRef.current.getBoundingClientRect();\r\n      const { x, y } = result;\r\n\r\n      if (y < size.top || y > size.bottom || x < size.left || x > size.right)\r\n        return;\r\n\r\n      if (result.parents.includes(droppableId)) return;\r\n\r\n      return { ...result, over: droppableId, parents };\r\n    };\r\n\r\n    const over = ({ over, height }) => {\r\n      if (!innerRef.current) return;\r\n\r\n      if (over !== droppableId) {\r\n        if (styleRef.current) setStyle(null);\r\n        return;\r\n      }\r\n      if (!styleRef.current)\r\n        setStyle({ ...offsetStyle, paddingBottom: paddingBottom + height });\r\n    };\r\n\r\n    event.on(`${type}Over`, over);\r\n    event.on(`${type}Move`, move);\r\n    event.on(`${type}Stop`, 100, stop);\r\n    return () => {\r\n      event.off(`${type}Over`, over);\r\n      event.on(`${type}Move`, move);\r\n      event.off(`${type}Stop`, stop);\r\n    };\r\n  }, [droppableId, event, isDropDisabled, parents, type]);\r\n\r\n  return (\r\n    <MyDragAndDropContext.Provider\r\n      value={{ ...context, parents, droppableId, isDropDisabled, type }}\r\n    >\r\n      {children(provided, {})}\r\n    </MyDragAndDropContext.Provider>\r\n  );\r\n};\r\n\r\nexport const Draggable = ({ draggableId, index, children, minHeight = 0 }) => {\r\n  const [style, setStyle] = useState(null);\r\n\r\n  const innerRef = useRef();\r\n  const { event, droppableId, isDropDisabled, type } = useContext(\r\n    MyDragAndDropContext\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (isDropDisabled) return;\r\n\r\n    let breakpoint;\r\n    let currentStyle = null;\r\n\r\n    let offsetStyleSet = null;\r\n    const start = (props) => {\r\n      currentStyle = null;\r\n\r\n      if (props.draggableId === draggableId) return;\r\n\r\n      const size = innerRef.current.getBoundingClientRect();\r\n      breakpoint = size.top + size.height / 2;\r\n\r\n      offsetStyleSet = {\r\n        ...offsetStyle,\r\n        transform: `translate(0px, ${props.height}px)`,\r\n      };\r\n      setStyle({\r\n        transform:\r\n          props.y > breakpoint\r\n            ? offsetStyle\r\n            : `translate(0px, ${props.height}px)`,\r\n      });\r\n      currentStyle = true;\r\n    };\r\n\r\n    const move = (pos) => {\r\n      if (!currentStyle) return;\r\n      const size = innerRef.current.getBoundingClientRect();\r\n      breakpoint = size.top + size.height / 2;\r\n\r\n      if (pos.y < breakpoint && droppableId === pos.over) {\r\n        if (currentStyle === offsetStyleSet) return;\r\n        currentStyle = offsetStyleSet;\r\n      } else {\r\n        if (currentStyle === offsetStyle) return;\r\n        currentStyle = offsetStyle;\r\n      }\r\n      setStyle(currentStyle);\r\n    };\r\n\r\n    event.on(`${type}Start`, start);\r\n    event.on(`${type}Over`, move);\r\n    return () => {\r\n      event.off(`${type}Start`, start);\r\n      event.off(`${type}Over`, move);\r\n    };\r\n  }, [droppableId, draggableId, event, isDropDisabled, type]);\r\n\r\n  useEffect(() => {\r\n    if (isDropDisabled) return;\r\n\r\n    const stop = (result) => {\r\n      setStyle(null);\r\n      const { destination } = result;\r\n\r\n      const size = innerRef.current.getBoundingClientRect();\r\n      const breakpoint = size.top + size.height / 2;\r\n\r\n      if (destination.droppableId !== droppableId) return;\r\n      if (destination.index > index) return;\r\n      if (result.pos.y < breakpoint) return;\r\n\r\n      return {\r\n        ...result,\r\n        destination: { ...result.destination, index: index + 1 },\r\n      };\r\n    };\r\n\r\n    event.on(`${type}Stop`, stop);\r\n    return () => {\r\n      event.off(`${type}Stop`, stop);\r\n    };\r\n  }, [droppableId, event, index, isDropDisabled, type]);\r\n\r\n  const setStyles = (element, styles) =>\r\n    Object.entries(styles).forEach(([prop, val]) => {\r\n      element.style[prop] = val;\r\n    });\r\n\r\n  const onMouseDown = (e) => {\r\n    const baseProps = JSON.parse(\r\n      JSON.stringify(innerRef.current.getBoundingClientRect())\r\n    );\r\n\r\n    const style = {\r\n      ...styleDraggableItem,\r\n      ...baseProps,\r\n    };\r\n    style.height = style.height < minHeight ? minHeight : style.height;\r\n\r\n    const movingState = {\r\n      x: e.clientX - style.left,\r\n      y: e.clientY - style.top,\r\n      height: style.height,\r\n      draggableId,\r\n      droppableId,\r\n      index,\r\n      type,\r\n    };\r\n    let pos = false;\r\n    const clonedElement = innerRef.current.cloneNode(true);\r\n\r\n    const mouseMove = (e) => {\r\n      if (!pos) {\r\n        document.body.appendChild(clonedElement);\r\n        setStyles(clonedElement, style);\r\n        clonedElement.style.width = `${baseProps.width}px`;\r\n        event.event(`${type}Start`, movingState);\r\n      }\r\n\r\n      pos = {\r\n        x: e.clientX - movingState.x,\r\n        y: e.clientY - movingState.y,\r\n        height: style.height,\r\n        parents: [],\r\n      };\r\n\r\n      setStyles(clonedElement, {\r\n        top: `${pos.y}px`,\r\n        left: `${pos.x}px`,\r\n        transform: \"scale(1.01,1.15)\",\r\n      });\r\n      setStyle({ display: \"none\" });\r\n      event\r\n        .event(`${type}Move`, pos)\r\n        .then((query) => event.event(`${type}Over`, query));\r\n    };\r\n\r\n    const mouseUp = (e) => {\r\n      window.removeEventListener(\"mousemove\", mouseMove);\r\n      window.removeEventListener(\"mouseup\", mouseUp);\r\n\r\n      if (!pos) return;\r\n\r\n      document.body.removeChild(clonedElement);\r\n\r\n      event\r\n        .event(`${type}Stop`, {\r\n          combine: null,\r\n          destination: { index: 0, parents: [] },\r\n          draggableId,\r\n          mode: \"FLUID\",\r\n          reason: \"DROP\",\r\n          source: { index, droppableId },\r\n          type,\r\n          pos,\r\n        })\r\n        .then((data) =>\r\n          event.event(\"onDragEnd\", {\r\n            ...data,\r\n            pos: undefined,\r\n          })\r\n        );\r\n\r\n      setStyle(null);\r\n      pos = false;\r\n    };\r\n\r\n    window.addEventListener(\"mouseup\", mouseUp);\r\n    window.addEventListener(\"mousemove\", mouseMove);\r\n  };\r\n\r\n  const onDragStart = (e) => {\r\n    e.preventDefault();\r\n  };\r\n\r\n  if (style && style.display === \"none\") return null;\r\n\r\n  const provided = {\r\n    draggableProps: { style },\r\n    dragHandleProps: {\r\n      onMouseDown,\r\n      onDragStart,\r\n      draggable: false,\r\n      role: \"button\",\r\n      style: {},\r\n    },\r\n    innerRef,\r\n  };\r\n  return children(provided, {});\r\n};\r\n\r\nexport default () => {};\r\n","import React, { useEffect, useRef } from \"react\";\r\nimport app from \"nystem\";\r\nimport * as mDnd from \"./myDnd\";\r\n\r\nconst DragAndDropContext = ({ children }) => {\r\n  const modifiers = useRef({});\r\n  useEffect(() => {\r\n    const checkModifiers = (e) => {\r\n      const { shiftKey, metaKey, ctrlKey, altKey } = e;\r\n      modifiers.current = { shiftKey, metaKey, ctrlKey, altKey };\r\n    };\r\n    document.body.addEventListener(\"mouseup\", checkModifiers);\r\n    return () => {\r\n      document.body.removeEventListener(\"mouseup\", checkModifiers);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <mDnd.DragDropContext\r\n      onDragEnd={(e) => {\r\n        app().event(\"dragAndDropOnDragEnd\", { ...modifiers.current, ...e });\r\n      }}\r\n    >\r\n      {children}\r\n    </mDnd.DragDropContext>\r\n  );\r\n};\r\nexport default DragAndDropContext;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { ContentTypeRender } from \"nystem-components\";\r\nimport app from \"nystem\";\r\nimport * as myDnd from \"./myDnd\";\r\n\r\nconst DragAndDropFixedVal = ({ value, model, path }) => {\r\n  const { Droppable, Draggable } = myDnd;\r\n  const [droppableId] = useState(app().uuid());\r\n\r\n  useEffect(() => {\r\n    if (!value) return;\r\n\r\n    const onDragEndAddValue = (result) => {\r\n      if (result.source.droppableId !== droppableId) return;\r\n      result.source.value = JSON.parse(model.setValue);\r\n      result.source.uuid = droppableId;\r\n    };\r\n\r\n    app().on(\"dragAndDropOnDragEnd\", 100, onDragEndAddValue);\r\n    return () => {\r\n      app().off(\"dragAndDropOnDragEnd\", onDragEndAddValue);\r\n    };\r\n  }, [value, droppableId, model.setValue]);\r\n\r\n  const { item } = model;\r\n\r\n  return (\r\n    <Droppable\r\n      droppableId={droppableId}\r\n      type={model.valueType}\r\n      isDropDisabled={true}\r\n    >\r\n      {(provided, snapshot) => {\r\n        // console.log(provided);\r\n        return (\r\n          <div {...provided.droppableProps} ref={provided.innerRef}>\r\n            <Draggable\r\n              key={droppableId}\r\n              draggableId={droppableId}\r\n              index={0}\r\n              minHeight={model.minHeight}\r\n            >\r\n              {(provided, snapshot) => {\r\n                // console.log(provided.draggableProps.style);\r\n                return (\r\n                  <div\r\n                    ref={provided.innerRef}\r\n                    {...provided.draggableProps}\r\n                    {...provided.dragHandleProps}\r\n                    style={provided.draggableProps.style}\r\n                  >\r\n                    <ContentTypeRender path={path} items={item} />\r\n                  </div>\r\n                );\r\n              }}\r\n            </Draggable>\r\n            {provided.placeholder}\r\n          </div>\r\n        );\r\n      }}\r\n    </Droppable>\r\n  );\r\n};\r\n\r\nexport default DragAndDropFixedVal;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { ContentTypeRender, Wrapper } from \"nystem-components\";\r\nimport app from \"nystem\";\r\nimport * as myDnd from \"./myDnd\";\r\n\r\nexport const DragAndDropListContext = React.createContext();\r\n\r\nconst DragAndDropList = ({ value = [], model, path, view }) => {\r\n  const { Droppable, Draggable } = myDnd;\r\n  const [droppableId] = useState(app().uuid());\r\n\r\n  const ids = useRef([]);\r\n  const getId = (pos) => {\r\n    if (!ids.current[pos]) ids.current[pos] = app().uuid();\r\n    return ids.current[pos];\r\n  };\r\n\r\n  const { valueType } = model;\r\n  let { field } = model;\r\n  if (field instanceof Array) [field] = field;\r\n  if (!field) field = { id: \"item\" };\r\n  const valuePath = path ? `${path}.${field.id}` : field.id;\r\n\r\n  value = view.getValue(valuePath);\r\n  value = value || [];\r\n\r\n  useEffect(() => {\r\n    const onDragEnd = (result) => {\r\n      const value = view.getValue(valuePath) || [];\r\n\r\n      let updated = false;\r\n\r\n      if (!result.ctrlKey && result.source.droppableId === droppableId) {\r\n        value.splice(result.source.index, 1);\r\n        ids.current.splice(result.source.index, 1);\r\n        updated = true;\r\n      }\r\n\r\n      if (\r\n        result.destination &&\r\n        result.destination.droppableId === droppableId\r\n      ) {\r\n        value.splice(result.destination.index, 0, result.source.value);\r\n        ids.current.splice(\r\n          result.destination.index,\r\n          0,\r\n          result.source.droppableId === droppableId\r\n            ? result.source.uuid\r\n            : app().uuid()\r\n        );\r\n        updated = true;\r\n      }\r\n\r\n      if (updated) view.setValue({ path: valuePath, value });\r\n    };\r\n\r\n    const onDragEndAddValue = (result) => {\r\n      if (result.source.droppableId !== droppableId) return;\r\n      const value = view.getValue(valuePath);\r\n      result.source.value = value[result.source.index];\r\n      result.source.uuid = result.ctrlKey\r\n        ? app().uuid()\r\n        : ids.current[result.source.index];\r\n    };\r\n\r\n    app().on(\"dragAndDropOnDragEnd\", 100, onDragEndAddValue);\r\n    app().on(\"dragAndDropOnDragEnd\", onDragEnd);\r\n    return () => {\r\n      app().off(\"dragAndDropOnDragEnd\", onDragEndAddValue);\r\n      app().off(\"dragAndDropOnDragEnd\", onDragEnd);\r\n    };\r\n  }, [droppableId, valuePath, view]);\r\n\r\n  if (!(value instanceof Array)) return null;\r\n\r\n  const { className = [] } = model;\r\n\r\n  return (\r\n    <Droppable droppableId={droppableId} type={valueType}>\r\n      {(provided, snapshot) => (\r\n        <Wrapper\r\n          className={[\r\n            \"min-h-2-5 px-2 py-1 border shadow rounded\",\r\n            ...className,\r\n          ]}\r\n          {...provided.droppableProps}\r\n          ref={provided.innerRef}\r\n        >\r\n          {value.map((item, index) => (\r\n            <Draggable\r\n              key={getId(index)}\r\n              draggableId={getId(index)}\r\n              index={index}\r\n              minHeight={model.minHeight}\r\n            >\r\n              {(provided, snapshot) => (\r\n                <div\r\n                  ref={provided.innerRef}\r\n                  {...provided.draggableProps}\r\n                  style={provided.draggableProps.style}\r\n                >\r\n                  <DragAndDropListContext.Provider\r\n                    value={provided.dragHandleProps}\r\n                  >\r\n                    <ContentTypeRender\r\n                      path={path}\r\n                      items={\r\n                        app().replaceInModel({\r\n                          model,\r\n                          viewFormat: view.viewFormat,\r\n                          fn: ({ model: item }) =>\r\n                            item.id === field.id\r\n                              ? { ...item, id: `${item.id}.${index}` }\r\n                              : item,\r\n                        }).item\r\n                      }\r\n                    />\r\n                  </DragAndDropListContext.Provider>\r\n                </div>\r\n              )}\r\n            </Draggable>\r\n          ))}\r\n          {provided.placeholder}\r\n        </Wrapper>\r\n      )}\r\n    </Droppable>\r\n  );\r\n};\r\nexport default DragAndDropList;\r\n","import React, { useContext } from \"react\";\r\nimport { ContentTypeRender, Icon } from \"nystem-components\";\r\nimport { DragAndDropListContext } from \"./list\";\r\n\r\nconst DragAndDropHandle = ({ model, path }) => {\r\n  const { item, className = [] } = model;\r\n  const dragHandleProps = useContext(DragAndDropListContext);\r\n\r\n  return (\r\n    <div className={className.join(\" \")} {...dragHandleProps}>\r\n      {model.icon && <Icon icon=\"move\" className=\"w-8 h-8 py-2\" />}\r\n      <ContentTypeRender path={path} items={item} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DragAndDropHandle;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport app from \"nystem\";\r\nimport * as myDnd from \"./myDnd\";\r\n\r\nconst DragAndDropSortable = ({ Component, items = [], setValue }) => {\r\n  const { Droppable, Draggable } = myDnd;\r\n  const [droppableId] = useState(app().uuid());\r\n  useEffect(() => {\r\n    if (!items.length) return;\r\n\r\n    const onDragEnd = (result) => {\r\n      const value = items.map((item) => item.id);\r\n      let updated = false;\r\n\r\n      if (result.source.droppableId === droppableId) {\r\n        value.splice(result.source.index, 1);\r\n        updated = true;\r\n      }\r\n\r\n      if (\r\n        result.destination &&\r\n        result.destination.droppableId === droppableId\r\n      ) {\r\n        value.splice(result.destination.index, 0, result.draggableId);\r\n        updated = true;\r\n      }\r\n\r\n      if (updated) setValue(value);\r\n    };\r\n\r\n    app().on(\"dragAndDropOnDragEnd\", onDragEnd);\r\n    return () => {\r\n      app().off(\"dragAndDropOnDragEnd\", onDragEnd);\r\n    };\r\n  }, [items, setValue, droppableId]);\r\n\r\n  if (!items.length) return null;\r\n\r\n  return (\r\n    <Droppable droppableId={droppableId} type={items[0].contentType}>\r\n      {(provided, snapshot) => (\r\n        <div {...provided.droppableProps} ref={provided.innerRef}>\r\n          {items.map((item, index) => (\r\n            <Draggable key={item.id} draggableId={item.id} index={index}>\r\n              {(provided, snapshot) => (\r\n                <div\r\n                  ref={provided.innerRef}\r\n                  {...provided.draggableProps}\r\n                  {...provided.dragHandleProps}\r\n                  style={provided.draggableProps.style}\r\n                >\r\n                  {<Component {...item} />}\r\n                </div>\r\n              )}\r\n            </Draggable>\r\n          ))}\r\n          {provided.placeholder}\r\n        </div>\r\n      )}\r\n    </Droppable>\r\n  );\r\n};\r\n\r\nexport default DragAndDropSortable;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { ContentTypeRender } from \"nystem-components\";\r\nimport app from \"nystem\";\r\nimport * as myDnd from \"./myDnd\";\r\n\r\nconst DragAndDropView = ({ value, model, path }) => {\r\n  const { Droppable, Draggable } = myDnd;\r\n  const [droppableId] = useState(app().uuid());\r\n\r\n  useEffect(() => {\r\n    if (!value) return;\r\n\r\n    const onDragEndAddValue = (result) => {\r\n      if (result.source.droppableId !== droppableId) return;\r\n      result.source.value = value;\r\n      result.source.uuid = droppableId;\r\n    };\r\n\r\n    app().on(\"dragAndDropOnDragEnd\", 100, onDragEndAddValue);\r\n    return () => {\r\n      app().off(\"dragAndDropOnDragEnd\", onDragEndAddValue);\r\n    };\r\n  }, [value, droppableId]);\r\n\r\n  if (!model) return null;\r\n  const { item } = model;\r\n  return (\r\n    <Droppable\r\n      droppableId={droppableId}\r\n      type={model.valueType}\r\n      isDropDisabled={true}\r\n    >\r\n      {(provided, snapshot) => {\r\n        // console.log(provided);\r\n        return (\r\n          <div {...provided.droppableProps} ref={provided.innerRef}>\r\n            <Draggable\r\n              key={droppableId}\r\n              draggableId={droppableId}\r\n              index={0}\r\n              minHeight={model.minHeight}\r\n            >\r\n              {(provided, snapshot) => {\r\n                // console.log(provided.draggableProps.style);\r\n                return (\r\n                  <div\r\n                    ref={provided.innerRef}\r\n                    {...provided.draggableProps}\r\n                    {...provided.dragHandleProps}\r\n                    style={provided.draggableProps.style}\r\n                  >\r\n                    <ContentTypeRender path={path} items={item} />\r\n                  </div>\r\n                );\r\n              }}\r\n            </Draggable>\r\n            {provided.placeholder}\r\n          </div>\r\n        );\r\n      }}\r\n    </Droppable>\r\n  );\r\n};\r\n\r\nexport default DragAndDropView;\r\n","import React from \"react\";\nimport { TextExposedField } from \"nystem-components\";\nlet EmailExposedField = props => <TextExposedField {...props} />;\nexport default EmailExposedField;\n","export default ({ value, model }) => {\r\n  if (model.mandatory && !value) return model.text_mandatory;\r\n  if (!value) return false;\r\n  if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,6}$/im.test(value))\r\n    return \"Incorrect e-mail adress\";\r\n  return false;\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { InputWrapper, Input, UseValidator } from \"nystem-components\";\r\nimport app from \"nystem\";\r\nimport validate from \"./validate\";\r\n\r\nconst EmailInput = ({ model, view, focus, setValue, value, className }) => {\r\n  const [error, setValidated] = UseValidator({ view, validate, value, model });\r\n  const { disabled, length, text, clearButton, classNameInput } = model;\r\n  const [id] = useState(app().uuid);\r\n\r\n  const componentClassName = [\r\n    className,\r\n    ...(model.className || []),\r\n    \"textInput\",\r\n  ];\r\n  if (clearButton) componentClassName.push(\"flex\");\r\n\r\n  return (\r\n    <InputWrapper\r\n      id={id}\r\n      model={model}\r\n      error={error}\r\n      className={componentClassName}\r\n    >\r\n      <Input\r\n        id={id}\r\n        placeholder={app().t(text)}\r\n        className={classNameInput}\r\n        value={value || \"\"}\r\n        maxLength={length}\r\n        onChange={(value) => setValue(value)}\r\n        disabled={disabled}\r\n        type=\"text\"\r\n        focus={focus}\r\n        onBlur={() => setValidated(true)}\r\n      />\r\n    </InputWrapper>\r\n  );\r\n};\r\nexport default EmailInput;\r\n","import React, { useState } from \"react\";\r\nimport { InputWrapper, Input } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst EmailInputNoValidation = ({ model, focus, setValue, value, className }) => {\r\n  const { disabled, length, text, clearButton, classNameInput } = model;\r\n  const [id] = useState(app().uuid);\r\n\r\n  const componentClassName = [\r\n    className,\r\n    ...(model.className || []),\r\n    \"textInput\",\r\n  ];\r\n  if (clearButton) componentClassName.push(\"flex\");\r\n\r\n  return (\r\n    <InputWrapper id={id} model={model} className={componentClassName}>\r\n      <Input\r\n        id={id}\r\n        placeholder={app().t(text)}\r\n        className={classNameInput}\r\n        value={value || \"\"}\r\n        maxLength={length}\r\n        onChange={(value) => setValue(value)}\r\n        disabled={disabled}\r\n        type=\"text\"\r\n        focus={focus}\r\n      />\r\n    </InputWrapper>\r\n  );\r\n};\r\nexport default EmailInputNoValidation;\r\n","import React from \"react\";\r\nimport { TextLink } from \"nystem-components\";\r\n\r\nconst EmailLink = props => <TextLink {...props} />;\r\nexport default EmailLink;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst EmailMailto = ({ model, value, path }) => {\r\n  const { className, item } = model;\r\n\r\n  return (\r\n    <Wrapper renderAs=\"a\" href={`mailto:${value}`} className={className}>\r\n      <ContentTypeRender items={item} />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default EmailMailto;\r\n","import React from \"react\";\nimport { TextSortBy } from \"nystem-components\";\nlet EmailSortBy = props => <TextSortBy {...props} />;\nexport default EmailSortBy;\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { InputWrapper } from \"nystem-components\";\r\nclass EmailVerifiedInput extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    const state = {\r\n      value: props.value\r\n    };\r\n    if (props.add && this.model.default)\r\n      this.props.setValue(this.model.id, this.model.default);\r\n    this.errormsg = this.model.text_mandatory\r\n      ? this.model.text_mandatory\r\n      : true;\r\n    this.validated = false;\r\n    this.state = state;\r\n  }\r\n  handleChange() {\r\n    this.validated = true;\r\n    const value = this.refs.input.value;\r\n    this.setState({\r\n      value: value,\r\n      error: this.model.mandatory && !value ? this.errormsg : false\r\n    });\r\n    this.props.setValue(this.model.id, value);\r\n  }\r\n  valid() {\r\n    this.validated = true;\r\n    if (this.model.mandatory && !this.state.value) {\r\n      this.setState({\r\n        error: this.errormsg\r\n      });\r\n      return false;\r\n    }\r\n    if (this.test(this.state.value)) {\r\n      this.setState({\r\n        error: \"Incorrect e-mail adress\"\r\n      });\r\n      return false;\r\n    }\r\n    if (this.state.error) delete this.state.error;\r\n    return true;\r\n  }\r\n  test(value) {\r\n    return (\r\n      (this.validated && this.model.mandatory && !value) ||\r\n      !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,6}$/im.test(value)\r\n    );\r\n  }\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (this.props.value !== nextProps.value) {\r\n      const error = this.validated && this.model.mandatory && !nextProps.value;\r\n      this.setState({\r\n        value: nextProps.value,\r\n        error: error ? this.errormsg : false\r\n      });\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    if (this.props.focus) this.refs.input.focus();\r\n  }\r\n  render() {\r\n    return (\r\n      <InputWrapper model={this.model} error={this.state.error}>\r\n        <input\r\n          ref=\"input\"\r\n          placeholder={app().t(this.model.text)}\r\n          className=\"form-control\"\r\n          value={this.state.value}\r\n          maxLength={this.model.length}\r\n          onChange={this.handleChange}\r\n          type=\"text\"\r\n        />\r\n      </InputWrapper>\r\n    );\r\n  }\r\n}\r\nexport default EmailVerifiedInput;\r\n","import React from \"react\";\r\nimport { TextView } from \"nystem-components\";\r\n\r\nconst EmailView = props => <TextView {...props} />;\r\nexport default EmailView;\r\n","import React from \"react\";\r\nimport * as components from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nclass FlatgroupInput extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    if (!this.model.add2id) this.model.add2id = \"\";\r\n    this.state = {\r\n      value: props.value || {},\r\n    };\r\n  }\r\n  setValue(id, value) {\r\n    const val = this.state.value;\r\n    val[this.model.add2id + id] = value;\r\n    if (this.props.setValue) this.props.setValue(this.model.add2id + id, val);\r\n  }\r\n  valid() {\r\n    let valid = true;\r\n    for (let i = 0; i < this.model.item.length; i++)\r\n      if (!this.refs[`component${i}`].valid()) valid = false;\r\n    return valid;\r\n  }\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (this.props.value !== nextProps.value)\r\n      this.setState({ value: nextProps.value });\r\n  }\r\n  render() {\r\n    const self = this;\r\n    let groupVal = false;\r\n    function getGroupVal() {\r\n      if (!groupVal) {\r\n        if (!self.model.add2id) return self.state.value;\r\n        groupVal = {};\r\n        for (const item of self.state.value) {\r\n          const startWith = new RegExp(`^${self.model.add2id}`, \"i\");\r\n          if (startWith.test(item))\r\n            groupVal[item.replace(startWith, \"\")] = self.state.value[item];\r\n        }\r\n      }\r\n      return groupVal;\r\n    }\r\n    const createItem = function (item, index) {\r\n      const value = item.id\r\n        ? self.state.value[self.model.add2id + item.id]\r\n        : getGroupVal();\r\n      return React.createElement(\r\n        components[`${app().capFirst(item.type)}Input`],\r\n        {\r\n          ref: `component${index}`,\r\n          model: item,\r\n          value: value,\r\n          setValue: self.setValue,\r\n          validated: self.props.validated,\r\n          add: self.props.add,\r\n        }\r\n      );\r\n    };\r\n    return (\r\n      <div>\r\n        <h3>{app().t(this.model.text)}</h3>\r\n        <div>{this.model.item.map(createItem)}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default FlatgroupInput;\r\n","import React from \"react\";\r\nimport {\r\n  InputWrapper,\r\n  FloatInput,\r\n  UseSearch,\r\n  RouterUseQueryStore,\r\n} from \"nystem-components\";\r\n\r\nconst FloatExposedField = ({ model, view }) => {\r\n  const [from, setFrom] = RouterUseQueryStore(model.saveIdFrom, \"float\");\r\n  const [to, setTo] = RouterUseQueryStore(model.saveIdTo, \"float\");\r\n\r\n  UseSearch({ view, id: model.id, value: from && `>${from}` });\r\n  UseSearch({ view, id: model.id, value: to && `<${to}` });\r\n\r\n  const base = {\r\n    clearButton: true,\r\n    classNameInput: [\"w-16\"],\r\n    nolabel: true,\r\n    id: \"1\",\r\n  };\r\n  const modelFrom = { ...base, text: \"From\" };\r\n  const modelTo = { ...base, text: \"To\" };\r\n\r\n  return (\r\n    <InputWrapper model={model}>\r\n      <div className=\"flex items-center\">\r\n        <FloatInput model={modelFrom} value={from} setValue={setFrom} />-\r\n        <FloatInput model={modelTo} value={to} setValue={setTo} />\r\n      </div>\r\n    </InputWrapper>\r\n  );\r\n};\r\n\r\nexport default FloatExposedField;\r\n","export default ({ value, model }) =>\r\n  model.mandatory && !value && model.text_mandatory;\r\n","import React from \"react\";\r\nimport { InputWrapper, Input, UseValidator } from \"nystem-components\";\r\nimport app from \"nystem\";\r\nimport validate from \"./validate\";\r\n\r\nconst FloatInput = ({ model, view, focus, setValue, value, className }) => {\r\n  const [error, setValidated] = UseValidator({ view, validate, value, model });\r\n  const { disabled, length, text, clearButton } = model;\r\n\r\n  const componentClassName = [\r\n    className,\r\n    ...(model.className || []),\r\n    \"textInput\",\r\n  ];\r\n  if (clearButton) componentClassName.push(\"flex\");\r\n\r\n  const inputClassName = [\"textInputDefault\"];\r\n  if (error) inputClassName.push(\"textInputError\");\r\n\r\n  return (\r\n    <InputWrapper\r\n      model={{ ...model, classNameInput: \"flex\", classNameLabel: \" \" }}\r\n      error={error}\r\n      className={componentClassName}\r\n    >\r\n      <Input\r\n        placeholder={app().t(text)}\r\n        className={model.classNameInput}\r\n        value={!value && value !== 0 ? \"\" : value}\r\n        maxLength={length}\r\n        onChange={(value) => {\r\n          const val = value.replace(/[^0-9.]/gim, \"\");\r\n          setValue(val ? parseFloat(val) : undefined);\r\n        }}\r\n        disabled={disabled}\r\n        type=\"text\"\r\n        focus={focus}\r\n        onBlur={() => setValidated(true)}\r\n        selectAllOnFocus={model.selectAllOnFocus}\r\n      />\r\n    </InputWrapper>\r\n  );\r\n};\r\nexport default FloatInput;\r\n","import React from \"react\";\nimport { TextLink } from \"nystem-components\";\nlet IntLink = props => <TextLink {...props} />;\nexport default IntLink;\n","import React from \"react\";\nimport { TextSortBy } from \"nystem-components\";\nlet IntSortBy = props => <TextSortBy {...props} />;\nexport default IntSortBy;\n","import React from \"react\";\r\nimport { TextView } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nfunction outputFloat({ value, model }) {\r\n  if (!value || !model || !model.tofixed) return value;\r\n  value = parseFloat(value).toFixed(model.tofixed);\r\n  return app().settings.lang === \"sv\" ? value.replace(\".\", \",\") : value;\r\n}\r\n\r\nlet FloatView = props => <TextView {...props} value={outputFloat(props)} />;\r\nexport default FloatView;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Panel, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst GroupInput = ({ model, path }) => {\r\n  const { text, item } = model;\r\n  return (\r\n    <Panel\r\n      type=\"default\"\r\n      expanded={true}\r\n      header={app().t(text)}\r\n      body={<ContentTypeRender path={path} items={item} />}\r\n    />\r\n  );\r\n};\r\nexport default GroupInput;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst GroupView = ({ model, path }) => (\r\n  <Wrapper className={model.className}>\r\n    <ContentTypeRender items={model.item} path={path} />\r\n  </Wrapper>\r\n);\r\nexport default GroupView;\r\n","import React from \"react\";\r\nimport { InputWrapper, IntInput } from \"nystem-components\";\r\n\r\nclass IntExposedField extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    props.view.searchProp.onUpdate(this.update);\r\n    this.classNameBase = this.model.className ? this.model.className : [];\r\n    this.updateCounter = 0;\r\n  }\r\n  update(data) {\r\n    if (this.id) {\r\n      const state = {};\r\n      const modelId = this.model.id;\r\n\r\n      state.from = this.props.view.searchProp.filter.get(`${this.id}_from`);\r\n      if (state.from !== \"undefined\" && state.from[modelId])\r\n        state.from = state.from[modelId].substring(1);\r\n      else delete state.from;\r\n\r\n      state.to = this.props.view.searchProp.filter.get(`${this.id}_to`);\r\n      if (state.to !== \"undefined\" && state.to[modelId])\r\n        state.to = state.to[modelId].substring(1);\r\n      else delete state.to;\r\n      if (typeof state.from !== \"undefined\" || typeof state.to !== \"undefined\")\r\n        this.setState(state);\r\n    }\r\n    const self = this;\r\n    if (this.updateCounter > 0) this.updateCounter--;\r\n    if (this.state.className === \"\" || this.updateCounter > 0) return;\r\n    this.setState({\r\n      className: \"has-success\",\r\n    });\r\n    this.delayTimer = setTimeout(() => {\r\n      if (self.isMounted())\r\n        self.setState({\r\n          className: \"\",\r\n        });\r\n    }, 1000);\r\n  }\r\n  search(id, value) {\r\n    if (value === \"\") value = undefined;\r\n    const self = this;\r\n    clearTimeout(this.delayTimer);\r\n    const state = {\r\n      className: \"has-warning\",\r\n    };\r\n    state[id] = value;\r\n    this.setState(state);\r\n    this.delayTimer = setTimeout(() => {\r\n      self.updateCounter++;\r\n      if (value)\r\n        if (id === \"to\") value = `<${value}`;\r\n        else value = `>${value}`;\r\n\r\n      self.props.view.searchProp.filter.add(\r\n        self.model.id,\r\n        value,\r\n        `${self.id}_${id}`\r\n      );\r\n    }, 200);\r\n  }\r\n  componentDidMount() {}\r\n  componentWillUnmount() {\r\n    this.props.view.searchProp.offUpdate(this.update);\r\n    clearTimeout(this.delayTimer);\r\n  }\r\n  render() {\r\n    /* const model = this.props.model;\r\n    const className = model.className && !this.props.wrapper\r\n      ? model.className.join(\" \")\r\n      : \"\"; */\r\n    const modelFrom = {\r\n      id: \"from\",\r\n      placeholder: \"From\",\r\n      clearButton: true,\r\n    };\r\n    const modelTo = {\r\n      id: \"to\",\r\n      placeholder: \"To\",\r\n      clearButton: true,\r\n    };\r\n    const style = {\r\n      width: \"100px\",\r\n    };\r\n    return (\r\n      <InputWrapper model={this.model} error={this.state.error}>\r\n        <div className=\"form-inline\">\r\n          <IntInput\r\n            style={style}\r\n            model={modelFrom}\r\n            value={this.state.from}\r\n            setValue={this.search}\r\n          />\r\n          {\" - \"}\r\n          <IntInput\r\n            style={style}\r\n            model={modelTo}\r\n            value={this.state.to}\r\n            setValue={this.search}\r\n          />\r\n        </div>\r\n      </InputWrapper>\r\n    );\r\n  }\r\n}\r\nexport default IntExposedField;\r\n","export default ({ value, model }) =>\r\n  model.mandatory && !value && model.text_mandatory;\r\n","import React from \"react\";\r\nimport { InputWrapper, Input, UseValidator } from \"nystem-components\";\r\nimport app from \"nystem\";\r\nimport validate from \"./validate\";\r\n\r\nconst IntInput = ({ model, view, focus, setValue, value, className }) => {\r\n  const [error, setValidated] = UseValidator({ view, validate, value, model });\r\n  const { disabled, length, text, clearButton } = model;\r\n\r\n  const componentClassName = [\r\n    className,\r\n    ...(model.className || []),\r\n    \"textInput\",\r\n  ];\r\n  if (clearButton) componentClassName.push(\"flex\");\r\n\r\n  const inputClassName = [\"textInputDefault\"];\r\n  if (error) inputClassName.push(\"textInputError\");\r\n\r\n  return (\r\n    <InputWrapper\r\n      model={{ ...model, classNameInput: \"flex\", classNameLabel: \" \" }}\r\n      error={error}\r\n      className={componentClassName}\r\n    >\r\n      <Input\r\n        placeholder={app().t(text)}\r\n        className={model.classNameInput}\r\n        value={!value && value !== 0 ? \"\" : value}\r\n        maxLength={length}\r\n        onChange={(value) => {\r\n          const intVal = value.replace(/[^0-9]/gim, \"\");\r\n          setValue(intVal ? parseInt(intVal, 10) : undefined);\r\n        }}\r\n        disabled={disabled}\r\n        type=\"text\"\r\n        focus={focus}\r\n        onBlur={() => setValidated(true)}\r\n        selectAllOnFocus={model.selectAllOnFocus}\r\n      />\r\n    </InputWrapper>\r\n  );\r\n};\r\nexport default IntInput;\r\n","import React from \"react\";\nimport { TextLink } from \"nystem-components\";\nlet IntLink = props => <TextLink {...props} />;\nexport default IntLink;\n","import React from \"react\";\r\nimport { TextSortBy } from \"nystem-components\";\r\n\r\nconst IntSortBy = props => <TextSortBy {...props} />;\r\nexport default IntSortBy;\r\n","import React from \"react\";\r\nimport { TextView } from \"nystem-components\";\r\n\r\nconst IntView = ({ value, ...props }) => (\r\n  <TextView {...props} value={value === 0 ? \"0\" : value} />\r\n);\r\nexport default IntView;\r\n","import React from \"react\";\r\nimport { InputWrapper, Input } from \"nystem-components\";\r\n\r\nconst MatrixInput = ({ value, model, setValue }) => {\r\n  const { limit = 0, rowLabel } = model;\r\n\r\n  value = value || [];\r\n  if (!limit || value.length < limit) value = [...value, []];\r\n\r\n  const handleChange = (atRow, index, newVal) => {\r\n    const len = value.length;\r\n    const val = value.slice(0, atRow === len - 1 ? len : len - 1);\r\n\r\n    val[atRow][index] = newVal;\r\n\r\n    if (val[len - 2] && !val[len - 2][0]) setValue(val.slice(0, len - 2));\r\n    else setValue(val);\r\n  };\r\n\r\n  const mapHeader = (item, index) => <th key={index}>{item}</th>;\r\n\r\n  const mapField = (label, atRow, index) => {\r\n    const val = value[atRow][index] ? value[atRow][index] : \"\";\r\n    return (\r\n      <td key={index}>\r\n        <Input\r\n          placeholder={label}\r\n          className=\"form-control\"\r\n          value={val}\r\n          maxLength={model.length}\r\n          onChange={(val) => handleChange(atRow, index, val)}\r\n          type=\"text\"\r\n        />\r\n      </td>\r\n    );\r\n  };\r\n\r\n  const mapRow = (item, rowIndex) => (\r\n    <tr key={rowIndex}>\r\n      {model.rowLabel.map((label, index) => mapField(label, rowIndex, index))}\r\n    </tr>\r\n  );\r\n\r\n  return (\r\n    <InputWrapper model={model}>\r\n      <table>\r\n        <thead>\r\n          <tr>{rowLabel.map(mapHeader)}</tr>\r\n        </thead>\r\n        <tbody>{value.map(mapRow)}</tbody>\r\n      </table>\r\n    </InputWrapper>\r\n  );\r\n};\r\nexport default MatrixInput;\r\n","import React from \"react\";\r\n\r\nclass MatrixInputlist extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    let val = props.value || [];\r\n    if (!(val instanceof Array)) val = [val];\r\n    if (val.length > props.limit) this.state = { value: val.concat([]) };\r\n    else this.state = { value: val.concat([\"\"]) };\r\n  }\r\n  handleChange() {\r\n    const val = [];\r\n    for (let i = 0; i < this.state.value.length; i++) {\r\n      const oneVal = this.refs[`input${i}`].value;\r\n      if (oneVal) val.push(oneVal);\r\n    }\r\n    if (this.props.setValue) this.props.setValue(val);\r\n\r\n    this.setState({\r\n      value: val.length > this.props.limit ? val.concat([\"\"]) : val.concat([])\r\n    });\r\n  }\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (this.props.value !== nextProps.value) {\r\n      let val = nextProps.value;\r\n      if (typeof nextProps.value === \"string\") val = [nextProps.value];\r\n      this.setState({ value: val.concat([\"\"]) });\r\n    }\r\n  }\r\n  render() {\r\n    const self = this;\r\n    const inputKeyField = function(item, index) {\r\n      return (\r\n        <input\r\n          ref={`inputKey${index}`}\r\n          className=\"form-control\"\r\n          value={item}\r\n          onChange={self.handleKeyChange}\r\n          type=\"text\"\r\n        />\r\n      );\r\n    };\r\n    const inputValueField = function(item, index) {\r\n      return (\r\n        <input\r\n          ref={`inputValue${index}`}\r\n          className=\"form-control\"\r\n          value={item}\r\n          onChange={self.handleChange}\r\n          type=\"text\"\r\n        />\r\n      );\r\n    };\r\n    return (\r\n      <div>\r\n        <div className=\"col-sm-3\">{this.state.value.map(inputKeyField)}</div>\r\n        <div className=\"col-sm-3\">{this.state.value.map(inputValueField)}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default MatrixInputlist;\r\n","import React, { useState } from \"react\";\r\nimport app from \"nystem\";\r\nimport {\r\n  Panel,\r\n  MultigroupOneInput,\r\n  Button,\r\n  BootstrapPanelToggle,\r\n  Wrapper,\r\n} from \"nystem-components\";\r\n\r\nconst MultigroupInput = ({ value, setValue, model, path, view }) => {\r\n  const [ids, setIds] = useState({});\r\n  value = value || [];\r\n\r\n  const addItem = () => {\r\n    value.push({});\r\n    setValue(value);\r\n  };\r\n\r\n  const createItem = function (item, index) {\r\n    const id = ids[index] || app().utils.uuid();\r\n    if (!ids[index]) setIds({ ...ids, [index]: id });\r\n\r\n    return React.createElement(MultigroupOneInput, {\r\n      key: id,\r\n      model,\r\n      value,\r\n      setValue,\r\n      expanded: model.itemExpanded,\r\n      last: index === value.length - 1,\r\n      view,\r\n      path: `${path}.${index}`,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Panel\r\n      type=\"default\"\r\n      expandable={model.expandable}\r\n      expanded={model.expanded}\r\n      icon={model.expandable}\r\n      header={\r\n        <Wrapper className=\"flex items-center\">\r\n          <BootstrapPanelToggle\r\n            model={{\r\n              ...model,\r\n              icon: true,\r\n              className: \"flex items-center\",\r\n              item: [],\r\n            }}\r\n          >\r\n            {model.text}\r\n          </BootstrapPanelToggle>\r\n          <Button\r\n            onClick={addItem}\r\n            type=\"primary\"\r\n            size=\"xs\"\r\n            className=\"ml-auto\"\r\n          >\r\n            Add\r\n          </Button>\r\n        </Wrapper>\r\n      }\r\n      body={value.map(createItem)}\r\n    />\r\n  );\r\n};\r\nexport default MultigroupInput;\r\n","import React from \"react\";\r\nimport {\r\n  Panel,\r\n  ContentTypeRender,\r\n  BootstrapPanelToggle,\r\n  Button,\r\n  Wrapper,\r\n} from \"nystem-components\";\r\n\r\nconst MultigroupOneInput = ({ value, model, view, path, setValue }) => {\r\n  let text = view.getValue(`${path}.${model.field || \"text\"}`);\r\n\r\n  if (text instanceof Array) text = text.join(\" \");\r\n\r\n  const onClose = (id) => {\r\n    value.splice(id, 1);\r\n    setValue(value);\r\n  };\r\n\r\n  if (model.info && value[model.info]) text += ` (${value[model.info]})`;\r\n\r\n  return (\r\n    <Panel\r\n      type=\"default\"\r\n      expanded={model.itemExpanded}\r\n      expandable={model.itemExpandable}\r\n      icon={model.itemExpandable}\r\n      header={\r\n        <Wrapper className=\"flex items-center\">\r\n          <BootstrapPanelToggle\r\n            model={{\r\n              ...model,\r\n              item: undefined,\r\n              icon: true,\r\n              className: \"flex items-center\",\r\n            }}\r\n          >\r\n            {text || \"Item\"}\r\n          </BootstrapPanelToggle>\r\n          <Button\r\n            onClick={onClose}\r\n            type=\"primary\"\r\n            className=\"ml-auto\"\r\n            size=\"xs\"\r\n          >\r\n            Remove\r\n          </Button>\r\n        </Wrapper>\r\n      }\r\n      body={<ContentTypeRender path={path} items={model.item} />}\r\n    />\r\n  );\r\n};\r\nexport default MultigroupOneInput;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst MultigroupOneView = ({ model, path }) => {\r\n  const className = model.rowClassName ? model.rowClassName.join(\" \") : \"\";\r\n\r\n  return (\r\n    <Wrapper className={className}>\r\n      <ContentTypeRender items={model.items} path={path} />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default MultigroupOneView;\r\n","import React from \"react\";\r\n\r\nclass MultigroupSortBy extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.props.view.searchProp.onUpdate(this.update);\r\n    return {\r\n      isSortBy: props.view.searchProp.isSortBy\r\n        ? props.view.searchProp.isSortBy(this.model.id)\r\n        : false\r\n    };\r\n  }\r\n  update(data) {\r\n    const isSortBy = this.props.view.searchProp.isSortBy(this.model.id);\r\n    if (isSortBy !== this.state.isSortBy)\r\n      this.setState({\r\n        isSortBy: isSortBy\r\n      });\r\n  }\r\n  handleSort(event) {\r\n    let href = event.target.getAttribute(\"href\");\r\n    if (!href && event.target)\r\n      href = event.target.parentNode.getAttribute(\"href\");\r\n    this.props.view.searchProp.sortBy(href);\r\n    return false;\r\n  }\r\n  componentWillUnmount() {\r\n    this.props.view.searchProp.offUpdate(this.update);\r\n  }\r\n  render() {\r\n    const { model } = this;\r\n    const className = model.className ? model.className.join(\" \") : \"\";\r\n    if (this.state.isSortBy)\r\n      return (\r\n        <div className={className}>\r\n          {model.text} <span className={`fa fa-arrow-${this.state.isSortBy}`} />\r\n        </div>\r\n      );\r\n    return <div className={className}>{model.text}</div>;\r\n  }\r\n}\r\nexport default MultigroupSortBy;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst MultigroupView = ({ value, view, model, path }) => {\r\n  const { className, rowClassName } = model;\r\n\r\n  value = value || [];\r\n  return (\r\n    <Wrapper className={className}>\r\n      {value.map((item, index) => (\r\n        <Wrapper key={index} className={rowClassName}>\r\n          <ContentTypeRender items={model.item} path={`${path}.${index}`} />\r\n        </Wrapper>\r\n      ))}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default MultigroupView;\r\n","import { TextExposedField } from \"nystem-components\";\r\nimport React from \"react\";\r\n\r\nconst MultilinetextExposedField = (props) => <TextExposedField {...props} />;\r\n\r\nexport default MultilinetextExposedField;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst MultilinetextFields = ({ value, model, path }) => {\r\n  if (!value) return null;\r\n  const { limit, item, className } = model;\r\n\r\n  value = value instanceof Array ? value : [value];\r\n  if (limit) value = value.slice(0, limit);\r\n\r\n  return (\r\n    <Wrapper>\r\n      {value.map((val, index) => (\r\n        <Wrapper key={index} className={className}>\r\n          <a href={`http://${val}`} rel=\"noopener noreferrer\" target=\"_blank\">\r\n            <ContentTypeRender path={path} items={item} />\r\n          </a>\r\n        </Wrapper>\r\n      ))}\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default MultilinetextFields;\r\n","const text_mandatory = \"Field is mandatory\";\r\n\r\nexport default ({ value, model }) =>\r\n  model.mandatory &&\r\n  !value &&\r\n  !value.length &&\r\n  (model.text_mandatory || text_mandatory);\r\n","import React from \"react\";\r\nimport { Input, InputWrapper, UseValidator } from \"nystem-components\";\r\nimport validate from \"./validate\";\r\n\r\nconst MultilinetextInput = ({ model, value, setValue, focus, view }) => {\r\n  const [error, setValidated] = UseValidator({ view, validate, value, model });\r\n  value = value instanceof Array ? value : value ? [value] : [];\r\n\r\n  value = value.filter(value => value !== \"\");\r\n  value.push(\"\");\r\n\r\n  const onChange = (itemValue, index) => {\r\n    value[index] = itemValue;\r\n    setValidated(true);\r\n    setValue(value);\r\n  };\r\n\r\n  return (\r\n    <InputWrapper model={model} error={error}>\r\n      {value.map((value, index) => (\r\n        <div key={index}>\r\n          <Input\r\n            className=\"textInputDefault\"\r\n            value={value}\r\n            onChange={value => onChange(value, index)}\r\n          />\r\n        </div>\r\n      ))}\r\n    </InputWrapper>\r\n  );\r\n};\r\n\r\nexport default MultilinetextInput;\r\n","import React from \"react\";\r\n\r\nclass MultilinetextInputlist extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    let val = props.value || [];\r\n    if (!(val instanceof Array)) val = [val];\r\n    if (props.limit && val.length > props.limit)\r\n      return { value: val.concat([]) };\r\n    return { value: val.concat([\"\"]) };\r\n  }\r\n  handleChange() {\r\n    const val = [];\r\n    for (let i = 0; i < this.state.value.length; i++) {\r\n      const oneVal = this.refs[`input${i}`].value;\r\n      if (oneVal) val.push(oneVal);\r\n    }\r\n    if (this.props.setValue) this.props.setValue(val);\r\n    if (val.length > this.props.limit)\r\n      this.setState({\r\n        value: val.concat([])\r\n      });\r\n    else\r\n      this.setState({\r\n        value: val.concat([\"\"])\r\n      });\r\n  }\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (this.props.value !== nextProps.value) {\r\n      let val = nextProps.value;\r\n      if (typeof nextProps.value === \"string\") val = [nextProps.value];\r\n      if (this.props.limit && val.length > this.props.limit)\r\n        this.setState({ value: val.concat([]) });\r\n      else this.setState({ value: val.concat([\"\"]) });\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    if (this.props.focus)\r\n      this.refs[`input${this.state.value.length - 1}`].focus();\r\n  }\r\n  render() {\r\n    const self = this;\r\n    function inputField(item, index) {\r\n      return (\r\n        <input\r\n          key={`input${index}`}\r\n          ref={`input${index}`}\r\n          className=\"form-control\"\r\n          value={item}\r\n          onChange={self.handleChange}\r\n          type=\"text\"\r\n        />\r\n      );\r\n    }\r\n    return <div>{this.state.value.map(inputField)}</div>;\r\n  }\r\n}\r\nexport default MultilinetextInputlist;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst MultilinetextItemLink = ({ value, model, path }) => (\r\n  <Wrapper\r\n    renderAs=\"a\"\r\n    className={model.className}\r\n    href={`http://${value}`}\r\n    rel=\"noopener noreferrer\"\r\n    target=\"_blank\"\r\n  >\r\n    <ContentTypeRender path={path} items={model.item} />\r\n  </Wrapper>\r\n);\r\nexport default MultilinetextItemLink;\r\n","import React from \"react\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nconst MultilinetextItemText = ({ model, value }) => (\r\n  <Wrapper\r\n    className={model.className}\r\n    renderAs={model.renderAs}\r\n    translate={model.translate}\r\n  >\r\n    {value || model.fallback}\r\n  </Wrapper>\r\n);\r\n\r\nexport default MultilinetextItemText;\r\n","import React from \"react\";\r\n\r\nclass MultilinetextList extends React.Component {\r\n  render() {\r\n    let { value } = this.props;\r\n    const createItem = function(item, index) {\r\n      const add = value.length !== index + 1 ? \", \" : \"\";\r\n      return (\r\n        <span key={index}>\r\n          <a href={`http://${item}`} rel=\"noopener noreferrer\" target=\"_blank\">\r\n            {item}\r\n          </a>\r\n          {add}\r\n        </span>\r\n      );\r\n    };\r\n    if (!value) return null;\r\n    if (!(value instanceof Array)) value = [value];\r\n    const { model } = this.props;\r\n    const className =\r\n      model.className && !this.props.wrapper ? model.className.join(\" \") : \"\";\r\n    if (value.length > 2)\r\n      return (\r\n        <div className={className.replace(\"btn\", \"\")}>\r\n          {value.map(createItem)}\r\n        </div>\r\n      );\r\n    return <div className={className}>{value.map(createItem)}</div>;\r\n  }\r\n}\r\nexport default MultilinetextList;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst MultilinetextView = ({ value, path, model, view }) => {\r\n  if (!value) return null;\r\n\r\n  value = value instanceof Array ? value : [value];\r\n  const { className, id } = model;\r\n  return (\r\n    <Wrapper className={className}>\r\n      {value.map((nul, index) => (\r\n        <ContentTypeRender\r\n          key={index}\r\n          path={path.replace(new RegExp(`.?${id}$`, \"i\"), \"\")}\r\n          items={\r\n            app().replaceInModel({\r\n              model,\r\n              viewFormat: view.viewFormat,\r\n              fn: ({ model: item }) =>\r\n                item.id === id ? { ...item, id: `${item.id}.${index}` } : item,\r\n            }).item\r\n          }\r\n        />\r\n      ))}\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default MultilinetextView;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport app from \"nystem\";\r\nimport { SelectExposedField } from \"nystem-components\";\r\n\r\nconst ReferenceExposedField = ({ model, view, path }) => {\r\n  const [option, setOption] = useState();\r\n\r\n  useEffect(() => {\r\n    app()\r\n      .database[model.source].search({\r\n        autoUpdate: true,\r\n        filter: app().parseFilter(model.filter, view.getValue, path),\r\n        count: 100,\r\n      })\r\n      .then(({ data: option }) => setOption(option));\r\n  }, [model.filter, model.source, path, view.getValue]);\r\n\r\n  if (!option || option.length === 0) return null;\r\n\r\n  const selectModel = app().utils.clone(model);\r\n  delete selectModel.source;\r\n\r\n  selectModel.option = option.map((item) => ({\r\n    ...item,\r\n    text: item[model.textField || \"name\"],\r\n  }));\r\n\r\n  return <SelectExposedField model={selectModel} view={view} />;\r\n};\r\n\r\nexport default ReferenceExposedField;\r\n","import React from \"react\";\r\nimport {\r\n  ReferenceInput,\r\n  RouterUseQueryStore,\r\n  UseSearch,\r\n} from \"nystem-components\";\r\n\r\nconst ReferenceExposedFieldViews = ({ model, view, path }) => {\r\n  const [value, setValue] = RouterUseQueryStore(model.saveId, \"array\");\r\n  UseSearch({ view, id: model.id, value, exact: true });\r\n\r\n  return (\r\n    <ReferenceInput\r\n      model={{ ...model, mandatory: false, exposed: true }}\r\n      setValue={setValue}\r\n      view={view}\r\n      value={value}\r\n      path={path}\r\n    />\r\n  );\r\n};\r\n\r\nexport default ReferenceExposedFieldViews;\r\n","import React from \"react\";\r\nimport { ContentTypeView, InputWrapper, Wrapper } from \"nystem-components\";\r\n\r\nconst ReferenceFirst = ({ model, view, value = [] }) => {\r\n  value = value instanceof Array ? value[0] : value;\r\n  const { renderFormat, className, source, itemClassName } = model;\r\n\r\n  if (!value) return null;\r\n\r\n  const option = (item, index) => (\r\n    <ContentTypeView\r\n      key={item}\r\n      contentType={source}\r\n      baseView={view}\r\n      format={renderFormat || \"view\"}\r\n      id={item}\r\n      params={view.params}\r\n      className={itemClassName}\r\n      onReference={(item) => view.event(item.event, { ...item, model })}\r\n    />\r\n  );\r\n\r\n  if (model.wrapper)\r\n    return <InputWrapper model={model}>{option(value)}</InputWrapper>;\r\n\r\n  return <Wrapper className={className}>{option(value)}</Wrapper>;\r\n};\r\nexport default ReferenceFirst;\r\n","export default ({ value, model }) =>\r\n  model.mandatory &&\r\n  (!value || (value instanceof Array && !value[0])) &&\r\n  (model.text_mandatory || \"Field is mandatory\");\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport app from \"nystem\";\r\nimport {\r\n  InputWrapper,\r\n  ReferenceView,\r\n  Wrapper,\r\n  ReferenceSortable,\r\n  Button,\r\n  ViewInViewView,\r\n  UseValidator,\r\n  Input,\r\n} from \"nystem-components\";\r\nimport validate from \"./validate\";\r\nimport \"./input.css\";\r\n\r\nconst useSearch = ({ contentType, searchVal, model } = {}) => {\r\n  const [result, setResult] = useState([]);\r\n  useEffect(() => {\r\n    if (!contentType) return;\r\n    const { sortby, searchCount, reverse } = model;\r\n\r\n    const db = app().database[contentType];\r\n    db.search({\r\n      filter: searchVal && { $all: searchVal },\r\n      count: searchCount || 100,\r\n      data: undefined,\r\n      sortby,\r\n      reverse,\r\n    }).then(({ data }) => setResult(data || []));\r\n  }, [setResult, contentType, searchVal, model]);\r\n\r\n  return { result };\r\n};\r\n\r\nconst InputSpes = ({ focus, onBlur, onFocus, ...props }) => {\r\n  const inputEl = useRef(null);\r\n  const [inFocus, setInFocus] = useState(false);\r\n  useEffect(() => {\r\n    if (!focus || inFocus) return;\r\n    inputEl.current.focus();\r\n  }, [focus, inFocus, onBlur]);\r\n\r\n  let { className } = props;\r\n  className = className instanceof Array ? className.join(\" \") : className;\r\n\r\n  return (\r\n    <Input\r\n      ref={inputEl}\r\n      {...props}\r\n      className={className || \"sm:w-1/2 w-full\"}\r\n      onChange={props.onChange}\r\n      onFocus={() => {\r\n        setInFocus(true);\r\n        if (onFocus) onFocus();\r\n      }}\r\n      onBlur={() => {\r\n        setInFocus(false);\r\n        onBlur();\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nconst InlineAdd = ({ model, view }) => {\r\n  const [isAdding, setIsAdding] = useState(false);\r\n  if (!model.inlineAdd) return null;\r\n  if (!isAdding)\r\n    return (\r\n      <Button\r\n        onClick={() => setIsAdding(true)}\r\n        size=\"sm\"\r\n        className=\"mb-1 float-right\"\r\n      >\r\n        Create new\r\n      </Button>\r\n    );\r\n  return (\r\n    <ViewInViewView\r\n      model={{ contentType: model.source, view: model.inlineAdd }}\r\n      onSave={({ _id }) => {\r\n        view.event(\"referenceAdd\", { model, value: { _id }, close: true });\r\n        setIsAdding(false);\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nconst ReferenceInput = ({ model, view, value = [], setValue, path }) => {\r\n  const { source, exposed } = model;\r\n  const [inFocus, setInFocus] = useState(false);\r\n  const [searchVal, setSearchVal] = useState(\"\");\r\n  const [error] = UseValidator({ view, validate, value, model });\r\n\r\n  const { result } = useSearch({ contentType: source, searchVal, model }) || {};\r\n\r\n  value = value instanceof Array ? value : [value];\r\n\r\n  useEffect(() => {\r\n    const events = exposed\r\n      ? { add: \"exposedReferenceAdd\", remove: \"exposedReferenceRemove\" }\r\n      : { add: \"referenceAdd\", remove: \"referenceRemove\" };\r\n\r\n    const add = ({ value: addValue, close, path: atPath }) => {\r\n      if (path !== atPath) return;\r\n\r\n      const newVal = [...value, addValue._id];\r\n      setValue(model.limit === 1 ? newVal[0] : newVal);\r\n\r\n      const addable = !model.limit || newVal.length < model.limit;\r\n      if (!close) setInFocus(addable);\r\n\r\n      setSearchVal(\"\");\r\n    };\r\n    const remove = ({ value: removeValue, path: atPath }) => {\r\n      if (path !== atPath) return;\r\n\r\n      const newVal = value.filter((id) => `${id}` !== `${removeValue._id}`);\r\n      setValue(newVal.length ? newVal : undefined);\r\n      setInFocus(true);\r\n    };\r\n    view.on(events.add, add);\r\n    view.on(events.remove, remove);\r\n    return () => {\r\n      view.off(events.add, add);\r\n      view.off(events.remove, remove);\r\n    };\r\n  }, [view, setValue, value, setInFocus, model.id, model.limit, path, exposed]);\r\n\r\n  let clicked = false;\r\n  const itemsSelect =\r\n    result.map((item) => item._id).filter((id) => !value.includes(id)) || [];\r\n\r\n  const addable = !model.limit || value.length < model.limit || null;\r\n\r\n  return (\r\n    <InputWrapper\r\n      model={{ ...model, classNameInput: \"relative flex-grow\" }}\r\n      error={error}\r\n    >\r\n      {(value.length || null) && (\r\n        <Wrapper className=\"px-1 pb-2 pt-1 w-full max-w-sm\">\r\n          <ReferenceSortable\r\n            model={model}\r\n            view={view}\r\n            value={value}\r\n            setValue={setValue}\r\n            path={path}\r\n          />\r\n        </Wrapper>\r\n      )}\r\n      {addable && (\r\n        <>\r\n          <InlineAdd model={model} view={view} />\r\n          <InputSpes\r\n            onFocus={() => setInFocus(true)}\r\n            onBlur={() => {\r\n              if (!clicked) setInFocus(false);\r\n            }}\r\n            onChange={(value) => setSearchVal(value)}\r\n            value={searchVal}\r\n            placeholder=\"Search and add existing\"\r\n            focus={inFocus}\r\n          />\r\n        </>\r\n      )}\r\n      {addable && inFocus && (\r\n        <Wrapper\r\n          className=\"absolute shadow-md sm:w-1/2 w-full overflow-y-auto z-10 max-h-400\"\r\n          onMouseDown={() => {\r\n            clicked = true;\r\n            setInFocus(true);\r\n            setTimeout(() => {\r\n              clicked = false;\r\n            }, 500);\r\n          }}\r\n        >\r\n          {itemsSelect.length ? (\r\n            <ReferenceView\r\n              model={{ ...model, renderFormat: model.renderFormatSelect }}\r\n              value={itemsSelect}\r\n              view={view}\r\n              path={path}\r\n            />\r\n          ) : (\r\n            <Wrapper className=\"p-2 bg-red-200\">No addable items found</Wrapper>\r\n          )}\r\n        </Wrapper>\r\n      )}\r\n    </InputWrapper>\r\n  );\r\n};\r\nexport default ReferenceInput;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport app from \"nystem\";\r\nimport { SelectInput } from \"nystem-components\";\r\n\r\nconst ReferenceSelect = ({ model, setValue, value, view, path }) => {\r\n  const [option, setOption] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const loadOption = () => {\r\n      const namefield = model.namefield ? model.namefield : \"name\";\r\n      app()\r\n        .database[model.source].search({\r\n          autoUpdate: true,\r\n          filter: app().parseFilter(model.filter, view.getValue, path),\r\n          count: 100,\r\n        })\r\n        .then(({ data, offline }) => {\r\n          if (offline) {\r\n            app().connection.on(\"connect\", loadOption);\r\n            app().connection.on(\"connect\", loadOption);\r\n          } else app().connection.off(\"connect\", loadOption);\r\n\r\n          setOption(\r\n            data.map((item) => ({ _id: item._id, text: item[namefield] }))\r\n          );\r\n        });\r\n    };\r\n    loadOption();\r\n    return () => {\r\n      app().connection.off(\"connect\", loadOption);\r\n    };\r\n  }, [model, path, view]);\r\n\r\n  if (!value) value = [];\r\n  if (!(value instanceof Array)) value = [value];\r\n\r\n  return (\r\n    <SelectInput\r\n      model={{ ...model, option }}\r\n      setValue={setValue}\r\n      value={value}\r\n    />\r\n  );\r\n};\r\n\r\nexport default ReferenceSelect;\r\n// 57 40 35\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport {\r\n  ContentTypeView,\r\n  InputWrapper,\r\n  DragAndDropList\r\n} from \"nystem-components\";\r\n\r\nclass ReferenceSortable extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.localValue = {};\r\n    [\"setValue\", \"onSave\", \"onDelete\", \"addField\"].forEach(func => {\r\n      this[func] = this[func].bind(this);\r\n    });\r\n    this.props.view.on(\"save\", this.onSave);\r\n    this.state = {\r\n      value: this.props.value\r\n    };\r\n  }\r\n  setValue(id, val) {\r\n    let { value } = this.state;\r\n    if (!value) value = [];\r\n    if (id) value[id] = val;\r\n    else value = val;\r\n    if (this.props.setValue) this.props.setValue(this.model.id, value);\r\n  }\r\n  onSave(data) {\r\n    if (!this.state.value) return true;\r\n    for (let i = 0; i < this.state.value.length; i++)\r\n      if (this.localValue[this.state.value[i]])\r\n        app().database[this.model.source].save({\r\n          data: this.localValue[this.state.value[i]]\r\n        });\r\n    return true;\r\n  }\r\n  componentWillReceiveProps(nextProps) {\r\n    this.setState({\r\n      value: nextProps.value\r\n    });\r\n  }\r\n  onDelete(id) {\r\n    this.state.value.splice(this.state.value.indexOf(id), 1);\r\n    const self = this;\r\n    setTimeout(() => {\r\n      if (self.props.setValue)\r\n        self.props.setValue(self.props.model.id, self.state.value);\r\n    }, 0);\r\n    return true;\r\n  }\r\n  addField(data) {\r\n    if (!data.hashtag || !this.model.addTransform) return;\r\n    const fieldBase = JSON.parse(data.hashtag.replace(/'/g, '\"'));\r\n    const out = {};\r\n    for (\r\n      let i = 0;\r\n      this.model.addTransform && i < this.model.addTransform.length;\r\n      i++\r\n    )\r\n      out[this.model.addTransform[i][0]] = app().utils.insertValues(\r\n        this.model.addTransform[i][1],\r\n        fieldBase\r\n      );\r\n    return out;\r\n  }\r\n  render() {\r\n    const { model } = this.props;\r\n    let { value } = this.state;\r\n    if (!value) value = [];\r\n    if (!(value instanceof Array)) value = [value];\r\n    const className =\r\n      model.className && !this.props.wrapper ? model.className.join(\" \") : \"\";\r\n    const self = this;\r\n    function option(item, index) {\r\n      let id = item;\r\n      function onChange(fieldId, value) {\r\n        self.localValue[id] = value;\r\n      }\r\n      if (typeof item !== \"string\") {\r\n        if (!item._id) item._id = app.uuid();\r\n        id = item._id;\r\n        self.localValue[id] = item;\r\n        self.state.value[index] = id;\r\n      }\r\n      return (\r\n        <ContentTypeView\r\n          key={id}\r\n          noForm=\"true\"\r\n          contentType={model.source}\r\n          format={model.renderFormat ? model.renderFormat : \"view\"}\r\n          onDelete={self.onDelete}\r\n          onMissing={self.onDelete}\r\n          onChange={onChange}\r\n          value={self.localValue[id] ? self.localValue[id] : null}\r\n          id={self.localValue[id] ? null : id}\r\n          baseView={self.props.view}\r\n        />\r\n      );\r\n    }\r\n    this.id = app().uuid();\r\n    if (model.wrapper)\r\n      return (\r\n        <InputWrapper model={model} error={this.state.error}>\r\n          <div className=\"row col-sm-12\">\r\n            <DragAndDropList\r\n              ref=\"list\"\r\n              value={this.state.value}\r\n              setValue={this.setValue}\r\n              onAdd={this.addField}\r\n            >\r\n              {value.map(option)}\r\n            </DragAndDropList>\r\n          </div>\r\n        </InputWrapper>\r\n      );\r\n    return (\r\n      <div className={className}>\r\n        <DragAndDropList\r\n          ref=\"list\"\r\n          value={this.state.value}\r\n          setValue={this.setValue}\r\n          onAdd={this.addField}\r\n        >\r\n          {value.map(option)}\r\n        </DragAndDropList>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default ReferenceSortable;\r\n","import { TextSortBy } from \"nystem-components\";\r\nimport React from \"react\";\r\n\r\nconst ReferenceSortBy = (props) => <TextSortBy {...props} />;\r\nexport default ReferenceSortBy;\r\n","import React from \"react\";\r\nimport { ContentTypeView, InputWrapper, Wrapper } from \"nystem-components\";\r\n\r\nconst ReferenceView = ({ model, view, value = [], path }) => {\r\n  value = value instanceof Array ? value : [value];\r\n  const { renderFormat, className, source, itemClassName } = model;\r\n\r\n  const option = (item, index) => (\r\n    <ContentTypeView\r\n      key={item}\r\n      contentType={source}\r\n      baseView={view}\r\n      format={renderFormat || \"view\"}\r\n      id={item}\r\n      params={view.params}\r\n      className={itemClassName}\r\n      onReference={(item) => view.event(item.event, { ...item, model, path })}\r\n    />\r\n  );\r\n\r\n  if (model.wrapper)\r\n    return <InputWrapper model={model}>{value.map(option)}</InputWrapper>;\r\n\r\n  return <Wrapper className={className}>{value.map(option)}</Wrapper>;\r\n};\r\nexport default ReferenceView;\r\n","import React from \"react\";\r\nimport { Button } from \"nystem-components\";\r\n\r\nconst SelectButton = ({ model, setValue, value }) => {\r\n  const { trueState, trueOnState, falseState, btnType, falseOnState } = model;\r\n\r\n  const handleChange = (e) =>\r\n    setValue(trueOnState.indexOf(value) ? trueState : falseState);\r\n\r\n  let text = \"\";\r\n  let type = false;\r\n\r\n  if (trueOnState.indexOf(value) !== -1) {\r\n    ({ text } = model);\r\n    type = btnType;\r\n  } else if (falseOnState.indexOf(value) !== -1) {\r\n    text = model.falseText;\r\n    type = model.falseBtnType;\r\n  }\r\n\r\n  return (\r\n    <Button type={type} className={model.className} onClick={handleChange}>\r\n      {text || \"...\"}\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default SelectButton;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { SelectInput, UseSearch, RouterUseQueryStore } from \"nystem-components\";\r\n\r\nconst SelectExposedField = ({ model, view }) => {\r\n  const [className, setClassName] = useState(\"\");\r\n  const [value, setValue] = RouterUseQueryStore(model.saveId);\r\n  UseSearch({ view, id: model.id, value });\r\n\r\n  useEffect(() => {\r\n    if (!value) return;\r\n    setClassName(\"border-orange-300 outline-none\");\r\n\r\n    let timer = setTimeout(() => {\r\n      setClassName(\"border-green-500 outline-none\");\r\n      timer = setTimeout(() => {\r\n        timer = false;\r\n        setClassName(\"\");\r\n      }, 1000);\r\n    }, 200);\r\n\r\n    return () => {\r\n      if (timer) clearTimeout(timer);\r\n    };\r\n  }, [value]);\r\n\r\n  return (\r\n    <SelectInput\r\n      model={{\r\n        ...model,\r\n        clearButton: true,\r\n        classNameInput: `w-full ${className}`,\r\n        selectAllOnFocus: true,\r\n      }}\r\n      value={value}\r\n      setValue={setValue}\r\n    />\r\n  );\r\n};\r\nexport default SelectExposedField;\r\n","export default ({ value, model }) => {\r\n  value = value || [];\r\n  if (!(value instanceof Array)) value = [value];\r\n\r\n  return (\r\n    model.mandatory &&\r\n    !value.length &&\r\n    (model.text_mandatory || \"Field is mandatory\")\r\n  );\r\n};\r\n","import React, { useMemo, useEffect } from \"react\";\r\nimport {\r\n  InputWrapper,\r\n  UseValidator,\r\n  Button,\r\n  Wrapper,\r\n  Select,\r\n} from \"nystem-components\";\r\nimport validate from \"./validate\";\r\n\r\nconst normalizeOption = ({ option, optionObj }) =>\r\n  !option\r\n    ? optionObj || []\r\n    : option.map((item) =>\r\n        typeof item === \"string\" || typeof item === \"number\"\r\n          ? {\r\n              _id: item,\r\n              text: item,\r\n            }\r\n          : item\r\n      );\r\n\r\nconst renderButton = ({ option, handleChange, value, model }) => (\r\n  <Wrapper className={model.classNameInput}>\r\n    {option.map(({ text, _id }) => (\r\n      <Button\r\n        onClick={() => handleChange(_id)}\r\n        className={[model.classNameItem, \"mr-2 my-1\"]}\r\n        key={_id}\r\n        type={value.indexOf(_id) !== -1 ? \"primary\" : \"secondary\"}\r\n        size=\"xs\"\r\n      >\r\n        {text}\r\n      </Button>\r\n    ))}\r\n  </Wrapper>\r\n);\r\n\r\nconst renderCheckbox = ({ option, handleChange, value, limit, inline }) => (\r\n  <Wrapper className=\"flex flex-wrap items-center\">\r\n    {option.map(({ text, _id }) => (\r\n      <span className={`px-2 my-1 checkbox ${inline}`} key={_id}>\r\n        <label>\r\n          <input\r\n            onChange={() => handleChange(_id)}\r\n            type={limit === 1 ? \"radio\" : \"checkbox\"}\r\n            checked={value.indexOf(_id) !== -1 ? \"checked\" : false}\r\n            className=\"p-1 mr-2\"\r\n          />\r\n          {text}\r\n        </label>\r\n      </span>\r\n    ))}\r\n  </Wrapper>\r\n);\r\n\r\nconst renderDropdown = ({ option, handleChange, value, placeholder }) => (\r\n  // eslint-disable-next-line jsx-a11y/no-onchange\r\n  <Select\r\n    className=\"sm:w-1/2 w-full p-2 border\"\r\n    onChange={(e) => handleChange(e.target.value)}\r\n    value={value[0]}\r\n  >\r\n    <option key=\"_empty\" value=\"\">\r\n      {placeholder || \" - choose - \"}\r\n    </option>\r\n    {option.map(({ text, _id }) => (\r\n      <option key={_id || \"___\"} value={_id || \"___\"}>\r\n        {text}\r\n      </option>\r\n    ))}\r\n  </Select>\r\n);\r\n\r\nconst renderTypes = {\r\n  dropdown: renderDropdown,\r\n  button: renderButton,\r\n  checkbox: renderCheckbox,\r\n};\r\n\r\nconst SelectInput = ({ model, value, view, setValue }) => {\r\n  const [error, setValidated] = UseValidator({ view, validate, value, model });\r\n\r\n  const { placeholder, inline, render } = model;\r\n\r\n  const limit = render === \"dropdown\" ? 1 : parseInt(model.limit, 10);\r\n  if (!value) value = [];\r\n  if (!(value instanceof Array)) value = [value];\r\n\r\n  const option = useMemo(() => normalizeOption(model), [model]);\r\n\r\n  const handleChange = (id) => {\r\n    if (id === \"\") id = undefined;\r\n    if (value.indexOf(id) !== -1) value.splice(value.indexOf(id), 1);\r\n    else value.push(id);\r\n\r\n    if (limit && limit < value.length) value.shift();\r\n\r\n    if (limit === 1) setValue(value[0]);\r\n    else setValue(value);\r\n    setValidated(true);\r\n  };\r\n  useEffect(() => {\r\n    if (value.length === 0 && model.default) handleChange(model.default);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const out = renderTypes[render || \"checkbox\"]({\r\n    option,\r\n    handleChange,\r\n    value,\r\n    limit,\r\n    inline,\r\n    placeholder,\r\n    model,\r\n  });\r\n\r\n  return model.noWrapper ? (\r\n    out\r\n  ) : (\r\n    <InputWrapper model={model} error={error}>\r\n      {out}\r\n    </InputWrapper>\r\n  );\r\n};\r\nexport default SelectInput;\r\n","import React from \"react\";\nimport { TextSortBy } from \"nystem-components\";\nlet SelectSortBy = props => <TextSortBy {...props} />;\nexport default SelectSortBy;\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nconst SelectView = ({ model, value }) => {\r\n  const { className, renderAs, option } = model;\r\n  let val = value || model.fallback;\r\n\r\n  val =\r\n    option\r\n      .map((item) =>\r\n        typeof item === \"string\" ? { _id: item, text: item } : item\r\n      )\r\n      .find(({ _id }) => value === _id) || {};\r\n\r\n  return (\r\n    <Wrapper renderAs={renderAs} className={className}>\r\n      {app().t(val.text)}\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default SelectView;\r\n","import React from \"react\";\r\n\r\nconst Select = ({ className, ...props }) => (\r\n  <select className={className} {...props} />\r\n);\r\nexport default Select;\r\n","import React from \"react\";\r\nimport { Input, Wrapper, InputWrapper } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst SliderInput = ({ model, setValue, value }) => {\r\n  const val = model.absolute ? value : ((value - model.min) / model.max) * 100;\r\n  const display = model.precision\r\n    ? parseFloat(val).toFixed(model.precision)\r\n    : parseInt(val, 10);\r\n\r\n  return (\r\n    <InputWrapper model={model} className={model.className}>\r\n      <Input\r\n        placeholder={app().t(model.text)}\r\n        className=\"w-full\"\r\n        value={parseInt(value * 10, 10) || 0}\r\n        onChange={(value) => setValue(value / 10)}\r\n        type=\"range\"\r\n        min={model.min * 10}\r\n        max={model.max * 10}\r\n      />\r\n      <Wrapper className={model.textClass}>{`(${display || 0}%)`}</Wrapper>\r\n    </InputWrapper>\r\n  );\r\n};\r\n\r\nexport default SliderInput;\r\n","import React from \"react\";\r\nimport { TextLink } from \"nystem-components\";\r\n\r\nconst SliderLink = (props) => <TextLink {...props} />;\r\nexport default SliderLink;\r\n","import React from \"react\";\r\nimport { TextView } from \"nystem-components\";\r\n\r\nconst SliderView = (props) => <TextView {...props} />;\r\nexport default SliderView;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { TextInput, UseSearch, RouterUseQueryStore } from \"nystem-components\";\r\n\r\nconst TextExposedField = ({ model, view }) => {\r\n  const [className, setClassName] = useState(\"\");\r\n  const [value, setValue, ref] = RouterUseQueryStore(model.saveId);\r\n  UseSearch({ view, id: model.id, value });\r\n\r\n  useEffect(() => {\r\n    if (!value) {\r\n      setClassName(\"\");\r\n      return;\r\n    }\r\n\r\n    setClassName(\"border-orange-300 outline-none\");\r\n\r\n    let timer = setTimeout(() => {\r\n      setClassName(\"border-green-500 outline-none\");\r\n      timer = setTimeout(() => {\r\n        timer = false;\r\n        setClassName(\"\");\r\n      }, 500);\r\n    }, 200);\r\n\r\n    return () => {\r\n      if (timer) clearTimeout(timer);\r\n    };\r\n  }, [value]);\r\n\r\n  return (\r\n    <TextInput\r\n      ref={ref}\r\n      model={{\r\n        ...model,\r\n        clearButton: true,\r\n        classNameInput: [\r\n          !model.noWrapper && \"w-full\",\r\n          className,\r\n          model.classNameInput,\r\n        ],\r\n        selectAllOnFocus: true,\r\n      }}\r\n      value={value}\r\n      setValue={setValue}\r\n    />\r\n  );\r\n};\r\n\r\nexport default TextExposedField;\r\n","export default ({ value, model }) =>\r\n  model.mandatory && !value && (model.text_mandatory || \"Field is mandatory\");\r\n","import React, { useState } from \"react\";\r\nimport { InputWrapper, Input, Icon, UseValidator } from \"nystem-components\";\r\nimport app from \"nystem\";\r\nimport validate from \"./validate\";\r\nimport \"./input.css\";\r\n\r\nconst ClearButton = ({ value, setValue }) =>\r\n  !value ? null : (\r\n    <>\r\n      <Icon\r\n        onClick={() => setValue(\"\")}\r\n        className=\"w-8 h-8 p-2 relative left-12 cursor-pointer\"\r\n        icon=\"close\"\r\n        aria-hidden=\"true\"\r\n      />\r\n      <div className=\"flex-grow\" />\r\n    </>\r\n  );\r\n\r\nconst TextInput = ({ model, view, focus, setValue, value }, ref) => {\r\n  const [error, setValidated] = UseValidator({ view, validate, value, model });\r\n  const { disabled, length, text, clearButton, classNameInput = [] } = model;\r\n  const [id] = useState(app().uuid);\r\n\r\n  const contents = (\r\n    <Input\r\n      id={id}\r\n      ref={ref}\r\n      placeholder={model.placeholder || app().t(text)}\r\n      className={classNameInput}\r\n      value={value || \"\"}\r\n      maxLength={length}\r\n      onChange={(value) => setValue(value)}\r\n      disabled={disabled}\r\n      type=\"text\"\r\n      focus={model.focus || focus}\r\n      onBlur={() => setValidated(true)}\r\n      selectAllOnFocus={model.selectAllOnFocus}\r\n    />\r\n  );\r\n\r\n  return model.noWrapper ? (\r\n    contents\r\n  ) : (\r\n    <InputWrapper\r\n      id={id}\r\n      model={{\r\n        ...model,\r\n        classNameInput: \"relative flex-grow flex\",\r\n      }}\r\n      error={error}\r\n    >\r\n      {contents}\r\n      {clearButton ? <ClearButton value={value} setValue={setValue} /> : null}\r\n    </InputWrapper>\r\n  );\r\n};\r\nexport default React.forwardRef(TextInput);\r\n","import React from \"react\";\r\nimport { Link, Wrapper } from \"nystem-components\";\r\n\r\nconst TextLink = ({ model, view, value }) => {\r\n  const id = view.value ? `/${view.value._id}` : \"\";\r\n  const format = model.toFormat || \"input\";\r\n\r\n  if (model.renderAs)\r\n    return (\r\n      <Wrapper renderAs={model.renderAs} className={model.className}>\r\n        <Link\r\n          to={`${model.addToPath || \"\"}/${view.contentType}/${format}${id}`}\r\n        >\r\n          {value || model.fallback}\r\n        </Link>\r\n      </Wrapper>\r\n    );\r\n\r\n  return (\r\n    <Link\r\n      renderAs={model.renderAs}\r\n      className={model.className}\r\n      to={`${model.addToPath || \"\"}/${view.contentType}/${format}${id}`}\r\n    >\r\n      {value || model.fallback}\r\n    </Link>\r\n  );\r\n};\r\nexport default TextLink;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { Wrapper, DatabaseSearchContext, Icon } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst TextSortBy = ({ model, view }) => {\r\n  const { search } = useContext(DatabaseSearchContext);\r\n  const { id, text, className } = model;\r\n  const { sortby, reverse } = search;\r\n  const [ev, setEv] = useState(false);\r\n\r\n  const sortbyId = sortby instanceof Array ? sortby[0] : sortby;\r\n  const reverse1 = reverse instanceof Array ? reverse[0] : reverse;\r\n\r\n  const handleSort = (event) => {\r\n    if (event) event.preventDefault();\r\n\r\n    const rev = sortbyId === id ? !reverse : false;\r\n    const setSearch = (search) => ({\r\n      ...search,\r\n      reverse: rev,\r\n      sortby: id,\r\n    });\r\n\r\n    setEv(setSearch);\r\n    view.on(\"setSearch\", 200, setSearch);\r\n    view.event(\"setSearch\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!ev) return;\r\n\r\n    return () => {\r\n      view.off(\"setSearch\", ev);\r\n      setEv(false);\r\n    };\r\n  }, [ev, view]);\r\n\r\n  return (\r\n    <Wrapper\r\n      className={[className, \"flex\"]}\r\n      renderAs=\"a\"\r\n      href={id}\r\n      onClick={handleSort}\r\n    >\r\n      <Wrapper renderAs=\"span\">{`${app().t(text)} `}</Wrapper>\r\n      {sortbyId === id ? (\r\n        <Icon\r\n          icon={`arrow-${reverse1 ? \"up\" : \"down\"}`}\r\n          className=\"ml-1 w-4 font-bold\"\r\n        />\r\n      ) : null}\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default TextSortBy;\r\n","import React from \"react\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nconst TextView = ({ model, value }) => (\r\n  <Wrapper\r\n    className={model.className}\r\n    renderAs={model.renderAs}\r\n    translate={model.translate}\r\n  >\r\n    {value || model.fallback}\r\n  </Wrapper>\r\n);\r\n\r\nexport default TextView;\r\n","import React from \"react\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nconst TextareaFormatted = ({ model, value }) => (\r\n  <Wrapper\r\n    className={model.className}\r\n    renderAs={model.renderAs}\r\n    translate={model.translate}\r\n    dangerouslySetInnerHTML={{\r\n      __html: (value || model.fallback || \"\")\r\n        .substring(0, model.cutPoint || 100000)\r\n        .replace(\r\n          /(https?:\\/\\/[^\\s]+)/gim,\r\n          '<a target=\"_blank\" class=\"text-gray-400\" href=\"$1\">$1</a>'\r\n        )\r\n        .replace(/[\\n]/g, \"<br>\"),\r\n    }}\r\n  />\r\n);\r\n\r\nexport default TextareaFormatted;\r\n","import React from \"react\";\r\nimport { InputWrapper } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nclass TextareaInput extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    const state = {\r\n      value: props.value,\r\n    };\r\n    [\"handleChange\", \"valid\"].forEach((func) => {\r\n      this[func] = this[func].bind(this);\r\n    });\r\n    if (props.validated)\r\n      props.setValue(this.model.id, state.value, this.valid());\r\n    this.state = state;\r\n  }\r\n  handleChange() {\r\n    this.validated = true;\r\n    const { value } = this.refs.input;\r\n    this.setState({\r\n      value: value,\r\n      error: this.model.mandatory && !value ? this.errormsg : false,\r\n    });\r\n    this.props.setValue(this.model.id, value);\r\n  }\r\n  valid() {\r\n    if (this.model.mandatory && !this.state.value) {\r\n      this.setState({\r\n        error: this.model.text_mandatory ? this.model.text_mandatory : true,\r\n      });\r\n      return false;\r\n    }\r\n    if (this.state.error) delete this.state.error;\r\n    return true;\r\n  }\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (this.props.value !== nextProps.value)\r\n      this.setState({\r\n        value: nextProps.value,\r\n      });\r\n  }\r\n  render() {\r\n    const height = {};\r\n    if (this.model.height) height.height = `${this.model.height}px`;\r\n    return (\r\n      <InputWrapper model={this.model} error={this.state.error}>\r\n        <textarea\r\n          ref=\"input\"\r\n          placeholder={app().t(this.model.placeholder || this.model.text)}\r\n          className=\"form-control\"\r\n          value={this.state.value}\r\n          maxLength={this.model.length}\r\n          onChange={this.handleChange}\r\n          type=\"text\"\r\n          style={height}\r\n        />\r\n      </InputWrapper>\r\n    );\r\n  }\r\n}\r\nexport default TextareaInput;\r\n","import React from \"react\";\nimport { TextLink } from \"nystem-components\";\nlet TextareaLink = props => <TextLink {...props} />;\nexport default TextareaLink;\n","import React from \"react\";\nimport { TextSortBy } from \"nystem-components\";\nlet TextareaSortBy = props => <TextSortBy {...props} />;\nexport default TextareaSortBy;\n","import React from \"react\";\r\nimport { TextView } from \"nystem-components\";\r\n\r\nconst TextareaView = (props) => <TextView {...props} />;\r\nexport default TextareaView;\r\n","import { useEffect } from \"react\";\r\nimport app from \"nystem\";\r\n\r\nconst ViewButtonAutoSave = ({ view }) => {\r\n  useEffect(() => {\r\n    let saveIds = [];\r\n    let saveDelay = false;\r\n\r\n    const saveToDb = async () => {\r\n      const { errors = [] } = await view.event(\"validate\");\r\n      if (!saveIds.length || errors.length) return;\r\n\r\n      const reduceById = (res, id) => ({ ...res, [id]: view.getValue(id) });\r\n\r\n      const data = await app().database[view.contentType].save({\r\n        data: saveIds.reduce(reduceById, {\r\n          _id: view.value._id || view.id,\r\n        }),\r\n        fields: true,\r\n      });\r\n\r\n      if (!view.value._id) view.setValue({ path: \"_id\", value: data.id });\r\n\r\n      view.event(\"save\", view.value);\r\n\r\n      saveIds = [];\r\n    };\r\n\r\n    const handleChange = ({ id }) => {\r\n      if (!id || id === \"_id\" || !view.value) return;\r\n\r\n      if (saveIds.includes(id)) return;\r\n      saveIds.push(id);\r\n\r\n      saveDelay = setTimeout(saveToDb, 200);\r\n    };\r\n\r\n    view.on(\"change\", handleChange);\r\n    return () => {\r\n      view.off(\"change\", handleChange);\r\n      if (saveDelay) clearTimeout(saveDelay);\r\n    };\r\n  }, [view]);\r\n\r\n  return null;\r\n};\r\nexport default ViewButtonAutoSave;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Icon, Wrapper, Button } from \"nystem-components\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nconst ViewButtonBack = ({ children, model, history }) => {\r\n  model = model || {};\r\n  const { className, text } = model;\r\n\r\n  if (model.icon)\r\n    return (\r\n      <Icon\r\n        className={className}\r\n        icon={model.icon}\r\n        onClick={() => history.go(-1)}\r\n      />\r\n    );\r\n\r\n  return (\r\n    <Button\r\n      size={model.size}\r\n      type={model.btnType}\r\n      className={className}\r\n      onClick={() => history.go(-1)}\r\n    >\r\n      <Icon icon=\"arrow-left\" className=\"w-6 h-6\" />\r\n      <Wrapper>{children || app().t(text)}</Wrapper>\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default withRouter(ViewButtonBack);\r\n","import React, { useState, useEffect, useCallback, useMemo } from \"react\";\r\nimport app from \"nystem\";\r\nimport { Button } from \"nystem-components\";\r\n\r\nconst ViewButtonEventEmitter = ({ model, view }) => {\r\n  const buttonStates = useMemo(\r\n    () => ({\r\n      default: {\r\n        text: model.text ? model.text : \"Send\",\r\n        type: model.btnType ? model.btnType : \"secondary\",\r\n      },\r\n      confirm: {\r\n        text: \"Are you sure?\",\r\n        type: \"danger\",\r\n      },\r\n      saving: {\r\n        text: \"Sending ...\",\r\n        type: \"warning\",\r\n      },\r\n      success: {\r\n        text: \"Sent\",\r\n        type: \"success\",\r\n      },\r\n    }),\r\n    [model.btnType, model.text]\r\n  );\r\n\r\n  const [error, setError] = useState(false);\r\n  const [button, setButton] = useState(buttonStates.default);\r\n  const [savedTimer, setSavedTimer] = useState(false);\r\n  const [activeKeySaveView, setActiveKeySaveView] = useState(false);\r\n\r\n  const sendEvent = useCallback(() => {\r\n    setError(false);\r\n    setButton(buttonStates.saving);\r\n\r\n    app()\r\n      .connection.emit({\r\n        type: model.event,\r\n        event: model.subEvent,\r\n        value: view.value,\r\n        contentType: view.contentType,\r\n      })\r\n      .then((data) => {\r\n        setButton(buttonStates.success);\r\n        setSavedTimer(setTimeout(() => setButton(buttonStates.default), 1000));\r\n        if (data.redirectToPath) app().router.click(data.redirectToPath);\r\n      });\r\n  }, [buttonStates, model, view.contentType, view.value]);\r\n\r\n  const handleSubmit = useCallback(\r\n    async (event) => {\r\n      if (app().settings.debug) console.log(view.value);\r\n      if (event) event.preventDefault();\r\n      const { errors = [] } = await view.event(\"validate\");\r\n      if (errors.length) {\r\n        setError(\"Correct validation errors\");\r\n        return;\r\n      }\r\n\r\n      if (model.confirm && button !== buttonStates.confirm) {\r\n        setButton(buttonStates.confirm);\r\n        setSavedTimer(setTimeout(() => setButton(buttonStates.default), 1000));\r\n      } else sendEvent();\r\n    },\r\n    [button, buttonStates, model.confirm, sendEvent, view]\r\n  );\r\n\r\n  useEffect(() => {\r\n    const handleKeySave = () => {\r\n      if (activeKeySaveView) handleSubmit();\r\n    };\r\n    const inactivateKeySaveView = () => setActiveKeySaveView(false);\r\n    const activateKeySaveView = () => {\r\n      app().event(\"inactivateKeySaveView\");\r\n      setActiveKeySaveView(true);\r\n    };\r\n\r\n    if (model.saveOnKey) {\r\n      view.on(\"submit\", handleSubmit);\r\n      app().on(\"keypressSaveEvent\", handleKeySave);\r\n      app().on(\"inactivateKeySaveView\", inactivateKeySaveView);\r\n      setActiveKeySaveView(false);\r\n      view.on(\"change\", activateKeySaveView);\r\n    }\r\n\r\n    return () => {\r\n      if (savedTimer) clearTimeout(savedTimer);\r\n      if (model.saveOnKey) {\r\n        view.off(\"submit\", handleSubmit);\r\n        view.off(\"change\", activateKeySaveView);\r\n        app().off(\"keypressSaveEvent\", handleKeySave);\r\n        app().off(\"inactivateKeySaveView\", inactivateKeySaveView);\r\n      }\r\n    };\r\n  }, [activeKeySaveView, handleSubmit, model.saveOnKey, savedTimer, view]);\r\n\r\n  return (\r\n    <>\r\n      <Button\r\n        onClick={handleSubmit}\r\n        className={model.className}\r\n        type={model.btnType}\r\n        size={model.size}\r\n      >\r\n        {app().t(button.text)}\r\n      </Button>\r\n      {error}\r\n    </>\r\n  );\r\n};\r\nexport default ViewButtonEventEmitter;\r\n","import React, { useState, useEffect, useMemo, useCallback } from \"react\";\r\nimport app from \"nystem\";\r\nimport { Button, Wrapper } from \"nystem-components\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nconst baseButtonStates = {\r\n  default: {\r\n    text: \"Save\",\r\n    type: \"secondary\",\r\n  },\r\n  saving: {\r\n    text: \"Saving ...\",\r\n    type: \"warning\",\r\n  },\r\n  success: {\r\n    text: \"Saved\",\r\n    type: \"success\",\r\n  },\r\n  deleted: {\r\n    text: \"Undo delete\",\r\n    type: \"warning\",\r\n  },\r\n};\r\n\r\nconst ViewButtonInput = ({ view, model, value, history, location }) => {\r\n  const { text, btnType } = model;\r\n\r\n  const buttonStates = useMemo(\r\n    () =>\r\n      text\r\n        ? {\r\n            ...baseButtonStates,\r\n            default: {\r\n              text,\r\n              type: `${btnType || \"secondary\"}`,\r\n            },\r\n          }\r\n        : baseButtonStates,\r\n    [btnType, text]\r\n  );\r\n  const [button, setButton] = useState(\"default\");\r\n  const [error, setError] = useState(false);\r\n  const [savedTimer, setSavedTimer] = useState(false);\r\n  const [activeKeySaveView, setActiveKeySaveView] = useState(false);\r\n\r\n  const inactivateKeySaveView = () => {\r\n    setActiveKeySaveView(false);\r\n  };\r\n  const activateKeySaveView = () => {\r\n    app().event(\"inactivateKeySaveView\");\r\n    setActiveKeySaveView(true);\r\n  };\r\n  const handleCancel = () => {\r\n    if (view.event(\"cancel\")) view.event(\"reload\");\r\n  };\r\n  const handleDelete = () => {\r\n    if (view.event(\"delete\"))\r\n      app()\r\n        .database[view.contentType].delete({ id: view.value._id })\r\n        .then(() => setButton(\"deleted\"));\r\n  };\r\n\r\n  const handleSubmit = useCallback(async () => {\r\n    if (button !== \"default\") return;\r\n\r\n    const { errors = [] } = await view.event(\"validate\");\r\n    if (errors.length) {\r\n      setError(\"Correct validation errors\", errors);\r\n      setSavedTimer(\r\n        setTimeout(() => {\r\n          setSavedTimer(false);\r\n        }, 1000)\r\n      );\r\n      return;\r\n    }\r\n    setError(false);\r\n    setButton(\"saving\");\r\n\r\n    const { data, error } = await app().database[view.contentType].save({\r\n      data: { ...value },\r\n      view: view.format,\r\n    });\r\n\r\n    console.log(\"zzave\", { data, error }, value._id);\r\n\r\n    if (error) {\r\n      view.event(\"error\", error);\r\n      setButton(\"default\");\r\n      return;\r\n    }\r\n\r\n    const saved = await view.event(\"save\", data);\r\n    const { pathname } = location;\r\n\r\n    if (data && view.value._id && view.value._id !== data._id) {\r\n      history.replace(\r\n        pathname.replace(`/${view.value._id}`, `/${data._id || \"\"}`)\r\n      );\r\n      return;\r\n    }\r\n\r\n    if (!model.noRedirect && !view.value._id) {\r\n      view.setValue({ path: \"_id\", value: data._id });\r\n      history.replace(`${model.redirectURL || pathname}/${data._id || \"\"}`);\r\n      return;\r\n    }\r\n\r\n    if (!saved) return;\r\n\r\n    setButton(\"success\");\r\n    setSavedTimer(\r\n      setTimeout(() => {\r\n        setButton(\"default\");\r\n        setSavedTimer(false);\r\n      }, 1000)\r\n    );\r\n  }, [button, history, location, model, value, view]);\r\n\r\n  useEffect(() => () => savedTimer && clearTimeout(savedTimer), [savedTimer]);\r\n\r\n  useEffect(() => {\r\n    const handleKeySave = () => {\r\n      if (activeKeySaveView) handleSubmit();\r\n    };\r\n\r\n    view.on(\"submit\", handleSubmit);\r\n    app().on(\"keypressSaveEvent\", handleKeySave);\r\n    app().on(\"inactivateKeySaveView\", inactivateKeySaveView);\r\n    view.on(\"change\", activateKeySaveView);\r\n\r\n    return () => {\r\n      view.off(\"submit\", handleSubmit);\r\n      view.off(\"change\", activateKeySaveView);\r\n      app().off(\"keypressSaveEvent\", handleKeySave);\r\n      app().off(\"inactivateKeySaveView\", inactivateKeySaveView);\r\n    };\r\n  }, [activeKeySaveView, handleSubmit, view]);\r\n\r\n  return (\r\n    <>\r\n      <Wrapper className={model.className}>\r\n        <Button\r\n          size={model.size}\r\n          onClick={handleSubmit}\r\n          type={buttonStates[button].type}\r\n        >\r\n          {app().t(buttonStates[button].text)}\r\n        </Button>\r\n        {button === \"default\" && !model.sendOnly && view.value._id && (\r\n          <>\r\n            <Button size={model.size} onClick={handleCancel} type=\"warning\">\r\n              Cancel\r\n            </Button>\r\n            <Button size={model.size} onClick={handleDelete} type=\"danger\">\r\n              {app().t(\"Delete\")}\r\n            </Button>\r\n          </>\r\n        )}\r\n      </Wrapper>\r\n      {error && (\r\n        <Wrapper className={`red py-2 px-1 ${savedTimer ? \"font-bold\" : \"\"}`}>\r\n          {error}\r\n        </Wrapper>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default withRouter(ViewButtonInput);\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Button, Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst ViewButtonReference = ({ model, view, path }) => {\r\n  const { event, item, className } = model;\r\n\r\n  if (item && item.length)\r\n    return (\r\n      <Wrapper\r\n        className={className}\r\n        onClick={() => view.event(\"reference\", { event, value: view.value })}\r\n      >\r\n        <ContentTypeRender path={path} items={item} />\r\n      </Wrapper>\r\n    );\r\n\r\n  return (\r\n    <Button\r\n      onClick={() => view.event(\"reference\", { event, value: view.value })}\r\n      className={className}\r\n      type={model.btnType}\r\n      size={model.btnSize}\r\n    >\r\n      {app().t(model.text)}\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default ViewButtonReference;\r\n","import React from \"react\";\r\nimport { Button } from \"nystem-components\";\r\n\r\nconst ViewButtonSetValue = ({ model, view }) => {\r\n  const value = view.getValue(model.field);\r\n  const modelValue =\r\n    model.value.replace(/[0-9]/, \"\") === \"\"\r\n      ? parseInt(model.value, 10)\r\n      : model.value;\r\n\r\n  const setValue = () =>\r\n    view.setValue({ path: model.field, value: modelValue });\r\n\r\n  return (\r\n    <Button\r\n      type={value === modelValue ? model.btnType : model.falseBtnType}\r\n      size={model.size}\r\n      className={model.className}\r\n      onClick={() => setValue()}\r\n    >\r\n      {value ? model.text : model.falseText || model.text}\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default ViewButtonSetValue;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Button, Wrapper } from \"nystem-components\";\r\n\r\nconst ViewButtonView = ({ model, view }) => (\r\n  <Wrapper className={model.className}>\r\n    <Button\r\n      type={model.btnType}\r\n      onClick={() => view.event(model.event || \"submit\", view.value)}\r\n    >\r\n      {app().t(model.text || \"...\")}\r\n    </Button>\r\n  </Wrapper>\r\n);\r\n\r\nexport default ViewButtonView;\r\n","import React from \"react\";\r\nimport { ContentTypeView } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst ViewInViewEmpty = ({ model, view, path }) => {\r\n  const { contentType, className, viewId } = model;\r\n\r\n  const insertVal = (val) => {\r\n    if (!val) return val;\r\n    return val.replace(/\\{([a-z_.]+)\\}/gim, (str, p1, offset, s) => {\r\n      if (p1 === \"_language\") return app().settings.lang;\r\n      if (p1 === \"id\") return view.id;\r\n      if (p1.indexOf(\"baseView.\") !== 0)\r\n        return view.getValue(p1.replace(\"..\", path));\r\n      p1 = p1.replace(\"baseView.\", \"\");\r\n      return view.baseView.getValue(p1.replace(\"..\", path));\r\n    });\r\n  };\r\n\r\n  return (\r\n    <ContentTypeView\r\n      className={className}\r\n      contentType={contentType}\r\n      format={model.view}\r\n      baseView={view}\r\n      id={insertVal(viewId)}\r\n    />\r\n  );\r\n};\r\nexport default ViewInViewEmpty;\r\n","import React from \"react\";\r\nimport { ContentTypeView } from \"nystem-components\";\r\n\r\nconst ViewInViewSetValue = ({ model, view, path, value }) => {\r\n  const { addid, viewId, contentType } = model;\r\n\r\n  const setValue = (id, value) => {\r\n    if (!id && !value) return;\r\n    if (model.addid) view.setValue({ path: model.addid, value });\r\n    else view.setValue(id, value);\r\n  };\r\n\r\n  const insertVal = (val) =>\r\n    val &&\r\n    val.replace(/\\{([a-z_.]+)\\}/gim, (str, p1, offset, s) =>\r\n      view.getValue(p1.replace(\"..\", path))\r\n    );\r\n\r\n  return (\r\n    <ContentTypeView\r\n      className={model.className}\r\n      setValue={setValue}\r\n      contentType={contentType}\r\n      format={model.view}\r\n      value={addid ? value[addid] : value}\r\n      id={insertVal(viewId)}\r\n    />\r\n  );\r\n};\r\n\r\nexport default ViewInViewSetValue;\r\n","import React from \"react\";\r\nimport { ContentTypeView } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst ViewInViewView = ({ model, view, value, path, onSave }) => {\r\n  const { addid, contentType, className, viewId } = model;\r\n\r\n  const insertVal = (val) => {\r\n    if (!val) return val;\r\n    return val.replace(/\\{([a-z_.]+)\\}/gim, (str, p1, offset, s) => {\r\n      if (p1 === \"_language\") return app().settings.lang;\r\n      if (p1 === \"id\") return view.id;\r\n      if (p1.indexOf(\"baseView.\") !== 0)\r\n        return view.getValue(p1.replace(\"..\", path));\r\n      p1 = p1.replace(\"baseView.\", \"\");\r\n      return view.baseView.getValue(p1.replace(\"..\", path));\r\n    });\r\n  };\r\n\r\n  return (\r\n    <ContentTypeView\r\n      className={className}\r\n      contentType={contentType}\r\n      format={model.view}\r\n      value={(addid && value[addid]) || value}\r\n      id={insertVal(viewId)}\r\n      baseView={view}\r\n      {...(onSave ? { onSave } : {})}\r\n    />\r\n  );\r\n};\r\nexport default ViewInViewView;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Link } from \"nystem-components\";\r\n\r\nclass ViewLinkButton extends React.Component {\r\n  render() {\r\n    const { model } = this.props;\r\n    let className = model.className ? model.className.join(\" \") : \"\";\r\n    let { href } = model;\r\n    if (model.renderType) className += ` btn-${model.renderType}`;\r\n    if (href[href.length - 1] === \"/\" && this.props.view.value)\r\n      href += this.props.view.value._id;\r\n    return (\r\n      <Link\r\n        className={`${className} btn`}\r\n        to={href}\r\n        match={model.match}\r\n        type=\"button\"\r\n        title={this.props.title ? this.props.title : \"\"}\r\n      >\r\n        {app().t(model.text)}\r\n      </Link>\r\n    );\r\n  }\r\n}\r\nexport default ViewLinkButton;\r\n","import React from \"react\";\r\nimport { Link, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst ViewLinkDynamicFields = ({ view, path, model }) => {\r\n  const insertVal = (val) => {\r\n    if (!val) return val;\r\n    return val.replace(/\\{([a-z_.0-9]+)\\}/gim, (str, p1, offset, s) => {\r\n      if (/pathItem[0-9]/.test(p1) && view.params) return view.params[p1[8]];\r\n      return view.getValue(p1.replace(\"..\", path));\r\n    });\r\n  };\r\n\r\n  const { className, exact, match, item, href } = model;\r\n\r\n  return (\r\n    <Link\r\n      className={className}\r\n      to={insertVal(href)}\r\n      match={match}\r\n      exact={exact}\r\n    >\r\n      <ContentTypeRender path={path} items={item} />\r\n    </Link>\r\n  );\r\n};\r\nexport default ViewLinkDynamicFields;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Link } from \"nystem-components\";\r\n\r\nconst ViewLinkDynamicLink = ({ model, view, path }) => {\r\n  const insertVal = (val) =>\r\n    val &&\r\n    val.replace(/\\{([a-z_.0-9]+)\\}/gim, (str, p1, offset, s) => {\r\n      if (/pathItem[0-9]/.test(p1) && view.params) return view.params[p1[8]];\r\n      return view.getValue(p1.replace(\"..\", path));\r\n    });\r\n\r\n  const { href, match, className } = model;\r\n\r\n  return (\r\n    <Link\r\n      className={className ? className.join(\" \") : \"\"}\r\n      to={insertVal(href)}\r\n      match={insertVal(match)}\r\n    >\r\n      {app().t(model.text)}\r\n    </Link>\r\n  );\r\n};\r\nexport default ViewLinkDynamicLink;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst ViewLinkExternal = ({ view, path, model }) => {\r\n  const insertVal = (val) => {\r\n    if (!val) return val;\r\n    return val.replace(/\\{([a-z_.0-9]+)\\}/gim, (str, p1, offset, s) => {\r\n      if (/pathItem[0-9]/.test(p1) && view.params) return view.params[p1[8]];\r\n      return view.getValue(p1.replace(\"..\", path));\r\n    });\r\n  };\r\n\r\n  const { className, item, href } = model;\r\n\r\n  return (\r\n    <Wrapper\r\n      className={className}\r\n      href={`https://${insertVal(href).replace(/https?:\\/\\//, \"\")}`}\r\n      target=\"_blank\"\r\n      renderAs=\"a\"\r\n      rel=\"noopener\"\r\n    >\r\n      <ContentTypeRender path={path} items={item} />\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default ViewLinkExternal;\r\n","import React from \"react\";\r\nimport { Link, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst ViewLinkFields = ({ model, value, path }) => {\r\n  const { className, contentType, view: toView, add, addId, item } = model;\r\n\r\n  let href = `/${contentType}/${toView}`;\r\n  if (addId && value) href += `/${value._id}`;\r\n\r\n  return (\r\n    <Link to={(add || \"\") + href} className={className}>\r\n      <ContentTypeRender path={path} items={item} />\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default ViewLinkFields;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Link, Icon } from \"nystem-components\";\r\nclass ViewLinkLink extends React.Component {\r\n  render() {\r\n    const model = this.props.model;\r\n    const className = model.className ? model.className.join(\" \") : \"\";\r\n    const href =\r\n      model.href && this.props.view.id\r\n        ? model.href.replace(\"{id}\", this.props.view.id)\r\n        : model.href;\r\n\r\n    if (model.blank)\r\n      return (\r\n        <a\r\n          className={className}\r\n          href={href}\r\n          rel=\"noopener noreferrer\"\r\n          target=\"_blank\"\r\n        >\r\n          {app().t(model.text)}\r\n        </a>\r\n      );\r\n\r\n    if (model.renderType === \"icon\")\r\n      return (\r\n        <Link to={href} match={model.match} type=\"link\">\r\n          <Icon className={className} />\r\n        </Link>\r\n      );\r\n\r\n    return (\r\n      <Link className={className} to={href} match={model.match} type=\"link\">\r\n        {app().t(model.text)}\r\n      </Link>\r\n    );\r\n  }\r\n}\r\nexport default ViewLinkLink;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Link, Button } from \"nystem-components\";\r\n\r\nconst ViewLinkView = ({ model, value }) => {\r\n  const {\r\n    renderType,\r\n    className,\r\n    contentType,\r\n    view: toView,\r\n    text,\r\n    add,\r\n    addId,\r\n    btnType,\r\n    size,\r\n  } = model;\r\n\r\n  let href = `/${contentType}/${toView}`;\r\n  if (addId && value) href += `/${value._id}`;\r\n\r\n  if (renderType === \"button\")\r\n    return (\r\n      <Button\r\n        type={btnType}\r\n        size={size}\r\n        to={(add || \"\") + href}\r\n        className={className}\r\n        Component={Link}\r\n      >\r\n        {app().t(text)}\r\n      </Button>\r\n    );\r\n\r\n  return (\r\n    <Link\r\n      type={renderType || \"list\"}\r\n      to={(add || \"\") + href}\r\n      className={className}\r\n    >\r\n      {app().t(text)}\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default ViewLinkView;\r\n","import React, { useContext } from \"react\";\r\nimport {\r\n  Wrapper,\r\n  ContentTypeRender,\r\n  DatabaseSearchContext,\r\n} from \"nystem-components\";\r\n\r\nconst ViewListEmptySearchresult = ({ model, path }) => {\r\n  const { search = {} } = useContext(DatabaseSearchContext);\r\n  const { filter = {} } = search;\r\n  const searchText = ((filter.$and || []).find((item) => item.$all) || {}).$all;\r\n\r\n  if ((!searchText && model.inverse) || (searchText && !model.inverse))\r\n    return (\r\n      <Wrapper className={model.className} renderAs={model.renderAs}>\r\n        <ContentTypeRender path={path} items={model.item} />\r\n      </Wrapper>\r\n    );\r\n\r\n  return null;\r\n};\r\nexport default ViewListEmptySearchresult;\r\n","import React, { useState, useEffect, useRef, useContext } from \"react\";\r\nimport app from \"nystem\";\r\nimport {\r\n  Wrapper,\r\n  DatabaseSearchContext,\r\n  ContentTypeRender,\r\n} from \"nystem-components\";\r\n\r\nconst getStyle = (top, extend) => ({\r\n  position: \"absolute\",\r\n  top: `${top}px`,\r\n  width: \"100%\",\r\n  ...extend,\r\n});\r\n\r\nconst ViewListInfiniteSlot = ({ height, slot, model, setSize, view }) => {\r\n  const context = useContext(DatabaseSearchContext);\r\n  const [slotSearch, setSlotSearch] = useState(false);\r\n  const ref = useRef();\r\n\r\n  useEffect(() => {\r\n    if (slot === 0) return;\r\n    const db = app().database[view.contentType];\r\n\r\n    const timer = setTimeout(() => {\r\n      db.search({\r\n        ...context.search,\r\n        position: slot * context.search.count,\r\n        data: undefined,\r\n      }).then((search) => search.data && setSlotSearch(search));\r\n    }, model.searchDelay || 10);\r\n    return () => {\r\n      clearTimeout(timer);\r\n    };\r\n  }, [context.search, model.searchDelay, slot, view.contentType]);\r\n\r\n  useEffect(() => {\r\n    const setHeight = () => {\r\n      if (ref.current && ref.current.offsetHeight)\r\n        setSize(ref.current.offsetHeight);\r\n      else setTimeout(setHeight, 20);\r\n    };\r\n    setTimeout(setHeight, 0);\r\n  }, [setSize]);\r\n\r\n  if (slot !== 0 && !slotSearch)\r\n    return (\r\n      <div\r\n        className=\"loading p-4 m-4 rounded-lg shadow h-4 max-w-xl\"\r\n        style={getStyle(height * slot)}\r\n      />\r\n    );\r\n\r\n  const contents = (\r\n    <div\r\n      ref={ref}\r\n      style={getStyle(height * slot, {\r\n        visibility: height ? \"visible\" : \"hidden\",\r\n      })}\r\n    >\r\n      <ContentTypeRender path={model.path} items={model.item} />\r\n    </div>\r\n  );\r\n\r\n  if (slot === 0) return contents;\r\n\r\n  return (\r\n    <DatabaseSearchContext.Provider value={{ search: slotSearch }}>\r\n      {contents}\r\n    </DatabaseSearchContext.Provider>\r\n  );\r\n};\r\n\r\nconst ViewListInfinite = ({ view, model }) => {\r\n  const { search, loading } = useContext(DatabaseSearchContext);\r\n  const { searchTotal } = search;\r\n  const ref = useRef();\r\n  const [pos, setPos] = useState(0);\r\n  const [height, setHeight] = useState(0);\r\n  const slotsTotal = parseInt((searchTotal || 0) / search.count, 10) || 0;\r\n  const slotLimit = parseInt(model.slotLimit || 3, 10);\r\n\r\n  useEffect(() => {\r\n    if (!slotsTotal) return;\r\n    view.event(\"infiniteScrollPos\", { pos, total: slotsTotal - slotLimit + 1 });\r\n  }, [pos, slotLimit, slotsTotal, view]);\r\n\r\n  useEffect(() => {\r\n    let updateTimer = false;\r\n    let pos = 0;\r\n    let element = false;\r\n    let top = 0;\r\n    let timer = false;\r\n    const offset = (height) => (height < top ? 0 : height - top);\r\n\r\n    const updateSlots = () => {\r\n      clearTimeout(updateTimer);\r\n      updateTimer = false;\r\n\r\n      const newPos = parseInt(\r\n        (offset(element.scrollY) / (height * slotsTotal)) * slotsTotal,\r\n        10\r\n      );\r\n\r\n      if (pos === newPos) return;\r\n      pos = newPos;\r\n      setPos(pos);\r\n    };\r\n\r\n    const scrollEvent = () => {\r\n      if (!updateTimer) updateTimer = setTimeout(updateSlots, 200);\r\n    };\r\n\r\n    let width = window.innerWidth;\r\n    const resizeEvent = () => {\r\n      if (width === window.innerWidth) return;\r\n\r\n      width = window.innerWidth;\r\n      scrollEvent();\r\n      setHeight(0);\r\n    };\r\n\r\n    const start = () => {\r\n      element = ref.current;\r\n      if (!element) {\r\n        timer = setTimeout(start, 20);\r\n        return;\r\n      }\r\n      const { top: newTop } = element.getBoundingClientRect();\r\n      if (newTop > 0) top = newTop;\r\n\r\n      element = window;\r\n\r\n      element.addEventListener(\"scroll\", scrollEvent);\r\n      element.addEventListener(\"resize\", resizeEvent);\r\n    };\r\n    start();\r\n\r\n    return () => {\r\n      if (timer) clearTimeout(timer);\r\n      if (updateTimer) clearTimeout(updateTimer);\r\n      if (!element) return;\r\n\r\n      element.removeEventListener(\"scroll\", scrollEvent);\r\n      element.removeEventListener(\"resize\", resizeEvent);\r\n    };\r\n  }, [height, model, search.count, search.searchTotal, slotsTotal]);\r\n\r\n  if (loading) return null;\r\n\r\n  const slots = Array(\r\n    slotsTotal - pos < slotLimit - 1 ? slotsTotal - pos + 1 : slotLimit\r\n  ).fill();\r\n\r\n  return (\r\n    <Wrapper\r\n      ref={ref}\r\n      className={model.className}\r\n      style={{ position: \"relative\", height: `${height * slotsTotal}px` }}\r\n    >\r\n      {slots.map((und, index) => (\r\n        <ViewListInfiniteSlot\r\n          key={index + pos}\r\n          slot={index + pos}\r\n          model={model}\r\n          height={height}\r\n          setSize={(newHeight) => {\r\n            if (height < newHeight) setHeight(newHeight);\r\n          }}\r\n          view={view}\r\n          search={search}\r\n        />\r\n      ))}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default ViewListInfinite;\r\n","import React from \"react\";\r\nimport { Wrapper, UseEventListner } from \"nystem-components\";\r\n\r\nconst ViewListInfiniteScrollPos = ({ model, view }) => {\r\n  const { text, className, classNameLabel, classNameInfo } = model;\r\n  const { pos, total } = UseEventListner(view, \"infiniteScrollPos\");\r\n\r\n  if (!total) return null;\r\n\r\n  return (\r\n    <Wrapper className={className}>\r\n      <Wrapper className={classNameLabel}>{text}</Wrapper>\r\n      <Wrapper className={classNameInfo}>\r\n        {pos + 1} of {total + 1}\r\n      </Wrapper>\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default ViewListInfiniteScrollPos;\r\n","import React, { useContext } from \"react\";\r\nimport { Wrapper, DatabaseSearchContext } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst ViewListListStat = ({ model }) => {\r\n  const { search } = useContext(DatabaseSearchContext);\r\n  function total() {\r\n    if (\r\n      search.searchTotal === search.total ||\r\n      model.show.indexOf(\"total\") === -1\r\n    )\r\n      return null;\r\n    return (\r\n      <Wrapper renderAs=\"span\">\r\n        {`, ${search.total}${app().t(\" in total\")}`}\r\n      </Wrapper>\r\n    );\r\n  }\r\n\r\n  let text = \"\";\r\n  if (!model.show) model.show = [];\r\n  if (model.show.indexOf(\"currentPos\") !== -1)\r\n    text += search.position ? search.position : 0;\r\n  if (\r\n    model.show.indexOf(\"currentPos\") !== -1 &&\r\n    model.show.indexOf(\"toPos\") !== -1\r\n  )\r\n    text += \" - \";\r\n  if (model.show.indexOf(\"toPos\") !== -1)\r\n    text += search.count ? search.count : 0;\r\n  if (\r\n    model.show.indexOf(\"searchTotal\") !== -1 &&\r\n    (model.show.indexOf(\"currentPos\") !== -1 ||\r\n      model.show.indexOf(\"toPos\") !== -1)\r\n  )\r\n    text += \" of \";\r\n  if (model.show.indexOf(\"searchTotal\") !== -1)\r\n    text += search.searchTotal ? search.searchTotal : 0;\r\n\r\n  /* const toPos = settings.searchTotal < settings.position + settings.count\r\n      ? settings.searchTotal\r\n      : settings.position + settings.count; */\r\n  return (\r\n    <Wrapper className={[model.className, \"control-label\"]}>\r\n      <Wrapper>{model.text}</Wrapper>\r\n      <Wrapper>{text}</Wrapper>\r\n      {total()}\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default ViewListListStat;\r\n","import React, { useContext } from \"react\";\r\nimport { Wrapper, DatabaseSearchContext, Button } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst ViewListPager = ({ view, model }) => {\r\n  const { search } = useContext(DatabaseSearchContext);\r\n  const update = (e, move) => {\r\n    if (move === -1) search.position = prev(search);\r\n    if (move === 1) search.position = next(search);\r\n    view.event(\"setSearch\", search);\r\n  };\r\n\r\n  const prev = (search) =>\r\n    search.position !== 0 ? search.position - search.count : -1;\r\n  const next = (search) =>\r\n    search.position + search.count < search.searchTotal\r\n      ? search.position + search.count\r\n      : -1;\r\n\r\n  const className = model.className ? model.className.join(\" \") : \"\";\r\n  const hasPrev = prev(search) !== -1;\r\n  const hasNext = next(search) !== -1;\r\n\r\n  return (\r\n    <Wrapper renderAs=\"ul\" className={`${className} flex py-4`}>\r\n      <Button\r\n        disabled={!hasPrev && \"disabled\"}\r\n        className=\"mr-2\"\r\n        onClick={hasPrev ? (e) => update(e, -1) : undefined}\r\n      >\r\n         {app().t(\"Previous\")}\r\n      </Button>\r\n      <Button\r\n        disabled={!hasNext && \"disabled\"}\r\n        onClick={hasNext ? (e) => update(e, 1) : undefined}\r\n      >\r\n        {app().t(\"Next\")} \r\n      </Button>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default ViewListPager;\r\n","import React from \"react\";\r\nimport { ContentTypeView } from \"nystem-components\";\r\n\r\nimport \"./table.css\";\r\n\r\nconst ViewListRender = ({ model, view, value }) => {\r\n  const { rowClassName = [] } = model;\r\n  value = model.value || value;\r\n\r\n  function createItem(item) {\r\n    const id = [\"number\", \"string\"].includes(typeof item) ? item : item._id;\r\n\r\n    const settings = {\r\n      view: model,\r\n      contentType: view.contentType,\r\n      id,\r\n      key: id,\r\n      noForm: true,\r\n      baseView: view,\r\n      params: view.params,\r\n      className: rowClassName,\r\n      renderAs: item.renderAs,\r\n      itemRenderAs: item.renderAs === \"tr\" && \"td\",\r\n    };\r\n\r\n    return <ContentTypeView {...settings} />;\r\n  }\r\n\r\n  return value.map(createItem);\r\n};\r\n\r\nexport default ViewListRender;\r\n","import React from \"react\";\r\nimport { TextExposedField } from \"nystem-components\";\r\n\r\nconst ViewListSearch = ({ model, view }) => (\r\n  <TextExposedField\r\n    view={view}\r\n    model={{ text: \"Search\", ...model, id: \"$all\" }}\r\n  />\r\n);\r\n\r\nexport default ViewListSearch;\r\n","import React, { useContext } from \"react\";\r\nimport {\r\n  DatabaseSearchContext,\r\n  Wrapper,\r\n  ContentTypeRender,\r\n  ViewListRender,\r\n} from \"nystem-components\";\r\n\r\nimport \"./table.css\";\r\n\r\nconst ViewListView = ({ model, view }) => {\r\n  const { search } = useContext(DatabaseSearchContext);\r\n\r\n  const value = (search && search.data) || [];\r\n  const { emptyFields, className = [], headerFields, renderFormat } = model;\r\n\r\n  if (value.length === 0 && emptyFields && emptyFields.length > 0)\r\n    return (\r\n      <Wrapper className={className}>\r\n        <ContentTypeRender items={emptyFields} />\r\n      </Wrapper>\r\n    );\r\n\r\n  if (model.renderFormat === \"table\")\r\n    return (\r\n      <Wrapper renderAs=\"table\" className={className}>\r\n        <Wrapper renderAs=\"thead\">\r\n          <Wrapper renderAs=\"tr\">\r\n            <ContentTypeRender items={headerFields} renderAs=\"th\" />\r\n          </Wrapper>\r\n        </Wrapper>\r\n        <Wrapper renderAs=\"tbody\">\r\n          <ViewListRender\r\n            value={value.map((data) => ({ ...data, renderAs: \"tr\" }))}\r\n            model={model}\r\n            view={view}\r\n          />\r\n        </Wrapper>\r\n      </Wrapper>\r\n    );\r\n\r\n  if (renderFormat === \"list\")\r\n    return (\r\n      <Wrapper className={className}>\r\n        <ViewListRender value={value} model={model} view={view} />\r\n      </Wrapper>\r\n    );\r\n\r\n  if (headerFields && headerFields.length)\r\n    return (\r\n      <Wrapper className={className}>\r\n        <ContentTypeRender items={headerFields} />\r\n        <ViewListRender value={value} model={model} view={view} />\r\n      </Wrapper>\r\n    );\r\n\r\n  return (\r\n    <Wrapper className={className}>\r\n      <ViewListRender value={value} model={model} view={view} />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default ViewListView;\r\n","import React from \"react\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nconst ViewTextBreak = ({ model }) => {\r\n  const className = model.className ? model.className.join(\" \") : \"\";\r\n  return (\r\n    <Wrapper className={className} renderAs={model.renderAs} translate=\"true\">\r\n      <br />\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default ViewTextBreak;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\nclass ViewTextToken extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.view = props.view;\r\n    const state = {\r\n      value: app().utils.clone(this.view.value),\r\n      text: this.insertVal(this.model.text)\r\n    };\r\n    this.view.on(\"change\", this.setValueView);\r\n    this.state = state;\r\n  }\r\n  setValueView() {\r\n    const self = this;\r\n    if (JSON.stringify(this.view.value) !== JSON.stringify(this.state.value))\r\n      setTimeout(function() {\r\n        if (self.isMounted())\r\n          self.setState({\r\n            value: app().utils.clone(self.view.value),\r\n            text: self.insertVal(self.model.text)\r\n          });\r\n      }, 0);\r\n  }\r\n  insertVal(val) {\r\n    if (!val) return val;\r\n    const self = this;\r\n    this.val = false;\r\n    return val.replace(/\\{([a-z_.]+)\\}/gim, function(str, p1, offset, s) {\r\n      const val = self.view.getValue(p1.replace(\"..\", self.props.path));\r\n      return typeof val === \"undefined\" ? \"\" : val;\r\n    });\r\n  }\r\n  componentWillUnmount() {\r\n    this.view.off(\"change\", this.setValueView);\r\n  }\r\n  render() {\r\n    const className = this.model.className ? this.model.className.join(\" \") : \"\";\r\n    const renderAs = this.props.model.renderAs\r\n      ? this.props.model.renderAs\r\n      : this.props.model.format;\r\n    return (\r\n      <Wrapper renderAs={renderAs} className={className}>\r\n        {app().t(this.state.text)}\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\nexport default ViewTextToken;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nclass ViewTextTokenFallbackNew extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.view = props.view;\r\n    const state = {\r\n      value: app().utils.clone(this.view.value),\r\n      text: this.insertVal(this.model.text),\r\n    };\r\n    this.view.on(\"change\", this.setValueView);\r\n    this.state = state;\r\n  }\r\n  setValueView() {\r\n    const self = this;\r\n    if (JSON.stringify(this.view.value) !== JSON.stringify(this.state.value))\r\n      setTimeout(() => {\r\n        if (self.isMounted())\r\n          self.setState({\r\n            value: app().utils.clone(self.view.value),\r\n            text: self.insertVal(self.model.text),\r\n          });\r\n      }, 0);\r\n  }\r\n  insertVal(val) {\r\n    if (!val) return val;\r\n    const self = this;\r\n    this.val = false;\r\n    return val.replace(/\\{([a-z_.]+)\\}/gim, (str, p1, offset, s) => {\r\n      const val = self.view.getValue(p1.replace(\"..\", self.props.path));\r\n      self.val = self.val || val;\r\n      return typeof val === \"undefined\" ? \"\" : val;\r\n    });\r\n  }\r\n  componentWillUnmount() {\r\n    this.view.off(\"change\", this.setValueView);\r\n  }\r\n  render() {\r\n    const className = this.model.className\r\n      ? this.model.className.join(\" \")\r\n      : \"\";\r\n    const renderAs = this.props.model.renderAs\r\n      ? this.props.model.renderAs\r\n      : this.props.model.format;\r\n    const text = this.val\r\n      ? this.state.text\r\n      : `New ${app().contentType[this.view.contentType].name}`;\r\n    return (\r\n      <Wrapper renderAs={renderAs} className={className}>\r\n        {app().t(text)}\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\nexport default ViewTextTokenFallbackNew;\r\n","import React from \"react\";\r\nimport { Wrapper } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst ViewTextView = ({ model }) => {\r\n  const className = model.className ? model.className.join(\" \") : \"\";\r\n  return (\r\n    <Wrapper className={className} renderAs={model.renderAs} translate=\"true\">\r\n      {app().t(model.text)}\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default ViewTextView;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\nclass ConnectionCssclass extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { connected: app().connection.connected() };\r\n  }\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    this.setState({ value: nextProps.value });\r\n  }\r\n  componentDidMount() {\r\n    app().connection.on(\"connect\", this.update);\r\n    app().connection.on(\"diconnect\", this.update);\r\n  }\r\n  componentWillUnmount() {\r\n    app().connection.on(\"connect\", this.update);\r\n    app().connection.on(\"diconnect\", this.update);\r\n  }\r\n  update = () => {\r\n    this.setState({ connected: app().connection.connected() });\r\n  };\r\n  render() {\r\n    const { children, view } = this.props;\r\n    const model = this.props.model || this.props;\r\n    const { connected } = this.state;\r\n\r\n    let className =\r\n      model.className instanceof Array\r\n        ? model.className.join(\" \")\r\n        : model.className || \"\";\r\n    const connectionClass =\r\n      (connected ? model.onlineClass : model.offlineClass) || \"\";\r\n    const space = connectionClass && className ? \" \" : \"\";\r\n\r\n    return (\r\n      <Wrapper className={className + space + connectionClass}>\r\n        {children ? children : model.item.map(view.createItem, this)}\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ConnectionCssclass;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst ConnectionView = ({ model = {}, offline, className, path, children }) => {\r\n  const isConnected = () => app().connection.connected();\r\n  const [connected, setConnectedState] = useState(isConnected());\r\n\r\n  useEffect(() => {\r\n    const update = () => setConnectedState(isConnected());\r\n\r\n    app().connection.on(\"connect\", update);\r\n    app().connection.on(\"disconnect\", update);\r\n    if (connected !== isConnected()) setConnectedState(isConnected());\r\n\r\n    return () => {\r\n      app().connection.off(\"connect\", update);\r\n      app().connection.off(\"disconnect\", update);\r\n    };\r\n  }, [connected]);\r\n\r\n  className = className || model.className;\r\n  offline = offline || model.offline;\r\n\r\n  if ((connected && offline) || (!connected && !offline)) return null;\r\n\r\n  return (\r\n    <Wrapper className={className}>\r\n      {children || <ContentTypeRender path={path} items={model.item} />}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default ConnectionView;\r\n","import React from \"react\";\nclass Offline extends React.Component {\n  render() {\n    return (\n      <div className=\"cssload-loader\">\n        <div className=\"cssload-inner cssload-one\" />\n        <div className=\"cssload-inner cssload-two\" />\n        <div className=\"cssload-inner cssload-three\" />\n      </div>\n    );\n  }\n}\nexport default Offline;\n","import React from \"react\";\r\n\r\nconst ContentTypeContext = React.createContext();\r\n\r\nexport default ContentTypeContext;\r\n\r\nexport const ViewContextProvider = ContentTypeContext.Provider;\r\n","import React, { useContext } from \"react\";\r\nimport app from \"nystem\";\r\nimport * as components from \"nystem-components\";\r\n\r\nconst createItem = ({ item, value, path, view, ...context }) => {\r\n  const { capFirst } = app();\r\n  const { id, type, format } = item;\r\n\r\n  const componentName = `${capFirst(type)}${capFirst(\r\n    format || view.viewFormat || \"view\"\r\n  )}`;\r\n\r\n  const component =\r\n    components[componentName] || components[`${capFirst(type)}View`];\r\n\r\n  const { getValue, getId } = view;\r\n  path = getId({ id, path });\r\n  const setValue = (value) => view.setValue({ path, value });\r\n\r\n  if (!component)\r\n    return (\r\n      <div\r\n        key={context.key}\r\n        className=\"red\"\r\n      >{`Missing component ${componentName}`}</div>\r\n    );\r\n\r\n  const focus =\r\n    item.format === \"input\" &&\r\n    item.category !== \"view\" &&\r\n    view.focus &&\r\n    !view.focused;\r\n\r\n  if (focus) view.focused = true;\r\n\r\n  return React.createElement(component, {\r\n    ...context,\r\n    value: getValue(path),\r\n    path,\r\n    view,\r\n    model: item,\r\n    setValue,\r\n    focus,\r\n  });\r\n};\r\n\r\nconst ContentTypeRender = (props) => {\r\n  const { path, items, renderAs } = props;\r\n  const context = useContext(components.ContentTypeContext);\r\n\r\n  if (!items) return <div className=\"red\">Missing items</div>;\r\n\r\n  return items.map((item, key) => {\r\n    const out = createItem({ key, item, path, ...context });\r\n    return (renderAs && React.createElement(renderAs, { key }, out)) || out;\r\n  });\r\n};\r\nexport default ContentTypeRender;\r\n","import React, { useState, useEffect, useMemo } from \"react\";\r\nimport app from \"nystem\";\r\nimport {\r\n  Loading,\r\n  Wrapper,\r\n  ContentTypeRender,\r\n  DatabaseSearchContextProvider,\r\n} from \"nystem-components\";\r\nimport { getDiff, applyDiff } from \"recursive-diff\";\r\n\r\nimport { ViewContextProvider } from \"./context\";\r\nimport \"./view.css\";\r\n\r\nconst setValueAtPath = ({ path, current, value }) => {\r\n  if (!path) return value;\r\n\r\n  const parts = path.split(\".\");\r\n  const out = { ...current };\r\n  let at = out;\r\n\r\n  parts.forEach((key, index) => {\r\n    if (parts.length - 1 === index) at[key] = value;\r\n    else {\r\n      at[key] = at[key] instanceof Array ? [...at[key]] : { ...at[key] };\r\n      at = at[key];\r\n    }\r\n  });\r\n\r\n  if (app().settings.debug) console.log(out);\r\n  return out;\r\n};\r\n\r\nconst getId = ({ path = \"\", id = \"\" }) => {\r\n  if (id.includes(\".\") && path.includes(\".\"))\r\n    id = id.substring(id.lastIndexOf(\".\") + 1);\r\n\r\n  if (path && id) return `${path}.${id}`;\r\n  if (id) return id;\r\n  return path;\r\n};\r\n\r\nconst useValue = ({ view, propvalue }) => {\r\n  const [value, setValue] = useState({});\r\n  const [loading, setLoading] = useState(!!view.id);\r\n\r\n  useEffect(() => {\r\n    if (!propvalue || view.id) return;\r\n    setTimeout(() => {\r\n      view.event(\"change\", { value: propvalue });\r\n    }, 10);\r\n  }, [view, propvalue]);\r\n\r\n  useEffect(() => {\r\n    if (!view.on) return;\r\n\r\n    const { id, contentType, noAutoUpdate } = view;\r\n    const db = app().database[contentType];\r\n    let firstData = id ? false : {};\r\n    let value = false;\r\n    let savedData = false;\r\n\r\n    const doGet = ({ ids } = {}) => {\r\n      if (!ids || ids.includes(id))\r\n        db.get({ id }).then(({ data }) => {\r\n          if (!data) data = {};\r\n          if (!firstData) {\r\n            view.event(\"change\", { value: data });\r\n            return;\r\n          }\r\n\r\n          const diff = getDiff(savedData, data);\r\n          value = applyDiff(value, diff);\r\n\r\n          if (diff.length) view.event(\"change\", { value });\r\n        });\r\n    };\r\n    if (id) doGet();\r\n    if (!noAutoUpdate) db.on(\"update\", doGet);\r\n\r\n    const changeData = (props) => ({\r\n      ...props,\r\n      id: props.path,\r\n      value: props.path\r\n        ? setValueAtPath({ ...props, current: value })\r\n        : props.value,\r\n      oldValue: value,\r\n    });\r\n\r\n    view.on(\"change\", 1000, changeData);\r\n\r\n    const setData = ({ value: newValue }) => {\r\n      value = newValue;\r\n      setValue({ ...value });\r\n\r\n      if (!firstData) {\r\n        // eslint-disable-next-line no-multi-assign\r\n        firstData = savedData = value;\r\n        setLoading(false);\r\n      }\r\n    };\r\n    view.on(\"change\", -1000, setData);\r\n\r\n    const saveData = (data) => {\r\n      savedData = data;\r\n    };\r\n    view.on(\"save\", -1000, saveData);\r\n\r\n    const reload = () => {\r\n      view.event(\"clearErrorValidation\");\r\n      view.event(\"change\", { value: firstData });\r\n    };\r\n    view.on(\"reload\", reload);\r\n\r\n    return () => {\r\n      if (!noAutoUpdate) db.off(\"update\", doGet);\r\n      view.off(\"reload\", reload);\r\n      view.off(\"change\", changeData);\r\n      view.off(\"change\", setData);\r\n      view.on(\"save\", saveData);\r\n    };\r\n  }, [view]);\r\n\r\n  view.getValue = (path) =>\r\n    path ? path.split(\".\").reduce((val, key) => val && val[key], value) : value;\r\n\r\n  view.setValue = (props) => view.event(\"change\", props);\r\n  view.value = value;\r\n\r\n  return { value, loading };\r\n};\r\n\r\nconst ContentTypeView = ({\r\n  id,\r\n  contentType,\r\n  baseView,\r\n  addForm,\r\n  className,\r\n  itemFrom,\r\n  itemTo,\r\n  format,\r\n  children,\r\n  view: viewModel,\r\n  value: propvalue,\r\n  renderAs,\r\n  itemRenderAs,\r\n  ...events\r\n}) => {\r\n  const view = useMemo(() => {\r\n    const model = app().populatedViews[contentType];\r\n\r\n    if (!viewModel && !(model && model.views)) {\r\n      console.error(\"View creation error\", {\r\n        contentType,\r\n        baseView,\r\n        format,\r\n      });\r\n      return { model: {} };\r\n    }\r\n\r\n    const base = viewModel || model.views[format] || {};\r\n    return app().addeventhandler(\r\n      {\r\n        ...base,\r\n        baseView,\r\n        model,\r\n        format,\r\n        viewFormat: base.format,\r\n        contentType,\r\n        getId,\r\n        id,\r\n      },\r\n      `view ${contentType} ${format}`\r\n    );\r\n  }, [id, baseView, contentType, format, viewModel]);\r\n\r\n  const { model } = view;\r\n\r\n  useEffect(() => {\r\n    if (!view.on) return;\r\n\r\n    Object.keys(events).forEach((event) => {\r\n      if (event.substring(0, 2) === \"on\" && event[2].toUpperCase() === event[2])\r\n        view.on(event.substring(2).toLowerCase(), events[event]);\r\n    });\r\n\r\n    return () => {\r\n      Object.keys(events).forEach((event) => {\r\n        if (\r\n          event.substring(0, 2) === \"on\" &&\r\n          event[2].toUpperCase() === event[2]\r\n        )\r\n          view.off(event.substring(2).toLowerCase(), events[event]);\r\n      });\r\n    };\r\n  }, [events, view]);\r\n\r\n  const { value, loading } = useValue({ view, propvalue });\r\n\r\n  if (!model) return \"Missing model to create view\";\r\n  if (loading) return <Loading />;\r\n\r\n  const context = { contentType, model, view, value };\r\n  const items = view.item ? view.item.slice(itemFrom, itemTo) : [];\r\n\r\n  if (!renderAs) renderAs = !addForm ? undefined : \"form\";\r\n\r\n  return (\r\n    <ViewContextProvider value={context}>\r\n      <Wrapper\r\n        renderAs={renderAs}\r\n        className={className}\r\n        {...(!addForm\r\n          ? {}\r\n          : {\r\n              onSubmit: (e) => {\r\n                e.preventDefault();\r\n                view.event(\"submit\");\r\n              },\r\n            })}\r\n      >\r\n        <DatabaseSearchContextProvider view={view}>\r\n          {children || (\r\n            <ContentTypeRender items={items} renderAs={itemRenderAs} />\r\n          )}\r\n        </DatabaseSearchContextProvider>\r\n      </Wrapper>\r\n    </ViewContextProvider>\r\n  );\r\n};\r\n\r\nexport default ContentTypeView;\r\n","import { useState, useEffect } from \"react\";\r\n\r\nconst UseValidator = ({ validate, view, model, value }) => {\r\n  const [isValidated, setValidated] = useState(view && view.isValidated);\r\n  const error = isValidated && validate({ value, model });\r\n\r\n  useEffect(() => {\r\n    const validator = async ({ errors }) => {\r\n      setValidated(true);\r\n\r\n      const error = await Promise.resolve(validate({ value, model }) || false);\r\n      if (error) errors = [...(errors || []), error];\r\n      return errors ? { errors } : undefined;\r\n    };\r\n\r\n    const clearErrorValidation = () => {\r\n      setValidated(false);\r\n    };\r\n    if (!view) return;\r\n    view.on(\"validate\", validator);\r\n    view.on(\"clearErrorValidation\", clearErrorValidation);\r\n\r\n    return () => {\r\n      if (!view) return;\r\n      view.off(\"validate\", validator);\r\n      view.off(\"clearErrorValidation\", clearErrorValidation);\r\n    };\r\n  }, [view, validate, value, model]);\r\n\r\n  return [error, setValidated];\r\n};\r\nexport default UseValidator;\r\n","import React from \"react\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nconst types = {\r\n  primary: \"bg-blue-500 hover:bg-blue-500 text-white rounded shadow-sm\",\r\n  secondary:\r\n    \"bg-gray-200 hover:bg-gray-300 text-gray-900 border border-gray-300 rounded shadow-sm\",\r\n  \"ehc-primary\": \"floatlabel bg-primary text-white w-full\",\r\n  \"ehc-secondary\": \"floatlabel bg-secondary border border-gray-300 w-full\",\r\n  danger: \"bg-red-700 hover:bg-red-600 text-white rounded shadow-sm\",\r\n  warning: \"bg-yellow-600 hover:bg-yellow-500 text-white rounded shadow-sm\",\r\n  success: \"bg-green-600 hover:bg-green-500 text-white rounded shadow-sm\",\r\n  info: \"btn\",\r\n  error: \"btn\",\r\n  default: \"bg-gray-200 hover:bg-gray-300 text-gray-900 border border-gray-300\",\r\n  primaryDisabled: \"bg-blue-400 cursor-not-allowed\",\r\n  secondaryDisabled: \"bg-gray-600 text-white cursor-not-allowed\",\r\n  dangerDisabled: \"bg-red-400 text-white cursor-not-allowed\",\r\n  warningDisabled: \"bg-yellow-300 text-white cursor-not-allowed\",\r\n  infoDisabled: \"btn\",\r\n  errorDisabled: \"btn\",\r\n  defaultDisabled: \"bg-gray-300 text-white cursor-not-allowed\",\r\n};\r\n\r\nconst sizes = {\r\n  xs: \"py-1 px-2 text-xs\",\r\n  sm: \"py-1 px-2 text-sm\",\r\n  base: \"py-2 px-4 text-base\",\r\n  lg: \"py-4 px-6 text-lg\",\r\n  xl: \"py-4 px-8 text-xl\",\r\n  \"2xl\": \"py-4 px-8 text-xl2\",\r\n};\r\n\r\nconst Button = ({\r\n  onClick,\r\n  className = [],\r\n  type,\r\n  size,\r\n  disabled,\r\n  ...props\r\n}) => {\r\n  className = className instanceof Array ? [...className] : [className];\r\n\r\n  if (!className.includes(\"floatlabel\")) {\r\n    className.push(types[(type || \"default\") + (disabled ? \"Disabled\" : \"\")]);\r\n    className.push(sizes[size] || sizes.base);\r\n  }\r\n\r\n  if (props.Component)\r\n    return React.createElement(props.Component, {\r\n      className,\r\n      ...props,\r\n    });\r\n\r\n  return (\r\n    <Wrapper\r\n      renderAs=\"button\"\r\n      className={className}\r\n      {...props}\r\n      onClick={(e) => {\r\n        e.preventDefault();\r\n        onClick();\r\n      }}\r\n    />\r\n  );\r\n};\r\nexport default Button;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Button } from \"nystem-components\";\r\n\r\nclass ErrorManager extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.disconnectEvent = this.disconnectEvent.bind(this);\r\n    this.errorEvent = this.errorEvent.bind(this);\r\n    this.connectEvent = this.connectEvent.bind(this);\r\n    // window.onerror = this.errorEvent;\r\n    app().connection.on(\"disconnect\", this.disconnectEvent);\r\n    app().connection.on(\"connect\", this.connectEvent);\r\n    this.state = {\r\n      error: false,\r\n      offline: false,\r\n    };\r\n  }\r\n  disconnectEvent() {\r\n    this.setState({\r\n      offline: true,\r\n    });\r\n  }\r\n  connectEvent() {\r\n    if (this.state)\r\n      this.setState({\r\n        offline: false,\r\n      });\r\n  }\r\n  errorEvent(error, url, line) {\r\n    const self = this;\r\n    console.log(error);\r\n    console.log(`URL: ${url}`);\r\n    console.log(`Line Number: ${line}`);\r\n    this.setState({ error: \"An error occured. Reload?\" });\r\n    if (this.errorTimer) clearTimeout(this.errorTimer);\r\n    this.errorTimer = setTimeout(() => {\r\n      self.setState({ error: false });\r\n    }, 5000);\r\n  }\r\n  errorReload(error, url, line) {\r\n    window.location.reload();\r\n  }\r\n  componentWillUnmount() {\r\n    clearTimeout(this.errorTimer);\r\n    app().connection.off(\"disconnect\", this.disconnectEvent);\r\n    app().connection.off(\"connect\", this.connectEvent);\r\n  }\r\n  render() {\r\n    if (this.state.error || this.state.offline)\r\n      return (\r\n        <Button className=\"btn-danger btn\" onClick={this.errorReload}>\r\n          {this.state.error || \"Site is offline\"}\r\n        </Button>\r\n      );\r\n    return <div />;\r\n  }\r\n}\r\nexport default ErrorManager;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\n\r\nclass ErrorMsg extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { error: this.props.error };\r\n  }\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    this.setState({ error: nextProps.error });\r\n  }\r\n  render() {\r\n    const error =\r\n      this.state.error === true ? \"Required field\" : this.state.error;\r\n    const defaultType = \"danger\";\r\n    const className = [\"alert\"];\r\n    className.push(`alert-${this.props.type ? this.props.type : defaultType}`);\r\n    if (this.props.className) className.push(this.props.className);\r\n    if (error)\r\n      return (\r\n        <p\r\n          className={className.join(\" \")}\r\n          dangerouslySetInnerHTML={{ __html: app().t(error) }}\r\n        />\r\n      );\r\n    return null;\r\n  }\r\n}\r\nexport default ErrorMsg;\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\n\r\nconst byType = {\r\n  text:\r\n    \"appearance-none block bg-grey-lighter text-grey-darker border border-grey-lighter rounded py-1 px-3 shadow-sm\",\r\n  password:\r\n    \"appearance-none block bg-grey-lighter text-grey-darker border border-grey-lighter rounded py-1 px-3 shadow-sm\",\r\n  checkbox: \"m-4\",\r\n};\r\n\r\nconst Input = ({ selectAllOnFocus, type, value, ...props }, parentRef) => {\r\n  const localRef = useRef(null);\r\n  const [val, setVal] = useState(value);\r\n  const ref = parentRef || localRef;\r\n\r\n  const valRef = useRef();\r\n  valRef.current = val;\r\n  useEffect(() => {\r\n    if (valRef.current === value) return;\r\n    setVal(value);\r\n  }, [value]);\r\n\r\n  useEffect(() => {\r\n    if (props.focus) ref.current.focus();\r\n  }, [props.focus, ref]);\r\n\r\n  const elementProps = { ...props };\r\n  delete elementProps.focus;\r\n  delete elementProps.renderAs;\r\n  delete elementProps.accessibilityLabel;\r\n  delete elementProps.accessible;\r\n  delete elementProps.translate;\r\n  delete elementProps.accessibilityTraits;\r\n  delete elementProps.accessibilityTraits;\r\n\r\n  let { className } = props;\r\n  className = className instanceof Array ? className.join(\" \") : className;\r\n\r\n  type = type || \"text\";\r\n  if (!className && [\"text\", \"password\"].includes(type))\r\n    className = \"sm:w-1/2 w-full\";\r\n\r\n  if (className && className.includes(\"floatlabel\"))\r\n    return (\r\n      <input\r\n        ref={ref}\r\n        {...elementProps}\r\n        className={` ${className}`}\r\n        onChange={(e) => props.onChange(e.target.value)}\r\n        onFocus={(ev) => {\r\n          if (selectAllOnFocus) ref.current.select();\r\n          if (elementProps.onFocus) return elementProps.onFocus(ev);\r\n        }}\r\n        type={type}\r\n        value={value}\r\n      />\r\n    );\r\n\r\n  return (\r\n    <input\r\n      ref={ref}\r\n      {...elementProps}\r\n      className={`${byType[type]} ${className}`}\r\n      onChange={(e) => {\r\n        setVal(e.target.value);\r\n        props.onChange(e.target.value);\r\n      }}\r\n      onFocus={(ev) => {\r\n        if (selectAllOnFocus) ref.current.select();\r\n        if (elementProps.onFocus) return elementProps.onFocus(ev);\r\n      }}\r\n      type={type}\r\n      value={val}\r\n    />\r\n  );\r\n};\r\n\r\nexport default React.forwardRef(Input);\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nconst InputWrapper = ({\r\n  model,\r\n  error,\r\n  className: pClassName,\r\n  children,\r\n  id,\r\n}) => {\r\n  const inputWidth = model.classNameInput;\r\n\r\n  function label() {\r\n    const classNameLabel = [...(model.classNameLabel || [])];\r\n    if (!model.floatlabel)\r\n      classNameLabel.push(\r\n        \"mr-3 font-semibold sm:w-32 min-w-32 text-right align-top mt-1\"\r\n      );\r\n\r\n    if (!model.text) return null;\r\n    const text =\r\n      typeof model.text === \"string\" ? app().t(model.text) : model.text;\r\n\r\n    return (\r\n      <Wrapper renderAs=\"label\" htmlFor={id} className={classNameLabel}>\r\n        {text}\r\n        {model.mandatory && <span className=\"text-red-800 text-sm\">*</span>}\r\n      </Wrapper>\r\n    );\r\n  }\r\n\r\n  function errorMsg() {\r\n    error = error === true ? \"Required field\" : error;\r\n\r\n    const className = [\"text-red-600 ml-3\"];\r\n    if (pClassName) className.push(pClassName);\r\n\r\n    if (error) return <p className={className.join(\" \")}>{app().t(error)}</p>;\r\n    return null;\r\n  }\r\n\r\n  const info = () =>\r\n    model.info ? (\r\n      <span className=\"help-block\">{app().t(model.info)}</span>\r\n    ) : null;\r\n\r\n  const className = pClassName || model.className || [];\r\n\r\n  if (model.nolabel)\r\n    return (\r\n      <Wrapper className={className}>\r\n        {children}\r\n        {info()}\r\n        {errorMsg()}\r\n      </Wrapper>\r\n    );\r\n\r\n  if (model.floatlabel)\r\n    return (\r\n      <Wrapper className={className}>\r\n        {label()}\r\n        <Wrapper renderAs=\"div\">\r\n          {children}\r\n          {info()}\r\n          {errorMsg()}\r\n        </Wrapper>\r\n      </Wrapper>\r\n    );\r\n\r\n  return (\r\n    <Wrapper className={[...className, \"sm:flex my-2\"]}>\r\n      {label()}\r\n      <Wrapper renderAs=\"div\" className={inputWidth || \"flex-grow\"}>\r\n        {children}\r\n        {info()}\r\n        {errorMsg()}\r\n      </Wrapper>\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default InputWrapper;\r\n","import React from \"react\";\nclass Label extends React.Component {\n  render() {\n    if (!this.props.model.text) return null;\n    if (this.props.model.mandatory)\n      return (\n        <label htmlFor=\"id_input\" className=\"col-sm-2 col-form-label\">\n          {this.props.model.text}<span className=\"red\">*</span>\n        </label>\n      );\n    return (\n      <label htmlFor=\"id_input\" className=\"col-sm-2 col-form-label\">\n        {this.props.model.text}\n      </label>\n    );\n  }\n}\nexport default Label;\n","import React from \"react\";\r\nimport \"./loading.css\";\r\n\r\nclass Loading extends React.Component {\r\n  state = { inDelay: true };\r\n  componentDidMount() {\r\n    this.delayTimer = setTimeout(() => this.setState({ inDelay: false }), 200);\r\n  }\r\n  componentWillUnmount() {\r\n    clearTimeout(this.delayTimer);\r\n  }\r\n  render() {\r\n    const { inDelay } = this.state;\r\n    return inDelay ? null : (\r\n      <div className=\"loading m-2 rounded-lg shadow h-2\" />\r\n    );\r\n  }\r\n}\r\n\r\nexport default Loading;\r\n","import { useState, useEffect } from \"react\";\r\nimport app from \"nystem\";\r\n\r\nconst UseEvent = (event, data) => {\r\n  const [result, setResult] = useState({});\r\n\r\n  useEffect(() => {\r\n    app()\r\n      .event(event, data)\r\n      .then((result) => setResult(result));\r\n  }, [data, event]);\r\n\r\n  return result;\r\n};\r\n\r\nexport default UseEvent;\r\n","import { useState, useEffect } from \"react\";\r\nimport app from \"nystem\";\r\n\r\nconst UseEventListner = (handler, event) => {\r\n  const [result, setResult] = useState({});\r\n  handler = handler || app();\r\n\r\n  useEffect(() => {\r\n    handler.on(event, setResult);\r\n    return () => {\r\n      handler.off(event, setResult);\r\n    };\r\n  }, [event, handler]);\r\n\r\n  return result;\r\n};\r\n\r\nexport default UseEventListner;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nconst ViewSmallComponentErrorMsg = ({ view, model }) => {\r\n  const [error, setError] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const errorSetter = error => {\r\n      setError(error);\r\n    };\r\n    view.on(\"error\", errorSetter);\r\n\r\n    return () => {\r\n      view.off(\"error\", errorSetter);\r\n    };\r\n  });\r\n\r\n  const className = model.className ? model.className.join(\" \") : \"\";\r\n\r\n  if (error)\r\n    return (\r\n      <Wrapper className={`text-red-500 ml-32 pl-12 ${className}`}>\r\n        {app().t(error)}\r\n      </Wrapper>\r\n    );\r\n  return null;\r\n};\r\n\r\nexport default ViewSmallComponentErrorMsg;\r\n","import React from \"react\";\r\n\r\nconst tags = [\r\n  \"p\",\r\n  \"a\",\r\n  \"h1\",\r\n  \"h2\",\r\n  \"h3\",\r\n  \"h4\",\r\n  \"h5\",\r\n  \"h6\",\r\n  \"div\",\r\n  \"nav\",\r\n  \"section\",\r\n  \"span\",\r\n  \"b\",\r\n  \"em\",\r\n  \"strong\",\r\n  \"i\",\r\n  \"form\",\r\n  \"button\",\r\n  \"label\",\r\n  \"table\",\r\n  \"tbody\",\r\n  \"thead\",\r\n  \"tr\",\r\n  \"th\",\r\n  \"td\",\r\n  \"sup\",\r\n].reduce((prev, tag) => {\r\n  prev[tag] = true;\r\n  return prev;\r\n}, {});\r\n\r\nconst typeClass = {\r\n  h1: \"text-2xl\",\r\n  h2: \"text-xl\",\r\n  h3: \"text-4xl pb-5 pt-2\",\r\n  h4: \"text-xl\",\r\n};\r\n\r\nconst Wrapper = (\r\n  {\r\n    renderAs,\r\n    className,\r\n    model,\r\n    accessibilityLabel,\r\n    accessible,\r\n    translate,\r\n    accessibilityTraits,\r\n    children,\r\n    onClick,\r\n    style,\r\n    ...props\r\n  },\r\n  ref\r\n) => {\r\n  className =\r\n    className instanceof Array\r\n      ? className\r\n          .flat(Infinity)\r\n          .filter((item) => item)\r\n          .join(\" \")\r\n      : className;\r\n\r\n  if (\r\n    !className &&\r\n    !renderAs &&\r\n    !onClick &&\r\n    !style &&\r\n    !Object.keys(props).length\r\n  )\r\n    return children || null;\r\n\r\n  if (!tags[renderAs] || renderAs === \"input\") renderAs = \"div\";\r\n\r\n  if (typeClass[renderAs])\r\n    className = `${className || \"\"} ${typeClass[renderAs]}`;\r\n\r\n  return React.createElement(\r\n    renderAs,\r\n    { ...props, ref, className, onClick, style },\r\n    children\r\n  );\r\n};\r\nexport default React.forwardRef(Wrapper);\r\n","import { useEffect } from \"react\";\r\nimport app from \"nystem\";\r\n\r\nconst DatabaseAddToCache = ({ options = {}, contentType, addMedia }) => {\r\n  useEffect(() => {\r\n    const doSearch = () => {\r\n      if (options.count) options.count = parseInt(options.count, 10);\r\n\r\n      app()\r\n        .database[contentType].search(options)\r\n        .then(({ data }) => {\r\n          if (!data) return;\r\n\r\n          data.forEach((item) =>\r\n            app().event(\"addToCache\", {\r\n              id: item._id,\r\n              contentType,\r\n              addReferencesToCache: options.addReferencesToCache,\r\n              addMedia,\r\n              value: item,\r\n            })\r\n          );\r\n        });\r\n    };\r\n\r\n    let timer = false;\r\n    const doSearchDebounce = () => {\r\n      clearTimeout(timer);\r\n      timer = setTimeout(() => {\r\n        timer = false;\r\n        doSearch();\r\n      }, 5000);\r\n    };\r\n\r\n    app().database[contentType].on(\"update\", -1000, doSearchDebounce);\r\n    app().on([\"login\", \"logout\"], -1000, doSearchDebounce);\r\n\r\n    return () => {\r\n      if (timer) clearTimeout(timer);\r\n\r\n      app().database[contentType].off(\"update\", doSearchDebounce);\r\n      app().off([\"login\", \"logout\"], doSearchDebounce);\r\n    };\r\n  });\r\n\r\n  return null;\r\n};\r\nexport default DatabaseAddToCache;\r\n","import { useEffect, useContext } from \"react\";\r\nimport { DatabaseSearchContext } from \"nystem-components\";\r\n\r\nconst DatabaseBaseViewSearch = ({ view }) => {\r\n  const { search } = useContext(DatabaseSearchContext);\r\n\r\n  useEffect(() => {\r\n    const updateSearch = ({ filter }) => {\r\n      if (filter) view.event(\"setSearch\", { ...search, filter });\r\n    };\r\n    view.baseView.on(\"search\", updateSearch);\r\n    return () => {\r\n      view.baseView.off(\"search\", updateSearch);\r\n    };\r\n  }, [view.baseView, search, view]);\r\n\r\n  useEffect(() => {\r\n    if (!search.contentType || search.filter) return;\r\n\r\n    const updateSearch = ({ filter }) => {\r\n      if (filter) view.event(\"setSearch\", { ...search, filter });\r\n    };\r\n    setTimeout(() => {\r\n      view.baseView.event(\"getSearch\").then(updateSearch);\r\n    }, 0);\r\n  }, [view.baseView, search, view]);\r\n\r\n  return null;\r\n};\r\n\r\nexport default DatabaseBaseViewSearch;\r\n","import { useEffect, useState } from \"react\";\r\nimport app from \"nystem\";\r\n\r\nconst DatabaseGet = ({ id, contentType, noAutoUpdate }) => {\r\n  const db = app().database[contentType];\r\n  const [result, setResult] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (!id) {\r\n      setResult(false);\r\n      return;\r\n    }\r\n    if (!db) {\r\n      console.error({ id, contentType, noAutoUpdate });\r\n      return;\r\n    }\r\n\r\n    let first = true;\r\n\r\n    const doGet = ({ ids } = {}) => {\r\n      if (!ids || ids.includes(id))\r\n        db.get({ id }).then((result) => {\r\n          setResult({ first, ...result });\r\n          first = false;\r\n        });\r\n    };\r\n    doGet();\r\n    if (noAutoUpdate) return;\r\n\r\n    db.on(\"update\", doGet);\r\n    return () => {\r\n      db.off(\"update\", doGet);\r\n    };\r\n  }, [noAutoUpdate, contentType, db, id]);\r\n\r\n  return { loading: id && !result, ...result };\r\n};\r\nexport default DatabaseGet;\r\n","import React, { useContext } from \"react\";\r\nimport { ContentTypeRender, DatabaseSearchContext } from \"nystem-components\";\r\n\r\nconst DatabaseMissing = ({ model, path }) => {\r\n  const { search } = useContext(DatabaseSearchContext);\r\n\r\n  if (!search.data) return <ContentTypeRender path={path} items={model.item} />;\r\n  return null;\r\n};\r\nexport default DatabaseMissing;\r\n","import { useState, useEffect, useCallback } from \"react\";\r\nimport app from \"nystem\";\r\n\r\nconst DatabaseOneSearch = ({ noAutoUpdate, contentType, search: inSearch }) => {\r\n  const db = app().database[contentType];\r\n  const searchString = JSON.stringify(inSearch);\r\n\r\n  const [search, setSearchState] = useState(inSearch);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const setSearch = useCallback(\r\n    (search) => {\r\n      setLoading(true);\r\n\r\n      db.search({ ...search, data: undefined }).then((search) => {\r\n        setSearchState(search);\r\n        setLoading(false);\r\n      });\r\n\r\n      // if (!noAutoUpdate) db.on(\"update\", setSearch);\r\n    },\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [db, searchString]\r\n  );\r\n\r\n  useEffect(() => {\r\n    setSearch(inSearch);\r\n\r\n    return () => {\r\n      if (!noAutoUpdate) db.off(\"update\", setSearch);\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [noAutoUpdate, db, setSearch]);\r\n\r\n  return { loading, search, setSearch };\r\n};\r\n\r\nexport default DatabaseOneSearch;\r\n","import { useEffect } from \"react\";\r\n\r\nconst DatabaseSearch = ({ view, model, path, children }) => {\r\n  const { exact, count, subView, filter } = model;\r\n\r\n  let { sortby } = model;\r\n\r\n  useEffect(() => {\r\n    const reverse = [\r\n      model.reversesortby,\r\n      model.reversesortby2,\r\n      model.reversesortby3,\r\n    ];\r\n\r\n    const getFilter = () => {\r\n      const searchFilter = { $and: [] };\r\n      if (!filter) return searchFilter;\r\n\r\n      const insertVal = (val) =>\r\n        val.replace(/\\{([a-z_.]+)\\}/gim, (str, p1, offset, s) =>\r\n          view.getValue(p1.replace(\"..\", path))\r\n        );\r\n\r\n      filter.forEach((ofilter) => {\r\n        const oneFilter = {};\r\n        ofilter.and.forEach((oneFilterIn) => {\r\n          oneFilter[insertVal(oneFilterIn[0])] = insertVal(oneFilterIn[1]);\r\n        });\r\n        searchFilter.$and.push(oneFilter);\r\n      });\r\n      return searchFilter;\r\n    };\r\n\r\n    const { contentType } = view;\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    sortby = sortby instanceof Array ? sortby : sortby && [sortby];\r\n\r\n    const options = {\r\n      position: 0,\r\n      exact,\r\n      sortby: sortby && sortby.map((item) => item.id),\r\n      reverse,\r\n      contentType,\r\n      delay: model.button ? -1 : parseInt(model.delay, 10),\r\n      noAutoUpdate: model.noAutoUpdate,\r\n    };\r\n\r\n    if (count) options.count = parseInt(count, 10);\r\n    if (view.id && subView) options.database = view.id;\r\n\r\n    let searchFilter = getFilter();\r\n    const onChange = () => {\r\n      const before = JSON.stringify(searchFilter);\r\n      searchFilter = getFilter();\r\n      if (before !== JSON.stringify(searchFilter)) view.event(\"setSearch\");\r\n    };\r\n\r\n    const onSearch = () => ({ ...options, filter: getFilter() });\r\n    view.on(\"setSearch\", 1000, onSearch);\r\n    view.on(\"change\", -10, onChange);\r\n\r\n    setTimeout(() => {\r\n      view.event(\"setSearch\", options);\r\n    }, 0);\r\n    return () => {\r\n      view.off(\"setSearch\", onSearch);\r\n      view.off(\"change\", -10, onChange);\r\n    };\r\n  }, [count, exact, path, sortby, subView, view]);\r\n\r\n  return children || null;\r\n};\r\n\r\nexport default DatabaseSearch;\r\n","import React from \"react\";\r\n\r\nconst DatabaseSearchContext = React.createContext();\r\n\r\nexport default DatabaseSearchContext;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport app from \"nystem\";\r\nimport SearchContext from \"./searchContext\";\r\n\r\nconst DatabaseSearchContextProvider = ({ children, view }) => {\r\n  const [search, setSearchState] = useState({});\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const { contentType } = view;\r\n    let search = {};\r\n    let timer = false;\r\n    let active = false;\r\n\r\n    const setSearchDebounce = async (newSearch) => {\r\n      if (!active) {\r\n        setLoading(true);\r\n        view.on(\"search\", 200, doSearch);\r\n        if (!newSearch.noAutoUpdate)\r\n          app().database[contentType].on(\"update\", -1000, setSearch);\r\n        app().on([\"login\", \"logout\"], -1000, setSearch);\r\n        active = true;\r\n      }\r\n      if (newSearch) search = { ...newSearch, isDirty: true };\r\n      if (!timer && search.delay !== -1)\r\n        timer = setTimeout(() => setSearch(), 0);\r\n    };\r\n\r\n    const setSearch = async () => {\r\n      timer = false;\r\n\r\n      const searchResult = await view.event(\"search\", {\r\n        ...search,\r\n        data: undefined,\r\n      });\r\n      setSearchState({ ...searchResult, isDirty: false });\r\n\r\n      setLoading(false);\r\n      return searchResult;\r\n    };\r\n\r\n    const getSearch = () => search;\r\n    view.on(\"getSearch\", getSearch);\r\n\r\n    view.on(\"setSearch\", -500, setSearchDebounce);\r\n\r\n    const doSearch = (search) =>\r\n      app().database[contentType].search({\r\n        ...search,\r\n        data: undefined,\r\n      });\r\n\r\n    return () => {\r\n      view.off(\"setSearch\", setSearchDebounce);\r\n\r\n      if (active) {\r\n        view.off(\"search\", doSearch);\r\n        app().database[contentType].off(\"update\", setSearch);\r\n        app().off([\"login\", \"logout\"], setSearch);\r\n      }\r\n      view.off(\"getSearch\", getSearch);\r\n    };\r\n  }, [view]);\r\n\r\n  return (\r\n    <SearchContext.Provider value={{ loading, search }}>\r\n      {children}\r\n    </SearchContext.Provider>\r\n  );\r\n};\r\nexport default DatabaseSearchContextProvider;\r\n","import React, { useContext } from \"react\";\r\nimport { Button, DatabaseSearchContext } from \"nystem-components\";\r\n\r\nconst DatabaseShowMoreButton = ({ model }) => {\r\n  const { search, setSearch } = useContext(DatabaseSearchContext);\r\n\r\n  if (search.count > search.searchTotal) return null;\r\n\r\n  return (\r\n    <Button\r\n      className={model.className}\r\n      type=\"lsdkfh\"\r\n      onClick={() => {\r\n        setSearch({\r\n          ...search,\r\n          count: search.count + parseInt(model.amount, 10),\r\n        });\r\n      }}\r\n    >\r\n      {model.text}\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default DatabaseShowMoreButton;\r\n","import React, { useContext } from \"react\";\r\nimport { ContentTypeRender, DatabaseSearchContext } from \"nystem-components\";\r\n\r\nconst DatabaseView = ({ model, path }) => {\r\n  const { search } = useContext(DatabaseSearchContext);\r\n\r\n  if (search.data) return <ContentTypeRender path={path} items={model.item} />;\r\n  return null;\r\n};\r\nexport default DatabaseView;\r\n","import { useRef, useEffect } from \"react\";\r\n\r\nconst UseSearch = ({ view, id, value, exact = false }) => {\r\n  const last = useRef(false);\r\n\r\n  useEffect(() => {\r\n    if (!value && !last.current) return;\r\n\r\n    const setSearch = (query) => {\r\n      query.filter = query.filter || {};\r\n      query.filter.$and = query.filter.$and || [];\r\n      const search = exact ? { [id]: value, __exact: true } : { [id]: value };\r\n      query.filter.$and.push(search);\r\n    };\r\n    if (value) view.on(\"setSearch\", setSearch);\r\n    view.event(\"setSearch\");\r\n\r\n    last.current = value;\r\n    return () => {\r\n      if (value) view.off(\"setSearch\", setSearch);\r\n    };\r\n  }, [exact, id, value, view]);\r\n};\r\nexport default UseSearch;\r\n","import React from \"react\";\r\nimport { DateInput } from \"nystem-components\";\r\n\r\nclass DateExposedField extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.props.view.searchProp.onUpdate(this.update);\r\n    this.classNameBase = this.model.className ? this.model.className : [];\r\n    this.updateCounter = 0;\r\n  }\r\n  update(data) {\r\n    if (this.id) {\r\n      const state = {};\r\n      const modelId = this.model.id;\r\n\r\n      state.from = this.props.view.searchProp.filter.get(`${this.id}_from`);\r\n      if (typeof state.from !== \"undefined\" && state.from[modelId])\r\n        state.from = state.from[modelId].substring(1);\r\n      else delete state.from;\r\n\r\n      state.to = this.props.view.searchProp.filter.get(`${this.id}_to`);\r\n      if (typeof state.to !== \"undefined\" && state.to[modelId])\r\n        state.to = state.to[modelId].substring(1);\r\n      else delete state.to;\r\n      if (typeof state.from !== \"undefined\" || typeof state.to !== \"undefined\")\r\n        this.setState(state);\r\n    }\r\n    const self = this;\r\n    if (this.updateCounter > 0) this.updateCounter--;\r\n    if (this.state.className === \"\" || this.updateCounter > 0) return;\r\n    this.setState({\r\n      className: \"has-success\",\r\n    });\r\n    this.delayTimer = setTimeout(() => {\r\n      if (self.isMounted())\r\n        self.setState({\r\n          className: \"\",\r\n        });\r\n    }, 1000);\r\n  }\r\n  search(id, value) {\r\n    const self = this;\r\n    clearTimeout(this.delayTimer);\r\n    const state = {\r\n      className: \"has-warning\",\r\n    };\r\n    state[id] = value;\r\n    this.setState(state);\r\n    this.delayTimer = setTimeout(() => {\r\n      self.updateCounter++;\r\n      if (value)\r\n        if (id === \"to\") value = `<${value}`;\r\n        else value = `>${value}`;\r\n      self.props.view.searchProp.filter.add(\r\n        self.model.id,\r\n        value,\r\n        `${self.id}_${id}`\r\n      );\r\n    }, 200);\r\n  }\r\n  componentDidMount() {}\r\n  componentWillUnmount() {\r\n    this.props.view.searchProp.offUpdate(this.update);\r\n    clearTimeout(this.delayTimer);\r\n  }\r\n  render() {\r\n    const { model } = this.props;\r\n    const className =\r\n      model.className && !this.props.wrapper ? model.className.join(\" \") : \"\";\r\n    const modelFrom = {\r\n      id: \"from\",\r\n      placeholder: \"From\",\r\n      clearButton: true,\r\n    };\r\n    const modelTo = {\r\n      id: \"to\",\r\n      placeholder: \"To\",\r\n      clearButton: true,\r\n    };\r\n    const style = {\r\n      width: \"150px\",\r\n    };\r\n    return (\r\n      <div className={`${className} form-inline`}>\r\n        {this.model.text}\r\n        <DateInput\r\n          style={style}\r\n          model={modelFrom}\r\n          value={this.state.from}\r\n          setValue={this.search}\r\n        />\r\n        {\" - \"}\r\n        <DateInput\r\n          style={style}\r\n          model={modelTo}\r\n          value={this.state.to}\r\n          setValue={this.search}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default DateExposedField;\r\n","import React, { useState } from \"react\";\r\nimport {\r\n  InputWrapper,\r\n  SelectInput,\r\n  UseSearch,\r\n  RouterUseQueryStore,\r\n} from \"nystem-components\";\r\n\r\nconst modelYear = {\r\n  id: \"year\",\r\n  option: [1200],\r\n  render: \"button\",\r\n  limit: 1,\r\n  text: \"Year\",\r\n};\r\n\r\nconst months = Array.from({ length: 12 }, (e, i) =>\r\n  new Date(null, i + 1, null).toLocaleDateString(\"en\", {\r\n    month: \"short\",\r\n  })\r\n);\r\nconst modelMonth = {\r\n  id: \"month\",\r\n  option: months,\r\n  render: \"button\",\r\n  limit: 1,\r\n  text: \"Month\",\r\n};\r\n\r\nconst modelDay = {\r\n  id: \"day\",\r\n  option: [],\r\n  render: \"button\",\r\n  limit: 1,\r\n  text: \"Day\",\r\n};\r\n\r\nconst daysInMonth = (year, month) => new Date(year, month, 0).getDate();\r\nconst getArray = (from, to) =>\r\n  Array.from({ length: to - from }, (e, i) => parseInt(from, 10) + i);\r\n\r\nconst getDate = ({ utc, year, month = 0, day = 1 }) =>\r\n  utc ? Date.UTC(year, month, day) : new Date(year, month, day).getTime();\r\n\r\nconst addUTC = {\r\n  getFullYear: \"getUTCFullYear\",\r\n  getMonth: \"getUTCMonth\",\r\n  getDate: \"getUTCDate\",\r\n};\r\n\r\nconst getByType = (utc, val, func) =>\r\n  val ? new Date(val)[utc ? addUTC[func] : func]() : undefined;\r\n\r\nconst DateExposedYearMonth = ({ model, view }) => {\r\n  const [years] = useState(getArray(model.from, model.to));\r\n  const [from, setFrom] = RouterUseQueryStore(model.saveIdFrom, \"int\");\r\n  const [to, setTo] = RouterUseQueryStore(model.saveIdTo, \"int\");\r\n  UseSearch({ view, id: model.id, value: from && `>${from - 1}` });\r\n  UseSearch({ view, id: model.id, value: to && `<${to + 1}` });\r\n\r\n  const { utc } = model;\r\n\r\n  const year = getByType(utc, from, \"getFullYear\");\r\n\r\n  const fromMonth = getByType(utc, from, \"getMonth\");\r\n  const toMonth = getByType(utc, to, \"getMonth\");\r\n  const month = fromMonth === toMonth ? months[fromMonth] : null;\r\n\r\n  const fromDay = getByType(utc, from, \"getDate\");\r\n  const toDay = getByType(utc, to, \"getDate\");\r\n  const day = fromDay === toDay ? toDay : null;\r\n\r\n  const setYear = (year) => {\r\n    setFrom(year && getDate({ utc, year }));\r\n    setTo(year && getDate({ utc, year: year + 1 }) - 1);\r\n  };\r\n\r\n  const setMonth = (value) => {\r\n    if (!value) setYear(year);\r\n    else {\r\n      const month = months.indexOf(value);\r\n      setFrom(getDate({ utc, year, month }));\r\n      setTo(getDate({ utc, year, month: month + 1 }) - 1);\r\n    }\r\n  };\r\n\r\n  const setDay = (day) => {\r\n    const month = fromMonth;\r\n    if (!day) setMonth(months[month]);\r\n    else {\r\n      setFrom(getDate({ utc, year, month, day }));\r\n      setTo(getDate({ utc, year, month, day: day + 1 }) - 1);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <InputWrapper model={model}>\r\n      <SelectInput\r\n        model={{\r\n          ...modelYear,\r\n          classNameInput: \"yearExposedField\",\r\n          option: years,\r\n        }}\r\n        value={year}\r\n        setValue={setYear}\r\n      />\r\n      {year && model.month && (\r\n        <SelectInput model={modelMonth} value={month} setValue={setMonth} />\r\n      )}\r\n      {month && model.day && (\r\n        <SelectInput\r\n          model={{\r\n            ...modelDay,\r\n            option: getArray(1, daysInMonth(year, fromMonth) + 1),\r\n            classNameInput: \"dayExposedField\",\r\n          }}\r\n          value={day}\r\n          setValue={setDay}\r\n        />\r\n      )}\r\n    </InputWrapper>\r\n  );\r\n};\r\n\r\nexport default DateExposedYearMonth;\r\n","export default ({ value, model }) =>\r\n  model.mandatory && !value && (model.text_mandatory || \"Field is mandatory\");\r\n","import React from \"react\";\r\nimport {\r\n  InputWrapper,\r\n  DateInputDate,\r\n  UseValidator,\r\n  Wrapper,\r\n  DateInputTime\r\n} from \"nystem-components\";\r\nimport validate from \"./validate\";\r\n\r\nconst DateInput = ({ model, view, focus, setValue, value }) => {\r\n  const { dateType = [\"date\", \"time\"] } = model;\r\n  const [error, setValidated] = UseValidator({ view, validate, value, model });\r\n  const validateAndSet = value => {\r\n    setValue(value);\r\n    setValidated(true);\r\n  };\r\n\r\n  return (\r\n    <InputWrapper model={model} error={error}>\r\n      <Wrapper className=\"flex\">\r\n        {dateType.includes(\"date\") && (\r\n          <DateInputDate\r\n            model={model}\r\n            value={value}\r\n            setValue={validateAndSet}\r\n          />\r\n        )}\r\n        {dateType.includes(\"time\") && (\r\n          <DateInputTime\r\n            model={model}\r\n            value={value}\r\n            setValue={validateAndSet}\r\n          />\r\n        )}\r\n      </Wrapper>\r\n    </InputWrapper>\r\n  );\r\n};\r\nexport default DateInput;\r\n","import React, { useEffect, useRef, useCallback, useState } from \"react\";\r\nimport { Icon, Wrapper } from \"nystem-components\";\r\nimport app from \"nystem\";\r\nimport moment from \"my-moment\";\r\n\r\nconst ClearButton = ({ setValue }) => (\r\n  <Icon\r\n    onClick={() => setValue(\"\")}\r\n    className=\"absolute w-4 right-0 top-0 m-3\"\r\n    icon=\"close\"\r\n    aria-hidden=\"true\"\r\n  />\r\n);\r\n\r\nconst dateFormat = \"YYYY-MM-DD\";\r\n\r\nconst DateInputDate = ({ model, onBlur, focus, setValue, value }) => {\r\n  const [inputVal, setInputVal] = useState(\r\n    value ? moment(value).format(dateFormat) : \"\"\r\n  );\r\n  const { disabled, length, text } = model;\r\n\r\n  const inputEl = useRef(null);\r\n\r\n  const setFromPicker = useCallback(\r\n    function () {\r\n      const formVal = this.getMoment().format(dateFormat);\r\n      setValue(moment(formVal).valueOf());\r\n    },\r\n    [setValue]\r\n  );\r\n\r\n  useEffect(() => {\r\n    setInputVal(value ? moment(value).format(dateFormat) : \"\");\r\n  }, [value]);\r\n\r\n  useEffect(() => {\r\n    const start = async () => {\r\n      const { pikaday } = await import(\"../../client/pikaday\");\r\n      pikaday({\r\n        field: inputEl.current,\r\n        format: dateFormat,\r\n        onSelect: setFromPicker,\r\n        firstDay: 1,\r\n      });\r\n    };\r\n    start();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  return (\r\n    <Wrapper className=\"relative w-1/3\">\r\n      <input\r\n        ref={inputEl}\r\n        placeholder={app().t(text)}\r\n        className={\r\n          \"appearance-none block bg-grey-lighter text-grey-darker border border-grey-lighter rounded py-2 px-3 w-full\"\r\n        }\r\n        value={inputVal}\r\n        maxLength={length}\r\n        onChange={(e) => setInputVal(e.target.value)}\r\n        disabled={disabled}\r\n        type=\"text\"\r\n        focus={focus}\r\n        onBlur={() => setValue(moment(inputVal).valueOf())}\r\n      />\r\n      {value ? <ClearButton setValue={setValue} /> : null}\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default DateInputDate;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Wrapper, Input } from \"nystem-components\";\r\nimport app from \"nystem\";\r\nimport moment from \"my-moment\";\r\n\r\nconst parseVal = (val) => {\r\n  if (val > 100) val /= 100;\r\n\r\n  const parts = val\r\n    .toString()\r\n    .split(/[^0-9]/)\r\n    .filter((part) => part);\r\n\r\n  const min = parseFloat(`.${parts[1] || 0}`) * 100;\r\n  return `${parts[0]}:${min < 10 ? `0${min}` : min}`;\r\n};\r\n\r\nconst DateInputTime = ({ model, focus, setValue, value }) => {\r\n  const { disabled, length, inputClassName = [] } = model;\r\n  const [inputVal, setInputVal] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    setInputVal(value ? moment(value).format(\"HH:mm\") : \"\");\r\n  }, [value]);\r\n\r\n  return (\r\n    <Wrapper className=\"flex\">\r\n      <Input\r\n        placeholder={app().t(\"Time\")}\r\n        className={[\"w-40\", inputClassName]}\r\n        value={inputVal}\r\n        maxLength={length}\r\n        onChange={(value) => setInputVal(value)}\r\n        disabled={disabled}\r\n        type=\"text\"\r\n        focus={focus}\r\n        onBlur={() => {\r\n          if (!inputVal) return;\r\n          const datePart = moment(value || Date.now()).format(\"YYYY-MM-DD\");\r\n          setValue(moment(`${datePart} ${parseVal(inputVal)}`).valueOf());\r\n        }}\r\n      />\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default DateInputTime;\r\n","import { TextSortBy } from \"nystem-components\";\r\nimport React from \"react\";\r\n\r\nconst DateSortBy = props => <TextSortBy {...props} />;\r\nexport default DateSortBy;\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport moment from \"my-moment\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nconst dateTimeFormats = {\r\n  dateLong: \"YYYY-MM-DD\",\r\n  timeLong: \"H:mm\",\r\n  dateTimeLong: \"YYYY-MM-DD HH:mm\",\r\n  dateTimeNoYear: \"D/M H:mm\",\r\n  dateTimeNoYearDay: \"ddd D/M H:mm\",\r\n  dateNoYearDay: \"ddd D/M\",\r\n  timeDay: \"ddd D/M H:mm\",\r\n  day: \"dddd\",\r\n};\r\n\r\nconst hourInMs = 1000 * 60 * 60;\r\n\r\nconst DateView = ({ model, value }) => {\r\n  const { className, renderAs, dateFormat } = model;\r\n  const format = dateTimeFormats[dateFormat || \"dateTimeLong\"];\r\n  value = parseInt(value, 10);\r\n  let rel = value && model.relative && value + hourInMs * 24 - Date.now();\r\n  rel = !rel || rel < 0 ? 0 : rel;\r\n  if (rel && moment().startOf(\"day\").valueOf() > value) rel = 0;\r\n\r\n  const formatDate = useCallback(\r\n    () =>\r\n      rel\r\n        ? rel > 23 * hourInMs\r\n          ? moment(value).fromNow()\r\n          : moment(value).format(\"H:mm\")\r\n        : moment(value).format(format),\r\n    [format, rel, value]\r\n  );\r\n  const [result, setResult] = useState(formatDate());\r\n\r\n  useEffect(() => {\r\n    if (!rel) return;\r\n\r\n    const update = () => setResult(formatDate());\r\n    const timer = setInterval(update, 30000);\r\n    return () => {\r\n      clearInterval(timer);\r\n    };\r\n  }, [formatDate, rel]);\r\n\r\n  return (\r\n    <Wrapper renderAs={renderAs} className={className}>\r\n      {app().t(value ? result : \"\")}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default DateView;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\n\r\nconst add = (path) => {\r\n  const { domain, secure } = app().settings;\r\n  return `http:${secure ? \"s\" : \"\"}//${domain}${path}`;\r\n};\r\n\r\nconst Image = (props) => (\r\n  <img alt={props.alt} {...props} src={add(props.src)} />\r\n);\r\n\r\nexport default Image;\r\n","import React from \"react\";\r\nimport { Image } from \"nystem-components\";\r\n\r\nconst ViewImageView = ({ model }) => {\r\n  const className = model.className ? model.className.join(\" \") : \"\";\r\n\r\n  return (\r\n    <Image alt=\"logo\" className={className} src={`/image/${model.filename}`} />\r\n  );\r\n};\r\nexport default ViewImageView;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { InputWrapper, Input } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nlet isInstalled =\r\n  navigator.standalone || matchMedia(\"(display-mode: standalone)\").matches;\r\n\r\nconst ServiceWorkerSelectBox = ({ model, view }) => {\r\n  const [install, setInstall] = useState(false);\r\n  const [id] = useState(app().uuid);\r\n\r\n  useEffect(() => {\r\n    if (!install) return;\r\n    app()\r\n      .event(\"canRunAppInstall\")\r\n      .then(({ installable }) => {\r\n        isInstalled = isInstalled || !installable;\r\n      });\r\n\r\n    const runInstall = () => app().event(\"runAppInstall\");\r\n\r\n    view.on([\"save\"], runInstall);\r\n    app().on([\"login\"], runInstall);\r\n    return () => {\r\n      view.off([\"save\"], runInstall);\r\n\r\n      setTimeout(() => {\r\n        app().off([\"login\"], runInstall);\r\n      }, 200);\r\n    };\r\n  }, [install, view]);\r\n\r\n  return isInstalled ? null : (\r\n    <InputWrapper id={id} model={model} error={false}>\r\n      <Input\r\n        id={id}\r\n        className={model.classNameInput}\r\n        checked={install}\r\n        onChange={() => setInstall(!install)}\r\n        disabled={model.disabled}\r\n        type=\"checkbox\"\r\n      />\r\n    </InputWrapper>\r\n  );\r\n};\r\n\r\nexport default ServiceWorkerSelectBox;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Button } from \"nystem-components\";\r\n\r\nconst isInstalled =\r\n  navigator.standalone || matchMedia(\"(display-mode: standalone)\").matches;\r\n\r\nconst ServiceWorkerView = ({ model, view }) =>\r\n  isInstalled ? null : (\r\n    <div className={model.className}>\r\n      <Button type={model.btnType} onClick={() => app().event(\"runAppInstall\")}>\r\n        {app().t(model.text || \"...\")}\r\n      </Button>\r\n    </div>\r\n  );\r\n\r\nexport default ServiceWorkerView;\r\n\r\nif (navigator.standalone) {\r\n  console.log(\"Launched: Installed (iOS)\");\r\n} else if (matchMedia(\"(display-mode: standalone)\").matches) {\r\n  console.log(\"Launched: Installed\");\r\n} else {\r\n  console.log(\"Launched: Browser Tab\");\r\n}\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Button, Wrapper, UseEvent } from \"nystem-components\";\r\n\r\nconst ViewButtonDebugAndClear = ({ model }) => {\r\n  const { appVersion } = UseEvent(\"getAppVersion\");\r\n  return (\r\n    <Wrapper className={model.className}>\r\n      <Wrapper className=\"mb-2\">App version: {appVersion || \"\"}</Wrapper>\r\n      <Wrapper className=\"mb-2\">\r\n        The button below will require you to log in again.\r\n      </Wrapper>\r\n      <Button\r\n        type={model.btnType}\r\n        onClick={() => app().event(\"clearCacheAndReload\")}\r\n      >\r\n        {app().t(model.text || \"...\")}\r\n      </Button>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default ViewButtonDebugAndClear;\r\n","import { ContentTypeView } from \"nystem-components\";\r\nimport { Route } from \"react-router-dom\";\r\nimport React from \"react\";\r\n\r\nconst Inserter = (props) => {\r\n  const { match, className, children, source, exclude } = props;\r\n  const exact = !(match && match.indexOf(\"*\") === match.length - 1);\r\n  const propMatch = exact ? match : match.substring(0, match.length - 1);\r\n\r\n  return (\r\n    <Route\r\n      className={children instanceof Array && className}\r\n      path={match || source}\r\n      exact={exact}\r\n    >\r\n      {({ location, match }) => {\r\n        if (!match || exclude === location.pathname) return null;\r\n\r\n        if (children)\r\n          return children instanceof Array && children.length ? (\r\n            <div className={className}>{children}</div>\r\n          ) : (\r\n            children\r\n          );\r\n\r\n        let path = location.pathname;\r\n        if (source && (exact || source.indexOf(\"*\") === -1)) path = source;\r\n        else if (propMatch && source) {\r\n          const replace = propMatch.replace(source, \"\");\r\n          path =\r\n            source.substring(0, source.length - 1) + path.replace(replace, \"\");\r\n        }\r\n\r\n        path = path.split(\"/\");\r\n\r\n        return (\r\n          <ContentTypeView\r\n            className={className}\r\n            contentType={path[1]}\r\n            format={path[2]}\r\n            id={path[3]}\r\n            location={location}\r\n            params={location.pathname.split(\"/\").slice(1)}\r\n            path={path}\r\n            key={location.pathname}\r\n            noForm={props.noForm}\r\n          />\r\n        );\r\n      }}\r\n    </Route>\r\n  );\r\n};\r\nexport default Inserter;\r\n","import React from \"react\";\r\n\r\nimport { Route, Link as RLink } from \"react-router-dom\";\r\n\r\nconst toClassString = (className, match) => {\r\n  className = className instanceof Array ? className.join(\" \") : className;\r\n  return match ? `${className} active` : className;\r\n};\r\n\r\nconst Link = ({ to, className, match, children, exact }) => (\r\n  <Route\r\n    exact={Boolean(exact)}\r\n    path={match || (typeof to === \"object\" ? to.pathname : to)}\r\n  >\r\n    {({ location, match }) => (\r\n      <RLink to={to || \"/\"} className={toClassString(className, match)}>\r\n        {children}\r\n      </RLink>\r\n    )}\r\n  </Route>\r\n);\r\nexport default Link;\r\n","const RouterBackHandler = () => null;\r\nexport default RouterBackHandler;\r\n","import { withRouter } from \"react-router\";\r\nimport app from \"nystem\";\r\n\r\nlet history = [];\r\nlet at = 0;\r\n\r\nconst RouterHistory = ({ location, history: routerHistory }) => {\r\n  let atNew =\r\n    history.reduce(\r\n      (found, item, index) => found || (location.key === item.key && index + 1),\r\n      false\r\n    ) || history.length + 1;\r\n\r\n  if (atNew === history.length + 1) {\r\n    history = history.slice(0, at);\r\n    atNew = history.length + 1;\r\n  }\r\n\r\n  if (atNew === history.length + 1) history.push(location);\r\n\r\n  at = atNew;\r\n  app().routerHistory = { history, at, routerHistory };\r\n\r\n  return null;\r\n};\r\n\r\nexport default withRouter(RouterHistory);\r\n","import React, { useState, useRef, useEffect } from \"react\";\r\nimport { ContentTypeRender } from \"nystem-components\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nconst exclude = [\"style\"].map((item) => item.toUpperCase());\r\n\r\nconst RouterPageNotFound = ({ model, path, children, location, ...rest }) => {\r\n  const { className, renderAs, item } = model || rest;\r\n  const [is404, setIs404] = useState(false);\r\n  const ref = useRef();\r\n\r\n  useEffect(() => {\r\n    setIs404(false);\r\n    setTimeout(() => {\r\n      const items = [...ref.current.parentElement.children]\r\n        .map((item) => item.nodeName)\r\n        .filter((name) => !exclude.includes(name));\r\n\r\n      if (items.length < 2) setIs404(true);\r\n    }, 200);\r\n  }, [location.pathname, ref, setIs404]);\r\n\r\n  if (!is404) return <div ref={ref} />;\r\n\r\n  return (\r\n    <div\r\n      ref={ref}\r\n      className={className && className.join(\" \")}\r\n      renderAs={renderAs}\r\n    >\r\n      {children || <ContentTypeRender path={path} items={item} />}\r\n    </div>\r\n  );\r\n};\r\nexport default withRouter(RouterPageNotFound);\r\n","import { useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst RouterRedirect = ({ to, model = {}, view, path }) => {\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    const insertVal = (val) =>\r\n      val &&\r\n      val.replace(/\\{([a-z_.0-9]+)\\}/gim, (str, p1, offset, s) => {\r\n        if (/pathItem[0-9]/.test(p1) && view.params) return view.params[p1[8]];\r\n        return view.getValue(p1.replace(\"..\", path));\r\n      });\r\n\r\n    history.replace(insertVal(model.to || to));\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  return null;\r\n};\r\n\r\nexport default RouterRedirect;\r\n","import { useEffect } from \"react\";\r\n\r\nconst positions = {};\r\nlet count = 0;\r\n\r\nconst setPos = () => {\r\n  if (\r\n    document.documentElement.scrollTop === positions[window.location.pathname]\r\n  )\r\n    return;\r\n\r\n  count++;\r\n  if (count === 5) {\r\n    count = 0;\r\n    return;\r\n  }\r\n\r\n  document.documentElement.scrollTop = positions[window.location.pathname];\r\n  setTimeout(setPos, 120);\r\n};\r\n\r\nconst RouterScrollpos = () => {\r\n  useEffect(() => {\r\n    window.addEventListener(\r\n      \"popstate\",\r\n      () => positions[window.location.pathname] && setTimeout(setPos, 120)\r\n    );\r\n\r\n    window.addEventListener(\"scroll\", () => {\r\n      positions[window.location.pathname] = document.documentElement.scrollTop;\r\n    });\r\n  }, []);\r\n\r\n  return null;\r\n};\r\n\r\nexport default RouterScrollpos;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass RouterState extends React.Component {\r\n  getPath = context => {\r\n    return context.router.history.location.pathname;\r\n  };\r\n  componentDidMount() {\r\n    let pathname = this.getPath(this.context);\r\n    console.log(\"pathname\", pathname);\r\n    if (this.props.save === \"storage\")\r\n      app()\r\n        .storage.getItem({ id: \"router.pathname\" })\r\n        .then(({ value }) => {\r\n          if (value && value !== pathname)\r\n            this.context.router.history.replace(value);\r\n          else if (this.props.start && pathname === \"/\")\r\n            this.context.router.history.replace(this.props.start);\r\n        });\r\n    else if (this.props.save === \"memory\" && app().pathname) {\r\n      if (app().pathname !== pathname)\r\n        this.context.router.history.replace(app().pathname);\r\n    } else if (this.props.start && pathname === \"/\")\r\n      this.context.router.history.replace(this.props.start);\r\n    else if (this.props.redirect) {\r\n      if (pathname.indexOf(this.props.match) === 0) {\r\n        pathname = pathname.replace(this.props.match, \"\");\r\n        this.context.router.history.replace(this.props.redirect + pathname);\r\n        return;\r\n      }\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {}\r\n\r\n  UNSAFE_componentWillReceiveProps(nextProps, nextContext) {\r\n    if (this.props.save === \"memory\")\r\n      app().pathname = this.getPath(this.context);\r\n    if (this.props.save === \"storage\")\r\n      app().storage.setItem({\r\n        id: \"router.pathname\",\r\n        value: this.getPath(this.context)\r\n      });\r\n  }\r\n\r\n  render() {\r\n    return null;\r\n  }\r\n}\r\nRouterState.contextTypes = {\r\n  router: PropTypes.object\r\n};\r\nexport default RouterState;\r\n\r\n//app.storage.getItem({ id: \"language\" }));\r\n","import { withRouter } from \"react-router\";\r\n\r\nlet last = false;\r\nconst RouterToTopOnNav = ({ location }) => {\r\n  if (location.pathname !== last) {\r\n    last = location.pathname;\r\n    document.documentElement.scrollTop = 0;\r\n  }\r\n\r\n  return null;\r\n};\r\n\r\nexport default withRouter(RouterToTopOnNav);\r\n","import { useState, useRef } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst toType = {\r\n  int: (val) => parseInt(val, 10),\r\n  float: (val) => parseFloat(val),\r\n  array: (val) => (val === \"\" ? undefined : val),\r\n};\r\n\r\nconst RouterUseQueryStore = (saveId, type) => {\r\n  const history = useHistory();\r\n\r\n  const ref = useRef();\r\n  const { search } = history.location;\r\n  const getQueryValue = (query) => {\r\n    if (!saveId) return \"\";\r\n    const reg = `\\\\&${saveId}=([^\\\\s&]+)`;\r\n    const [, value = \"\"] = query.match(new RegExp(reg, \"im\")) || [];\r\n    return type ? toType[type](value) : value;\r\n  };\r\n\r\n  const [value, setValue] = useState(\r\n    saveId ? getQueryValue(search) : type ? toType[type](\"\") : \"\"\r\n  );\r\n\r\n  const setRouterValue = (value) => {\r\n    setValue(value);\r\n\r\n    if (!saveId) return;\r\n\r\n    const { pathname, search } = history.location;\r\n\r\n    const reg = `(^\\\\?)|(\\\\&${saveId}=[^\\\\s&]*)`;\r\n    const rest = search.replace(new RegExp(reg, \"gi\"), \"\");\r\n    const add = value ? `&${saveId}=${value}` : \"\";\r\n\r\n    history.replace(`${pathname}?${rest}${add}`);\r\n  };\r\n\r\n  return [value, setRouterValue, ref];\r\n};\r\n\r\nexport default RouterUseQueryStore;\r\n","const RouterView = () => null;\r\nexport default RouterView;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst sortFuncInt = (key) => (a, b) => {\r\n  const x = a[key];\r\n  const y = b[key];\r\n  if (x === undefined) return y === undefined ? 0 : 1;\r\n  if (y === undefined) return -1;\r\n  return x < y ? -1 : x > y ? 1 : 0;\r\n};\r\n\r\nconst historyPos = (test) => {\r\n  const { history, at } = app().routerHistory;\r\n\r\n  const slice = history.slice(0, at);\r\n  slice.reverse();\r\n\r\n  const pos = slice.reduce((result, { pathname }, index) => {\r\n    if (result) return result;\r\n\r\n    if (test === \"/\") {\r\n      if (pathname === \"/\") return slice.length - index + 1;\r\n    } else if (new RegExp(test).test(pathname)) return slice.length - index + 1;\r\n\r\n    return 0;\r\n  }, 0);\r\n\r\n  return pos;\r\n};\r\n\r\nconst RouterViewByHistory = ({ model, path }) => {\r\n  model = model || {};\r\n  const { className, renderAs, items } = model;\r\n\r\n  const itemsByPosition = items.map((item) => ({\r\n    ...item,\r\n    pos: item.paths.reduce((res, path) => {\r\n      const pos = historyPos(path);\r\n      return pos > res ? pos : res;\r\n    }, 0),\r\n  }));\r\n\r\n  itemsByPosition.sort(sortFuncInt(\"pos\"));\r\n  itemsByPosition.reverse();\r\n\r\n  return (\r\n    <Wrapper className={className} renderAs={renderAs}>\r\n      <ContentTypeRender\r\n        path={path}\r\n        items={itemsByPosition.reduce(\r\n          (res, item) => [...res, ...item.item],\r\n          []\r\n        )}\r\n      />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default RouterViewByHistory;\r\n","export default ({ value, model }) => {\r\n  if (model.mandatory && !value[0]) return model.text_mandatory;\r\n  if (!value[0] && !value[1]) return false;\r\n\r\n  if (value[0].length < model.length)\r\n    return `Password must be at least ${model.length} characters`;\r\n\r\n  if (value[0] !== value[1]) return \"Repeated password must match\";\r\n\r\n  return false;\r\n};\r\n","import React, { useState } from \"react\";\r\nimport app from \"nystem\";\r\nimport { InputWrapper, Input, UseValidator } from \"nystem-components\";\r\nimport validate from \"./validate\";\r\nimport \"./confirmInput.css\";\r\n\r\nconst PasswordConfirmInput = ({ model, value, view, setValue }) => {\r\n  const [value1, setValue1] = useState(\"\");\r\n  const [value2, setValue2] = useState(\"\");\r\n\r\n  const [error, setValidated] = UseValidator({\r\n    view,\r\n    validate,\r\n    value: [value1, value2],\r\n    model,\r\n  });\r\n\r\n  return (\r\n    <InputWrapper model={model} error={error}>\r\n      <div>\r\n        <Input\r\n          placeholder={app().t(model.text)}\r\n          className={[model.classNameInput, \"confirm-input\"]}\r\n          value={value1}\r\n          onChange={(svalue) => {\r\n            setValidated(true);\r\n            setValue1(svalue);\r\n            if (svalue === value2) setValue(value1);\r\n            else if (value) setValue(\"\");\r\n          }}\r\n          type=\"password\"\r\n          autoComplete=\"new-password\"\r\n        />\r\n      </div>\r\n      <div>\r\n        <Input\r\n          placeholder={app().t(\"Repeat\")}\r\n          className={[model.classNameInput, \"confirm-input\"]}\r\n          value={value2}\r\n          onChange={(svalue) => {\r\n            setValidated(true);\r\n            setValue2(svalue);\r\n            if (svalue === value1) setValue(value1);\r\n            else if (value) setValue(\"\");\r\n          }}\r\n          type=\"password\"\r\n          autoComplete=\"new-password\"\r\n        />\r\n      </div>\r\n    </InputWrapper>\r\n  );\r\n};\r\nexport default PasswordConfirmInput;\r\n","import React from \"react\";\r\nimport { InputWrapper, Input } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nclass PasswordInput extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    const state = {\r\n      value: this.props.value,\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n    if (props.add && this.model.default)\r\n      props.setValue(this.model.id, state.value);\r\n    this.errormsg = this.model.text_mandatory\r\n      ? this.model.text_mandatory\r\n      : true;\r\n    this.validated = false;\r\n    this.state = state;\r\n\r\n    this.id = app().uuid();\r\n  }\r\n  handleChange(value) {\r\n    this.validated = true;\r\n    this.setState({\r\n      value: value,\r\n      error: this.model.mandatory && !value ? this.errormsg : false,\r\n    });\r\n    this.props.setValue(value);\r\n  }\r\n  valid() {\r\n    this.validated = true;\r\n    if (this.model.mandatory && !this.state.value) {\r\n      this.setState({\r\n        error: this.errormsg,\r\n      });\r\n      return false;\r\n    }\r\n    if (this.state.error) delete this.state.error;\r\n    return true;\r\n  }\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (this.props.value !== nextProps.value) {\r\n      const error = this.validated && this.model.mandatory && !nextProps.value;\r\n      this.setState({\r\n        value: nextProps.value,\r\n        error: error ? this.errormsg : false,\r\n      });\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <InputWrapper model={this.model} error={this.state.error} id={this.id}>\r\n        <Input\r\n          id={this.id}\r\n          placeholder={app().t(this.model.text)}\r\n          className={this.model.classNameInput || \"sm:w-1/2 w-full\"}\r\n          value={this.state.value || \"\"}\r\n          onChange={this.handleChange}\r\n          type=\"password\"\r\n        />\r\n      </InputWrapper>\r\n    );\r\n  }\r\n}\r\nexport default PasswordInput;\r\n","import React from \"react\";\r\nimport { InputWrapper } from \"nystem-components\";\r\nimport app from \"nystem\";\r\nclass PasswordOldpassword extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.errormsg = this.model.text_mandatory\r\n      ? this.model.text_mandatory\r\n      : true;\r\n    this.validated = false;\r\n    this.state = {};\r\n  }\r\n  handleChange() {\r\n    this.validated = true;\r\n    const value = this.refs.input.value;\r\n    this.setState({\r\n      value: value,\r\n      error: this.model.mandatory && !value ? this.errormsg : false\r\n    });\r\n    this.props.setValue(\"__\" + this.model.id, value);\r\n  }\r\n  valid() {\r\n    this.validated = true;\r\n    if (this.model.mandatory && !this.state.value) {\r\n      this.setState({\r\n        error: this.errormsg\r\n      });\r\n      return false;\r\n    }\r\n    if (this.state.error) delete this.state.error;\r\n    return true;\r\n  }\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (this.props.value !== nextProps.value) {\r\n      const error = this.validated && this.model.mandatory && !nextProps.value;\r\n      this.setState({\r\n        error: error ? this.errormsg : false\r\n      });\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <InputWrapper model={this.model} error={this.state.error}>\r\n        <input\r\n          ref=\"input\"\r\n          placeholder={app().t(this.model.text)}\r\n          className=\"form-control\"\r\n          value={this.state.value}\r\n          onChange={this.handleChange}\r\n          type=\"password\"\r\n        />\r\n      </InputWrapper>\r\n    );\r\n  }\r\n}\r\nexport default PasswordOldpassword;\r\n","import React from \"react\";\nclass PasswordView extends React.Component {\n  render() {\n    return null;\n  }\n}\nexport default PasswordView;\n","import React from \"react\";\r\nimport app from \"nystem\";\r\n\r\nclass RoleView extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    app().on(\"login\", this.sessionChange);\r\n    app().on(\"logout\", this.sessionChange);\r\n\r\n    this.sessionChange();\r\n\r\n    return {};\r\n  }\r\n  sessionChange() {\r\n    let session = app.session.user;\r\n    const { fields } = this.props.model;\r\n\r\n    if (!session) session = {};\r\n\r\n    if (!fields || !fields.length) this.props.setValue(false, session);\r\n    else\r\n      for (let i = 0; i < fields.length; i++)\r\n        this.props.setValue(fields[i], session[fields[i]]);\r\n  }\r\n\r\n  render() {\r\n    return null;\r\n  }\r\n}\r\nexport default RoleView;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nclass Role extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    app().on(\"login\", this.sessionChange.bind(this));\r\n    app().on(\"logout\", this.sessionChange.bind(this));\r\n    this.state = { visible: this.isVisible(props) };\r\n  }\r\n  contains(array1, array2) {\r\n    if (typeof array1 === \"string\") array1 = [array1];\r\n    if (typeof array2 === \"string\") array2 = [array2];\r\n\r\n    for (let i = 0; i < array1.length; i++)\r\n      if (array2.indexOf(array1[i]) !== -1) return true;\r\n\r\n    return false;\r\n  }\r\n  isVisible(props) {\r\n    const user = app().session.user;\r\n    let role =\r\n      user && user.role ? [\"logged-in\"].concat(user.role) : [\"logged-out\"];\r\n    return this.contains(props.role.split(\" \"), role);\r\n  }\r\n  sessionChange() {\r\n    let visible = this.isVisible(this.props);\r\n    if (visible !== this.state.visible) this.setState({ visible });\r\n  }\r\n\r\n  render() {\r\n    if (this.state.visible)\r\n      return (\r\n        <Wrapper className={this.props.className}>\r\n          {this.props.children}\r\n        </Wrapper>\r\n      );\r\n    return null;\r\n  }\r\n}\r\nexport default Role;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nconst SessionLogout = ({ children, model, history, path, ...props }) => {\r\n  const { item, className, to } = model || props;\r\n  return (\r\n    <Wrapper\r\n      className={className}\r\n      onClick={(e) => {\r\n        e.preventDefault();\r\n        app().session.logout();\r\n        if (!to) return;\r\n\r\n        history.replace(to);\r\n      }}\r\n    >\r\n      {children || <ContentTypeRender path={path} items={item} />}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default withRouter(SessionLogout);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst hasNoRole = user => user && !user.role;\r\n\r\nconst SessionNoRole = ({ model = {}, children, path, className }) => {\r\n  const [visible, setVisible] = useState(hasNoRole(app().session.user));\r\n\r\n  useEffect(() => {\r\n    const check = () => {\r\n      setVisible(hasNoRole(app().session.user));\r\n    };\r\n\r\n    app().on(\"logout\", check);\r\n    app().on(\"login\", check);\r\n\r\n    return () => {\r\n      app().off(\"login\", check);\r\n      app().off(\"logout\", check);\r\n    };\r\n  }, []);\r\n\r\n  if (!visible) return null;\r\n\r\n  className = model.className || className;\r\n\r\n  if (children) return <Wrapper className={className}>{children}</Wrapper>;\r\n\r\n  return (\r\n    <Wrapper className={className}>\r\n      <ContentTypeRender path={path} items={model.item} />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default SessionNoRole;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst contains = (array1, array2) => {\r\n  if (!(array1 instanceof Array)) array1 = [array1];\r\n  if (!(array2 instanceof Array)) array2 = [array2];\r\n  for (let i = 0; i < array1.length; i++)\r\n    if (array2.indexOf(array1[i]) !== -1) return true;\r\n\r\n  return false;\r\n};\r\n\r\nconst SessionRole = ({ userrole, model = {}, children, path, className }) => {\r\n  const [visible, setVisible] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const updateVisibility = () => {\r\n      let reqRole = model.role || userrole;\r\n      reqRole = typeof reqRole === \"string\" ? reqRole.split(\" \") : reqRole;\r\n\r\n      const { role } = app().session.user || {};\r\n\r\n      const userRole = role ? [\"logged-in\"].concat(role) : \"logged-out\";\r\n\r\n      setVisible(contains(userRole, reqRole));\r\n    };\r\n\r\n    app().on(\"logout\", -1000, updateVisibility);\r\n    app().on(\"login\", -1000, updateVisibility);\r\n\r\n    updateVisibility();\r\n    return () => {\r\n      app().off(\"login\", updateVisibility);\r\n      app().off(\"logout\", updateVisibility);\r\n    };\r\n  }, [model.role, userrole]);\r\n\r\n  if (!visible) return null;\r\n\r\n  if (children)\r\n    return (\r\n      <Wrapper className={model.className || className}>{children}</Wrapper>\r\n    );\r\n\r\n  return (\r\n    <Wrapper className={model.className}>\r\n      <ContentTypeRender path={path} items={model.item} />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default SessionRole;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { ContentTypeView } from \"nystem-components\";\r\n\r\nclass SessionUser extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    app().on(\"login\", this.sessionChange.bind(this));\r\n    app().on(\"logout\", this.sessionChange.bind(this));\r\n\r\n    const session = app().session.user;\r\n    this.state = { userid: session ? session._id : null };\r\n  }\r\n  sessionChange() {\r\n    const session = app().session.user;\r\n    this.setState({ userid: session ? session._id : null });\r\n  }\r\n  render() {\r\n    const { view, model } = this.props;\r\n    if (this.state.userid && model.toformat !== view.format)\r\n      return (\r\n        <ContentTypeView\r\n          key={this.state.userid}\r\n          contentType={view.contentType}\r\n          format={model.toformat}\r\n          id={this.state.userid}\r\n          baseView={view}\r\n        />\r\n      );\r\n    return null;\r\n  }\r\n}\r\nexport default SessionUser;\r\n","import { useEffect } from \"react\";\r\nimport app from \"nystem\";\r\n\r\nconst SessionView = ({ view }) => {\r\n  useEffect(() => {\r\n    const sessionChange = () => {\r\n      let session = app().session.user;\r\n      const { fields } = this.props.model;\r\n\r\n      if (!session) session = {};\r\n\r\n      if (!fields || !fields.length) view.setValue(false, session);\r\n      else\r\n        for (let i = 0; i < fields.length; i++)\r\n          view.setValue(fields[i], session[fields[i]]);\r\n    };\r\n\r\n    app().on(\"login\", sessionChange);\r\n    app().on(\"logout\", sessionChange);\r\n\r\n    sessionChange();\r\n    return () => {\r\n      app().off(\"login\", sessionChange);\r\n      app().off(\"logout\", sessionChange);\r\n    };\r\n  }, [view]);\r\n\r\n  return null;\r\n};\r\nexport default SessionView;\r\n","import React, { useState } from \"react\";\r\nimport app from \"nystem\";\r\nimport { Button } from \"nystem-components\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nconst ViewButtonLogin = ({ view, model, history }) => {\r\n  const [saveButton, setSaveButton] = useState(\"Log in\");\r\n\r\n  const handleSubmit = async () => {\r\n    const { errors = [] } = await view.event(\"validate\");\r\n\r\n    if (!errors.length) {\r\n      view.value.contentType = view.contentType;\r\n\r\n      app()\r\n        .session.login(view.value)\r\n        .then(({ error }) => {\r\n          if (error === \"missing\") {\r\n            view.event(\"error\", \"Email does not exist\");\r\n            setSaveButton(\"Log in\");\r\n          } else if (error === \"password\") {\r\n            view.event(\"error\", \"Password error\");\r\n            setSaveButton(\"Log in\");\r\n          } else if (model.redirectURL) history.replace(model.redirectURL);\r\n        });\r\n\r\n      setSaveButton(\"Logging in\");\r\n    } else view.event(\"error\", \"Correct validation errors\");\r\n  };\r\n\r\n  return (\r\n    <Button\r\n      className={model.className}\r\n      type={model.btnType}\r\n      size={model.size}\r\n      onClick={handleSubmit}\r\n    >\r\n      {saveButton}\r\n    </Button>\r\n  );\r\n};\r\nexport default withRouter(ViewButtonLogin);\r\n","import React from \"react\";\r\nimport { Icon } from \"nystem-components\";\r\n\r\nconst IconView = ({ model }) => (\r\n  <Icon\r\n    className={model.className}\r\n    icon={model.icon}\r\n    deg={model.deg !== \"0\" && model.deg}\r\n  />\r\n);\r\n\r\nexport default IconView;\r\n","import React from \"react\";\n  \n  export default {\"add-outline\":<path d=\"M11 9h4v2h-4v4H9v-4H5V9h4V5h2v4zm-1 11a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16z\"/>,\"add-solid\":<path d=\"M11 9V5H9v4H5v2h4v4h2v-4h4V9h-4zm-1 11a10 10 0 1 1 0-20 10 10 0 0 1 0 20z\"/>,\"adjust\":<path d=\"M10 2v16a8 8 0 1 0 0-16zm0 18a10 10 0 1 1 0-20 10 10 0 0 1 0 20z\"/>,\"airplane\":<path d=\"M8.4 12H2.8L1 15H0V5h1l1.8 3h5.6L6 0h2l4.8 8H18a2 2 0 1 1 0 4h-5.2L8 20H6l2.4-8z\"/>,\"album\":<path d=\"M0 0h20v20H0V0zm10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm0-5a3 3 0 1 1 0-6 3 3 0 0 1 0 6z\"/>,\"align-center\":<path d=\"M1 1h18v2H1V1zm0 8h18v2H1V9zm0 8h18v2H1v-2zM4 5h12v2H4V5zm0 8h12v2H4v-2z\"/>,\"align-justified\":<path d=\"M1 1h18v2H1V1zm0 8h18v2H1V9zm0 8h18v2H1v-2zM1 5h18v2H1V5zm0 8h18v2H1v-2z\"/>,\"align-left\":<path d=\"M1 1h18v2H1V1zm0 8h18v2H1V9zm0 8h18v2H1v-2zM1 5h12v2H1V5zm0 8h12v2H1v-2z\"/>,\"align-right\":<path d=\"M1 1h18v2H1V1zm0 8h18v2H1V9zm0 8h18v2H1v-2zM7 5h12v2H7V5zm0 8h12v2H7v-2z\"/>,\"anchor\":<path d=\"M4.34 15.66A7.97 7.97 0 0 0 9 17.94V10H5V8h4V5.83a3 3 0 1 1 2 0V8h4v2h-4v7.94a7.97 7.97 0 0 0 4.66-2.28l-1.42-1.42h5.66l-2.83 2.83a10 10 0 0 1-14.14 0L.1 14.24h5.66l-1.42 1.42zM10 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2z\"/>,\"announcement\":<path d=\"M3 6c0-1.1.9-2 2-2h8l4-4h2v16h-2l-4-4H5a2 2 0 0 1-2-2H1V6h2zm8 9v5H8l-1.67-5H5v-2h8v2h-2z\"/>,\"apparel\":<path d=\"M7 0H6L0 3v6l4-1v12h12V8l4 1V3l-6-3h-1a3 3 0 0 1-6 0z\"/>,\"arrow-down\":<polygon points=\"9 16.172 2.929 10.101 1.515 11.515 10 20 10.707 19.293 18.485 11.515 17.071 10.101 11 16.172 11 0 9 0\"/>,\"arrow-left\":<polygon points=\"3.828 9 9.899 2.929 8.485 1.515 0 10 .707 10.707 8.485 18.485 9.899 17.071 3.828 11 20 11 20 9 3.828 9\"/>,\"arrow-outline-down\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm-2-8V5h4v5h3l-5 5-5-5h3z\"/>,\"arrow-outline-left\":<path d=\"M0 10a10 10 0 1 1 20 0 10 10 0 0 1-20 0zm2 0a8 8 0 1 0 16 0 8 8 0 0 0-16 0zm8-2h5v4h-5v3l-5-5 5-5v3z\"/>,\"arrow-outline-right\":<path d=\"M20 10a10 10 0 1 1-20 0 10 10 0 0 1 20 0zm-2 0a8 8 0 1 0-16 0 8 8 0 0 0 16 0zm-8 2H5V8h5V5l5 5-5 5v-3z\"/>,\"arrow-outline-up\":<path d=\"M10 0a10 10 0 1 1 0 20 10 10 0 0 1 0-20zm0 2a8 8 0 1 0 0 16 8 8 0 0 0 0-16zm2 8v5H8v-5H5l5-5 5 5h-3z\"/>,\"arrow-right\":<polygon points=\"16.172 9 10.101 2.929 11.515 1.515 20 10 19.293 10.707 11.515 18.485 10.101 17.071 16.172 11 0 11 0 9\"/>,\"arrow-thick-down\":<path d=\"M7 10V2h6v8h5l-8 8-8-8h5z\"/>,\"arrow-thick-left\":<path d=\"M10 13h8V7h-8V2l-8 8 8 8v-5z\"/>,\"arrow-thick-right\":<path d=\"M10 7H2v6h8v5l8-8-8-8v5z\"/>,\"arrow-thick-up\":<path d=\"M7 10v8h6v-8h5l-8-8-8 8h5z\"/>,\"arrow-thin-down\":<path d=\"M9 16.172l-6.071-6.071-1.414 1.414L10 20l.707-.707 7.778-7.778-1.414-1.414L11 16.172V0H9z\"/>,\"arrow-thin-left\":<path d=\"M3.828 9l6.071-6.071-1.414-1.414L0 10l.707.707 7.778 7.778 1.414-1.414L3.828 11H20V9H3.828z\"/>,\"arrow-thin-right\":<path d=\"M16.172 9l-6.071-6.071 1.414-1.414L20 10l-.707.707-7.778 7.778-1.414-1.414L16.172 11H0V9z\"/>,\"arrow-thin-up\":<path d=\"M9 3.828L2.929 9.899 1.515 8.485 10 0l.707.707 7.778 7.778-1.414 1.414L11 3.828V20H9V3.828z\"/>,\"arrow-up\":<polygon points=\"9 3.828 2.929 9.899 1.515 8.485 10 0 10.707 .707 18.485 8.485 17.071 9.899 11 3.828 11 20 9 20 9 3.828\"/>,\"artist\":<path d=\"M15.75 8l-3.74-3.75a3.99 3.99 0 0 1 6.82-3.08A4 4 0 0 1 15.75 8zM1.85 15.3l9.2-9.19 2.83 2.83-9.2 9.2-2.82-2.84zm-1.4 2.83l2.11-2.12 1.42 1.42-2.12 2.12-1.42-1.42zM10 15l2-2v7h-2v-5z\"/>,\"at-symbol\":<path d=\"M13.6 13.47A4.99 4.99 0 0 1 5 10a5 5 0 0 1 8-4V5h2v6.5a1.5 1.5 0 0 0 3 0V10a8 8 0 1 0-4.42 7.16l.9 1.79A10 10 0 1 1 20 10h-.18.17v1.5a3.5 3.5 0 0 1-6.4 1.97zM10 13a3 3 0 1 0 0-6 3 3 0 0 0 0 6z\"/>,\"attachment\":<path d=\"M15 3H7a7 7 0 1 0 0 14h8v-2H7A5 5 0 0 1 7 5h8a3 3 0 0 1 0 6H7a1 1 0 0 1 0-2h8V7H7a3 3 0 1 0 0 6h8a5 5 0 0 0 0-10z\"/>,\"backspace\":<path d=\"M0 10l7-7h13v14H7l-7-7zm14.41 0l2.13-2.12-1.42-1.42L13 8.6l-2.12-2.13-1.42 1.42L11.6 10l-2.13 2.12 1.42 1.42L13 11.4l2.12 2.13 1.42-1.42L14.4 10z\"/>,\"backward-step\":<path d=\"M4 5h3v10H4V5zm12 0v10l-9-5 9-5z\"/>,\"backward\":<path d=\"M19 5v10l-9-5 9-5zm-9 0v10l-9-5 9-5z\"/>,\"badge\":<path d=\"M10 12a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-3a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm4 2.75V20l-4-4-4 4v-8.25a6.97 6.97 0 0 0 8 0z\"/>,\"battery-full\":<path d=\"M0 6c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6zm2 0v8h16V6H2zm1 1h4v6H3V7zm5 0h4v6H8V7zm5 0h4v6h-4V7z\"/>,\"battery-half\":<path d=\"M0 6c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6zm2 0v8h16V6H2zm1 1h4v6H3V7zm5 0h4v6H8V7z\"/>,\"battery-low\":<path d=\"M0 6c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6zm2 0v8h16V6H2zm1 1h4v6H3V7z\"/>,\"beverage\":<path d=\"M9 18v-7L0 2V0h20v2l-9 9v7l5 1v1H4v-1l5-1zm2-10a2 2 0 1 0 0-4 2 2 0 0 0 0 4z\"/>,\"block\":<path d=\"M0 10a10 10 0 1 1 20 0 10 10 0 0 1-20 0zm16.32-4.9L5.09 16.31A8 8 0 0 0 16.32 5.09zm-1.41-1.42A8 8 0 0 0 3.68 14.91L14.91 3.68z\"/>,\"bluetooth\":<path d=\"M9.41 0l6 6-4 4 4 4-6 6H9v-7.59l-3.3 3.3-1.4-1.42L8.58 10l-4.3-4.3L5.7 4.3 9 7.58V0h.41zM11 4.41V7.6L12.59 6 11 4.41zM12.59 14L11 12.41v3.18L12.59 14z\"/>,\"bolt\":<path d=\"M13 8V0L8.11 5.87 3 12h4v8L17 8h-4z\"/>,\"book-reference\":<path d=\"M6 4H5a1 1 0 1 1 0-2h11V1a1 1 0 0 0-1-1H4a2 2 0 0 0-2 2v16c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V5a1 1 0 0 0-1-1h-7v8l-2-2-2 2V4z\"/>,\"bookmark copy 2\":<polygon points=\"18 12 18 13 8 13 8 18 2 12 8 6 8 11 16 11 16 2 18 2\"/>,\"bookmark copy 3\":<polygon points=\"3.5 13 12 13 12 18 18 12 12 6 12 11 4 11 4 2 2 2 2 13\"/>,\"bookmark-outline-add\":<path d=\"M2 2c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v18l-8-4-8 4V2zm2 0v15l6-3 6 3V2H4zm5 5V5h2v2h2v2h-2v2H9V9H7V7h2z\"/>,\"bookmark-outline\":<path d=\"M2 2c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v18l-8-4-8 4V2zm2 0v15l6-3 6 3V2H4z\"/>,\"bookmark\":<path d=\"M2 2c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v18l-8-4-8 4V2z\"/>,\"border-all\":<path d=\"M11 11v6h6v-6h-6zm0-2h6V3h-6v6zm-2 2H3v6h6v-6zm0-2V3H3v6h6zm-8 9V1h18v18H1v-1z\"/>,\"border-bottom\":<path d=\"M1 1h2v2H1V1zm0 4h2v2H1V5zm0 4h2v2H1V9zm0 4h2v2H1v-2zm0 4h18v2H1v-2zM5 1h2v2H5V1zm0 8h2v2H5V9zm4-8h2v2H9V1zm0 4h2v2H9V5zm0 4h2v2H9V9zm0 4h2v2H9v-2zm4-12h2v2h-2V1zm0 8h2v2h-2V9zm4-8h2v2h-2V1zm0 4h2v2h-2V5zm0 4h2v2h-2V9zm0 4h2v2h-2v-2z\"/>,\"border-horizontal\":<path d=\"M1 1h2v2H1V1zm0 4h2v2H1V5zm0 4h18v2H1V9zm0 4h2v2H1v-2zm0 4h2v2H1v-2zM5 1h2v2H5V1zm0 16h2v2H5v-2zM9 1h2v2H9V1zm0 4h2v2H9V5zm0 8h2v2H9v-2zm0 4h2v2H9v-2zm4-16h2v2h-2V1zm0 16h2v2h-2v-2zm4-16h2v2h-2V1zm0 4h2v2h-2V5zm0 8h2v2h-2v-2zm0 4h2v2h-2v-2z\"/>,\"border-inner\":<path d=\"M9 9V1h2v8h8v2h-8v8H9v-8H1V9h8zM1 1h2v2H1V1zm0 4h2v2H1V5zm0 8h2v2H1v-2zm0 4h2v2H1v-2zM5 1h2v2H5V1zm0 16h2v2H5v-2zm8-16h2v2h-2V1zm0 16h2v2h-2v-2zm4-16h2v2h-2V1zm0 4h2v2h-2V5zm0 8h2v2h-2v-2zm0 4h2v2h-2v-2z\"/>,\"border-left\":<path d=\"M1 1h2v18H1V1zm4 0h2v2H5V1zm0 8h2v2H5V9zm0 8h2v2H5v-2zM9 1h2v2H9V1zm0 4h2v2H9V5zm0 4h2v2H9V9zm0 4h2v2H9v-2zm0 4h2v2H9v-2zm4-16h2v2h-2V1zm0 8h2v2h-2V9zm0 8h2v2h-2v-2zm4-16h2v2h-2V1zm0 4h2v2h-2V5zm0 4h2v2h-2V9zm0 4h2v2h-2v-2zm0 4h2v2h-2v-2z\"/>,\"border-none\":<path d=\"M1 1h2v2H1V1zm0 4h2v2H1V5zm0 4h2v2H1V9zm0 4h2v2H1v-2zm0 4h2v2H1v-2zM5 1h2v2H5V1zm0 8h2v2H5V9zm0 8h2v2H5v-2zM9 1h2v2H9V1zm0 4h2v2H9V5zm0 4h2v2H9V9zm0 4h2v2H9v-2zm0 4h2v2H9v-2zm4-16h2v2h-2V1zm0 8h2v2h-2V9zm0 8h2v2h-2v-2zm4-16h2v2h-2V1zm0 4h2v2h-2V5zm0 4h2v2h-2V9zm0 4h2v2h-2v-2zm0 4h2v2h-2v-2z\"/>,\"border-outer\":<path d=\"M2 19H1V1h18v18H2zm1-2h14V3H3v14zm10-8h2v2h-2V9zM9 9h2v2H9V9zM5 9h2v2H5V9zm4-4h2v2H9V5zm0 8h2v2H9v-2z\"/>,\"border-right\":<path d=\"M5 1h2v2H5V1zm0 8h2v2H5V9zm0 8h2v2H5v-2zM9 1h2v2H9V1zm0 4h2v2H9V5zm0 4h2v2H9V9zm0 4h2v2H9v-2zm0 4h2v2H9v-2zm4-16h2v2h-2V1zm0 8h2v2h-2V9zm0 8h2v2h-2v-2zM1 1h2v2H1V1zm0 4h2v2H1V5zm0 4h2v2H1V9zm0 4h2v2H1v-2zm0 4h2v2H1v-2zM17 1h2v18h-2V1z\"/>,\"border-top\":<path d=\"M1 1h18v2H1V1zm0 4h2v2H1V5zm0 4h2v2H1V9zm0 4h2v2H1v-2zm0 4h2v2H1v-2zm4-8h2v2H5V9zm0 8h2v2H5v-2zM9 5h2v2H9V5zm0 4h2v2H9V9zm0 4h2v2H9v-2zm0 4h2v2H9v-2zm4-8h2v2h-2V9zm0 8h2v2h-2v-2zm4-12h2v2h-2V5zm0 4h2v2h-2V9zm0 4h2v2h-2v-2zm0 4h2v2h-2v-2z\"/>,\"border-vertical\":<path d=\"M1 1h2v2H1V1zm0 4h2v2H1V5zm0 4h2v2H1V9zm0 4h2v2H1v-2zm0 4h2v2H1v-2zM5 1h2v2H5V1zm0 8h2v2H5V9zm0 8h2v2H5v-2zM9 1h2v18H9V1zm4 0h2v2h-2V1zm0 8h2v2h-2V9zm0 8h2v2h-2v-2zm4-16h2v2h-2V1zm0 4h2v2h-2V5zm0 4h2v2h-2V9zm0 4h2v2h-2v-2zm0 4h2v2h-2v-2z\"/>,\"box\":<path d=\"M0 2C0 .9.9 0 2 0h16a2 2 0 0 1 2 2v2H0V2zm1 3h18v13a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V5zm6 2v2h6V7H7z\"/>,\"brightness-down\":<path d=\"M10 13a3 3 0 1 1 0-6 3 3 0 0 1 0 6zM9 4a1 1 0 1 1 2 0 1 1 0 1 1-2 0zm4.54 1.05a1 1 0 1 1 1.41 1.41 1 1 0 1 1-1.41-1.41zM16 9a1 1 0 1 1 0 2 1 1 0 1 1 0-2zm-1.05 4.54a1 1 0 1 1-1.41 1.41 1 1 0 1 1 1.41-1.41zM11 16a1 1 0 1 1-2 0 1 1 0 1 1 2 0zm-4.54-1.05a1 1 0 1 1-1.41-1.41 1 1 0 1 1 1.41 1.41zM4 11a1 1 0 1 1 0-2 1 1 0 1 1 0 2zm1.05-4.54a1 1 0 1 1 1.41-1.41 1 1 0 1 1-1.41 1.41z\"/>,\"brightness-up\":<path d=\"M10 14a4 4 0 1 1 0-8 4 4 0 0 1 0 8zM9 1a1 1 0 1 1 2 0v2a1 1 0 1 1-2 0V1zm6.65 1.94a1 1 0 1 1 1.41 1.41l-1.4 1.4a1 1 0 1 1-1.41-1.41l1.4-1.4zM18.99 9a1 1 0 1 1 0 2h-1.98a1 1 0 1 1 0-2h1.98zm-1.93 6.65a1 1 0 1 1-1.41 1.41l-1.4-1.4a1 1 0 1 1 1.41-1.41l1.4 1.4zM11 18.99a1 1 0 1 1-2 0v-1.98a1 1 0 1 1 2 0v1.98zm-6.65-1.93a1 1 0 1 1-1.41-1.41l1.4-1.4a1 1 0 1 1 1.41 1.41l-1.4 1.4zM1.01 11a1 1 0 1 1 0-2h1.98a1 1 0 1 1 0 2H1.01zm1.93-6.65a1 1 0 1 1 1.41-1.41l1.4 1.4a1 1 0 1 1-1.41 1.41l-1.4-1.4z\"/>,\"browser-window-new\":<path d=\"M9 10V8h2v2h2v2h-2v2H9v-2H7v-2h2zM0 3c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3zm2 2v12h16V5H2z\"/>,\"browser-window-open\":<path d=\"M0 3c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3zm2 2v12h16V5H2zm8 3l4 5H6l4-5z\"/>,\"browser-window\":<path d=\"M0 3c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3zm2 2v12h16V5H2z\"/>,\"bug\":<path d=\"M15.3 14.89l2.77 2.77a1 1 0 0 1 0 1.41 1 1 0 0 1-1.41 0l-2.59-2.58A5.99 5.99 0 0 1 11 18V9.04a1 1 0 0 0-2 0V18a5.98 5.98 0 0 1-3.07-1.51l-2.59 2.58a1 1 0 0 1-1.41 0 1 1 0 0 1 0-1.41l2.77-2.77A5.95 5.95 0 0 1 4.07 13H1a1 1 0 1 1 0-2h3V8.41L.93 5.34a1 1 0 0 1 0-1.41 1 1 0 0 1 1.41 0l2.1 2.1h11.12l2.1-2.1a1 1 0 0 1 1.41 0 1 1 0 0 1 0 1.41L16 8.41V11h3a1 1 0 1 1 0 2h-3.07c-.1.67-.32 1.31-.63 1.89zM15 5H5a5 5 0 1 1 10 0z\"/>,\"buoy\":<path d=\"M17.16 6.42a8.03 8.03 0 0 0-3.58-3.58l-1.34 2.69a5.02 5.02 0 0 1 2.23 2.23l2.69-1.34zm0 7.16l-2.69-1.34a5.02 5.02 0 0 1-2.23 2.23l1.34 2.69a8.03 8.03 0 0 0 3.58-3.58zM6.42 2.84a8.03 8.03 0 0 0-3.58 3.58l2.69 1.34a5.02 5.02 0 0 1 2.23-2.23L6.42 2.84zM2.84 13.58a8.03 8.03 0 0 0 3.58 3.58l1.34-2.69a5.02 5.02 0 0 1-2.23-2.23l-2.69 1.34zM10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-7a3 3 0 1 0 0-6 3 3 0 0 0 0 6z\"/>,\"calculator\":<path d=\"M2 2c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2zm3 1v2h10V3H5zm0 4v2h2V7H5zm4 0v2h2V7H9zm4 0v2h2V7h-2zm-8 4v2h2v-2H5zm4 0v2h2v-2H9zm4 0v6h2v-6h-2zm-8 4v2h2v-2H5zm4 0v2h2v-2H9z\"/>,\"calendar\":<path d=\"M1 4c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V4zm2 2v12h14V6H3zm2-6h2v2H5V0zm8 0h2v2h-2V0zM5 9h2v2H5V9zm0 4h2v2H5v-2zm4-4h2v2H9V9zm0 4h2v2H9v-2zm4-4h2v2h-2V9zm0 4h2v2h-2v-2z\"/>,\"camera\":<path d=\"M0 6c0-1.1.9-2 2-2h3l2-2h6l2 2h3a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6zm10 10a5 5 0 1 0 0-10 5 5 0 0 0 0 10zm0-2a3 3 0 1 1 0-6 3 3 0 0 1 0 6z\"/>,\"chart-bar\":<path d=\"M1 10h3v10H1V10zM6 0h3v20H6V0zm5 8h3v12h-3V8zm5-4h3v16h-3V4z\"/>,\"chart-pie\":<path d=\"M19.95 11A10 10 0 1 1 9 .05V11h10.95zm-.08-2.6H11.6V.13a10 10 0 0 1 8.27 8.27z\"/>,\"chart\":<path d=\"M4.13 12H4a2 2 0 1 0 1.8 1.11L7.86 10a2.03 2.03 0 0 0 .65-.07l1.55 1.55a2 2 0 1 0 3.72-.37L15.87 8H16a2 2 0 1 0-1.8-1.11L12.14 10a2.03 2.03 0 0 0-.65.07L9.93 8.52a2 2 0 1 0-3.72.37L4.13 12zM0 4c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4z\"/>,\"chat-bubble-dots\":<path d=\"M10 15l-4 4v-4H2a2 2 0 0 1-2-2V3c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-8zM5 7v2h2V7H5zm4 0v2h2V7H9zm4 0v2h2V7h-2z\"/>,\"checkmark-outline\":<path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM6.7 9.29L9 11.6l4.3-4.3 1.4 1.42L9 14.4l-3.7-3.7 1.4-1.42z\"/>,\"checkmark\":<path d=\"M0 11l2-2 5 5L18 3l2 2L7 18z\"/>,\"cheveron-down\":<path d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\"/>,\"cheveron-left\":<path d=\"M7.05 9.293L6.343 10 12 15.657l1.414-1.414L9.172 10l4.242-4.243L12 4.343z\"/>,\"cheveron-outline-down\":<path d=\"M20 10a10 10 0 1 1-20 0 10 10 0 0 1 20 0zM10 2a8 8 0 1 0 0 16 8 8 0 0 0 0-16zm-.7 10.54L5.75 9l1.41-1.41L10 10.4l2.83-2.82L14.24 9 10 13.24l-.7-.7z\"/>,\"cheveron-outline-left\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm8-10a8 8 0 1 0-16 0 8 8 0 0 0 16 0zM7.46 9.3L11 5.75l1.41 1.41L9.6 10l2.82 2.83L11 14.24 6.76 10l.7-.7z\"/>,\"cheveron-outline-right\":<path d=\"M10 0a10 10 0 1 1 0 20 10 10 0 0 1 0-20zM2 10a8 8 0 1 0 16 0 8 8 0 0 0-16 0zm10.54.7L9 14.25l-1.41-1.41L10.4 10 7.6 7.17 9 5.76 13.24 10l-.7.7z\"/>,\"cheveron-outline-up\":<path d=\"M0 10a10 10 0 1 1 20 0 10 10 0 0 1-20 0zm10 8a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm.7-10.54L14.25 11l-1.41 1.41L10 9.6l-2.83 2.8L5.76 11 10 6.76l.7.7z\"/>,\"cheveron-right\":<path d=\"M12.95 10.707l.707-.707L8 4.343 6.586 5.757 10.828 10l-4.242 4.243L8 15.657l4.95-4.95z\"/>,\"cheveron-up\":<path d=\"M10.707 7.05L10 6.343 4.343 12l1.414 1.414L10 9.172l4.243 4.242L15.657 12z\"/>,\"clipboard\":<path d=\"M7.03 2.6a3 3 0 0 1 5.94 0L15 3v1h1a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h1V3l2.03-.4zM5 6H4v12h12V6h-1v1H5V6zm5-2a1 1 0 1 0 0-2 1 1 0 0 0 0 2z\"/>,\"close-outline\":<path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm1.41-1.41A8 8 0 1 0 15.66 4.34 8 8 0 0 0 4.34 15.66zm9.9-8.49L11.41 10l2.83 2.83-1.41 1.41L10 11.41l-2.83 2.83-1.41-1.41L8.59 10 5.76 7.17l1.41-1.41L10 8.59l2.83-2.83 1.41 1.41z\"/>,\"close-solid\":<path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zM11.4 10l2.83-2.83-1.41-1.41L10 8.59 7.17 5.76 5.76 7.17 8.59 10l-2.83 2.83 1.41 1.41L10 11.41l2.83 2.83 1.41-1.41L11.41 10z\"/>,\"close\":<path d=\"M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z\"/>,\"cloud-upload\":<path d=\"M16.88 9.1A4 4 0 0 1 16 17H5a5 5 0 0 1-1-9.9V7a3 3 0 0 1 4.52-2.59A4.98 4.98 0 0 1 17 8c0 .38-.04.74-.12 1.1zM11 11h3l-4-4-4 4h3v3h2v-3z\"/>,\"cloud\":<path d=\"M16.88 9.1A4 4 0 0 1 16 17H5a5 5 0 0 1-1-9.9V7a3 3 0 0 1 4.52-2.59A4.98 4.98 0 0 1 17 8c0 .38-.04.74-.12 1.1z\"/>,\"code\":<path d=\"M.7 9.3l4.8-4.8 1.4 1.42L2.84 10l4.07 4.07-1.41 1.42L0 10l.7-.7zm18.6 1.4l.7-.7-5.49-5.49-1.4 1.42L17.16 10l-4.07 4.07 1.41 1.42 4.78-4.78z\"/>,\"coffee\":<path d=\"M4 11H2a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h2V1h14v10a4 4 0 0 1-4 4H8a4 4 0 0 1-4-4zm0-2V5H2v4h2zm-2 8v-1h18v1l-4 2H6l-4-2z\"/>,\"cog\":<path d=\"M3.94 6.5L2.22 3.64l1.42-1.42L6.5 3.94c.52-.3 1.1-.54 1.7-.7L9 0h2l.8 3.24c.6.16 1.18.4 1.7.7l2.86-1.72 1.42 1.42-1.72 2.86c.3.52.54 1.1.7 1.7L20 9v2l-3.24.8c-.16.6-.4 1.18-.7 1.7l1.72 2.86-1.42 1.42-2.86-1.72c-.52.3-1.1.54-1.7.7L11 20H9l-.8-3.24c-.6-.16-1.18-.4-1.7-.7l-2.86 1.72-1.42-1.42 1.72-2.86c-.3-.52-.54-1.1-.7-1.7L0 11V9l3.24-.8c.16-.6.4-1.18.7-1.7zM10 13a3 3 0 1 0 0-6 3 3 0 0 0 0 6z\"/>,\"color-palette\":<path d=\"M9 20v-1.7l.01-.24L15.07 12h2.94c1.1 0 1.99.89 1.99 2v4a2 2 0 0 1-2 2H9zm0-3.34V5.34l2.08-2.07a1.99 1.99 0 0 1 2.82 0l2.83 2.83a2 2 0 0 1 0 2.82L9 16.66zM0 1.99C0 .9.89 0 2 0h4a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zM4 17a1 1 0 1 0 0-2 1 1 0 0 0 0 2z\"/>,\"compose\":<path d=\"M2 4v14h14v-6l2-2v10H0V2h10L8 4H2zm10.3-.3l4 4L8 16H4v-4l8.3-8.3zm1.4-1.4L16 0l4 4-2.3 2.3-4-4z\"/>,\"computer-desktop\":<path d=\"M7 17H2a2 2 0 0 1-2-2V2C0 .9.9 0 2 0h16a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2h-5l4 2v1H3v-1l4-2zM2 2v11h16V2H2z\"/>,\"computer-laptop\":<path d=\"M18 16h2v1a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1v-1h2V4c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v12zM4 4v9h12V4H4zm4 11v1h4v-1H8z\"/>,\"conversation\":<path d=\"M17 11v3l-3-3H8a2 2 0 0 1-2-2V2c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v7a2 2 0 0 1-2 2h-1zm-3 2v2a2 2 0 0 1-2 2H6l-3 3v-3H2a2 2 0 0 1-2-2V8c0-1.1.9-2 2-2h2v3a4 4 0 0 0 4 4h6z\"/>,\"copy\":<path d=\"M6 6V2c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-4v4a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V8c0-1.1.9-2 2-2h4zm2 0h4a2 2 0 0 1 2 2v4h4V2H8v4zM2 8v10h10V8H2z\"/>,\"credit-card\":<path d=\"M18 6V4H2v2h16zm0 4H2v6h16v-6zM0 4c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm4 8h4v2H4v-2z\"/>,\"currency-dollar\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm1-5h1a3 3 0 0 0 0-6H7.99a1 1 0 0 1 0-2H14V5h-3V3H9v2H8a3 3 0 1 0 0 6h4a1 1 0 1 1 0 2H6v2h3v2h2v-2z\"/>,\"dashboard\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm-5.6-4.29a9.95 9.95 0 0 1 11.2 0 8 8 0 1 0-11.2 0zm6.12-7.64l3.02-3.02 1.41 1.41-3.02 3.02a2 2 0 1 1-1.41-1.41z\"/>,\"date-add\":<path d=\"M15 2h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V4c0-1.1.9-2 2-2h2V0h2v2h6V0h2v2zM3 6v12h14V6H3zm6 5V9h2v2h2v2h-2v2H9v-2H7v-2h2z\"/>,\"dial-pad\":<path d=\"M5 4a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm5 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm5 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4zM5 9a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm5 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm5 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4zM5 14a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm5 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0 6a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm5-6a2 2 0 1 1 0-4 2 2 0 0 1 0 4z\"/>,\"directions\":<path d=\"M10 0l10 10-10 10L0 10 10 0zM6 10v3h2v-3h3v3l4-4-4-4v3H8a2 2 0 0 0-2 2z\"/>,\"document-add\":<path d=\"M9 10V8h2v2h2v2h-2v2H9v-2H7v-2h2zm-5 8h12V6h-4V2H4v16zm-2 1V0h12l4 4v16H2v-1z\"/>,\"document\":<path d=\"M4 18h12V6h-4V2H4v16zm-2 1V0h12l4 4v16H2v-1z\"/>,\"dots-horizontal-double\":<path d=\"M10 9a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0 6a2 2 0 1 1 0-4 2 2 0 0 1 0 4z\"/>,\"dots-horizontal-triple\":<path d=\"M10 12a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0-6a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0 12a2 2 0 1 1 0-4 2 2 0 0 1 0 4z\"/>,\"download\":<path d=\"M13 8V2H7v6H2l8 8 8-8h-5zM0 18h20v2H0v-2z\"/>,\"duplicate\":<path d=\"M6 6V2c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-4v4a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V8c0-1.1.9-2 2-2h4zm2 0h4a2 2 0 0 1 2 2v4h4V2H8v4zM2 8v10h10V8H2zm4 4v-2h2v2h2v2H8v2H6v-2H4v-2h2z\"/>,\"edit-copy\":<path d=\"M6 6V2c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-4v4a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V8c0-1.1.9-2 2-2h4zm2 0h4a2 2 0 0 1 2 2v4h4V2H8v4zM2 8v10h10V8H2z\"/>,\"edit-crop\":<path d=\"M14 16H6a2 2 0 0 1-2-2V6H0V4h4V0h2v14h14v2h-4v4h-2v-4zm0-3V6H7V4h7a2 2 0 0 1 2 2v7h-2z\"/>,\"edit-cut\":<path d=\"M9.77 11.5l5.34 3.91c.44.33 1.24.59 1.79.59H20L6.89 6.38A3.5 3.5 0 1 0 5.5 8.37L7.73 10 5.5 11.63a3.5 3.5 0 1 0 1.38 1.99l2.9-2.12zM3.5 7a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zM15.1 4.59A3.53 3.53 0 0 1 16.9 4H20l-7.5 5.5L10.45 8l4.65-3.41z\"/>,\"edit-pencil\":<path d=\"M12.3 3.7l4 4L4 20H0v-4L12.3 3.7zm1.4-1.4L16 0l4 4-2.3 2.3-4-4z\"/>,\"education\":<path d=\"M3.33 8L10 12l10-6-10-6L0 6h10v2H3.33zM0 8v8l2-2.22V9.2L0 8zm10 12l-5-3-2-1.2v-6l7 4.2 7-4.2v6L10 20z\"/>,\"envelope\":<path d=\"M18 2a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4c0-1.1.9-2 2-2h16zm-4.37 9.1L20 16v-2l-5.12-3.9L20 6V4l-10 8L0 4v2l5.12 4.1L0 14v2l6.37-4.9L10 14l3.63-2.9z\"/>,\"exclamation-outline\":<path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 5h2v6H9V5zm0 8h2v2H9v-2z\"/>,\"exclamation-solid\":<path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zM9 5v6h2V5H9zm0 8v2h2v-2H9z\"/>,\"explore\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zM7.88 7.88l-3.54 7.78 7.78-3.54 3.54-7.78-7.78 3.54zM10 11a1 1 0 1 1 0-2 1 1 0 0 1 0 2z\"/>,\"factory\":<path d=\"M10.5 20H0V7l5 3.33V7l5 3.33V7l5 3.33V0h5v20h-9.5z\"/>,\"fast-forward\":<path d=\"M1 5l9 5-9 5V5zm9 0l9 5-9 5V5z\"/>,\"fast-rewind\":<path d=\"M19 5v10l-9-5 9-5zm-9 0v10l-9-5 9-5z\"/>,\"film\":<path d=\"M0 4c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm6 0v12h8V4H6zM2 5v2h2V5H2zm0 4v2h2V9H2zm0 4v2h2v-2H2zm14-8v2h2V5h-2zm0 4v2h2V9h-2zm0 4v2h2v-2h-2zM8 7l5 3-5 3V7z\"/>,\"filter\":<path d=\"M12 12l8-8V0H0v4l8 8v8l4-4v-4z\"/>,\"flag\":<path d=\"M7.667 12H2v8H0V0h12l.333 2H20l-3 6 3 6H8l-.333-2z\"/>,\"flashlight\":<path d=\"M13 7v11a2 2 0 0 1-2 2H9a2 2 0 0 1-2-2V7L5 5V3h10v2l-2 2zM9 8v1a1 1 0 1 0 2 0V8a1 1 0 0 0-2 0zM5 0h10v2H5V0z\"/>,\"folder-outline-add\":<path d=\"M0 4c0-1.1.9-2 2-2h7l2 2h7a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm2 2v10h16V6H2zm7 4V8h2v2h2v2h-2v2H9v-2H7v-2h2z\"/>,\"folder-outline\":<path d=\"M0 4c0-1.1.9-2 2-2h7l2 2h7a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm2 2v10h16V6H2z\"/>,\"folder\":<path d=\"M0 4c0-1.1.9-2 2-2h7l2 2h7a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4z\"/>,\"format-bold\":<path d=\"M3 19V1h8a5 5 0 0 1 3.88 8.16A5.5 5.5 0 0 1 11.5 19H3zm7.5-8H7v5h3.5a2.5 2.5 0 1 0 0-5zM7 4v4h3a2 2 0 1 0 0-4H7z\"/>,\"format-font-size\":<path d=\"M16 9v8h-2V9h-4V7h10v2h-4zM8 5v12H6V5H0V3h15v2H8z\"/>,\"format-italic\":<path d=\"M8 1h9v2H8V1zm3 2h3L8 17H5l6-14zM2 17h9v2H2v-2z\"/>,\"format-text-size\":<path d=\"M16 9v8h-2V9h-4V7h10v2h-4zM8 5v12H6V5H0V3h15v2H8z\"/>,\"format-underline\":<path d=\"M16 9A6 6 0 1 1 4 9V1h3v8a3 3 0 0 0 6 0V1h3v8zM2 17h16v2H2v-2z\"/>,\"forward-step\":<path d=\"M13 5h3v10h-3V5zM4 5l9 5-9 5V5z\"/>,\"forward\":<path d=\"M1 5l9 5-9 5V5zm9 0l9 5-9 5V5z\"/>,\"gift\":<path d=\"M14.83 4H20v6h-1v10H1V10H0V4h5.17A3 3 0 0 1 10 .76 3 3 0 0 1 14.83 4zM8 10H3v8h5v-8zm4 0v8h5v-8h-5zM8 6H2v2h6V6zm4 0v2h6V6h-6zM8 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm4 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2z\"/>,\"globe\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm2-2.25a8 8 0 0 0 4-2.46V9a2 2 0 0 1-2-2V3.07a7.95 7.95 0 0 0-3-1V3a2 2 0 0 1-2 2v1a2 2 0 0 1-2 2v2h3a2 2 0 0 1 2 2v5.75zm-4 0V15a2 2 0 0 1-2-2v-1h-.5A1.5 1.5 0 0 1 4 10.5V8H2.25A8.01 8.01 0 0 0 8 17.75z\"/>,\"hand-stop\":<path d=\"M17 16a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4.01V4a1 1 0 0 1 1-1 1 1 0 0 1 1 1v6h1V2a1 1 0 0 1 1-1 1 1 0 0 1 1 1v8h1V1a1 1 0 1 1 2 0v9h1V2a1 1 0 0 1 1-1 1 1 0 0 1 1 1v13h1V9a1 1 0 0 1 1-1h1v8z\"/>,\"hard-drive\":<path d=\"M2 2c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2zm10.4 5.6A5 5 0 1 0 15 12V5l-2.6 2.6zM10 14a2 2 0 1 1 0-4 2 2 0 0 1 0 4zM6 3v2h4V3H6zM4 3a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 16a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm12 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0-16a1 1 0 1 0 0-2 1 1 0 0 0 0 2z\"/>,\"headphones\":<path d=\"M16 8A6 6 0 1 0 4 8v11H2a2 2 0 0 1-2-2v-4a2 2 0 0 1 2-2V8a8 8 0 1 1 16 0v3a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-2V8zm-4 2h3v10h-3V10zm-7 0h3v10H5V10z\"/>,\"heart\":<path d=\"M10 3.22l-.61-.6a5.5 5.5 0 0 0-7.78 7.77L10 18.78l8.39-8.4a5.5 5.5 0 0 0-7.78-7.77l-.61.61z\"/>,\"home\":<path d=\"M8 20H3V10H0L10 0l10 10h-3v10h-5v-6H8v6z\"/>,\"hot\":<path d=\"M10 0s8 7.58 8 12a8 8 0 1 1-16 0c0-1.5.91-3.35 2.12-5.15A3 3 0 0 0 10 6V0zM8 0a3 3 0 1 0 0 6V0z\"/>,\"hour-glass\":<path d=\"M3 18a7 7 0 0 1 4-6.33V8.33A7 7 0 0 1 3 2H1V0h18v2h-2a7 7 0 0 1-4 6.33v3.34A7 7 0 0 1 17 18h2v2H1v-2h2zM5 2a5 5 0 0 0 4 4.9V10h2V6.9A5 5 0 0 0 15 2H5z\"/>,\"inbox-check\":<path d=\"M0 2C0 .9.9 0 2 0h16a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm14 12h4V2H2v12h4c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2zM5 9l2-2 2 2 4-4 2 2-6 6-4-4z\"/>,\"inbox-download\":<path d=\"M0 2C0 .9.9 0 2 0h16a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm14 12h4V2H2v12h4c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2zM9 8V5h2v3h3l-4 4-4-4h3z\"/>,\"inbox-full\":<path d=\"M14 14h4V2H2v12h4c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2zM0 2C0 .9.9 0 2 0h16a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm4 2h12v2H4V4zm0 3h12v2H4V7zm0 3h12v2H4v-2z\"/>,\"inbox\":<path d=\"M0 2C0 .9.9 0 2 0h16a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm14 12h4V2H2v12h4c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2z\"/>,\"indent-decrease\":<path d=\"M1 1h18v2H1V1zm6 8h12v2H7V9zm-6 8h18v2H1v-2zM7 5h12v2H7V5zm0 8h12v2H7v-2zM5 6v8l-4-4 4-4z\"/>,\"indent-increase\":<path d=\"M1 1h18v2H1V1zm6 8h12v2H7V9zm-6 8h18v2H1v-2zM7 5h12v2H7V5zm0 8h12v2H7v-2zM1 6l4 4-4 4V6z\"/>,\"information-outline\":<path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z\"/>,\"information-solid\":<path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zM9 11v4h2V9H9v2zm0-6v2h2V5H9z\"/>,\"key\":<path d=\"M12.26 11.74L10 14H8v2H6v2l-2 2H0v-4l8.26-8.26a6 6 0 1 1 4 4zm4.86-4.62A3 3 0 0 0 15 2a3 3 0 0 0-2.12.88l4.24 4.24z\"/>,\"keyboard\":<path d=\"M0 6c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6zm2 0v2h2V6H2zm1 3v2h2V9H3zm-1 3v2h2v-2H2zm3 0v2h10v-2H5zm11 0v2h2v-2h-2zM6 9v2h2V9H6zm3 0v2h2V9H9zm3 0v2h2V9h-2zm3 0v2h2V9h-2zM5 6v2h2V6H5zm3 0v2h2V6H8zm3 0v2h2V6h-2zm3 0v2h4V6h-4z\"/>,\"layers\":<path d=\"M10 1l10 6-10 6L0 7l10-6zm6.67 10L20 13l-10 6-10-6 3.33-2L10 15l6.67-4z\"/>,\"library\":<path d=\"M0 6l10-6 10 6v2H0V6zm0 12h20v2H0v-2zm2-2h16v2H2v-2zm0-8h4v8H2V8zm6 0h4v8H8V8zm6 0h4v8h-4V8z\"/>,\"light-bulb\":<path d=\"M7 13.33a7 7 0 1 1 6 0V16H7v-2.67zM7 17h6v1.5c0 .83-.67 1.5-1.5 1.5h-3A1.5 1.5 0 0 1 7 18.5V17zm2-5.1V14h2v-2.1a5 5 0 1 0-2 0z\"/>,\"link\":<path d=\"M9.26 13a2 2 0 0 1 .01-2.01A3 3 0 0 0 9 5H5a3 3 0 0 0 0 6h.08a6.06 6.06 0 0 0 0 2H5A5 5 0 0 1 5 3h4a5 5 0 0 1 .26 10zm1.48-6a2 2 0 0 1-.01 2.01A3 3 0 0 0 11 15h4a3 3 0 0 0 0-6h-.08a6.06 6.06 0 0 0 0-2H15a5 5 0 0 1 0 10h-4a5 5 0 0 1-.26-10z\"/>,\"list-add\":<path d=\"M15 9h-3v2h3v3h2v-3h3V9h-3V6h-2v3zM0 3h10v2H0V3zm0 8h10v2H0v-2zm0-4h10v2H0V7zm0 8h10v2H0v-2z\"/>,\"list-bullet\":<path d=\"M1 4h2v2H1V4zm4 0h14v2H5V4zM1 9h2v2H1V9zm4 0h14v2H5V9zm-4 5h2v2H1v-2zm4 0h14v2H5v-2z\"/>,\"list\":<path d=\"M1 4h2v2H1V4zm4 0h14v2H5V4zM1 9h2v2H1V9zm4 0h14v2H5V9zm-4 5h2v2H1v-2zm4 0h14v2H5v-2z\"/>,\"load-balancer\":<path d=\"M17 12h-6v4h1v4H8v-4h1v-4H3v4h1v4H0v-4h1v-4a2 2 0 0 1 2-2h6V6H7V0h6v6h-2v4h6a2 2 0 0 1 2 2v4h1v4h-4v-4h1v-4z\"/>,\"location-current\":<path d=\"M0 0l20 8-8 4-2 8z\"/>,\"location-food\":<path d=\"M18 11v7a2 2 0 0 1-4 0v-5h-2V3a3 3 0 0 1 3-3h3v11zM4 10a2 2 0 0 1-2-2V1a1 1 0 0 1 2 0v4h1V1a1 1 0 0 1 2 0v4h1V1a1 1 0 0 1 2 0v7a2 2 0 0 1-2 2v8a2 2 0 0 1-4 0v-8z\"/>,\"location-gas-station\":<path d=\"M13 18h1v2H0v-2h1V2c0-1.1.9-2 2-2h8a2 2 0 0 1 2 2v16zM3 2v6h8V2H3zm10 8h1a2 2 0 0 1 2 2v3a1 1 0 0 0 2 0v-5l-2-2V6l-2-2 1-1 5 5v7a3 3 0 0 1-6 0v-3h-1v-2z\"/>,\"location-hotel\":<path d=\"M2 12h18v6h-2v-2H2v2H0V2h2v10zm8-6h8a2 2 0 0 1 2 2v3H10V6zm-4 5a3 3 0 1 1 0-6 3 3 0 0 1 0 6z\"/>,\"location-marina\":<path d=\"M8 1.88V0h2v16h10l-4 4H2l-2-4h8v-2H0v-.26A24.03 24.03 0 0 0 8 1.88zM19.97 14H10v-.36A11.94 11.94 0 0 0 10 .36v-.2A16.01 16.01 0 0 1 19.97 14z\"/>,\"location-park\":<path d=\"M5.33 12.77A4 4 0 1 1 3 5.13V5a4 4 0 0 1 5.71-3.62 3.5 3.5 0 0 1 6.26 1.66 2.5 2.5 0 0 1 2 2.08 4 4 0 1 1-2.7 7.49A5.02 5.02 0 0 1 12 14.58V18l2 1v1H6v-1l2-1v-3l-2.67-2.23zM5 10l3 3v-3H5z\"/>,\"location-restroom\":<path d=\"M12 16H9l2-4.5V9c0-1.1.9-2 2-2h2a2 2 0 0 1 2 2v2.5l2 4.5h-3v4h-4v-4zm-5-3h2V9a2 2 0 0 0-2-2H3a2 2 0 0 0-2 2v4h2v7h4v-7zM5 6a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm9 0a3 3 0 1 1 0-6 3 3 0 0 1 0 6z\"/>,\"location-shopping\":<path d=\"M16 6v2h2l2 12H0L2 8h2V6a6 6 0 1 1 12 0zm-2 0a4 4 0 1 0-8 0v2h8V6zM4 10v2h2v-2H4zm10 0v2h2v-2h-2z\"/>,\"location\":<path d=\"M10 20S3 10.87 3 7a7 7 0 1 1 14 0c0 3.87-7 13-7 13zm0-11a2 2 0 1 0 0-4 2 2 0 0 0 0 4z\"/>,\"lock-closed\":<path d=\"M4 8V6a6 6 0 1 1 12 0v2h1a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h1zm5 6.73V17h2v-2.27a2 2 0 1 0-2 0zM7 6v2h6V6a3 3 0 0 0-6 0z\"/>,\"lock-open\":<path d=\"M4 8V6a6 6 0 1 1 12 0h-3v2h4a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h1zm5 6.73V17h2v-2.27a2 2 0 1 0-2 0zM7 6v2h6V6a3 3 0 0 0-6 0z\"/>,\"map\":<path d=\"M0 0l6 4 8-4 6 4v16l-6-4-8 4-6-4V0zm7 6v11l6-3V3L7 6z\"/>,\"menu\":<path d=\"M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z\"/>,\"mic\":<path d=\"M9 18v-1.06A8 8 0 0 1 2 9h2a6 6 0 1 0 12 0h2a8 8 0 0 1-7 7.94V18h3v2H6v-2h3zM6 4a4 4 0 1 1 8 0v5a4 4 0 1 1-8 0V4z\"/>,\"minus-outline\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm5-9v2H5V9h10z\"/>,\"minus-solid\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm5-11H5v2h10V9z\"/>,\"mobile-devices\":<path d=\"M17 6V5h-2V2H3v14h5v4h3.25H11a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6zm-5.75 14H3a2 2 0 0 1-2-2V2c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-5.75zM11 8v8h6V8h-6zm3 11a1 1 0 1 0 0-2 1 1 0 0 0 0 2z\"/>,\"mood-happy-outline\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zM6.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm7 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm2.16 3a6 6 0 0 1-11.32 0h11.32z\"/>,\"mood-happy-solid\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zM6.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm7 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm2.16 3H4.34a6 6 0 0 0 11.32 0z\"/>,\"mood-neutral-outline\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zM6.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm7 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zM7 13h6a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2z\"/>,\"mood-neutral-solid\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zM6.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm7 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM7 13a1 1 0 0 0 0 2h6a1 1 0 0 0 0-2H7z\"/>,\"mood-sad-outline\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zM6.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm7 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm2.16 6H4.34a6 6 0 0 1 11.32 0z\"/>,\"mood-sad-solid\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zM6.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm7 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm2.16 6a6 6 0 0 0-11.32 0h11.32z\"/>,\"mouse\":<path d=\"M4 9V6A6 6 0 0 1 9 .08V9H4zm0 2v3a6 6 0 1 0 12 0v-3H4zm12-2V6a6 6 0 0 0-5-5.92V9h5z\"/>,\"move\":<path d=\"M94.828,45.171L80.687,31.029c-1.562-1.562-4.095-1.562-5.657,0c-1.562,1.562-1.562,4.095,0,5.657L82.344,44H52V13.657  l7.313,7.313c1.562,1.562,4.095,1.562,5.657,0c1.562-1.562,1.562-4.095,0-5.657L50.828,1.171c-1.562-1.562-4.095-1.562-5.657,0  L31.029,15.314c-1.562,1.562-1.562,4.095,0,5.657s4.095,1.562,5.657,0L44,13.657V44H13.657l7.313-7.313  c1.562-1.562,1.562-4.095,0-5.657s-4.095-1.562-5.657,0L1.171,45.171c-1.562,1.562-1.562,4.095,0,5.657l14.143,14.143  c1.562,1.562,4.095,1.562,5.657,0c1.562-1.562,1.562-4.095,0-5.657L13.657,52H44v30.344l-7.313-7.314  c-1.562-1.562-4.095-1.562-5.657,0c-1.562,1.562-1.562,4.095,0,5.657l14.142,14.142c1.562,1.562,4.095,1.562,5.657,0l14.143-14.142  c1.562-1.562,1.562-4.095,0-5.657c-1.562-1.562-4.095-1.562-5.657,0L52,82.343V52h30.343l-7.313,7.313  c-1.562,1.562-1.562,4.095,0,5.657c1.562,1.562,4.095,1.562,5.657,0l14.142-14.143C96.391,49.267,96.391,46.733,94.828,45.171z\" />,\"music-album\":<path d=\"M0 0h20v20H0V0zm10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm0-5a3 3 0 1 1 0-6 3 3 0 0 1 0 6z\"/>,\"music-artist\":<path d=\"M15.75 8l-3.74-3.75a3.99 3.99 0 0 1 6.82-3.08A4 4 0 0 1 15.75 8zm-13.9 7.3l9.2-9.19 2.83 2.83-9.2 9.2-2.82-2.84zm-1.4 2.83l2.11-2.12 1.42 1.42-2.12 2.12-1.42-1.42zM10 15l2-2v7h-2v-5z\"/>,\"music-notes\":<path d=\"M20 2.5V0L6 2v12.17A3 3 0 0 0 5 14H3a3 3 0 0 0 0 6h2a3 3 0 0 0 3-3V5.71L18 4.3v7.88a3 3 0 0 0-1-.17h-2a3 3 0 0 0 0 6h2a3 3 0 0 0 3-3V2.5z\"/>,\"music-playlist\":<path d=\"M16 17a3 3 0 0 1-3 3h-2a3 3 0 0 1 0-6h2a3 3 0 0 1 1 .17V1l6-1v4l-4 .67V17zM0 3h12v2H0V3zm0 4h12v2H0V7zm0 4h12v2H0v-2zm0 4h6v2H0v-2z\"/>,\"navigation-more\":<path d=\"M4 12a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm6 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm6 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4z\"/>,\"network\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm7.75-8a8.01 8.01 0 0 0 0-4h-3.82a28.81 28.81 0 0 1 0 4h3.82zm-.82 2h-3.22a14.44 14.44 0 0 1-.95 3.51A8.03 8.03 0 0 0 16.93 14zm-8.85-2h3.84a24.61 24.61 0 0 0 0-4H8.08a24.61 24.61 0 0 0 0 4zm.25 2c.41 2.4 1.13 4 1.67 4s1.26-1.6 1.67-4H8.33zm-6.08-2h3.82a28.81 28.81 0 0 1 0-4H2.25a8.01 8.01 0 0 0 0 4zm.82 2a8.03 8.03 0 0 0 4.17 3.51c-.42-.96-.74-2.16-.95-3.51H3.07zm13.86-8a8.03 8.03 0 0 0-4.17-3.51c.42.96.74 2.16.95 3.51h3.22zm-8.6 0h3.34c-.41-2.4-1.13-4-1.67-4S8.74 3.6 8.33 6zM3.07 6h3.22c.2-1.35.53-2.55.95-3.51A8.03 8.03 0 0 0 3.07 6z\"/>,\"news-paper\":<path d=\"M16 2h4v15a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V0h16v2zm0 2v13a1 1 0 0 0 1 1 1 1 0 0 0 1-1V4h-2zM2 2v15a1 1 0 0 0 1 1h11.17a2.98 2.98 0 0 1-.17-1V2H2zm2 8h8v2H4v-2zm0 4h8v2H4v-2zM4 4h8v4H4V4z\"/>,\"notification\":<path d=\"M4 8a6 6 0 0 1 4.03-5.67 2 2 0 1 1 3.95 0A6 6 0 0 1 16 8v6l3 2v1H1v-1l3-2V8zm8 10a2 2 0 1 1-4 0h4z\"/>,\"notifications-outline\":<path d=\"M6 8v7h8V8a4 4 0 1 0-8 0zm2.03-5.67a2 2 0 1 1 3.95 0A6 6 0 0 1 16 8v6l3 2v1H1v-1l3-2V8a6 6 0 0 1 4.03-5.67zM12 18a2 2 0 1 1-4 0h4z\"/>,\"notifications\":<path d=\"M4 8a6 6 0 0 1 4.03-5.67 2 2 0 1 1 3.95 0A6 6 0 0 1 16 8v6l3 2v1H1v-1l3-2V8zm8 10a2 2 0 1 1-4 0h4z\"/>,\"paste\":<path d=\"M10.5 20H2a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h1V3l2.03-.4a3 3 0 0 1 5.94 0L13 3v1h1a2 2 0 0 1 2 2v1h-2V6h-1v1H3V6H2v12h5v2h3.5zM8 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm2 4h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-8a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2zm0 2v8h8v-8h-8z\"/>,\"pause-outline\":<path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM7 6h2v8H7V6zm4 0h2v8h-2V6z\"/>,\"pause-solid\":<path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zM7 6v8h2V6H7zm4 0v8h2V6h-2z\"/>,\"pause\":<path d=\"M5 4h3v12H5V4zm7 0h3v12h-3V4z\"/>,\"pen-tool\":<path d=\"M11 9.27V0l6 11-4 6H7l-4-6L9 0v9.27a2 2 0 1 0 2 0zM6 18h8v2H6v-2z\"/>,\"phone\":<path d=\"M20 18.35V19a1 1 0 0 1-1 1h-2A17 17 0 0 1 0 3V1a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v4c0 .56-.31 1.31-.7 1.7L3.16 8.84c1.52 3.6 4.4 6.48 8 8l2.12-2.12c.4-.4 1.15-.71 1.7-.71H19a1 1 0 0 1 .99 1v3.35z\"/>,\"photo\":<path d=\"M0 4c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm11 9l-3-3-6 6h16l-5-5-2 2zm4-4a2 2 0 1 0 0-4 2 2 0 0 0 0 4z\"/>,\"php-elephant\":<path fill-rule=\"evenodd\" d=\"M10 12v8A10 10 0 0 1 8.17.17L10 2h5a5 5 0 0 1 5 4.99v9.02A4 4 0 0 1 16 20v-2a2 2 0 1 0 0-4h-4l-2-2zm5.5-3a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z\"/>,\"pin\":<path d=\"M11 12h6v-1l-3-1V2l3-1V0H3v1l3 1v8l-3 1v1h6v7l1 1 1-1v-7z\"/>,\"play-outline\":<path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM7 6l8 4-8 4V6z\"/>,\"play\":<path d=\"M4 4l12 6-12 6z\"/>,\"playlist\":<path d=\"M16 17a3 3 0 0 1-3 3h-2a3 3 0 0 1 0-6h2a3 3 0 0 1 1 .17V1l6-1v4l-4 .67V17zM0 3h12v2H0V3zm0 4h12v2H0V7zm0 4h12v2H0v-2zm0 4h6v2H0v-2z\"/>,\"plugin\":<path d=\"M20 14v4a2 2 0 0 1-2 2h-4v-2a2 2 0 0 0-2-2 2 2 0 0 0-2 2v2H6a2 2 0 0 1-2-2v-4H2a2 2 0 0 1-2-2 2 2 0 0 1 2-2h2V6c0-1.1.9-2 2-2h4V2a2 2 0 0 1 2-2 2 2 0 0 1 2 2v2h4a2 2 0 0 1 2 2v4h-2a2 2 0 0 0-2 2 2 2 0 0 0 2 2h2z\"/>,\"plus-circle\":<path d=\"M12 9V12M12 12V15M12 12H15M12 12H9M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z\" stroke=\"#4A5568\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>,\"plus\":<path d=\"M12 6V12M12 12V18M12 12H18M12 12L6 12\" stroke=\"#374151\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>,\"portfolio\":<path d=\"M9 12H1v6a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-6h-8v2H9v-2zm0-1H0V5c0-1.1.9-2 2-2h4V2a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v1h4a2 2 0 0 1 2 2v6h-9V9H9v2zm3-8V2H8v1h4z\"/>,\"printer\":<path d=\"M4 16H0V6h20v10h-4v4H4v-4zm2-4v6h8v-6H6zM4 0h12v5H4V0zM2 8v2h2V8H2zm4 0v2h2V8H6z\"/>,\"pylon\":<path d=\"M17.4 18H20v2H0v-2h2.6L8 0h4l5.4 18zm-3.2-4H5.8l-1.2 4h10.8l-1.2-4zm-2.4-8H8.2L7 10h6l-1.2-4z\"/>,\"question\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm2-13c0 .28-.21.8-.42 1L10 9.58c-.57.58-1 1.6-1 2.42v1h2v-1c0-.29.21-.8.42-1L13 9.42c.57-.58 1-1.6 1-2.42a4 4 0 1 0-8 0h2a2 2 0 1 1 4 0zm-3 8v2h2v-2H9z\"/>,\"queue\":<path d=\"M0 2h20v4H0V2zm0 8h20v2H0v-2zm0 6h20v2H0v-2z\"/>,\"radar copy 2\":<path d=\"M12 10a2 2 0 0 1-3.41 1.41A2 2 0 0 1 10 8V0a9.97 9.97 0 0 1 10 10h-8zm7.9 1.41A10 10 0 1 1 8.59.1v2.03a8 8 0 1 0 9.29 9.29h2.02zm-4.07 0a6 6 0 1 1-7.25-7.25v2.1a3.99 3.99 0 0 0-1.4 6.57 4 4 0 0 0 6.56-1.42h2.1z\"/>,\"radar\":<path d=\"M12 10a2 2 0 0 1-3.41 1.41A2 2 0 0 1 10 8V0a9.97 9.97 0 0 1 10 10h-8zm7.9 1.41A10 10 0 1 1 8.59.1v2.03a8 8 0 1 0 9.29 9.29h2.02zm-4.07 0a6 6 0 1 1-7.25-7.25v2.1a3.99 3.99 0 0 0-1.4 6.57 4 4 0 0 0 6.56-1.42h2.1z\"/>,\"radio\":<path d=\"M20 9v9a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V8c0-1.1.9-2 2-2h13.8L.74 1.97 1.26.03 20 5.06V9zm-5 9a3 3 0 1 0 0-6 3 3 0 0 0 0 6zM2 8v2h16V8H2zm1.5 10a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm6.5-1a2 2 0 1 1 0-4 2 2 0 0 1 0 4z\"/>,\"refresh\":<path d=\"M10 3v2a5 5 0 0 0-3.54 8.54l-1.41 1.41A7 7 0 0 1 10 3zm4.95 2.05A7 7 0 0 1 10 17v-2a5 5 0 0 0 3.54-8.54l1.41-1.41zM10 20l-4-4 4-4v8zm0-12V0l4 4-4 4z\"/>,\"reload\":<path d=\"M14.66 15.66A8 8 0 1 1 17 10h-2a6 6 0 1 0-1.76 4.24l1.42 1.42zM12 10h8l-4 4-4-4z\"/>,\"reply-all\":<path d=\"M18 17v-2.99A4 4 0 0 0 14 10h-3v5L5 9l6-6v5h3a6 6 0 0 1 6 6v3h-2zM6 6V3L0 9l6 6v-3L3 9l3-3z\"/>,\"reply\":<path d=\"M15 17v-2.99A4 4 0 0 0 11 10H8v5L2 9l6-6v5h3a6 6 0 0 1 6 6v3h-2z\"/>,\"repost\":<path d=\"M5 4a2 2 0 0 0-2 2v6H0l4 4 4-4H5V6h7l2-2H5zm10 4h-3l4-4 4 4h-3v6a2 2 0 0 1-2 2H6l2-2h7V8z\"/>,\"save-disk\":<path d=\"M0 2C0 .9.9 0 2 0h14l4 4v14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm5 0v6h10V2H5zm6 1h3v4h-3V3z\"/>,\"screen-full\":<path d=\"M2.8 15.8L0 13v7h7l-2.8-2.8 4.34-4.32-1.42-1.42L2.8 15.8zM17.2 4.2L20 7V0h-7l2.8 2.8-4.34 4.32 1.42 1.42L17.2 4.2zm-1.4 13L13 20h7v-7l-2.8 2.8-4.32-4.34-1.42 1.42 4.33 4.33zM4.2 2.8L7 0H0v7l2.8-2.8 4.32 4.34 1.42-1.42L4.2 2.8z\"/>,\"search\":<path d=\"M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12z\"/>,\"send\":<path d=\"M0 0l20 10L0 20V0zm0 8v4l10-2L0 8z\"/>,\"servers\":<path d=\"M0 2C0 .9.9 0 2 0h16a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm0 7c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V9zm0 7c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2zM12 2v2h2V2h-2zm4 0v2h2V2h-2zm-4 7v2h2V9h-2zm4 0v2h2V9h-2zm-4 7v2h2v-2h-2zm4 0v2h2v-2h-2z\"/>,\"share-01\":<path d=\"M4 10c0-1.1.9-2 2-2h8c1.1 0 2 .9 2 2v8c0 1.1-.9 2-2 2H6c-1.1 0-2-.9-2-2v-8zm2 0v8h8v-8h-2V8H8v2H6zm3-6.17V16h2V3.83l3.07 3.07 1.42-1.41L10 0l-.7.7L4.5 5.5l1.42 1.4L9 3.84z\"/>,\"share-alt\":<path d=\"M5.08 12.16A2.99 2.99 0 0 1 0 10a3 3 0 0 1 5.08-2.16l8.94-4.47a3 3 0 1 1 .9 1.79L5.98 9.63a3.03 3.03 0 0 1 0 .74l8.94 4.47A2.99 2.99 0 0 1 20 17a3 3 0 1 1-5.98-.37l-8.94-4.47z\"/>,\"share\":<path d=\"M4 10c0-1.1.9-2 2-2h8c1.1 0 2 .9 2 2v8c0 1.1-.9 2-2 2H6c-1.1 0-2-.9-2-2v-8zm2 0v8h8v-8h-2V8H8v2H6zm3-6.17V16h2V3.83l3.07 3.07 1.42-1.41L10 0l-.7.7-4.8 4.8 1.42 1.4L9 3.84z\"/>,\"shield\":<path d=\"M19 11a7.5 7.5 0 0 1-3.5 5.94L10 20l-5.5-3.06A7.5 7.5 0 0 1 1 11V3c3.38 0 6.5-1.12 9-3 2.5 1.89 5.62 3 9 3v8zm-9 1.08l2.92 2.04-1.03-3.41 2.84-2.15-3.56-.08L10 5.12 8.83 8.48l-3.56.08L8.1 10.7l-1.03 3.4L10 12.09z\"/>,\"shopping-cart\":<path d=\"M4 2h16l-3 9H4a1 1 0 1 0 0 2h13v2H4a3 3 0 0 1 0-6h.33L3 5 2 2H0V0h3a1 1 0 0 1 1 1v1zm1 18a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm10 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4z\"/>,\"show-sidebar\":<path d=\"M7 3H2v14h5V3zm2 0v14h9V3H9zM0 3c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3zm3 1h3v2H3V4zm0 3h3v2H3V7zm0 3h3v2H3v-2z\"/>,\"shuffle\":<path d=\"M6.59 12.83L4.4 15c-.58.58-1.59 1-2.4 1H0v-2h2c.29 0 .8-.2 1-.41l2.17-2.18 1.42 1.42zM16 4V1l4 4-4 4V6h-2c-.29 0-.8.2-1 .41l-2.17 2.18L9.4 7.17 11.6 5c.58-.58 1.59-1 2.41-1h2zm0 10v-3l4 4-4 4v-3h-2c-.82 0-1.83-.42-2.41-1l-8.6-8.59C2.8 6.21 2.3 6 2 6H0V4h2c.82 0 1.83.42 2.41 1l8.6 8.59c.2.2.7.41.99.41h2z\"/>,\"stand-by\":<path fill-rule=\"evenodd\" d=\"M4.16 4.16l1.42 1.42A6.99 6.99 0 0 0 10 18a7 7 0 0 0 4.42-12.42l1.42-1.42a9 9 0 1 1-11.69 0zM9 0h2v8H9V0z\"/>,\"star-full\":<path d=\"M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z\"/>,\"station\":<path d=\"M9 11.73a2 2 0 1 1 2 0V20H9v-8.27zm5.24 2.51l-1.41-1.41A3.99 3.99 0 0 0 10 6a4 4 0 0 0-2.83 6.83l-1.41 1.41a6 6 0 1 1 8.49 0zm2.83 2.83l-1.41-1.41a8 8 0 1 0-11.31 0l-1.42 1.41a10 10 0 1 1 14.14 0z\"/>,\"step-backward\":<path d=\"M4 5h3v10H4V5zm12 0v10l-9-5 9-5z\"/>,\"step-forward\":<path d=\"M13 5h3v10h-3V5zM4 5l9 5-9 5V5z\"/>,\"stethoscope\":<path d=\"M17 10.27V4.99a1 1 0 0 0-2 0V15a5 5 0 0 1-10 0v-1.08A6 6 0 0 1 0 8V2C0 .9.9 0 2 0h1a1 1 0 0 1 1 1 1 1 0 0 1-1 1H2v6a4 4 0 1 0 8 0V2H9a1 1 0 0 1-1-1 1 1 0 0 1 1-1h1a2 2 0 0 1 2 2v6a6 6 0 0 1-5 5.92V15a3 3 0 0 0 6 0V5a3 3 0 0 1 6 0v5.27a2 2 0 1 1-2 0z\"/>,\"store-front\":<path d=\"M18 9.87V20H2V9.87a4.25 4.25 0 0 0 3-.38V14h10V9.5a4.26 4.26 0 0 0 3 .37zM3 0h4l-.67 6.03A3.43 3.43 0 0 1 3 9C1.34 9 .42 7.73.95 6.15L3 0zm5 0h4l.7 6.3c.17 1.5-.91 2.7-2.42 2.7h-.56A2.38 2.38 0 0 1 7.3 6.3L8 0zm5 0h4l2.05 6.15C19.58 7.73 18.65 9 17 9a3.42 3.42 0 0 1-3.33-2.97L13 0z\"/>,\"stroke-width\":<path d=\"M0 0h20v5H0V0zm0 7h20v4H0V7zm0 6h20v3H0v-3zm0 5h20v2H0v-2z\"/>,\"subdirectory-left\":<path d=\"M18 12v1H8v5l-6-6 6-6v5h8V2h2z\"/>,\"subdirectory-right\":<path d=\"M3.5 13H12v5l6-6-6-6v5H4V2H2v11z\"/>,\"swap\":<path d=\"M9 6a4 4 0 1 1 8 0v8h3l-4 4-4-4h3V6a2 2 0 0 0-2-2 2 2 0 0 0-2 2v8a4 4 0 1 1-8 0V6H0l4-4 4 4H5v8a2 2 0 0 0 2 2 2 2 0 0 0 2-2V6z\"/>,\"tablet\":<path d=\"M2 2c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2zm2 0v14h12V2H4zm6 17a1 1 0 1 0 0-2 1 1 0 0 0 0 2z\"/>,\"tag\":<path d=\"M0 10V2l2-2h8l10 10-10 10L0 10zm4.5-4a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z\"/>,\"target\":<path d=\"M17.94 11H13V9h4.94A8 8 0 0 0 11 2.06V7H9V2.06A8 8 0 0 0 2.06 9H7v2H2.06A8 8 0 0 0 9 17.94V13h2v4.94A8 8 0 0 0 17.94 11zM10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20z\"/>,\"text-box\":<path d=\"M0 0h6v6H0V0zm2 2v2h2V2H2zm12-2h6v6h-6V0zm2 2v2h2V2h-2zm-2 12h6v6h-6v-6zm2 2v2h2v-2h-2zM0 14h6v6H0v-6zm2 2v2h2v-2H2zM6 2h8v2H6V2zm0 14h8v2H6v-2zM16 6h2v8h-2V6zM2 6h2v8H2V6zm5 1h6v2H7V7zm2 2h2v4H9V9z\"/>,\"text-decoration\":<path d=\"M12 5h-2v12H8V3h8v2h-2v12h-2V5zM8 3a4 4 0 1 0 0 8V3z\"/>,\"thermometer\":<path d=\"M9 11.17V7h2v4.17a3 3 0 1 1-2 0zm-1-.63a4 4 0 1 0 4 0V4a2 2 0 1 0-4 0v6.53zM6 9.53V4a4 4 0 0 1 8 0v5.53A5.99 5.99 0 0 1 10 20 6 6 0 0 1 6 9.53z\"/>,\"thumbs-down\":<path d=\"M11 20a2 2 0 0 1-2-2v-6H2a2 2 0 0 1-2-2V8l2.3-6.12A3.11 3.11 0 0 1 5 0h8a2 2 0 0 1 2 2v8l-3 7v3h-1zm6-10V0h3v10h-3z\"/>,\"thumbs-up\":<path d=\"M11 0h1v3l3 7v8a2 2 0 0 1-2 2H5c-1.1 0-2.31-.84-2.7-1.88L0 12v-2a2 2 0 0 1 2-2h7V2a2 2 0 0 1 2-2zm6 10h3v10h-3V10z\"/>,\"ticket\":<path d=\"M20 12v5H0v-5a2 2 0 1 0 0-4V3h20v5a2 2 0 1 0 0 4zM3 5v10h14V5H3zm7 7.08l-2.92 2.04L8.1 10.7 5.27 8.56l3.56-.08L10 5.12l1.17 3.36 3.56.08-2.84 2.15 1.03 3.4L10 12.09z\"/>,\"time\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm-1-7.59V4h2v5.59l3.95 3.95-1.41 1.41L9 10.41z\"/>,\"timer\":<path d=\"M16.32 7.1A8 8 0 1 1 9 4.06V2h2v2.06c1.46.18 2.8.76 3.9 1.62l1.46-1.46 1.42 1.42-1.46 1.45zM10 18a6 6 0 1 0 0-12 6 6 0 0 0 0 12zM7 0h6v2H7V0zm5.12 8.46l1.42 1.42L10 13.4 8.59 12l3.53-3.54z\"/>,\"tools copy\":<path d=\"M10 0s8 7.58 8 12a8 8 0 1 1-16 0c0-1.5.91-3.35 2.12-5.15A3 3 0 0 0 10 6V0zM8 0a3 3 0 1 0 0 6V0z\"/>,\"translate\":<path d=\"M7.41 9l2.24 2.24-.83 2L6 10.4l-3.3 3.3-1.4-1.42L4.58 9l-.88-.88c-.53-.53-1-1.3-1.3-2.12h2.2c.15.28.33.53.51.7l.89.9.88-.88C7.48 6.1 8 4.84 8 4H0V2h5V0h2v2h5v2h-2c0 1.37-.74 3.15-1.7 4.12L7.4 9zm3.84 8L10 20H8l5-12h2l5 12h-2l-1.25-3h-5.5zm.83-2h3.84L14 10.4 12.08 15z\"/>,\"trash\":<path d=\"M6 2l2-2h4l2 2h4v2H2V2h4zM3 6h14l-1 14H4L3 6zm5 2v10h1V8H8zm3 0v10h1V8h-1z\"/>,\"travel-bus\":<path d=\"M13 18H7v1a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1a2 2 0 0 1-2-2V2c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2v1a1 1 0 0 1-1 1h-1a1 1 0 0 1-1-1v-1zM4 5v6h5V5H4zm7 0v6h5V5h-5zM5 2v1h10V2H5zm.5 14a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm9 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z\"/>,\"travel-car\":<path d=\"M2 14v-3H1a1 1 0 0 1-1-1 1 1 0 0 1 1-1h1l4-7h8l4 7h1a1 1 0 0 1 1 1 1 1 0 0 1-1 1h-1v6a1 1 0 0 1-1 1h-1a1 1 0 0 1-1-1v-1H5v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1v-3zm13.86-5L13 4H7L4.14 9h11.72zM5.5 14a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm9 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z\"/>,\"travel-case\":<path d=\"M14 5h2v14H4V5h2V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v1zm3 0h1a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1V5zM3 5v14H2a2 2 0 0 1-2-2V7c0-1.1.9-2 2-2h1zm5-1v1h4V4H8z\"/>,\"travel-taxi-cab\":<path d=\"M12 3h2l4 7h1a1 1 0 0 1 1 1 1 1 0 0 1-1 1h-1v6a1 1 0 0 1-1 1h-1a1 1 0 0 1-1-1v-1H5v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1v-6H1a1 1 0 0 1-1-1 1 1 0 0 1 1-1h1l4-7h2V1h4v2zm3.86 7L13 5H7l-2.86 5h11.72zM5.5 15a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm9 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z\"/>,\"travel-train\":<path d=\"M12 18H8l-2 2H3l2-2a2 2 0 0 1-2-2V2c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2l2 2h-3l-2-2zM5 5v6h10V5H5zm1.5 11a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm7 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM8 2v1h4V2H8z\"/>,\"travel-walk\":<path d=\"M11 7l1.44 2.16c.31.47 1.01.84 1.57.84H17V8h-3l-1.44-2.16a5.94 5.94 0 0 0-1.4-1.4l-1.32-.88a1.72 1.72 0 0 0-1.7-.04L4 6v5h2V7l2-1-3 14h2l2.35-7.65L11 14v6h2v-8l-2.7-2.7L11 7zm1-3a2 2 0 1 0 0-4 2 2 0 0 0 0 4z\"/>,\"travel\":<path d=\"M14 5h2v14H4V5h2V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v1zm3 0h1a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1V5zM3 5v14H2a2 2 0 0 1-2-2V7c0-1.1.9-2 2-2h1zm5-1v1h4V4H8z\"/>,\"trophy\":<path d=\"M15 9a3 3 0 0 0 3-3h2a5 5 0 0 1-5.1 5 5 5 0 0 1-3.9 3.9V17l5 2v1H4v-1l5-2v-2.1A5 5 0 0 1 5.1 11H5a5 5 0 0 1-5-5h2a3 3 0 0 0 3 3V4H2v2H0V2h5V0h10v2h5v4h-2V4h-3v5z\"/>,\"tuning\":<path d=\"M17 16v4h-2v-4h-2v-3h6v3h-2zM1 9h6v3H1V9zm6-4h6v3H7V5zM3 0h2v8H3V0zm12 0h2v12h-2V0zM9 0h2v4H9V0zM3 12h2v8H3v-8zm6-4h2v12H9V8z\"/>,\"upload\":<path d=\"M13 10v6H7v-6H2l8-8 8 8h-5zM0 18h20v2H0v-2z\"/>,\"usb\":<path d=\"M15 8v2h-4V4h2l-3-4-3 4h2v8H5V9.73a2 2 0 1 0-2 0V12a2 2 0 0 0 2 2h4v2.27a2 2 0 1 0 2 0V12h4a2 2 0 0 0 2-2V8h1V4h-4v4h1z\"/>,\"user-add\":<path d=\"M2 6H0v2h2v2h2V8h2V6H4V4H2v2zm7 0a3 3 0 0 1 6 0v2a3 3 0 0 1-6 0V6zm11 9.14A15.93 15.93 0 0 0 12 13c-2.91 0-5.65.78-8 2.14V18h16v-2.86z\"/>,\"user-group\":<path d=\"M7 8a4 4 0 1 1 0-8 4 4 0 0 1 0 8zm0 1c2.15 0 4.2.4 6.1 1.09L12 16h-1.25L10 20H4l-.75-4H2L.9 10.09A17.93 17.93 0 0 1 7 9zm8.31.17c1.32.18 2.59.48 3.8.92L18 16h-1.25L16 20h-3.96l.37-2h1.25l1.65-8.83zM13 0a4 4 0 1 1-1.33 7.76 5.96 5.96 0 0 0 0-7.52C12.1.1 12.53 0 13 0z\"/>,\"user-solid-circle\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zM7 6v2a3 3 0 1 0 6 0V6a3 3 0 1 0-6 0zm-3.65 8.44a8 8 0 0 0 13.3 0 15.94 15.94 0 0 0-13.3 0z\"/>,\"user-solid-square\":<path d=\"M0 2C0 .9.9 0 2 0h16a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm7 4v2a3 3 0 1 0 6 0V6a3 3 0 1 0-6 0zm11 9.14A15.93 15.93 0 0 0 10 13c-2.91 0-5.65.78-8 2.14V18h16v-2.86z\"/>,\"user\":<path d=\"M5 5a5 5 0 0 1 10 0v2A5 5 0 0 1 5 7V5zM0 16.68A19.9 19.9 0 0 1 10 14c3.64 0 7.06.97 10 2.68V20H0v-3.32z\"/>,\"vector\":<path d=\"M12 4h4.27a2 2 0 1 1 0 2h-2.14a9 9 0 0 1 4.84 7.25 2 2 0 1 1-2 .04 7 7 0 0 0-4.97-6V8H8v-.71a7 7 0 0 0-4.96 6 2 2 0 1 1-2-.04A9 9 0 0 1 5.86 6H3.73a2 2 0 1 1 0-2H8V3h4v1z\"/>,\"video-camera\":<path d=\"M16 7l4-4v14l-4-4v3a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v3zm-8 7a4 4 0 1 0 0-8 4 4 0 0 0 0 8zm0-2a2 2 0 1 1 0-4 2 2 0 0 1 0 4z\"/>,\"view-carousel\":<path d=\"M16 16v2H4v-2H0V4h4V2h12v2h4v12h-4zM14 5.5V4H6v12h8V5.5zm2 .5v8h2V6h-2zM4 6H2v8h2V6z\"/>,\"view-column\":<path d=\"M12 4H8v12h4V4zm2 0v12h4V4h-4zM6 4H2v12h4V4zM0 2h20v16H0V2z\"/>,\"view-hide\":<path d=\"M12.81 4.36l-1.77 1.78a4 4 0 0 0-4.9 4.9l-2.76 2.75C2.06 12.79.96 11.49.2 10a11 11 0 0 1 12.6-5.64zm3.8 1.85c1.33 1 2.43 2.3 3.2 3.79a11 11 0 0 1-12.62 5.64l1.77-1.78a4 4 0 0 0 4.9-4.9l2.76-2.75zm-.25-3.99l1.42 1.42L3.64 17.78l-1.42-1.42L16.36 2.22z\"/>,\"view-list\":<path d=\"M0 3h20v2H0V3zm0 4h20v2H0V7zm0 4h20v2H0v-2zm0 4h20v2H0v-2z\"/>,\"view-show\":<path d=\"M.2 10a11 11 0 0 1 19.6 0A11 11 0 0 1 .2 10zm9.8 4a4 4 0 1 0 0-8 4 4 0 0 0 0 8zm0-2a2 2 0 1 1 0-4 2 2 0 0 1 0 4z\"/>,\"view-tile\":<path d=\"M0 0h9v9H0V0zm2 2v5h5V2H2zm-2 9h9v9H0v-9zm2 2v5h5v-5H2zm9-13h9v9h-9V0zm2 2v5h5V2h-5zm-2 9h9v9h-9v-9zm2 2v5h5v-5h-5z\"/>,\"volume-down\":<path d=\"M7 7H3v6h4l5 5V2L7 7zm8.54 6.54l-1.42-1.42a3 3 0 0 0 0-4.24l1.42-1.42a4.98 4.98 0 0 1 0 7.08z\"/>,\"volume-mute\":<path d=\"M9 7H5v6h4l5 5V2L9 7z\"/>,\"volume-off\":<path d=\"M15 8.59l-2.12-2.13-1.42 1.42L13.6 10l-2.13 2.12 1.42 1.42L15 11.4l2.12 2.13 1.42-1.42L16.4 10l2.13-2.12-1.42-1.42L15 8.6zM4 7H0v6h4l5 5V2L4 7z\"/>,\"volume-up\":<path d=\"M5 7H1v6h4l5 5V2L5 7zm11.36 9.36l-1.41-1.41a6.98 6.98 0 0 0 0-9.9l1.41-1.41a8.97 8.97 0 0 1 0 12.72zm-2.82-2.82l-1.42-1.42a3 3 0 0 0 0-4.24l1.42-1.42a4.98 4.98 0 0 1 0 7.08z\"/>,\"wallet\":<path d=\"M0 4c0-1.1.9-2 2-2h15a1 1 0 0 1 1 1v1H2v1h17a1 1 0 0 1 1 1v10a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm16.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z\"/>,\"watch\":<path d=\"M11 9h2v2H9V7h2v2zm-5.82 6.08a6.98 6.98 0 0 1 0-10.16L6 0h8l.82 4.92a6.98 6.98 0 0 1 0 10.16L14 20H6l-.82-4.92zM10 15a5 5 0 1 0 0-10 5 5 0 0 0 0 10z\"/>,\"window-new\":<path d=\"M9 10V8h2v2h2v2h-2v2H9v-2H7v-2h2zM0 3c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3zm2 2v12h16V5H2z\"/>,\"window-open\":<path d=\"M0 3c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3zm2 2v12h16V5H2zm8 3l4 5H6l4-5z\"/>,\"window\":<path d=\"M0 3c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3zm2 2v12h16V5H2z\"/>,\"wrench\":<path d=\"M6.47 9.8A5 5 0 0 1 .2 3.22l3.95 3.95 2.82-2.83L3.03.41a5 5 0 0 1 6.4 6.68l10 10-2.83 2.83L6.47 9.8z\"/>,\"yin-yang\":<path fill-rule=\"evenodd\" d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-18a8 8 0 1 0 0 16 4 4 0 1 1 0-8 4 4 0 1 0 0-8zm0 13a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0-8a1 1 0 1 1 0-2 1 1 0 0 1 0 2z\"/>,\"zoom-in\":<path fill-rule=\"evenodd\" d=\"M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12zM7 7V5h2v2h2v2H9v2H7V9H5V7h2z\"/>,\"zoom-out\":<path fill-rule=\"evenodd\" d=\"M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12zM5 7h6v2H5V7z\"/>}","export default {\"move\":\"0 0 96 96\",\"plus-circle\":\"0 0 24 24\",\"plus\":\"0 0 24 24\",\"search\":\"0 0 512 512\"}","import React from \"react\";\r\nimport { Wrapper } from \"nystem-components\";\r\n// eslint-disable-next-line import/extensions\r\nimport icons from \"../../../icons\";\r\n// eslint-disable-next-line import/extensions\r\nimport iconsViewPorts from \"../../../iconsViewPorts\";\r\n\r\nconst rotate = (deg) =>\r\n  (deg && { style: { transform: `rotate(${deg}deg)` } }) || undefined;\r\n\r\nconst Icon = ({ icon, className, renderAs, deg, ...props }) => {\r\n  className = className instanceof Array ? className : [className];\r\n  return (\r\n    <Wrapper renderAs={renderAs} className={renderAs && className}>\r\n      <svg\r\n        className={[...className, \"fill-current\"].join(\" \")}\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        viewBox={iconsViewPorts[icon] || \"0 0 20 20\"}\r\n        {...rotate(deg)}\r\n        {...props}\r\n      >\r\n        {icons[icon]}\r\n      </svg>\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default Icon;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst StyleEventOutside = ({ model, path, view, value }) => {\r\n  const { className, classNameInner, item, event } = model;\r\n  let innerClicked = false;\r\n  return (\r\n    <Wrapper\r\n      className={className}\r\n      onClick={() => {\r\n        if (!innerClicked) view.event(event, value);\r\n        innerClicked = false;\r\n      }}\r\n    >\r\n      <Wrapper\r\n        className={classNameInner}\r\n        onClick={() => {\r\n          innerClicked = true;\r\n        }}\r\n      >\r\n        <ContentTypeRender path={path} items={item} />\r\n      </Wrapper>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default StyleEventOutside;\r\n","/* eslint-disable jsx-a11y/mouse-events-have-key-events */\r\nimport React, { useState } from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nexport const HideOnNotOverContext = React.createContext();\r\n\r\nconst StyleOnOverHandle = ({ model, path }) => {\r\n  const [over, setOver] = useState(false);\r\n  const { item, className } = model;\r\n\r\n  return (\r\n    <Wrapper\r\n      onMouseOver={() => setOver(true)}\r\n      onMouseOut={() => setOver(false)}\r\n      className={className}\r\n    >\r\n      <HideOnNotOverContext.Provider value={over}>\r\n        {<ContentTypeRender path={path} items={item} />}\r\n      </HideOnNotOverContext.Provider>\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default StyleOnOverHandle;\r\n","import React, { useContext } from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nimport { HideOnNotOverContext } from \"./onOverHandle\";\r\n\r\nconst StyleOnOver = ({ model, path, children }) => {\r\n  const { className, item, classNameOut, classNameOver } = model;\r\n  const over = useContext(HideOnNotOverContext);\r\n\r\n  return (\r\n    <Wrapper className={[className, over ? classNameOver : classNameOut]}>\r\n      {children || <ContentTypeRender path={path} items={item} />}\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default StyleOnOver;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst StyleView = ({ model, path }) => {\r\n  const { className, renderAs, item } = model;\r\n\r\n  return (\r\n    <Wrapper className={className} renderAs={renderAs}>\r\n      <ContentTypeRender path={path} items={item} />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default StyleView;\r\n","import React from \"react\";\r\n\r\nconst ViewportContext = React.createContext();\r\n\r\nexport default ViewportContext;\r\n\r\nexport const ViewportContextProvider = ViewportContext.Provider;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { ViewportContextProvider } from \"./viewportContext\";\r\n\r\nconst breakpoints = {\r\n  xs: 0,\r\n  sm: 576,\r\n  md: 768,\r\n  lg: 992,\r\n  xl: 1200,\r\n};\r\n\r\nconst Viewport = ({ comp }) => {\r\n  const [state, setState] = useState({\r\n    density: window.devicePixelRatio,\r\n    width: window.innerWidth,\r\n    height: window.innerHeight,\r\n    size: Object.keys(breakpoints).reduce((prev, key) => {\r\n      return window.innerWidth < breakpoints[key] &&\r\n        breakpoints[key] < breakpoints[prev]\r\n        ? key\r\n        : prev;\r\n    }, \"xl\"),\r\n  });\r\n\r\n  useEffect(() => {\r\n    const handleResize = () => {\r\n      setState({\r\n        width: Math.max(\r\n          document.documentElement.clientWidth,\r\n          window.innerWidth || 0\r\n        ),\r\n        height: Math.max(\r\n          document.documentElement.clientHeight,\r\n          window.innerHeight || 0\r\n        ),\r\n        size: Object.keys(breakpoints).reduce((prev, key) => {\r\n          return window.innerWidth < breakpoints[key] &&\r\n            breakpoints[key] < breakpoints[prev]\r\n            ? key\r\n            : prev;\r\n        }, \"xl\"),\r\n      });\r\n    };\r\n\r\n    window.addEventListener(\"resize\", handleResize, false);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"resize\", handleResize, false);\r\n    };\r\n  }, []);\r\n\r\n  return state.reload ? null : (\r\n    <ViewportContextProvider value={state}>\r\n      {React.createElement(comp)}\r\n    </ViewportContextProvider>\r\n  );\r\n};\r\n\r\nexport default Viewport;\r\n","import * as React from \"react\";\r\nimport app from \"nystem\";\r\n\r\nclass ExtensionBackgroundIndex extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const self = this;\r\n    this.tabs = {};\r\n    this.tabLoadCallback = {};\r\n    this.tabLoading = {};\r\n    app().doingEvent = {};\r\n    app().pathErrorClick = {};\r\n    window.chrome.runtime.onMessage.addListener(\r\n      (request, sender, sendResponse) => {\r\n        const tabOptions = self.tabs[sender.tab.id];\r\n        if (!tabOptions) {\r\n          console.log(\"Missing \", sender.tab);\r\n          return;\r\n        }\r\n        if (request.doEvent) {\r\n          console.log(\"doEvent\", request, app().doingEvent[sender.tab.id]);\r\n          app().doingEvent[sender.tab.id] = false;\r\n          console.log(\"request.result\");\r\n          if (request.result.error === \"Path\") {\r\n            app().pathErrorClick[sender.tab.id] = request;\r\n            console.log(\"app().pathErrorClick\", app().pathErrorClick);\r\n          } else delete app().pathErrorClick[sender.tab.id];\r\n          app().connection.emit(request);\r\n        } else if (app().pathErrorClick[sender.tab.id]) {\r\n          const response = app().pathErrorClick[sender.tab.id];\r\n          delete app().pathErrorClick[sender.tab.id];\r\n          response.newPath = request.path;\r\n          console.log(\"response.newPath\", response);\r\n          app().connection.emit(response);\r\n        } else if (tabOptions.recording) {\r\n          request.tabId = `${sender.tab.id}`;\r\n          request.url = sender.tab.url;\r\n          if (\r\n            !tabOptions.listenTo ||\r\n            tabOptions.listenTo.length === 0 ||\r\n            tabOptions.listenTo.indexOf(request.event) !== -1\r\n          )\r\n            app().database.eventLog.save({\r\n              data: request,\r\n            });\r\n        }\r\n      }\r\n    );\r\n    // https://developer.window.chrome.com/extensions/tabs\r\n    // https://developer.window.chrome.com/extensions/api_index\r\n    // https://developer.window.chrome.com/extensions/messaging\r\n    app().connection.on(\"connect\", this.connect);\r\n    app().database.tab.on(\"update\", this.updateTabSettings);\r\n\r\n    this.saveTab = function (tab, forceUpdate) {\r\n      const tabField = [\"url\", \"title\"];\r\n      let changed = false;\r\n      const id = tab.id ? tab.id : tab._id;\r\n      if (!self.tabs[tab.id]) {\r\n        changed = true;\r\n        self.tabs[tab.id] = {};\r\n      }\r\n      const newUrl = tab.url !== self.tabs[id].url;\r\n      for (let i = 0; i < tabField.length; i++)\r\n        if (self.tabs[id][tabField[i]] !== tab[tabField[i]]) {\r\n          changed = true;\r\n          self.tabs[id][tabField[i]] = tab[tabField[i]];\r\n        }\r\n      self.tabs[id]._id = `${id}`;\r\n      if (changed || forceUpdate) {\r\n        const tabOptions = self.tabs[id];\r\n        if (\r\n          newUrl &&\r\n          tabOptions.recording &&\r\n          (!tabOptions.listenTo ||\r\n            tabOptions.listenTo.length === 0 ||\r\n            tabOptions.listenTo.indexOf(\"url\") !== -1)\r\n        )\r\n          app().database.eventLog.save({\r\n            data: {\r\n              name: `URL change ${tabOptions.url}`,\r\n              event: \"url\",\r\n              url: tabOptions.url,\r\n              title: tabOptions.title,\r\n              tabId: tabOptions._id,\r\n            },\r\n          });\r\n        app().database.tab.save({\r\n          data: tabOptions,\r\n        });\r\n      }\r\n    };\r\n    app().connection.on(\"extensionEvent\", this.extensionEvent);\r\n    window.chrome.webNavigation.onCompleted.addListener((info) => {\r\n      if (info.frameId !== 0) return;\r\n      const tabLoading = self.tabLoading[info.tabId];\r\n      delete self.tabLoading[info.tabId];\r\n      if (tabLoading && tabLoading.callback) tabLoading.callback();\r\n      if (self.tabLoadCallback[info.tabId]) self.tabLoadCallback[info.tabId]();\r\n    });\r\n    window.chrome.webNavigation.onBeforeNavigate.addListener((info) => {\r\n      if (info.frameId !== 0) return;\r\n      if (!self.tabLoading[info.tabId])\r\n        self.tabLoading[info.tabId] = {\r\n          loading: true,\r\n          callback: false,\r\n        };\r\n    });\r\n    window.chrome.tabs.onCreated.addListener(self.saveTab);\r\n    window.chrome.tabs.onUpdated.addListener((tabId, changeInfo, tab) => {\r\n      self.saveTab(tab);\r\n    });\r\n    window.chrome.tabs.onRemoved.addListener((id) => {\r\n      delete self.tabs[id];\r\n      app().database.tab.delete({ id });\r\n    });\r\n    window.chrome.contextMenus.create({\r\n      title: \"Validate in Testguide eventlog\",\r\n      onclick: this.addToEventLog,\r\n      contexts: [\r\n        \"page\",\r\n        \"selection\",\r\n        \"link\",\r\n        \"editable\",\r\n        \"image\",\r\n        \"video\",\r\n        \"audio\",\r\n      ],\r\n    });\r\n    this.updateTimer = setTimeout(this.updateTabs, 1000 * 10);\r\n    this.state = {};\r\n  }\r\n  updateTabs = () => {\r\n    app()\r\n      .database.tab.search()\r\n      .then(({ data }) =>\r\n        data\r\n          .filter((tab) => !tab.siteScript && !this.tabs[tab._id])\r\n          .forEach((tab) => app().database.tab.delete({ id: tab._id }))\r\n      );\r\n    this.updateTimer = setTimeout(this.updateTabs, 1000 * 60);\r\n  };\r\n  addToEventLog = (info, tab) => {\r\n    // console.log(info, tab);\r\n  };\r\n  updateTabSettings = (items) => {\r\n    if (!items) return;\r\n    const self = this;\r\n    const id = `${Object.keys(items)[0]}`;\r\n    const data = app()\r\n      .database.tab.get({ id })\r\n      .then(({ data }) => {\r\n        if (!data || data.siteScript) {\r\n          console.log(id);\r\n          return;\r\n        }\r\n        if (!self.tabs[data._id].recording && data.recording)\r\n          app().database.eventLog.save({\r\n            data: {\r\n              name: `Recording start ${data.url}`,\r\n              event: \"url\",\r\n              url: data.url,\r\n              title: data.title,\r\n              tabId: data._id,\r\n            },\r\n          });\r\n        self.tabs[data._id] = data;\r\n      });\r\n    if (data) this.tabs[data._id] = data;\r\n  };\r\n  extensionEvent = (data) => {\r\n    const self = this;\r\n    const tabId = parseInt(data.tabId, 10);\r\n    if (data.doEvent.event === \"url\") {\r\n      if (this.tabs[data.tabId].url !== data.doEvent.url)\r\n        window.chrome.tabs.update(tabId, { url: data.doEvent.url }, () => {\r\n          self.tabLoadCallback[tabId] = function () {\r\n            data.result = {\r\n              status: \"success\",\r\n              redirected: true,\r\n            };\r\n            app().connection.emit(data);\r\n          };\r\n        });\r\n      else {\r\n        data.result = {\r\n          status: \"success\",\r\n          redirected: false,\r\n        };\r\n        app().connection.emit(data);\r\n      }\r\n    } else if (data.doEvent)\r\n      if (this.tabLoading[tabId]) {\r\n        console.log(\"delay tab\");\r\n        this.tabLoading[tabId].callback = function () {\r\n          console.log(\"delay tab done\");\r\n          app().doingEvent[tabId] = data;\r\n          window.chrome.tabs.sendMessage(tabId, data);\r\n        };\r\n      } else {\r\n        app().doingEvent[tabId] = data;\r\n        window.chrome.tabs.sendMessage(tabId, data);\r\n      }\r\n  };\r\n  connect = (data) => {\r\n    const self = this;\r\n    app().connection.emit({\r\n      type: \"extensionEvent\",\r\n      event: \"connectExtension\",\r\n    });\r\n    window.chrome.tabs.query({}, (data) => {\r\n      for (const item in data) self.saveTab(data[item], true);\r\n    });\r\n  };\r\n  componentWillUnmount() {\r\n    app().connection.off(\"connect\", this.connect);\r\n    app().connection.off(\"extensionEvent\", this.extensionEvent);\r\n    clearTimeout(this.updateTimer);\r\n  }\r\n  render() {\r\n    return null;\r\n  }\r\n}\r\nexport default ExtensionBackgroundIndex;\r\n","const extensionIcon = props => {\r\n  const { browserAction } = window.chrome;\r\n  const { color, text, icon, canvas } = props.model || props;\r\n  if (icon) browserAction.setIcon({ path: icon });\r\n  if (color) browserAction.setBadgeBackgroundColor({ color }); // [190, 190, 190, 230]\r\n  if (text) browserAction.setBadgeText({ text });\r\n  if (canvas) {\r\n    const canvasContext = canvas.getContext(\"2d\");\r\n    browserAction.setIcon({\r\n      imageData: canvasContext.getImageData(0, 0, canvas.width, canvas.height)\r\n    });\r\n  }\r\n  return null;\r\n};\r\nexport default extensionIcon;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { ContentTypeRender } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst currentUrl = () =>\r\n  new Promise((resolve) =>\r\n    window.chrome.tabs.query({ currentWindow: true, active: true }, (tabs) => {\r\n      resolve(tabs[0].url);\r\n    })\r\n  );\r\n\r\nconst ExtensionSearch = ({ model, view, path, setValue }) => {\r\n  const [missing, setMissing] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const { extract, field } = model;\r\n\r\n    currentUrl().then(async (url) => {\r\n      const [, , val] = new RegExp(extract).exec(url) || [];\r\n      if (!val) return;\r\n\r\n      const { data } = await app().database[view.contentType].search({\r\n        filter: { [field]: val },\r\n        count: 1,\r\n      });\r\n\r\n      if (!data) {\r\n        setMissing(true);\r\n        return;\r\n      }\r\n\r\n      setValue(data[0]);\r\n      view.id = data[0]._id;\r\n    });\r\n  }, [model, setValue, view]);\r\n\r\n  return missing ? <ContentTypeRender path={path} items={model.item} /> : null;\r\n};\r\n\r\nexport default ExtensionSearch;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { ContentTypeRender } from \"nystem-components\";\r\n\r\nconst currentUrl = () =>\r\n  new Promise((resolve) =>\r\n    window.chrome.tabs.query({ currentWindow: true, active: true }, (tabs) => {\r\n      resolve(tabs[0].url);\r\n    })\r\n  );\r\n\r\nconst ExtensionTab = (props) => {\r\n  const { match, invert, children, item } = props.model || props;\r\n  const [isMatch, setIsMatch] = useState();\r\n\r\n  useEffect(() => {\r\n    currentUrl().then((url) => setIsMatch(url.includes(match)));\r\n  }, [match]);\r\n\r\n  if (isMatch === undefined || (isMatch && invert) || (!isMatch && !invert))\r\n    return null;\r\n\r\n  return children || <ContentTypeRender path={props.path} items={item} />;\r\n};\r\nexport default ExtensionTab;\r\n","import React from \"react\";\r\nimport { ContentTypeRender } from \"nystem-components\";\r\n\r\nconst ExtensionView = ({ invert, model = {}, path, children }) => {\r\n  const inExtension = window.location.protocol === \"chrome-extension:\";\r\n  invert = invert || model.invert;\r\n\r\n  if ((inExtension && invert) || (!inExtension && !invert)) return null;\r\n\r\n  return children || <ContentTypeRender path={path} items={model.item} />;\r\n};\r\nexport default ExtensionView;\r\n","import React from \"react\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nclass BootstrapComputedClass extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.view = props.view;\r\n    [\"valid\", \"setValue\"].forEach(func => {\r\n      this[func] = this[func].bind(this);\r\n    });\r\n    this.state = {\r\n      value: this.props.value\r\n    };\r\n    this.path = this.props.path;\r\n  }\r\n  valid() {\r\n    let valid = true;\r\n    for (let i = 0; i < this.model.item.length; i++)\r\n      if (\r\n        this.refs[`component${i}`].valid &&\r\n        this.refs[`component${i}`].valid &&\r\n        !this.refs[`component${i}`].valid()\r\n      )\r\n        valid = false;\r\n    return valid;\r\n  }\r\n  setValue(id, value) {\r\n    return this.props.setValue(id, value);\r\n  }\r\n  componentWillReceiveProps(nextProps) {\r\n    this.setState({\r\n      value: nextProps.value\r\n    });\r\n  }\r\n  render() {\r\n    const { view, model, path } = this.props;\r\n    const insertVal = val =>\r\n      val.replace(\r\n        /\\{([a-z_.]+)\\}/gim,\r\n        (str, p1, offset, s) => view.getValue(p1.replace(\".\", `${path}.`)) || \"\"\r\n      );\r\n\r\n    const className = model.className ? model.className.join(\" \") : \"\";\r\n    this.focus = view.focus;\r\n    if (model.row)\r\n      return (\r\n        <Wrapper className={insertVal(className)}>\r\n          <Wrapper className=\"row\">\r\n            {model.item.map(view.createItem, this)}\r\n          </Wrapper>\r\n        </Wrapper>\r\n      );\r\n    return (\r\n      <Wrapper className={insertVal(className)} renderAs={model.renderAs}>\r\n        {model.item.map(view.createItem, this)}\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\nexport default BootstrapComputedClass;\r\n","import { useEffect } from \"react\";\r\n\r\nconst DatabaseFilterResult = ({ view, children }) => {\r\n  useEffect(() => {\r\n    const filterSearch = (query) => {\r\n      const { data } = query;\r\n\r\n      const definition = data\r\n        .filter((item) => item.name === \"definition\")\r\n        .map((item) => item.component);\r\n\r\n      const viewFields = data\r\n        .filter((item) => item.name === \"view\")\r\n        .filter((item) => !definition.includes(item.component));\r\n\r\n      query.data = viewFields;\r\n    };\r\n\r\n    view.on(\"search\", filterSearch);\r\n    return () => {\r\n      view.off(\"search\", filterSearch);\r\n    };\r\n  }, [view]);\r\n\r\n  return children || null;\r\n};\r\n\r\nexport default DatabaseFilterResult;\r\n","import {\r\n  Wrapper,\r\n  Inserter,\r\n  DragAndDropContext,\r\n  SessionRole,\r\n} from \"nystem-components\";\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\nimport React from \"react\";\r\nimport \"../../../index.css\";\r\nimport \"./index.css\";\r\n\r\nconst Index = () => (\r\n  <Router>\r\n    <DragAndDropContext>\r\n      <SessionRole userrole=\"logged-out\">\r\n        <Inserter\r\n          className=\"p-8 text-left\"\r\n          match=\"*\"\r\n          source=\"/adminUser/login\"\r\n        />\r\n      </SessionRole>\r\n      <SessionRole userrole=\"logged-in\">\r\n        <Inserter match=\"*\" source=\"/server/menu\" />\r\n        <Inserter match=\"/popup.html\" source=\"/server/extension\" />\r\n        <Inserter match=\"/\" source=\"/server/overview\" />\r\n        <Inserter match=\"/menu\" source=\"/settings/menu\" />\r\n        <Wrapper className=\"px-6\">\r\n          <Inserter match=\"/server/*\" />\r\n          <Inserter match=\"/host/*\" />\r\n          <Inserter match=\"/settings/*\" />\r\n        </Wrapper>\r\n      </SessionRole>\r\n    </DragAndDropContext>\r\n  </Router>\r\n);\r\nexport default Index;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass OverlayAccessible extends React.Component {\r\n  state = { accessible: true };\r\n  overlayEvent = options => {\r\n    const accessible = !Object.keys(options.open).length;\r\n    if (this.state.accessible !== accessible) {\r\n      this.setState({ accessible });\r\n      app().event(\"accessible\", {\r\n        accessible,\r\n        accessibleId: this.accessibleId\r\n      });\r\n    }\r\n  };\r\n  getChildContext() {\r\n    return {\r\n      accessibleId: this.accessibleId\r\n    };\r\n  }\r\n\r\n  _handleScreenReaderToggled = isEnabled => {\r\n    this.setState({\r\n      screenReaderEnabled: isEnabled\r\n    });\r\n  };\r\n  componentDidMount(event) {\r\n    this.accessibleId = app().uuid();\r\n    app().on(\"overlay\", this.overlayEvent);\r\n  }\r\n  componentWillUnmount(event) {\r\n    app().off(\"overlay\", this.overlayEvent);\r\n  }\r\n  render() {\r\n    const { accessible } = this.state;\r\n    return (\r\n      <Wrapper accessible={accessible ? undefined : false}>\r\n        {this.props.children}\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\nOverlayAccessible.contextTypes = {\r\n  overlayId: PropTypes.string\r\n};\r\nOverlayAccessible.childContextTypes = {\r\n  accessibleId: PropTypes.string\r\n};\r\nexport default OverlayAccessible;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass OverlayClose extends React.Component {\r\n  handleEvent(event) {\r\n    if (event && event.preventDefault) event.preventDefault();\r\n    app().event(\"overlay\", { overlayId: this.context.overlayId, do: \"close\" });\r\n  }\r\n  render() {\r\n    const { className, renderAs, accessible } = this.props;\r\n    return (\r\n      <Wrapper\r\n        renderAs={renderAs || \"a\"}\r\n        className={className}\r\n        onClick={this.handleEvent.bind(this)}\r\n        accessible={accessible}\r\n      >\r\n        {this.props.children}\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\nOverlayClose.contextTypes = {\r\n  overlayId: PropTypes.string\r\n};\r\nexport default OverlayClose;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nclass OverlayCloseButton extends React.Component {\r\n  handleEvent(event) {\r\n    event.preventDefault();\r\n    const { view, path } = this.props;\r\n    const toPath = path || view.contentType + \"/\" + view.format + \"/\" + view.id;\r\n    app()\r\n      .event(\"closeOverlay\", toPath)\r\n      .then(data => {});\r\n  }\r\n  render() {\r\n    const { model, view } = this.props;\r\n    let { className } = this.props;\r\n    className = className || model.className ? model.className.join(\" \") : \"\";\r\n    return (\r\n      <Wrapper\r\n        renderAs={model.renderAs || \"a\"}\r\n        className={className}\r\n        onClick={this.handleEvent.bind(this)}\r\n      >\r\n        {model.item.map(view.createItem, this)}\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\nexport default OverlayCloseButton;\r\n","import React from \"react\";\r\n\r\nconst OverlayContextObject = React.createContext();\r\n\r\nconst OverlayContext = OverlayContextObject.Consumer;\r\nexport default OverlayContext;\r\n\r\nexport const OverlayContextProvider = OverlayContextObject.Provider;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport app from \"nystem\";\r\nimport { withRouter } from \"react-router\";\r\nimport { OverlayContextProvider } from \"./context\";\r\n\r\nlet atPath = \"\";\r\n\r\nconst OverlayIndex = withRouter(({ children, match }) => {\r\n  let [open, setOpenState] = useState({});\r\n\r\n  const overlayEvent = ({ event, overlayId }) => {\r\n    if (event === \"open\") open[overlayId] = true;\r\n    else if (event === \"close\") {\r\n      if (overlayId) delete open[overlayId];\r\n      else open = {};\r\n    }\r\n    setOpenState(open);\r\n  };\r\n\r\n  useEffect(() => {\r\n    app().on(\"overlay\", overlayEvent);\r\n    return () => {\r\n      app().off(\"overlay\", overlayEvent);\r\n    };\r\n  });\r\n\r\n  const { path } = match;\r\n  if (path !== atPath) app().event(\"overlay\", { event: \"close\" });\r\n  atPath = path;\r\n\r\n  const items =\r\n    children instanceof Array ? children : children ? [children] : [];\r\n\r\n  return items\r\n    .filter(({ props }) => open[props.overlayId])\r\n    .map(child => (\r\n      <OverlayContextProvider\r\n        key={child.props.overlayId}\r\n        value={child.props.overlayId}\r\n      >\r\n        {child}\r\n      </OverlayContextProvider>\r\n    ));\r\n});\r\n\r\nexport default OverlayIndex;\r\n","import React from \"react\";\r\nimport { Wrapper, OverlayClose } from \"nystem-components\";\r\nimport \"./menu.css\";\r\n\r\nconst OverlayMenu = ({ children }) => (\r\n  <Wrapper\r\n    className=\"overlay-menu-container overlay-menu-container--active\"\r\n    id=\"overlay-menu-container\"\r\n  >\r\n    <OverlayClose className=\"overlay-menu-shim\" renderAs=\"a\" accessible={false}>\r\n      {\" \"}\r\n    </OverlayClose>\r\n    <Wrapper renderAs=\"nav\" className=\"overlay-menu\">\r\n      {children}\r\n    </Wrapper>\r\n  </Wrapper>\r\n);\r\n\r\nexport default OverlayMenu;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nconst handleEvent = overlayId => e => {\r\n  e.preventDefault();\r\n  app().event(\"overlay\", { overlayId, event: \"open\" });\r\n};\r\n\r\nconst OverlayOpen = ({ overlayId, ...props }) => (\r\n  <Wrapper renderAs=\"a\" {...props} onClick={handleEvent(overlayId)} />\r\n);\r\n\r\nexport default OverlayOpen;\r\n","import React from \"react\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nclass OverlayOverlay extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      mounted: false\r\n    };\r\n  }\r\n  findPosition(obj) {\r\n    const pos = { x: 0, y: 0 };\r\n    while (1) {\r\n      pos.x += obj.offsetLeft;\r\n      pos.y += obj.offsetTop;\r\n      if (!obj.offsetParent) return pos;\r\n      obj = obj.offsetParent;\r\n    }\r\n  }\r\n  getScroll() {\r\n    if (window.pageYOffset !== undefined)\r\n      return { x: window.pageXOffset, y: window.pageYOffset };\r\n\r\n    const r = document.documentElement;\r\n    const b = document.body;\r\n    const sx = r.scrollLeft || b.scrollLeft || 0;\r\n    const sy = r.scrollTop || b.scrollTop || 0;\r\n    return { x: sx, y: sy };\r\n  }\r\n  onMouseDown(event) {\r\n    const { modal } = this.refs;\r\n    this.at = {\r\n      start: {\r\n        x: event.clientX,\r\n        y: event.clientY\r\n      },\r\n      obj: this.findPosition(modal),\r\n      pos: {\r\n        x: event.clientX,\r\n        y: event.clientY\r\n      }\r\n    };\r\n  }\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    if (nextState === this.state) return false;\r\n    return true;\r\n  }\r\n  componentDidMount() {\r\n    this.setState({ mounted: true });\r\n  }\r\n  render() {\r\n    const add = this.state.mounted ? \"--active\" : \"\";\r\n    return (\r\n      <Wrapper className={`overlay-background overlay-background${add}`}>\r\n        <Wrapper className={`overlay-contents overlay-contents${add}`}>\r\n          {this.props.children}\r\n        </Wrapper>\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\nexport default OverlayOverlay;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\n\r\nclass OverlayView extends React.Component {\r\n  onClick = event => {\r\n    event.preventDefault();\r\n    let { model } = this.props;\r\n    model = model || this.props;\r\n    app().event(\"addOverlay\", model);\r\n  };\r\n  render() {\r\n    let { model } = this.props;\r\n    model = model || this.props;\r\n    const className = model.className ? model.className.join(\" \") : \"\";\r\n    return (\r\n      <a className={className} href={model.link} onClick={this.onClick}>\r\n        {app().t(model.text)}\r\n      </a>\r\n    );\r\n  }\r\n}\r\nexport default OverlayView;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { ContentTypeView } from \"nystem-components\";\r\n\r\nclass ReferenceDynamicForm extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.props.view.on(\"save\", this.onSave);\r\n    this.localValue = {};\r\n    const self = this;\r\n    const state = {};\r\n    app().require([\"dynamicForm\", \"fieldDefinitions\"], function () {\r\n      app().dynamicForm.generate(\r\n        self.props.view.contentType,\r\n        self.model.source,\r\n        self.model.transformContentType,\r\n        self.props.view.value,\r\n        function (id) {\r\n          if (typeof state.value !== \"undefined\")\r\n            self.setState({\r\n              value: id,\r\n            });\r\n          else state.value = id;\r\n        }\r\n      );\r\n    });\r\n    if (typeof state.value === \"undefined\") state.value = false; //'dynamicType' + self.props.view.value._id\r\n    this.state = state;\r\n  }\r\n  componentWillReceiveProps(nextProps) {\r\n    /*this.setState({\r\n      value: nextProps.value\r\n    });*/\r\n  }\r\n  render() {\r\n    const model = this.props.model;\r\n    const format = model.view ? model.view : \"input\";\r\n    if (this.state.value)\r\n      return (\r\n        <ContentTypeView\r\n          noForm=\"true\"\r\n          className={model.className}\r\n          contentType={this.state.value}\r\n          format={format}\r\n          value={{}}\r\n          id={this.props.view.params[3]}\r\n          params={this.props.view.params}\r\n        />\r\n      );\r\n    return null;\r\n  }\r\n}\r\nexport default ReferenceDynamicForm;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nclass ViewButtonMirrorSave extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.view = props.view;\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.saveToDb = this.saveToDb.bind(this);\r\n    this.view.on(\"change\", this.handleChange);\r\n\r\n    this.oldVal = this.props.view.value\r\n      ? JSON.stringify(this.props.view.value)\r\n      : {};\r\n    if (!this.model.saveOn) return {};\r\n\r\n    if (this.model.saveOn.indexOf(\"baseView\") !== -1)\r\n      this.view.baseView.on(\"save\", this.saveToDb);\r\n    if (this.model.saveOn.indexOf(\"baseView.baseView\") !== -1)\r\n      this.view.baseView.baseView.on(\"save\", this.saveToDb);\r\n    if (this.model.saveOn.indexOf(\"baseView.baseView.baseView\") !== -1)\r\n      this.view.baseView.baseView.baseView.on(\"save\", this.saveToDb);\r\n  }\r\n  insertVal(val) {\r\n    if (!val) return val;\r\n    const self = this;\r\n    return val.replace(/\\{([a-z_.]+)\\}/gim, function(str, p1, offset, s) {\r\n      if (p1.indexOf(\"baseView.\") !== 0) return self.view.baseView.getValue(p1);\r\n      p1 = p1.replace(\"baseView.\", \"\");\r\n      if (p1.indexOf(\"baseView.\") !== 0)\r\n        return self.view.baseView.baseView.getValue(p1);\r\n      p1 = p1.replace(\"baseView.\", \"\");\r\n      return self.view.baseView.baseView.baseView.getValue(p1);\r\n    });\r\n  }\r\n  handleChange(id) {\r\n    if (!id || !this.view.value) return;\r\n\r\n    if (!this.saveVals) this.saveVals = {};\r\n\r\n    this.saveVals[id] = this.view.value[id];\r\n  }\r\n  saveToDb() {\r\n    const self = this;\r\n    if (this.saveVals && this.view.valid()) {\r\n      if (this.view.value._id) this.saveVals._id = this.view.value._id;\r\n\r\n      app().database[this.view.contentType].save(\r\n        {\r\n          data: this.saveVals,\r\n          fields: true\r\n        },\r\n        function(data) {\r\n          if (!self.view.value._id) self.view.setValue(\"_id\", data);\r\n\r\n          self.view.event(\"save\", self.view.value);\r\n        }\r\n      );\r\n\r\n      delete this.saveVals;\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    if (this.model.insertVal)\r\n      this.model.insertVal.forEach(item => {\r\n        this.view.setValue(item[0], this.insertVal(item[1]));\r\n      });\r\n  }\r\n  componentWillUnmount() {\r\n    this.view.off(\"change\", this.handleChange);\r\n    if (this.saveDelay) clearTimeout(this.saveDelay);\r\n\r\n    if (this.model.saveOn.indexOf(\"baseView\") !== -1)\r\n      this.view.baseView.off(\"save\", this.saveToDb);\r\n    if (this.model.saveOn.indexOf(\"baseView.baseView\") !== -1)\r\n      this.view.baseView.baseView.off(\"save\", this.saveToDb);\r\n    if (this.model.saveOn.indexOf(\"baseView.baseView.baseView\") !== -1)\r\n      this.view.baseView.baseView.baseView.off(\"save\", this.saveToDb);\r\n  }\r\n  render() {\r\n    return null;\r\n  }\r\n}\r\nexport default ViewButtonMirrorSave;\r\n","import { useEffect } from \"react\";\r\n\r\nconst ViewInViewSetBaseViewValue = ({ model, view }) => {\r\n  useEffect(() => {\r\n    view.setValue({\r\n      path: model.toField,\r\n      value: view.baseView.getValue(model.fromField),\r\n    });\r\n  }, [model, view]);\r\n\r\n  return null;\r\n};\r\nexport default ViewInViewSetBaseViewValue;\r\n","/* eslint-disable jsx-a11y/mouse-events-have-key-events */\r\n\r\nimport React, { useRef, useEffect, useState } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst Portal = ({ children }) => {\r\n  const [element, setElement] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const element = document.createElement(\"div\");\r\n    document.body.appendChild(element);\r\n    setElement(element);\r\n\r\n    return () => {\r\n      document.body.removeChild(element);\r\n    };\r\n  }, []);\r\n\r\n  if (!element) return null;\r\n\r\n  return createPortal(children, element);\r\n};\r\n\r\nconst MouseOver = ({ children, setOver }) => {\r\n  const [isOver, setIsOver] = useState(false);\r\n  const ref = useRef();\r\n  useEffect(() => {\r\n    if (!isOver) return;\r\n\r\n    const size = ref.current.getBoundingClientRect();\r\n    let pos = false;\r\n\r\n    const mouseMove = (e) => {\r\n      pos = { x: e.clientX, y: e.clientY };\r\n      const { x, y } = pos;\r\n\r\n      if (y < size.top || y > size.bottom || x < size.left || x > size.right) {\r\n        setOver(false);\r\n        setIsOver(false);\r\n      }\r\n    };\r\n    const delay = setTimeout(() => {\r\n      setOver(pos);\r\n    }, 100);\r\n\r\n    window.addEventListener(\"mousemove\", mouseMove);\r\n    return () => {\r\n      clearTimeout(delay);\r\n      window.removeEventListener(\"mousemove\", mouseMove);\r\n    };\r\n  }, [isOver, setOver]);\r\n\r\n  return (\r\n    <div ref={ref} onMouseOver={() => setIsOver(true)}>\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ViewTextTitlePopup = ({ model, path }) => {\r\n  const { item, popup } = model;\r\n\r\n  const [overPos, setOver] = useState(false);\r\n\r\n  return (\r\n    <>\r\n      {overPos && (\r\n        <Portal>\r\n          <Wrapper\r\n            style={{\r\n              position: \"fixed\",\r\n              left: overPos.x + 10,\r\n              top: overPos.y + 12,\r\n            }}\r\n          >\r\n            <ContentTypeRender path={path} items={popup} />\r\n          </Wrapper>\r\n        </Portal>\r\n      )}\r\n      <MouseOver setOver={setOver}>\r\n        <ContentTypeRender path={path} items={item} />\r\n      </MouseOver>\r\n    </>\r\n  );\r\n};\r\nexport default ViewTextTitlePopup;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Wrapper } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst TextareaLog = ({ view, model, value = \"\" }) => {\r\n  const [log, setLog] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const parseLog = (log) => {\r\n      const parsedLog = (log || \"\")\r\n        .replace(/ /g, \"&nbsp;\")\r\n        // eslint-disable-next-line no-control-regex\r\n        .replace(/\\x1b\\[((?:\\d{1,3};?)+|)m/gim, (match, p1) => {\r\n          return `</span><span style='color:${colors[parseInt(p1, 10)]};'>`;\r\n        });\r\n      return `<span>${parsedLog.replace(/\\n/g, \"</span><br/><span>\")}</span>`;\r\n    };\r\n\r\n    let fullLog = parseLog(value);\r\n    setLog(fullLog);\r\n\r\n    const updateLog = ({ data }) => {\r\n      fullLog += parseLog(data);\r\n      setLog(fullLog);\r\n    };\r\n\r\n    app().connection.on(`serverLog${view.id}`, updateLog);\r\n    const clearLog = () => {\r\n      setLog(\"\");\r\n      fullLog = \"\";\r\n    };\r\n    view.on(\"clearlog\", clearLog);\r\n    return () => {\r\n      view.off(\"clearlog\", clearLog);\r\n      app().connection.off(`serverLog${view.id}`, updateLog);\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const className = model.className && model.className.join(\" \");\r\n  return (\r\n    <code>\r\n      <Wrapper className={model.wrapperClass}>\r\n        <div className={className} dangerouslySetInnerHTML={{ __html: log }} />\r\n      </Wrapper>\r\n    </code>\r\n  );\r\n};\r\n\r\nexport default TextareaLog;\r\n\r\nconst colors = {\r\n  0: \"#000\",\r\n  1: \"white\", // ch\r\n  2: \"#0A0\",\r\n  3: \"#A50\",\r\n  4: \"#00A\",\r\n  5: \"#A0A\",\r\n  6: \"#0AA\",\r\n  7: \"#AAA\",\r\n  8: \"#555\",\r\n  9: \"#F55\",\r\n  10: \"#5F5\",\r\n  11: \"#FF5\",\r\n  12: \"#55F\",\r\n  13: \"#F5F\",\r\n  14: \"#5FF\",\r\n  15: \"#FFF\",\r\n  16: \"#000000\",\r\n  17: \"#00005f\",\r\n  18: \"#000087\",\r\n  19: \"#0000af\",\r\n  20: \"#0000d7\",\r\n  21: \"#0000ff\",\r\n  22: \"#A0A0A0\", // ch\r\n  23: \"#005f5f\",\r\n  24: \"#005f87\",\r\n  25: \"#005faf\",\r\n  26: \"#005fd7\",\r\n  27: \"#005fff\",\r\n  28: \"#008700\",\r\n  29: \"#00875f\",\r\n  30: \"#008787\",\r\n  31: \"red\", // ch\r\n  32: \"green\", // ch\r\n  33: \"yellow\", // ch\r\n  34: \"#00af00\",\r\n  35: \"#00af5f\",\r\n  36: \"#00af87\",\r\n  37: \"#00afaf\",\r\n  38: \"#00afd7\",\r\n  39: \"#00afff\",\r\n  40: \"#00d700\",\r\n  41: \"#00d75f\",\r\n  42: \"#00d787\",\r\n  43: \"#00d7af\",\r\n  44: \"#00d7d7\",\r\n  45: \"#00d7ff\",\r\n  46: \"#00ff00\",\r\n  47: \"#00ff5f\",\r\n  48: \"#00ff87\",\r\n  49: \"#00ffaf\",\r\n  50: \"#00ffd7\",\r\n  51: \"#00ffff\",\r\n  52: \"#5f0000\",\r\n  53: \"#5f005f\",\r\n  54: \"#5f0087\",\r\n  55: \"#5f00af\",\r\n  56: \"#5f00d7\",\r\n  57: \"#5f00ff\",\r\n  58: \"#5f5f00\",\r\n  59: \"#5f5f5f\",\r\n  60: \"#5f5f87\",\r\n  61: \"#5f5faf\",\r\n  62: \"#5f5fd7\",\r\n  63: \"#5f5fff\",\r\n  64: \"#5f8700\",\r\n  65: \"#5f875f\",\r\n  66: \"#5f8787\",\r\n  67: \"#5f87af\",\r\n  68: \"#5f87d7\",\r\n  69: \"#5f87ff\",\r\n  70: \"#5faf00\",\r\n  71: \"#5faf5f\",\r\n  72: \"#5faf87\",\r\n  73: \"#5fafaf\",\r\n  74: \"#5fafd7\",\r\n  75: \"#5fafff\",\r\n  76: \"#5fd700\",\r\n  77: \"#5fd75f\",\r\n  78: \"#5fd787\",\r\n  79: \"#5fd7af\",\r\n  80: \"#5fd7d7\",\r\n  81: \"#5fd7ff\",\r\n  82: \"#5fff00\",\r\n  83: \"#5fff5f\",\r\n  84: \"#5fff87\",\r\n  85: \"#5fffaf\",\r\n  86: \"#5fffd7\",\r\n  87: \"#5fffff\",\r\n  88: \"#870000\",\r\n  89: \"#87005f\",\r\n  90: \"#870087\",\r\n  91: \"#8700af\",\r\n  92: \"#8700d7\",\r\n  93: \"#8700ff\",\r\n  94: \"#875f00\",\r\n  95: \"#875f5f\",\r\n  96: \"#875f87\",\r\n  97: \"#875faf\",\r\n  98: \"#875fd7\",\r\n  99: \"#875fff\",\r\n  100: \"#878700\",\r\n  101: \"#87875f\",\r\n  102: \"#878787\",\r\n  103: \"#8787af\",\r\n  104: \"#8787d7\",\r\n  105: \"#8787ff\",\r\n  106: \"#87af00\",\r\n  107: \"#87af5f\",\r\n  108: \"#87af87\",\r\n  109: \"#87afaf\",\r\n  110: \"#87afd7\",\r\n  111: \"#87afff\",\r\n  112: \"#87d700\",\r\n  113: \"#87d75f\",\r\n  114: \"#87d787\",\r\n  115: \"#87d7af\",\r\n  116: \"#87d7d7\",\r\n  117: \"#87d7ff\",\r\n  118: \"#87ff00\",\r\n  119: \"#87ff5f\",\r\n  120: \"#87ff87\",\r\n  121: \"#87ffaf\",\r\n  122: \"#87ffd7\",\r\n  123: \"#87ffff\",\r\n  124: \"#af0000\",\r\n  125: \"#af005f\",\r\n  126: \"#af0087\",\r\n  127: \"#af00af\",\r\n  128: \"#af00d7\",\r\n  129: \"#af00ff\",\r\n  130: \"#af5f00\",\r\n  131: \"#af5f5f\",\r\n  132: \"#af5f87\",\r\n  133: \"#af5faf\",\r\n  134: \"#af5fd7\",\r\n  135: \"#af5fff\",\r\n  136: \"#af8700\",\r\n  137: \"#af875f\",\r\n  138: \"#af8787\",\r\n  139: \"#af87af\",\r\n  140: \"#af87d7\",\r\n  141: \"#af87ff\",\r\n  142: \"#afaf00\",\r\n  143: \"#afaf5f\",\r\n  144: \"#afaf87\",\r\n  145: \"#afafaf\",\r\n  146: \"#afafd7\",\r\n  147: \"#afafff\",\r\n  148: \"#afd700\",\r\n  149: \"#afd75f\",\r\n  150: \"#afd787\",\r\n  151: \"#afd7af\",\r\n  152: \"#afd7d7\",\r\n  153: \"#afd7ff\",\r\n  154: \"#afff00\",\r\n  155: \"#afff5f\",\r\n  156: \"#afff87\",\r\n  157: \"#afffaf\",\r\n  158: \"#afffd7\",\r\n  159: \"#afffff\",\r\n  160: \"#d70000\",\r\n  161: \"#d7005f\",\r\n  162: \"#d70087\",\r\n  163: \"#d700af\",\r\n  164: \"#d700d7\",\r\n  165: \"#d700ff\",\r\n  166: \"#d75f00\",\r\n  167: \"#d75f5f\",\r\n  168: \"#d75f87\",\r\n  169: \"#d75faf\",\r\n  170: \"#d75fd7\",\r\n  171: \"#d75fff\",\r\n  172: \"#d78700\",\r\n  173: \"#d7875f\",\r\n  174: \"#d78787\",\r\n  175: \"#d787af\",\r\n  176: \"#d787d7\",\r\n  177: \"#d787ff\",\r\n  178: \"#d7af00\",\r\n  179: \"#d7af5f\",\r\n  180: \"#d7af87\",\r\n  181: \"#d7afaf\",\r\n  182: \"#d7afd7\",\r\n  183: \"#d7afff\",\r\n  184: \"#d7d700\",\r\n  185: \"#d7d75f\",\r\n  186: \"#d7d787\",\r\n  187: \"#d7d7af\",\r\n  188: \"#d7d7d7\",\r\n  189: \"#d7d7ff\",\r\n  190: \"#d7ff00\",\r\n  191: \"#d7ff5f\",\r\n  192: \"#d7ff87\",\r\n  193: \"#d7ffaf\",\r\n  194: \"#d7ffd7\",\r\n  195: \"#d7ffff\",\r\n  196: \"#ff0000\",\r\n  197: \"#ff005f\",\r\n  198: \"#ff0087\",\r\n  199: \"#ff00af\",\r\n  200: \"#ff00d7\",\r\n  201: \"#ff00ff\",\r\n  202: \"#ff5f00\",\r\n  203: \"#ff5f5f\",\r\n  204: \"#ff5f87\",\r\n  205: \"#ff5faf\",\r\n  206: \"#ff5fd7\",\r\n  207: \"#ff5fff\",\r\n  208: \"#ff8700\",\r\n  209: \"#ff875f\",\r\n  210: \"#ff8787\",\r\n  211: \"#ff87af\",\r\n  212: \"#ff87d7\",\r\n  213: \"#ff87ff\",\r\n  214: \"#ffaf00\",\r\n  215: \"#ffaf5f\",\r\n  216: \"#ffaf87\",\r\n  217: \"#ffafaf\",\r\n  218: \"#ffafd7\",\r\n  219: \"#ffafff\",\r\n  220: \"#ffd700\",\r\n  221: \"#ffd75f\",\r\n  222: \"#ffd787\",\r\n  223: \"#ffd7af\",\r\n  224: \"#ffd7d7\",\r\n  225: \"#ffd7ff\",\r\n  226: \"#ffff00\",\r\n  227: \"#ffff5f\",\r\n  228: \"#ffff87\",\r\n  229: \"#ffffaf\",\r\n  230: \"#ffffd7\",\r\n  231: \"#ffffff\",\r\n  232: \"#080808\",\r\n  233: \"#121212\",\r\n  234: \"#1c1c1c\",\r\n  235: \"#262626\",\r\n  236: \"#303030\",\r\n  237: \"#3a3a3a\",\r\n  238: \"#444444\",\r\n  239: \"#4e4e4e\",\r\n  240: \"#585858\",\r\n  241: \"#626262\",\r\n  242: \"#6c6c6c\",\r\n  243: \"#767676\",\r\n  244: \"#808080\",\r\n  245: \"#8a8a8a\",\r\n  246: \"#949494\",\r\n  247: \"#9e9e9e\",\r\n  248: \"#a8a8a8\",\r\n  249: \"#b2b2b2\",\r\n  250: \"#bcbcbc\",\r\n  251: \"#c6c6c6\",\r\n  252: \"#d0d0d0\",\r\n  253: \"#dadada\",\r\n  254: \"#e4e4e4\",\r\n  255: \"#eeeeee\",\r\n};\r\n","import * as components from \"nystem-components\";\r\n\r\nconst React = require(\"react\");\r\nconst ReactDOM = require(\"react-dom\");\r\n\r\nconst base = document.createElement(\"div\");\r\nbase.className = \"react-root\";\r\nbase.id = \"react-root\";\r\ndocument.body.appendChild(base);\r\n\r\nexport default function (app) {\r\n  let comp;\r\n  app.on(\"loaded\", async () => {\r\n    const { renderer, component, element } = await app.event(\r\n      \"getElementContext\",\r\n      {\r\n        renderer: ReactDOM,\r\n        component: \"Index\",\r\n        element: base,\r\n      }\r\n    );\r\n    comp = element;\r\n    renderer.render(React.createElement(components[component]), element);\r\n  });\r\n\r\n  app.on(\"unmount\", () => {\r\n    ReactDOM.unmountComponentAtNode(comp);\r\n  });\r\n}\r\n","const viewCreatorFields = require(\"../../../viewCreatorFields.json\");\r\n\r\nconst arr2Obj = (arr, byField) =>\r\n  arr.reduce((prev, curr) => {\r\n    prev[curr[byField]] = curr;\r\n    return prev;\r\n  }, {});\r\n\r\nconst objectMap = (object, mapFn) =>\r\n  Object.keys(object).reduce((result, key) => {\r\n    result[key] = mapFn(object[key]);\r\n    return result;\r\n  }, {});\r\n\r\nconst deepCopy = (obj) => obj && JSON.parse(JSON.stringify(obj));\r\n\r\nconst getId = ({ path = \"\", id = \"\" }) => {\r\n  if (id.includes(path)) return id;\r\n\r\n  if (path && id) return `${path}.${id}`;\r\n  if (id) return id;\r\n  return \"\";\r\n};\r\n\r\nconst capFirst = (str) => str.substr(0, 1).toUpperCase() + str.substr(1);\r\n\r\nconst replaceInModel = ({\r\n  model,\r\n  viewFormat,\r\n  fn,\r\n  path = \"\",\r\n  dynamicFields = [],\r\n}) => {\r\n  if (!model) return {};\r\n\r\n  model = deepCopy(model);\r\n  const { type, id } = model;\r\n  const fullId = getId({ path, id });\r\n  const format = model.format || viewFormat;\r\n\r\n  let componentName = `${type}${capFirst(format)}`;\r\n  if (viewCreatorFields[componentName] === undefined)\r\n    componentName = `${type}View`;\r\n\r\n  model = fn({ model, format, path, id, fullId });\r\n  if (!model) return null;\r\n\r\n  dynamicFields = [\r\n    ...dynamicFields,\r\n    ...(viewCreatorFields[componentName] || []),\r\n  ];\r\n\r\n  dynamicFields.forEach((key) => {\r\n    if (model[key])\r\n      model[key] = model[key]\r\n        .map((item) =>\r\n          replaceInModel({\r\n            model: item,\r\n            viewFormat,\r\n            fn,\r\n            path: fullId || path,\r\n          })\r\n        )\r\n        .filter((model) => !!model);\r\n  });\r\n\r\n  return model;\r\n};\r\n\r\nconst flattenFields = ({ item, viewCreatorFields, path = \"\" }) =>\r\n  (item || []).reduce((prev, field) => {\r\n    const { type, id } = field;\r\n    const fullPath = path ? `${path}.${id}` : id;\r\n\r\n    if (!type) return { [id]: field, ...prev };\r\n\r\n    const flatten = viewCreatorFields[`${type}Definition`];\r\n    if (!flatten) return { [fullPath]: field, ...prev };\r\n\r\n    const subFields = flatten.reduce(\r\n      (prev, key) =>\r\n        field[key]\r\n          ? flattenFields({\r\n              item: field[key],\r\n              viewCreatorFields,\r\n              path: fullPath,\r\n            })\r\n          : prev,\r\n      {}\r\n    );\r\n\r\n    return { [fullPath]: field, ...subFields, ...prev };\r\n  }, {});\r\n\r\nconst populateViews = ({ app }) => {\r\n  const { contentType } = app;\r\n\r\n  const populatedViews = objectMap(deepCopy(contentType), (contentType) => {\r\n    const { views, item } = contentType;\r\n    if (!views) return contentType;\r\n\r\n    const fields = flattenFields({ item, viewCreatorFields });\r\n\r\n    const populatedViews = views.map((view) =>\r\n      replaceInModel({\r\n        model: { ...view, type: \"contentType\", id: undefined },\r\n        fn: ({ model: view, fullId, format }) =>\r\n          fullId && fields[fullId]\r\n            ? { format, ...fields[fullId], ...view }\r\n            : { format, ...view },\r\n        viewFormat: view.format || \"view\",\r\n      })\r\n    );\r\n\r\n    contentType.views = arr2Obj(populatedViews, \"name\");\r\n    return contentType;\r\n  });\r\n\r\n  return populatedViews;\r\n};\r\n\r\nexport default (app) => {\r\n  app.on(\"init\", 1000, () => {\r\n    app.populatedViews = populateViews({ app });\r\n    app.replaceInModel = replaceInModel;\r\n  });\r\n};\r\n","const sortFuncInt = (key, reverse) => {\r\n  const up = reverse ? 1 : -1;\r\n  const down = reverse ? -1 : 1;\r\n\r\n  return (a, b) => {\r\n    const x = a[key];\r\n    const y = b[key];\r\n\r\n    if (x === undefined) return y === undefined ? 0 : down;\r\n    if (y === undefined) return up;\r\n    return x < y ? up : x > y ? down : 0;\r\n  };\r\n};\r\n\r\nconst sortFuncText = (key, reverse) => {\r\n  const up = reverse ? 1 : -1;\r\n  const down = reverse ? -1 : 1;\r\n\r\n  return (a, b) => {\r\n    let x = a[key];\r\n    let y = b[key];\r\n    if (x === undefined) return y === undefined ? 0 : up;\r\n    if (y === undefined) return down;\r\n    x = x.toString().toLowerCase();\r\n    y = y.toString().toLowerCase();\r\n\r\n    return x < y ? up : x > y ? down : 0;\r\n  };\r\n};\r\n\r\nconst sortByFunc = (array, sortBys) => {\r\n  const sortFuncs = sortBys.map(({ type, key, reverse }) =>\r\n    [\"int\", \"date\"].includes(type)\r\n      ? sortFuncInt(key, reverse)\r\n      : sortFuncText(key, reverse)\r\n  );\r\n  return array.sort((a, b) => {\r\n    let res;\r\n    for (let i = 0; i < sortFuncs.length; i++) {\r\n      res = sortFuncs[i](a, b);\r\n      if (res !== 0) return res;\r\n    }\r\n    return res;\r\n  });\r\n};\r\n\r\nfunction field2IdType(contentType) {\r\n  const field2IdType = {};\r\n  contentType.item = contentType.item || [];\r\n  for (let i = 0; i < contentType.item.length; i++) {\r\n    const item = contentType.item[i];\r\n    field2IdType[item.id] = item.extends ? item.extends : item.type;\r\n  }\r\n  field2IdType._crdate = \"date\";\r\n  return field2IdType;\r\n}\r\n\r\nfunction setSearchDefaults(query, contentType) {\r\n  const items = contentType.item || [];\r\n  query.sortby = !query.sortby\r\n    ? items.find((item) => item.id === \"title\")\r\n      ? \"title\"\r\n      : \"name\"\r\n    : query.sortby;\r\n\r\n  query.sortby = query.sortby || \"_chdate\";\r\n  query.position = query.position || 0;\r\n  query.count = query.count || 200;\r\n}\r\n\r\nfunction getFilterArray(filter) {\r\n  if (filter && Object.keys(filter).length === 0) return [];\r\n  if (filter && filter.$and) {\r\n    filter = { ...filter };\r\n    const tmp = filter.$and;\r\n    delete filter.$and;\r\n    if (tmp instanceof Array) return tmp.concat(filter);\r\n    return [filter, tmp];\r\n  }\r\n\r\n  return [filter];\r\n}\r\n\r\nexport default (app) => {\r\n  app.database.on(\"init\", ({ collection, db }) => {\r\n    const { contentType } = collection;\r\n    const fieldByType = field2IdType(contentType);\r\n\r\n    collection.on(\"init\", 10, () => {\r\n      const { dbArray } = db;\r\n      sortByFunc(dbArray, [{ type: \"int\", key: \"_chdate\" }]);\r\n    });\r\n\r\n    const addFields2All = (add2id, searchFor, oneSearchField, oneSearchValue) =>\r\n      contentType.item.forEach((oneField) => {\r\n        if (oneField.id && oneField.type !== \"date\") {\r\n          oneSearchField.push(add2id + oneField.id);\r\n          oneSearchValue.push(searchFor);\r\n        } else if (oneField.add2id)\r\n          addFields2All(\r\n            `${add2id + oneField.add2id}_`,\r\n            searchFor,\r\n            oneSearchField,\r\n            oneSearchValue\r\n          );\r\n      });\r\n\r\n    function getFilter(query) {\r\n      const searchField = [];\r\n      const searchValue = [];\r\n\r\n      getFilterArray(query.filter).forEach((filter) => {\r\n        const oneSearchField = [];\r\n        const oneSearchValue = [];\r\n        if (filter.$all && filter.$all !== \"\")\r\n          addFields2All(\r\n            \"\",\r\n            createRegExp(filter.$all),\r\n            oneSearchField,\r\n            oneSearchValue\r\n          );\r\n\r\n        const exact = filter.__exact || query.exact;\r\n        Object.entries(filter).forEach(([field, value]) => {\r\n          if (![\"$all\", \"__id\", \"__exact\"].includes(field)) {\r\n            oneSearchField.push(field);\r\n            if (exact) oneSearchValue.push(createRegExp(`^${value}$`));\r\n            else if (value instanceof Array) {\r\n              oneSearchValue.push(createRegExp(value.join(\"|\")));\r\n            } else if (!value) oneSearchValue.push(\"false\");\r\n            else if (value === true) oneSearchValue.push(\"true\");\r\n            else if (\"<>\".indexOf(value[0]) !== -1) oneSearchValue.push(value);\r\n            else oneSearchValue.push(createRegExp(value, field));\r\n          }\r\n        });\r\n\r\n        if (oneSearchField.length > 0) {\r\n          searchField.push(oneSearchField);\r\n          searchValue.push(oneSearchValue);\r\n        }\r\n      });\r\n      if (searchField.length === 0) return {};\r\n      return { searchField, searchValue };\r\n    }\r\n\r\n    function createRegExp(expression, id) {\r\n      if (fieldByType[id] === \"boolean\") return expression;\r\n      return new RegExp(expression.toString().replace(/\\*/g, \"\\\\*\"), \"i\");\r\n    }\r\n\r\n    function search(query) {\r\n      if (query.data !== undefined) return;\r\n\r\n      const { dbArray } = db;\r\n      query.total = dbArray.length;\r\n      setSearchDefaults(query, contentType);\r\n      let result = [];\r\n\r\n      function filterResult(query) {\r\n        const { searchField, searchValue } = getFilter(query);\r\n        if (!searchField) return false;\r\n\r\n        for (let pos = 0; pos < dbArray.length; pos++) {\r\n          const thisItem = dbArray[pos];\r\n          let add = false;\r\n          for (let i = 0; i < searchField.length; i++) {\r\n            add = false;\r\n            for (let field = 0; field < searchField[i].length; field++) {\r\n              let val = thisItem[searchField[i][field]];\r\n              const matchVal = searchValue[i][field];\r\n              if (val && val.toString() === \"[object Object]\") {\r\n                val = JSON.stringify(val);\r\n              }\r\n              if (\r\n                (matchVal === \"false\" && !val) ||\r\n                (matchVal === \"true\" && val) ||\r\n                (matchVal[0] === \"<\" &&\r\n                  parseFloat(val) < parseFloat(matchVal.substring(1))) ||\r\n                (matchVal[0] === \">\" &&\r\n                  parseFloat(val) > parseFloat(matchVal.substring(1))) ||\r\n                (val && matchVal.test && matchVal.test(val))\r\n              ) {\r\n                add = true;\r\n                break;\r\n              }\r\n            }\r\n            if (!add) break;\r\n          }\r\n          if (add) result.push(thisItem);\r\n        }\r\n        return true;\r\n      }\r\n\r\n      let sortBy =\r\n        query.sortby instanceof Array\r\n          ? query.sortby\r\n          : [query.sortby || \"_chdate\"];\r\n\r\n      let reverse =\r\n        query.reverse instanceof Array\r\n          ? query.reverse\r\n          : [query.reverse || false];\r\n\r\n      if (sortBy[0] === \"_chdate\" && sortBy.length === 1) sortBy = false;\r\n      if (reverse[0] === false && reverse.length === 1) reverse = false;\r\n\r\n      if (!query.filter || !filterResult(query)) {\r\n        if (sortBy || (reverse && result.length <= query.count)) {\r\n          result = new Array(dbArray.length);\r\n          let i = dbArray.length;\r\n          while (i--) result[i] = dbArray[i];\r\n        } else result = dbArray;\r\n      }\r\n\r\n      query.searchTotal = result.length;\r\n\r\n      if (sortBy)\r\n        sortByFunc(\r\n          result,\r\n          sortBy.map((key, index) => ({\r\n            type: fieldByType[key],\r\n            key,\r\n            reverse: reverse[index],\r\n          }))\r\n        );\r\n      else if (reverse[0]) {\r\n        if (result === dbArray) result = [...result];\r\n        result.reverse();\r\n      }\r\n      if (result.length <= query.position) result = [];\r\n      else if (result.length > query.count)\r\n        result = result.slice(query.position, query.position + query.count);\r\n\r\n      query.data = result.length ? result : false;\r\n    }\r\n    collection.on(\"search\", 1000, search);\r\n  });\r\n};\r\n","import deleteM from \"./delete\";\r\nimport findM from \"./find\";\r\nimport getM from \"./get\";\r\nimport initM from \"./init\";\r\nimport saveM from \"./save\";\r\nimport searchM from \"./search\";\r\n\r\nexport default (app) => {\r\n  deleteM(app);\r\n  findM(app);\r\n  getM(app);\r\n  initM(app);\r\n  saveM(app);\r\n  searchM(app);\r\n\r\n  app.database.on(\r\n    \"init\",\r\n    ({ contentType }) => {\r\n      const db = { dbArray: [], dbIndex: {} };\r\n\r\n      const collection = app.addeventhandler(\r\n        { contentType },\r\n        [\r\n          \"delete\",\r\n          \"find\",\r\n          \"get\",\r\n          \"init\",\r\n          \"save\",\r\n          \"search\",\r\n          \"size\",\r\n          \"update\",\r\n          \"updates\",\r\n        ],\r\n        `database ${contentType.machinename}`\r\n      );\r\n\r\n      collection.on(\"init\", () => {\r\n        const { dbArray, dbIndex } = db;\r\n        dbArray.forEach((item) => {\r\n          if (dbIndex[item._id])\r\n            dbArray.splice(dbArray.indexOf(dbIndex[item._id]), 1);\r\n          dbIndex[item._id] = item;\r\n        });\r\n      });\r\n\r\n      collection.on(\"size\", () => db.dbArray.length);\r\n      return { collection, db, contentType };\r\n    },\r\n    1000\r\n  );\r\n};\r\n","export default (app) => {\r\n  app.database.on(\"init\", ({ collection, db }) => {\r\n    collection.on(\"delete\", 1000, (query) => {\r\n      const id = query.id || query.data._id;\r\n      const data = query.data || { _id: id };\r\n      return Object.assign(query, { id, oldData: db.dbIndex[id], data });\r\n    });\r\n\r\n    collection.on(\"delete\", -200, (query) => {\r\n      if (!query.data) return;\r\n      const { dbArray, dbIndex } = db;\r\n      delete dbIndex[query.id];\r\n      const pos = dbArray.indexOf(query.oldData);\r\n      dbArray.splice(pos, 1);\r\n    });\r\n  });\r\n};\r\n","export default app => {\r\n  app.database.on(\"init\", ({ collection, db }) => {\r\n    collection.on(\"find\", 1000, query => {\r\n      const { field, value, data, testIfSet } = query;\r\n      if (data) return;\r\n      const { dbArray } = db;\r\n\r\n      if (!testIfSet) {\r\n        for (let i = 0; i < dbArray.length; i++)\r\n          if (dbArray[i][field] === value)\r\n            return { ...query, data: dbArray[i] };\r\n        return query;\r\n      }\r\n\r\n      for (let i = 0; i < dbArray.length; i++)\r\n        if (!dbArray[i][field] === !value)\r\n          return { ...query, data: dbArray[i] };\r\n    });\r\n  });\r\n};\r\n","export default app => {\r\n  app.database.on(\"init\", ({ collection, db }) => {\r\n    collection.on(\r\n      \"get\",\r\n      1000,\r\n      query =>\r\n        query.data\r\n          ? query\r\n          : { ...query, data: db.dbIndex[query.id] }\r\n    );\r\n  });\r\n};\r\n","export default app => {\r\n  app.database.on(\"init\", ({ collection, db }) => {\r\n    collection.on(\"init\", 1000, query => Object.assign(db, query));\r\n    collection.on(\"init\", -1000, () => {\r\n      /* collection.on(\r\n        \"init\",\r\n        () => {\r\n          throw new Error(\"Initited already\");\r\n        },\r\n        1001\r\n      ); */\r\n      return collection;\r\n    });\r\n  });\r\n};\r\n","export default (app) => {\r\n  app.database.on(\"init\", ({ collection, db }) => {\r\n    collection.on(\"save\", 2000, (query) => {\r\n      const id = query.id || (query.data && query.data._id);\r\n      if (!id || query.oldData) return;\r\n\r\n      const oldData = db.dbIndex[id];\r\n      if (!oldData) return;\r\n\r\n      if (query.fields) query.data = { ...oldData, ...query.data };\r\n      return { ...query, oldData };\r\n    });\r\n\r\n    collection.on(\"save\", 1000, (query) => {\r\n      if (!query.data) return;\r\n\r\n      // eslint-disable-next-line no-multi-assign\r\n      query.data._id = query.id = query.id || query.data._id || app.uuid();\r\n    });\r\n\r\n    collection.on(\"save\", -100, (query) => {\r\n      if (!query.data) return;\r\n\r\n      const { dbArray, dbIndex } = db;\r\n\r\n      if (query.oldData) {\r\n        dbArray.splice(dbArray.indexOf(query.oldData), 1);\r\n        delete dbIndex[query.oldData._id];\r\n      }\r\n\r\n      dbIndex[query.id] = query.data;\r\n      dbArray.push(query.data);\r\n    });\r\n  });\r\n};\r\n","const getKey = (data) => JSON.stringify(data);\r\n\r\nexport default (app) => {\r\n  if (app.settings.noClientCache) return;\r\n\r\n  app.database.on(\"init\", ({ collection, db }) => {\r\n    if (collection.contentType.noClientCache) return;\r\n\r\n    const insertItem = (item) => {\r\n      const { dbIndex, dbArray } = db;\r\n      if (dbIndex[item._id]) return;\r\n\r\n      dbIndex[item._id] = item;\r\n\r\n      const chdate = item._chdate;\r\n      let pos = dbArray.length - 1;\r\n\r\n      if (chdate)\r\n        while (\r\n          pos >= 0 &&\r\n          (!dbArray[pos]._chdate || dbArray[pos]._chdate > chdate)\r\n        )\r\n          pos -= 1;\r\n\r\n      if (pos === dbArray.length - 1) dbArray.push(item);\r\n      else dbArray.splice(pos + 1, 0, item);\r\n\r\n      collection.event(\"saveStorage\");\r\n    };\r\n\r\n    let searchCache = {};\r\n    let allInCache = false;\r\n\r\n    collection.on([\"update\", \"clearCache\"], 2000, () => {\r\n      searchCache = {};\r\n      allInCache = false;\r\n    });\r\n\r\n    collection.on(\"search\", 2000, (query) => {\r\n      const inCache =\r\n        allInCache || searchCache[getKey({ ...query, data: undefined })];\r\n\r\n      return { ...query, inCache };\r\n    });\r\n    collection.on(\"search\", -1000, (query) => {\r\n      if (!query.data || allInCache) return;\r\n\r\n      allInCache =\r\n        query.count > query.searchTotal && query.searchTotal === query.total;\r\n\r\n      query.data.forEach(insertItem);\r\n\r\n      const key = getKey({ ...query, data: undefined });\r\n      if (!searchCache[key]) searchCache[key] = true;\r\n    });\r\n\r\n    collection.on([\"get\", \"find\"], -1000, ({ data }) => {\r\n      if (!allInCache && data) insertItem(data);\r\n    });\r\n  });\r\n};\r\n","import connectionM from \"./connection\";\r\nimport updatesM from \"./updates\";\r\nimport debugM from \"./debug\";\r\nimport memdbM from \"./memdb\";\r\nimport cacheM from \"./cache\";\r\nimport storageM from \"./storage\";\r\nimport saveQueueM from \"./saveQueue\";\r\n\r\nexport default function (app) {\r\n  const database = app.addeventhandler(\r\n    {},\r\n    [\"init\", \"add\", \"clearCache\"],\r\n    \"databaseglobal\"\r\n  );\r\n  app.database = database;\r\n\r\n  connectionM(app);\r\n  updatesM(app);\r\n  debugM(app);\r\n  memdbM(app);\r\n  cacheM(app);\r\n  storageM(app);\r\n  saveQueueM(app);\r\n\r\n  database.on(\"clearCache\", () =>\r\n    Promise.all(\r\n      Object.keys(app.contentType)\r\n        .filter((item) => database[item])\r\n        .map((item) => database[item].event(\"clearCache\"))\r\n    )\r\n  );\r\n\r\n  const initDatabases = (contentTypes) =>\r\n    contentTypes\r\n      .filter((contentType) => contentType.storage !== \"none\")\r\n      .map((contentType) =>\r\n        database\r\n          .init({ contentType })\r\n          .then(({ collection }) => collection.init())\r\n          .then(\r\n            // eslint-disable-next-line no-return-assign\r\n            (collection) => (database[contentType.machinename] = collection)\r\n          )\r\n      );\r\n\r\n  app.on(\"init\", -100, () => {\r\n    app.connection.on(\"databaseUpdate\", (data) =>\r\n      database[data.contentType].update(data)\r\n    );\r\n    return Promise.all(initDatabases(Object.values(app.contentType))).then(\r\n      () => {\r\n        app.on([\"login\", \"logout\"], () => {\r\n          database.clearCache().then(() => undefined);\r\n        });\r\n      }\r\n    );\r\n  });\r\n};\r\n","export default (app) => {\r\n  let connected = false;\r\n  app.on(\"init\", () => {\r\n    connected = app.connection.connected();\r\n    app.connection.on(\"connect\", () => {\r\n      connected = true;\r\n    });\r\n    app.connection.on(\"disconnect\", () => {\r\n      connected = false;\r\n    });\r\n  });\r\n\r\n  app.database.on(\"init\", ({ collection, db, contentType }) => {\r\n    const send = (action, query) =>\r\n      app.connection\r\n        .emit({\r\n          type: \"database\",\r\n          action,\r\n          contentType: contentType.machinename,\r\n          query,\r\n        })\r\n        .then((event) => event.query);\r\n\r\n    [\"find\", \"get\", \"size\"].forEach((event) => {\r\n      collection.on(event, 900, (query) =>\r\n        query.data\r\n          ? undefined\r\n          : !connected\r\n          ? { ...query, offline: true }\r\n          : send(event, query)\r\n      );\r\n    });\r\n\r\n    collection.on(\"delete\", 700, (query) =>\r\n      !connected ? { ...query, offline: true } : send(\"delete\", query)\r\n    );\r\n\r\n    collection.on(\"save\", 2700, (query) => {\r\n      console.log(\"sennd\", query);\r\n      return !connected ? { ...query, offline: true } : send(\"save\", query);\r\n    });\r\n\r\n    collection.on(\"search\", 1700, (query) =>\r\n      query.inCache\r\n        ? undefined\r\n        : !connected\r\n        ? { ...query, offline: true }\r\n        : send(\"search\", query)\r\n    );\r\n\r\n    collection.on(\"updates\", (query) => send(\"updates\", query));\r\n    collection.on(\"update\", 200, (query) => ({\r\n      ...query,\r\n      offline: !connected,\r\n    }));\r\n\r\n    app.connection.on(\"database\", (event) => {\r\n      if (\r\n        event.contentType !== contentType.machinename ||\r\n        ![\"update\"].includes(event.action)\r\n      )\r\n        return;\r\n      collection[event.action](event.query);\r\n    });\r\n\r\n    app.connection.on(\"connect\", () => {\r\n      collection.updates();\r\n    });\r\n  });\r\n};\r\n","export default (app) => {\r\n  app.database.on(\"init\", ({ collection, db, contentType }) => {\r\n    let ids = [];\r\n    const updateSearch = {};\r\n    const updateGet = {};\r\n    let timer03;\r\n    let timer20;\r\n\r\n    const timeoutTimes = (app.settings.database &&\r\n      app.settings.database.updateFrequency) || [300, 2000];\r\n\r\n    const updateEvent = () => {\r\n      clearTimeout(timer03);\r\n      clearTimeout(timer20);\r\n      timer20 = false;\r\n      collection.event(\"update\", { ids }).then(() => {\r\n        ids = [];\r\n      });\r\n    };\r\n\r\n    collection.on(\"get\", 1000, (query) => {\r\n      if (!query.onData || query.callbackId) return;\r\n      query.callbackId = app.uuid();\r\n      updateGet[query.id] = updateGet[query.id] || {};\r\n      updateGet[query.id][query.callbackId] = query.onData;\r\n      delete query.onData;\r\n    });\r\n    collection.on(\"get\", -1000, (query) => {\r\n      if (query.callbackId) updateGet[query.id][query.callbackId](query);\r\n    });\r\n\r\n    collection.on(\"search\", 1000, (query) => {\r\n      if (!query.onData || query.callbackId) return;\r\n      query.callbackId = app.uuid();\r\n      updateSearch[query.callbackId] = { ...query, data: false };\r\n      delete query.onData;\r\n    });\r\n    collection.on(\"search\", -1000, (query) => {\r\n      if (query.callbackId) updateSearch[query.callbackId].onData(query);\r\n    });\r\n\r\n    collection.on(\"offUpdate\", (query) => {\r\n      if (updateSearch[query.callbackId]) delete updateSearch[query.callbackId];\r\n      else delete updateGet[query.id][query.callbackId];\r\n    });\r\n\r\n    collection.on([\"save\", \"delete\"], -1000, (query) => {\r\n      if (!query.offline) return;\r\n\r\n      if (timer03) clearTimeout(timer03);\r\n      timer03 = setTimeout(updateEvent, timeoutTimes[0]);\r\n      if (!timer20) timer20 = setTimeout(updateEvent, timeoutTimes[1]);\r\n      if (!ids.includes(query.id)) ids.push(query.id);\r\n    });\r\n\r\n    const delItem = (id) => {\r\n      // Not working, strange...\r\n      // dbArray.splice(dbArray.indexOf(dbIndex[id]),1);\r\n      db.dbArray = db.dbArray.filter((i) => i._id !== id);\r\n      delete db.dbIndex[id];\r\n    };\r\n\r\n    collection.on(\"update\", ({ ids, offline }) => {\r\n      if (offline) return;\r\n      if (ids) {\r\n        ids.forEach(delItem);\r\n        return;\r\n      }\r\n\r\n      db.dbArray = [];\r\n      db.dbIndex = {};\r\n    });\r\n\r\n    collection.on(\"update\", -1000, ({ ids }) => {\r\n      Object.values(updateSearch).forEach((query) =>\r\n        collection.search({ ...query, data: false, onData: false })\r\n      );\r\n\r\n      const updateGetIds = ids\r\n        ? ids.filter((id) => updateGet[id])\r\n        : Object.keys(updateGet);\r\n\r\n      updateGetIds.forEach((id) => {\r\n        Object.values(updateGet[id]).forEach((callbackId) =>\r\n          collection\r\n            .get({ id })\r\n            .then((query) => updateGet[id][callbackId](query))\r\n        );\r\n      });\r\n\r\n      collection.event(\"saveStorage\");\r\n    });\r\n\r\n    collection.on(\"updates\", 1000, () => {\r\n      const { dbArray } = db;\r\n      const i = dbArray.length - 1;\r\n\r\n      if (i === -1 || !dbArray[i]._chdate) return;\r\n\r\n      return { date: dbArray[i]._chdate };\r\n    });\r\n    collection.on(\"updates\", -1000, collection.update);\r\n  });\r\n};\r\n","/*\r\nfunction getStackTrace(row) {\r\n  const obj = {};\r\n  Error.captureStackTrace(obj, getStackTrace);\r\n  if (row) return obj.stack.split(\"\\n\")[row].replace(\"   at \", \"\");\r\n  return obj.stack;\r\n}\r\n*/\r\nexport default app => {\r\n  app.database.on(\"init\", ({ collection, db }) => {\r\n    /*\r\n    [\"delete\", \"find\", \"get\", \"save\", \"search\", \"size\"].forEach(event => {\r\n      collection.on(\r\n        event,\r\n        query => {\r\n          console.log(event, query, getStackTrace(6));\r\n        },\r\n        1002\r\n      );\r\n    });*/\r\n  });\r\n};\r\n","export default (app) => {\r\n  if (app.settings.noClientCache) return;\r\n\r\n  app.database.on(\"init\", ({ collection, db }) => {\r\n    const id = `dbStorage${collection.contentType.machinename}`;\r\n\r\n    collection.on([\"save\", \"delete\", \"saveStorage\"], -1000, () => {\r\n      app.storage.setItemDebounce({ id, value: db.dbArray, delay: 500 });\r\n    });\r\n\r\n    collection.on(\"init\", 1000, () =>\r\n      app.storage.getItem({ id }).then(({ value }) => {\r\n        db.dbArray = value || [];\r\n      })\r\n    );\r\n\r\n    collection.on(\"clearCache\", () => {\r\n      app.storage.setItemDebounce({ id, value: [], delay: 0 });\r\n      db.dbArray = [];\r\n      db.dbIndex = {};\r\n    });\r\n  });\r\n};\r\n","export default (app) => {\r\n  if (app.settings.noClientCache) return;\r\n\r\n  app.database.on(\"init\", ({ collection, db }) => {\r\n    const storageId = `dbSaveQueue${collection.contentType.machinename}`;\r\n\r\n    let saveQueue = {};\r\n    app.storage\r\n      .getItem({ id: storageId })\r\n      // eslint-disable-next-line no-return-assign\r\n      .then(({ value }) => (saveQueue = value || {}));\r\n\r\n    const add = ({ id, data, offline }) => {\r\n      if (!offline) return;\r\n      saveQueue[id] = data;\r\n      app.storage.setItemDebounce({\r\n        id: storageId,\r\n        value: saveQueue,\r\n        delay: 300,\r\n      });\r\n    };\r\n    collection.on(\"save\", -1000, (query) => add(query));\r\n    collection.on(\"delete\", -1000, (query) =>\r\n      add({ ...query, data: \"deleted\" })\r\n    );\r\n\r\n    collection.on(\"updates\", 500, (query) => {\r\n      const { dbArray } = db;\r\n      let { date } = query;\r\n      if (!date) return;\r\n\r\n      let i = dbArray.length - 1;\r\n      console.log(\"saveQueue\");\r\n      while (i !== -1 && !saveQueue[dbArray[i]._id]) {\r\n        // date = dbArray[i]._chdate;\r\n        i--;\r\n      }\r\n      return { ...query, saveQueue, date };\r\n    });\r\n    collection.on(\"updates\", -500, () => {\r\n      saveQueue = {};\r\n      app.storage.setItem({ id: storageId, value: {} });\r\n    });\r\n  });\r\n};\r\n","export default function (app) {\r\n  const { userContentType = \"adminUser\" } = app.settings;\r\n  const sessionKey = `session${userContentType}`;\r\n\r\n  app.session = app.addeventhandler({}, [\"login\", \"logout\"], \"session\");\r\n  const { session } = app;\r\n  let autoLoginUser = false;\r\n\r\n  function loginEvent(user) {\r\n    if (JSON.stringify(user) === JSON.stringify(session.user)) return;\r\n\r\n    try {\r\n      app.storage.setItem({ id: sessionKey, value: user });\r\n      // eslint-disable-next-line no-empty\r\n    } catch (e) {}\r\n    session.user = user;\r\n    if (typeof session.user.role === \"string\")\r\n      session.user.role = [session.user.role];\r\n\r\n    app.event(\"login\", user);\r\n  }\r\n\r\n  session.on(\"login\", (value) =>\r\n    app.connection\r\n      .emit({\r\n        type: \"login\",\r\n        data: value,\r\n        sessionid: value.sessionid,\r\n        contentType: value.contentType,\r\n      })\r\n      .then((query) => {\r\n        const { user } = query;\r\n\r\n        if (user && !query.error) loginEvent(user);\r\n        else {\r\n          session.user = autoLoginUser;\r\n          try {\r\n            app.storage.removeItem({ id: sessionKey });\r\n            // eslint-disable-next-line no-empty\r\n          } catch (e) {}\r\n        }\r\n        return query;\r\n      })\r\n  );\r\n\r\n  app.connection.on(\"autologin\", (query) => {\r\n    const { user, error } = query;\r\n\r\n    if (!user || error) return;\r\n    autoLoginUser = user;\r\n    if (session.user) return;\r\n\r\n    session.user = user;\r\n    if (typeof session.user.role === \"string\")\r\n      session.user.role = [session.user.role];\r\n\r\n    app.event(\"login\", user);\r\n  });\r\n\r\n  const reload = ({ key, id }) => {\r\n    if ((key || id) !== sessionKey) return;\r\n    window.location.reload();\r\n  };\r\n  window.addEventListener(\"storage\", reload);\r\n  app.storage.on(\"removeItem\", -1000, reload);\r\n  app.storage.on(\"setItem\", -1000, reload);\r\n\r\n  session.on(\"logout\", () => {\r\n    app.storage.removeItem({ id: sessionKey });\r\n\r\n    delete session.user;\r\n\r\n    app.connection.emit({\r\n      type: \"logout\",\r\n      contentType: userContentType,\r\n      noCallback: true,\r\n    });\r\n\r\n    app.event(\"logout\");\r\n  });\r\n\r\n  app.connection.on(\"logout\", () => {\r\n    app.storage.removeItem({ id: sessionKey });\r\n  });\r\n\r\n  app.on(\"init\", () =>\r\n    app.storage.getItem({ id: sessionKey }).then(({ value: userStore }) => {\r\n      session.user = userStore || autoLoginUser;\r\n\r\n      if (userStore) {\r\n        if (app.connection.connected()) session.login(userStore);\r\n\r\n        app.connection.on(\"connect\", () => {\r\n          session.login(userStore);\r\n        });\r\n      }\r\n    })\r\n  );\r\n};\r\n","function getStackTrace(row) {\r\n  const obj = {};\r\n  if (!Error.captureStackTrace) return;\r\n  Error.captureStackTrace(obj, getStackTrace);\r\n  if (row === 3) console.log(obj.stack.split(\"\\n\"));\r\n  const [, source, line, column] =\r\n    /https?:\\/\\/[^/]+\\/([^:]+):([^:]+):([0-9]+)/im.exec(\r\n      obj.stack.split(\"\\n\")[row]\r\n    ) || [];\r\n\r\n  return !source\r\n    ? obj.stack.split(\"\\n\")[row]\r\n    : translate(`${source} ${line}:${column}`);\r\n}\r\n\r\nlet translate = (str) => str;\r\n\r\nif (\r\n  typeof window !== \"undefined\" &&\r\n  window.location.host.includes(\"localhost\")\r\n) {\r\n  const addScript = (src) =>\r\n    new Promise((resolve) => {\r\n      if (\r\n        [...document.head.children].some(\r\n          (child) => child.getAttribute(\"src\") === src\r\n        )\r\n      ) {\r\n        resolve();\r\n        return;\r\n      }\r\n\r\n      const scriptEl = document.createElement(\"script\");\r\n\r\n      scriptEl.setAttribute(\"src\", src);\r\n      scriptEl.onload = resolve;\r\n      document.head.appendChild(scriptEl);\r\n    });\r\n\r\n  addScript(\"/source-map.js\").then(async () => {\r\n    window.sourceMap.SourceMapConsumer.initialize({\r\n      \"lib/mappings.wasm\": \"/mappings.wasm\",\r\n    });\r\n    try {\r\n      const consumer = await new window.sourceMap.SourceMapConsumer(\r\n        await fetch(\"/static/js/main.chunk.js.map\").then((res) => res.json())\r\n      );\r\n      translate = (str) => {\r\n        if (!str || !str.includes(\":\")) return str;\r\n\r\n        let [source, line, column] = str.split(/[ :]/);\r\n\r\n        ({ source, line, column } = consumer.originalPositionFor({\r\n          line: parseInt(line, 10),\r\n          column: parseInt(column, 10),\r\n        }));\r\n        return `${source} ${line}:${column}`;\r\n      };\r\n      // eslint-disable-next-line no-empty\r\n    } catch (e) {}\r\n  });\r\n}\r\n\r\nif (typeof window !== \"undefined\") window.addEventHandlers = {};\r\n\r\nexport default function addEventHandler(context, mapevents, name) {\r\n  const callbacks = {};\r\n  const callbacksprio = {};\r\n  const callbacksStack = {};\r\n  if (typeof mapevents === \"string\") {\r\n    name = mapevents;\r\n    mapevents = undefined;\r\n  }\r\n\r\n  callbacksStack.addEventHandlerInitiator = [\r\n    `${name} ${Math.random()}`,\r\n    getStackTrace(2),\r\n  ];\r\n\r\n  setTimeout(() => {\r\n    if (typeof window !== \"undefined\") {\r\n      Object.entries(callbacksStack).forEach(([key, value]) => {\r\n        callbacksStack[key] = value.map((item) => translate(item));\r\n      });\r\n\r\n      window.addEventHandlers[\r\n        callbacksStack.addEventHandlerInitiator[0]\r\n      ] = callbacksStack;\r\n    }\r\n  }, 1000);\r\n\r\n  context = context || {};\r\n\r\n  context.on = (event, callback, prio) => {\r\n    event = event instanceof Array ? event : [event];\r\n    event.forEach((event) => addEvent(event, callback, prio));\r\n  };\r\n\r\n  function addEvent(event, callback, prio) {\r\n    if (typeof callback === \"number\") {\r\n      const tmp = callback;\r\n      callback = prio;\r\n      prio = tmp;\r\n    }\r\n\r\n    if (!callback) return console.error(\"No callback\", getStackTrace(5));\r\n    if (typeof callback !== \"function\")\r\n      return console.error(\"Not a function\", getStackTrace(5), callback);\r\n\r\n    prio = prio || 0;\r\n\r\n    if (!callbacks[event]) {\r\n      callbacks[event] = [];\r\n      callbacksprio[event] = [];\r\n      callbacksStack[event] = [];\r\n    }\r\n\r\n    let pos = callbacks[event].length;\r\n    while (pos && callbacksprio[event][pos - 1] < prio) pos--;\r\n\r\n    callbacksprio[event].splice(pos, 0, prio);\r\n    callbacks[event].splice(pos, 0, callback);\r\n    callbacksStack[event].splice(pos, 0, getStackTrace(5));\r\n  }\r\n\r\n  context.off = (event, callback) => {\r\n    event = event instanceof Array ? event : [event];\r\n    event.forEach((event) => removeEvent(event, callback));\r\n  };\r\n\r\n  function removeEvent(event, callback) {\r\n    if (!callbacks[event]) {\r\n      console.log(\"Missing event\", event, callbacks);\r\n      return;\r\n    }\r\n    const pos = callbacks[event].indexOf(callback);\r\n    if (pos !== -1) {\r\n      callbacks[event].splice(pos, 1);\r\n      callbacksprio[event].splice(pos, 1);\r\n      callbacksStack[event].splice(pos, 1);\r\n    }\r\n  }\r\n\r\n  const getCallTrace = (event) => {\r\n    const callback = callbacks[event];\r\n    if (typeof window !== \"undefined\") {\r\n      console.log(\r\n        event,\r\n        \" getCallTrace\",\r\n        callback.length,\r\n        Object.keys(context)\r\n      );\r\n      callbacksStack[event].forEach((event) => {\r\n        console.log(event);\r\n      });\r\n    } else\r\n      console.log(\r\n        event,\r\n        \" getCallTrace\",\r\n        callback.length,\r\n        Object.keys(context),\r\n        callbacksStack[event]\r\n      );\r\n  };\r\n\r\n  const doEvent = function (event, data) {\r\n    if (event === \"getCallTrace\") return getCallTrace(data);\r\n    data = data || {};\r\n    const callback = callbacks[event];\r\n\r\n    if (!callback || !callback.length) return Promise.resolve(data);\r\n\r\n    return new Promise((resolve, reject) => {\r\n      const timer = setTimeout(() => {\r\n        console.log(\r\n          event,\r\n          \" Stopped at\",\r\n          pos,\r\n          callback.length,\r\n          Object.keys(context),\r\n          callbacksStack[event][pos - 1],\r\n          callbacksStack[event]\r\n        );\r\n      }, 5000);\r\n      let pos = 0;\r\n      let oldData = data;\r\n\r\n      function next(data) {\r\n        if (data instanceof Promise) {\r\n          data.then(next).catch(reject);\r\n          return;\r\n        }\r\n\r\n        if (data === \"{{{breakEvent}}}\") {\r\n          resolve(oldData);\r\n          return;\r\n        }\r\n\r\n        const skipNext = data === \"{{{skipNext}}}\";\r\n\r\n        data = skipNext || typeof data === \"undefined\" ? oldData : data;\r\n\r\n        if (skipNext) pos++;\r\n\r\n        if (pos >= callback.length) {\r\n          clearTimeout(timer);\r\n          resolve(data);\r\n          return;\r\n        }\r\n\r\n        oldData = data;\r\n        Promise.resolve(callback[pos++](data))\r\n          .then(next)\r\n          .catch(reject);\r\n      }\r\n      next(data);\r\n    });\r\n  };\r\n  context.event = doEvent;\r\n\r\n  if (mapevents)\r\n    mapevents.forEach((event) => {\r\n      context[event] = (data, defectiveCallback) => {\r\n        if (defectiveCallback) debugger;\r\n        return doEvent(event, data);\r\n      };\r\n    });\r\n\r\n  return context;\r\n};\r\n","export default (app) => {\r\n  const translations = {};\r\n  const lang = \"\";\r\n\r\n  app.utils = {\r\n    capFirst: function (text) {\r\n      if (!text) return \"\";\r\n      return text.substring(0, 1).toUpperCase() + text.substring(1);\r\n    },\r\n    contains: function (array1, array2) {\r\n      if (typeof array1 === \"string\") array1 = [array1];\r\n      if (typeof array2 === \"string\") array2 = [array2];\r\n\r\n      for (let i = 0; i < array1.length; i++)\r\n        if (array2.indexOf(array1[i]) !== -1) return true;\r\n\r\n      return false;\r\n    },\r\n    t: function (text) {\r\n      if (translations[lang] && translations[lang][text])\r\n        return translations[lang][text];\r\n      return text;\r\n    },\r\n    translate: function (text) {\r\n      return text.replace(/t\\('([^']+)'\\)/g, (str, p1, offset, s) => {\r\n        if (translations[lang] && translations[lang][p1])\r\n          return translations[lang][p1];\r\n        return p1;\r\n      });\r\n    },\r\n    insertValues: function (text, data) {\r\n      return text.replace(/{([a-z0-9_.]+)}/gi, (str, p1, offset, s) => {\r\n        return data[p1] ? data[p1] : `{${p1}}`;\r\n      });\r\n    },\r\n    clone: (obj) => {\r\n      try {\r\n        return JSON.parse(JSON.stringify(obj));\r\n      } catch (error) {\r\n        console.error(\"Clone error\", obj);\r\n        return {};\r\n      }\r\n    },\r\n    uuid: () => {\r\n      const S4 = () =>\r\n        // eslint-disable-next-line no-bitwise\r\n        (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\r\n\r\n      function guidGenerator() {\r\n        const buf = new Uint16Array(8);\r\n        window.crypto.getRandomValues(buf);\r\n        const S4 = function (num) {\r\n          let ret = num.toString(16);\r\n          while (ret.length < 4) {\r\n            ret = `0${ret}`;\r\n          }\r\n          return ret;\r\n        };\r\n        return (\r\n          S4(buf[0]) +\r\n          S4(buf[1]) +\r\n          S4(buf[2]) +\r\n          S4(buf[3]).substring(1) +\r\n          S4(buf[4]) +\r\n          S4(buf[5]) +\r\n          S4(buf[6]) +\r\n          S4(buf[7])\r\n        );\r\n      }\r\n      if (window.crypto && window.crypto.getRandomValues)\r\n        return guidGenerator();\r\n      return S4() + S4() + S4() + S4() + S4() + S4() + S4() + S4();\r\n    },\r\n  };\r\n\r\n  app.uuid = app.utils.uuid;\r\n};\r\n","// eslint-disable-next-line import/extensions\r\nimport indexScripts from \"../../../indexScripts\";\r\nimport contentType from \"../../../contentype.json\";\r\nimport addeventhandler from \"./eventhandler\";\r\nimport utils from \"./utils\";\r\nimport buildsettings from \"../../../settings.json\";\r\n\r\nconst settings = (window && window.___settings___) || buildsettings;\r\nconst app = { settings, contentType, addeventhandler };\r\n\r\naddeventhandler(app, \"app\");\r\nutils(app);\r\napp.uuid = app.utils.uuid;\r\nindexScripts(app);\r\napp.capFirst = app.utils.capFirst;\r\n\r\napp.on(\"init\", () => {\r\n  app.inited = true;\r\n});\r\n\r\nexport default () => app;\r\napp.event(\"init\").then(() => app.event(\"start\"));\r\n","import components from './core/components/client/index.js';\nimport connection from './core/connection/client/index.js';\nimport contentType from './core/contentType/client/index.js';\nimport core from './core/core/client/index.js';\nimport database from './core/database/client/index.js';\nimport file from './core/file/client/index.js';\nimport pwa from './core/pwa/client/index.js';\nimport router from './core/router/client/index.js';\nimport session from './core/session/client/index.js';\nexport default function(app) {\n  components(app);\n  connection(app);\n  contentType(app);\n  core(app);\n  database(app);\n  file(app);\n  pwa(app);\n  router(app);\n  session(app);\n}\n","export default function (app) {\r\n  let URL = app.settings.domain;\r\n  if (app.settings.native)\r\n    URL = app.settings.secure ? `wss://${URL}` : `ws://${URL}`;\r\n  else {\r\n    if (!URL) {\r\n      URL = window.location.href.replace(\"http://\", \"\");\r\n      URL = URL.substring(0, URL.indexOf(\"/\"));\r\n    }\r\n    URL = `${\r\n      window.location.href.indexOf(\"https://\") !== -1 ? \"wss\" : \"ws\"\r\n    }://${URL}`;\r\n  }\r\n\r\n  app.webSocket = new WebSocket(URL);\r\n  let { webSocket } = app;\r\n  const callbacks = {};\r\n  let isOnline = false;\r\n  let reconnect = false;\r\n\r\n  let closed = false;\r\n  let failCount = 13;\r\n  const log = (text) => {\r\n    if (isOnline) failCount = 0;\r\n    if (failCount++ < 10) console.log(text);\r\n  };\r\n\r\n  function openconnection() {\r\n    log(`openconnection ${URL}`);\r\n    webSocket = webSocket || new WebSocket(URL);\r\n    function connected() {\r\n      isOnline = true;\r\n      connection.event(\"connect\", { type: \"connect\" });\r\n      console.log(\"Connected\");\r\n      if (reconnect) window.location.reload();\r\n      if (app.settings.debug) reconnect = true;\r\n    }\r\n    if (webSocket.readyState === 1) connected();\r\n    webSocket.onopen = connected;\r\n    webSocket.onclose = function () {\r\n      log(`close ${URL}`);\r\n      webSocket = false;\r\n      isOnline = false;\r\n      if (!closed) setTimeout(openconnection, 1000);\r\n      connection.event(\"disconnect\", { type: \"close\" });\r\n    };\r\n    webSocket.onerror = function (error) {\r\n      log(`error ${URL}`);\r\n    };\r\n    webSocket.onmessage = function (message) {\r\n      const data = JSON.parse(message.data);\r\n      if (callbacks[data.callbackid]) {\r\n        try {\r\n          callbacks[data.callbackid](data);\r\n        } catch (e) {\r\n          log(\"err\", callbacks[data.callbackid], e);\r\n        }\r\n        delete callbacks[data.callbackid];\r\n      }\r\n      connection.event(data.type, data);\r\n    };\r\n  }\r\n\r\n  app.on(\"unmount\", () => {\r\n    closed = true;\r\n    webSocket.close();\r\n  });\r\n\r\n  setInterval(() => {\r\n    if (isOnline) webSocket.send(\"li\");\r\n  }, 15000);\r\n\r\n  const connection = app.addeventhandler(\r\n    { connected: () => isOnline },\r\n    [\"emit\", \"broadcast\", \"close\"],\r\n    \"connection\"\r\n  );\r\n\r\n  connection.on(\r\n    \"emit\",\r\n    (data) =>\r\n      new Promise((resolve, reject) => {\r\n        let counter = 0;\r\n        function send() {\r\n          if (webSocket.readyState > 0) {\r\n            if (msg.length > 64000) {\r\n              for (; msg.length > 64000; ) {\r\n                webSocket.send(msg.substring(0, 64000));\r\n                msg = msg.substring(64000);\r\n              }\r\n            }\r\n            webSocket.send(msg);\r\n            clearTimeout(data.timeout);\r\n          } else {\r\n            if (counter === 1 && callbacks[data.callbackid])\r\n              callbacks[data.callbackid](\r\n                Object.assign({}, data, { offline: true })\r\n              );\r\n            counter++;\r\n            if (counter !== 300) setTimeout(send, 200);\r\n            else {\r\n              callbacks[data.callbackid](\r\n                Object.assign({}, data, { timeout: true })\r\n              );\r\n              delete callbacks[data.callbackid];\r\n            }\r\n          }\r\n        }\r\n        if (!data.noCallback) {\r\n          data.callbackid = app.uuid();\r\n          callbacks[data.callbackid] = resolve;\r\n        } else resolve();\r\n        let msg = JSON.stringify(data);\r\n        send();\r\n      })\r\n  );\r\n\r\n  connection.on(\"broadcast\", (data) => {\r\n    data.broadcast = true;\r\n    return connection.emit(data);\r\n  });\r\n\r\n  connection.on(\"close\", () => {\r\n    webSocket.close();\r\n  });\r\n\r\n  app.connection = connection;\r\n\r\n  if (app.settings.waitOnConnect)\r\n    app.on(\r\n      \"loaded\",\r\n      1000,\r\n      () =>\r\n        new Promise((resolve) => {\r\n          const cont = () => {\r\n            resolve();\r\n            connection.off(\"connect\", cont);\r\n          };\r\n          if (isOnline) resolve();\r\n          else connection.on(\"connect\", cont);\r\n        })\r\n    );\r\n  openconnection();\r\n};\r\n","export default function (app) {\r\n  if (!app.t) app.t = (text) => text;\r\n\r\n  app.on(\"init\", -1000, () => {\r\n    app.capFirst = app.utils.capFirst;\r\n    app.uuid = app.utils.uuid;\r\n    app.clone = app.utils.clone;\r\n    init();\r\n  });\r\n\r\n  function init() {\r\n    if (!document.body) {\r\n      window.onload = init;\r\n      return;\r\n    }\r\n\r\n    if (app.settings.debug) console.log(app);\r\n\r\n    app.parseFilter = function (filter, getValue, path) {\r\n      if (!filter) return {};\r\n      function insertVal(val) {\r\n        return val.replace(/\\{([a-z_.]+)\\}/gim, (str, p1, offset, s) => {\r\n          return getValue(p1.replace(\"..\", path));\r\n        });\r\n      }\r\n      const parsedfilter = { $and: [] };\r\n\r\n      for (const item in filter) {\r\n        const oneFilter = {};\r\n        const oneFilterIn = filter[item].and;\r\n        for (const i in oneFilterIn)\r\n          oneFilter[insertVal(oneFilterIn[i][0])] = insertVal(\r\n            oneFilterIn[i][1]\r\n          );\r\n        parsedfilter.$and.push(oneFilter);\r\n      }\r\n      return parsedfilter;\r\n    };\r\n\r\n    app.stateStore = (() => {\r\n      const states = {};\r\n      return {\r\n        set: function (obj, state, type) {\r\n          if (type === \"disabled\") return;\r\n\r\n          const url = window.location.pathname;\r\n          const id = app.domPathId(obj.current);\r\n          if (type === \"independent\") {\r\n            states[id] = state;\r\n            return;\r\n          }\r\n\r\n          if (!states[url]) states[url] = {};\r\n\r\n          states[url][id] = state;\r\n        },\r\n        get: function (obj, type) {\r\n          if (type === \"disabled\") return null;\r\n\r\n          const id = app.domPathId(obj.current);\r\n          if (type === \"independent\") return states[id];\r\n\r\n          const url = window.location.pathname;\r\n\r\n          if (!states[url] || states[url][id] === undefined) return null;\r\n          return states[url][id];\r\n        },\r\n      };\r\n    })();\r\n\r\n    app.domPathId = function (element) {\r\n      if (!element) return null;\r\n      const path = [];\r\n      for (let i = 0; i < 200 && element.parentElement; i++) {\r\n        for (let item = 0; item < element.parentElement.children.length; item++)\r\n          if (element.parentElement.children[item] === element)\r\n            path.unshift(`${item}.${element.tagName}`);\r\n        element = element.parentElement;\r\n      }\r\n      return path.join(\".\");\r\n    };\r\n\r\n    document.addEventListener(\r\n      \"keydown\",\r\n      (e) => {\r\n        if (\r\n          e.keyCode === 83 &&\r\n          (navigator.platform.match(\"Mac\") ? e.metaKey : e.ctrlKey)\r\n        ) {\r\n          e.preventDefault();\r\n          app.event(\"keypressSaveEvent\");\r\n        }\r\n      },\r\n      false\r\n    );\r\n\r\n    app.event(\"loaded\");\r\n  }\r\n};\r\n","export default function (app) {\r\n  app.storage = app.addeventhandler(\r\n    {},\r\n    [\r\n      \"getItem\",\r\n      \"setItem\",\r\n      \"removeItem\",\r\n      \"getItemMem\",\r\n      \"setItemMem\",\r\n      \"removeItemMem\",\r\n      \"getFile\",\r\n      \"setFile\",\r\n      \"removeFile\",\r\n      \"setItemDebounce\",\r\n    ],\r\n    \"storage\"\r\n  );\r\n\r\n  app.storage.on(\"getItem\", (data) => {\r\n    const val = window.localStorage.getItem(data.id);\r\n    return Object.assign(data, {\r\n      value: val && (val[0] === \"[\" || val[0] === \"{\") ? JSON.parse(val) : val,\r\n    });\r\n  });\r\n\r\n  app.storage.on(\"setItem\", ({ id, value }) => {\r\n    window.localStorage.setItem(\r\n      id,\r\n      typeof value === \"string\" ? value : JSON.stringify(value)\r\n    );\r\n  });\r\n\r\n  const timer = {};\r\n  app.storage.on(\"setItemDebounce\", ({ id, value, delay }) => {\r\n    clearTimeout(timer[id]);\r\n    timer[id] = setTimeout(() => {\r\n      delete timer[id];\r\n      app.storage.setItem({ id, value });\r\n    }, delay);\r\n  });\r\n\r\n  app.storage.on(\"removeItem\", ({ id }) => {\r\n    window.localStorage.removeItem(id);\r\n  });\r\n\r\n  const memstore = {};\r\n\r\n  app.storage.on(\"getItemMem\", (data) =>\r\n    Object.assign(data, { value: memstore[data.id] })\r\n  );\r\n\r\n  app.storage.on(\"setItemMem\", ({ id, value }) => {\r\n    memstore[id] = value;\r\n  });\r\n\r\n  app.storage.on(\"removeItemMem\", ({ id }) => {\r\n    delete memstore[id];\r\n  });\r\n\r\n  app.storage.on(\"getFile\", (data) => {});\r\n\r\n  app.storage.on(\"setFile\", ({ id, value }) => {});\r\n\r\n  app.storage.on(\"removeFile\", ({ id }) => {});\r\n};\r\n","export default (app) => {\r\n  if (\"serviceWorker\" in navigator)\r\n    window.addEventListener(\"load\", () => {\r\n      navigator.serviceWorker.register(\"/nystem-service-worker.js\").then(\r\n        (registration) => {\r\n          console.log(\"ServiceWorker registration successful\");\r\n          registration.update();\r\n        },\r\n        (err) => {\r\n          console.log(\"ServiceWorker registration failed: \", err);\r\n        }\r\n      );\r\n    });\r\n\r\n  let deferredPrompt = false;\r\n\r\n  window.addEventListener(\"beforeinstallprompt\", (e) => {\r\n    deferredPrompt = e;\r\n  });\r\n\r\n  app.on(\"canRunAppInstall\", () => ({\r\n    installable: !!deferredPrompt,\r\n  }));\r\n\r\n  app.on(\"runAppInstall\", () => {\r\n    if (!deferredPrompt) return;\r\n\r\n    deferredPrompt.prompt();\r\n\r\n    deferredPrompt.userChoice.then((choiceResult) => {\r\n      if (choiceResult.outcome === \"accepted\") {\r\n        console.log(\"User accepted the install prompt\");\r\n      } else {\r\n        console.log(\"User dismissed the install prompt\");\r\n      }\r\n    });\r\n  });\r\n\r\n  const regExpVersion = /main\\.([0-9a-f]+)\\.chunk.js/im;\r\n  app.on(\"getAppVersion\", () => ({\r\n    appVersion: (regExpVersion.exec(\r\n      [...document.body.children]\r\n        .map((child) => child.src)\r\n        .find((src) => regExpVersion.test(src))\r\n    ) || [])[1],\r\n  }));\r\n\r\n  app.on(\"clearCacheAndReload\", () => {\r\n    window.caches.delete(\"nystem\");\r\n    window.localStorage.clear();\r\n    window.location.reload();\r\n  });\r\n\r\n  app.connection.on(\"connect\", () => {\r\n    app.connection\r\n      .emit({ type: \"getAppVersion\" })\r\n      .then(async ({ appVersion }) => {\r\n        const { appVersion: clientAppVersion } = await app.event(\r\n          \"getAppVersion\"\r\n        );\r\n        console.log(\"At version\", { clientAppVersion, appVersion });\r\n        if (\r\n          !clientAppVersion ||\r\n          !appVersion ||\r\n          clientAppVersion === appVersion\r\n        ) {\r\n          window.localStorage.setItem(\"havereloaded\", \"false\");\r\n          return;\r\n        }\r\n\r\n        if (window.localStorage.getItem(\"havereloaded\") === \"true\") return;\r\n\r\n        window.localStorage.setItem(\"havereloaded\", \"true\");\r\n\r\n        window.caches.delete(\"nystem\").then(() => {\r\n          window.location.reload();\r\n        });\r\n      });\r\n  });\r\n  setTimeout(() => {\r\n    window.localStorage.setItem(\"havereloaded\", \"false\");\r\n  }, 10000);\r\n};\r\n","export default function(app) {\r\n  /* const pathRegexp = function(path, keys, sensitive, strict) {\r\n    if (Object.prototype.toString.call(path) === \"[object RegExp]\") return path;\r\n    if (Array.isArray(path)) path = \"(\" + path.join(\"|\") + \")\";\r\n    path = path\r\n      .concat(strict ? \"\" : \"/?\")\r\n      .replace(/\\/\\(/g, \"(?:/\")\r\n      .replace(/(\\/)?(\\.)?:(\\w+)(?:(\\(.*?\\)))?(\\?)?(\\*)?/g, function(\r\n        _,\r\n        slash,\r\n        format,\r\n        key,\r\n        capture,\r\n        optional,\r\n        star\r\n      ) {\r\n        keys.push({ name: key, optional: !!optional });\r\n        slash = slash || \"\";\r\n        return (\r\n          \"\" +\r\n          (optional ? \"\" : slash) +\r\n          \"(?:\" +\r\n          (optional ? slash : \"\") +\r\n          (format || \"\") +\r\n          (capture || ((format && \"([^/.]+?)\") || \"([^/]+?)\")) +\r\n          \")\" +\r\n          (optional || \"\") +\r\n          (star ? \"(/*)?\" : \"\")\r\n        );\r\n      })\r\n      .replace(/([/.])/g, \"\\\\$1\")\r\n      .replace(/\\* /g, \"(.*)\"); Change * /\r\n    return new RegExp(\"^\" + path + \"$\", sensitive ? \"\" : \"i\");\r\n}; */\r\n\r\n  app.parseURL = function(url) {\r\n    url = url.replace(/^[^/]+:\\/\\/[^/]+/gi, \"\");\r\n    const out = {};\r\n    const hashtag = url.split(\"#\");\r\n    let query = hashtag[0].split(/\\/?\\?/);\r\n    out.path = query[0].split(\"/\");\r\n    out.domain = out.path.shift();\r\n    out.query = {};\r\n    out.hashtag = hashtag[1];\r\n    query = query[1] ? query[1].split(\"&\") : false;\r\n    for (const i in query) {\r\n      const param = query[i].split(\"=\");\r\n      out.query[param[0]] = param[1];\r\n    }\r\n    return out;\r\n  };\r\n\r\n  /* app.on(\"loaded\", () => {\r\n    if (app.settings.extension) {\r\n      const to = \"/\";\r\n      if (\r\n        window.localStorage[\"lastpos\"] &&\r\n        window.localStorage[\"lastpos\"] !== \"/index.html\"\r\n      )\r\n        to = window.localStorage[\"lastpos\"];\r\n      window.history.pushState({}, \"Site\", to);\r\n      app.router.setState();\r\n    }\r\n  }); */\r\n};\r\n","import sessionM from \"./session\";\r\n\r\nexport default app => {\r\n  sessionM(app);\r\n\r\n  const addContents = token => ({\r\n    method: \"POST\",\r\n    body: JSON.stringify({ token })\r\n  });\r\n\r\n  app.on(\"login\", -100, ({ token }) => {\r\n    if (!token) return;\r\n    fetch(\"/login\", addContents(token));\r\n  });\r\n\r\n  app.on(\"logout\", -100, ({ token }) => {\r\n    if (!token) return;\r\n    fetch(\"/logout\", addContents(token));\r\n  });\r\n};\r\n"],"sourceRoot":""}