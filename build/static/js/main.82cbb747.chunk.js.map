{"version":3,"sources":["core/bootstrap/component/bootstrap/dropdown.js","core/bootstrap/component/bootstrap/panel.js","core/bootstrap/component/bootstrap/panelOpenByPath.js","core/bootstrap/component/panel.js","core/bootstrap/component/bootstrap/panelToggle.js","core/bootstrap/component/bootstrap/tab.js","core/bootstrap/component/bootstrap/verticalTab.js","core/bootstrap/component/bootstrap/view.js","core/bootstrap/component/navbar.js","core/bootstrap/component/viewPanel/view.js","core/components/component/boolean/button.js","core/components/component/boolean/exposedField.js","core/components/component/boolean/validate.js","core/components/component/boolean/input.js","core/components/component/boolean/list.js","core/components/component/boolean/vibrate.js","core/components/component/boolean/view.js","core/components/component/conditional/userRole.js","core/components/component/conditional/view.js","core/components/component/conditional/viewAndOr.js","core/components/component/dragAndDrop/myDnd.js","core/components/component/dragAndDrop/context.js","core/components/component/dragAndDrop/list.js","core/components/component/dragAndDrop/handle.js","core/components/component/dragAndDrop/view.js","core/components/component/dropdown/input.js","core/components/component/dropdown/labelView.js","core/components/component/dropdown/view.js","core/components/component/email/exposedField.js","core/components/component/email/validate.js","core/components/component/email/input.js","core/components/component/email/inputNoValidation.js","core/components/component/email/link.js","core/components/component/email/mailto.js","core/components/component/email/sortBy.js","core/components/component/email/verifiedInput.js","core/components/component/email/view.js","core/components/component/flatgroup/input.js","core/components/component/float/exposedField.js","core/components/component/float/input.js","core/components/component/float/link.js","core/components/component/float/sortBy.js","core/components/component/float/view.js","core/components/component/group/input.js","core/components/component/group/view.js","core/components/component/int/exposedField.js","core/components/component/int/validate.js","core/components/component/int/input.js","core/components/component/int/link.js","core/components/component/int/sortBy.js","core/components/component/int/view.js","core/components/component/matrix/input.js","core/components/component/matrix/inputlist.js","core/components/component/multigroup/input.js","core/components/component/multigroup/oneInput.js","core/components/component/multigroup/oneView.js","core/components/component/multigroup/sortBy.js","core/components/component/multigroup/view.js","core/components/component/multilinetext/fields.js","core/components/component/multilinetext/validate.js","core/components/component/multilinetext/input.js","core/components/component/multilinetext/inputlist.js","core/components/component/multilinetext/list.js","core/components/component/multilinetext/view.js","core/components/component/reference/dropdown.js","core/components/component/reference/dropdownFromField.js","core/components/component/reference/exposedField.js","core/components/component/reference/first.js","core/components/component/reference/input.js","core/components/component/reference/select.js","module/nystemServer/component/reference/sortable.js","core/components/component/reference/sortBy.js","core/components/component/reference/validate.js","core/components/component/reference/view.js","core/components/component/select/button.js","core/components/component/select/exposedField.js","core/components/component/select/validate.js","core/components/component/select/input.js","core/components/component/select/sortBy.js","core/components/component/select/view.js","core/components/component/slider/input.js","core/components/component/slider/link.js","core/components/component/slider/view.js","core/components/component/text/exposedField.js","core/components/component/text/validate.js","core/components/component/text/input.js","core/components/component/text/link.js","core/components/component/text/sortBy.js","core/components/component/text/view.js","core/components/component/textarea/input.js","core/components/component/textarea/link.js","core/components/component/textarea/sortBy.js","core/components/component/textarea/view.js","core/components/component/viewButton/autoSave.js","core/components/component/viewButton/back.js","core/components/component/viewButton/eventEmitter.js","core/components/component/viewButton/input.js","core/components/component/viewButton/reference.js","core/components/component/viewButton/view.js","core/components/component/viewInView/empty.js","core/components/component/viewInView/setValue.js","core/components/component/viewInView/view.js","core/components/component/viewLink/button.js","core/components/component/viewLink/dynamicFields.js","core/components/component/viewLink/dynamicLink.js","core/components/component/viewLink/external.js","core/components/component/viewLink/fields.js","core/components/component/viewLink/link.js","core/components/component/viewLink/view.js","core/components/component/viewList/emptySearchresult.js","core/components/component/viewList/listStat.js","core/components/component/viewList/pager.js","core/components/component/viewList/render.js","core/components/component/viewList/search.js","core/components/component/viewList/view.js","core/components/component/viewText/break.js","core/components/component/viewText/token.js","core/components/component/viewText/tokenFallbackNew.js","core/components/component/viewText/view.js","core/connection/component/connection/cssclass.js","core/connection/component/connection/view.js","core/connection/component/offline.js","core/contentType/component/contentType/context.js","core/contentType/component/contentType/render.js","core/contentType/component/contentType/view.js","core/contentType/component/useValidator.js","module/nystemServer/component/button.js","core/core/component/errorManager.js","core/core/component/errorMsg.js","module/nystemServer/component/input.js","module/nystemServer/component/inputWrapper.js","core/core/component/label.js","core/core/component/loading.js","core/core/component/render.js","core/core/component/useEvent.js","core/core/component/viewSmallComponent/errorMsg.js","core/core/component/wrapper.js","core/database/component/database/addToCache.js","core/database/component/database/baseViewSearch.js","core/database/component/database/get.js","core/database/component/database/missing.js","core/database/component/database/oneSearch.js","core/database/component/database/search.js","core/database/component/database/searchContext.js","core/database/component/database/searchContextProvider.js","core/database/component/database/showMoreButton.js","core/database/component/database/view.js","core/date/component/date/exposedField.js","core/date/component/date/exposedYearMonth.js","core/date/component/date/validate.js","core/date/component/date/input.js","core/date/component/date/inputDate.js","core/date/component/date/inputTime.js","core/date/component/date/sortBy.js","core/date/component/date/view.js","core/file/component/image.js","core/file/component/viewImage/view.js","core/router/component/inserter.js","core/router/component/link.js","core/router/component/router/backHandler.js","core/router/component/router/history.js","core/router/component/router/pageNotFound.js","core/router/component/router/scrollpos.js","core/router/component/router/state.js","core/router/component/router/view.js","core/router/component/router/viewByHistory.js","core/session/component/password/validate.js","core/session/component/password/confirmInput.js","core/session/component/password/input.js","core/session/component/password/oldpassword.js","core/session/component/password/view.js","core/session/component/role/view.js","core/session/component/role.js","core/session/component/session/logout.js","core/session/component/session/noRole.js","core/session/component/session/role.js","core/session/component/session/user.js","core/session/component/session/view.js","core/session/component/viewButton/login.js","core/style/component/icon/view.js","icons.js","iconsViewPorts.js","core/style/component/icon.js","core/style/component/style/eventOutside.js","core/style/component/style/onOverHandle.js","core/style/component/style/onOver.js","core/style/component/style/view.js","core/style/component/viewportContext.js","core/style/component/viewport.js","module/chromextension/component/extension/backgroundIndex.js","module/chromextension/component/extension/icon.js","module/chromextension/component/extension/popupIndex.js","module/nystemServer/component/bootstrap/computedClass.js","module/nystemServer/component/database/filterResult.js","module/nystemServer/component/index.js","module/nystemServer/component/overlay/accessible.js","module/nystemServer/component/overlay/close.js","module/nystemServer/component/overlay/closeButton.js","module/nystemServer/component/overlay/context.js","module/nystemServer/component/overlay/index.js","module/nystemServer/component/overlay/menu.js","module/nystemServer/component/overlay/open.js","module/nystemServer/component/overlay/overlay.js","module/nystemServer/component/overlay/view.js","module/nystemServer/component/part/menu.js","module/nystemServer/component/reference/dynamicForm.js","module/nystemServer/component/viewButton/mirrorSave.js","module/nystemServer/component/viewInView/setBaseViewValue.js","module/nystemServer/component/viewText/titlePopup.js","module/service/component/textarea/log.js","core/components/client/index.js","core/contentType/client/index.js","core/database/client/memdb/search.js","core/database/client/memdb/index.js","core/database/client/memdb/delete.js","core/database/client/memdb/find.js","core/database/client/memdb/get.js","core/database/client/memdb/init.js","core/database/client/memdb/save.js","core/database/client/index.js","core/database/client/connection.js","core/database/client/updates.js","core/database/client/debug.js","core/database/client/cache.js","core/database/client/storage.js","core/database/client/saveQueue.js","core/session/client/session.js","core/core/client/eventhandler.js","core/core/client/utils.js","core/core/client/nystem.js","indexScripts.js","core/connection/client/index.js","core/core/client/index.js","core/file/client/index.js","core/router/client/index.js","core/session/client/index.js"],"names":["BootstrapDropdown","React","Component","constructor","props","super","this","state","expanded","toggleExpand","setState","render","self","headerProps","children","headerChildren","Array","map","typeClass","type","menuItem","item","className","onClick","role","slice","createContext","BootstrapPanel","model","path","header","items","body","BootstrapPanelOpenByPath","value","view","pathname","useLocation","match","RegExp","val","replace","str","p1","offset","s","test","params","getValue","forceExpanded","types","default","wrapper","primary","defaultWithoutPadding","compact","PanelContext","Panel","setSexpanded","useState","panelElement","useRef","useEffect","storedState","app","stateStore","get","isExpanded","ref","Provider","doFunction","set","tabIndex","BootstrapPanelToggle","useContext","icon","BootstrapTab","sideways","position","push","renderAs","BootstrapVerticalTab","join","index","key","BootstrapView","row","Navbar","fixed","size","color","setExpanded","aria-hidden","ViewPanelView","onClickExpand","classNameHead","panelProps","BooleanButton","setValue","btnType","falseBtnType","text","falseText","BooleanExposedField","setSearch","search","context","filter","$and","obj","__id","id","event","uuid","handleClick","setVal","options","placeholder","_id","contextTypes","PropTypes","object","mandatory","text_mandatory","BooleanInput","error","setValidated","UseValidator","validate","e","checked","onChange","disabled","BooleanList","editTable","list","database","contentType","saveField","preventDefault","BooleanVibrate","UNSAFE_componentWillReceiveProps","nextProps","vibrate","componentDidMount","navigator","atState","pattern","JSON","parse","BooleanView","ConditionalUserRole","visible","session","user","contains","array1","array2","i","length","indexOf","createItem","isset","ConditionalView","useCallback","condition","reverse","substring","testCondition","ConditionalViewAndOr","on","tempValue","changeTimer","clearTimeout","setTimeout","setValueView","inThis","valid","refs","testOneCondition","sum","sumValidator","split","parseInt","componentWillUnmount","off","MyDragAndDropContext","DragDropContext","onDragEnd","addeventhandler","parents","styleDraggableItem","boxSizing","opacity","pointerEvents","transform","transition","zIndex","offsetStyle","Droppable","droppableId","isDropDisabled","style","setStyle","innerRef","styleRef","current","provided","droppableProps","paddingBottom","window","getComputedStyle","stop","result","getBoundingClientRect","x","y","pos","top","bottom","left","right","destination","includes","move","over","height","Draggable","draggableId","breakpoint","currentStyle","offsetStyleSet","start","setStyles","element","styles","Object","entries","forEach","prop","display","draggableProps","dragHandleProps","onMouseDown","baseProps","stringify","movingState","clientX","clientY","clonedElement","cloneNode","mouseMove","document","appendChild","width","then","query","mouseUp","removeEventListener","removeChild","combine","mode","reason","source","data","undefined","addEventListener","onDragStart","draggable","DragAndDropContext","modifiers","checkModifiers","shiftKey","metaKey","ctrlKey","altKey","console","log","DragAndDropListContext","DragAndDropList","myDnd","reactBeautifulDnd","ids","getId","field","valueType","valuePath","updated","splice","onDragEndAddValue","snapshot","replaceInModel","viewFormat","fn","DragAndDropHandle","DragAndDropView","DropdownInput","option","namefield","sourceParser","parsedSource","searchProp","handleChanges","handleChange","errormsg","validated","input","focus","concat","t","maxLength","selected","DropdownLabelView","DropdownView","directData","loadVal","href","EmailExposedField","EmailInput","clearButton","classNameInput","componentClassName","onBlur","EmailInputNoValidation","func","bind","add","lowerCase","toLowerCase","setval","EmailLink","EmailMailto","EmailSortBy","EmailVerifiedInput","EmailView","FlatgroupInput","add2id","groupVal","startWith","getGroupVal","createElement","components","capFirst","FloatExposedField","onUpdate","update","classNameBase","updateCounter","modelId","from","to","delayTimer","isMounted","offUpdate","FloatInput","parts","IntLink","IntSortBy","outputFloat","tofixed","parseFloat","toFixed","settings","lang","FloatView","GroupInput","GroupView","IntExposedField","IntInput","inputClassName","classNameLabel","IntView","MatrixInput","limit","rowLabel","mapField","label","atRow","newVal","len","rowIndex","MatrixInputlist","oneVal","handleKeyChange","MultigroupInput","setIds","expandable","utils","MultigroupOneInput","itemExpanded","last","info","itemExpandable","MultigroupOneView","rowClassName","MultigroupSortBy","isSortBy","handleSort","target","getAttribute","parentNode","sortBy","MultigroupView","onClose","addItem","MultilinetextFields","rel","MultilinetextInput","itemValue","MultilinetextInputlist","MultilinetextList","MultilinetextView","ReferenceDropdown","loadOption","autoUpdate","parseFilter","count","offline","connection","optionData","ReferenceDropdownFromField","baseView","fromField","open","inside","format","openView","ReferenceExposedField","clone","textField","ReferenceFirst","renderFormat","itemClassName","onReference","Input","selectAllOnFocus","onFocus","inputEl","inFocus","setInFocus","ev","select","InlineAdd","isAdding","setIsAdding","inlineAdd","onSave","close","ReferenceInput","searchVal","setSearchVal","sortby","setResult","$all","useSearch","addModel","addValue","remove","removeModel","removeValue","clicked","itemsSelect","addable","renderFormatSelect","ReferenceSelect","setOption","ReferenceSortable","localValue","save","componentWillReceiveProps","onDelete","addField","hashtag","addTransform","fieldBase","out","insertValues","noForm","onMissing","fieldId","onAdd","ReferenceSortBy","ReferenceView","SelectButton","trueOnState","trueState","falseState","falseOnState","SelectExposedField","setClassName","timer","setTimer","setFilter","DatabaseSearchContext","renderTypes","dropdown","button","checkbox","inline","SelectInput","useMemo","normalizeOption","shift","noWrapper","SelectSortBy","SelectView","fallback","SliderInput","min","absolute","max","precision","SliderLink","SliderView","TextExposedField","active","history","useHistory","createRef","location","useQueryStore","saveValue","ClearButton","forwardRef","contents","TextLink","toFormat","addToPath","TextSortBy","sortbyId","TextView","translate","TextareaInput","TextareaLink","TextareaSortBy","TextareaView","ViewButtonAutoSave","saveIds","saveDelay","saveToDb","async","errors","reduce","res","fields","withRouter","go","ViewButtonEventEmitter","buttonStates","confirm","saving","success","setError","setButton","savedTimer","setSavedTimer","activeKeySaveView","setActiveKeySaveView","sendEvent","emit","subEvent","redirectToPath","router","click","handleSubmit","debug","handleKeySave","inactivateKeySaveView","activateKeySaveView","saveOnKey","baseButtonStates","deleted","saved","noRedirect","redirectURL","sendOnly","delete","ViewButtonReference","btnSize","ViewButtonView","ViewInViewEmpty","viewId","ViewInViewSetValue","insertVal","addid","ViewInViewView","ViewLinkButton","renderType","title","ViewLinkDynamicFields","exact","ViewLinkDynamicLink","ViewLinkExternal","ViewLinkFields","toView","addId","ViewLinkLink","blank","ViewLinkView","Link","ViewListEmptySearchresult","searchText","find","inverse","ViewListListStat","show","searchTotal","total","ViewListPager","prev","next","hasPrev","hasNext","ViewListRender","itemRenderAs","ViewListSearch","ViewListView","emptyFields","headerFields","ViewTextBreak","ViewTextToken","ViewTextTokenFallbackNew","name","ViewTextView","ConnectionCssclass","connected","connectionClass","onlineClass","offlineClass","space","ConnectionView","setConnectedState","Offline","ContentTypeContext","ViewContextProvider","ContentTypeRender","componentName","component","category","focused","useValue","propvalue","noAutoUpdate","loading","first","DatabaseGet","viewValue","setViewValue","reload","firstData","viewValueRef","diff","getDiff","applyDiff","at","setValueAtPath","oldValue","ContentTypeView","addForm","itemFrom","itemTo","viewModel","events","populatedViews","views","base","keys","toUpperCase","onSubmit","isValidated","validator","Promise","resolve","secondary","danger","warning","primaryDisabled","secondaryDisabled","dangerDisabled","warningDisabled","infoDisabled","errorDisabled","defaultDisabled","sizes","xs","sm","lg","xl","Button","ErrorManager","disconnectEvent","errorEvent","connectEvent","url","line","errorTimer","errorReload","ErrorMsg","dangerouslySetInnerHTML","__html","byType","password","parentRef","localRef","elementProps","accessibilityLabel","accessible","accessibilityTraits","InputWrapper","pClassName","inputWidth","floatlabel","htmlFor","errorMsg","nolabel","Label","Loading","inDelay","Render","UseEvent","ViewSmallComponentErrorMsg","errorSetter","tags","tag","h1","h2","h3","h4","DatabaseAddToCache","addMedia","doSearchDebounce","addReferencesToCache","DatabaseBaseViewSearch","updateSearch","db","doGet","DatabaseMissing","dataMissing","isRequired","bool","DatabaseOneSearch","inSearch","searchString","setSearchState","setLoading","DatabaseSearch","reversesortby","subView","iiid","oneFilter","oneFilterIn","and","updateFilter","DatabaseSearchContextProvider","searchResult","doSearch","getSearch","DatabaseShowMoreButton","amount","DatabaseView","DateExposedField","DateExposedYearMonth","years","thisYear","Date","getFullYear","fromYear","toString","months","getTime","year","moment","month","getDate","daysInMonth","modelYear","modelMonth","labelWidth","monthSelector","DateInput","dateType","validateAndSet","DateInputDate","inputVal","setInputVal","setFromPicker","formVal","getMoment","valueOf","Pikaday","onSelect","firstDay","DateInputTime","datePart","now","part","parseVal","DateSortBy","dateTimeFormats","dateLong","timeLong","dateTimeLong","dateTimeNoYear","dateTimeNoYearDay","dateNoYearDay","timeDay","day","DateView","dateFormat","relative","hourInMs","startOf","formatDate","fromNow","setInterval","clearInterval","Image","alt","ViewImageView","src","filename","Inserter","exclude","propMatch","toClassString","RouterBackHandler","routerHistory","atNew","found","rest","is404","setIs404","parentElement","nodeName","positions","setPos","documentElement","scrollTop","RouterScrollpos","RouterState","getPath","storage","getItem","redirect","nextContext","setItem","RouterView","RouterViewByHistory","itemsByPosition","paths","historyPos","sort","a","b","PasswordConfirmInput","value1","setValue1","value2","setValue2","svalue","autoComplete","PasswordInput","PasswordOldpassword","PasswordView","RoleView","sessionChange","Role","isVisible","logout","hasNoRole","SessionNoRole","setVisible","check","SessionRole","userrole","updateVisibility","reqRole","userRole","SessionUser","userid","toformat","SessionView","saveButton","setSaveButton","login","IconView","deg","d","points","fill-rule","stroke","strokeWidth","strokeLinecap","strokeLinejoin","Icon","xmlns","viewBox","iconsViewPorts","rotate","icons","StyleEventOutside","classNameInner","innerClicked","HideOnNotOverContext","StyleOnOverHandle","setOver","onMouseOver","onMouseOut","StyleOnOver","classNameOut","classNameOver","StyleView","ViewportContext","ViewportContextProvider","breakpoints","md","Viewport","comp","density","devicePixelRatio","innerWidth","innerHeight","handleResize","Math","clientWidth","clientHeight","ExtensionBackgroundIndex","updateTabs","tab","siteScript","tabs","updateTimer","addToEventLog","updateTabSettings","recording","eventLog","tabId","extensionEvent","doEvent","chrome","tabLoadCallback","status","redirected","tabLoading","callback","doingEvent","sendMessage","connect","saveTab","pathErrorClick","runtime","onMessage","addListener","request","sender","sendResponse","tabOptions","response","newPath","listenTo","forceUpdate","tabField","changed","newUrl","webNavigation","onCompleted","frameId","onBeforeNavigate","onCreated","onUpdated","changeInfo","onRemoved","contextMenus","create","onclick","contexts","extensionIcon","browserAction","canvas","setIcon","setBadgeBackgroundColor","setBadgeText","canvasContext","getContext","imageData","getImageData","ExtensionPopupIndex","domain","BootstrapComputedClass","DatabaseFilterResult","filterSearch","definition","viewFields","Index","OverlayAccessible","overlayEvent","accessibleId","_handleScreenReaderToggled","isEnabled","screenReaderEnabled","getChildContext","overlayId","string","childContextTypes","OverlayClose","handleEvent","do","OverlayCloseButton","toPath","OverlayContextObject","OverlayContext","Consumer","OverlayContextProvider","atPath","OverlayIndex","setOpenState","child","OverlayMenu","OverlayOpen","OverlayOverlay","mounted","findPosition","offsetLeft","offsetTop","offsetParent","getScroll","pageYOffset","pageXOffset","r","scrollLeft","modal","shouldComponentUpdate","nextState","OverlayView","link","NavbarLink","PartMenu","ReferenceDynamicForm","require","dynamicForm","generate","transformContentType","ViewButtonMirrorSave","oldVal","saveOn","saveVals","ViewInViewSetBaseViewValue","toField","Portal","setElement","createPortal","MouseOver","isOver","setIsOver","delay","ViewTextTitlePopup","popup","overPos","TextareaLog","setLog","parseLog","colors","fullLog","updateLog","wrapperClass","0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","ReactDOM","viewCreatorFields","deepCopy","dynamicFields","fullId","substr","flattenFields","fullPath","flatten","subFields","populateViews","mapFn","byField","curr","sortByFunc","array","sortBys","sortFuncs","sortFuncInt","sortFuncText","collection","fieldByType","field2IdType","extends","_crdate","dbArray","addFields2All","searchFor","oneSearchField","oneSearchValue","oneField","getFilter","searchField","searchValue","tmp","getFilterArray","createRegExp","expression","setSearchDefaults","thisItem","matchVal","filterResult","assign","oldData","dbIndex","deleteM","testIfSet","findM","getM","initM","saveM","searchM","machinename","send","action","inCache","updates","connectionM","updateGet","timer03","timer20","timeoutTimes","updateFrequency","updateEvent","onData","callbackId","delItem","values","_chdate","date","updatesM","debugM","memdbM","noClientCache","insertItem","chdate","searchCache","allInCache","cacheM","setItemDebounce","storageM","storageId","saveQueue","saveQueueM","all","contentTypes","init","clearCache","userContentType","sessionKey","autoLoginUser","sessionid","loginEvent","removeItem","noCallback","userStore","getStackTrace","Error","captureStackTrace","stack","column","exec","host","head","some","scriptEl","setAttribute","onload","addScript","sourceMap","SourceMapConsumer","initialize","consumer","fetch","json","originalPositionFor","addEventHandler","mapevents","callbacks","callbacksprio","callbacksStack","addEventHandlerInitiator","random","addEventHandlers","prio","addEvent","removeEvent","getCallTrace","reject","catch","skipNext","defectiveCallback","___settings___","buildsettings","translations","S4","crypto","getRandomValues","buf","Uint16Array","num","ret","guidGenerator","insertComponent","domSelect","querySelectorAll","insertType","into","insertBefore","firstChild","noBaseDiv","reactBaseComponent","unmountComponentAtNode","URL","native","secure","webSocket","WebSocket","isOnline","reconnect","closed","failCount","counter","callbackid","msg","readyState","timeout","broadcast","waitOnConnect","cont","openconnection","onopen","onclose","onerror","onmessage","message","parsedfilter","states","domPathId","unshift","tagName","keyCode","platform","core","localStorage","memstore","file","parseURL","param","sessionM","addContents","token","method","inited"],"mappings":"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CJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,MACJC,GAAI,QACJC,GAAI,SACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACL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","file":"static/js/main.82cbb747.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Button } from \"nystem-components\";\r\n\r\nclass BootstrapDropdown extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      expanded: this.props.expanded\r\n    };\r\n  }\r\n  toggleExpand() {\r\n    this.setState({\r\n      expanded: !this.state.expanded\r\n    });\r\n  }\r\n  render() {\r\n    function headerContent() {\r\n      return <div />;\r\n    }\r\n    const self = this;\r\n    const headerProps = this.props.children[0].props;\r\n    const headerChildren =\r\n      headerProps.children instanceof Array\r\n        ? headerProps.children.map(headerContent)\r\n        : headerProps.children;\r\n    let typeClass = this.props.type ? this.props.type : \"\";\r\n    if (!headerProps) return null;\r\n    function menuItem(item) {\r\n      return <li>{item}</li>;\r\n    }\r\n    function bodyContent() {\r\n      if (self.state.expanded)\r\n        return (\r\n          <ul className=\"dropdown-menu\" role=\"menu\">\r\n            {self.props.children.slice(1).map(menuItem)}\r\n          </ul>\r\n        );\r\n      return \"\";\r\n    }\r\n    if (this.props.className) typeClass += ` ${this.props.className}`;\r\n    if (this.state.expanded) typeClass += \" open\";\r\n    return (\r\n      <div className={`btn-group${typeClass}`}>\r\n        <Button type=\"secondary\" onClick={this.toggleExpand}>\r\n          {headerChildren} <span className=\"caret\" />\r\n        </Button>\r\n        {bodyContent()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default BootstrapDropdown;\r\n","import React from \"react\";\r\nimport { Panel, ContentTypeRender } from \"nystem-components\";\r\n\r\nexport const BootstrapPanelContext = React.createContext();\r\n\r\nconst BootstrapPanel = ({ model, path }) => {\r\n  const { item, header, typeClass } = model;\r\n\r\n  return (\r\n    <Panel\r\n      {...model}\r\n      type={typeClass}\r\n      header={<ContentTypeRender path={path} items={header} />}\r\n      body={<ContentTypeRender path={path} items={item} />}\r\n    />\r\n  );\r\n};\r\nexport default BootstrapPanel;\r\n","import React from \"react\";\r\nimport { Panel, ContentTypeRender } from \"nystem-components\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nexport const BootstrapPanelContext = React.createContext();\r\n\r\nconst BootstrapPanelOpenByPath = ({ model, path, value, view }) => {\r\n  const { item, header, typeClass } = model;\r\n  const { pathname } = useLocation();\r\n\r\n  const insertVal = (val) =>\r\n    val &&\r\n    val.replace(/\\{([a-z_.0-9]+)\\}/gim, (str, p1, offset, s) => {\r\n      if (/pathItem[0-9]/.test(p1) && view.params) return view.params[p1[8]];\r\n      return view.getValue(p1.replace(\"..\", path));\r\n    });\r\n\r\n  const expanded = pathname.match(new RegExp(insertVal(model.match)));\r\n\r\n  return (\r\n    <Panel\r\n      {...model}\r\n      forceExpanded={expanded}\r\n      type={typeClass}\r\n      header={<ContentTypeRender path={path} items={header} />}\r\n      body={<ContentTypeRender path={path} items={item} />}\r\n    />\r\n  );\r\n};\r\n\r\nexport default BootstrapPanelOpenByPath;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { Wrapper } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst types = {\r\n  default: {\r\n    wrapper: \"mb-3 border shadow rounded\",\r\n    body: \"p-3\",\r\n    header: \"bg-gray-200 pointer p-1 pl-3\",\r\n  },\r\n  primary: {\r\n    wrapper: \"mb-3 border shadow rounded bg-blue-600 border-blue-600\",\r\n    body: \"p-3 bg-white rounded\",\r\n    header: \"text-white pointer p-1 pl-3\",\r\n  },\r\n  defaultWithoutPadding: {\r\n    wrapper: \"mb-3 border shadow rounded\",\r\n    body: \"\",\r\n    header: \"bg-gray-200 pointer pl-2 pr-1\",\r\n  },\r\n  compact: {\r\n    wrapper: \"mb-1\",\r\n    body: \"pl-3\",\r\n    header: \"\",\r\n  },\r\n};\r\n\r\nconst addClick = (doFunction) => ({\r\n  onClick: doFunction,\r\n  role: \"button\",\r\n  tabIndex: \"0\",\r\n});\r\n\r\nexport const PanelContext = React.createContext();\r\n\r\nconst Panel = ({ body, header, className, ...props }) => {\r\n  const [expanded, setSexpanded] = useState(props.expanded);\r\n  const panelElement = useRef(null);\r\n\r\n  const toggleExpand = () => {\r\n    setSexpanded(!expanded);\r\n    app().stateStore.set(panelElement, !expanded, props.stateStore);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const storedState = app().stateStore.get(panelElement, props.stateStore);\r\n    if (storedState === null || storedState === expanded) return;\r\n    setSexpanded(storedState);\r\n  }, [expanded, props.stateStore]);\r\n\r\n  const type = types[props.type || \"default\"];\r\n  className = className || [];\r\n  className = className instanceof Array ? className : [className];\r\n  const isExpanded = expanded || props.forceExpanded;\r\n\r\n  return (\r\n    <Wrapper ref={panelElement} className={[type.wrapper, ...className]}>\r\n      <Wrapper className={type.header}>\r\n        <PanelContext.Provider\r\n          value={{ toggleExpand: addClick(toggleExpand), expanded: isExpanded }}\r\n        >\r\n          {header}\r\n        </PanelContext.Provider>\r\n      </Wrapper>\r\n      {isExpanded ? <Wrapper className={type.body}>{body}</Wrapper> : null}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Panel;\r\n","import React, { useContext } from \"react\";\r\nimport { Wrapper, ContentTypeRender, Icon } from \"nystem-components\";\r\n\r\nimport { PanelContext } from \"../panel\";\r\n\r\nconst BootstrapPanelToggle = ({ model, path, children }) => {\r\n  const { className, item } = model;\r\n  const { toggleExpand, expanded } = useContext(PanelContext);\r\n\r\n  return (\r\n    <Wrapper className={className} {...toggleExpand}>\r\n      {model.icon && (\r\n        <Icon\r\n          icon={expanded ? \"cheveron-down\" : \"cheveron-right\"}\r\n          className=\"w-8 h-8 p-1 pl-0 pointer\"\r\n        />\r\n      )}\r\n      {children || <ContentTypeRender path={path} items={item} />}\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default BootstrapPanelToggle;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst BootstrapTab = ({ model, path }) => {\r\n  const { className, sideways, position, item } = model;\r\n  className.push(\"nav\");\r\n  className.push(\"nav-tabs\");\r\n\r\n  if (sideways) className.push(\"sideways\");\r\n  if (position) className.push(position);\r\n\r\n  return (\r\n    <Wrapper renderAs=\"ul\" className={className}>\r\n      <ContentTypeRender path={path} items={item || []} />\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default BootstrapTab;\r\n","import React from \"react\";\r\nimport { ContentTypeRender } from \"nystem-components\";\r\n\r\nconst BootstrapVerticalTab = ({ model, path }) => {\r\n  const createItem = (item, index) => (\r\n    <ContentTypeRender key={index} path={path} items={[item]} />\r\n  );\r\n\r\n  const className = model.className ? model.className.join(\" \") : \"\";\r\n  return <ul className={className}>{model.item.map(createItem)}</ul>;\r\n};\r\n\r\nexport default BootstrapVerticalTab;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst BootstrapView = ({ model, path }) => {\r\n  const { className, renderAs, item, row } = model;\r\n\r\n  if (row)\r\n    return (\r\n      <Wrapper className={className}>\r\n        <Wrapper className=\"row\">\r\n          <ContentTypeRender path={path} items={item} />\r\n        </Wrapper>\r\n      </Wrapper>\r\n    );\r\n\r\n  return (\r\n    <Wrapper className={className} renderAs={renderAs}>\r\n      <ContentTypeRender path={path} items={item} />\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default BootstrapView;\r\n","import React, { useState } from \"react\";\r\nimport { Button } from \"nystem-components\";\r\n\r\nconst Navbar = ({\r\n  fixed = \" fixed-top\",\r\n  size = \"md\",\r\n  color = \"light\",\r\n  children\r\n}) => {\r\n  const [expanded, setExpanded] = useState(false);\r\n\r\n  return (\r\n    <nav\r\n      className={`navbar navbar-expand-md ${color} flex-${size}-row bd-navbar ${fixed}`}\r\n    >\r\n      {children[0]}\r\n      <Button\r\n        className=\"navbar-toggler navbar-toggler-right\"\r\n        onClick={() => setExpanded(!expanded)}\r\n        aria-hidden=\"true\"\r\n      >\r\n        <span className=\"navbar-toggler-icon\" />\r\n      </Button>\r\n      <div\r\n        onClick={() => setExpanded(!expanded)}\r\n        className={\r\n          expanded\r\n            ? \"navbar-collapse collapse show\"\r\n            : \"navbar-collapse collapse\"\r\n        }\r\n      >\r\n        {children.slice(1)}\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\nexport default Navbar;\r\n","import React from \"react\";\r\nimport { Panel, Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst ViewPanelView = ({ model, path }) => {\r\n  const {\r\n    onClickExpand,\r\n    classNameHead,\r\n    item,\r\n    header,\r\n    typeClass,\r\n    ...panelProps\r\n  } = model;\r\n\r\n  return (\r\n    <Panel {...panelProps} type={typeClass}>\r\n      <Wrapper\r\n        renderAs=\"h3\"\r\n        onClickExpand={onClickExpand}\r\n        className={classNameHead}\r\n      >\r\n        <ContentTypeRender path={path} items={header || []} />\r\n      </Wrapper>\r\n      <ContentTypeRender path={path} items={item || []} />\r\n    </Panel>\r\n  );\r\n};\r\nexport default ViewPanelView;\r\n","import React from \"react\";\r\nimport { Button } from \"nystem-components\";\r\n\r\nconst BooleanButton = ({ setValue, model, value }) => (\r\n  <Button\r\n    type={value ? model.btnType : model.falseBtnType}\r\n    size={model.size}\r\n    className={model.className}\r\n    onClick={() => setValue(!value)}\r\n  >\r\n    {value ? model.text : model.falseText || model.text}\r\n  </Button>\r\n);\r\n\r\nexport default BooleanButton;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport app from \"nystem\";\r\nimport { Button } from \"nystem-components\";\r\n\r\nclass BooleanExposedField extends React.Component {\r\n  static contextTypes = {\r\n    search: PropTypes.object,\r\n    view: PropTypes.object\r\n  };\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.state = {\r\n      value: \"\"\r\n    };\r\n    this.id = app().uuid();\r\n  }\r\n  handleClick(id) {\r\n    const setVal = this.state.value === id ? \"\" : id;\r\n    this.setSearch();\r\n    this.setState({\r\n      value: setVal\r\n    });\r\n  }\r\n  setSearch = value => {\r\n    const { view, search } = this.context;\r\n    const { model } = this.props;\r\n    search.filter = search.filter || {};\r\n    search.filter.$and = (search.filter.$and || []).filter(\r\n      obj => obj.__id !== this.id\r\n    );\r\n    search.filter.$and.push({\r\n      __id: this.id,\r\n      [model.id]: value\r\n    });\r\n\r\n    view.event(\"search\", search);\r\n  };\r\n  render() {\r\n    const self = this;\r\n    let options = this.model.placeholder\r\n      ? [\r\n          {\r\n            text: this.model.placeholder,\r\n            _id: \"\"\r\n          }\r\n        ]\r\n      : [];\r\n    options = [\r\n      {\r\n        _id: \"true\",\r\n        text: \"True\"\r\n      },\r\n      {\r\n        _id: \"false\",\r\n        text: \"False\"\r\n      }\r\n    ];\r\n    const option = function(item, index) {\r\n      function handleClick() {\r\n        return self.handleClick(item._id);\r\n      }\r\n      if (value === item._id)\r\n        return (\r\n          <Button\r\n            onClick={handleClick}\r\n            className=\"btn btn-primary\"\r\n            key={item._id}\r\n            value={item._id}\r\n          >\r\n            {item.text}\r\n          </Button>\r\n        );\r\n      return (\r\n        <Button\r\n          onClick={handleClick}\r\n          className=\"btn btn-secondary\"\r\n          key={item._id}\r\n          value={item._id}\r\n        >\r\n          {item.text}\r\n        </Button>\r\n      );\r\n    };\r\n    const value =\r\n      this.state.value instanceof Array\r\n        ? this.state.value[0]\r\n        : this.state.value;\r\n    const className = this.model.className\r\n      ? this.model.className.join(\" \")\r\n      : \"\";\r\n    return (\r\n      <div className={className}>\r\n        <div className=\"mr-2\">{this.model.text}</div>\r\n        {options.map(option)}\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default BooleanExposedField;\r\n","const text_mandatory = \"Field is mandatory\";\r\n\r\nexport default ({ value, model }) =>\r\n  model.mandatory && !value && (model.text_mandatory || text_mandatory);\r\n","import React from \"react\";\r\nimport { InputWrapper, Input, Button, UseValidator } from \"nystem-components\";\r\nimport validate from \"./validate\";\r\n\r\nconst BooleanInput = ({ model, setValue, value, view, render }) => {\r\n  const [error, setValidated] = UseValidator({ view, validate, value, model });\r\n\r\n  const handleChangeButton = (e) => {\r\n    setValidated(true);\r\n    setValue(!value);\r\n  };\r\n\r\n  if (model.render === \"button\" || render === \"button\")\r\n    return (\r\n      <Button\r\n        type={value ? \"primary\" : \"secondary\"}\r\n        className={model.className}\r\n        onClick={handleChangeButton}\r\n        size=\"xs\"\r\n      >\r\n        {model.text}\r\n      </Button>\r\n    );\r\n\r\n  return (\r\n    <InputWrapper model={model} error={error}>\r\n      <Input\r\n        placeholder={model.text}\r\n        checked={value || false}\r\n        onChange={() => setValue(!value)}\r\n        disabled={model.disabled}\r\n        type=\"checkbox\"\r\n      />\r\n    </InputWrapper>\r\n  );\r\n};\r\n\r\nexport default BooleanInput;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nclass BooleanList extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.editTable = this.model.list && this.model.list.editTable;\r\n    const state = {};\r\n    this.state = state;\r\n  }\r\n  handleClick(e) {\r\n    if (this.editTable)\r\n      app().database[this.props.contentType].saveField(\r\n        this.props.id,\r\n        this.model.id,\r\n        !this.props.value\r\n      );\r\n    e.preventDefault();\r\n  }\r\n  render() {\r\n    if (this.props.value)\r\n      return (\r\n        <div>\r\n          <input\r\n            onClick={this.handleClick}\r\n            type=\"checkbox\"\r\n            disabled={!this.editTable}\r\n            checked\r\n          />\r\n        </div>\r\n      );\r\n    return (\r\n      <div>\r\n        <input\r\n          onClick={this.handleClick}\r\n          type=\"checkbox\"\r\n          disabled={!this.editTable}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default BooleanList;\r\n","import React from \"react\";\r\nclass BooleanVibrate extends React.Component {\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (this.props.value !== nextProps.value) this.vibrate(nextProps);\r\n  }\r\n  componentDidMount() {\r\n    this.vibrate(this.props);\r\n  }\r\n  vibrate(props) {\r\n    if (!navigator.vibrate) return;\r\n    let { atState, pattern } = props.model;\r\n    if (props.value === atState)\r\n      navigator.vibrate(pattern ? JSON.parse(pattern) : 300);\r\n  }\r\n  render() {\r\n    return null;\r\n  }\r\n}\r\nexport default BooleanVibrate;\r\n","import React from \"react\";\r\nclass BooleanView extends React.Component {\r\n  render() {\r\n    const model = this.props.model;\r\n    const className = model.className ? model.className.join(\" \") : \"\";\r\n    if (this.props.value)\r\n      return (\r\n        <div className={className}>\r\n          <span className=\"fa fa-ok\" />\r\n        </div>\r\n      );\r\n    else return null;\r\n  }\r\n}\r\nexport default BooleanView;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nclass ConditionalUserRole extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.view = props.view;\r\n    const state = {\r\n      value: props.value\r\n    };\r\n    state.visible = app().session.user\r\n      ? this.contains(app().session.user.role, this.model.role)\r\n      : false;\r\n    this.state = state;\r\n  }\r\n  contains(array1, array2) {\r\n    if (typeof array1 === \"string\") array1 = [array1];\r\n    if (typeof array2 === \"string\") array2 = [array2];\r\n\r\n    for (let i = 0; i < array1.length; i++)\r\n      if (array2.indexOf(array1[i]) !== -1) return true;\r\n\r\n    return false;\r\n  }\r\n  render() {\r\n    const className = this.props.model.className\r\n      ? this.props.model.className.join(\" \")\r\n      : \"\";\r\n    if (this.state.visible)\r\n      return (\r\n        <Wrapper className={className}>\r\n          {this.model.item.map(this.props.view.createItem, this)}\r\n        </Wrapper>\r\n      );\r\n    return null;\r\n  }\r\n}\r\nexport default ConditionalUserRole;\r\n","import React, { useCallback } from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst isset = (val) => !!val && !(val instanceof Array && val.length === 0);\r\n\r\nconst ConditionalView = ({ view, model, value, path }) => {\r\n  const testCondition = useCallback(() => {\r\n    const { condition } = model;\r\n    for (let i = 0; i < condition.length; i++) {\r\n      const val = view.getValue(condition[i][0]);\r\n      let test = condition[i][1];\r\n      if (test === \"false\") {\r\n        if (!isset(val)) return true;\r\n        continue;\r\n      }\r\n      if (test === \"true\") {\r\n        if (isset(val)) return true;\r\n        continue;\r\n      }\r\n      const reverse = test[0] === \"!\";\r\n      if (reverse) test = test.substring(1);\r\n      test = new RegExp(`^${test}$`, \"i\");\r\n      if (test.test(val)) {\r\n        if (!reverse) return true;\r\n      } else if (reverse) return true;\r\n    }\r\n    return false;\r\n  }, [model, view]);\r\n\r\n  if (testCondition())\r\n    return (\r\n      <Wrapper className={model.className}>\r\n        <ContentTypeRender path={path} items={model.item} />\r\n      </Wrapper>\r\n    );\r\n  return null;\r\n};\r\n\r\nexport default ConditionalView;\r\n","import React from \"react\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nclass ConditionalViewAndOr extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.view = props.view;\r\n    const state = {\r\n      value: this.view.value\r\n    };\r\n    if (!state.value) state.value = {};\r\n    state.visible = this.testCondition(state.value);\r\n    this.view.on(\"change\", this.onChange);\r\n    this.tempValue = {};\r\n    this.state = state;\r\n  }\r\n  setValue(id, value) {\r\n    return this.view.setValue(id, value);\r\n  }\r\n  onChange(id, value) {\r\n    if (this.changeTimer) clearTimeout(this.changeTimer);\r\n    this.changeTimer = setTimeout(this.setValueView, 0);\r\n  }\r\n  setValueView() {\r\n    this.changeTimer = false;\r\n    if (this.inThis) return;\r\n    this.inThis = true;\r\n    const { value } = this.view;\r\n    const visible = this.testCondition(value);\r\n    /* if (!visible && this.state.visible)\r\n      for (let i=0;i<this.model.item.length;i++){\r\n        if (this.model.item[i].id){\r\n          this.tempValue[this.model.item[i].id] = value[this.model.item[i].id];\r\n          this.setValue(this.model.item[i].id);\r\n        } else\r\n        if (this.model.item[i].item){\r\n          for (let j=0;j<this.model.item[i].item.length;j++)\r\n            if (this.model.item[i].item[j].id)\r\n              this.setValue(this.model.item[i].item[j].id);\r\n        } else\r\n        if (this.refs['component'+i].clear)\r\n          this.refs['component'+i].clear();\r\n      } else\r\n      if (visible && !this.state.visible)\r\n        for (let i=0;i<this.model.item.length;i++)\r\n          if (this.model.item[i].id && typeof value[this.model.item[i].id] === 'undefined')\r\n            this.setValue(this.model.item[i].id,this.tempValue[this.model.item[i].id]);*/\r\n\r\n    this.setState({\r\n      value: value,\r\n      visible: visible\r\n    });\r\n    this.inThis = false;\r\n  }\r\n  valid() {\r\n    let valid = true;\r\n    if (this.state.visible)\r\n      for (let i = 0; i < this.model.item.length; i++)\r\n        if (!this.refs[`component${i}`].valid()) valid = false;\r\n    return valid;\r\n  }\r\n  visible() {\r\n    return this.state.visible;\r\n  }\r\n  testCondition(value) {\r\n    const { condition } = this.model;\r\n    if (!condition || !condition.length) return false;\r\n\r\n    function testOneCondition(condition) {\r\n      const key = condition[0];\r\n      const val = value[key];\r\n      let test = condition[1];\r\n      if (test === \"false\" || test === false) return !val;\r\n      if (test === \"true\" || test === true) return !!val;\r\n      const reverse = test[0] === \"!\";\r\n      if (reverse) test = test.substring(1);\r\n      test = new RegExp(`^${test}$`, \"i\");\r\n      if (test.test(val)) {\r\n        if (!reverse) return true;\r\n      } else if (reverse) return true;\r\n      return false;\r\n    }\r\n\r\n    let valid = true;\r\n    let sum = false;\r\n    const sumValidator = function(condition) {\r\n      let sum = 0;\r\n      condition = condition.split(\"||\");\r\n      return function(valid) {\r\n        if (typeof valid !== \"undefined\" && valid) sum++;\r\n        for (let i = 0; i < condition.length; i++)\r\n          if (parseInt(condition[i], 10) === sum) return true;\r\n        return false;\r\n      };\r\n    };\r\n    for (let i = 0; i < condition.length; i++) {\r\n      if (condition[i][0] === \"||\") {\r\n        if (sum) {\r\n          valid = sum();\r\n          sum = false;\r\n        }\r\n        if (valid) return true;\r\n        valid = true;\r\n      } else if (condition[i][0] === \"<sum>\") {\r\n        sum = sumValidator(condition[i][1]);\r\n      } else if (sum) sum(testOneCondition(condition[i]));\r\n      else valid = testOneCondition(condition[i]) && valid;\r\n    }\r\n    if (sum) valid = sum();\r\n    return valid;\r\n  }\r\n  componentWillUnmount() {\r\n    this.props.view.off(\"change\", this.onChange);\r\n  }\r\n  render() {\r\n    const { model, view } = this.props;\r\n    if (this.state.visible)\r\n      return (\r\n        <Wrapper className={model.className}>\r\n          {model.item.map(view.createItem, this)}\r\n        </Wrapper>\r\n      );\r\n    return null;\r\n  }\r\n}\r\nexport default ConditionalViewAndOr;\r\n","import React, { useState, useRef, useEffect, useContext } from \"react\";\r\nimport app from \"nystem\";\r\n\r\nconst MyDragAndDropContext = React.createContext();\r\n\r\nexport const DragDropContext = ({ children, onDragEnd }) => {\r\n  const event = app().addeventhandler();\r\n\r\n  useEffect(() => {\r\n    event.on(\"onDragEnd\", onDragEnd);\r\n  }, [event, onDragEnd]);\r\n\r\n  return (\r\n    <MyDragAndDropContext.Provider value={{ event, parents: [] }}>\r\n      {children}\r\n    </MyDragAndDropContext.Provider>\r\n  );\r\n};\r\n\r\nconst styleDraggableItem = {\r\n  boxSizing: \"border-box\",\r\n  opacity: null,\r\n  pointerEvents: \"none\",\r\n  position: \"fixed\",\r\n  transform: null,\r\n  transition: \"opacity 0.2s cubic-bezier(0.2, 0, 0, 1)\",\r\n  zIndex: 4500,\r\n};\r\nconst offsetStyle = {\r\n  transform: \"translate(0px,0px)\",\r\n  transition:\r\n    \"transform 0.33s cubic-bezier(.2,1,.1,1), opacity 0.33s cubic-bezier(.2,1,.1,1)\",\r\n};\r\n\r\nexport const Droppable = ({ droppableId, type, children, isDropDisabled }) => {\r\n  const [style, setStyle] = useState(null);\r\n  const innerRef = useRef();\r\n  const styleRef = useRef();\r\n  styleRef.current = style;\r\n\r\n  const context = useContext(MyDragAndDropContext);\r\n  const { event } = context;\r\n\r\n  const provided = {\r\n    droppableProps: { style: style || offsetStyle },\r\n    innerRef,\r\n  };\r\n\r\n  const parents = [\r\n    ...context.parents,\r\n    ...(context.droppableId ? [context.droppableId] : []),\r\n  ];\r\n\r\n  useEffect(() => {\r\n    if (isDropDisabled) return;\r\n\r\n    const paddingBottom = parseInt(\r\n      window.getComputedStyle(innerRef.current).paddingBottom,\r\n      10\r\n    );\r\n\r\n    const stop = (result) => {\r\n      const size = innerRef.current.getBoundingClientRect();\r\n      setStyle(null);\r\n      const { x, y } = result.pos;\r\n\r\n      if (y < size.top || y > size.bottom || x < size.left || x > size.right)\r\n        return;\r\n\r\n      if (result.destination.parents.includes(droppableId)) return;\r\n\r\n      return {\r\n        ...result,\r\n        destination: { ...result.destination, droppableId, parents },\r\n      };\r\n    };\r\n\r\n    const move = (result) => {\r\n      if (!innerRef.current) return;\r\n\r\n      const size = innerRef.current.getBoundingClientRect();\r\n      const { x, y } = result;\r\n\r\n      if (y < size.top || y > size.bottom || x < size.left || x > size.right)\r\n        return;\r\n\r\n      if (result.parents.includes(droppableId)) return;\r\n\r\n      return { ...result, over: droppableId, parents };\r\n    };\r\n\r\n    const over = ({ over, height }) => {\r\n      if (!innerRef.current) return;\r\n\r\n      if (over !== droppableId) {\r\n        if (styleRef.current) setStyle(null);\r\n        return;\r\n      }\r\n      if (!styleRef.current)\r\n        setStyle({ ...offsetStyle, paddingBottom: paddingBottom + height });\r\n    };\r\n\r\n    event.on(`${type}Over`, over);\r\n    event.on(`${type}Move`, move);\r\n    event.on(`${type}Stop`, 100, stop);\r\n    return () => {\r\n      event.off(`${type}Over`, over);\r\n      event.on(`${type}Move`, move);\r\n      event.off(`${type}Stop`, stop);\r\n    };\r\n  }, [droppableId, event, isDropDisabled, parents, type]);\r\n\r\n  return (\r\n    <MyDragAndDropContext.Provider\r\n      value={{ ...context, parents, droppableId, isDropDisabled, type }}\r\n    >\r\n      {children(provided, {})}\r\n    </MyDragAndDropContext.Provider>\r\n  );\r\n};\r\n\r\nexport const Draggable = ({ draggableId, index, children }) => {\r\n  const [style, setStyle] = useState(null);\r\n\r\n  const innerRef = useRef();\r\n  const { event, droppableId, isDropDisabled, type } = useContext(\r\n    MyDragAndDropContext\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (isDropDisabled) return;\r\n\r\n    let breakpoint;\r\n    let currentStyle = null;\r\n\r\n    let offsetStyleSet = null;\r\n    const start = (props) => {\r\n      currentStyle = null;\r\n\r\n      if (props.draggableId === draggableId) return;\r\n\r\n      const size = innerRef.current.getBoundingClientRect();\r\n      breakpoint = size.top + size.height / 2;\r\n\r\n      offsetStyleSet = {\r\n        ...offsetStyle,\r\n        transform: `translate(0px, ${props.height}px)`,\r\n      };\r\n      setStyle({\r\n        transform:\r\n          props.y > breakpoint\r\n            ? offsetStyle\r\n            : `translate(0px, ${props.height}px)`,\r\n      });\r\n      currentStyle = true;\r\n    };\r\n\r\n    const move = (pos) => {\r\n      if (!currentStyle) return;\r\n      const size = innerRef.current.getBoundingClientRect();\r\n      breakpoint = size.top + size.height / 2;\r\n\r\n      if (pos.y < breakpoint && droppableId === pos.over) {\r\n        if (currentStyle === offsetStyleSet) return;\r\n        currentStyle = offsetStyleSet;\r\n      } else {\r\n        if (currentStyle === offsetStyle) return;\r\n        currentStyle = offsetStyle;\r\n      }\r\n      setStyle(currentStyle);\r\n    };\r\n\r\n    event.on(`${type}Start`, start);\r\n    event.on(`${type}Over`, move);\r\n    return () => {\r\n      event.off(`${type}Start`, start);\r\n      event.off(`${type}Over`, move);\r\n    };\r\n  }, [droppableId, draggableId, event, isDropDisabled, type]);\r\n\r\n  useEffect(() => {\r\n    if (isDropDisabled) return;\r\n\r\n    const stop = (result) => {\r\n      setStyle(null);\r\n      const { destination } = result;\r\n\r\n      const size = innerRef.current.getBoundingClientRect();\r\n      const breakpoint = size.top + size.height / 2;\r\n\r\n      if (destination.droppableId !== droppableId) return;\r\n      if (destination.index > index) return;\r\n      if (result.pos.y < breakpoint) return;\r\n\r\n      return {\r\n        ...result,\r\n        destination: { ...result.destination, index: index + 1 },\r\n      };\r\n    };\r\n\r\n    event.on(`${type}Stop`, stop);\r\n    return () => {\r\n      event.off(`${type}Stop`, stop);\r\n    };\r\n  }, [droppableId, event, index, isDropDisabled, type]);\r\n\r\n  const setStyles = (element, styles) =>\r\n    Object.entries(styles).forEach(([prop, val]) => {\r\n      element.style[prop] = val;\r\n    });\r\n\r\n  const onMouseDown = (e) => {\r\n    const baseProps = JSON.parse(\r\n      JSON.stringify(innerRef.current.getBoundingClientRect())\r\n    );\r\n\r\n    const style = {\r\n      ...styleDraggableItem,\r\n      ...baseProps,\r\n    };\r\n    const movingState = {\r\n      x: e.clientX - style.left,\r\n      y: e.clientY - style.top,\r\n      height: style.height,\r\n      draggableId,\r\n      droppableId,\r\n      index,\r\n      type,\r\n    };\r\n    let pos = false;\r\n    const clonedElement = innerRef.current.cloneNode(true);\r\n\r\n    const mouseMove = (e) => {\r\n      if (!pos) {\r\n        document.body.appendChild(clonedElement);\r\n        setStyles(clonedElement, style);\r\n        clonedElement.style.width = `${baseProps.width}px`;\r\n        event.event(`${type}Start`, movingState);\r\n      }\r\n\r\n      pos = {\r\n        x: e.clientX - movingState.x,\r\n        y: e.clientY - movingState.y,\r\n        height: style.height,\r\n        parents: [],\r\n      };\r\n\r\n      setStyles(clonedElement, {\r\n        top: `${pos.y}px`,\r\n        left: `${pos.x}px`,\r\n        transform: \"scale(1.01,1.15)\",\r\n      });\r\n      setStyle({ display: \"none\" });\r\n      event\r\n        .event(`${type}Move`, pos)\r\n        .then((query) => event.event(`${type}Over`, query));\r\n    };\r\n\r\n    const mouseUp = (e) => {\r\n      window.removeEventListener(\"mousemove\", mouseMove);\r\n      window.removeEventListener(\"mouseup\", mouseUp);\r\n\r\n      if (!pos) return;\r\n\r\n      document.body.removeChild(clonedElement);\r\n\r\n      event\r\n        .event(`${type}Stop`, {\r\n          combine: null,\r\n          destination: { index: 0, parents: [] },\r\n          draggableId,\r\n          mode: \"FLUID\",\r\n          reason: \"DROP\",\r\n          source: { index, droppableId },\r\n          type,\r\n          pos,\r\n        })\r\n        .then((data) =>\r\n          event.event(\"onDragEnd\", {\r\n            ...data,\r\n            pos: undefined,\r\n          })\r\n        );\r\n\r\n      setStyle(null);\r\n      pos = false;\r\n    };\r\n\r\n    window.addEventListener(\"mouseup\", mouseUp);\r\n    window.addEventListener(\"mousemove\", mouseMove);\r\n  };\r\n\r\n  const onDragStart = (e) => {\r\n    e.preventDefault();\r\n  };\r\n\r\n  if (style && style.display === \"none\") return null;\r\n\r\n  const provided = {\r\n    draggableProps: { style },\r\n    dragHandleProps: {\r\n      onMouseDown,\r\n      onDragStart,\r\n      draggable: false,\r\n      role: \"button\",\r\n      style: {},\r\n    },\r\n    innerRef,\r\n  };\r\n  return children(provided, {});\r\n};\r\n\r\nexport default () => {};\r\n","import React, { useEffect, useRef } from \"react\";\r\nimport * as reactBeautifulDnd from \"react-beautiful-dnd\";\r\nimport app from \"nystem\";\r\nimport * as mDnd from \"./myDnd\";\r\n\r\nconst DragAndDropContext = ({ children }) => {\r\n  const modifiers = useRef({});\r\n  useEffect(() => {\r\n    const checkModifiers = (e) => {\r\n      const { shiftKey, metaKey, ctrlKey, altKey } = e;\r\n      modifiers.current = { shiftKey, metaKey, ctrlKey, altKey };\r\n    };\r\n    document.body.addEventListener(\"mouseup\", checkModifiers);\r\n    return () => {\r\n      document.body.removeEventListener(\"mouseup\", checkModifiers);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <reactBeautifulDnd.DragDropContext\r\n      onDragEnd={(e) => {\r\n        app().event(\"dragAndDropOnDragEnd\", { ...modifiers.current, ...e });\r\n      }}\r\n    >\r\n      <mDnd.DragDropContext\r\n        onDragEnd={(e) => {\r\n          console.log(e);\r\n          app().event(\"dragAndDropOnDragEnd\", { ...modifiers.current, ...e });\r\n        }}\r\n      >\r\n        {children}\r\n      </mDnd.DragDropContext>\r\n    </reactBeautifulDnd.DragDropContext>\r\n  );\r\n};\r\nexport default DragAndDropContext;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport * as reactBeautifulDnd from \"react-beautiful-dnd\";\r\nimport { ContentTypeRender, Wrapper } from \"nystem-components\";\r\nimport app from \"nystem\";\r\nimport * as myDnd from \"./myDnd\";\r\n\r\nexport const DragAndDropListContext = React.createContext();\r\n\r\nconst DragAndDropList = ({ value = [], model, path, view }) => {\r\n  const { Droppable, Draggable } = model.myDnd ? myDnd : reactBeautifulDnd;\r\n  const [droppableId] = useState(app().uuid());\r\n\r\n  const ids = useRef([]);\r\n  const getId = (pos) => {\r\n    if (!ids.current[pos]) ids.current[pos] = app().uuid();\r\n    return ids.current[pos];\r\n  };\r\n\r\n  const { field, valueType } = model;\r\n  const valuePath = path ? `${path}.${field.id}` : field.id;\r\n  value = view.getValue(valuePath);\r\n  value = value || [];\r\n\r\n  useEffect(() => {\r\n    const onDragEnd = (result) => {\r\n      const value = view.getValue(valuePath) || [];\r\n\r\n      let updated = false;\r\n\r\n      if (!result.ctrlKey && result.source.droppableId === droppableId) {\r\n        value.splice(result.source.index, 1);\r\n        ids.current.splice(result.source.index, 1);\r\n        updated = true;\r\n      }\r\n\r\n      if (\r\n        result.destination &&\r\n        result.destination.droppableId === droppableId\r\n      ) {\r\n        value.splice(result.destination.index, 0, result.source.value);\r\n        ids.current.splice(\r\n          result.destination.index,\r\n          0,\r\n          result.source.droppableId === droppableId\r\n            ? result.source.uuid\r\n            : app().uuid()\r\n        );\r\n        updated = true;\r\n      }\r\n\r\n      if (updated) view.setValue({ path: valuePath, value });\r\n    };\r\n\r\n    const onDragEndAddValue = (result) => {\r\n      if (result.source.droppableId !== droppableId) return;\r\n      const value = view.getValue(valuePath);\r\n      result.source.value = value[result.source.index];\r\n      result.source.uuid = result.ctrlKey\r\n        ? app().uuid()\r\n        : ids.current[result.source.index];\r\n    };\r\n\r\n    app().on(\"dragAndDropOnDragEnd\", 100, onDragEndAddValue);\r\n    app().on(\"dragAndDropOnDragEnd\", onDragEnd);\r\n    return () => {\r\n      app().off(\"dragAndDropOnDragEnd\", onDragEndAddValue);\r\n      app().off(\"dragAndDropOnDragEnd\", onDragEnd);\r\n    };\r\n  }, [droppableId, valuePath, view]);\r\n\r\n  const { className = [] } = model;\r\n\r\n  return (\r\n    <Droppable droppableId={droppableId} type={valueType}>\r\n      {(provided, snapshot) => (\r\n        <Wrapper\r\n          className={[\"min-h-2 p-3 border shadow rounded\", ...className]}\r\n          {...provided.droppableProps}\r\n          ref={provided.innerRef}\r\n        >\r\n          {value.map((item, index) => (\r\n            <Draggable\r\n              key={getId(index)}\r\n              draggableId={getId(index)}\r\n              index={index}\r\n            >\r\n              {(provided, snapshot) => (\r\n                <div\r\n                  ref={provided.innerRef}\r\n                  {...provided.draggableProps}\r\n                  style={provided.draggableProps.style}\r\n                >\r\n                  <DragAndDropListContext.Provider\r\n                    value={provided.dragHandleProps}\r\n                  >\r\n                    <ContentTypeRender\r\n                      path={path}\r\n                      items={\r\n                        app().replaceInModel({\r\n                          model,\r\n                          viewFormat: view.viewFormat,\r\n                          fn: ({ model: item }) =>\r\n                            item.id === field.id\r\n                              ? { ...item, id: `${item.id}.${index}` }\r\n                              : item,\r\n                        }).item\r\n                      }\r\n                    />\r\n                  </DragAndDropListContext.Provider>\r\n                </div>\r\n              )}\r\n            </Draggable>\r\n          ))}\r\n          {provided.placeholder}\r\n        </Wrapper>\r\n      )}\r\n    </Droppable>\r\n  );\r\n};\r\nexport default DragAndDropList;\r\n","import React, { useContext } from \"react\";\r\nimport { ContentTypeRender, Icon } from \"nystem-components\";\r\nimport { DragAndDropListContext } from \"./list\";\r\n\r\nconst DragAndDropHandle = ({ model, path }) => {\r\n  const { item, className = [] } = model;\r\n  const dragHandleProps = useContext(DragAndDropListContext);\r\n\r\n  return (\r\n    <div className={className.join(\" \")} {...dragHandleProps}>\r\n      {model.icon && <Icon icon=\"move\" className=\"w-8 h-8 py-2\" />}\r\n      <ContentTypeRender path={path} items={item} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DragAndDropHandle;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport * as reactBeautifulDnd from \"react-beautiful-dnd\";\r\nimport { ContentTypeRender } from \"nystem-components\";\r\nimport app from \"nystem\";\r\nimport * as myDnd from \"./myDnd\";\r\n\r\nconst DragAndDropView = ({ value, model, path }) => {\r\n  const { Droppable, Draggable } = model.myDnd ? myDnd : reactBeautifulDnd;\r\n  const [droppableId] = useState(app().uuid());\r\n\r\n  useEffect(() => {\r\n    if (!value) return;\r\n\r\n    const onDragEndAddValue = (result) => {\r\n      if (result.source.droppableId !== droppableId) return;\r\n      result.source.value = value;\r\n      result.source.uuid = droppableId;\r\n    };\r\n\r\n    app().on(\"dragAndDropOnDragEnd\", 100, onDragEndAddValue);\r\n    return () => {\r\n      app().off(\"dragAndDropOnDragEnd\", onDragEndAddValue);\r\n    };\r\n  }, [value, droppableId]);\r\n\r\n  const { item } = model;\r\n\r\n  return (\r\n    <Droppable\r\n      droppableId={droppableId}\r\n      type={model.valueType}\r\n      isDropDisabled={true}\r\n    >\r\n      {(provided, snapshot) => {\r\n        // console.log(provided);\r\n        return (\r\n          <div {...provided.droppableProps} ref={provided.innerRef}>\r\n            <Draggable key={droppableId} draggableId={droppableId} index={0}>\r\n              {(provided, snapshot) => {\r\n                // console.log(provided.draggableProps.style);\r\n                return (\r\n                  <div\r\n                    ref={provided.innerRef}\r\n                    {...provided.draggableProps}\r\n                    {...provided.dragHandleProps}\r\n                    style={provided.draggableProps.style}\r\n                  >\r\n                    <ContentTypeRender path={path} items={item} />\r\n                  </div>\r\n                );\r\n              }}\r\n            </Draggable>\r\n            {provided.placeholder}\r\n          </div>\r\n        );\r\n      }}\r\n    </Droppable>\r\n  );\r\n};\r\n\r\nexport default DragAndDropView;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { InputWrapper } from \"nystem-components\";\r\n\r\nclass DropdownInput extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const self = this;\r\n    this.model = props.model;\r\n    const state = {\r\n      value: props.value,\r\n      option: []\r\n    };\r\n    const namefield = this.model.namefield ? this.model.namefield : \"name\";\r\n    if (this.model.source) {\r\n      const value = props.value || false;\r\n      app().sourceParser(\r\n        self.model.source,\r\n        parsedSource => {\r\n          self.searchProp = app()\r\n            .database[parsedSource.source].search(\r\n              {\r\n                filter: parsedSource.filter\r\n              },\r\n              data => {\r\n                self.handleChanges = {};\r\n                const option = data.map(item => {\r\n                  self.handleChanges[item._id] = function() {\r\n                    self.handleChange(item._id);\r\n                  };\r\n                  return {\r\n                    _id: item._id,\r\n                    text: item[namefield]\r\n                  };\r\n                });\r\n                if (self.state && self.state.option)\r\n                  self.setState({ option: option });\r\n                else state.option = option;\r\n              }\r\n            )\r\n            .search();\r\n        },\r\n        value\r\n      );\r\n    } else {\r\n      self.handleChanges = {};\r\n      state.option = this.model.option.map(item => {\r\n        if (typeof item === \"string\")\r\n          item = {\r\n            _id: item,\r\n            text: item\r\n          };\r\n        self.handleChanges[item._id] = function() {\r\n          self.handleChange(item._id);\r\n        };\r\n        return item;\r\n      });\r\n    }\r\n    this.errormsg = this.model.text_mandatory\r\n      ? this.model.text_mandatory\r\n      : true;\r\n    this.validated = false;\r\n    if (!state.value && !this.model.placeholder && state.option[0])\r\n      props.setValue(state.option[0]._id);\r\n    this.state = state;\r\n  }\r\n  handleChange(id) {\r\n    const { value } = this.refs.input;\r\n    this.props.setValue(value);\r\n  }\r\n  valid() {\r\n    this.validated = true;\r\n    if (this.model.mandatory && !this.state.value) {\r\n      this.setState({\r\n        error: this.errormsg\r\n      });\r\n      return false;\r\n    }\r\n    if (this.state.error) delete this.state.error;\r\n    return true;\r\n  }\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (this.props.value !== nextProps.value) {\r\n      const error = this.validated && this.model.mandatory && !nextProps.value;\r\n      this.setState({\r\n        value: nextProps.value,\r\n        error: error ? this.errormsg : false\r\n      });\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    if (this.props.focus) this.refs.input.focus();\r\n  }\r\n  render() {\r\n    let options = this.model.placeholder\r\n      ? [{ text: this.model.placeholder, _id: \"\" }]\r\n      : [];\r\n    options = options.concat(this.state.option);\r\n    const option = function(item, index) {\r\n      if (value === item._id)\r\n        return (\r\n          <option key={item._id} value={item._id} selected=\"selected\">\r\n            {item.text}\r\n          </option>\r\n        );\r\n      return (\r\n        <option key={item._id} value={item._id}>\r\n          {item.text}\r\n        </option>\r\n      );\r\n    };\r\n    const value =\r\n      this.state.value instanceof Array\r\n        ? this.state.value[0]\r\n        : this.state.value;\r\n    return (\r\n      <InputWrapper model={this.model} error={this.state.error}>\r\n        <select\r\n          ref=\"input\"\r\n          placeholder={app.t(this.model.text)}\r\n          className=\"form-control\"\r\n          value={value}\r\n          maxLength={this.model.length}\r\n          onChange={this.handleChange}\r\n        >\r\n          {options.map(option)}\r\n        </select>\r\n      </InputWrapper>\r\n    );\r\n  }\r\n}\r\nexport default DropdownInput;\r\n","import React from \"react\";\nimport { InputWrapper } from \"nystem-components\";\nclass DropdownLabelView extends React.Component {\n  render() {\n    return (\n      <InputWrapper model={this.props.model}>\n        <div className=\"form-control\">{this.props.value}</div>\n      </InputWrapper>\n    );\n  }\n}\nexport default DropdownLabelView;\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Link } from \"nystem-components\";\r\n\r\nclass DropdownView extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    let state = {\r\n      value: props.value,\r\n      text: \"\",\r\n      id: \"\"\r\n    };\r\n    const self = this;\r\n    this.namefield = this.model.namefield ? this.model.namefield : \"name\";\r\n    if (this.model.source && props.value && app().database[this.model.source]) {\r\n      const directData = app()\r\n        .database[this.model.source].get({ id: this.props.value })\r\n        .then(({ data }) => {\r\n          if (!directData) self.loadVal(data);\r\n        });\r\n      if (directData) {\r\n        state = {\r\n          _id: directData._id,\r\n          text: directData[this.namefield]\r\n        };\r\n      }\r\n    }\r\n    this.state = state;\r\n  }\r\n  loadVal(data) {\r\n    this.setState({\r\n      _id: data._id,\r\n      text: data[this.namefield]\r\n    });\r\n  }\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (\r\n      this.model.source &&\r\n      this.props.value &&\r\n      app().database[this.model.source]\r\n    )\r\n      app()\r\n        .database[this.model.source].get({ id: nextProps.value })\r\n        .then(({ data }) => this.loadVal(data));\r\n  }\r\n  render() {\r\n    if (this.model.option instanceof Array)\r\n      return <div>{this.props.value}</div>;\r\n    return (\r\n      <div>\r\n        <Link href={`/view/${this.model.source}/${this.state._id}`}>\r\n          {this.state.text}\r\n        </Link>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default DropdownView;\r\n","import React from \"react\";\nimport { TextExposedField } from \"nystem-components\";\nlet EmailExposedField = props => <TextExposedField {...props} />;\nexport default EmailExposedField;\n","export default ({ value, model }) => {\r\n  if (model.mandatory && !value) return model.text_mandatory;\r\n  if (!value) return false;\r\n  if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,6}$/im.test(value))\r\n    return \"Incorrect e-mail adress\";\r\n  return false;\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { InputWrapper, Input, UseValidator } from \"nystem-components\";\r\nimport app from \"nystem\";\r\nimport validate from \"./validate\";\r\n\r\nconst EmailInput = ({ model, view, focus, setValue, value, className }) => {\r\n  const [error, setValidated] = UseValidator({ view, validate, value, model });\r\n  const { disabled, length, text, clearButton, classNameInput } = model;\r\n  const [id] = useState(app().uuid);\r\n\r\n  const componentClassName = [\r\n    className,\r\n    ...(model.className || []),\r\n    \"textInput\",\r\n  ];\r\n  if (clearButton) componentClassName.push(\"flex\");\r\n\r\n  return (\r\n    <InputWrapper\r\n      id={id}\r\n      model={model}\r\n      error={error}\r\n      className={componentClassName}\r\n    >\r\n      <Input\r\n        id={id}\r\n        placeholder={app().t(text)}\r\n        className={classNameInput}\r\n        value={value || \"\"}\r\n        maxLength={length}\r\n        onChange={(value) => setValue(value)}\r\n        disabled={disabled}\r\n        type=\"text\"\r\n        focus={focus}\r\n        onBlur={() => setValidated(true)}\r\n      />\r\n    </InputWrapper>\r\n  );\r\n};\r\nexport default EmailInput;\r\n","import React from \"react\";\r\nimport { InputWrapper, Input } from \"nystem-components\";\r\nimport app from \"nystem\";\r\nclass EmailInputNoValidation extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    const state = {\r\n      value: props.value\r\n    };\r\n    [\"handleChange\", \"valid\", \"validate\"].forEach(func => {\r\n      this[func] = this[func].bind(this);\r\n    });\r\n    if (props.add && this.model.default)\r\n      props.setValue(this.model.id, this.model.default);\r\n    if (state.value) this.valid(state.value);\r\n    this.validated = false;\r\n    this.state = state;\r\n  }\r\n  handleChange(value) {\r\n    if (this.validated) this.valid(value);\r\n    else this.setState({ value });\r\n    this.props.setValue(this.model.id, this.lowerCase(value));\r\n  }\r\n  lowerCase(val) {\r\n    if (!val) return \"\";\r\n    return val.toLowerCase();\r\n  }\r\n  valid(value) {\r\n    this.validated = true;\r\n    const setval = typeof value !== \"undefined\" ? { value: value } : {};\r\n    if (typeof value === \"undefined\") value = this.state.value;\r\n    if (this.model.mandatory && !value) setval.error = this.errormsg;\r\n    this.setState(setval);\r\n    return !setval.error;\r\n  }\r\n  validate() {\r\n    this.validated = true;\r\n    this.handleChange();\r\n  }\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (this.lowerCase(this.state.value) !== this.lowerCase(nextProps.value))\r\n      this.valid(nextProps.value);\r\n  }\r\n  render() {\r\n    return (\r\n      <InputWrapper model={this.model} error={this.state.error}>\r\n        <Input\r\n          placeholder={app().t(this.model.text)}\r\n          className=\"form-control\"\r\n          value={this.state.value || \"\"}\r\n          maxLength={this.model.length}\r\n          onChange={this.handleChange}\r\n          onBlur={() => this.validate}\r\n          type=\"text\"\r\n          disabled={this.model.disabled}\r\n        />\r\n      </InputWrapper>\r\n    );\r\n  }\r\n}\r\nexport default EmailInputNoValidation;\r\n","import React from \"react\";\r\nimport { TextLink } from \"nystem-components\";\r\n\r\nconst EmailLink = props => <TextLink {...props} />;\r\nexport default EmailLink;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst EmailMailto = ({ model, value, path }) => {\r\n  const { className, item } = model;\r\n\r\n  return (\r\n    <Wrapper renderAs=\"a\" href={`mailto:${value}`} className={className}>\r\n      <ContentTypeRender items={item} />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default EmailMailto;\r\n","import React from \"react\";\nimport { TextSortBy } from \"nystem-components\";\nlet EmailSortBy = props => <TextSortBy {...props} />;\nexport default EmailSortBy;\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { InputWrapper } from \"nystem-components\";\r\nclass EmailVerifiedInput extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    const state = {\r\n      value: props.value\r\n    };\r\n    if (props.add && this.model.default)\r\n      this.props.setValue(this.model.id, this.model.default);\r\n    this.errormsg = this.model.text_mandatory\r\n      ? this.model.text_mandatory\r\n      : true;\r\n    this.validated = false;\r\n    this.state = state;\r\n  }\r\n  handleChange() {\r\n    this.validated = true;\r\n    const value = this.refs.input.value;\r\n    this.setState({\r\n      value: value,\r\n      error: this.model.mandatory && !value ? this.errormsg : false\r\n    });\r\n    this.props.setValue(this.model.id, value);\r\n  }\r\n  valid() {\r\n    this.validated = true;\r\n    if (this.model.mandatory && !this.state.value) {\r\n      this.setState({\r\n        error: this.errormsg\r\n      });\r\n      return false;\r\n    }\r\n    if (this.test(this.state.value)) {\r\n      this.setState({\r\n        error: \"Incorrect e-mail adress\"\r\n      });\r\n      return false;\r\n    }\r\n    if (this.state.error) delete this.state.error;\r\n    return true;\r\n  }\r\n  test(value) {\r\n    return (\r\n      (this.validated && this.model.mandatory && !value) ||\r\n      !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,6}$/im.test(value)\r\n    );\r\n  }\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (this.props.value !== nextProps.value) {\r\n      const error = this.validated && this.model.mandatory && !nextProps.value;\r\n      this.setState({\r\n        value: nextProps.value,\r\n        error: error ? this.errormsg : false\r\n      });\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    if (this.props.focus) this.refs.input.focus();\r\n  }\r\n  render() {\r\n    return (\r\n      <InputWrapper model={this.model} error={this.state.error}>\r\n        <input\r\n          ref=\"input\"\r\n          placeholder={app().t(this.model.text)}\r\n          className=\"form-control\"\r\n          value={this.state.value}\r\n          maxLength={this.model.length}\r\n          onChange={this.handleChange}\r\n          type=\"text\"\r\n        />\r\n      </InputWrapper>\r\n    );\r\n  }\r\n}\r\nexport default EmailVerifiedInput;\r\n","import React from \"react\";\r\nimport { TextView } from \"nystem-components\";\r\n\r\nconst EmailView = props => <TextView {...props} />;\r\nexport default EmailView;\r\n","import React from \"react\";\r\nimport * as components from \"nystem-components\";\r\nimport app from \"nystem\";\r\nclass FlatgroupInput extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    if (!this.model.add2id) this.model.add2id = \"\";\r\n    this.state = {\r\n      value: props.value || {}\r\n    };\r\n  }\r\n  setValue(id, value) {\r\n    const val = this.state.value;\r\n    val[this.model.add2id + id] = value;\r\n    if (this.props.setValue) this.props.setValue(this.model.add2id + id, val);\r\n  }\r\n  valid() {\r\n    let valid = true;\r\n    for (let i = 0; i < this.model.item.length; i++)\r\n      if (!this.refs[\"component\" + i].valid()) valid = false;\r\n    return valid;\r\n  }\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (this.props.value !== nextProps.value)\r\n      this.setState({ value: nextProps.value });\r\n  }\r\n  render() {\r\n    const self = this;\r\n    let groupVal = false;\r\n    function getGroupVal() {\r\n      if (!groupVal) {\r\n        if (!self.model.add2id) return self.state.value;\r\n        groupVal = {};\r\n        for (const item in self.state.value) {\r\n          const startWith = new RegExp(\"^\" + self.model.add2id, \"i\");\r\n          if (startWith.test(item))\r\n            groupVal[item.replace(startWith, \"\")] = self.state.value[item];\r\n        }\r\n      }\r\n      return groupVal;\r\n    }\r\n    const createItem = function(item, index) {\r\n      const value = item.id\r\n        ? self.state.value[self.model.add2id + item.id]\r\n        : getGroupVal();\r\n      return React.createElement(\r\n        components[app().capFirst(item.type) + \"Input\"],\r\n        {\r\n          ref: \"component\" + index,\r\n          model: item,\r\n          value: value,\r\n          setValue: self.setValue,\r\n          validated: self.props.validated,\r\n          add: self.props.add\r\n        }\r\n      );\r\n    };\r\n    return (\r\n      <div>\r\n        <h3>{app().t(this.model.text)}</h3>\r\n        <div>{this.model.item.map(createItem)}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default FlatgroupInput;\r\n","import React from \"react\";\r\nimport { InputWrapper, IntInput } from \"nystem-components\";\r\nclass FloatExposedField extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    props.view.searchProp.onUpdate(this.update);\r\n    this.classNameBase = this.model.className ? this.model.className : [];\r\n    this.updateCounter = 0;\r\n  }\r\n  update(data) {\r\n    if (this.id) {\r\n      const state = {};\r\n      const modelId = this.model.id;\r\n\r\n      state.from = this.props.view.searchProp.filter.get(this.id + \"_from\");\r\n      if (state.from !== \"undefined\" && state.from[modelId])\r\n        state.from = state.from[modelId].substring(1);\r\n      else delete state.from;\r\n\r\n      state.to = this.props.view.searchProp.filter.get(this.id + \"_to\");\r\n      if (state.to !== \"undefined\" && state.to[modelId])\r\n        state.to = state.to[modelId].substring(1);\r\n      else delete state.to;\r\n      if (typeof state.from !== \"undefined\" || typeof state.to !== \"undefined\")\r\n        this.setState(state);\r\n    }\r\n    const self = this;\r\n    if (this.updateCounter > 0) this.updateCounter--;\r\n    if (this.state.className === \"\" || this.updateCounter > 0) return;\r\n    this.setState({\r\n      className: \"has-success\"\r\n    });\r\n    this.delayTimer = setTimeout(function() {\r\n      if (self.isMounted())\r\n        self.setState({\r\n          className: \"\"\r\n        });\r\n    }, 1000);\r\n  }\r\n  search(id, value) {\r\n    if (value === \"\") value = undefined;\r\n    const self = this;\r\n    clearTimeout(this.delayTimer);\r\n    const state = {\r\n      className: \"has-warning\"\r\n    };\r\n    state[id] = value;\r\n    this.setState(state);\r\n    this.delayTimer = setTimeout(function() {\r\n      self.updateCounter++;\r\n      if (value)\r\n        if (id === \"to\") value = \"<\" + value;\r\n        else value = \">\" + value;\r\n\r\n      self.props.view.searchProp.filter.add(\r\n        self.model.id,\r\n        value,\r\n        self.id + \"_\" + id\r\n      );\r\n    }, 200);\r\n  }\r\n  componentDidMount() {}\r\n  componentWillUnmount() {\r\n    this.props.view.searchProp.offUpdate(this.update);\r\n    clearTimeout(this.delayTimer);\r\n  }\r\n  render() {\r\n    /*const model = this.props.model;\r\n    const className = model.className && !this.props.wrapper\r\n      ? model.className.join(\" \")\r\n      : \"\";*/\r\n    const modelFrom = {\r\n      id: \"from\",\r\n      placeholder: \"From\",\r\n      clearButton: true\r\n    };\r\n    const modelTo = {\r\n      id: \"to\",\r\n      placeholder: \"To\",\r\n      clearButton: true\r\n    };\r\n    const style = {\r\n      width: \"100px\"\r\n    };\r\n    return (\r\n      <InputWrapper model={this.model} error={this.state.error}>\r\n        <div className=\"form-inline\">\r\n          <IntInput\r\n            style={style}\r\n            model={modelFrom}\r\n            value={this.state.from}\r\n            setValue={this.search}\r\n          />\r\n          {\" - \"}\r\n          <IntInput\r\n            style={style}\r\n            model={modelTo}\r\n            value={this.state.to}\r\n            setValue={this.search}\r\n          />\r\n        </div>\r\n      </InputWrapper>\r\n    );\r\n  }\r\n}\r\nexport default FloatExposedField;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { InputWrapper, Input } from \"nystem-components\";\r\nclass FloatInput extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    const state = {\r\n      value: this.props.value\r\n    };\r\n    [\"handleChange\", \"valid\"].forEach(func => {\r\n      this[func] = this[func].bind(this);\r\n    });\r\n    const parts = this.model.id.split(\".\");\r\n    this.id = this.props.path\r\n      ? this.props.path + \".\" + parts[parts.length - 1]\r\n      : parts[0];\r\n    if (props.add && this.model.default)\r\n      props.setValue(this.id, this.model.default);\r\n    this.state = state;\r\n  }\r\n  handleChange(value) {\r\n    const val = value.replace(/[^0-9.]/gim, \"\");\r\n    this.setState({\r\n      value: val,\r\n      error: this.model.mandatory && !val ? this.errormsg : false\r\n    });\r\n    this.props.setValue(this.id, val);\r\n  }\r\n  valid() {\r\n    if (this.model.mandatory && !this.state.value) {\r\n      this.setState({\r\n        error: this.model.text_mandatory ? this.model.text_mandatory : true\r\n      });\r\n      return false;\r\n    }\r\n    if (this.state.error) delete this.state.error;\r\n    return true;\r\n  }\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    this.setState({\r\n      value: nextProps.value\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <InputWrapper model={this.model} error={this.state.error}>\r\n        <Input\r\n          placeholder={app().t(this.model.text)}\r\n          className=\"form-control\"\r\n          value={this.state.value || \"\"}\r\n          maxLength={this.model.length}\r\n          onChange={this.handleChange}\r\n          disabled={this.model.disabled}\r\n          type=\"text\"\r\n          focus={this.props.focus}\r\n        />\r\n      </InputWrapper>\r\n    );\r\n  }\r\n}\r\nexport default FloatInput;\r\n","import React from \"react\";\nimport { TextLink } from \"nystem-components\";\nlet IntLink = props => <TextLink {...props} />;\nexport default IntLink;\n","import React from \"react\";\nimport { TextSortBy } from \"nystem-components\";\nlet IntSortBy = props => <TextSortBy {...props} />;\nexport default IntSortBy;\n","import React from \"react\";\r\nimport { TextView } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nfunction outputFloat({ value, model }) {\r\n  if (!value || !model || !model.tofixed) return value;\r\n  value = parseFloat(value).toFixed(model.tofixed);\r\n  return app().settings.lang === \"sv\" ? value.replace(\".\", \",\") : value;\r\n}\r\n\r\nlet FloatView = props => <TextView {...props} value={outputFloat(props)} />;\r\nexport default FloatView;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Panel, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst GroupInput = ({ model, path }) => {\r\n  const { text, item } = model;\r\n  return (\r\n    <Panel\r\n      type=\"default\"\r\n      expanded={true}\r\n      header={app().t(text)}\r\n      body={<ContentTypeRender path={path} items={item} />}\r\n    />\r\n  );\r\n};\r\nexport default GroupInput;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst GroupView = ({ model, path }) => (\r\n  <Wrapper className={model.className}>\r\n    <ContentTypeRender items={model.item} path={path} />\r\n  </Wrapper>\r\n);\r\nexport default GroupView;\r\n","import React from \"react\";\r\nimport { InputWrapper, IntInput } from \"nystem-components\";\r\nclass IntExposedField extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    props.view.searchProp.onUpdate(this.update);\r\n    this.classNameBase = this.model.className ? this.model.className : [];\r\n    this.updateCounter = 0;\r\n  }\r\n  update(data) {\r\n    if (this.id) {\r\n      const state = {};\r\n      const modelId = this.model.id;\r\n\r\n      state.from = this.props.view.searchProp.filter.get(this.id + \"_from\");\r\n      if (state.from !== \"undefined\" && state.from[modelId])\r\n        state.from = state.from[modelId].substring(1);\r\n      else delete state.from;\r\n\r\n      state.to = this.props.view.searchProp.filter.get(this.id + \"_to\");\r\n      if (state.to !== \"undefined\" && state.to[modelId])\r\n        state.to = state.to[modelId].substring(1);\r\n      else delete state.to;\r\n      if (typeof state.from !== \"undefined\" || typeof state.to !== \"undefined\")\r\n        this.setState(state);\r\n    }\r\n    const self = this;\r\n    if (this.updateCounter > 0) this.updateCounter--;\r\n    if (this.state.className === \"\" || this.updateCounter > 0) return;\r\n    this.setState({\r\n      className: \"has-success\"\r\n    });\r\n    this.delayTimer = setTimeout(function() {\r\n      if (self.isMounted())\r\n        self.setState({\r\n          className: \"\"\r\n        });\r\n    }, 1000);\r\n  }\r\n  search(id, value) {\r\n    if (value === \"\") value = undefined;\r\n    const self = this;\r\n    clearTimeout(this.delayTimer);\r\n    const state = {\r\n      className: \"has-warning\"\r\n    };\r\n    state[id] = value;\r\n    this.setState(state);\r\n    this.delayTimer = setTimeout(function() {\r\n      self.updateCounter++;\r\n      if (value)\r\n        if (id === \"to\") value = \"<\" + value;\r\n        else value = \">\" + value;\r\n\r\n      self.props.view.searchProp.filter.add(\r\n        self.model.id,\r\n        value,\r\n        self.id + \"_\" + id\r\n      );\r\n    }, 200);\r\n  }\r\n  componentDidMount() {}\r\n  componentWillUnmount() {\r\n    this.props.view.searchProp.offUpdate(this.update);\r\n    clearTimeout(this.delayTimer);\r\n  }\r\n  render() {\r\n    /*const model = this.props.model;\r\n    const className = model.className && !this.props.wrapper\r\n      ? model.className.join(\" \")\r\n      : \"\";*/\r\n    const modelFrom = {\r\n      id: \"from\",\r\n      placeholder: \"From\",\r\n      clearButton: true\r\n    };\r\n    const modelTo = {\r\n      id: \"to\",\r\n      placeholder: \"To\",\r\n      clearButton: true\r\n    };\r\n    const style = {\r\n      width: \"100px\"\r\n    };\r\n    return (\r\n      <InputWrapper model={this.model} error={this.state.error}>\r\n        <div className=\"form-inline\">\r\n          <IntInput\r\n            style={style}\r\n            model={modelFrom}\r\n            value={this.state.from}\r\n            setValue={this.search}\r\n          />\r\n          {\" - \"}\r\n          <IntInput\r\n            style={style}\r\n            model={modelTo}\r\n            value={this.state.to}\r\n            setValue={this.search}\r\n          />\r\n        </div>\r\n      </InputWrapper>\r\n    );\r\n  }\r\n}\r\nexport default IntExposedField;\r\n","export default ({ value, model }) =>\r\n  model.mandatory && !value && model.text_mandatory;\r\n","import React from \"react\";\r\nimport { InputWrapper, Input, UseValidator } from \"nystem-components\";\r\nimport app from \"nystem\";\r\nimport validate from \"./validate\";\r\n\r\nconst IntInput = ({ model, view, focus, setValue, value, className }) => {\r\n  const [error, setValidated] = UseValidator({ view, validate, value, model });\r\n  const { disabled, length, text, clearButton } = model;\r\n\r\n  const componentClassName = [\r\n    className,\r\n    ...(model.className || []),\r\n    \"textInput\"\r\n  ];\r\n  if (clearButton) componentClassName.push(\"flex\");\r\n\r\n  const inputClassName = [\"textInputDefault\"];\r\n  if (error) inputClassName.push(\"textInputError\");\r\n\r\n  return (\r\n    <InputWrapper\r\n      model={{ ...model, classNameInput: \"flex\", classNameLabel: \" \" }}\r\n      error={error}\r\n      className={componentClassName}\r\n    >\r\n      <Input\r\n        placeholder={app().t(text)}\r\n        className={inputClassName}\r\n        value={value || \"\"}\r\n        maxLength={length}\r\n        onChange={value => setValue(value.replace(/[^0-9]/gim, \"\"))}\r\n        disabled={disabled}\r\n        type=\"text\"\r\n        focus={focus}\r\n        onBlur={() => setValidated(true)}\r\n      />\r\n    </InputWrapper>\r\n  );\r\n};\r\nexport default IntInput;\r\n","import React from \"react\";\nimport { TextLink } from \"nystem-components\";\nlet IntLink = props => <TextLink {...props} />;\nexport default IntLink;\n","import React from \"react\";\r\nimport { TextSortBy } from \"nystem-components\";\r\n\r\nconst IntSortBy = props => <TextSortBy {...props} />;\r\nexport default IntSortBy;\r\n","import React from \"react\";\nimport { TextView } from \"nystem-components\";\nlet IntView = props => <TextView {...props} />;\nexport default IntView;\n","import React from \"react\";\r\nimport { InputWrapper, Input } from \"nystem-components\";\r\n\r\nconst MatrixInput = ({ value, model, setValue }) => {\r\n  const { limit = 0, rowLabel } = model;\r\n\r\n  value = value || [];\r\n  if (!limit || value.length < limit) value = [...value, []];\r\n\r\n  const handleChange = (atRow, index, newVal) => {\r\n    const len = value.length;\r\n    const val = value.slice(0, atRow === len - 1 ? len : len - 1);\r\n\r\n    val[atRow][index] = newVal;\r\n\r\n    if (val[len - 2] && !val[len - 2][0]) setValue(val.slice(0, len - 2));\r\n    else setValue(val);\r\n  };\r\n\r\n  const mapHeader = (item, index) => <th key={index}>{item}</th>;\r\n\r\n  const mapField = (label, atRow, index) => {\r\n    const val = value[atRow][index] ? value[atRow][index] : \"\";\r\n    return (\r\n      <td key={index}>\r\n        <Input\r\n          placeholder={label}\r\n          className=\"form-control\"\r\n          value={val}\r\n          maxLength={model.length}\r\n          onChange={(val) => handleChange(atRow, index, val)}\r\n          type=\"text\"\r\n        />\r\n      </td>\r\n    );\r\n  };\r\n\r\n  const mapRow = (item, rowIndex) => (\r\n    <tr key={rowIndex}>\r\n      {model.rowLabel.map((label, index) => mapField(label, rowIndex, index))}\r\n    </tr>\r\n  );\r\n\r\n  return (\r\n    <InputWrapper model={model}>\r\n      <table>\r\n        <thead>\r\n          <tr>{rowLabel.map(mapHeader)}</tr>\r\n        </thead>\r\n        <tbody>{value.map(mapRow)}</tbody>\r\n      </table>\r\n    </InputWrapper>\r\n  );\r\n};\r\nexport default MatrixInput;\r\n","import React from \"react\";\r\n\r\nclass MatrixInputlist extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    let val = props.value || [];\r\n    if (!(val instanceof Array)) val = [val];\r\n    if (val.length > props.limit) this.state = { value: val.concat([]) };\r\n    else this.state = { value: val.concat([\"\"]) };\r\n  }\r\n  handleChange() {\r\n    const val = [];\r\n    for (let i = 0; i < this.state.value.length; i++) {\r\n      const oneVal = this.refs[`input${i}`].value;\r\n      if (oneVal) val.push(oneVal);\r\n    }\r\n    if (this.props.setValue) this.props.setValue(val);\r\n\r\n    this.setState({\r\n      value: val.length > this.props.limit ? val.concat([\"\"]) : val.concat([])\r\n    });\r\n  }\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (this.props.value !== nextProps.value) {\r\n      let val = nextProps.value;\r\n      if (typeof nextProps.value === \"string\") val = [nextProps.value];\r\n      this.setState({ value: val.concat([\"\"]) });\r\n    }\r\n  }\r\n  render() {\r\n    const self = this;\r\n    const inputKeyField = function(item, index) {\r\n      return (\r\n        <input\r\n          ref={`inputKey${index}`}\r\n          className=\"form-control\"\r\n          value={item}\r\n          onChange={self.handleKeyChange}\r\n          type=\"text\"\r\n        />\r\n      );\r\n    };\r\n    const inputValueField = function(item, index) {\r\n      return (\r\n        <input\r\n          ref={`inputValue${index}`}\r\n          className=\"form-control\"\r\n          value={item}\r\n          onChange={self.handleChange}\r\n          type=\"text\"\r\n        />\r\n      );\r\n    };\r\n    return (\r\n      <div>\r\n        <div className=\"col-sm-3\">{this.state.value.map(inputKeyField)}</div>\r\n        <div className=\"col-sm-3\">{this.state.value.map(inputValueField)}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default MatrixInputlist;\r\n","import React, { useState } from \"react\";\r\nimport app from \"nystem\";\r\nimport {\r\n  Panel,\r\n  MultigroupOneInput,\r\n  Button,\r\n  BootstrapPanelToggle,\r\n  Wrapper,\r\n} from \"nystem-components\";\r\n\r\nconst MultigroupInput = ({ value, setValue, model, path, view }) => {\r\n  const [ids, setIds] = useState({});\r\n  value = value || [];\r\n\r\n  const addItem = () => {\r\n    value.push({});\r\n    setValue(value);\r\n  };\r\n\r\n  const createItem = function (item, index) {\r\n    const id = ids[index] || app().utils.uuid();\r\n    if (!ids[index]) setIds({ ...ids, [index]: id });\r\n\r\n    return React.createElement(MultigroupOneInput, {\r\n      key: id,\r\n      model,\r\n      value,\r\n      setValue,\r\n      expanded: model.itemExpanded,\r\n      last: index === value.length - 1,\r\n      view,\r\n      path: `${path}.${index}`,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Panel\r\n      type=\"default\"\r\n      expandable={model.expandable}\r\n      expanded={model.expanded}\r\n      icon={model.expandable}\r\n      header={\r\n        <Wrapper className=\"flex items-center\">\r\n          <BootstrapPanelToggle\r\n            model={{ ...model, icon: true, className: \"flex items-center\" }}\r\n          >\r\n            {model.text}\r\n          </BootstrapPanelToggle>\r\n          <Button\r\n            onClick={addItem}\r\n            type=\"primary\"\r\n            size=\"xs\"\r\n            className=\"ml-auto\"\r\n          >\r\n            Add\r\n          </Button>\r\n        </Wrapper>\r\n      }\r\n      body={value.map(createItem)}\r\n    />\r\n  );\r\n};\r\nexport default MultigroupInput;\r\n","import React from \"react\";\r\nimport {\r\n  Panel,\r\n  ContentTypeRender,\r\n  BootstrapPanelToggle,\r\n  Button,\r\n  Wrapper,\r\n} from \"nystem-components\";\r\n\r\nconst MultigroupOneInput = ({ value, model, focus, path, setValue }) => {\r\n  const field = model.item && model.item[0] && model.item[0].id;\r\n  let text = value[field] || \"\";\r\n  if (text instanceof Array) text = text.join(\" \");\r\n\r\n  const onClose = (id) => {\r\n    value.splice(id, 1);\r\n    setValue(value);\r\n  };\r\n\r\n  if (model.info && value[model.info]) text += ` (${value[model.info]})`;\r\n\r\n  return (\r\n    <Panel\r\n      type=\"default\"\r\n      expanded={focus}\r\n      expandable={model.itemExpandable}\r\n      icon={model.itemExpandable}\r\n      header={\r\n        <Wrapper className=\"flex items-center\">\r\n          <BootstrapPanelToggle\r\n            model={{\r\n              ...model,\r\n              item: undefined,\r\n              icon: true,\r\n              className: \"flex items-center\",\r\n            }}\r\n          >\r\n            {text || \"Item\"}\r\n          </BootstrapPanelToggle>\r\n          <Button\r\n            onClick={onClose}\r\n            type=\"primary\"\r\n            className=\"ml-auto\"\r\n            size=\"xs\"\r\n          >\r\n            Remove\r\n          </Button>\r\n        </Wrapper>\r\n      }\r\n      body={<ContentTypeRender path={path} items={model.item} />}\r\n    />\r\n  );\r\n};\r\nexport default MultigroupOneInput;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst MultigroupOneView = ({ model, path }) => {\r\n  const className = model.rowClassName ? model.rowClassName.join(\" \") : \"\";\r\n\r\n  return (\r\n    <Wrapper className={className}>\r\n      <ContentTypeRender items={model.items} path={path} />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default MultigroupOneView;\r\n","import React from \"react\";\r\n\r\nclass MultigroupSortBy extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.props.view.searchProp.onUpdate(this.update);\r\n    return {\r\n      isSortBy: props.view.searchProp.isSortBy\r\n        ? props.view.searchProp.isSortBy(this.model.id)\r\n        : false\r\n    };\r\n  }\r\n  update(data) {\r\n    const isSortBy = this.props.view.searchProp.isSortBy(this.model.id);\r\n    if (isSortBy !== this.state.isSortBy)\r\n      this.setState({\r\n        isSortBy: isSortBy\r\n      });\r\n  }\r\n  handleSort(event) {\r\n    let href = event.target.getAttribute(\"href\");\r\n    if (!href && event.target)\r\n      href = event.target.parentNode.getAttribute(\"href\");\r\n    this.props.view.searchProp.sortBy(href);\r\n    return false;\r\n  }\r\n  componentWillUnmount() {\r\n    this.props.view.searchProp.offUpdate(this.update);\r\n  }\r\n  render() {\r\n    const { model } = this;\r\n    const className = model.className ? model.className.join(\" \") : \"\";\r\n    if (this.state.isSortBy)\r\n      return (\r\n        <div className={className}>\r\n          {model.text} <span className={`fa fa-arrow-${this.state.isSortBy}`} />\r\n        </div>\r\n      );\r\n    return <div className={className}>{model.text}</div>;\r\n  }\r\n}\r\nexport default MultigroupSortBy;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { MultigroupOneView, Wrapper } from \"nystem-components\";\r\n\r\nclass MultigroupView extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    const state = {\r\n      value: props.value\r\n    };\r\n    this.ids = [];\r\n    this.path = props.path ? `${props.path}.${this.model.id}` : this.model.id;\r\n    this.state = state;\r\n\r\n    [\"setValue\", \"addItem\", \"onClose\", \"valid\"].forEach(func => {\r\n      this[func] = this[func].bind(this);\r\n    });\r\n    props.view.on(\"multigroupDelete\", this.onClose);\r\n  }\r\n  setValue(id, val) {\r\n    let { value } = this.props;\r\n    if (!value) value = [];\r\n    value[id] = val;\r\n    if (this.props.setValue) this.props.setValue(this.model.id, value);\r\n  }\r\n  valid() {\r\n    let valid = true;\r\n    for (let i = 0; i < this.model.item.length; i++)\r\n      if (this.refs[`component${i}`] && !this.refs[`component${i}`].valid())\r\n        valid = false;\r\n    return valid;\r\n  }\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (this.props.value !== nextProps.value)\r\n      this.setState({ value: nextProps.value });\r\n  }\r\n  addItem() {\r\n    const value = this.props.value || [];\r\n    value.push({});\r\n    this.props.setValue(this.model.id, value);\r\n  }\r\n  onClose(id) {\r\n    if (typeof id === \"object\") {\r\n      const path = id.path.split(\".\");\r\n      id = parseInt(path[path.length - 1], 10);\r\n    }\r\n    const value = this.props.value || [];\r\n    value.splice(id, 1);\r\n    this.ids.splice(id, 1);\r\n    this.props.setValue(this.model.id, value);\r\n  }\r\n  componentWillUnmount() {\r\n    this.props.view.off(\"multigroupDelete\", this.onClose);\r\n  }\r\n  render() {\r\n    const self = this;\r\n    const createItem = function(item, index) {\r\n      if (!self.ids[index]) self.ids[index] = app().utils.uuid();\r\n      return React.createElement(MultigroupOneView, {\r\n        key: self.ids[index],\r\n        ref: `component${index}`,\r\n        id: index,\r\n        model: self.model,\r\n        value: item,\r\n        setValue: self.setValue,\r\n        add: self.props.add,\r\n        expanded: self.model.itemExpanded,\r\n        onClose: self.onClose,\r\n        last: index === value.length - 1,\r\n        view: self.props.view,\r\n        path: self.path\r\n      });\r\n    };\r\n    const value = this.props.value || [];\r\n    return <Wrapper>{value.map(createItem)}</Wrapper>;\r\n  }\r\n}\r\nexport default MultigroupView;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst MultilinetextFields = ({ value, model, path }) => {\r\n  if (!value) return null;\r\n  const { limit, item, className } = model;\r\n\r\n  value = value instanceof Array ? value : [value];\r\n  if (limit) value = value.slice(0, limit);\r\n\r\n  return (\r\n    <Wrapper>\r\n      {value.map((val, index) => (\r\n        <Wrapper key={index} className={className}>\r\n          <a href={`http://${val}`} rel=\"noopener noreferrer\" target=\"_blank\">\r\n            <ContentTypeRender path={path} items={item} />\r\n          </a>\r\n        </Wrapper>\r\n      ))}\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default MultilinetextFields;\r\n","const text_mandatory = \"Field is mandatory\";\r\n\r\nexport default ({ value, model }) =>\r\n  model.mandatory &&\r\n  !value &&\r\n  !value.length &&\r\n  (model.text_mandatory || text_mandatory);\r\n","import React from \"react\";\r\nimport { Input, InputWrapper, UseValidator } from \"nystem-components\";\r\nimport validate from \"./validate\";\r\n\r\nconst MultilinetextInput = ({ model, value, setValue, focus, view }) => {\r\n  const [error, setValidated] = UseValidator({ view, validate, value, model });\r\n  value = value instanceof Array ? value : value ? [value] : [];\r\n\r\n  value = value.filter(value => value !== \"\");\r\n  value.push(\"\");\r\n\r\n  const onChange = (itemValue, index) => {\r\n    value[index] = itemValue;\r\n    setValidated(true);\r\n    setValue(value);\r\n  };\r\n\r\n  return (\r\n    <InputWrapper model={model} error={error}>\r\n      {value.map((value, index) => (\r\n        <div key={index}>\r\n          <Input\r\n            className=\"textInputDefault\"\r\n            value={value}\r\n            onChange={value => onChange(value, index)}\r\n          />\r\n        </div>\r\n      ))}\r\n    </InputWrapper>\r\n  );\r\n};\r\n\r\nexport default MultilinetextInput;\r\n","import React from \"react\";\r\n\r\nclass MultilinetextInputlist extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    let val = props.value || [];\r\n    if (!(val instanceof Array)) val = [val];\r\n    if (props.limit && val.length > props.limit)\r\n      return { value: val.concat([]) };\r\n    return { value: val.concat([\"\"]) };\r\n  }\r\n  handleChange() {\r\n    const val = [];\r\n    for (let i = 0; i < this.state.value.length; i++) {\r\n      const oneVal = this.refs[`input${i}`].value;\r\n      if (oneVal) val.push(oneVal);\r\n    }\r\n    if (this.props.setValue) this.props.setValue(val);\r\n    if (val.length > this.props.limit)\r\n      this.setState({\r\n        value: val.concat([])\r\n      });\r\n    else\r\n      this.setState({\r\n        value: val.concat([\"\"])\r\n      });\r\n  }\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (this.props.value !== nextProps.value) {\r\n      let val = nextProps.value;\r\n      if (typeof nextProps.value === \"string\") val = [nextProps.value];\r\n      if (this.props.limit && val.length > this.props.limit)\r\n        this.setState({ value: val.concat([]) });\r\n      else this.setState({ value: val.concat([\"\"]) });\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    if (this.props.focus)\r\n      this.refs[`input${this.state.value.length - 1}`].focus();\r\n  }\r\n  render() {\r\n    const self = this;\r\n    function inputField(item, index) {\r\n      return (\r\n        <input\r\n          key={`input${index}`}\r\n          ref={`input${index}`}\r\n          className=\"form-control\"\r\n          value={item}\r\n          onChange={self.handleChange}\r\n          type=\"text\"\r\n        />\r\n      );\r\n    }\r\n    return <div>{this.state.value.map(inputField)}</div>;\r\n  }\r\n}\r\nexport default MultilinetextInputlist;\r\n","import React from \"react\";\r\n\r\nclass MultilinetextList extends React.Component {\r\n  render() {\r\n    let { value } = this.props;\r\n    const createItem = function(item, index) {\r\n      const add = value.length !== index + 1 ? \", \" : \"\";\r\n      return (\r\n        <span key={index}>\r\n          <a href={`http://${item}`} rel=\"noopener noreferrer\" target=\"_blank\">\r\n            {item}\r\n          </a>\r\n          {add}\r\n        </span>\r\n      );\r\n    };\r\n    if (!value) return null;\r\n    if (!(value instanceof Array)) value = [value];\r\n    const { model } = this.props;\r\n    const className =\r\n      model.className && !this.props.wrapper ? model.className.join(\" \") : \"\";\r\n    if (value.length > 2)\r\n      return (\r\n        <div className={className.replace(\"btn\", \"\")}>\r\n          {value.map(createItem)}\r\n        </div>\r\n      );\r\n    return <div className={className}>{value.map(createItem)}</div>;\r\n  }\r\n}\r\nexport default MultilinetextList;\r\n","import React from \"react\";\r\n\r\nconst MultilinetextView = ({ value }) => {\r\n  if (!value) return null;\r\n\r\n  value = value instanceof Array ? value : [value];\r\n\r\n  return (\r\n    <div>\r\n      {value.map((item, index) => (\r\n        <div key={index}>\r\n          <a href={`http://${item}`} rel=\"noopener noreferrer\" target=\"_blank\">\r\n            {item}\r\n          </a>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\nexport default MultilinetextView;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { InputWrapper } from \"nystem-components\";\r\n\r\nclass ReferenceDropdown extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const self = this;\r\n    this.model = props.model;\r\n    const state = {\r\n      value: props.value,\r\n      option: []\r\n    };\r\n    this.namefield = this.model.namefield ? this.model.namefield : \"name\";\r\n    if (this.model.default && !state.value)\r\n      self.props.setValue(this.model.default);\r\n\r\n    state.option = [];\r\n\r\n    this.state = state;\r\n  }\r\n  handleChange = () => {\r\n    const { value } = this.refs.input;\r\n    this.props.setValue(value);\r\n  };\r\n  valid = () => {\r\n    if (this.model.mandatory && !this.state.value) {\r\n      this.setState({\r\n        error: this.model.text_mandatory ? this.model.text_mandatory : true\r\n      });\r\n      return false;\r\n    }\r\n    if (this.state.error) delete this.state.error;\r\n    return true;\r\n  };\r\n  loadOption = () => {\r\n    const { model, getValue, path } = this.props;\r\n    app()\r\n      .database[model.source].search({\r\n        autoUpdate: true,\r\n        filter: app().parseFilter(model.filter, getValue, path),\r\n        count: 100\r\n      })\r\n      .then(({ data, offline }) => {\r\n        if (offline) {\r\n          app().connection.on(\"connect\", this.loadOption);\r\n          app().connection.on(\"connect\", this.loadOption);\r\n        } else app().connection.off(\"connect\", this.loadOption);\r\n\r\n        this.setState({ option: data });\r\n      });\r\n  };\r\n  componentDidMount() {\r\n    this.loadOption();\r\n  }\r\n  componentWillUnmount() {\r\n    app().connection.off(\"connect\", this.loadOption);\r\n  }\r\n  render() {\r\n    const self = this;\r\n    let { value } = this.props;\r\n    if (!value) value = [];\r\n    if (!(value instanceof Array)) value = [value];\r\n\r\n    const optionData = this.state.option || [];\r\n\r\n    function option(item, index) {\r\n      if (!item) return null;\r\n      return (\r\n        <option key={item._id || index} value={item._id}>\r\n          {item[self.namefield]}\r\n        </option>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <InputWrapper model={this.model} error={this.state.error}>\r\n        <select\r\n          className=\"block sm:w-1/2 w-full bg-grey-lighter text-grey-darker border border-grey-lighter rounded py-2 px-3\"\r\n          onChange={this.handleChange}\r\n          value={value[0]}\r\n          ref=\"input\"\r\n        >\r\n          <option key=\"_\" id=\"\" value=\"\">\r\n            -- select --\r\n          </option>\r\n          {optionData.map(option)}\r\n        </select>\r\n      </InputWrapper>\r\n    );\r\n  }\r\n}\r\nexport default ReferenceDropdown;\r\n// 57 40 35\r\n","import React from \"react\";\r\nimport { ContentTypeView, InputWrapper } from \"nystem-components\";\r\nclass ReferenceDropdownFromField extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const model = props.model;\r\n    const view = props.view;\r\n    document.addEventListener(\"click\", this.mouseUp, false);\r\n    const state = {\r\n      value: props.value,\r\n      option: view.baseView.value[model.fromField],\r\n      open: false,\r\n      error: false,\r\n    };\r\n    this.state = state;\r\n  }\r\n  mouseUp(event) {\r\n    if (!this.inside)\r\n      this.setState({\r\n        open: false,\r\n      });\r\n    this.inside = false;\r\n  }\r\n  handleChange(id) {\r\n    this.inside = true;\r\n    const val = this.state.value;\r\n    const model = this.props.model;\r\n    if (val === id || typeof id !== \"string\")\r\n      this.setState({\r\n        open: !this.state.open,\r\n      });\r\n    else {\r\n      this.props.setValue(model.id, id);\r\n      this.setState({\r\n        open: !this.state.open,\r\n      });\r\n    }\r\n  }\r\n  valid() {\r\n    if (this.model.mandatory && !this.state.value) {\r\n      this.setState({\r\n        error: this.model.text_mandatory ? this.model.text_mandatory : true,\r\n      });\r\n      return false;\r\n    }\r\n    if (this.state.error) delete this.state.error;\r\n    return true;\r\n  }\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    const model = this.props.model;\r\n    if (this.props.value !== nextProps.value) {\r\n      const error = this.validated && model.mandatory && !nextProps.value;\r\n      this.setState({\r\n        value: nextProps.value,\r\n        error: error ? this.errormsg : false,\r\n      });\r\n    }\r\n  }\r\n  componentWillUnmount() {\r\n    document.removeEventListener(\"click\", this.mouseUp, false);\r\n  }\r\n  render() {\r\n    const self = this;\r\n    const model = this.props.model;\r\n\r\n    const value = this.state.value;\r\n\r\n    function option(item, index) {\r\n      if (index !== -1 && item === value) return null;\r\n      function handleClick() {\r\n        self.handleChange(item);\r\n      }\r\n\r\n      return (\r\n        <div key={item} className=\"item\" onClick={handleClick}>\r\n          <ContentTypeView\r\n            contentType={model.source}\r\n            format={model.view}\r\n            id={item}\r\n            baseView={self.props.view}\r\n          />\r\n        </div>\r\n      );\r\n    }\r\n\r\n    let selected;\r\n    if (value) selected = option(value, -1);\r\n    else\r\n      selected = (\r\n        <div onClick={this.handleChange}>\r\n          {\" \"}\r\n          -- select -- <span className=\"fa fa-triangle-bottom\" />\r\n        </div>\r\n      );\r\n\r\n    let openView = null;\r\n    if (this.state.open)\r\n      openView = (\r\n        <div className=\"form-control dropdown-open\">\r\n          {this.state.option.map(option)}\r\n        </div>\r\n      );\r\n\r\n    return (\r\n      <InputWrapper model={model} error={this.state.error}>\r\n        <div className=\"form-control dropdown\">{selected}</div>\r\n        {openView}\r\n      </InputWrapper>\r\n    );\r\n  }\r\n}\r\nexport default ReferenceDropdownFromField;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { SelectExposedField } from \"nystem-components\";\r\n\r\nclass ReferenceExposedField extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.state = {\r\n      value: props.value,\r\n      option: []\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    app()\r\n      .database[this.model.source].search({\r\n        autoUpdate: true,\r\n        filter: app().parseFilter(\r\n          this.model.filter,\r\n          this.props.getValue,\r\n          this.props.path\r\n        ),\r\n        count: 100\r\n      })\r\n      .then(({ data: option }) => this.setState({ option }));\r\n  }\r\n\r\n  render() {\r\n    const model = app().utils.clone(this.props.model);\r\n    delete model.source;\r\n\r\n    model.option = this.state.option.map(item => ({\r\n      ...item,\r\n      text: item[model.textField || \"name\"]\r\n    }));\r\n    if (!this.state.option || this.state.option.length === 0) return null;\r\n    return <SelectExposedField model={model} view={this.props.view} />;\r\n  }\r\n}\r\nexport default ReferenceExposedField;\r\n","import React from \"react\";\r\nimport { ContentTypeView, InputWrapper, Wrapper } from \"nystem-components\";\r\n\r\nconst ReferenceFirst = ({ model, view, value = [] }) => {\r\n  value = value instanceof Array ? value[0] : value;\r\n  const { renderFormat, className, source, itemClassName } = model;\r\n\r\n  const option = (item, index) => (\r\n    <ContentTypeView\r\n      key={item}\r\n      contentType={source}\r\n      baseView={view}\r\n      format={renderFormat || \"view\"}\r\n      id={item}\r\n      params={view.params}\r\n      className={itemClassName}\r\n      onReference={(item) => view.event(item.event, { ...item, model })}\r\n    />\r\n  );\r\n\r\n  if (model.wrapper)\r\n    return <InputWrapper model={model}>{option(value)}</InputWrapper>;\r\n\r\n  return <Wrapper className={className}>{option(value)}</Wrapper>;\r\n};\r\nexport default ReferenceFirst;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport app from \"nystem\";\r\nimport {\r\n  InputWrapper,\r\n  ReferenceView,\r\n  Wrapper,\r\n  ReferenceSortable,\r\n  Button,\r\n  ViewInViewView,\r\n} from \"nystem-components\";\r\n\r\nconst useSearch = ({ contentType, searchVal, sortby } = {}) => {\r\n  const [result, setResult] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (!contentType) return;\r\n\r\n    const db = app().database[contentType];\r\n    db.search({\r\n      filter: searchVal && { $all: searchVal },\r\n      count: 100,\r\n      data: undefined,\r\n      sortby,\r\n    }).then(({ data }) => setResult(data || []));\r\n  }, [setResult, contentType, searchVal, sortby]);\r\n\r\n  return { result };\r\n};\r\n\r\nconst Input = ({ selectAllOnFocus, focus, onBlur, onFocus, ...props }) => {\r\n  const inputEl = useRef(null);\r\n  const [inFocus, setInFocus] = useState(false);\r\n  useEffect(() => {\r\n    if (!focus || inFocus) return;\r\n    inputEl.current.focus();\r\n  }, [focus, inFocus, onBlur]);\r\n\r\n  let { className } = props;\r\n  className = className instanceof Array ? className.join(\" \") : className;\r\n\r\n  return (\r\n    <input\r\n      ref={inputEl}\r\n      {...props}\r\n      className={`appearance-none block bg-grey-lighter text-grey-darker border border-grey-lighter rounded py-2 px-3 ${\r\n        className || \"sm:w-1/2 w-full\"\r\n      }`}\r\n      onChange={(e) => props.onChange(e.target.value)}\r\n      onFocus={(ev) => {\r\n        if (selectAllOnFocus) inputEl.current.select();\r\n        setInFocus(true);\r\n        if (onFocus) onFocus();\r\n      }}\r\n      onBlur={() => {\r\n        setInFocus(false);\r\n        onBlur();\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nconst InlineAdd = ({ model, view }) => {\r\n  const [isAdding, setIsAdding] = useState(false);\r\n  if (!model.inlineAdd) return null;\r\n  if (!isAdding)\r\n    return (\r\n      <Button\r\n        onClick={() => setIsAdding(true)}\r\n        size=\"sm\"\r\n        className=\"mb-1 float-right\"\r\n      >\r\n        Create new\r\n      </Button>\r\n    );\r\n  return (\r\n    <ViewInViewView\r\n      model={{ contentType: model.source, view: model.inlineAdd }}\r\n      onSave={({ _id }) => {\r\n        view.event(\"referenceAdd\", { model, value: { _id }, close: true });\r\n        setIsAdding(false);\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nconst ReferenceInput = ({ model, view, value = [], setValue }) => {\r\n  const { source } = model;\r\n  const [inFocus, setInFocus] = useState(false);\r\n  const [searchVal, setSearchVal] = useState(\"\");\r\n  const { result } =\r\n    useSearch({ contentType: source, searchVal, sortby: model.sortby }) || {};\r\n\r\n  value = value instanceof Array ? value : [value];\r\n  const error = undefined;\r\n\r\n  useEffect(() => {\r\n    const add = ({ model: addModel, value: addValue, close }) => {\r\n      if (addModel.id !== model.id) return;\r\n\r\n      setValue([...value, addValue._id]);\r\n      if (!close) setInFocus(true);\r\n\r\n      setSearchVal(\"\");\r\n    };\r\n    const remove = ({ model: removeModel, value: removeValue }) => {\r\n      if (removeModel.id !== model.id) return;\r\n\r\n      setValue(value.filter((id) => id !== removeValue._id));\r\n    };\r\n    view.on(\"referenceAdd\", add);\r\n    view.on(\"referenceRemove\", remove);\r\n    return () => {\r\n      view.off(\"referenceAdd\", add);\r\n      view.off(\"referenceRemove\", remove);\r\n    };\r\n  }, [view, setValue, value, setInFocus, model.id]);\r\n\r\n  let clicked = false;\r\n  const itemsSelect =\r\n    result.map((item) => item._id).filter((id) => !value.includes(id)) || [];\r\n\r\n  const addable = !model.limit || value.length < model.limit || null;\r\n\r\n  return (\r\n    <InputWrapper\r\n      model={{ ...model, classNameInput: \"relative flex-grow\" }}\r\n      error={error}\r\n    >\r\n      {(value.length || null) && (\r\n        <Wrapper className=\"px-1 pb-2 pt-1 w-full max-w-sm\">\r\n          <ReferenceSortable\r\n            model={model}\r\n            view={view}\r\n            value={value}\r\n            setValue={setValue}\r\n          />\r\n        </Wrapper>\r\n      )}\r\n      {addable && (\r\n        <>\r\n          <InlineAdd model={model} view={view} />\r\n          <Input\r\n            onFocus={() => setInFocus(true)}\r\n            onBlur={() => {\r\n              if (!clicked) setInFocus(false);\r\n            }}\r\n            onChange={(value) => setSearchVal(value)}\r\n            value={searchVal}\r\n            placeholder=\"Search and add existing\"\r\n            focus={inFocus}\r\n          />\r\n        </>\r\n      )}\r\n      {addable && inFocus && (\r\n        <Wrapper\r\n          className=\"absolute shadow-md sm:w-1/2 w-full bg-white overflow-y-auto z-10 max-h-400\"\r\n          onMouseDown={() => {\r\n            clicked = true;\r\n            setInFocus(true);\r\n            setTimeout(() => {\r\n              clicked = false;\r\n            }, 500);\r\n          }}\r\n        >\r\n          {itemsSelect.length ? (\r\n            <ReferenceView\r\n              model={{ ...model, renderFormat: model.renderFormatSelect }}\r\n              value={itemsSelect}\r\n              view={view}\r\n            />\r\n          ) : (\r\n            <Wrapper className=\"p-2 bg-red-200\">No addable items found</Wrapper>\r\n          )}\r\n        </Wrapper>\r\n      )}\r\n    </InputWrapper>\r\n  );\r\n};\r\nexport default ReferenceInput;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport app from \"nystem\";\r\nimport { SelectInput } from \"nystem-components\";\r\n\r\nconst ReferenceSelect = ({ model, setValue, value, view, path }) => {\r\n  const [option, setOption] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const loadOption = () => {\r\n      const namefield = model.namefield ? model.namefield : \"name\";\r\n      app()\r\n        .database[model.source].search({\r\n          autoUpdate: true,\r\n          filter: app().parseFilter(model.filter, view.getValue, path),\r\n          count: 100\r\n        })\r\n        .then(({ data, offline }) => {\r\n          if (offline) {\r\n            app().connection.on(\"connect\", loadOption);\r\n            app().connection.on(\"connect\", loadOption);\r\n          } else app().connection.off(\"connect\", loadOption);\r\n\r\n          setOption(\r\n            data.map(item => ({ _id: item._id, text: item[namefield] }))\r\n          );\r\n        });\r\n    };\r\n    loadOption();\r\n    return () => {\r\n      app().connection.off(\"connect\", loadOption);\r\n    };\r\n  }, [model, path, view]);\r\n\r\n  if (!value) value = [];\r\n  if (!(value instanceof Array)) value = [value];\r\n\r\n  return (\r\n    <SelectInput\r\n      model={{ ...model, option }}\r\n      setValue={setValue}\r\n      value={value}\r\n    />\r\n  );\r\n};\r\n\r\nexport default ReferenceSelect;\r\n// 57 40 35\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport {\r\n  ContentTypeView,\r\n  InputWrapper,\r\n  DragAndDropList\r\n} from \"nystem-components\";\r\n\r\nclass ReferenceSortable extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.localValue = {};\r\n    [\"setValue\", \"onSave\", \"onDelete\", \"addField\"].forEach(func => {\r\n      this[func] = this[func].bind(this);\r\n    });\r\n    this.props.view.on(\"save\", this.onSave);\r\n    this.state = {\r\n      value: this.props.value\r\n    };\r\n  }\r\n  setValue(id, val) {\r\n    let { value } = this.state;\r\n    if (!value) value = [];\r\n    if (id) value[id] = val;\r\n    else value = val;\r\n    if (this.props.setValue) this.props.setValue(this.model.id, value);\r\n  }\r\n  onSave(data) {\r\n    if (!this.state.value) return true;\r\n    for (let i = 0; i < this.state.value.length; i++)\r\n      if (this.localValue[this.state.value[i]])\r\n        app().database[this.model.source].save({\r\n          data: this.localValue[this.state.value[i]]\r\n        });\r\n    return true;\r\n  }\r\n  componentWillReceiveProps(nextProps) {\r\n    this.setState({\r\n      value: nextProps.value\r\n    });\r\n  }\r\n  onDelete(id) {\r\n    this.state.value.splice(this.state.value.indexOf(id), 1);\r\n    const self = this;\r\n    setTimeout(() => {\r\n      if (self.props.setValue)\r\n        self.props.setValue(self.props.model.id, self.state.value);\r\n    }, 0);\r\n    return true;\r\n  }\r\n  addField(data) {\r\n    if (!data.hashtag || !this.model.addTransform) return;\r\n    const fieldBase = JSON.parse(data.hashtag.replace(/'/g, '\"'));\r\n    const out = {};\r\n    for (\r\n      let i = 0;\r\n      this.model.addTransform && i < this.model.addTransform.length;\r\n      i++\r\n    )\r\n      out[this.model.addTransform[i][0]] = app().utils.insertValues(\r\n        this.model.addTransform[i][1],\r\n        fieldBase\r\n      );\r\n    return out;\r\n  }\r\n  render() {\r\n    const { model } = this.props;\r\n    let { value } = this.state;\r\n    if (!value) value = [];\r\n    if (!(value instanceof Array)) value = [value];\r\n    const className =\r\n      model.className && !this.props.wrapper ? model.className.join(\" \") : \"\";\r\n    const self = this;\r\n    function option(item, index) {\r\n      let id = item;\r\n      function onChange(fieldId, value) {\r\n        self.localValue[id] = value;\r\n      }\r\n      if (typeof item !== \"string\") {\r\n        if (!item._id) item._id = app.uuid();\r\n        id = item._id;\r\n        self.localValue[id] = item;\r\n        self.state.value[index] = id;\r\n      }\r\n      return (\r\n        <ContentTypeView\r\n          key={id}\r\n          noForm=\"true\"\r\n          contentType={model.source}\r\n          format={model.renderFormat ? model.renderFormat : \"view\"}\r\n          onDelete={self.onDelete}\r\n          onMissing={self.onDelete}\r\n          onChange={onChange}\r\n          value={self.localValue[id] ? self.localValue[id] : null}\r\n          id={self.localValue[id] ? null : id}\r\n          baseView={self.props.view}\r\n        />\r\n      );\r\n    }\r\n    this.id = app().uuid();\r\n    if (model.wrapper)\r\n      return (\r\n        <InputWrapper model={model} error={this.state.error}>\r\n          <div className=\"row col-sm-12\">\r\n            <DragAndDropList\r\n              ref=\"list\"\r\n              value={this.state.value}\r\n              setValue={this.setValue}\r\n              onAdd={this.addField}\r\n            >\r\n              {value.map(option)}\r\n            </DragAndDropList>\r\n          </div>\r\n        </InputWrapper>\r\n      );\r\n    return (\r\n      <div className={className}>\r\n        <DragAndDropList\r\n          ref=\"list\"\r\n          value={this.state.value}\r\n          setValue={this.setValue}\r\n          onAdd={this.addField}\r\n        >\r\n          {value.map(option)}\r\n        </DragAndDropList>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default ReferenceSortable;\r\n","import { TextSortBy } from \"nystem-components\";\nimport React from \"react\";\nconst ReferenceSortBy = props => <TextSortBy {...props} />;\nexport default ReferenceSortBy;\n","export default ({ value, model }) =>\r\n  model.mandatory && !value && (model.text_mandatory || \"Field is mandatory\");\r\n","import React from \"react\";\r\nimport { ContentTypeView, InputWrapper, Wrapper } from \"nystem-components\";\r\n\r\nconst ReferenceView = ({ model, view, value = [] }) => {\r\n  value = value instanceof Array ? value : [value];\r\n  const { renderFormat, className, source, itemClassName } = model;\r\n\r\n  const option = (item, index) => (\r\n    <ContentTypeView\r\n      key={item}\r\n      contentType={source}\r\n      baseView={view}\r\n      format={renderFormat || \"view\"}\r\n      id={item}\r\n      params={view.params}\r\n      className={itemClassName}\r\n      onReference={(item) => view.event(item.event, { ...item, model })}\r\n    />\r\n  );\r\n\r\n  if (model.wrapper)\r\n    return <InputWrapper model={model}>{value.map(option)}</InputWrapper>;\r\n\r\n  return <Wrapper className={className}>{value.map(option)}</Wrapper>;\r\n};\r\nexport default ReferenceView;\r\n","import React from \"react\";\r\nimport { Button } from \"nystem-components\";\r\n\r\nclass SelectButton extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    const state = {\r\n      value: props.value\r\n    };\r\n    if (props.validated)\r\n      props.setValue(this.model.id, state.value, this.valid());\r\n    this.state = state;\r\n  }\r\n  handleChange = e => {\r\n    const { model } = this;\r\n    e.preventDefault();\r\n    this.props.setValue(\r\n      this.model.id,\r\n      model.trueOnState.indexOf(this.state.value)\r\n        ? model.trueState\r\n        : model.falseState\r\n    );\r\n  };\r\n  valid = () => {\r\n    if (this.model.mandatory && !this.state.value) {\r\n      this.setState({\r\n        error: this.model.text_mandatory ? this.model.text_mandatory : true\r\n      });\r\n      return false;\r\n    }\r\n    if (this.state.error) delete this.state.error;\r\n    return true;\r\n  };\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (this.props.value !== nextProps.value)\r\n      this.setState({\r\n        value: nextProps.value\r\n      });\r\n  }\r\n  render() {\r\n    const { model } = this;\r\n    let className = this.model.className ? ` ${model.className.join(\" \")}` : \"\";\r\n    let text = \"\";\r\n    let type = false;\r\n    if (model.trueOnState.indexOf(this.state.value) !== -1) {\r\n      text = model.text;\r\n      type = model.btnType;\r\n    } else if (model.falseOnState.indexOf(this.state.value) !== -1) {\r\n      text = model.falseText;\r\n      type = model.falseBtnType;\r\n    }\r\n    return (\r\n      <Button type={type} className={className} onClick={this.handleChange}>\r\n        {text || \"...\"}\r\n      </Button>\r\n    );\r\n  }\r\n}\r\nexport default SelectButton;\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\nimport { SelectInput, DatabaseSearchContext } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst SelectExposedField = ({ model }) => {\r\n  const [id] = useState(app().uuid());\r\n  const [className, setClassName] = useState(\"\");\r\n  const [value, setValue] = useState(\"\");\r\n  const [timer, setTimer] = useState(false);\r\n  const { setFilter } = useContext(DatabaseSearchContext);\r\n\r\n  useEffect(\r\n    () => () => {\r\n      if (timer) clearTimeout(timer);\r\n    },\r\n    [timer]\r\n  );\r\n\r\n  const onChange = value => {\r\n    setClassName(\"border-orange-300 outline-none\");\r\n\r\n    setFilter({ id, modelId: model.id, value }).then(() => {\r\n      setClassName(\"border-green-500 outline-none\");\r\n      clearTimeout(timer);\r\n      setTimer(setTimeout(() => setClassName(\"\"), 1000));\r\n    });\r\n    setValue(value);\r\n  };\r\n\r\n  return (\r\n    <SelectInput\r\n      model={{\r\n        ...model,\r\n        clearButton: true,\r\n        inputClassName: `w-full ${className}`,\r\n        selectAllOnFocus: true\r\n      }}\r\n      value={value}\r\n      setValue={onChange}\r\n    />\r\n  );\r\n};\r\nexport default SelectExposedField;\r\n\r\n/*\r\nimport React from \"react\";\r\nimport { SelectInput } from \"nystem-components\";\r\nimport PropTypes from \"prop-types\";\r\nimport app from \"nystem\";\r\n\r\nclass SelectExposedField extends React.Component {\r\n  static contextTypes = {\r\n    search: PropTypes.object,\r\n    view: PropTypes.object\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.classNameBase = this.model.className || [];\r\n    this.id = app().uuid();\r\n    this.state = { value: this.props.value || \"\", className: \"\" };\r\n  }\r\n\r\n  setSearch = (id, value) => {\r\n    const { view, search } = this.context;\r\n    const { model } = this.props;\r\n\r\n    this.setState({ className: \"has-warning\", value });\r\n\r\n    search.filter = search.filter || {};\r\n    search.filter.$and = (search.filter.$and || []).filter(\r\n      obj => obj.__id !== this.id\r\n    );\r\n    search.filter.$and.push({ __id: this.id, [model.id]: value });\r\n\r\n    view.event(\"search\", search).then(() => {\r\n      this.setState({ className: \"has-success\" });\r\n      this.delayTimer = setTimeout(() => this.setState({ className: \"\" }), 400);\r\n    });\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    clearTimeout(this.delayTimer);\r\n  }\r\n\r\n  render() {\r\n    this.model.className = [...this.classNameBase, this.state.className];\r\n    this.model.clearButton = true;\r\n    return (\r\n      <SelectInput\r\n        model={this.model}\r\n        value={this.state.value}\r\n        setValue={this.setSearch}\r\n      />\r\n    );\r\n  }\r\n}\r\nexport default SelectExposedField;\r\n*/\r\n","export default ({ value, model }) => {\r\n  value = value || [];\r\n  if (!(value instanceof Array)) value = [value];\r\n\r\n  return (\r\n    model.mandatory &&\r\n    !value.length &&\r\n    (model.text_mandatory || \"Field is mandatory\")\r\n  );\r\n};\r\n","import React, { useMemo, useEffect } from \"react\";\r\nimport { InputWrapper, UseValidator, Button, Wrapper } from \"nystem-components\";\r\nimport validate from \"./validate\";\r\n\r\nconst normalizeOption = ({ option }) =>\r\n  !option\r\n    ? []\r\n    : option.map((item) =>\r\n        typeof item === \"string\"\r\n          ? {\r\n              _id: item,\r\n              text: item,\r\n            }\r\n          : item\r\n      );\r\n\r\nconst renderButton = ({ option, handleChange, value }) => (\r\n  <Wrapper>\r\n    {option.map(({ text, _id }) => (\r\n      <Button\r\n        onClick={() => handleChange(_id)}\r\n        className=\"mr-2 my-1\"\r\n        key={_id}\r\n        type={value.indexOf(_id) !== -1 ? \"primary\" : \"secondary\"}\r\n        size=\"xs\"\r\n      >\r\n        {text}\r\n      </Button>\r\n    ))}\r\n  </Wrapper>\r\n);\r\n\r\nconst renderCheckbox = ({ option, handleChange, value, limit, inline }) => (\r\n  <Wrapper className=\"flex flex-wrap items-center\">\r\n    {option.map(({ text, _id }) => (\r\n      <span className={`px-2 my-1 checkbox ${inline}`} key={_id}>\r\n        <label>\r\n          <input\r\n            onChange={() => handleChange(_id)}\r\n            type={limit === 1 ? \"radio\" : \"checkbox\"}\r\n            checked={value.indexOf(_id) !== -1 ? \"checked\" : false}\r\n            className=\"p-1 mr-2\"\r\n          />\r\n          {text}\r\n        </label>\r\n      </span>\r\n    ))}\r\n  </Wrapper>\r\n);\r\n\r\nconst renderDropdown = ({ option, handleChange, value, placeholder }) => (\r\n  // eslint-disable-next-line jsx-a11y/no-onchange\r\n  <select\r\n    className=\"sm:w-1/2 w-full p-2 border\"\r\n    onChange={(e) => handleChange(e.target.value)}\r\n    value={value[0]}\r\n  >\r\n    <option key=\"_empty\" value=\"\">\r\n      {placeholder || \" - choose - \"}\r\n    </option>\r\n    {option.map(({ text, _id }) => (\r\n      <option key={_id || \"___\"} value={_id || \"___\"}>\r\n        {text}\r\n      </option>\r\n    ))}\r\n  </select>\r\n);\r\n\r\nconst renderTypes = {\r\n  dropdown: renderDropdown,\r\n  button: renderButton,\r\n  checkbox: renderCheckbox,\r\n};\r\n\r\nconst SelectInput = ({ model, value, view, setValue }) => {\r\n  const [error, setValidated] = UseValidator({ view, validate, value, model });\r\n\r\n  const { placeholder, inline, render } = model;\r\n\r\n  const limit = render === \"dropdown\" ? 1 : parseInt(model.limit, 10);\r\n  if (!value) value = [];\r\n  if (!(value instanceof Array)) value = [value];\r\n\r\n  const option = useMemo(() => normalizeOption(model), [model]);\r\n\r\n  const handleChange = (id) => {\r\n    if (id === \"\") id = undefined;\r\n    if (value.indexOf(id) !== -1) value.splice(value.indexOf(id), 1);\r\n    else value.push(id);\r\n\r\n    if (limit && limit < value.length) value.shift();\r\n\r\n    if (limit === 1) setValue(value[0]);\r\n    else setValue(value);\r\n    setValidated(true);\r\n  };\r\n  useEffect(() => {\r\n    if (value.length === 0 && model.default) handleChange(model.default);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const out = renderTypes[render || \"checkbox\"]({\r\n    option,\r\n    handleChange,\r\n    value,\r\n    limit,\r\n    inline,\r\n    placeholder,\r\n  });\r\n\r\n  return model.noWrapper ? (\r\n    out\r\n  ) : (\r\n    <InputWrapper model={model} error={error}>\r\n      {out}\r\n    </InputWrapper>\r\n  );\r\n};\r\nexport default SelectInput;\r\n","import React from \"react\";\nimport { TextSortBy } from \"nystem-components\";\nlet SelectSortBy = props => <TextSortBy {...props} />;\nexport default SelectSortBy;\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nconst SelectView = ({ model, value }) => {\r\n  const { className, renderAs, option } = model;\r\n  let val = value || model.fallback;\r\n\r\n  for (let i = 0; option && i < option.length; i++)\r\n    if (option[i]._id === val) {\r\n      val = option[i].text;\r\n      break;\r\n    }\r\n\r\n  return (\r\n    <Wrapper renderAs={renderAs} className={className}>\r\n      {app().t(val)}\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default SelectView;\r\n","import React from \"react\";\r\nimport { Input, Wrapper, Label, ErrorMsg } from \"nystem-components\";\r\nimport app from \"nystem\";\r\nclass SliderInput extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    const state = {\r\n      value: props.value\r\n    };\r\n    if (props.add && this.model.default) {\r\n      state.value = this.model.default;\r\n      props.setValue(this.model.id, state.value);\r\n    }\r\n    if (!state.value) state.value = this.model.min;\r\n    this.state = state;\r\n  }\r\n  handleChange(value) {\r\n    this.props.setValue(this.model.id, value / 10);\r\n  }\r\n  valid() {\r\n    if (this.model.mandatory && !this.state.value) {\r\n      this.setState({\r\n        error: this.model.text_mandatory ? this.model.text_mandatory : true\r\n      });\r\n      return false;\r\n    }\r\n    if (this.state.error) delete this.state.error;\r\n    return true;\r\n  }\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (this.props.value !== nextProps.value)\r\n      this.setState({\r\n        value: nextProps.value\r\n      });\r\n  }\r\n  componentDidMount() {\r\n    // React 15 bug that sets wrong value on initial render, setting it again helps\r\n    this.setState({\r\n      value: this.state.value\r\n    });\r\n  }\r\n  render() {\r\n    const val = this.model.absolute\r\n      ? this.state.value\r\n      : ((this.state.value - this.model.min) / this.model.max) * 100;\r\n    const display = this.model.precision\r\n      ? parseFloat(val).toFixed(this.model.precision)\r\n      : parseInt(val, 10);\r\n    const className = this.model.className\r\n      ? this.model.className.join(\" \")\r\n      : \"\";\r\n    return (\r\n      <Wrapper className={\"form-group row \" + className}>\r\n        <Label model={this.model} />\r\n        <Wrapper className=\"col-sm-9\">\r\n          <Input\r\n            placeholder={app().t(this.model.text)}\r\n            className=\"form-control-slider\"\r\n            value={parseInt(this.state.value * 10, 10)}\r\n            onChange={this.handleChange}\r\n            type=\"range\"\r\n            min={this.model.min * 10}\r\n            max={this.model.max * 10}\r\n          />\r\n          <ErrorMsg error={this.state.error} />\r\n        </Wrapper>\r\n        <Wrapper className=\"col-sm-1 form-control-text\">\r\n          {\"(\" + display + \"%)\"}\r\n        </Wrapper>\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\nexport default SliderInput;\r\n","import React from \"react\";\nimport { TextLink } from \"nystem-components\";\nlet SliderLink = props => <TextLink {...props} />;\nexport default SliderLink;\n","import React from \"react\";\nimport { TextView } from \"nystem-components\";\nlet SliderView = props => <TextView {...props} />;\nexport default SliderView;\n","import React, { useEffect, useState, useContext, createRef } from \"react\";\r\nimport { TextInput, DatabaseSearchContext } from \"nystem-components\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport app from \"nystem\";\r\n\r\n/*\r\nconst useStateStore = (active) => {\r\n  const ref = createRef();\r\n  const [value, setValue] = useState(active ? false : \"\");\r\n\r\n  useEffect(() => {\r\n    const oldValue = app().stateStore.get(ref.current);\r\n    if (value !== false && value !== oldValue)\r\n      app().stateStore.set(ref.current, value);\r\n  }, [ref, value]);\r\n\r\n  useEffect(() => {\r\n    if (value !== false) return;\r\n    setValue(app().stateStore.get(ref.current) || \"\");\r\n  }, [ref, value]);\r\n\r\n  return [value, setValue, ref];\r\n};\r\n*/\r\n\r\nconst useQueryStore = (active) => {\r\n  const history = useHistory();\r\n\r\n  const ref = createRef();\r\n  const { search } = history.location;\r\n  const [value, setValue] = useState(\r\n    active && search ? search.substring(1) : \"\"\r\n  );\r\n\r\n  const setRouterValue = (value) => {\r\n    setValue(value);\r\n\r\n    if (!active) return;\r\n\r\n    const { pathname } = history.location;\r\n    history.replace(`${pathname}?${value}`);\r\n  };\r\n\r\n  return [value, setRouterValue, ref];\r\n};\r\n\r\nconst TextExposedField = ({ model }) => {\r\n  const [id] = useState(app().uuid());\r\n  const [className, setClassName] = useState(\"\");\r\n  const [value, setValue, ref] = useQueryStore(model.saveValue);\r\n  const [timer, setTimer] = useState(false);\r\n  const { setFilter } = useContext(DatabaseSearchContext);\r\n\r\n  useEffect(\r\n    () => () => {\r\n      if (timer) clearTimeout(timer);\r\n    },\r\n    [timer]\r\n  );\r\n\r\n  useEffect(() => {\r\n    setClassName(\"border-orange-300 outline-none\");\r\n    setFilter({ id, modelId: model.id, value }).then(() => {\r\n      setClassName(\"border-green-500 outline-none\");\r\n      clearTimeout(timer);\r\n      setTimer(setTimeout(() => setClassName(\"\"), 1000));\r\n    });\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [setFilter, value]);\r\n\r\n  return (\r\n    <TextInput\r\n      ref={ref}\r\n      model={{\r\n        ...model,\r\n        clearButton: true,\r\n        inputClassName: [\"w-full\", className, ...(model.classNameInput || [])],\r\n        selectAllOnFocus: true,\r\n      }}\r\n      value={value}\r\n      setValue={setValue}\r\n    />\r\n  );\r\n};\r\n\r\nexport default TextExposedField;\r\n","export default ({ value, model }) =>\r\n  model.mandatory && !value && (model.text_mandatory || \"Field is mandatory\");\r\n","import React, { useState } from \"react\";\r\nimport { InputWrapper, Input, Icon, UseValidator } from \"nystem-components\";\r\nimport app from \"nystem\";\r\nimport validate from \"./validate\";\r\n\r\nconst ClearButton = ({ value, setValue }) =>\r\n  !value ? null : (\r\n    <Icon\r\n      onClick={() => setValue(\"\")}\r\n      className=\"absolute w-4 right-0 top-0 m-3\"\r\n      icon=\"close\"\r\n      aria-hidden=\"true\"\r\n    />\r\n  );\r\n\r\nconst TextInput = ({ model, view, focus, setValue, value }, ref) => {\r\n  const [error, setValidated] = UseValidator({ view, validate, value, model });\r\n  const { disabled, length, text, clearButton, classNameInput = [] } = model;\r\n  const [id] = useState(app().uuid);\r\n\r\n  const contents = (\r\n    <Input\r\n      id={id}\r\n      ref={ref}\r\n      placeholder={model.placeholder || app().t(text)}\r\n      className={classNameInput}\r\n      value={value || \"\"}\r\n      maxLength={length}\r\n      onChange={(value) => setValue(value)}\r\n      disabled={disabled}\r\n      type=\"text\"\r\n      focus={model.focus || focus}\r\n      onBlur={() => setValidated(true)}\r\n      selectAllOnFocus={model.selectAllOnFocus}\r\n    />\r\n  );\r\n\r\n  return model.noWrapper ? (\r\n    contents\r\n  ) : (\r\n    <InputWrapper\r\n      id={id}\r\n      model={{\r\n        ...model,\r\n        classNameInput: \"relative flex-grow\",\r\n      }}\r\n      error={error}\r\n    >\r\n      {contents}\r\n      {clearButton ? <ClearButton value={value} setValue={setValue} /> : null}\r\n    </InputWrapper>\r\n  );\r\n};\r\nexport default React.forwardRef(TextInput);\r\n","import React from \"react\";\r\nimport { Link, Wrapper } from \"nystem-components\";\r\n\r\nconst TextLink = ({ model, view, value }) => {\r\n  const id = view.value ? \"/\" + view.value._id : \"\";\r\n  const format = model.toFormat || \"input\";\r\n\r\n  if (model.renderAs)\r\n    return (\r\n      <Wrapper renderAs={model.renderAs} className={model.className}>\r\n        <Link\r\n          to={\r\n            (model.addToPath || \"\") + \"/\" + view.contentType + \"/\" + format + id\r\n          }\r\n        >\r\n          {value || model.fallback}\r\n        </Link>\r\n      </Wrapper>\r\n    );\r\n\r\n  return (\r\n    <Link\r\n      renderAs={model.renderAs}\r\n      className={model.className}\r\n      to={(model.addToPath || \"\") + \"/\" + view.contentType + \"/\" + format + id}\r\n    >\r\n      {value || model.fallback}\r\n    </Link>\r\n  );\r\n};\r\nexport default TextLink;\r\n","import React, { useContext } from \"react\";\r\nimport { Wrapper, DatabaseSearchContext, Icon } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst TextSortBy = ({ model }) => {\r\n  const { search, setSearch } = useContext(DatabaseSearchContext);\r\n  const { id, text, className = [] } = model;\r\n  const { sortby, reverse } = search;\r\n\r\n  const sortbyId = sortby instanceof Array ? sortby[0] : sortby;\r\n\r\n  const handleSort = event => {\r\n    if (event) event.preventDefault();\r\n\r\n    setSearch({\r\n      ...search,\r\n      reverse: sortbyId === id ? !reverse : reverse,\r\n      sortby: id\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Wrapper\r\n      className={[...className, \"flex\"]}\r\n      renderAs=\"a\"\r\n      href={id}\r\n      onClick={handleSort}\r\n    >\r\n      <Wrapper renderAs=\"span\">{`${app().t(text)} `}</Wrapper>\r\n      {sortbyId === id ? (\r\n        <Icon\r\n          icon={`arrow-${reverse ? \"up\" : \"down\"}`}\r\n          className=\"ml-2 w-4 font-bold\"\r\n        />\r\n      ) : null}\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default TextSortBy;\r\n","import React from \"react\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nconst TextView = ({ model, value }) => {\r\n  const className = model.className ? model.className.join(\" \") : \"\";\r\n  return (\r\n    <Wrapper\r\n      className={className}\r\n      renderAs={model.renderAs}\r\n      translate={model.translate}\r\n    >\r\n      {value || model.fallback}\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default TextView;\r\n","import React from \"react\";\r\nimport { InputWrapper } from \"nystem-components\";\r\nimport app from \"nystem\";\r\nclass TextareaInput extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    const state = {\r\n      value: props.value\r\n    };\r\n    [\"handleChange\", \"valid\"].forEach(func => {\r\n      this[func] = this[func].bind(this);\r\n    });\r\n    if (props.validated)\r\n      props.setValue(this.model.id, state.value, this.valid());\r\n    this.state = state;\r\n  }\r\n  handleChange() {\r\n    this.validated = true;\r\n    const value = this.refs.input.value;\r\n    this.setState({\r\n      value: value,\r\n      error: this.model.mandatory && !value ? this.errormsg : false\r\n    });\r\n    this.props.setValue(this.model.id, value);\r\n  }\r\n  valid() {\r\n    if (this.model.mandatory && !this.state.value) {\r\n      this.setState({\r\n        error: this.model.text_mandatory ? this.model.text_mandatory : true\r\n      });\r\n      return false;\r\n    }\r\n    if (this.state.error) delete this.state.error;\r\n    return true;\r\n  }\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (this.props.value !== nextProps.value)\r\n      this.setState({\r\n        value: nextProps.value\r\n      });\r\n  }\r\n  render() {\r\n    const height = {};\r\n    if (this.model.height) height.height = this.model.height + \"px\";\r\n    return (\r\n      <InputWrapper model={this.model} error={this.state.error}>\r\n        <textarea\r\n          ref=\"input\"\r\n          placeholder={app().t(this.model.placeholder || this.model.text)}\r\n          className=\"form-control\"\r\n          value={this.state.value}\r\n          maxLength={this.model.length}\r\n          onChange={this.handleChange}\r\n          type=\"text\"\r\n          style={height}\r\n        />\r\n      </InputWrapper>\r\n    );\r\n  }\r\n}\r\nexport default TextareaInput;\r\n","import React from \"react\";\nimport { TextLink } from \"nystem-components\";\nlet TextareaLink = props => <TextLink {...props} />;\nexport default TextareaLink;\n","import React from \"react\";\nimport { TextSortBy } from \"nystem-components\";\nlet TextareaSortBy = props => <TextSortBy {...props} />;\nexport default TextareaSortBy;\n","import React from \"react\";\nimport { TextView } from \"nystem-components\";\nlet TextareaView = props => <TextView {...props} />;\nexport default TextareaView;\n","import { useEffect } from \"react\";\r\nimport app from \"nystem\";\r\n\r\nconst ViewButtonAutoSave = ({ view }) => {\r\n  useEffect(() => {\r\n    let saveIds = [];\r\n    let saveDelay = false;\r\n\r\n    const saveToDb = async () => {\r\n      const { errors } = await view.event(\"validate\");\r\n      if (!saveIds.length || errors) return;\r\n\r\n      const reduceById = (res, id) => ({ ...res, [id]: view.getValue(id) });\r\n\r\n      const data = await app().database[view.contentType].save({\r\n        data: saveIds.reduce(reduceById, {\r\n          _id: view.value._id || view.id,\r\n        }),\r\n        fields: true,\r\n      });\r\n\r\n      if (!view.value._id) view.setValue({ path: \"_id\", value: data.id });\r\n\r\n      view.event(\"save\", view.value);\r\n\r\n      saveIds = [];\r\n    };\r\n\r\n    const handleChange = ({ id }) => {\r\n      if (!id || id === \"_id\" || !view.value) return;\r\n\r\n      if (saveIds.includes(id)) return;\r\n      saveIds.push(id);\r\n\r\n      saveDelay = setTimeout(saveToDb, 200);\r\n    };\r\n\r\n    view.on(\"change\", handleChange);\r\n    return () => {\r\n      view.off(\"change\", handleChange);\r\n      if (saveDelay) clearTimeout(saveDelay);\r\n    };\r\n  }, []);\r\n\r\n  return null;\r\n};\r\nexport default ViewButtonAutoSave;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Icon, Wrapper, Button } from \"nystem-components\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nconst ViewButtonBack = ({ children, model, history }) => {\r\n  model = model || {};\r\n  const { className, text } = model;\r\n\r\n  if (model.icon)\r\n    return (\r\n      <Icon\r\n        className={className}\r\n        icon={model.icon}\r\n        onClick={() => history.go(-1)}\r\n      />\r\n    );\r\n\r\n  return (\r\n    <Button type=\"primary\" className={className} onClick={() => history.go(-1)}>\r\n      <Icon icon=\"arrow-left\" className=\"w-6 h-6\" />\r\n      <Wrapper>{children || app().t(text)}</Wrapper>\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default withRouter(ViewButtonBack);\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport app from \"nystem\";\r\nimport { Button } from \"nystem-components\";\r\n\r\nconst ViewButtonEventEmitter = ({ model, view }) => {\r\n  const buttonStates = {\r\n    default: {\r\n      text: model.text ? model.text : \"Send\",\r\n      type: model.btnType ? model.btnType : \"secondary\"\r\n    },\r\n    confirm: {\r\n      text: \"Are you sure?\",\r\n      type: \"danger\"\r\n    },\r\n    saving: {\r\n      text: \"Sending ...\",\r\n      type: \"warning\"\r\n    },\r\n    success: {\r\n      text: \"Sent\",\r\n      type: \"success\"\r\n    }\r\n  };\r\n\r\n  const [error, setError] = useState(false);\r\n  const [button, setButton] = useState(buttonStates.default);\r\n  const [savedTimer, setSavedTimer] = useState(false);\r\n  const [activeKeySaveView, setActiveKeySaveView] = useState(false);\r\n\r\n  const sendEvent = useCallback(() => {\r\n    setError(false);\r\n    setButton(buttonStates.saving);\r\n\r\n    app()\r\n      .connection.emit({\r\n        type: model.event,\r\n        event: model.subEvent,\r\n        value: view.value,\r\n        contentType: view.contentType\r\n      })\r\n      .then(data => {\r\n        setButton(buttonStates.success);\r\n        setSavedTimer(setTimeout(() => setButton(buttonStates.default), 1000));\r\n        if (data.redirectToPath) app().router.click(data.redirectToPath);\r\n      });\r\n  }, [buttonStates, model, view.contentType, view.value]);\r\n\r\n  const handleSubmit = useCallback(\r\n    event => {\r\n      if (app().settings.debug) console.log(view.value);\r\n      if (event) event.preventDefault();\r\n\r\n      if (view.valid()) {\r\n        if (model.confirm && button !== buttonStates.confirm) {\r\n          setButton(buttonStates.confirm);\r\n          setSavedTimer(\r\n            setTimeout(() => setButton(buttonStates.default), 1000)\r\n          );\r\n        } else sendEvent();\r\n      } else setError(\"Correct validation errors\");\r\n    },\r\n    [button, buttonStates, model.confirm, sendEvent, view]\r\n  );\r\n\r\n  useEffect(() => {\r\n    const handleKeySave = () => {\r\n      if (activeKeySaveView) handleSubmit();\r\n    };\r\n    const inactivateKeySaveView = () => setActiveKeySaveView(false);\r\n    const activateKeySaveView = () => {\r\n      app().event(\"inactivateKeySaveView\");\r\n      setActiveKeySaveView(true);\r\n    };\r\n\r\n    if (model.saveOnKey) {\r\n      view.on(\"submit\", handleSubmit);\r\n      app().on(\"keypressSaveEvent\", handleKeySave);\r\n      app().on(\"inactivateKeySaveView\", inactivateKeySaveView);\r\n      setActiveKeySaveView(false);\r\n      view.on(\"change\", activateKeySaveView);\r\n    }\r\n\r\n    return () => {\r\n      if (savedTimer) clearTimeout(savedTimer);\r\n      if (model.saveOnKey) {\r\n        view.off(\"submit\", handleSubmit);\r\n        view.off(\"change\", activateKeySaveView);\r\n        app().off(\"keypressSaveEvent\", handleKeySave);\r\n        app().off(\"inactivateKeySaveView\", inactivateKeySaveView);\r\n      }\r\n    };\r\n  }, [activeKeySaveView, handleSubmit, model.saveOnKey, savedTimer, view]);\r\n\r\n  return (\r\n    <>\r\n      <Button\r\n        onClick={handleSubmit}\r\n        className={model.className}\r\n        type={model.btnType}\r\n      >\r\n        {app().t(button.text)}\r\n      </Button>\r\n      {error}\r\n    </>\r\n  );\r\n};\r\nexport default ViewButtonEventEmitter;\r\n","import React, { useState, useEffect, useMemo, useCallback } from \"react\";\r\nimport app from \"nystem\";\r\nimport { Button, Wrapper } from \"nystem-components\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nconst baseButtonStates = {\r\n  default: {\r\n    text: \"Save\",\r\n    type: \"secondary\",\r\n  },\r\n  saving: {\r\n    text: \"Saving ...\",\r\n    type: \"warning\",\r\n  },\r\n  success: {\r\n    text: \"Saved\",\r\n    type: \"success\",\r\n  },\r\n  deleted: {\r\n    text: \"Undo delete\",\r\n    type: \"warning\",\r\n  },\r\n};\r\n\r\nconst ViewButtonInput = ({ view, model, value, history, location }) => {\r\n  const { text, btnType } = model;\r\n\r\n  const buttonStates = useMemo(\r\n    () =>\r\n      text\r\n        ? {\r\n            ...baseButtonStates,\r\n            default: {\r\n              text,\r\n              type: `${btnType || \"secondary\"}`,\r\n            },\r\n          }\r\n        : baseButtonStates,\r\n    [btnType, text]\r\n  );\r\n  const [button, setButton] = useState(\"default\");\r\n  const [error, setError] = useState(false);\r\n  const [savedTimer, setSavedTimer] = useState(false);\r\n  const [activeKeySaveView, setActiveKeySaveView] = useState(false);\r\n\r\n  const inactivateKeySaveView = () => {\r\n    setActiveKeySaveView(false);\r\n  };\r\n  const activateKeySaveView = () => {\r\n    app().event(\"inactivateKeySaveView\");\r\n    setActiveKeySaveView(true);\r\n  };\r\n  const handleCancel = () => {\r\n    if (view.event(\"cancel\")) view.event(\"reload\");\r\n  };\r\n  const handleDelete = () => {\r\n    if (view.event(\"delete\"))\r\n      app()\r\n        .database[view.contentType].delete({ id: view.value._id })\r\n        .then(() => setButton(\"deleted\"));\r\n  };\r\n\r\n  const handleSubmit = useCallback(async () => {\r\n    if (button !== \"default\") return;\r\n    if (app().settings.debug) console.log(value);\r\n\r\n    const { errors } = await view.event(\"validate\");\r\n    if (errors) {\r\n      setError(\"Correct validation errors\", errors);\r\n      return;\r\n    }\r\n    setError(false);\r\n    setButton(\"saving\");\r\n\r\n    const { data, error } = await app().database[view.contentType].save({\r\n      data: { ...value },\r\n      view: view.format,\r\n    });\r\n\r\n    console.log(\"zzave\", { data, error }, value._id);\r\n\r\n    if (error) {\r\n      view.event(\"error\", error);\r\n      setButton(\"default\");\r\n      return;\r\n    }\r\n\r\n    const saved = await view.event(\"save\", data);\r\n    const { pathname } = location;\r\n\r\n    if (data && view.value._id && view.value._id !== data._id) {\r\n      history.replace(\r\n        pathname.replace(`/${view.value._id}`, `/${data._id || \"\"}`)\r\n      );\r\n      return;\r\n    }\r\n\r\n    if (!model.noRedirect && !view.value._id) {\r\n      view.setValue({ path: \"_id\", value: data._id });\r\n      history.replace(`${model.redirectURL || pathname}/${data._id || \"\"}`);\r\n      return;\r\n    }\r\n\r\n    if (!saved) return;\r\n\r\n    setButton(\"success\");\r\n    setSavedTimer(\r\n      setTimeout(() => {\r\n        setButton(\"default\");\r\n        setSavedTimer(false);\r\n      }, 1000)\r\n    );\r\n  }, [button, history, location, model, value, view]);\r\n\r\n  useEffect(() => () => savedTimer && clearTimeout(savedTimer), [savedTimer]);\r\n\r\n  useEffect(() => {\r\n    const handleKeySave = () => {\r\n      if (activeKeySaveView) handleSubmit();\r\n    };\r\n\r\n    view.on(\"submit\", handleSubmit);\r\n    app().on(\"keypressSaveEvent\", handleKeySave);\r\n    app().on(\"inactivateKeySaveView\", inactivateKeySaveView);\r\n    view.on(\"change\", activateKeySaveView);\r\n\r\n    return () => {\r\n      view.off(\"submit\", handleSubmit);\r\n      view.off(\"change\", activateKeySaveView);\r\n      app().off(\"keypressSaveEvent\", handleKeySave);\r\n      app().off(\"inactivateKeySaveView\", inactivateKeySaveView);\r\n    };\r\n  }, [activeKeySaveView, handleSubmit, view]);\r\n\r\n  return (\r\n    <>\r\n      <Wrapper className={model.className}>\r\n        <Button onClick={handleSubmit} type={buttonStates[button].type}>\r\n          {app().t(buttonStates[button].text)}\r\n        </Button>\r\n        {button === \"default\" && !model.sendOnly && view.value._id && (\r\n          <>\r\n            <Button onClick={handleCancel} type=\"warning\">\r\n              Cancel\r\n            </Button>\r\n            <Button onClick={handleDelete} type=\"danger\">\r\n              {app().t(\"Delete\")}\r\n            </Button>\r\n          </>\r\n        )}\r\n      </Wrapper>\r\n      {error && <Wrapper className=\"red\">{error}</Wrapper>}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default withRouter(ViewButtonInput);\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Button, Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst ViewButtonReference = ({ model, view, path }) => {\r\n  const { event, item, className } = model;\r\n\r\n  if (item && item.length)\r\n    return (\r\n      <Wrapper\r\n        className={className}\r\n        onClick={() => view.event(\"reference\", { event, value: view.value })}\r\n      >\r\n        <ContentTypeRender path={path} items={item} />\r\n      </Wrapper>\r\n    );\r\n\r\n  return (\r\n    <Button\r\n      onClick={() => view.event(\"reference\", { event, value: view.value })}\r\n      className={className}\r\n      type={model.btnType}\r\n      size={model.btnSize}\r\n    >\r\n      {app().t(model.text)}\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default ViewButtonReference;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Button } from \"nystem-components\";\r\n\r\nconst ViewButtonView = ({ model, view }) => (\r\n  <div className={model.className}>\r\n    <Button\r\n      type={model.btnType}\r\n      onClick={() => view.event(model.event || \"submit\", view.value)}\r\n    >\r\n      {app().t(model.text || \"...\")}\r\n    </Button>\r\n  </div>\r\n);\r\n\r\nexport default ViewButtonView;\r\n","import React from \"react\";\r\nimport { ContentTypeView } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst ViewInViewEmpty = ({ model, view, path }) => {\r\n  const { contentType, className, viewId } = model;\r\n\r\n  const insertVal = (val) => {\r\n    if (!val) return val;\r\n    return val.replace(/\\{([a-z_.]+)\\}/gim, (str, p1, offset, s) => {\r\n      if (p1 === \"_language\") return app().settings.lang;\r\n      if (p1 === \"id\") return view.id;\r\n      if (p1.indexOf(\"baseView.\") !== 0)\r\n        return view.getValue(p1.replace(\"..\", path));\r\n      p1 = p1.replace(\"baseView.\", \"\");\r\n      return view.baseView.getValue(p1.replace(\"..\", path));\r\n    });\r\n  };\r\n\r\n  return (\r\n    <ContentTypeView\r\n      className={className}\r\n      contentType={contentType}\r\n      format={model.view}\r\n      baseView={view}\r\n      id={insertVal(viewId)}\r\n    />\r\n  );\r\n};\r\nexport default ViewInViewEmpty;\r\n","import React from \"react\";\r\nimport { ContentTypeView } from \"nystem-components\";\r\n\r\nclass ViewInViewSetValue extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.view = props.view;\r\n    const state = {\r\n      value: this.view.value,\r\n      viewId: this.insertVal(this.model.viewId),\r\n    };\r\n    this.view.on(\"change\", this.setValueView);\r\n    this.state = state;\r\n  }\r\n  setValueView() {\r\n    const self = this;\r\n    if (JSON.stringify(this.view.value) !== JSON.stringify(this.state.value))\r\n      setTimeout(function () {\r\n        if (self.isMounted())\r\n          self.setState({\r\n            value: self.view.value,\r\n            viewId: self.insertVal(self.model.viewId),\r\n          });\r\n        else console.log(\"not mounted\");\r\n      }, 0);\r\n  }\r\n  setValue(id, value) {\r\n    if (!id && !value) return;\r\n    if (this.model.addid) {\r\n      const val = this.state.value[this.model.addid]\r\n        ? this.state.value[this.model.addid]\r\n        : {};\r\n      val[id] = value;\r\n      this.view.setValue(this.model.addid, val);\r\n    } else this.view.setValue(id, value);\r\n  }\r\n  insertVal(val) {\r\n    if (!val) return val;\r\n    const self = this;\r\n    return val.replace(/\\{([a-z_.]+)\\}/gim, function (str, p1, offset, s) {\r\n      return self.view.getValue(p1.replace(\"..\", self.props.path));\r\n    });\r\n  }\r\n  componentWillUnmount() {\r\n    this.view.off(\"change\", this.setValueView);\r\n  }\r\n  render() {\r\n    const className = this.model.className\r\n      ? this.model.className.join(\" \")\r\n      : \"\";\r\n    const value = this.model.addid\r\n      ? this.state.value[this.model.addid]\r\n      : this.state.value;\r\n    return (\r\n      <ContentTypeView\r\n        className={className}\r\n        setValue={this.setValue}\r\n        contentType={this.model.contentType}\r\n        format={this.model.view}\r\n        value={value}\r\n        id={this.state.viewId}\r\n      />\r\n    );\r\n  }\r\n}\r\nexport default ViewInViewSetValue;\r\n","import React from \"react\";\r\nimport { ContentTypeView } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst ViewInViewView = ({ model, view, value, path, onSave }) => {\r\n  const { addid, contentType, className, viewId } = model;\r\n\r\n  const insertVal = (val) => {\r\n    if (!val) return val;\r\n    return val.replace(/\\{([a-z_.]+)\\}/gim, (str, p1, offset, s) => {\r\n      if (p1 === \"_language\") return app().settings.lang;\r\n      if (p1 === \"id\") return view.id;\r\n      if (p1.indexOf(\"baseView.\") !== 0)\r\n        return view.getValue(p1.replace(\"..\", path));\r\n      p1 = p1.replace(\"baseView.\", \"\");\r\n      return view.baseView.getValue(p1.replace(\"..\", path));\r\n    });\r\n  };\r\n\r\n  return (\r\n    <ContentTypeView\r\n      className={className}\r\n      contentType={contentType}\r\n      format={model.view}\r\n      value={(addid && value[addid]) || value}\r\n      id={insertVal(viewId)}\r\n      baseView={view}\r\n      {...(onSave ? { onSave } : {})}\r\n    />\r\n  );\r\n};\r\nexport default ViewInViewView;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Link } from \"nystem-components\";\r\n\r\nclass ViewLinkButton extends React.Component {\r\n  render() {\r\n    const { model } = this.props;\r\n    let className = model.className ? model.className.join(\" \") : \"\";\r\n    let { href } = model;\r\n    if (model.renderType) className += ` btn-${model.renderType}`;\r\n    if (href[href.length - 1] === \"/\" && this.props.view.value)\r\n      href += this.props.view.value._id;\r\n    return (\r\n      <Link\r\n        className={`${className} btn`}\r\n        to={href}\r\n        match={model.match}\r\n        type=\"button\"\r\n        title={this.props.title ? this.props.title : \"\"}\r\n      >\r\n        {app().t(model.text)}\r\n      </Link>\r\n    );\r\n  }\r\n}\r\nexport default ViewLinkButton;\r\n","import React from \"react\";\r\nimport { Link, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst ViewLinkDynamicFields = ({ view, path, model }) => {\r\n  const insertVal = (val) => {\r\n    if (!val) return val;\r\n    return val.replace(/\\{([a-z_.0-9]+)\\}/gim, (str, p1, offset, s) => {\r\n      if (/pathItem[0-9]/.test(p1) && view.params) return view.params[p1[8]];\r\n      return view.getValue(p1.replace(\"..\", path));\r\n    });\r\n  };\r\n\r\n  const { className, exact, match, item, href } = model;\r\n\r\n  return (\r\n    <Link\r\n      className={className}\r\n      to={insertVal(href)}\r\n      match={match}\r\n      exact={exact}\r\n    >\r\n      <ContentTypeRender path={path} items={item} />\r\n    </Link>\r\n  );\r\n};\r\nexport default ViewLinkDynamicFields;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Link } from \"nystem-components\";\r\n\r\nconst ViewLinkDynamicLink = ({ model, view, path }) => {\r\n  const insertVal = (val) =>\r\n    val &&\r\n    val.replace(/\\{([a-z_.0-9]+)\\}/gim, (str, p1, offset, s) => {\r\n      if (/pathItem[0-9]/.test(p1) && view.params) return view.params[p1[8]];\r\n      return view.getValue(p1.replace(\"..\", path));\r\n    });\r\n\r\n  const { href, match, className } = model;\r\n\r\n  return (\r\n    <Link\r\n      className={className ? className.join(\" \") : \"\"}\r\n      to={insertVal(href)}\r\n      match={insertVal(match)}\r\n    >\r\n      {app().t(model.text)}\r\n    </Link>\r\n  );\r\n};\r\nexport default ViewLinkDynamicLink;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst ViewLinkExternal = ({ view, path, model }) => {\r\n  const insertVal = (val) => {\r\n    if (!val) return val;\r\n    return val.replace(/\\{([a-z_.0-9]+)\\}/gim, (str, p1, offset, s) => {\r\n      if (/pathItem[0-9]/.test(p1) && view.params) return view.params[p1[8]];\r\n      return view.getValue(p1.replace(\"..\", path));\r\n    });\r\n  };\r\n\r\n  const { className, item, href } = model;\r\n\r\n  return (\r\n    <Wrapper\r\n      className={className}\r\n      href={`https://${insertVal(href).replace(/https?:\\/\\//, \"\")}`}\r\n      target=\"_blank\"\r\n      renderAs=\"a\"\r\n      rel=\"noopener\"\r\n    >\r\n      <ContentTypeRender path={path} items={item} />\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default ViewLinkExternal;\r\n","import React from \"react\";\r\nimport { Link, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst ViewLinkFields = ({ model, value, path }) => {\r\n  const { className, contentType, view: toView, add, addId, item } = model;\r\n\r\n  let href = `/${contentType}/${toView}`;\r\n  if (addId && value) href += `/${value._id}`;\r\n\r\n  return (\r\n    <Link to={(add || \"\") + href} className={className}>\r\n      <ContentTypeRender path={path} items={item} />\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default ViewLinkFields;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Link, Icon } from \"nystem-components\";\r\nclass ViewLinkLink extends React.Component {\r\n  render() {\r\n    const model = this.props.model;\r\n    const className = model.className ? model.className.join(\" \") : \"\";\r\n    const href =\r\n      model.href && this.props.view.id\r\n        ? model.href.replace(\"{id}\", this.props.view.id)\r\n        : model.href;\r\n\r\n    if (model.blank)\r\n      return (\r\n        <a\r\n          className={className}\r\n          href={href}\r\n          rel=\"noopener noreferrer\"\r\n          target=\"_blank\"\r\n        >\r\n          {app().t(model.text)}\r\n        </a>\r\n      );\r\n\r\n    if (model.renderType === \"icon\")\r\n      return (\r\n        <Link to={href} match={model.match} type=\"link\">\r\n          <Icon className={className} />\r\n        </Link>\r\n      );\r\n\r\n    return (\r\n      <Link className={className} to={href} match={model.match} type=\"link\">\r\n        {app().t(model.text)}\r\n      </Link>\r\n    );\r\n  }\r\n}\r\nexport default ViewLinkLink;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Link, Button } from \"nystem-components\";\r\n\r\nconst ViewLinkView = ({ model, value }) => {\r\n  const {\r\n    renderType,\r\n    className,\r\n    contentType,\r\n    view: toView,\r\n    text,\r\n    add,\r\n    addId,\r\n    btnType,\r\n  } = model;\r\n\r\n  let href = `/${contentType}/${toView}`;\r\n  if (addId && value) href += `/${value._id}`;\r\n\r\n  if (renderType === \"button\")\r\n    return (\r\n      <Button\r\n        type={btnType}\r\n        to={(add || \"\") + href}\r\n        className={className}\r\n        Component={Link}\r\n      >\r\n        {app().t(text)}\r\n      </Button>\r\n    );\r\n\r\n  return (\r\n    <Link\r\n      type={renderType || \"list\"}\r\n      to={(add || \"\") + href}\r\n      className={className}\r\n    >\r\n      {app().t(text)}\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default ViewLinkView;\r\n","import React, { useContext } from \"react\";\r\nimport {\r\n  Wrapper,\r\n  ContentTypeRender,\r\n  DatabaseSearchContext,\r\n} from \"nystem-components\";\r\n\r\nconst ViewListEmptySearchresult = ({ model, path }) => {\r\n  const { search = {} } = useContext(DatabaseSearchContext);\r\n  const { filter = {} } = search;\r\n  const searchText = ((filter.$and || []).find((item) => item.$all) || {}).$all;\r\n\r\n  if ((!searchText && model.inverse) || (searchText && !model.inverse))\r\n    return (\r\n      <Wrapper className={model.className} renderAs={model.renderAs}>\r\n        <ContentTypeRender path={path} items={model.item} />\r\n      </Wrapper>\r\n    );\r\n\r\n  return null;\r\n};\r\nexport default ViewListEmptySearchresult;\r\n","import React, { useContext } from \"react\";\r\nimport { Wrapper, DatabaseSearchContext } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst ViewListListStat = ({ model }) => {\r\n  const { search } = useContext(DatabaseSearchContext);\r\n  function total() {\r\n    if (\r\n      search.searchTotal === search.total ||\r\n      model.show.indexOf(\"total\") === -1\r\n    )\r\n      return null;\r\n    return (\r\n      <Wrapper renderAs=\"span\">\r\n        {`, ${search.total}${app().t(\" in total\")}`}\r\n      </Wrapper>\r\n    );\r\n  }\r\n\r\n  let text = \"\";\r\n  if (!model.show) model.show = [];\r\n  if (model.show.indexOf(\"currentPos\") !== -1)\r\n    text += search.position ? search.position : 0;\r\n  if (\r\n    model.show.indexOf(\"currentPos\") !== -1 &&\r\n    model.show.indexOf(\"toPos\") !== -1\r\n  )\r\n    text += \" - \";\r\n  if (model.show.indexOf(\"toPos\") !== -1)\r\n    text += search.count ? search.count : 0;\r\n  if (\r\n    model.show.indexOf(\"searchTotal\") !== -1 &&\r\n    (model.show.indexOf(\"currentPos\") !== -1 ||\r\n      model.show.indexOf(\"toPos\") !== -1)\r\n  )\r\n    text += \" of \";\r\n  if (model.show.indexOf(\"searchTotal\") !== -1)\r\n    text += search.searchTotal ? search.searchTotal : 0;\r\n\r\n  /* const toPos = settings.searchTotal < settings.position + settings.count\r\n      ? settings.searchTotal\r\n      : settings.position + settings.count; */\r\n  return (\r\n    <Wrapper className={[...(model.className || []), \"control-label\"]}>\r\n      <Wrapper>{model.text}</Wrapper>\r\n      <Wrapper>{text}</Wrapper>\r\n      {total()}\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default ViewListListStat;\r\n","import React, { useContext } from \"react\";\r\nimport { Wrapper, DatabaseSearchContext, Button } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst ViewListPager = ({ view, model }) => {\r\n  const { search, setSearch } = useContext(DatabaseSearchContext);\r\n  const update = (e, move) => {\r\n    if (move === -1) search.position = prev(search);\r\n    if (move === 1) search.position = next(search);\r\n    setSearch(search);\r\n  };\r\n\r\n  const prev = search =>\r\n    search.position !== 0 ? search.position - search.count : -1;\r\n  const next = search =>\r\n    search.position + search.count < search.searchTotal\r\n      ? search.position + search.count\r\n      : -1;\r\n\r\n  const className = model.className ? model.className.join(\" \") : \"\";\r\n  const hasPrev = prev(search) !== -1;\r\n  const hasNext = next(search) !== -1;\r\n\r\n  return (\r\n    <Wrapper renderAs=\"ul\" className={`${className} flex py-4`}>\r\n      <Button\r\n        disabled={!hasPrev && \"disabled\"}\r\n        className=\"mr-2\"\r\n        onClick={hasPrev ? e => update(e, -1) : undefined}\r\n      >\r\n        ← {app().t(\"Previous\")}\r\n      </Button>\r\n      <Button\r\n        disabled={!hasNext && \"disabled\"}\r\n        onClick={hasNext ? e => update(e, 1) : undefined}\r\n      >\r\n        {app().t(\"Next\")} →\r\n      </Button>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default ViewListPager;\r\n","import React from \"react\";\r\nimport { ContentTypeView } from \"nystem-components\";\r\n\r\nimport \"./table.scss\";\r\n\r\nconst ViewListRender = ({ model, view, value }) => {\r\n  const { rowClassName = [] } = model;\r\n  value = model.value || value;\r\n\r\n  function createItem(item) {\r\n    const settings = {\r\n      view: model,\r\n      contentType: view.contentType,\r\n      id: item._id,\r\n      key: item._id,\r\n      noForm: true,\r\n      baseView: view,\r\n      params: view.params,\r\n      className: rowClassName,\r\n      renderAs: item.renderAs,\r\n      itemRenderAs: item.renderAs === \"tr\" && \"td\",\r\n    };\r\n\r\n    return <ContentTypeView {...settings} />;\r\n  }\r\n\r\n  return value.map(createItem);\r\n};\r\n\r\nexport default ViewListRender;\r\n","import React from \"react\";\r\nimport { TextExposedField } from \"nystem-components\";\r\n\r\nconst ViewListSearch = ({ model }) => (\r\n  <TextExposedField model={{ text: \"Search\", ...model, id: \"$all\" }} />\r\n);\r\n\r\nexport default ViewListSearch;\r\n","import React, { useContext } from \"react\";\r\nimport {\r\n  DatabaseSearchContext,\r\n  Wrapper,\r\n  ContentTypeRender,\r\n  ViewListRender,\r\n} from \"nystem-components\";\r\n\r\nimport \"./table.scss\";\r\n\r\nconst ViewListView = ({ model, view }) => {\r\n  const { search } = useContext(DatabaseSearchContext);\r\n  const value = (search && search.data) || [];\r\n  const { emptyFields, className = [], headerFields, renderFormat } = model;\r\n\r\n  if (value.length === 0 && emptyFields && emptyFields.length > 0)\r\n    return (\r\n      <Wrapper className={className}>\r\n        <ContentTypeRender items={emptyFields} />\r\n      </Wrapper>\r\n    );\r\n\r\n  if (model.renderFormat === \"table\")\r\n    return (\r\n      <Wrapper renderAs=\"table\" className={className}>\r\n        <Wrapper renderAs=\"thead\">\r\n          <Wrapper renderAs=\"tr\">\r\n            <ContentTypeRender items={headerFields} renderAs=\"th\" />\r\n          </Wrapper>\r\n        </Wrapper>\r\n        <Wrapper renderAs=\"tbody\">\r\n          <ViewListRender\r\n            value={value.map((data) => ({ ...data, renderAs: \"tr\" }))}\r\n            model={model}\r\n            view={view}\r\n          />\r\n        </Wrapper>\r\n      </Wrapper>\r\n    );\r\n\r\n  if (renderFormat === \"list\")\r\n    return (\r\n      <Wrapper className={className}>\r\n        <ViewListRender value={value} model={model} view={view} />\r\n      </Wrapper>\r\n    );\r\n\r\n  if (headerFields && headerFields.length)\r\n    return (\r\n      <Wrapper className={className}>\r\n        <ContentTypeRender items={headerFields} />\r\n        <ViewListRender value={value} model={model} view={view} />\r\n      </Wrapper>\r\n    );\r\n\r\n  return (\r\n    <Wrapper className={className}>\r\n      <ViewListRender value={value} model={model} view={view} />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default ViewListView;\r\n","import React from \"react\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nconst ViewTextBreak = ({ model }) => {\r\n  const className = model.className ? model.className.join(\" \") : \"\";\r\n  return (\r\n    <Wrapper className={className} renderAs={model.renderAs} translate=\"true\">\r\n      <br />\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default ViewTextBreak;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\nclass ViewTextToken extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.view = props.view;\r\n    const state = {\r\n      value: app().utils.clone(this.view.value),\r\n      text: this.insertVal(this.model.text)\r\n    };\r\n    this.view.on(\"change\", this.setValueView);\r\n    this.state = state;\r\n  }\r\n  setValueView() {\r\n    const self = this;\r\n    if (JSON.stringify(this.view.value) !== JSON.stringify(this.state.value))\r\n      setTimeout(function() {\r\n        if (self.isMounted())\r\n          self.setState({\r\n            value: app().utils.clone(self.view.value),\r\n            text: self.insertVal(self.model.text)\r\n          });\r\n      }, 0);\r\n  }\r\n  insertVal(val) {\r\n    if (!val) return val;\r\n    const self = this;\r\n    this.val = false;\r\n    return val.replace(/\\{([a-z_.]+)\\}/gim, function(str, p1, offset, s) {\r\n      const val = self.view.getValue(p1.replace(\"..\", self.props.path));\r\n      return typeof val === \"undefined\" ? \"\" : val;\r\n    });\r\n  }\r\n  componentWillUnmount() {\r\n    this.view.off(\"change\", this.setValueView);\r\n  }\r\n  render() {\r\n    const className = this.model.className ? this.model.className.join(\" \") : \"\";\r\n    const renderAs = this.props.model.renderAs\r\n      ? this.props.model.renderAs\r\n      : this.props.model.format;\r\n    return (\r\n      <Wrapper renderAs={renderAs} className={className}>\r\n        {app().t(this.state.text)}\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\nexport default ViewTextToken;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\nclass ViewTextTokenFallbackNew extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.view = props.view;\r\n    const state = {\r\n      value: app().utils.clone(this.view.value),\r\n      text: this.insertVal(this.model.text)\r\n    };\r\n    this.view.on(\"change\", this.setValueView);\r\n    this.state = state;\r\n  }\r\n  setValueView() {\r\n    const self = this;\r\n    if (JSON.stringify(this.view.value) !== JSON.stringify(this.state.value))\r\n      setTimeout(function() {\r\n        if (self.isMounted())\r\n          self.setState({\r\n            value: app().utils.clone(self.view.value),\r\n            text: self.insertVal(self.model.text)\r\n          });\r\n      }, 0);\r\n  }\r\n  insertVal(val) {\r\n    if (!val) return val;\r\n    const self = this;\r\n    this.val = false;\r\n    return val.replace(/\\{([a-z_.]+)\\}/gim, function(str, p1, offset, s) {\r\n      const val = self.view.getValue(p1.replace(\"..\", self.props.path));\r\n      self.val = self.val || val;\r\n      return typeof val === \"undefined\" ? \"\" : val;\r\n    });\r\n  }\r\n  componentWillUnmount() {\r\n    this.view.off(\"change\", this.setValueView);\r\n  }\r\n  render() {\r\n    const className = this.model.className ? this.model.className.join(\" \") : \"\";\r\n    const renderAs = this.props.model.renderAs\r\n      ? this.props.model.renderAs\r\n      : this.props.model.format;\r\n    const text = this.val\r\n      ? this.state.text\r\n      : \"New \" + app().contentType[this.view.contentType].name;\r\n    return (\r\n      <Wrapper renderAs={renderAs} className={className}>\r\n        {app().t(text)}\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\nexport default ViewTextTokenFallbackNew;\r\n","import React from \"react\";\r\nimport { Wrapper } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst ViewTextView = ({ model }) => {\r\n  const className = model.className ? model.className.join(\" \") : \"\";\r\n  return (\r\n    <Wrapper className={className} renderAs={model.renderAs} translate=\"true\">\r\n      {app().t(model.text)}\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default ViewTextView;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\nclass ConnectionCssclass extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { connected: app().connection.connected() };\r\n  }\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    this.setState({ value: nextProps.value });\r\n  }\r\n  componentDidMount() {\r\n    app().connection.on(\"connect\", this.update);\r\n    app().connection.on(\"diconnect\", this.update);\r\n  }\r\n  componentWillUnmount() {\r\n    app().connection.on(\"connect\", this.update);\r\n    app().connection.on(\"diconnect\", this.update);\r\n  }\r\n  update = () => {\r\n    this.setState({ connected: app().connection.connected() });\r\n  };\r\n  render() {\r\n    const { children, view } = this.props;\r\n    const model = this.props.model || this.props;\r\n    const { connected } = this.state;\r\n\r\n    let className =\r\n      model.className instanceof Array\r\n        ? model.className.join(\" \")\r\n        : model.className || \"\";\r\n    const connectionClass =\r\n      (connected ? model.onlineClass : model.offlineClass) || \"\";\r\n    const space = connectionClass && className ? \" \" : \"\";\r\n\r\n    return (\r\n      <Wrapper className={className + space + connectionClass}>\r\n        {children ? children : model.item.map(view.createItem, this)}\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ConnectionCssclass;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst ConnectionView = ({ model = {}, offline, className, path, children }) => {\r\n  const [connected, setConnectedState] = useState(app().connection.connected());\r\n\r\n  useEffect(() => {\r\n    const update = () => {\r\n      setConnectedState(app().connection.connected());\r\n    };\r\n\r\n    app().connection.on(\"connect\", update);\r\n    app().connection.on(\"disconnect\", update);\r\n\r\n    return () => {\r\n      app().connection.off(\"connect\", update);\r\n      app().connection.off(\"disconnect\", update);\r\n    };\r\n  });\r\n\r\n  className = className || model.className;\r\n  offline = offline || model.offline;\r\n\r\n  if ((connected && offline) || (!connected && !offline)) return null;\r\n\r\n  if (children) return <Wrapper className={className}>{children}</Wrapper>;\r\n\r\n  return (\r\n    <Wrapper className={className}>\r\n      <ContentTypeRender path={path} items={model.item} />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default ConnectionView;\r\n","import React from \"react\";\nclass Offline extends React.Component {\n  render() {\n    return (\n      <div className=\"cssload-loader\">\n        <div className=\"cssload-inner cssload-one\" />\n        <div className=\"cssload-inner cssload-two\" />\n        <div className=\"cssload-inner cssload-three\" />\n      </div>\n    );\n  }\n}\nexport default Offline;\n","import React from \"react\";\r\n\r\nconst ContentTypeContext = React.createContext();\r\n\r\nexport default ContentTypeContext;\r\n\r\nexport const ViewContextProvider = ContentTypeContext.Provider;\r\n","import React, { useContext } from \"react\";\r\nimport app from \"nystem\";\r\nimport * as components from \"nystem-components\";\r\n\r\nconst createItem = ({ item, value, path, view, ...context }) => {\r\n  const { capFirst } = app();\r\n  const { id, type, format } = item;\r\n\r\n  const componentName = `${capFirst(type)}${capFirst(\r\n    format || view.viewFormat || \"view\"\r\n  )}`;\r\n\r\n  const component =\r\n    components[componentName] || components[`${capFirst(type)}View`];\r\n\r\n  const { getValue, getId } = view;\r\n  path = getId({ id, path });\r\n  const setValue = (value) => view.setValue({ path, value });\r\n\r\n  if (!component)\r\n    return (\r\n      <div\r\n        key={context.key}\r\n        className=\"red\"\r\n      >{`Missing component ${componentName}`}</div>\r\n    );\r\n\r\n  const focus =\r\n    item.format === \"input\" &&\r\n    item.category !== \"view\" &&\r\n    view.focus &&\r\n    !view.focused;\r\n\r\n  if (focus) view.focused = true;\r\n\r\n  return React.createElement(component, {\r\n    ...context,\r\n    value: getValue(path),\r\n    path,\r\n    view,\r\n    model: item,\r\n    setValue,\r\n    focus,\r\n  });\r\n};\r\n\r\nconst ContentTypeRender = (props) => {\r\n  const { path, items, renderAs } = props;\r\n  const context = useContext(components.ContentTypeContext);\r\n\r\n  if (!items) return <div className=\"red\">Missing items</div>;\r\n\r\n  return items.map((item, key) => {\r\n    const out = createItem({ key, item, path, ...context });\r\n    return (renderAs && React.createElement(renderAs, { key }, out)) || out;\r\n  });\r\n};\r\nexport default ContentTypeRender;\r\n","import React, { useState, useEffect, useMemo, useRef } from \"react\";\r\nimport app from \"nystem\";\r\nimport {\r\n  Loading,\r\n  Wrapper,\r\n  DatabaseGet,\r\n  ContentTypeRender,\r\n  DatabaseSearchContextProvider,\r\n} from \"nystem-components\";\r\nimport { getDiff, applyDiff } from \"recursive-diff\";\r\n\r\nimport { ViewContextProvider } from \"./context\";\r\nimport \"./view.css\";\r\n\r\nconst setValueAtPath = ({ path, current, value }) => {\r\n  const parts = path.split(\".\");\r\n  const out = { ...current };\r\n  let at = out;\r\n\r\n  parts.forEach((key, index) => {\r\n    if (parts.length - 1 === index) at[key] = value;\r\n    else {\r\n      at[key] = at[key] instanceof Array ? [...at[key]] : { ...at[key] };\r\n      at = at[key];\r\n    }\r\n  });\r\n  console.log(out);\r\n  return out;\r\n};\r\n\r\nconst getId = ({ path, id }) => {\r\n  if (path && id) return `${path}.${id}`;\r\n  if (id) return id;\r\n  return path;\r\n};\r\n\r\nconst useValue = ({ view, propvalue }) => {\r\n  const { id, contentType, noAutoUpdate } = view;\r\n\r\n  const { loading, data, first } = DatabaseGet({\r\n    contentType,\r\n    id,\r\n    noAutoUpdate,\r\n  });\r\n  const [viewValue, setViewValue] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (!view.on) return;\r\n\r\n    const reload = () => setViewValue(firstData.current);\r\n\r\n    view.on(\"reload\", reload);\r\n    return () => {\r\n      view.off(\"reload\", reload);\r\n    };\r\n  }, [view]);\r\n\r\n  const firstData = useRef(false);\r\n  useEffect(() => {\r\n    if (!data || !first) return;\r\n    firstData.current = data;\r\n  }, [data, first]);\r\n\r\n  const viewValueRef = useRef(false);\r\n  useEffect(() => {\r\n    if (!viewValueRef.current) return;\r\n    const diff = getDiff(firstData.current, data);\r\n    const res = applyDiff(viewValueRef.current, diff);\r\n\r\n    setViewValue({ ...res });\r\n  }, [data, view]);\r\n\r\n  const value = viewValue || data || propvalue || {};\r\n  viewValueRef.current = viewValue;\r\n\r\n  view.getValue = (path) =>\r\n    path ? path.split(\".\").reduce((val, key) => val && val[key], value) : value;\r\n\r\n  view.setValue = useMemo(\r\n    () => (props) => {\r\n      const out = setValueAtPath({ ...props, current: value });\r\n      setViewValue(out);\r\n      view.event(\"change\", { id: props.path, value: out, oldValue: value });\r\n      return out;\r\n    },\r\n    [value, view]\r\n  );\r\n\r\n  view.value = value;\r\n  return { value, loading };\r\n};\r\n\r\nconst ContentTypeView = ({\r\n  id,\r\n  contentType,\r\n  baseView,\r\n  addForm,\r\n  className,\r\n  itemFrom,\r\n  itemTo,\r\n  format,\r\n  children,\r\n  view: viewModel,\r\n  value: propvalue,\r\n  renderAs,\r\n  itemRenderAs,\r\n  ...events\r\n}) => {\r\n  const view = useMemo(() => {\r\n    const model = app().populatedViews[contentType];\r\n\r\n    if (!viewModel && !(model && model.views)) {\r\n      console.error(\"View creation error\", {\r\n        contentType,\r\n        baseView,\r\n        format,\r\n      });\r\n      return { model: {} };\r\n    }\r\n\r\n    const base = viewModel || model.views[format] || {};\r\n    return app().addeventhandler(\r\n      {\r\n        ...base,\r\n        baseView,\r\n        model,\r\n        format,\r\n        viewFormat: base.format,\r\n        contentType,\r\n        getId,\r\n        id,\r\n      },\r\n      `view ${contentType} ${format}`\r\n    );\r\n  }, [id, baseView, contentType, format, viewModel]);\r\n\r\n  const { model } = view;\r\n\r\n  useEffect(() => {\r\n    if (!view.on) return;\r\n\r\n    Object.keys(events).forEach((event) => {\r\n      if (event.substring(0, 2) === \"on\" && event[2].toUpperCase() === event[2])\r\n        view.on(event.substring(2).toLowerCase(), events[event]);\r\n    });\r\n\r\n    return () => {\r\n      Object.keys(events).forEach((event) => {\r\n        if (\r\n          event.substring(0, 2) === \"on\" &&\r\n          event[2].toUpperCase() === event[2]\r\n        )\r\n          view.off(event.substring(2).toLowerCase(), events[event]);\r\n      });\r\n    };\r\n  }, [events, view]);\r\n\r\n  const { value, loading } = useValue({ view, propvalue });\r\n\r\n  if (!model) return \"Missing model to create view\";\r\n  if (loading) return <Loading />;\r\n\r\n  const context = { contentType, model, view, value };\r\n  const items = view.item ? view.item.slice(itemFrom, itemTo) : [];\r\n\r\n  if (!renderAs) renderAs = !addForm ? undefined : \"form\";\r\n\r\n  return (\r\n    <ViewContextProvider value={context}>\r\n      <Wrapper\r\n        renderAs={renderAs}\r\n        className={className}\r\n        {...(!addForm\r\n          ? {}\r\n          : {\r\n              onSubmit: (e) => {\r\n                e.preventDefault();\r\n                view.event(\"submit\");\r\n              },\r\n            })}\r\n      >\r\n        <DatabaseSearchContextProvider view={view}>\r\n          {children || (\r\n            <ContentTypeRender items={items} renderAs={itemRenderAs} />\r\n          )}\r\n        </DatabaseSearchContextProvider>\r\n      </Wrapper>\r\n    </ViewContextProvider>\r\n  );\r\n};\r\n\r\nexport default ContentTypeView;\r\n","import { useState, useEffect } from \"react\";\r\n\r\nconst UseValidator = ({ validate, view, model, value }) => {\r\n  const [isValidated, setValidated] = useState(view && view.isValidated);\r\n  const error = isValidated && validate({ value, model });\r\n\r\n  useEffect(() => {\r\n    const validator = async ({ errors }) => {\r\n      setValidated(true);\r\n\r\n      const error = await Promise.resolve(validate({ value, model }) || false);\r\n      if (error) errors = [...(errors || []), error];\r\n      return errors ? { errors } : undefined;\r\n    };\r\n    if (!view) return;\r\n    view.on(\"validate\", validator);\r\n\r\n    return () => {\r\n      if (!view) return;\r\n      view.off(\"validate\", validator);\r\n    };\r\n  }, [view, validate, value, model]);\r\n\r\n  return [error, setValidated];\r\n};\r\nexport default UseValidator;\r\n","import React from \"react\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nconst types = {\r\n  primary: \"bg-blue-500 hover:bg-blue-500 text-white rounded shadow-sm\",\r\n  secondary:\r\n    \"bg-gray-200 hover:bg-gray-300 text-gray-900 border border-gray-300 rounded shadow-sm\",\r\n  \"ehc-primary\": \"floatlabel bg-primary text-white w-full\",\r\n  \"ehc-secondary\": \"floatlabel bg-secondary border border-gray-300 w-full\",\r\n  danger: \"bg-red-700 hover:bg-red-600 text-white rounded shadow-sm\",\r\n  warning: \"bg-yellow-600 hover:bg-yellow-500 text-white rounded shadow-sm\",\r\n  success: \"bg-green-600 hover:bg-green-500 text-white rounded shadow-sm\",\r\n  info: \"btn\",\r\n  error: \"btn\",\r\n  default: \"bg-gray-200 hover:bg-gray-300 text-gray-900 border border-gray-300\",\r\n  primaryDisabled: \"bg-blue-400 cursor-not-allowed\",\r\n  secondaryDisabled: \"bg-gray-600 text-white cursor-not-allowed\",\r\n  dangerDisabled: \"bg-red-400 text-white cursor-not-allowed\",\r\n  warningDisabled: \"bg-yellow-300 text-white cursor-not-allowed\",\r\n  infoDisabled: \"btn\",\r\n  errorDisabled: \"btn\",\r\n  defaultDisabled: \"bg-gray-300 text-white cursor-not-allowed\",\r\n};\r\n\r\nconst sizes = {\r\n  xs: \"py-1 px-2 text-xs\",\r\n  sm: \"py-1 px-2 text-sm\",\r\n  base: \"py-2 px-4 text-base\",\r\n  lg: \"py-4 px-6 text-lg\",\r\n  xl: \"py-4 px-8 text-xl\",\r\n  \"2xl\": \"py-4 px-8 text-xl2\",\r\n};\r\n\r\nconst Button = ({\r\n  onClick,\r\n  className = [],\r\n  type,\r\n  size,\r\n  disabled,\r\n  ...props\r\n}) => {\r\n  className = className instanceof Array ? [...className] : [className];\r\n\r\n  if (!className.includes(\"floatlabel\")) {\r\n    className.push(types[(type || \"default\") + (disabled ? \"Disabled\" : \"\")]);\r\n    className.push(sizes[size] || sizes.base);\r\n  }\r\n\r\n  if (props.Component)\r\n    return React.createElement(props.Component, {\r\n      className,\r\n      ...props,\r\n    });\r\n\r\n  return (\r\n    <Wrapper\r\n      renderAs=\"button\"\r\n      className={className}\r\n      {...props}\r\n      onClick={(e) => {\r\n        e.preventDefault();\r\n        onClick();\r\n      }}\r\n    />\r\n  );\r\n};\r\nexport default Button;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Button } from \"nystem-components\";\r\n\r\nclass ErrorManager extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.disconnectEvent = this.disconnectEvent.bind(this);\r\n    this.errorEvent = this.errorEvent.bind(this);\r\n    this.connectEvent = this.connectEvent.bind(this);\r\n    //window.onerror = this.errorEvent;\r\n    app().connection.on(\"disconnect\", this.disconnectEvent);\r\n    app().connection.on(\"connect\", this.connectEvent);\r\n    this.state = {\r\n      error: false,\r\n      offline: false\r\n    };\r\n  }\r\n  disconnectEvent() {\r\n    this.setState({\r\n      offline: true\r\n    });\r\n  }\r\n  connectEvent() {\r\n    if (this.state)\r\n      this.setState({\r\n        offline: false\r\n      });\r\n  }\r\n  errorEvent(error, url, line) {\r\n    const self = this;\r\n    console.log(error);\r\n    console.log(\"URL: \" + url);\r\n    console.log(\"Line Number: \" + line);\r\n    this.setState({ error: \"An error occured. Reload?\" });\r\n    if (this.errorTimer) clearTimeout(this.errorTimer);\r\n    this.errorTimer = setTimeout(function() {\r\n      self.setState({ error: false });\r\n    }, 5000);\r\n  }\r\n  errorReload(error, url, line) {\r\n    window.location.reload();\r\n  }\r\n  componentWillUnmount() {\r\n    clearTimeout(this.errorTimer);\r\n    app().connection.off(\"disconnect\", this.disconnectEvent);\r\n    app().connection.off(\"connect\", this.connectEvent);\r\n  }\r\n  render() {\r\n    if (this.state.error || this.state.offline)\r\n      return (\r\n        <Button className=\"btn-danger btn\" onClick={this.errorReload}>\r\n          {this.state.error || \"Site is offline\"}\r\n        </Button>\r\n      );\r\n    return <div />;\r\n  }\r\n}\r\nexport default ErrorManager;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nclass ErrorMsg extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { error: this.props.error };\r\n  }\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    this.setState({ error: nextProps.error });\r\n  }\r\n  render() {\r\n    const error =\r\n        this.state.error === true ? \"Required field\" : this.state.error,\r\n      defaultType = \"danger\",\r\n      className = [\"alert\"];\r\n    className.push(\r\n      \"alert-\" + (this.props.type ? this.props.type : defaultType)\r\n    );\r\n    if (this.props.className) className.push(this.props.className);\r\n    if (error)\r\n      return (\r\n        <p\r\n          className={className.join(\" \")}\r\n          dangerouslySetInnerHTML={{ __html: app().t(error) }}\r\n        />\r\n      );\r\n    return null;\r\n  }\r\n}\r\nexport default ErrorMsg;\r\n","import React, { useEffect, useRef } from \"react\";\r\n\r\nconst byType = {\r\n  text:\r\n    \"appearance-none block bg-grey-lighter text-grey-darker border border-grey-lighter rounded py-1 px-3\",\r\n  password:\r\n    \"appearance-none block bg-grey-lighter text-grey-darker border border-grey-lighter rounded py-1 px-3\",\r\n  checkbox: \"m-4\",\r\n};\r\n\r\nconst Input = ({ selectAllOnFocus, type, value, ...props }, parentRef) => {\r\n  const localRef = useRef(null);\r\n  const ref = parentRef || localRef;\r\n\r\n  useEffect(() => {\r\n    if (props.focus) ref.current.focus();\r\n  }, [props.focus, ref]);\r\n\r\n  const elementProps = { ...props };\r\n  delete elementProps.focus;\r\n  delete elementProps.renderAs;\r\n  delete elementProps.accessibilityLabel;\r\n  delete elementProps.accessible;\r\n  delete elementProps.translate;\r\n  delete elementProps.accessibilityTraits;\r\n  delete elementProps.accessibilityTraits;\r\n\r\n  let { className } = props;\r\n  className = className instanceof Array ? className.join(\" \") : className;\r\n\r\n  type = type || \"text\";\r\n  if (!className && [\"text\", \"password\"].includes(type))\r\n    className = \"sm:w-1/2 w-full\";\r\n\r\n  if (className && className.includes(\"floatlabel\"))\r\n    return (\r\n      <input\r\n        ref={ref}\r\n        {...elementProps}\r\n        className={` ${className}`}\r\n        onChange={(e) => props.onChange(e.target.value)}\r\n        onFocus={(ev) => {\r\n          if (selectAllOnFocus) ref.current.select();\r\n          if (elementProps.onFocus) return elementProps.onFocus(ev);\r\n        }}\r\n        type={type}\r\n        value={value}\r\n      />\r\n    );\r\n\r\n  return (\r\n    <input\r\n      ref={ref}\r\n      {...elementProps}\r\n      className={`${byType[type]} ${className}`}\r\n      onChange={(e) => props.onChange(e.target.value)}\r\n      onFocus={(ev) => {\r\n        if (selectAllOnFocus) ref.current.select();\r\n        if (elementProps.onFocus) return elementProps.onFocus(ev);\r\n      }}\r\n      type={type}\r\n      value={value}\r\n    />\r\n  );\r\n};\r\nexport default React.forwardRef(Input);\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nconst InputWrapper = ({\r\n  model,\r\n  error,\r\n  className: pClassName,\r\n  children,\r\n  id,\r\n}) => {\r\n  const inputWidth = model.classNameInput;\r\n\r\n  function label() {\r\n    const classNameLabel = [...(model.classNameLabel || [])];\r\n    if (!model.floatlabel)\r\n      classNameLabel.push(\r\n        \"mr-3 font-semibold sm:w-32 min-w-32 text-right align-top mt-1\"\r\n      );\r\n\r\n    if (!model.text) return null;\r\n    const text =\r\n      typeof model.text === \"string\" ? app().t(model.text) : model.text;\r\n\r\n    return (\r\n      <Wrapper renderAs=\"label\" htmlFor={id} className={classNameLabel}>\r\n        {text}\r\n        {model.mandatory && <span className=\"text-red-800 text-sm\">*</span>}\r\n      </Wrapper>\r\n    );\r\n  }\r\n\r\n  function errorMsg() {\r\n    error = error === true ? \"Required field\" : error;\r\n\r\n    const className = [\"text-red-600 ml-3\"];\r\n    if (pClassName) className.push(pClassName);\r\n\r\n    if (error) return <p className={className.join(\" \")}>{app().t(error)}</p>;\r\n    return null;\r\n  }\r\n\r\n  const info = () =>\r\n    model.info ? (\r\n      <span className=\"help-block\">{app().t(model.info)}</span>\r\n    ) : null;\r\n\r\n  const className = pClassName || model.className || [];\r\n\r\n  if (model.nolabel)\r\n    return (\r\n      <Wrapper className={className}>\r\n        {children}\r\n        {info()}\r\n        {errorMsg()}\r\n      </Wrapper>\r\n    );\r\n\r\n  if (model.floatlabel)\r\n    return (\r\n      <Wrapper className={className}>\r\n        {label()}\r\n        <Wrapper renderAs=\"div\">\r\n          {children}\r\n          {info()}\r\n          {errorMsg()}\r\n        </Wrapper>\r\n      </Wrapper>\r\n    );\r\n\r\n  return (\r\n    <Wrapper className={[...className, \"sm:flex my-2\"]}>\r\n      {label()}\r\n      <Wrapper renderAs=\"div\" className={inputWidth || \"flex-grow\"}>\r\n        {children}\r\n        {info()}\r\n        {errorMsg()}\r\n      </Wrapper>\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default InputWrapper;\r\n","import React from \"react\";\nclass Label extends React.Component {\n  render() {\n    if (!this.props.model.text) return null;\n    if (this.props.model.mandatory)\n      return (\n        <label htmlFor=\"id_input\" className=\"col-sm-2 col-form-label\">\n          {this.props.model.text}<span className=\"red\">*</span>\n        </label>\n      );\n    return (\n      <label htmlFor=\"id_input\" className=\"col-sm-2 col-form-label\">\n        {this.props.model.text}\n      </label>\n    );\n  }\n}\nexport default Label;\n","import React from \"react\";\nimport \"./loading.scss\";\n\nclass Loading extends React.Component {\n  state = { inDelay: true };\n  componentDidMount() {\n    this.delayTimer = setTimeout(() => this.setState({ inDelay: false }), 200);\n  }\n  componentWillUnmount() {\n    clearTimeout(this.delayTimer);\n  }\n  render() {\n    const { inDelay } = this.state;\n    return inDelay ? null : (\n      <div className=\"cssload-loader\">\n        <div className=\"cssload-inner cssload-one\" />\n        <div className=\"cssload-inner cssload-two\" />\n        <div className=\"cssload-inner cssload-three\" />\n      </div>\n    );\n  }\n}\nexport default Loading;\n","import React from \"react\";\nclass Render extends React.Component {\n  render() {\n    let model = this.props.model || {};\n\n    if (!model.className && !this.props.className)\n      return <div>{this.props.children}</div>;\n\n    let className = model.className ? model.className.join(\" \") : \"\";\n\n    if (!className && !this.props.className)\n      return <div>{this.props.children}</div>;\n\n    return (\n      <div className={this.props.className + \" \" + className}>\n        {this.props.children}\n      </div>\n    );\n  }\n}\nexport default Render;\n","import { useState, useEffect } from \"react\";\r\nimport app from \"nystem\";\r\n\r\nconst UseEvent = (event, data) => {\r\n  const [result, setResult] = useState({});\r\n\r\n  useEffect(() => {\r\n    app()\r\n      .event(event, data)\r\n      .then((result) => setResult(result));\r\n  }, [data, event]);\r\n\r\n  return result;\r\n};\r\n\r\nexport default UseEvent;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nconst ViewSmallComponentErrorMsg = ({ view, model }) => {\r\n  const [error, setError] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const errorSetter = error => {\r\n      setError(error);\r\n    };\r\n    view.on(\"error\", errorSetter);\r\n\r\n    return () => {\r\n      view.off(\"error\", errorSetter);\r\n    };\r\n  });\r\n\r\n  const className = model.className ? model.className.join(\" \") : \"\";\r\n\r\n  if (error)\r\n    return (\r\n      <Wrapper className={`text-red-500 ml-32 pl-12 ${className}`}>\r\n        {app().t(error)}\r\n      </Wrapper>\r\n    );\r\n  return null;\r\n};\r\n\r\nexport default ViewSmallComponentErrorMsg;\r\n","import React from \"react\";\r\n\r\nconst tags = [\r\n  \"p\",\r\n  \"a\",\r\n  \"h1\",\r\n  \"h2\",\r\n  \"h3\",\r\n  \"h4\",\r\n  \"h5\",\r\n  \"h6\",\r\n  \"div\",\r\n  \"nav\",\r\n  \"section\",\r\n  \"span\",\r\n  \"b\",\r\n  \"em\",\r\n  \"strong\",\r\n  \"i\",\r\n  \"form\",\r\n  \"button\",\r\n  \"label\",\r\n  \"table\",\r\n  \"tbody\",\r\n  \"thead\",\r\n  \"tr\",\r\n  \"th\",\r\n  \"td\",\r\n  \"sup\",\r\n].reduce((prev, tag) => {\r\n  prev[tag] = true;\r\n  return prev;\r\n}, {});\r\n\r\nconst typeClass = {\r\n  h1: \"text-2xl\",\r\n  h2: \"text-xl\",\r\n  h3: \"text-4xl pb-5 pt-2\",\r\n  h4: \"text-xl\",\r\n};\r\n\r\nconst Wrapper = (\r\n  {\r\n    renderAs,\r\n    className,\r\n    model,\r\n    accessibilityLabel,\r\n    accessible,\r\n    translate,\r\n    accessibilityTraits,\r\n    children,\r\n    onClick,\r\n    style,\r\n    ...props\r\n  },\r\n  ref\r\n) => {\r\n  className = className instanceof Array ? className.join(\" \") : className;\r\n\r\n  if (\r\n    !className &&\r\n    !renderAs &&\r\n    !onClick &&\r\n    !style &&\r\n    !Object.keys(props).length\r\n  )\r\n    return children || null;\r\n\r\n  if (!tags[renderAs] || renderAs === \"input\") renderAs = \"div\";\r\n\r\n  if (typeClass[renderAs])\r\n    className = `${className || \"\"} ${typeClass[renderAs]}`;\r\n\r\n  return React.createElement(\r\n    renderAs,\r\n    { ...props, ref, className, onClick, style },\r\n    children\r\n  );\r\n};\r\nexport default React.forwardRef(Wrapper);\r\n","import { useEffect } from \"react\";\r\nimport app from \"nystem\";\r\n\r\nconst DatabaseAddToCache = ({ options = {}, contentType, addMedia }) => {\r\n  useEffect(() => {\r\n    const doSearch = () => {\r\n      if (options.count) options.count = parseInt(options.count, 10);\r\n\r\n      app()\r\n        .database[contentType].search(options)\r\n        .then(({ data }) => {\r\n          if (!data) return;\r\n\r\n          data.forEach((item) =>\r\n            app().event(\"addToCache\", {\r\n              id: item._id,\r\n              contentType,\r\n              addReferencesToCache: options.addReferencesToCache,\r\n              addMedia,\r\n              value: item,\r\n            })\r\n          );\r\n        });\r\n    };\r\n\r\n    let timer = false;\r\n    const doSearchDebounce = () => {\r\n      clearTimeout(timer);\r\n      timer = setTimeout(() => {\r\n        timer = false;\r\n        doSearch();\r\n      }, 5000);\r\n    };\r\n\r\n    app().database[contentType].on(\"update\", -1000, doSearchDebounce);\r\n    app().on([\"login\", \"logout\"], -1000, doSearchDebounce);\r\n\r\n    return () => {\r\n      if (timer) clearTimeout(timer);\r\n\r\n      app().database[contentType].off(\"update\", doSearchDebounce);\r\n      app().off([\"login\", \"logout\"], doSearchDebounce);\r\n    };\r\n  });\r\n\r\n  return null;\r\n};\r\nexport default DatabaseAddToCache;\r\n","import { useEffect, useContext } from \"react\";\r\nimport { DatabaseSearchContext } from \"nystem-components\";\r\n\r\nconst DatabaseBaseViewSearch = ({ view }) => {\r\n  const { setSearch, search } = useContext(DatabaseSearchContext);\r\n\r\n  useEffect(() => {\r\n    const updateSearch = ({ filter }) => {\r\n      if (filter) setSearch({ ...search, filter });\r\n    };\r\n    view.baseView.on(\"search\", updateSearch);\r\n    return () => {\r\n      view.baseView.off(\"search\", updateSearch);\r\n    };\r\n  }, [view.baseView, search, setSearch]);\r\n\r\n  useEffect(() => {\r\n    if (!search.contentType || search.filter) return;\r\n\r\n    const updateSearch = ({ filter }) => {\r\n      if (filter) setSearch({ ...search, filter });\r\n    };\r\n    setTimeout(() => {\r\n      view.baseView.event(\"getSearch\").then(updateSearch);\r\n    }, 0);\r\n  }, [view.baseView, search, setSearch]);\r\n\r\n  return null;\r\n};\r\n\r\nexport default DatabaseBaseViewSearch;\r\n","import { useEffect, useState } from \"react\";\r\nimport app from \"nystem\";\r\n\r\nconst DatabaseGet = ({ id, contentType, noAutoUpdate }) => {\r\n  const db = app().database[contentType];\r\n  const [result, setResult] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (!id) {\r\n      setResult(false);\r\n      return;\r\n    }\r\n    if (!db) {\r\n      console.error({ id, contentType, noAutoUpdate });\r\n      return;\r\n    }\r\n\r\n    let first = true;\r\n\r\n    const doGet = ({ ids } = {}) => {\r\n      if (!ids || ids.includes(id))\r\n        db.get({ id }).then((result) => {\r\n          setResult({ first, ...result });\r\n          first = false;\r\n        });\r\n    };\r\n    doGet();\r\n    if (noAutoUpdate) return;\r\n\r\n    db.on(\"update\", doGet);\r\n    return () => {\r\n      db.off(\"update\", doGet);\r\n    };\r\n  }, [noAutoUpdate, contentType, db, id]);\r\n\r\n  return { loading: id && !result, ...result };\r\n};\r\nexport default DatabaseGet;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass DatabaseMissing extends React.Component {\r\n  static contextTypes = {\r\n    view: PropTypes.object.isRequired,\r\n    dataMissing: PropTypes.bool\r\n  };\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.view = props.view;\r\n    this.state = {\r\n      value: this.props.value\r\n    };\r\n    this.path = this.props.path;\r\n  }\r\n  valid = () => {\r\n    let valid = true;\r\n    for (let i = 0; i < this.model.item.length; i++)\r\n      if (\r\n        this.refs[`component${i}`].valid &&\r\n        this.refs[`component${i}`].valid &&\r\n        !this.refs[`component${i}`].valid()\r\n      )\r\n        valid = false;\r\n    return valid;\r\n  };\r\n  setValue = (id, value) => {\r\n    return this.props.setValue(id, value);\r\n  };\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    this.setState({\r\n      value: nextProps.value\r\n    });\r\n  }\r\n  render() {\r\n    const { model } = this.props;\r\n    const { view, dataMissing } = this.context;\r\n    this.focus = view.focus;\r\n    if (dataMissing) return model.item.map(view.createItem, this);\r\n    return null;\r\n  }\r\n}\r\nexport default DatabaseMissing;\r\n","import { useState, useEffect, useCallback } from \"react\";\r\nimport app from \"nystem\";\r\n\r\nconst DatabaseOneSearch = ({ noAutoUpdate, contentType, search: inSearch }) => {\r\n  const db = app().database[contentType];\r\n  const searchString = JSON.stringify(inSearch);\r\n\r\n  const [search, setSearchState] = useState(inSearch);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const setSearch = useCallback(\r\n    (search) => {\r\n      setLoading(true);\r\n\r\n      db.search({ ...search, data: undefined }).then((search) => {\r\n        setSearchState(search);\r\n        setLoading(false);\r\n      });\r\n\r\n      // if (!noAutoUpdate) db.on(\"update\", setSearch);\r\n    },\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [db, searchString]\r\n  );\r\n\r\n  useEffect(() => {\r\n    setSearch(inSearch);\r\n\r\n    return () => {\r\n      if (!noAutoUpdate) db.off(\"update\", setSearch);\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [noAutoUpdate, db, setSearch]);\r\n\r\n  return { loading, search, setSearch };\r\n};\r\n\r\nexport default DatabaseOneSearch;\r\n","import { useEffect, useContext } from \"react\";\r\nimport { DatabaseSearchContext } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst DatabaseSearch = ({ view, model, path, children }) => {\r\n  const { exact, reversesortby: reverse, count, subView, filter } = model;\r\n  let { sortby } = model;\r\n\r\n  const { setSearch } = useContext(DatabaseSearchContext);\r\n\r\n  useEffect(() => {\r\n    const updateFilter = () => {\r\n      if (!filter) return;\r\n\r\n      const insertVal = (val) =>\r\n        val.replace(/\\{([a-z_.]+)\\}/gim, (str, p1, offset, s) =>\r\n          view.getValue(p1.replace(\"..\", path))\r\n        );\r\n\r\n      options.filter = { $and: [] };\r\n      for (const item in filter) {\r\n        const oneFilter = {};\r\n        const oneFilterIn = filter[item].and;\r\n        for (const i in oneFilterIn)\r\n          oneFilter[insertVal(oneFilterIn[i][0])] = insertVal(\r\n            oneFilterIn[i][1]\r\n          );\r\n        options.filter.$and.push(oneFilter);\r\n      }\r\n    };\r\n\r\n    const { contentType } = view;\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    sortby = sortby instanceof Array ? sortby : sortby && [sortby];\r\n\r\n    const options = {\r\n      exact,\r\n      sortby: sortby && sortby.map((item) => item.id),\r\n      reverse,\r\n      contentType,\r\n      iiid: app().uuid(),\r\n    };\r\n\r\n    if (count) options.count = parseInt(count, 10);\r\n    if (view.id && subView) options.database = view.id;\r\n\r\n    updateFilter();\r\n    setSearch(options);\r\n  }, [count, exact, path, reverse, setSearch, sortby, subView, view]);\r\n\r\n  return children || null;\r\n};\r\n\r\nexport default DatabaseSearch;\r\n","import React from \"react\";\r\n\r\nconst DatabaseSearchContext = React.createContext();\r\n\r\nexport default DatabaseSearchContext;\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport app from \"nystem\";\r\nimport SearchContext from \"./searchContext\";\r\n\r\nconst DatabaseSearchContextProvider = ({ children, view }) => {\r\n  const [search, setSearchState] = useState({});\r\n  const [loading, setLoading] = useState(false);\r\n  const { contentType } = search;\r\n\r\n  const setSearch = useCallback(\r\n    async (search) => {\r\n      const { contentType } = search;\r\n      setLoading(true);\r\n      const searchResult = await app().database[contentType].search({\r\n        ...search,\r\n        data: undefined,\r\n      });\r\n\r\n      view\r\n        .event(\"search\", searchResult)\r\n        .then((searchResult) => setSearchState(searchResult));\r\n\r\n      setLoading(false);\r\n\r\n      return searchResult;\r\n    },\r\n    [view]\r\n  );\r\n\r\n  const setFilter = useCallback(\r\n    async ({ value, modelId, id }) => {\r\n      if (!Object.keys(search).length) return;\r\n\r\n      const { filter = {} } = search;\r\n      let { $and = [] } = filter;\r\n      const old = ($and.find((obj) => obj.__id === id) || {})[modelId] || \"\";\r\n      if (old === value) return;\r\n\r\n      $and = $and.filter((obj) => obj.__id !== id);\r\n      if (value !== undefined)\r\n        $and.push({\r\n          __id: id,\r\n          [modelId]: value,\r\n        });\r\n\r\n      return setSearch({ ...search, filter: { ...filter, $and } });\r\n    },\r\n    [setSearch, search]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (!contentType || search.noAutoUpdate) return;\r\n\r\n    const doSearch = async () => {\r\n      setLoading(true);\r\n\r\n      const searchResult = await app().database[contentType].search({\r\n        ...search,\r\n        data: undefined,\r\n      });\r\n\r\n      view\r\n        .event(\"search\", searchResult)\r\n        .then((searchResult) => setSearchState(searchResult));\r\n\r\n      setLoading(false);\r\n    };\r\n\r\n    app().database[contentType].on(\"update\", -1000, doSearch);\r\n    app().on([\"login\", \"logout\"], -1000, doSearch);\r\n    const getSearch = () => search;\r\n    view.on(\"getSearch\", getSearch);\r\n\r\n    return () => {\r\n      app().database[contentType].off(\"update\", doSearch);\r\n      app().off([\"login\", \"logout\"], doSearch);\r\n      view.off(\"getSearch\", getSearch);\r\n    };\r\n  }, [search, contentType, setSearch, view]);\r\n\r\n  return (\r\n    <SearchContext.Provider value={{ loading, search, setSearch, setFilter }}>\r\n      {children}\r\n    </SearchContext.Provider>\r\n  );\r\n};\r\nexport default DatabaseSearchContextProvider;\r\n","import React, { useContext } from \"react\";\r\nimport { Button, DatabaseSearchContext } from \"nystem-components\";\r\n\r\nconst DatabaseShowMoreButton = ({ model }) => {\r\n  const { search, setSearch } = useContext(DatabaseSearchContext);\r\n\r\n  if (search.count > search.searchTotal) return null;\r\n\r\n  return (\r\n    <Button\r\n      className={model.className}\r\n      type=\"lsdkfh\"\r\n      onClick={() => {\r\n        setSearch({\r\n          ...search,\r\n          count: search.count + parseInt(model.amount, 10),\r\n        });\r\n      }}\r\n    >\r\n      {model.text}\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default DatabaseShowMoreButton;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass DatabaseView extends React.Component {\r\n  static contextTypes = {\r\n    view: PropTypes.object.isRequired,\r\n    dataMissing: PropTypes.bool\r\n  };\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.view = props.view;\r\n    this.state = {\r\n      value: this.props.value\r\n    };\r\n    this.path = this.props.path;\r\n  }\r\n  valid = () => {\r\n    let valid = true;\r\n    for (let i = 0; i < this.model.item.length; i++)\r\n      if (\r\n        this.refs[`component${i}`].valid &&\r\n        this.refs[`component${i}`].valid &&\r\n        !this.refs[`component${i}`].valid()\r\n      )\r\n        valid = false;\r\n    return valid;\r\n  };\r\n  setValue = (id, value) => {\r\n    return this.props.setValue(id, value);\r\n  };\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    this.setState({\r\n      value: nextProps.value\r\n    });\r\n  }\r\n  render() {\r\n    const { model } = this.props;\r\n    const { view, dataMissing } = this.context;\r\n    this.focus = view.focus;\r\n    if (!dataMissing) return model.item.map(view.createItem, this);\r\n    return null;\r\n  }\r\n}\r\nexport default DatabaseView;\r\n","import React from \"react\";\r\nimport { DateInput } from \"nystem-components\";\r\nclass DateExposedField extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.props.view.searchProp.onUpdate(this.update);\r\n    this.classNameBase = this.model.className ? this.model.className : [];\r\n    this.updateCounter = 0;\r\n  }\r\n  update(data) {\r\n    if (this.id) {\r\n      const state = {};\r\n      const modelId = this.model.id;\r\n\r\n      state.from = this.props.view.searchProp.filter.get(this.id + \"_from\");\r\n      if (typeof state.from !== \"undefined\" && state.from[modelId])\r\n        state.from = state.from[modelId].substring(1);\r\n      else delete state.from;\r\n\r\n      state.to = this.props.view.searchProp.filter.get(this.id + \"_to\");\r\n      if (typeof state.to !== \"undefined\" && state.to[modelId])\r\n        state.to = state.to[modelId].substring(1);\r\n      else delete state.to;\r\n      if (typeof state.from !== \"undefined\" || typeof state.to !== \"undefined\")\r\n        this.setState(state);\r\n    }\r\n    const self = this;\r\n    if (this.updateCounter > 0) this.updateCounter--;\r\n    if (this.state.className === \"\" || this.updateCounter > 0) return;\r\n    this.setState({\r\n      className: \"has-success\"\r\n    });\r\n    this.delayTimer = setTimeout(function() {\r\n      if (self.isMounted())\r\n        self.setState({\r\n          className: \"\"\r\n        });\r\n    }, 1000);\r\n  }\r\n  search(id, value) {\r\n    const self = this;\r\n    clearTimeout(this.delayTimer);\r\n    const state = {\r\n      className: \"has-warning\"\r\n    };\r\n    state[id] = value;\r\n    this.setState(state);\r\n    this.delayTimer = setTimeout(function() {\r\n      self.updateCounter++;\r\n      if (value)\r\n        if (id === \"to\") value = \"<\" + value;\r\n        else value = \">\" + value;\r\n      self.props.view.searchProp.filter.add(\r\n        self.model.id,\r\n        value,\r\n        self.id + \"_\" + id\r\n      );\r\n    }, 200);\r\n  }\r\n  componentDidMount() {}\r\n  componentWillUnmount() {\r\n    this.props.view.searchProp.offUpdate(this.update);\r\n    clearTimeout(this.delayTimer);\r\n  }\r\n  render() {\r\n    const model = this.props.model;\r\n    const className = model.className && !this.props.wrapper\r\n      ? model.className.join(\" \")\r\n      : \"\";\r\n    const modelFrom = {\r\n      id: \"from\",\r\n      placeholder: \"From\",\r\n      clearButton: true\r\n    };\r\n    const modelTo = {\r\n      id: \"to\",\r\n      placeholder: \"To\",\r\n      clearButton: true\r\n    };\r\n    const style = {\r\n      width: \"150px\"\r\n    };\r\n    return (\r\n      <div className={className + \" form-inline\"}>\r\n        {this.model.text}\r\n        <DateInput\r\n          style={style}\r\n          model={modelFrom}\r\n          value={this.state.from}\r\n          setValue={this.search}\r\n        />\r\n        {\" - \"}\r\n        <DateInput\r\n          style={style}\r\n          model={modelTo}\r\n          value={this.state.to}\r\n          setValue={this.search}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default DateExposedField;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { SelectInput } from \"nystem-components\";\r\n\r\nclass DateExposedYearMonth extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.props.view.searchProp.onUpdate(this.update);\r\n    this.classNameBase = this.model.className ? this.model.className : [];\r\n    this.updateCounter = 0;\r\n    this.years = [];\r\n    const thisYear = new Date().getFullYear();\r\n    for (\r\n      let i = this.model.fromYear ? this.model.fromYear : 2012;\r\n      i <= thisYear;\r\n      i++\r\n    )\r\n      this.years.push(i.toString());\r\n    this.months = [\r\n      \"Jan\",\r\n      \"Feb\",\r\n      \"Mar\",\r\n      \"Apr\",\r\n      \"May\",\r\n      \"Jun\",\r\n      \"Jul\",\r\n      \"Oct\",\r\n      \"Nov\",\r\n      \"Dec\"\r\n    ];\r\n  }\r\n  update(data) {\r\n    if (this.id) {\r\n      const state = {};\r\n      const modelId = this.model.id;\r\n\r\n      state.from = this.props.view.searchProp.filter.get(`${this.id}_from`);\r\n      if (typeof state.from !== \"undefined\" && state.from[modelId])\r\n        state.from = state.from[modelId].substring(1);\r\n      else delete state.from;\r\n\r\n      state.to = this.props.view.searchProp.filter.get(`${this.id}_to`);\r\n      if (typeof state.to !== \"undefined\" && state.to[modelId])\r\n        state.to = state.to[modelId].substring(1);\r\n      else delete state.to;\r\n      if (typeof state.from !== \"undefined\" || typeof state.to !== \"undefined\")\r\n        this.setState(state);\r\n    }\r\n    const self = this;\r\n    if (this.updateCounter > 0) this.updateCounter--;\r\n    if (this.state.className === \"\" || this.updateCounter > 0) return;\r\n    this.setState({\r\n      className: \"has-success\"\r\n    });\r\n    this.delayTimer = setTimeout(() => {\r\n      if (self.isMounted())\r\n        self.setState({\r\n          className: \"\"\r\n        });\r\n    }, 1000);\r\n  }\r\n  search(id, value) {\r\n    const self = this;\r\n    function daysInMonth(year, month) {\r\n      return new Date(year, month, 0).getDate();\r\n    }\r\n    clearTimeout(this.delayTimer);\r\n    let state = {\r\n      className: \"has-warning\"\r\n    };\r\n    self.updateCounter++;\r\n    state = app().utils.clone(self.state);\r\n    if (id === \"year\") {\r\n      if (!value) {\r\n        state.from = undefined;\r\n        state.to = undefined;\r\n      } else {\r\n        state.from = `>${new Date(`${value}-01-01`).getTime()}`;\r\n        state.to = `<${new Date(`${value}-12-31`).getTime()}`;\r\n      }\r\n    }\r\n    if (id === \"month\") {\r\n      const year = app()\r\n        .utils.moment(parseInt(state.from, 10))\r\n        .format(\"YYYY\");\r\n      if (!value) {\r\n        state.from = `>${new Date(`${year}-01-01`).getTime()}`;\r\n        state.to = `>${new Date(`${year}-12-31`).getTime()}`;\r\n      } else {\r\n        const month = this.months.indexOf(value) + 1;\r\n        state.from = `>${new Date(`${year}-${month}-01`).getTime()}`;\r\n        state.to = `<${new Date(\r\n          `${year}-${month}-${daysInMonth(year, month)}`\r\n        ).getTime()}`;\r\n      }\r\n    }\r\n    if (self.state.from !== state.from)\r\n      self.props.view.searchProp.filter.add(\r\n        self.model.id,\r\n        state.from,\r\n        `${self.id}_from`\r\n      );\r\n    if (self.state.to !== state.to)\r\n      self.props.view.searchProp.filter.add(\r\n        self.model.id,\r\n        state.to,\r\n        `${self.id}_to`\r\n      );\r\n    if (state.from) state.from = state.from.substring(1);\r\n    if (state.to) state.to = state.to.substring(1);\r\n    this.setState(state);\r\n  }\r\n  componentDidMount() {}\r\n  componentWillUnmount() {\r\n    this.props.view.searchProp.offUpdate(this.update);\r\n    clearTimeout(this.delayTimer);\r\n  }\r\n  render() {\r\n    const { state } = this;\r\n    const { model } = this.props;\r\n    const self = this;\r\n    const className =\r\n      model.className && !this.props.wrapper ? model.className.join(\" \") : \"\";\r\n    const modelYear = {\r\n      id: \"year\",\r\n      option: this.years,\r\n      render: \"button\",\r\n      limit: 1,\r\n      text: \"Year\"\r\n    };\r\n    const modelMonth = {\r\n      id: \"month\",\r\n      option: this.months,\r\n      render: \"button\",\r\n      limit: 1,\r\n      text: \"Month\",\r\n      inputWidth: \"col-sm-11\",\r\n      labelWidth: \"col-sm-1\"\r\n    };\r\n    const style = {\r\n      width: \"150px\"\r\n    };\r\n    const year = state.from\r\n      ? app()\r\n          .utils.moment(parseInt(state.from, 10))\r\n          .format(\"YYYY\")\r\n      : undefined;\r\n    let month = null;\r\n    function monthSelector() {\r\n      if (!year) return null;\r\n      const from = app()\r\n        .utils.moment(parseInt(state.from, 10))\r\n        .format(\"MM\");\r\n      const to = app()\r\n        .utils.moment(parseInt(state.to, 10))\r\n        .format(\"MM\");\r\n      if (from === to) month = self.months[parseInt(from, 10) - 1];\r\n\r\n      return (\r\n        <SelectInput\r\n          style={style}\r\n          model={modelMonth}\r\n          value={month}\r\n          setValue={self.search}\r\n        />\r\n      );\r\n    }\r\n    return (\r\n      <div className={`${className} form-group row form-inline`}>\r\n        <SelectInput\r\n          style={style}\r\n          model={modelYear}\r\n          value={year}\r\n          setValue={this.search}\r\n        />\r\n        {monthSelector()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default DateExposedYearMonth;\r\n","export default ({ value, model }) =>\r\n  model.mandatory && !value && (model.text_mandatory || \"Field is mandatory\");\r\n","import React from \"react\";\r\nimport {\r\n  InputWrapper,\r\n  DateInputDate,\r\n  UseValidator,\r\n  Wrapper,\r\n  DateInputTime\r\n} from \"nystem-components\";\r\nimport validate from \"./validate\";\r\n\r\nconst DateInput = ({ model, view, focus, setValue, value }) => {\r\n  const { dateType = [\"date\", \"time\"] } = model;\r\n  const [error, setValidated] = UseValidator({ view, validate, value, model });\r\n  const validateAndSet = value => {\r\n    setValue(value);\r\n    setValidated(true);\r\n  };\r\n\r\n  return (\r\n    <InputWrapper model={model} error={error}>\r\n      <Wrapper className=\"flex\">\r\n        {dateType.includes(\"date\") && (\r\n          <DateInputDate\r\n            model={model}\r\n            value={value}\r\n            setValue={validateAndSet}\r\n          />\r\n        )}\r\n        {dateType.includes(\"time\") && (\r\n          <DateInputTime\r\n            model={model}\r\n            value={value}\r\n            setValue={validateAndSet}\r\n          />\r\n        )}\r\n      </Wrapper>\r\n    </InputWrapper>\r\n  );\r\n};\r\nexport default DateInput;\r\n","import React, { useEffect, useRef, useCallback, useState } from \"react\";\r\nimport { Icon, Wrapper } from \"nystem-components\";\r\nimport app from \"nystem\";\r\nimport Pikaday from \"pikaday\";\r\nimport \"pikaday/css/pikaday.css\";\r\nimport moment from \"moment\";\r\n\r\nconst ClearButton = ({ setValue }) => (\r\n  <Icon\r\n    onClick={() => setValue(\"\")}\r\n    className=\"absolute w-4 right-0 top-0 m-3\"\r\n    icon=\"close\"\r\n    aria-hidden=\"true\"\r\n  />\r\n);\r\n\r\nconst dateFormat = \"YYYY-MM-DD\";\r\n\r\nconst DateInputDate = ({ model, onBlur, focus, setValue, value }) => {\r\n  const [inputVal, setInputVal] = useState(\r\n    value ? moment(value).format(dateFormat) : \"\"\r\n  );\r\n  const { disabled, length, text } = model;\r\n\r\n  const inputEl = useRef(null);\r\n\r\n  const setFromPicker = useCallback(\r\n    function() {\r\n      const formVal = this.getMoment().format(dateFormat);\r\n      setValue(moment(formVal).valueOf());\r\n    },\r\n    [setValue]\r\n  );\r\n\r\n  useEffect(() => {\r\n    setInputVal(value ? moment(value).format(dateFormat) : \"\");\r\n  }, [value]);\r\n\r\n  useEffect(() => {\r\n    // eslint-disable-next-line no-new\r\n    new Pikaday({\r\n      field: inputEl.current,\r\n      format: dateFormat,\r\n      onSelect: setFromPicker,\r\n      firstDay: 1\r\n    });\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  return (\r\n    <Wrapper className=\"relative w-1/3\">\r\n      <input\r\n        ref={inputEl}\r\n        placeholder={app().t(text)}\r\n        className={\r\n          \"appearance-none block bg-grey-lighter text-grey-darker border border-grey-lighter rounded py-2 px-3 w-full\"\r\n        }\r\n        value={inputVal}\r\n        maxLength={length}\r\n        onChange={e => setInputVal(e.target.value)}\r\n        disabled={disabled}\r\n        type=\"text\"\r\n        focus={focus}\r\n        onBlur={() => setValue(moment(inputVal).valueOf())}\r\n      />\r\n      {value ? <ClearButton setValue={setValue} /> : null}\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default DateInputDate;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Wrapper, Input } from \"nystem-components\";\r\nimport app from \"nystem\";\r\nimport moment from \"moment\";\r\n\r\nconst parseVal = val => {\r\n  if (val > 100) val /= 100;\r\n\r\n  const parts = val\r\n    .toString()\r\n    .split(/[^0-9]/)\r\n    .filter(part => part);\r\n\r\n  const min = parseFloat(`.${parts[1] || 0}`) * 100;\r\n  return `${parts[0]}:${min < 10 ? `0${min}` : min}`;\r\n};\r\n\r\nconst DateInputTime = ({ model, focus, setValue, value }) => {\r\n  const { disabled, length, inputClassName = [] } = model;\r\n  const [inputVal, setInputVal] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    setInputVal(value ? moment(value).format(\"HH:mm\") : \"\");\r\n  }, [value]);\r\n\r\n  return (\r\n    <Wrapper className=\"flex\">\r\n      <Input\r\n        placeholder={app().t(\"Time\")}\r\n        className={[\"w-40\", ...inputClassName]}\r\n        value={inputVal}\r\n        maxLength={length}\r\n        onChange={value => setInputVal(value)}\r\n        disabled={disabled}\r\n        type=\"text\"\r\n        focus={focus}\r\n        onBlur={() => {\r\n          if (!inputVal) return;\r\n          const datePart = moment(value || Date.now()).format(\"YYYY-MM-DD\");\r\n          setValue(moment(`${datePart} ${parseVal(inputVal)}`).valueOf());\r\n        }}\r\n      />\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default DateInputTime;\r\n","import { TextSortBy } from \"nystem-components\";\r\nimport React from \"react\";\r\n\r\nconst DateSortBy = props => <TextSortBy {...props} />;\r\nexport default DateSortBy;\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport moment from \"moment\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nconst dateTimeFormats = {\r\n  dateLong: \"YYYY-MM-DD\",\r\n  timeLong: \"H:mm\",\r\n  dateTimeLong: \"YYYY-MM-DD HH:mm\",\r\n  dateTimeNoYear: \"D/M H:mm\",\r\n  dateTimeNoYearDay: \"ddd D/M H:mm\",\r\n  dateNoYearDay: \"ddd D/M\",\r\n  timeDay: \"ddd D/M H:mm\",\r\n  day: \"dddd\",\r\n};\r\n\r\nconst hourInMs = 1000 * 60 * 60;\r\n\r\nconst DateView = ({ model, value }) => {\r\n  const { className, renderAs, dateFormat } = model;\r\n  const format = dateTimeFormats[dateFormat || \"dateTimeLong\"];\r\n  value = parseInt(value, 10);\r\n  let rel = value && model.relative && value + hourInMs * 24 - Date.now();\r\n  rel = !rel || rel < 0 ? 0 : rel;\r\n  if (rel && moment().startOf(\"day\").valueOf() > value) rel = 0;\r\n\r\n  const formatDate = useCallback(\r\n    () =>\r\n      rel\r\n        ? rel > 23 * hourInMs\r\n          ? moment(value).fromNow()\r\n          : moment(value).format(\"H:mm\")\r\n        : moment(value).format(format),\r\n    [format, rel, value]\r\n  );\r\n  const [result, setResult] = useState(formatDate());\r\n\r\n  useEffect(() => {\r\n    if (!rel) return;\r\n\r\n    const update = () => setResult(formatDate());\r\n    const timer = setInterval(update, 30000);\r\n    return () => {\r\n      clearInterval(timer);\r\n    };\r\n  }, [formatDate, rel]);\r\n\r\n  return (\r\n    <Wrapper renderAs={renderAs} className={className}>\r\n      {app().t(value ? result : \"\")}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default DateView;\r\n","import React from \"react\";\r\n\r\nconst Image = (props) => <img alt={props.alt} {...props} />;\r\n\r\nexport default Image;\r\n","import React from \"react\";\r\nimport { Image } from \"nystem-components\";\r\n\r\nconst ViewImageView = ({ model }) => {\r\n  const className = model.className ? model.className.join(\" \") : \"\";\r\n\r\n  return (\r\n    <Image alt=\"logo\" className={className} src={`/image/${model.filename}`} />\r\n  );\r\n};\r\nexport default ViewImageView;\r\n","import { ContentTypeView } from \"nystem-components\";\r\nimport { Route } from \"react-router-dom\";\r\nimport React from \"react\";\r\n\r\nconst Inserter = (props) => {\r\n  const { match, className, children, source, exclude } = props;\r\n  const exact = !(match && match.indexOf(\"*\") === match.length - 1);\r\n  const propMatch = exact ? match : match.substring(0, match.length - 1);\r\n\r\n  return (\r\n    <Route\r\n      className={children instanceof Array && className}\r\n      path={match || source}\r\n      exact={exact}\r\n    >\r\n      {({ location, match }) => {\r\n        if (!match || exclude === location.pathname) return null;\r\n\r\n        if (children)\r\n          return children instanceof Array && children.length ? (\r\n            <div className={className}>{children}</div>\r\n          ) : (\r\n            children\r\n          );\r\n\r\n        let path = location.pathname;\r\n        if (source && (exact || source.indexOf(\"*\") === -1)) path = source;\r\n        else if (propMatch && source) {\r\n          const replace = propMatch.replace(source, \"\");\r\n          path =\r\n            source.substring(0, source.length - 1) + path.replace(replace, \"\");\r\n        }\r\n\r\n        path = path.split(\"/\");\r\n\r\n        return (\r\n          <ContentTypeView\r\n            className={className}\r\n            contentType={path[1]}\r\n            format={path[2]}\r\n            id={path[3]}\r\n            location={location}\r\n            params={location.pathname.split(\"/\").slice(1)}\r\n            path={path}\r\n            key={location.pathname}\r\n            noForm={props.noForm}\r\n          />\r\n        );\r\n      }}\r\n    </Route>\r\n  );\r\n};\r\nexport default Inserter;\r\n","import React from \"react\";\r\n\r\nimport { Route, Link as RLink } from \"react-router-dom\";\r\n\r\nconst toClassString = (className, match) => {\r\n  className = className instanceof Array ? className.join(\" \") : className;\r\n  return match ? `${className} active` : className;\r\n};\r\n\r\nconst Link = ({ to, className, match, children, exact }) => (\r\n  <Route\r\n    exact={exact}\r\n    path={match || (typeof to === \"object\" ? to.pathname : to)}\r\n  >\r\n    {({ location, match }) => (\r\n      <RLink to={to || \"/\"} className={toClassString(className, match)}>\r\n        {children}\r\n      </RLink>\r\n    )}\r\n  </Route>\r\n);\r\nexport default Link;\r\n","const RouterBackHandler = () => null;\r\nexport default RouterBackHandler;\r\n","import { withRouter } from \"react-router\";\r\nimport app from \"nystem\";\r\n\r\nlet history = [];\r\nlet at = 0;\r\n\r\nconst RouterHistory = ({ location, history: routerHistory }) => {\r\n  let atNew =\r\n    history.reduce(\r\n      (found, item, index) => found || (location.key === item.key && index + 1),\r\n      false\r\n    ) || history.length + 1;\r\n\r\n  if (atNew === history.length + 1) {\r\n    history = history.slice(0, at);\r\n    atNew = history.length + 1;\r\n  }\r\n\r\n  if (atNew === history.length + 1) history.push(location);\r\n\r\n  at = atNew;\r\n  app().routerHistory = { history, at, routerHistory };\r\n\r\n  return null;\r\n};\r\n\r\nexport default withRouter(RouterHistory);\r\n","import React, { useState, useRef, useEffect } from \"react\";\r\nimport { ContentTypeRender } from \"nystem-components\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nconst exclude = [\"style\"].map((item) => item.toUpperCase());\r\n\r\nconst RouterPageNotFound = ({ model, path, children, location, ...rest }) => {\r\n  const { className, renderAs, item } = model || rest;\r\n  const [is404, setIs404] = useState(false);\r\n  const ref = useRef();\r\n\r\n  useEffect(() => {\r\n    setIs404(false);\r\n    setTimeout(() => {\r\n      const items = [...ref.current.parentElement.children]\r\n        .map((item) => item.nodeName)\r\n        .filter((name) => !exclude.includes(name));\r\n\r\n      if (items.length < 2) setIs404(true);\r\n    }, 200);\r\n  }, [location.pathname, ref, setIs404]);\r\n\r\n  if (!is404) return <div ref={ref} />;\r\n\r\n  return (\r\n    <div\r\n      ref={ref}\r\n      className={className && className.join(\" \")}\r\n      renderAs={renderAs}\r\n    >\r\n      {children || <ContentTypeRender path={path} items={item} />}\r\n    </div>\r\n  );\r\n};\r\nexport default withRouter(RouterPageNotFound);\r\n","import { useEffect } from \"react\";\r\n\r\nconst positions = {};\r\nlet count = 0;\r\n\r\nconst setPos = () => {\r\n  if (\r\n    document.documentElement.scrollTop === positions[window.location.pathname]\r\n  )\r\n    return;\r\n\r\n  count++;\r\n  if (count === 5) {\r\n    count = 0;\r\n    return;\r\n  }\r\n\r\n  document.documentElement.scrollTop = positions[window.location.pathname];\r\n  setTimeout(setPos, 120);\r\n};\r\n\r\nconst RouterScrollpos = () => {\r\n  useEffect(() => {\r\n    window.addEventListener(\r\n      \"popstate\",\r\n      () => positions[window.location.pathname] && setTimeout(setPos, 120)\r\n    );\r\n\r\n    window.addEventListener(\"scroll\", () => {\r\n      positions[window.location.pathname] = document.documentElement.scrollTop;\r\n    });\r\n  }, []);\r\n\r\n  return null;\r\n};\r\n\r\nexport default RouterScrollpos;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass RouterState extends React.Component {\r\n  getPath = context => {\r\n    return context.router.history.location.pathname;\r\n  };\r\n  componentDidMount() {\r\n    let pathname = this.getPath(this.context);\r\n    console.log(\"pathname\", pathname);\r\n    if (this.props.save === \"storage\")\r\n      app()\r\n        .storage.getItem({ id: \"router.pathname\" })\r\n        .then(({ value }) => {\r\n          if (value && value !== pathname)\r\n            this.context.router.history.replace(value);\r\n          else if (this.props.start && pathname === \"/\")\r\n            this.context.router.history.replace(this.props.start);\r\n        });\r\n    else if (this.props.save === \"memory\" && app().pathname) {\r\n      if (app().pathname !== pathname)\r\n        this.context.router.history.replace(app().pathname);\r\n    } else if (this.props.start && pathname === \"/\")\r\n      this.context.router.history.replace(this.props.start);\r\n    else if (this.props.redirect) {\r\n      if (pathname.indexOf(this.props.match) === 0) {\r\n        pathname = pathname.replace(this.props.match, \"\");\r\n        this.context.router.history.replace(this.props.redirect + pathname);\r\n        return;\r\n      }\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {}\r\n\r\n  UNSAFE_componentWillReceiveProps(nextProps, nextContext) {\r\n    if (this.props.save === \"memory\")\r\n      app().pathname = this.getPath(this.context);\r\n    if (this.props.save === \"storage\")\r\n      app().storage.setItem({\r\n        id: \"router.pathname\",\r\n        value: this.getPath(this.context)\r\n      });\r\n  }\r\n\r\n  render() {\r\n    return null;\r\n  }\r\n}\r\nRouterState.contextTypes = {\r\n  router: PropTypes.object\r\n};\r\nexport default RouterState;\r\n\r\n//app.storage.getItem({ id: \"language\" }));\r\n","const RouterView = () => null;\r\nexport default RouterView;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst sortFuncInt = (key) => (a, b) => {\r\n  const x = a[key];\r\n  const y = b[key];\r\n  if (x === undefined) return y === undefined ? 0 : 1;\r\n  if (y === undefined) return -1;\r\n  return x < y ? -1 : x > y ? 1 : 0;\r\n};\r\n\r\nconst historyPos = (test) => {\r\n  const { history, at } = app().routerHistory;\r\n\r\n  const slice = history.slice(0, at);\r\n  slice.reverse();\r\n\r\n  const pos = slice.reduce((result, { pathname }, index) => {\r\n    if (result) return result;\r\n\r\n    if (test === \"/\") {\r\n      if (pathname === \"/\") return slice.length - index + 1;\r\n    } else if (new RegExp(test).test(pathname)) return slice.length - index + 1;\r\n\r\n    return 0;\r\n  }, 0);\r\n\r\n  return pos;\r\n};\r\n\r\nconst RouterViewByHistory = ({ model, path }) => {\r\n  model = model || {};\r\n  const { className, renderAs, items } = model;\r\n\r\n  const itemsByPosition = items.map((item) => ({\r\n    ...item,\r\n    pos: item.paths.reduce((res, path) => {\r\n      const pos = historyPos(path);\r\n      return pos > res ? pos : res;\r\n    }, 0),\r\n  }));\r\n\r\n  itemsByPosition.sort(sortFuncInt(\"pos\"));\r\n  itemsByPosition.reverse();\r\n\r\n  return (\r\n    <Wrapper className={className} renderAs={renderAs}>\r\n      <ContentTypeRender\r\n        path={path}\r\n        items={itemsByPosition.reduce(\r\n          (res, item) => [...res, ...item.item],\r\n          []\r\n        )}\r\n      />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default RouterViewByHistory;\r\n","export default ({ value, model }) => {\r\n  if (model.mandatory && !value[0]) return model.text_mandatory;\r\n  if (!value[0] && !value[1]) return false;\r\n\r\n  if (value[0].length < model.length)\r\n    return `Password must be at least ${model.length} characters`;\r\n\r\n  if (value[0] !== value[1]) return \"Repeated password must match\";\r\n\r\n  return false;\r\n};\r\n","import React, { useState } from \"react\";\r\nimport app from \"nystem\";\r\nimport { InputWrapper, Input, UseValidator } from \"nystem-components\";\r\nimport validate from \"./validate\";\r\nimport \"./confirmInput.css\";\r\n\r\nconst PasswordConfirmInput = ({ model, value, view, setValue }) => {\r\n  const [value1, setValue1] = useState(\"\");\r\n  const [value2, setValue2] = useState(\"\");\r\n\r\n  const [error, setValidated] = UseValidator({\r\n    view,\r\n    validate,\r\n    value: [value1, value2],\r\n    model,\r\n  });\r\n\r\n  return (\r\n    <InputWrapper model={model} error={error}>\r\n      <div>\r\n        <Input\r\n          placeholder={app().t(model.text)}\r\n          className={[...(model.classNameInput || []), \"confirm-input\"]}\r\n          value={value1}\r\n          onChange={(svalue) => {\r\n            setValidated(true);\r\n            setValue1(svalue);\r\n            if (svalue === value2) setValue(value1);\r\n            else if (value) setValue(\"\");\r\n          }}\r\n          type=\"password\"\r\n          autoComplete=\"new-password\"\r\n        />\r\n      </div>\r\n      <div>\r\n        <Input\r\n          placeholder={app().t(\"Repeat\")}\r\n          className={[...(model.classNameInput || []), \"confirm-input\"]}\r\n          value={value2}\r\n          onChange={(svalue) => {\r\n            setValidated(true);\r\n            setValue2(svalue);\r\n            if (svalue === value1) setValue(value1);\r\n            else if (value) setValue(\"\");\r\n          }}\r\n          type=\"password\"\r\n          autoComplete=\"new-password\"\r\n        />\r\n      </div>\r\n    </InputWrapper>\r\n  );\r\n};\r\nexport default PasswordConfirmInput;\r\n","import React from \"react\";\r\nimport { InputWrapper, Input } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nclass PasswordInput extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    const state = {\r\n      value: this.props.value,\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n    if (props.add && this.model.default)\r\n      props.setValue(this.model.id, state.value);\r\n    this.errormsg = this.model.text_mandatory\r\n      ? this.model.text_mandatory\r\n      : true;\r\n    this.validated = false;\r\n    this.state = state;\r\n\r\n    this.id = app().uuid();\r\n  }\r\n  handleChange(value) {\r\n    this.validated = true;\r\n    this.setState({\r\n      value: value,\r\n      error: this.model.mandatory && !value ? this.errormsg : false,\r\n    });\r\n    this.props.setValue(value);\r\n  }\r\n  valid() {\r\n    this.validated = true;\r\n    if (this.model.mandatory && !this.state.value) {\r\n      this.setState({\r\n        error: this.errormsg,\r\n      });\r\n      return false;\r\n    }\r\n    if (this.state.error) delete this.state.error;\r\n    return true;\r\n  }\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (this.props.value !== nextProps.value) {\r\n      const error = this.validated && this.model.mandatory && !nextProps.value;\r\n      this.setState({\r\n        value: nextProps.value,\r\n        error: error ? this.errormsg : false,\r\n      });\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <InputWrapper model={this.model} error={this.state.error} id={this.id}>\r\n        <Input\r\n          id={this.id}\r\n          placeholder={app().t(this.model.text)}\r\n          className={this.model.classNameInput || \"sm:w-1/2 w-full\"}\r\n          value={this.state.value || \"\"}\r\n          onChange={this.handleChange}\r\n          type=\"password\"\r\n        />\r\n      </InputWrapper>\r\n    );\r\n  }\r\n}\r\nexport default PasswordInput;\r\n","import React from \"react\";\r\nimport { InputWrapper } from \"nystem-components\";\r\nimport app from \"nystem\";\r\nclass PasswordOldpassword extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.errormsg = this.model.text_mandatory\r\n      ? this.model.text_mandatory\r\n      : true;\r\n    this.validated = false;\r\n    this.state = {};\r\n  }\r\n  handleChange() {\r\n    this.validated = true;\r\n    const value = this.refs.input.value;\r\n    this.setState({\r\n      value: value,\r\n      error: this.model.mandatory && !value ? this.errormsg : false\r\n    });\r\n    this.props.setValue(\"__\" + this.model.id, value);\r\n  }\r\n  valid() {\r\n    this.validated = true;\r\n    if (this.model.mandatory && !this.state.value) {\r\n      this.setState({\r\n        error: this.errormsg\r\n      });\r\n      return false;\r\n    }\r\n    if (this.state.error) delete this.state.error;\r\n    return true;\r\n  }\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (this.props.value !== nextProps.value) {\r\n      const error = this.validated && this.model.mandatory && !nextProps.value;\r\n      this.setState({\r\n        error: error ? this.errormsg : false\r\n      });\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <InputWrapper model={this.model} error={this.state.error}>\r\n        <input\r\n          ref=\"input\"\r\n          placeholder={app().t(this.model.text)}\r\n          className=\"form-control\"\r\n          value={this.state.value}\r\n          onChange={this.handleChange}\r\n          type=\"password\"\r\n        />\r\n      </InputWrapper>\r\n    );\r\n  }\r\n}\r\nexport default PasswordOldpassword;\r\n","import React from \"react\";\nclass PasswordView extends React.Component {\n  render() {\n    return null;\n  }\n}\nexport default PasswordView;\n","import React from \"react\";\r\nimport app from \"nystem\";\r\n\r\nclass RoleView extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    app().on(\"login\", this.sessionChange);\r\n    app().on(\"logout\", this.sessionChange);\r\n\r\n    this.sessionChange();\r\n\r\n    return {};\r\n  }\r\n  sessionChange() {\r\n    let session = app.session.user;\r\n    const { fields } = this.props.model;\r\n\r\n    if (!session) session = {};\r\n\r\n    if (!fields || !fields.length) this.props.setValue(false, session);\r\n    else\r\n      for (let i = 0; i < fields.length; i++)\r\n        this.props.setValue(fields[i], session[fields[i]]);\r\n  }\r\n\r\n  render() {\r\n    return null;\r\n  }\r\n}\r\nexport default RoleView;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nclass Role extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    app().on(\"login\", this.sessionChange.bind(this));\r\n    app().on(\"logout\", this.sessionChange.bind(this));\r\n    this.state = { visible: this.isVisible(props) };\r\n  }\r\n  contains(array1, array2) {\r\n    if (typeof array1 === \"string\") array1 = [array1];\r\n    if (typeof array2 === \"string\") array2 = [array2];\r\n\r\n    for (let i = 0; i < array1.length; i++)\r\n      if (array2.indexOf(array1[i]) !== -1) return true;\r\n\r\n    return false;\r\n  }\r\n  isVisible(props) {\r\n    const user = app().session.user;\r\n    let role =\r\n      user && user.role ? [\"logged-in\"].concat(user.role) : [\"logged-out\"];\r\n    return this.contains(props.role.split(\" \"), role);\r\n  }\r\n  sessionChange() {\r\n    let visible = this.isVisible(this.props);\r\n    if (visible !== this.state.visible) this.setState({ visible });\r\n  }\r\n\r\n  render() {\r\n    if (this.state.visible)\r\n      return (\r\n        <Wrapper className={this.props.className}>\r\n          {this.props.children}\r\n        </Wrapper>\r\n      );\r\n    return null;\r\n  }\r\n}\r\nexport default Role;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nconst SessionLogout = ({ children, model, history, path, ...props }) => {\r\n  const { item, className, to } = model || props;\r\n  return (\r\n    <Wrapper\r\n      className={className}\r\n      onClick={(e) => {\r\n        e.preventDefault();\r\n        app().session.logout();\r\n        if (!to) return;\r\n\r\n        history.replace(to);\r\n      }}\r\n    >\r\n      {children || <ContentTypeRender path={path} items={item} />}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default withRouter(SessionLogout);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst hasNoRole = user => user && !user.role;\r\n\r\nconst SessionNoRole = ({ model = {}, children, path, className }) => {\r\n  const [visible, setVisible] = useState(hasNoRole(app().session.user));\r\n\r\n  useEffect(() => {\r\n    const check = () => {\r\n      setVisible(hasNoRole(app().session.user));\r\n    };\r\n\r\n    app().on(\"logout\", check);\r\n    app().on(\"login\", check);\r\n\r\n    return () => {\r\n      app().off(\"login\", check);\r\n      app().off(\"logout\", check);\r\n    };\r\n  }, []);\r\n\r\n  if (!visible) return null;\r\n\r\n  className = model.className || className;\r\n\r\n  if (children) return <Wrapper className={className}>{children}</Wrapper>;\r\n\r\n  return (\r\n    <Wrapper className={className}>\r\n      <ContentTypeRender path={path} items={model.item} />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default SessionNoRole;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst contains = (array1, array2) => {\r\n  if (!(array1 instanceof Array)) array1 = [array1];\r\n  if (!(array2 instanceof Array)) array2 = [array2];\r\n  for (let i = 0; i < array1.length; i++)\r\n    if (array2.indexOf(array1[i]) !== -1) return true;\r\n\r\n  return false;\r\n};\r\n\r\nconst SessionRole = ({ userrole, model = {}, children, path, className }) => {\r\n  const [visible, setVisible] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const updateVisibility = () => {\r\n      let reqRole = model.role || userrole;\r\n      reqRole = typeof reqRole === \"string\" ? reqRole.split(\" \") : reqRole;\r\n\r\n      const { role } = app().session.user || {};\r\n\r\n      const userRole = role ? [\"logged-in\"].concat(role) : \"logged-out\";\r\n\r\n      setVisible(contains(userRole, reqRole));\r\n    };\r\n\r\n    app().on(\"logout\", -1000, updateVisibility);\r\n    app().on(\"login\", -1000, updateVisibility);\r\n\r\n    updateVisibility();\r\n    return () => {\r\n      app().off(\"login\", updateVisibility);\r\n      app().off(\"logout\", updateVisibility);\r\n    };\r\n  }, [model.role, userrole]);\r\n\r\n  if (!visible) return null;\r\n\r\n  if (children)\r\n    return (\r\n      <Wrapper className={model.className || className}>{children}</Wrapper>\r\n    );\r\n\r\n  return (\r\n    <Wrapper className={model.className}>\r\n      <ContentTypeRender path={path} items={model.item} />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default SessionRole;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { ContentTypeView } from \"nystem-components\";\r\n\r\nclass SessionUser extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    app().on(\"login\", this.sessionChange.bind(this));\r\n    app().on(\"logout\", this.sessionChange.bind(this));\r\n\r\n    const session = app().session.user;\r\n    this.state = { userid: session ? session._id : null };\r\n  }\r\n  sessionChange() {\r\n    const session = app().session.user;\r\n    this.setState({ userid: session ? session._id : null });\r\n  }\r\n  render() {\r\n    const { view, model } = this.props;\r\n    if (this.state.userid && model.toformat !== view.format)\r\n      return (\r\n        <ContentTypeView\r\n          key={this.state.userid}\r\n          contentType={view.contentType}\r\n          format={model.toformat}\r\n          id={this.state.userid}\r\n          baseView={view}\r\n        />\r\n      );\r\n    return null;\r\n  }\r\n}\r\nexport default SessionUser;\r\n","import { useEffect } from \"react\";\r\nimport app from \"nystem\";\r\n\r\nconst SessionView = ({ view }) => {\r\n  useEffect(() => {\r\n    const sessionChange = () => {\r\n      let session = app().session.user;\r\n      const { fields } = this.props.model;\r\n\r\n      if (!session) session = {};\r\n\r\n      if (!fields || !fields.length) view.setValue(false, session);\r\n      else\r\n        for (let i = 0; i < fields.length; i++)\r\n          view.setValue(fields[i], session[fields[i]]);\r\n    };\r\n\r\n    app().on(\"login\", sessionChange);\r\n    app().on(\"logout\", sessionChange);\r\n\r\n    sessionChange();\r\n    return () => {\r\n      app().off(\"login\", sessionChange);\r\n      app().off(\"logout\", sessionChange);\r\n    };\r\n  }, [view]);\r\n\r\n  return null;\r\n};\r\nexport default SessionView;\r\n","import React, { useState } from \"react\";\r\nimport app from \"nystem\";\r\nimport { Button } from \"nystem-components\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nconst ViewButtonLogin = ({ view, model, history }) => {\r\n  const [saveButton, setSaveButton] = useState(\"Log in\");\r\n\r\n  const handleSubmit = async () => {\r\n    const { errors } = await view.event(\"validate\");\r\n\r\n    if (!errors) {\r\n      view.value.contentType = view.contentType;\r\n\r\n      app()\r\n        .session.login(view.value)\r\n        .then(({ error }) => {\r\n          if (error === \"missing\") {\r\n            view.event(\"error\", \"Email does not exist\");\r\n            setSaveButton(\"Log in\");\r\n          } else if (error === \"password\") {\r\n            view.event(\"error\", \"Password error\");\r\n            setSaveButton(\"Log in\");\r\n          } else if (model.redirectURL) history.replace(model.redirectURL);\r\n        });\r\n\r\n      setSaveButton(\"Logging in\");\r\n    } else view.event(\"error\", \"Correct validation errors\");\r\n  };\r\n\r\n  return (\r\n    <Button className={model.className} type=\"default\" onClick={handleSubmit}>\r\n      {saveButton}\r\n    </Button>\r\n  );\r\n};\r\nexport default withRouter(ViewButtonLogin);\r\n","import React from \"react\";\r\nimport { Icon } from \"nystem-components\";\r\n\r\nconst IconView = ({ model }) => (\r\n  <Icon\r\n    className={model.className}\r\n    icon={model.icon}\r\n    deg={model.deg !== \"0\" && model.deg}\r\n  />\r\n);\r\n\r\nexport default IconView;\r\n","import React from \"react\";\n  \n  export default {\"add-outline\":<path d=\"M11 9h4v2h-4v4H9v-4H5V9h4V5h2v4zm-1 11a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16z\"/>,\"add-solid\":<path d=\"M11 9V5H9v4H5v2h4v4h2v-4h4V9h-4zm-1 11a10 10 0 1 1 0-20 10 10 0 0 1 0 20z\"/>,\"adjust\":<path d=\"M10 2v16a8 8 0 1 0 0-16zm0 18a10 10 0 1 1 0-20 10 10 0 0 1 0 20z\"/>,\"airplane\":<path d=\"M8.4 12H2.8L1 15H0V5h1l1.8 3h5.6L6 0h2l4.8 8H18a2 2 0 1 1 0 4h-5.2L8 20H6l2.4-8z\"/>,\"album\":<path d=\"M0 0h20v20H0V0zm10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm0-5a3 3 0 1 1 0-6 3 3 0 0 1 0 6z\"/>,\"align-center\":<path d=\"M1 1h18v2H1V1zm0 8h18v2H1V9zm0 8h18v2H1v-2zM4 5h12v2H4V5zm0 8h12v2H4v-2z\"/>,\"align-justified\":<path d=\"M1 1h18v2H1V1zm0 8h18v2H1V9zm0 8h18v2H1v-2zM1 5h18v2H1V5zm0 8h18v2H1v-2z\"/>,\"align-left\":<path d=\"M1 1h18v2H1V1zm0 8h18v2H1V9zm0 8h18v2H1v-2zM1 5h12v2H1V5zm0 8h12v2H1v-2z\"/>,\"align-right\":<path d=\"M1 1h18v2H1V1zm0 8h18v2H1V9zm0 8h18v2H1v-2zM7 5h12v2H7V5zm0 8h12v2H7v-2z\"/>,\"anchor\":<path d=\"M4.34 15.66A7.97 7.97 0 0 0 9 17.94V10H5V8h4V5.83a3 3 0 1 1 2 0V8h4v2h-4v7.94a7.97 7.97 0 0 0 4.66-2.28l-1.42-1.42h5.66l-2.83 2.83a10 10 0 0 1-14.14 0L.1 14.24h5.66l-1.42 1.42zM10 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2z\"/>,\"announcement\":<path d=\"M3 6c0-1.1.9-2 2-2h8l4-4h2v16h-2l-4-4H5a2 2 0 0 1-2-2H1V6h2zm8 9v5H8l-1.67-5H5v-2h8v2h-2z\"/>,\"apparel\":<path d=\"M7 0H6L0 3v6l4-1v12h12V8l4 1V3l-6-3h-1a3 3 0 0 1-6 0z\"/>,\"arrow-down\":<polygon points=\"9 16.172 2.929 10.101 1.515 11.515 10 20 10.707 19.293 18.485 11.515 17.071 10.101 11 16.172 11 0 9 0\"/>,\"arrow-left\":<polygon points=\"3.828 9 9.899 2.929 8.485 1.515 0 10 .707 10.707 8.485 18.485 9.899 17.071 3.828 11 20 11 20 9 3.828 9\"/>,\"arrow-outline-down\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm-2-8V5h4v5h3l-5 5-5-5h3z\"/>,\"arrow-outline-left\":<path d=\"M0 10a10 10 0 1 1 20 0 10 10 0 0 1-20 0zm2 0a8 8 0 1 0 16 0 8 8 0 0 0-16 0zm8-2h5v4h-5v3l-5-5 5-5v3z\"/>,\"arrow-outline-right\":<path d=\"M20 10a10 10 0 1 1-20 0 10 10 0 0 1 20 0zm-2 0a8 8 0 1 0-16 0 8 8 0 0 0 16 0zm-8 2H5V8h5V5l5 5-5 5v-3z\"/>,\"arrow-outline-up\":<path d=\"M10 0a10 10 0 1 1 0 20 10 10 0 0 1 0-20zm0 2a8 8 0 1 0 0 16 8 8 0 0 0 0-16zm2 8v5H8v-5H5l5-5 5 5h-3z\"/>,\"arrow-right\":<polygon points=\"16.172 9 10.101 2.929 11.515 1.515 20 10 19.293 10.707 11.515 18.485 10.101 17.071 16.172 11 0 11 0 9\"/>,\"arrow-thick-down\":<path d=\"M7 10V2h6v8h5l-8 8-8-8h5z\"/>,\"arrow-thick-left\":<path d=\"M10 13h8V7h-8V2l-8 8 8 8v-5z\"/>,\"arrow-thick-right\":<path d=\"M10 7H2v6h8v5l8-8-8-8v5z\"/>,\"arrow-thick-up\":<path d=\"M7 10v8h6v-8h5l-8-8-8 8h5z\"/>,\"arrow-thin-down\":<path d=\"M9 16.172l-6.071-6.071-1.414 1.414L10 20l.707-.707 7.778-7.778-1.414-1.414L11 16.172V0H9z\"/>,\"arrow-thin-left\":<path d=\"M3.828 9l6.071-6.071-1.414-1.414L0 10l.707.707 7.778 7.778 1.414-1.414L3.828 11H20V9H3.828z\"/>,\"arrow-thin-right\":<path d=\"M16.172 9l-6.071-6.071 1.414-1.414L20 10l-.707.707-7.778 7.778-1.414-1.414L16.172 11H0V9z\"/>,\"arrow-thin-up\":<path d=\"M9 3.828L2.929 9.899 1.515 8.485 10 0l.707.707 7.778 7.778-1.414 1.414L11 3.828V20H9V3.828z\"/>,\"arrow-up\":<polygon points=\"9 3.828 2.929 9.899 1.515 8.485 10 0 10.707 .707 18.485 8.485 17.071 9.899 11 3.828 11 20 9 20 9 3.828\"/>,\"artist\":<path d=\"M15.75 8l-3.74-3.75a3.99 3.99 0 0 1 6.82-3.08A4 4 0 0 1 15.75 8zM1.85 15.3l9.2-9.19 2.83 2.83-9.2 9.2-2.82-2.84zm-1.4 2.83l2.11-2.12 1.42 1.42-2.12 2.12-1.42-1.42zM10 15l2-2v7h-2v-5z\"/>,\"at-symbol\":<path d=\"M13.6 13.47A4.99 4.99 0 0 1 5 10a5 5 0 0 1 8-4V5h2v6.5a1.5 1.5 0 0 0 3 0V10a8 8 0 1 0-4.42 7.16l.9 1.79A10 10 0 1 1 20 10h-.18.17v1.5a3.5 3.5 0 0 1-6.4 1.97zM10 13a3 3 0 1 0 0-6 3 3 0 0 0 0 6z\"/>,\"attachment\":<path d=\"M15 3H7a7 7 0 1 0 0 14h8v-2H7A5 5 0 0 1 7 5h8a3 3 0 0 1 0 6H7a1 1 0 0 1 0-2h8V7H7a3 3 0 1 0 0 6h8a5 5 0 0 0 0-10z\"/>,\"backspace\":<path d=\"M0 10l7-7h13v14H7l-7-7zm14.41 0l2.13-2.12-1.42-1.42L13 8.6l-2.12-2.13-1.42 1.42L11.6 10l-2.13 2.12 1.42 1.42L13 11.4l2.12 2.13 1.42-1.42L14.4 10z\"/>,\"backward-step\":<path d=\"M4 5h3v10H4V5zm12 0v10l-9-5 9-5z\"/>,\"backward\":<path d=\"M19 5v10l-9-5 9-5zm-9 0v10l-9-5 9-5z\"/>,\"badge\":<path d=\"M10 12a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-3a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm4 2.75V20l-4-4-4 4v-8.25a6.97 6.97 0 0 0 8 0z\"/>,\"battery-full\":<path d=\"M0 6c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6zm2 0v8h16V6H2zm1 1h4v6H3V7zm5 0h4v6H8V7zm5 0h4v6h-4V7z\"/>,\"battery-half\":<path d=\"M0 6c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6zm2 0v8h16V6H2zm1 1h4v6H3V7zm5 0h4v6H8V7z\"/>,\"battery-low\":<path d=\"M0 6c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6zm2 0v8h16V6H2zm1 1h4v6H3V7z\"/>,\"beverage\":<path d=\"M9 18v-7L0 2V0h20v2l-9 9v7l5 1v1H4v-1l5-1zm2-10a2 2 0 1 0 0-4 2 2 0 0 0 0 4z\"/>,\"block\":<path d=\"M0 10a10 10 0 1 1 20 0 10 10 0 0 1-20 0zm16.32-4.9L5.09 16.31A8 8 0 0 0 16.32 5.09zm-1.41-1.42A8 8 0 0 0 3.68 14.91L14.91 3.68z\"/>,\"bluetooth\":<path d=\"M9.41 0l6 6-4 4 4 4-6 6H9v-7.59l-3.3 3.3-1.4-1.42L8.58 10l-4.3-4.3L5.7 4.3 9 7.58V0h.41zM11 4.41V7.6L12.59 6 11 4.41zM12.59 14L11 12.41v3.18L12.59 14z\"/>,\"bolt\":<path d=\"M13 8V0L8.11 5.87 3 12h4v8L17 8h-4z\"/>,\"book-reference\":<path d=\"M6 4H5a1 1 0 1 1 0-2h11V1a1 1 0 0 0-1-1H4a2 2 0 0 0-2 2v16c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V5a1 1 0 0 0-1-1h-7v8l-2-2-2 2V4z\"/>,\"bookmark copy 2\":<polygon points=\"18 12 18 13 8 13 8 18 2 12 8 6 8 11 16 11 16 2 18 2\"/>,\"bookmark copy 3\":<polygon points=\"3.5 13 12 13 12 18 18 12 12 6 12 11 4 11 4 2 2 2 2 13\"/>,\"bookmark-outline-add\":<path d=\"M2 2c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v18l-8-4-8 4V2zm2 0v15l6-3 6 3V2H4zm5 5V5h2v2h2v2h-2v2H9V9H7V7h2z\"/>,\"bookmark-outline\":<path d=\"M2 2c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v18l-8-4-8 4V2zm2 0v15l6-3 6 3V2H4z\"/>,\"bookmark\":<path d=\"M2 2c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v18l-8-4-8 4V2z\"/>,\"border-all\":<path d=\"M11 11v6h6v-6h-6zm0-2h6V3h-6v6zm-2 2H3v6h6v-6zm0-2V3H3v6h6zm-8 9V1h18v18H1v-1z\"/>,\"border-bottom\":<path d=\"M1 1h2v2H1V1zm0 4h2v2H1V5zm0 4h2v2H1V9zm0 4h2v2H1v-2zm0 4h18v2H1v-2zM5 1h2v2H5V1zm0 8h2v2H5V9zm4-8h2v2H9V1zm0 4h2v2H9V5zm0 4h2v2H9V9zm0 4h2v2H9v-2zm4-12h2v2h-2V1zm0 8h2v2h-2V9zm4-8h2v2h-2V1zm0 4h2v2h-2V5zm0 4h2v2h-2V9zm0 4h2v2h-2v-2z\"/>,\"border-horizontal\":<path d=\"M1 1h2v2H1V1zm0 4h2v2H1V5zm0 4h18v2H1V9zm0 4h2v2H1v-2zm0 4h2v2H1v-2zM5 1h2v2H5V1zm0 16h2v2H5v-2zM9 1h2v2H9V1zm0 4h2v2H9V5zm0 8h2v2H9v-2zm0 4h2v2H9v-2zm4-16h2v2h-2V1zm0 16h2v2h-2v-2zm4-16h2v2h-2V1zm0 4h2v2h-2V5zm0 8h2v2h-2v-2zm0 4h2v2h-2v-2z\"/>,\"border-inner\":<path d=\"M9 9V1h2v8h8v2h-8v8H9v-8H1V9h8zM1 1h2v2H1V1zm0 4h2v2H1V5zm0 8h2v2H1v-2zm0 4h2v2H1v-2zM5 1h2v2H5V1zm0 16h2v2H5v-2zm8-16h2v2h-2V1zm0 16h2v2h-2v-2zm4-16h2v2h-2V1zm0 4h2v2h-2V5zm0 8h2v2h-2v-2zm0 4h2v2h-2v-2z\"/>,\"border-left\":<path d=\"M1 1h2v18H1V1zm4 0h2v2H5V1zm0 8h2v2H5V9zm0 8h2v2H5v-2zM9 1h2v2H9V1zm0 4h2v2H9V5zm0 4h2v2H9V9zm0 4h2v2H9v-2zm0 4h2v2H9v-2zm4-16h2v2h-2V1zm0 8h2v2h-2V9zm0 8h2v2h-2v-2zm4-16h2v2h-2V1zm0 4h2v2h-2V5zm0 4h2v2h-2V9zm0 4h2v2h-2v-2zm0 4h2v2h-2v-2z\"/>,\"border-none\":<path d=\"M1 1h2v2H1V1zm0 4h2v2H1V5zm0 4h2v2H1V9zm0 4h2v2H1v-2zm0 4h2v2H1v-2zM5 1h2v2H5V1zm0 8h2v2H5V9zm0 8h2v2H5v-2zM9 1h2v2H9V1zm0 4h2v2H9V5zm0 4h2v2H9V9zm0 4h2v2H9v-2zm0 4h2v2H9v-2zm4-16h2v2h-2V1zm0 8h2v2h-2V9zm0 8h2v2h-2v-2zm4-16h2v2h-2V1zm0 4h2v2h-2V5zm0 4h2v2h-2V9zm0 4h2v2h-2v-2zm0 4h2v2h-2v-2z\"/>,\"border-outer\":<path d=\"M2 19H1V1h18v18H2zm1-2h14V3H3v14zm10-8h2v2h-2V9zM9 9h2v2H9V9zM5 9h2v2H5V9zm4-4h2v2H9V5zm0 8h2v2H9v-2z\"/>,\"border-right\":<path d=\"M5 1h2v2H5V1zm0 8h2v2H5V9zm0 8h2v2H5v-2zM9 1h2v2H9V1zm0 4h2v2H9V5zm0 4h2v2H9V9zm0 4h2v2H9v-2zm0 4h2v2H9v-2zm4-16h2v2h-2V1zm0 8h2v2h-2V9zm0 8h2v2h-2v-2zM1 1h2v2H1V1zm0 4h2v2H1V5zm0 4h2v2H1V9zm0 4h2v2H1v-2zm0 4h2v2H1v-2zM17 1h2v18h-2V1z\"/>,\"border-top\":<path d=\"M1 1h18v2H1V1zm0 4h2v2H1V5zm0 4h2v2H1V9zm0 4h2v2H1v-2zm0 4h2v2H1v-2zm4-8h2v2H5V9zm0 8h2v2H5v-2zM9 5h2v2H9V5zm0 4h2v2H9V9zm0 4h2v2H9v-2zm0 4h2v2H9v-2zm4-8h2v2h-2V9zm0 8h2v2h-2v-2zm4-12h2v2h-2V5zm0 4h2v2h-2V9zm0 4h2v2h-2v-2zm0 4h2v2h-2v-2z\"/>,\"border-vertical\":<path d=\"M1 1h2v2H1V1zm0 4h2v2H1V5zm0 4h2v2H1V9zm0 4h2v2H1v-2zm0 4h2v2H1v-2zM5 1h2v2H5V1zm0 8h2v2H5V9zm0 8h2v2H5v-2zM9 1h2v18H9V1zm4 0h2v2h-2V1zm0 8h2v2h-2V9zm0 8h2v2h-2v-2zm4-16h2v2h-2V1zm0 4h2v2h-2V5zm0 4h2v2h-2V9zm0 4h2v2h-2v-2zm0 4h2v2h-2v-2z\"/>,\"box\":<path d=\"M0 2C0 .9.9 0 2 0h16a2 2 0 0 1 2 2v2H0V2zm1 3h18v13a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V5zm6 2v2h6V7H7z\"/>,\"brightness-down\":<path d=\"M10 13a3 3 0 1 1 0-6 3 3 0 0 1 0 6zM9 4a1 1 0 1 1 2 0 1 1 0 1 1-2 0zm4.54 1.05a1 1 0 1 1 1.41 1.41 1 1 0 1 1-1.41-1.41zM16 9a1 1 0 1 1 0 2 1 1 0 1 1 0-2zm-1.05 4.54a1 1 0 1 1-1.41 1.41 1 1 0 1 1 1.41-1.41zM11 16a1 1 0 1 1-2 0 1 1 0 1 1 2 0zm-4.54-1.05a1 1 0 1 1-1.41-1.41 1 1 0 1 1 1.41 1.41zM4 11a1 1 0 1 1 0-2 1 1 0 1 1 0 2zm1.05-4.54a1 1 0 1 1 1.41-1.41 1 1 0 1 1-1.41 1.41z\"/>,\"brightness-up\":<path d=\"M10 14a4 4 0 1 1 0-8 4 4 0 0 1 0 8zM9 1a1 1 0 1 1 2 0v2a1 1 0 1 1-2 0V1zm6.65 1.94a1 1 0 1 1 1.41 1.41l-1.4 1.4a1 1 0 1 1-1.41-1.41l1.4-1.4zM18.99 9a1 1 0 1 1 0 2h-1.98a1 1 0 1 1 0-2h1.98zm-1.93 6.65a1 1 0 1 1-1.41 1.41l-1.4-1.4a1 1 0 1 1 1.41-1.41l1.4 1.4zM11 18.99a1 1 0 1 1-2 0v-1.98a1 1 0 1 1 2 0v1.98zm-6.65-1.93a1 1 0 1 1-1.41-1.41l1.4-1.4a1 1 0 1 1 1.41 1.41l-1.4 1.4zM1.01 11a1 1 0 1 1 0-2h1.98a1 1 0 1 1 0 2H1.01zm1.93-6.65a1 1 0 1 1 1.41-1.41l1.4 1.4a1 1 0 1 1-1.41 1.41l-1.4-1.4z\"/>,\"browser-window-new\":<path d=\"M9 10V8h2v2h2v2h-2v2H9v-2H7v-2h2zM0 3c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3zm2 2v12h16V5H2z\"/>,\"browser-window-open\":<path d=\"M0 3c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3zm2 2v12h16V5H2zm8 3l4 5H6l4-5z\"/>,\"browser-window\":<path d=\"M0 3c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3zm2 2v12h16V5H2z\"/>,\"bug\":<path d=\"M15.3 14.89l2.77 2.77a1 1 0 0 1 0 1.41 1 1 0 0 1-1.41 0l-2.59-2.58A5.99 5.99 0 0 1 11 18V9.04a1 1 0 0 0-2 0V18a5.98 5.98 0 0 1-3.07-1.51l-2.59 2.58a1 1 0 0 1-1.41 0 1 1 0 0 1 0-1.41l2.77-2.77A5.95 5.95 0 0 1 4.07 13H1a1 1 0 1 1 0-2h3V8.41L.93 5.34a1 1 0 0 1 0-1.41 1 1 0 0 1 1.41 0l2.1 2.1h11.12l2.1-2.1a1 1 0 0 1 1.41 0 1 1 0 0 1 0 1.41L16 8.41V11h3a1 1 0 1 1 0 2h-3.07c-.1.67-.32 1.31-.63 1.89zM15 5H5a5 5 0 1 1 10 0z\"/>,\"buoy\":<path d=\"M17.16 6.42a8.03 8.03 0 0 0-3.58-3.58l-1.34 2.69a5.02 5.02 0 0 1 2.23 2.23l2.69-1.34zm0 7.16l-2.69-1.34a5.02 5.02 0 0 1-2.23 2.23l1.34 2.69a8.03 8.03 0 0 0 3.58-3.58zM6.42 2.84a8.03 8.03 0 0 0-3.58 3.58l2.69 1.34a5.02 5.02 0 0 1 2.23-2.23L6.42 2.84zM2.84 13.58a8.03 8.03 0 0 0 3.58 3.58l1.34-2.69a5.02 5.02 0 0 1-2.23-2.23l-2.69 1.34zM10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-7a3 3 0 1 0 0-6 3 3 0 0 0 0 6z\"/>,\"calculator\":<path d=\"M2 2c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2zm3 1v2h10V3H5zm0 4v2h2V7H5zm4 0v2h2V7H9zm4 0v2h2V7h-2zm-8 4v2h2v-2H5zm4 0v2h2v-2H9zm4 0v6h2v-6h-2zm-8 4v2h2v-2H5zm4 0v2h2v-2H9z\"/>,\"calendar\":<path d=\"M1 4c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V4zm2 2v12h14V6H3zm2-6h2v2H5V0zm8 0h2v2h-2V0zM5 9h2v2H5V9zm0 4h2v2H5v-2zm4-4h2v2H9V9zm0 4h2v2H9v-2zm4-4h2v2h-2V9zm0 4h2v2h-2v-2z\"/>,\"camera\":<path d=\"M0 6c0-1.1.9-2 2-2h3l2-2h6l2 2h3a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6zm10 10a5 5 0 1 0 0-10 5 5 0 0 0 0 10zm0-2a3 3 0 1 1 0-6 3 3 0 0 1 0 6z\"/>,\"chart-bar\":<path d=\"M1 10h3v10H1V10zM6 0h3v20H6V0zm5 8h3v12h-3V8zm5-4h3v16h-3V4z\"/>,\"chart-pie\":<path d=\"M19.95 11A10 10 0 1 1 9 .05V11h10.95zm-.08-2.6H11.6V.13a10 10 0 0 1 8.27 8.27z\"/>,\"chart\":<path d=\"M4.13 12H4a2 2 0 1 0 1.8 1.11L7.86 10a2.03 2.03 0 0 0 .65-.07l1.55 1.55a2 2 0 1 0 3.72-.37L15.87 8H16a2 2 0 1 0-1.8-1.11L12.14 10a2.03 2.03 0 0 0-.65.07L9.93 8.52a2 2 0 1 0-3.72.37L4.13 12zM0 4c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4z\"/>,\"chat-bubble-dots\":<path d=\"M10 15l-4 4v-4H2a2 2 0 0 1-2-2V3c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-8zM5 7v2h2V7H5zm4 0v2h2V7H9zm4 0v2h2V7h-2z\"/>,\"checkmark-outline\":<path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM6.7 9.29L9 11.6l4.3-4.3 1.4 1.42L9 14.4l-3.7-3.7 1.4-1.42z\"/>,\"checkmark\":<path d=\"M0 11l2-2 5 5L18 3l2 2L7 18z\"/>,\"cheveron-down\":<path d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\"/>,\"cheveron-left\":<path d=\"M7.05 9.293L6.343 10 12 15.657l1.414-1.414L9.172 10l4.242-4.243L12 4.343z\"/>,\"cheveron-outline-down\":<path d=\"M20 10a10 10 0 1 1-20 0 10 10 0 0 1 20 0zM10 2a8 8 0 1 0 0 16 8 8 0 0 0 0-16zm-.7 10.54L5.75 9l1.41-1.41L10 10.4l2.83-2.82L14.24 9 10 13.24l-.7-.7z\"/>,\"cheveron-outline-left\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm8-10a8 8 0 1 0-16 0 8 8 0 0 0 16 0zM7.46 9.3L11 5.75l1.41 1.41L9.6 10l2.82 2.83L11 14.24 6.76 10l.7-.7z\"/>,\"cheveron-outline-right\":<path d=\"M10 0a10 10 0 1 1 0 20 10 10 0 0 1 0-20zM2 10a8 8 0 1 0 16 0 8 8 0 0 0-16 0zm10.54.7L9 14.25l-1.41-1.41L10.4 10 7.6 7.17 9 5.76 13.24 10l-.7.7z\"/>,\"cheveron-outline-up\":<path d=\"M0 10a10 10 0 1 1 20 0 10 10 0 0 1-20 0zm10 8a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm.7-10.54L14.25 11l-1.41 1.41L10 9.6l-2.83 2.8L5.76 11 10 6.76l.7.7z\"/>,\"cheveron-right\":<path d=\"M12.95 10.707l.707-.707L8 4.343 6.586 5.757 10.828 10l-4.242 4.243L8 15.657l4.95-4.95z\"/>,\"cheveron-up\":<path d=\"M10.707 7.05L10 6.343 4.343 12l1.414 1.414L10 9.172l4.243 4.242L15.657 12z\"/>,\"clipboard\":<path d=\"M7.03 2.6a3 3 0 0 1 5.94 0L15 3v1h1a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h1V3l2.03-.4zM5 6H4v12h12V6h-1v1H5V6zm5-2a1 1 0 1 0 0-2 1 1 0 0 0 0 2z\"/>,\"close-outline\":<path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm1.41-1.41A8 8 0 1 0 15.66 4.34 8 8 0 0 0 4.34 15.66zm9.9-8.49L11.41 10l2.83 2.83-1.41 1.41L10 11.41l-2.83 2.83-1.41-1.41L8.59 10 5.76 7.17l1.41-1.41L10 8.59l2.83-2.83 1.41 1.41z\"/>,\"close-solid\":<path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zM11.4 10l2.83-2.83-1.41-1.41L10 8.59 7.17 5.76 5.76 7.17 8.59 10l-2.83 2.83 1.41 1.41L10 11.41l2.83 2.83 1.41-1.41L11.41 10z\"/>,\"close\":<path d=\"M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z\"/>,\"cloud-upload\":<path d=\"M16.88 9.1A4 4 0 0 1 16 17H5a5 5 0 0 1-1-9.9V7a3 3 0 0 1 4.52-2.59A4.98 4.98 0 0 1 17 8c0 .38-.04.74-.12 1.1zM11 11h3l-4-4-4 4h3v3h2v-3z\"/>,\"cloud\":<path d=\"M16.88 9.1A4 4 0 0 1 16 17H5a5 5 0 0 1-1-9.9V7a3 3 0 0 1 4.52-2.59A4.98 4.98 0 0 1 17 8c0 .38-.04.74-.12 1.1z\"/>,\"code\":<path d=\"M.7 9.3l4.8-4.8 1.4 1.42L2.84 10l4.07 4.07-1.41 1.42L0 10l.7-.7zm18.6 1.4l.7-.7-5.49-5.49-1.4 1.42L17.16 10l-4.07 4.07 1.41 1.42 4.78-4.78z\"/>,\"coffee\":<path d=\"M4 11H2a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h2V1h14v10a4 4 0 0 1-4 4H8a4 4 0 0 1-4-4zm0-2V5H2v4h2zm-2 8v-1h18v1l-4 2H6l-4-2z\"/>,\"cog\":<path d=\"M3.94 6.5L2.22 3.64l1.42-1.42L6.5 3.94c.52-.3 1.1-.54 1.7-.7L9 0h2l.8 3.24c.6.16 1.18.4 1.7.7l2.86-1.72 1.42 1.42-1.72 2.86c.3.52.54 1.1.7 1.7L20 9v2l-3.24.8c-.16.6-.4 1.18-.7 1.7l1.72 2.86-1.42 1.42-2.86-1.72c-.52.3-1.1.54-1.7.7L11 20H9l-.8-3.24c-.6-.16-1.18-.4-1.7-.7l-2.86 1.72-1.42-1.42 1.72-2.86c-.3-.52-.54-1.1-.7-1.7L0 11V9l3.24-.8c.16-.6.4-1.18.7-1.7zM10 13a3 3 0 1 0 0-6 3 3 0 0 0 0 6z\"/>,\"color-palette\":<path d=\"M9 20v-1.7l.01-.24L15.07 12h2.94c1.1 0 1.99.89 1.99 2v4a2 2 0 0 1-2 2H9zm0-3.34V5.34l2.08-2.07a1.99 1.99 0 0 1 2.82 0l2.83 2.83a2 2 0 0 1 0 2.82L9 16.66zM0 1.99C0 .9.89 0 2 0h4a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zM4 17a1 1 0 1 0 0-2 1 1 0 0 0 0 2z\"/>,\"compose\":<path d=\"M2 4v14h14v-6l2-2v10H0V2h10L8 4H2zm10.3-.3l4 4L8 16H4v-4l8.3-8.3zm1.4-1.4L16 0l4 4-2.3 2.3-4-4z\"/>,\"computer-desktop\":<path d=\"M7 17H2a2 2 0 0 1-2-2V2C0 .9.9 0 2 0h16a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2h-5l4 2v1H3v-1l4-2zM2 2v11h16V2H2z\"/>,\"computer-laptop\":<path d=\"M18 16h2v1a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1v-1h2V4c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v12zM4 4v9h12V4H4zm4 11v1h4v-1H8z\"/>,\"conversation\":<path d=\"M17 11v3l-3-3H8a2 2 0 0 1-2-2V2c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v7a2 2 0 0 1-2 2h-1zm-3 2v2a2 2 0 0 1-2 2H6l-3 3v-3H2a2 2 0 0 1-2-2V8c0-1.1.9-2 2-2h2v3a4 4 0 0 0 4 4h6z\"/>,\"copy\":<path d=\"M6 6V2c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-4v4a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V8c0-1.1.9-2 2-2h4zm2 0h4a2 2 0 0 1 2 2v4h4V2H8v4zM2 8v10h10V8H2z\"/>,\"credit-card\":<path d=\"M18 6V4H2v2h16zm0 4H2v6h16v-6zM0 4c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm4 8h4v2H4v-2z\"/>,\"currency-dollar\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm1-5h1a3 3 0 0 0 0-6H7.99a1 1 0 0 1 0-2H14V5h-3V3H9v2H8a3 3 0 1 0 0 6h4a1 1 0 1 1 0 2H6v2h3v2h2v-2z\"/>,\"dashboard\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm-5.6-4.29a9.95 9.95 0 0 1 11.2 0 8 8 0 1 0-11.2 0zm6.12-7.64l3.02-3.02 1.41 1.41-3.02 3.02a2 2 0 1 1-1.41-1.41z\"/>,\"date-add\":<path d=\"M15 2h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V4c0-1.1.9-2 2-2h2V0h2v2h6V0h2v2zM3 6v12h14V6H3zm6 5V9h2v2h2v2h-2v2H9v-2H7v-2h2z\"/>,\"dial-pad\":<path d=\"M5 4a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm5 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm5 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4zM5 9a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm5 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm5 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4zM5 14a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm5 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0 6a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm5-6a2 2 0 1 1 0-4 2 2 0 0 1 0 4z\"/>,\"directions\":<path d=\"M10 0l10 10-10 10L0 10 10 0zM6 10v3h2v-3h3v3l4-4-4-4v3H8a2 2 0 0 0-2 2z\"/>,\"document-add\":<path d=\"M9 10V8h2v2h2v2h-2v2H9v-2H7v-2h2zm-5 8h12V6h-4V2H4v16zm-2 1V0h12l4 4v16H2v-1z\"/>,\"document\":<path d=\"M4 18h12V6h-4V2H4v16zm-2 1V0h12l4 4v16H2v-1z\"/>,\"dots-horizontal-double\":<path d=\"M10 9a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0 6a2 2 0 1 1 0-4 2 2 0 0 1 0 4z\"/>,\"dots-horizontal-triple\":<path d=\"M10 12a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0-6a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0 12a2 2 0 1 1 0-4 2 2 0 0 1 0 4z\"/>,\"download\":<path d=\"M13 8V2H7v6H2l8 8 8-8h-5zM0 18h20v2H0v-2z\"/>,\"duplicate\":<path d=\"M6 6V2c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-4v4a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V8c0-1.1.9-2 2-2h4zm2 0h4a2 2 0 0 1 2 2v4h4V2H8v4zM2 8v10h10V8H2zm4 4v-2h2v2h2v2H8v2H6v-2H4v-2h2z\"/>,\"edit-copy\":<path d=\"M6 6V2c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-4v4a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V8c0-1.1.9-2 2-2h4zm2 0h4a2 2 0 0 1 2 2v4h4V2H8v4zM2 8v10h10V8H2z\"/>,\"edit-crop\":<path d=\"M14 16H6a2 2 0 0 1-2-2V6H0V4h4V0h2v14h14v2h-4v4h-2v-4zm0-3V6H7V4h7a2 2 0 0 1 2 2v7h-2z\"/>,\"edit-cut\":<path d=\"M9.77 11.5l5.34 3.91c.44.33 1.24.59 1.79.59H20L6.89 6.38A3.5 3.5 0 1 0 5.5 8.37L7.73 10 5.5 11.63a3.5 3.5 0 1 0 1.38 1.99l2.9-2.12zM3.5 7a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zM15.1 4.59A3.53 3.53 0 0 1 16.9 4H20l-7.5 5.5L10.45 8l4.65-3.41z\"/>,\"edit-pencil\":<path d=\"M12.3 3.7l4 4L4 20H0v-4L12.3 3.7zm1.4-1.4L16 0l4 4-2.3 2.3-4-4z\"/>,\"education\":<path d=\"M3.33 8L10 12l10-6-10-6L0 6h10v2H3.33zM0 8v8l2-2.22V9.2L0 8zm10 12l-5-3-2-1.2v-6l7 4.2 7-4.2v6L10 20z\"/>,\"envelope\":<path d=\"M18 2a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4c0-1.1.9-2 2-2h16zm-4.37 9.1L20 16v-2l-5.12-3.9L20 6V4l-10 8L0 4v2l5.12 4.1L0 14v2l6.37-4.9L10 14l3.63-2.9z\"/>,\"exclamation-outline\":<path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 5h2v6H9V5zm0 8h2v2H9v-2z\"/>,\"exclamation-solid\":<path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zM9 5v6h2V5H9zm0 8v2h2v-2H9z\"/>,\"explore\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zM7.88 7.88l-3.54 7.78 7.78-3.54 3.54-7.78-7.78 3.54zM10 11a1 1 0 1 1 0-2 1 1 0 0 1 0 2z\"/>,\"factory\":<path d=\"M10.5 20H0V7l5 3.33V7l5 3.33V7l5 3.33V0h5v20h-9.5z\"/>,\"fast-forward\":<path d=\"M1 5l9 5-9 5V5zm9 0l9 5-9 5V5z\"/>,\"fast-rewind\":<path d=\"M19 5v10l-9-5 9-5zm-9 0v10l-9-5 9-5z\"/>,\"film\":<path d=\"M0 4c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm6 0v12h8V4H6zM2 5v2h2V5H2zm0 4v2h2V9H2zm0 4v2h2v-2H2zm14-8v2h2V5h-2zm0 4v2h2V9h-2zm0 4v2h2v-2h-2zM8 7l5 3-5 3V7z\"/>,\"filter\":<path d=\"M12 12l8-8V0H0v4l8 8v8l4-4v-4z\"/>,\"flag\":<path d=\"M7.667 12H2v8H0V0h12l.333 2H20l-3 6 3 6H8l-.333-2z\"/>,\"flashlight\":<path d=\"M13 7v11a2 2 0 0 1-2 2H9a2 2 0 0 1-2-2V7L5 5V3h10v2l-2 2zM9 8v1a1 1 0 1 0 2 0V8a1 1 0 0 0-2 0zM5 0h10v2H5V0z\"/>,\"folder-outline-add\":<path d=\"M0 4c0-1.1.9-2 2-2h7l2 2h7a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm2 2v10h16V6H2zm7 4V8h2v2h2v2h-2v2H9v-2H7v-2h2z\"/>,\"folder-outline\":<path d=\"M0 4c0-1.1.9-2 2-2h7l2 2h7a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm2 2v10h16V6H2z\"/>,\"folder\":<path d=\"M0 4c0-1.1.9-2 2-2h7l2 2h7a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4z\"/>,\"format-bold\":<path d=\"M3 19V1h8a5 5 0 0 1 3.88 8.16A5.5 5.5 0 0 1 11.5 19H3zm7.5-8H7v5h3.5a2.5 2.5 0 1 0 0-5zM7 4v4h3a2 2 0 1 0 0-4H7z\"/>,\"format-font-size\":<path d=\"M16 9v8h-2V9h-4V7h10v2h-4zM8 5v12H6V5H0V3h15v2H8z\"/>,\"format-italic\":<path d=\"M8 1h9v2H8V1zm3 2h3L8 17H5l6-14zM2 17h9v2H2v-2z\"/>,\"format-text-size\":<path d=\"M16 9v8h-2V9h-4V7h10v2h-4zM8 5v12H6V5H0V3h15v2H8z\"/>,\"format-underline\":<path d=\"M16 9A6 6 0 1 1 4 9V1h3v8a3 3 0 0 0 6 0V1h3v8zM2 17h16v2H2v-2z\"/>,\"forward-step\":<path d=\"M13 5h3v10h-3V5zM4 5l9 5-9 5V5z\"/>,\"forward\":<path d=\"M1 5l9 5-9 5V5zm9 0l9 5-9 5V5z\"/>,\"gift\":<path d=\"M14.83 4H20v6h-1v10H1V10H0V4h5.17A3 3 0 0 1 10 .76 3 3 0 0 1 14.83 4zM8 10H3v8h5v-8zm4 0v8h5v-8h-5zM8 6H2v2h6V6zm4 0v2h6V6h-6zM8 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm4 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2z\"/>,\"globe\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm2-2.25a8 8 0 0 0 4-2.46V9a2 2 0 0 1-2-2V3.07a7.95 7.95 0 0 0-3-1V3a2 2 0 0 1-2 2v1a2 2 0 0 1-2 2v2h3a2 2 0 0 1 2 2v5.75zm-4 0V15a2 2 0 0 1-2-2v-1h-.5A1.5 1.5 0 0 1 4 10.5V8H2.25A8.01 8.01 0 0 0 8 17.75z\"/>,\"hand-stop\":<path d=\"M17 16a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4.01V4a1 1 0 0 1 1-1 1 1 0 0 1 1 1v6h1V2a1 1 0 0 1 1-1 1 1 0 0 1 1 1v8h1V1a1 1 0 1 1 2 0v9h1V2a1 1 0 0 1 1-1 1 1 0 0 1 1 1v13h1V9a1 1 0 0 1 1-1h1v8z\"/>,\"hard-drive\":<path d=\"M2 2c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2zm10.4 5.6A5 5 0 1 0 15 12V5l-2.6 2.6zM10 14a2 2 0 1 1 0-4 2 2 0 0 1 0 4zM6 3v2h4V3H6zM4 3a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 16a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm12 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0-16a1 1 0 1 0 0-2 1 1 0 0 0 0 2z\"/>,\"headphones\":<path d=\"M16 8A6 6 0 1 0 4 8v11H2a2 2 0 0 1-2-2v-4a2 2 0 0 1 2-2V8a8 8 0 1 1 16 0v3a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-2V8zm-4 2h3v10h-3V10zm-7 0h3v10H5V10z\"/>,\"heart\":<path d=\"M10 3.22l-.61-.6a5.5 5.5 0 0 0-7.78 7.77L10 18.78l8.39-8.4a5.5 5.5 0 0 0-7.78-7.77l-.61.61z\"/>,\"home\":<path d=\"M8 20H3V10H0L10 0l10 10h-3v10h-5v-6H8v6z\"/>,\"hot\":<path d=\"M10 0s8 7.58 8 12a8 8 0 1 1-16 0c0-1.5.91-3.35 2.12-5.15A3 3 0 0 0 10 6V0zM8 0a3 3 0 1 0 0 6V0z\"/>,\"hour-glass\":<path d=\"M3 18a7 7 0 0 1 4-6.33V8.33A7 7 0 0 1 3 2H1V0h18v2h-2a7 7 0 0 1-4 6.33v3.34A7 7 0 0 1 17 18h2v2H1v-2h2zM5 2a5 5 0 0 0 4 4.9V10h2V6.9A5 5 0 0 0 15 2H5z\"/>,\"inbox-check\":<path d=\"M0 2C0 .9.9 0 2 0h16a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm14 12h4V2H2v12h4c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2zM5 9l2-2 2 2 4-4 2 2-6 6-4-4z\"/>,\"inbox-download\":<path d=\"M0 2C0 .9.9 0 2 0h16a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm14 12h4V2H2v12h4c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2zM9 8V5h2v3h3l-4 4-4-4h3z\"/>,\"inbox-full\":<path d=\"M14 14h4V2H2v12h4c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2zM0 2C0 .9.9 0 2 0h16a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm4 2h12v2H4V4zm0 3h12v2H4V7zm0 3h12v2H4v-2z\"/>,\"inbox\":<path d=\"M0 2C0 .9.9 0 2 0h16a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm14 12h4V2H2v12h4c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2z\"/>,\"indent-decrease\":<path d=\"M1 1h18v2H1V1zm6 8h12v2H7V9zm-6 8h18v2H1v-2zM7 5h12v2H7V5zm0 8h12v2H7v-2zM5 6v8l-4-4 4-4z\"/>,\"indent-increase\":<path d=\"M1 1h18v2H1V1zm6 8h12v2H7V9zm-6 8h18v2H1v-2zM7 5h12v2H7V5zm0 8h12v2H7v-2zM1 6l4 4-4 4V6z\"/>,\"information-outline\":<path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z\"/>,\"information-solid\":<path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zM9 11v4h2V9H9v2zm0-6v2h2V5H9z\"/>,\"key\":<path d=\"M12.26 11.74L10 14H8v2H6v2l-2 2H0v-4l8.26-8.26a6 6 0 1 1 4 4zm4.86-4.62A3 3 0 0 0 15 2a3 3 0 0 0-2.12.88l4.24 4.24z\"/>,\"keyboard\":<path d=\"M0 6c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6zm2 0v2h2V6H2zm1 3v2h2V9H3zm-1 3v2h2v-2H2zm3 0v2h10v-2H5zm11 0v2h2v-2h-2zM6 9v2h2V9H6zm3 0v2h2V9H9zm3 0v2h2V9h-2zm3 0v2h2V9h-2zM5 6v2h2V6H5zm3 0v2h2V6H8zm3 0v2h2V6h-2zm3 0v2h4V6h-4z\"/>,\"layers\":<path d=\"M10 1l10 6-10 6L0 7l10-6zm6.67 10L20 13l-10 6-10-6 3.33-2L10 15l6.67-4z\"/>,\"library\":<path d=\"M0 6l10-6 10 6v2H0V6zm0 12h20v2H0v-2zm2-2h16v2H2v-2zm0-8h4v8H2V8zm6 0h4v8H8V8zm6 0h4v8h-4V8z\"/>,\"light-bulb\":<path d=\"M7 13.33a7 7 0 1 1 6 0V16H7v-2.67zM7 17h6v1.5c0 .83-.67 1.5-1.5 1.5h-3A1.5 1.5 0 0 1 7 18.5V17zm2-5.1V14h2v-2.1a5 5 0 1 0-2 0z\"/>,\"link\":<path d=\"M9.26 13a2 2 0 0 1 .01-2.01A3 3 0 0 0 9 5H5a3 3 0 0 0 0 6h.08a6.06 6.06 0 0 0 0 2H5A5 5 0 0 1 5 3h4a5 5 0 0 1 .26 10zm1.48-6a2 2 0 0 1-.01 2.01A3 3 0 0 0 11 15h4a3 3 0 0 0 0-6h-.08a6.06 6.06 0 0 0 0-2H15a5 5 0 0 1 0 10h-4a5 5 0 0 1-.26-10z\"/>,\"list-add\":<path d=\"M15 9h-3v2h3v3h2v-3h3V9h-3V6h-2v3zM0 3h10v2H0V3zm0 8h10v2H0v-2zm0-4h10v2H0V7zm0 8h10v2H0v-2z\"/>,\"list-bullet\":<path d=\"M1 4h2v2H1V4zm4 0h14v2H5V4zM1 9h2v2H1V9zm4 0h14v2H5V9zm-4 5h2v2H1v-2zm4 0h14v2H5v-2z\"/>,\"list\":<path d=\"M1 4h2v2H1V4zm4 0h14v2H5V4zM1 9h2v2H1V9zm4 0h14v2H5V9zm-4 5h2v2H1v-2zm4 0h14v2H5v-2z\"/>,\"load-balancer\":<path d=\"M17 12h-6v4h1v4H8v-4h1v-4H3v4h1v4H0v-4h1v-4a2 2 0 0 1 2-2h6V6H7V0h6v6h-2v4h6a2 2 0 0 1 2 2v4h1v4h-4v-4h1v-4z\"/>,\"location-current\":<path d=\"M0 0l20 8-8 4-2 8z\"/>,\"location-food\":<path d=\"M18 11v7a2 2 0 0 1-4 0v-5h-2V3a3 3 0 0 1 3-3h3v11zM4 10a2 2 0 0 1-2-2V1a1 1 0 0 1 2 0v4h1V1a1 1 0 0 1 2 0v4h1V1a1 1 0 0 1 2 0v7a2 2 0 0 1-2 2v8a2 2 0 0 1-4 0v-8z\"/>,\"location-gas-station\":<path d=\"M13 18h1v2H0v-2h1V2c0-1.1.9-2 2-2h8a2 2 0 0 1 2 2v16zM3 2v6h8V2H3zm10 8h1a2 2 0 0 1 2 2v3a1 1 0 0 0 2 0v-5l-2-2V6l-2-2 1-1 5 5v7a3 3 0 0 1-6 0v-3h-1v-2z\"/>,\"location-hotel\":<path d=\"M2 12h18v6h-2v-2H2v2H0V2h2v10zm8-6h8a2 2 0 0 1 2 2v3H10V6zm-4 5a3 3 0 1 1 0-6 3 3 0 0 1 0 6z\"/>,\"location-marina\":<path d=\"M8 1.88V0h2v16h10l-4 4H2l-2-4h8v-2H0v-.26A24.03 24.03 0 0 0 8 1.88zM19.97 14H10v-.36A11.94 11.94 0 0 0 10 .36v-.2A16.01 16.01 0 0 1 19.97 14z\"/>,\"location-park\":<path d=\"M5.33 12.77A4 4 0 1 1 3 5.13V5a4 4 0 0 1 5.71-3.62 3.5 3.5 0 0 1 6.26 1.66 2.5 2.5 0 0 1 2 2.08 4 4 0 1 1-2.7 7.49A5.02 5.02 0 0 1 12 14.58V18l2 1v1H6v-1l2-1v-3l-2.67-2.23zM5 10l3 3v-3H5z\"/>,\"location-restroom\":<path d=\"M12 16H9l2-4.5V9c0-1.1.9-2 2-2h2a2 2 0 0 1 2 2v2.5l2 4.5h-3v4h-4v-4zm-5-3h2V9a2 2 0 0 0-2-2H3a2 2 0 0 0-2 2v4h2v7h4v-7zM5 6a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm9 0a3 3 0 1 1 0-6 3 3 0 0 1 0 6z\"/>,\"location-shopping\":<path d=\"M16 6v2h2l2 12H0L2 8h2V6a6 6 0 1 1 12 0zm-2 0a4 4 0 1 0-8 0v2h8V6zM4 10v2h2v-2H4zm10 0v2h2v-2h-2z\"/>,\"location\":<path d=\"M10 20S3 10.87 3 7a7 7 0 1 1 14 0c0 3.87-7 13-7 13zm0-11a2 2 0 1 0 0-4 2 2 0 0 0 0 4z\"/>,\"lock-closed\":<path d=\"M4 8V6a6 6 0 1 1 12 0v2h1a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h1zm5 6.73V17h2v-2.27a2 2 0 1 0-2 0zM7 6v2h6V6a3 3 0 0 0-6 0z\"/>,\"lock-open\":<path d=\"M4 8V6a6 6 0 1 1 12 0h-3v2h4a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h1zm5 6.73V17h2v-2.27a2 2 0 1 0-2 0zM7 6v2h6V6a3 3 0 0 0-6 0z\"/>,\"map\":<path d=\"M0 0l6 4 8-4 6 4v16l-6-4-8 4-6-4V0zm7 6v11l6-3V3L7 6z\"/>,\"menu\":<path d=\"M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z\"/>,\"mic\":<path d=\"M9 18v-1.06A8 8 0 0 1 2 9h2a6 6 0 1 0 12 0h2a8 8 0 0 1-7 7.94V18h3v2H6v-2h3zM6 4a4 4 0 1 1 8 0v5a4 4 0 1 1-8 0V4z\"/>,\"minus-outline\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm5-9v2H5V9h10z\"/>,\"minus-solid\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm5-11H5v2h10V9z\"/>,\"mobile-devices\":<path d=\"M17 6V5h-2V2H3v14h5v4h3.25H11a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6zm-5.75 14H3a2 2 0 0 1-2-2V2c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-5.75zM11 8v8h6V8h-6zm3 11a1 1 0 1 0 0-2 1 1 0 0 0 0 2z\"/>,\"mood-happy-outline\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zM6.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm7 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm2.16 3a6 6 0 0 1-11.32 0h11.32z\"/>,\"mood-happy-solid\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zM6.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm7 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm2.16 3H4.34a6 6 0 0 0 11.32 0z\"/>,\"mood-neutral-outline\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zM6.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm7 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zM7 13h6a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2z\"/>,\"mood-neutral-solid\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zM6.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm7 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM7 13a1 1 0 0 0 0 2h6a1 1 0 0 0 0-2H7z\"/>,\"mood-sad-outline\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zM6.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm7 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm2.16 6H4.34a6 6 0 0 1 11.32 0z\"/>,\"mood-sad-solid\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zM6.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm7 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm2.16 6a6 6 0 0 0-11.32 0h11.32z\"/>,\"mouse\":<path d=\"M4 9V6A6 6 0 0 1 9 .08V9H4zm0 2v3a6 6 0 1 0 12 0v-3H4zm12-2V6a6 6 0 0 0-5-5.92V9h5z\"/>,\"move\":<path d=\"M94.828,45.171L80.687,31.029c-1.562-1.562-4.095-1.562-5.657,0c-1.562,1.562-1.562,4.095,0,5.657L82.344,44H52V13.657  l7.313,7.313c1.562,1.562,4.095,1.562,5.657,0c1.562-1.562,1.562-4.095,0-5.657L50.828,1.171c-1.562-1.562-4.095-1.562-5.657,0  L31.029,15.314c-1.562,1.562-1.562,4.095,0,5.657s4.095,1.562,5.657,0L44,13.657V44H13.657l7.313-7.313  c1.562-1.562,1.562-4.095,0-5.657s-4.095-1.562-5.657,0L1.171,45.171c-1.562,1.562-1.562,4.095,0,5.657l14.143,14.143  c1.562,1.562,4.095,1.562,5.657,0c1.562-1.562,1.562-4.095,0-5.657L13.657,52H44v30.344l-7.313-7.314  c-1.562-1.562-4.095-1.562-5.657,0c-1.562,1.562-1.562,4.095,0,5.657l14.142,14.142c1.562,1.562,4.095,1.562,5.657,0l14.143-14.142  c1.562-1.562,1.562-4.095,0-5.657c-1.562-1.562-4.095-1.562-5.657,0L52,82.343V52h30.343l-7.313,7.313  c-1.562,1.562-1.562,4.095,0,5.657c1.562,1.562,4.095,1.562,5.657,0l14.142-14.143C96.391,49.267,96.391,46.733,94.828,45.171z\" />,\"music-album\":<path d=\"M0 0h20v20H0V0zm10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm0-5a3 3 0 1 1 0-6 3 3 0 0 1 0 6z\"/>,\"music-artist\":<path d=\"M15.75 8l-3.74-3.75a3.99 3.99 0 0 1 6.82-3.08A4 4 0 0 1 15.75 8zm-13.9 7.3l9.2-9.19 2.83 2.83-9.2 9.2-2.82-2.84zm-1.4 2.83l2.11-2.12 1.42 1.42-2.12 2.12-1.42-1.42zM10 15l2-2v7h-2v-5z\"/>,\"music-notes\":<path d=\"M20 2.5V0L6 2v12.17A3 3 0 0 0 5 14H3a3 3 0 0 0 0 6h2a3 3 0 0 0 3-3V5.71L18 4.3v7.88a3 3 0 0 0-1-.17h-2a3 3 0 0 0 0 6h2a3 3 0 0 0 3-3V2.5z\"/>,\"music-playlist\":<path d=\"M16 17a3 3 0 0 1-3 3h-2a3 3 0 0 1 0-6h2a3 3 0 0 1 1 .17V1l6-1v4l-4 .67V17zM0 3h12v2H0V3zm0 4h12v2H0V7zm0 4h12v2H0v-2zm0 4h6v2H0v-2z\"/>,\"navigation-more\":<path d=\"M4 12a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm6 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm6 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4z\"/>,\"network\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm7.75-8a8.01 8.01 0 0 0 0-4h-3.82a28.81 28.81 0 0 1 0 4h3.82zm-.82 2h-3.22a14.44 14.44 0 0 1-.95 3.51A8.03 8.03 0 0 0 16.93 14zm-8.85-2h3.84a24.61 24.61 0 0 0 0-4H8.08a24.61 24.61 0 0 0 0 4zm.25 2c.41 2.4 1.13 4 1.67 4s1.26-1.6 1.67-4H8.33zm-6.08-2h3.82a28.81 28.81 0 0 1 0-4H2.25a8.01 8.01 0 0 0 0 4zm.82 2a8.03 8.03 0 0 0 4.17 3.51c-.42-.96-.74-2.16-.95-3.51H3.07zm13.86-8a8.03 8.03 0 0 0-4.17-3.51c.42.96.74 2.16.95 3.51h3.22zm-8.6 0h3.34c-.41-2.4-1.13-4-1.67-4S8.74 3.6 8.33 6zM3.07 6h3.22c.2-1.35.53-2.55.95-3.51A8.03 8.03 0 0 0 3.07 6z\"/>,\"news-paper\":<path d=\"M16 2h4v15a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V0h16v2zm0 2v13a1 1 0 0 0 1 1 1 1 0 0 0 1-1V4h-2zM2 2v15a1 1 0 0 0 1 1h11.17a2.98 2.98 0 0 1-.17-1V2H2zm2 8h8v2H4v-2zm0 4h8v2H4v-2zM4 4h8v4H4V4z\"/>,\"notification\":<path d=\"M4 8a6 6 0 0 1 4.03-5.67 2 2 0 1 1 3.95 0A6 6 0 0 1 16 8v6l3 2v1H1v-1l3-2V8zm8 10a2 2 0 1 1-4 0h4z\"/>,\"notifications-outline\":<path d=\"M6 8v7h8V8a4 4 0 1 0-8 0zm2.03-5.67a2 2 0 1 1 3.95 0A6 6 0 0 1 16 8v6l3 2v1H1v-1l3-2V8a6 6 0 0 1 4.03-5.67zM12 18a2 2 0 1 1-4 0h4z\"/>,\"notifications\":<path d=\"M4 8a6 6 0 0 1 4.03-5.67 2 2 0 1 1 3.95 0A6 6 0 0 1 16 8v6l3 2v1H1v-1l3-2V8zm8 10a2 2 0 1 1-4 0h4z\"/>,\"paste\":<path d=\"M10.5 20H2a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h1V3l2.03-.4a3 3 0 0 1 5.94 0L13 3v1h1a2 2 0 0 1 2 2v1h-2V6h-1v1H3V6H2v12h5v2h3.5zM8 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm2 4h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-8a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2zm0 2v8h8v-8h-8z\"/>,\"pause-outline\":<path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM7 6h2v8H7V6zm4 0h2v8h-2V6z\"/>,\"pause-solid\":<path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zM7 6v8h2V6H7zm4 0v8h2V6h-2z\"/>,\"pause\":<path d=\"M5 4h3v12H5V4zm7 0h3v12h-3V4z\"/>,\"pen-tool\":<path d=\"M11 9.27V0l6 11-4 6H7l-4-6L9 0v9.27a2 2 0 1 0 2 0zM6 18h8v2H6v-2z\"/>,\"phone\":<path d=\"M20 18.35V19a1 1 0 0 1-1 1h-2A17 17 0 0 1 0 3V1a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v4c0 .56-.31 1.31-.7 1.7L3.16 8.84c1.52 3.6 4.4 6.48 8 8l2.12-2.12c.4-.4 1.15-.71 1.7-.71H19a1 1 0 0 1 .99 1v3.35z\"/>,\"photo\":<path d=\"M0 4c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm11 9l-3-3-6 6h16l-5-5-2 2zm4-4a2 2 0 1 0 0-4 2 2 0 0 0 0 4z\"/>,\"php-elephant\":<path fill-rule=\"evenodd\" d=\"M10 12v8A10 10 0 0 1 8.17.17L10 2h5a5 5 0 0 1 5 4.99v9.02A4 4 0 0 1 16 20v-2a2 2 0 1 0 0-4h-4l-2-2zm5.5-3a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z\"/>,\"pin\":<path d=\"M11 12h6v-1l-3-1V2l3-1V0H3v1l3 1v8l-3 1v1h6v7l1 1 1-1v-7z\"/>,\"play-outline\":<path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM7 6l8 4-8 4V6z\"/>,\"play\":<path d=\"M4 4l12 6-12 6z\"/>,\"playlist\":<path d=\"M16 17a3 3 0 0 1-3 3h-2a3 3 0 0 1 0-6h2a3 3 0 0 1 1 .17V1l6-1v4l-4 .67V17zM0 3h12v2H0V3zm0 4h12v2H0V7zm0 4h12v2H0v-2zm0 4h6v2H0v-2z\"/>,\"plugin\":<path d=\"M20 14v4a2 2 0 0 1-2 2h-4v-2a2 2 0 0 0-2-2 2 2 0 0 0-2 2v2H6a2 2 0 0 1-2-2v-4H2a2 2 0 0 1-2-2 2 2 0 0 1 2-2h2V6c0-1.1.9-2 2-2h4V2a2 2 0 0 1 2-2 2 2 0 0 1 2 2v2h4a2 2 0 0 1 2 2v4h-2a2 2 0 0 0-2 2 2 2 0 0 0 2 2h2z\"/>,\"plus-circle\":<path d=\"M12 9V12M12 12V15M12 12H15M12 12H9M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z\" stroke=\"#4A5568\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>,\"plus\":<path d=\"M12 6V12M12 12V18M12 12H18M12 12L6 12\" stroke=\"#374151\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>,\"portfolio\":<path d=\"M9 12H1v6a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-6h-8v2H9v-2zm0-1H0V5c0-1.1.9-2 2-2h4V2a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v1h4a2 2 0 0 1 2 2v6h-9V9H9v2zm3-8V2H8v1h4z\"/>,\"printer\":<path d=\"M4 16H0V6h20v10h-4v4H4v-4zm2-4v6h8v-6H6zM4 0h12v5H4V0zM2 8v2h2V8H2zm4 0v2h2V8H6z\"/>,\"pylon\":<path d=\"M17.4 18H20v2H0v-2h2.6L8 0h4l5.4 18zm-3.2-4H5.8l-1.2 4h10.8l-1.2-4zm-2.4-8H8.2L7 10h6l-1.2-4z\"/>,\"question\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm2-13c0 .28-.21.8-.42 1L10 9.58c-.57.58-1 1.6-1 2.42v1h2v-1c0-.29.21-.8.42-1L13 9.42c.57-.58 1-1.6 1-2.42a4 4 0 1 0-8 0h2a2 2 0 1 1 4 0zm-3 8v2h2v-2H9z\"/>,\"queue\":<path d=\"M0 2h20v4H0V2zm0 8h20v2H0v-2zm0 6h20v2H0v-2z\"/>,\"radar copy 2\":<path d=\"M12 10a2 2 0 0 1-3.41 1.41A2 2 0 0 1 10 8V0a9.97 9.97 0 0 1 10 10h-8zm7.9 1.41A10 10 0 1 1 8.59.1v2.03a8 8 0 1 0 9.29 9.29h2.02zm-4.07 0a6 6 0 1 1-7.25-7.25v2.1a3.99 3.99 0 0 0-1.4 6.57 4 4 0 0 0 6.56-1.42h2.1z\"/>,\"radar\":<path d=\"M12 10a2 2 0 0 1-3.41 1.41A2 2 0 0 1 10 8V0a9.97 9.97 0 0 1 10 10h-8zm7.9 1.41A10 10 0 1 1 8.59.1v2.03a8 8 0 1 0 9.29 9.29h2.02zm-4.07 0a6 6 0 1 1-7.25-7.25v2.1a3.99 3.99 0 0 0-1.4 6.57 4 4 0 0 0 6.56-1.42h2.1z\"/>,\"radio\":<path d=\"M20 9v9a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V8c0-1.1.9-2 2-2h13.8L.74 1.97 1.26.03 20 5.06V9zm-5 9a3 3 0 1 0 0-6 3 3 0 0 0 0 6zM2 8v2h16V8H2zm1.5 10a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm6.5-1a2 2 0 1 1 0-4 2 2 0 0 1 0 4z\"/>,\"refresh\":<path d=\"M10 3v2a5 5 0 0 0-3.54 8.54l-1.41 1.41A7 7 0 0 1 10 3zm4.95 2.05A7 7 0 0 1 10 17v-2a5 5 0 0 0 3.54-8.54l1.41-1.41zM10 20l-4-4 4-4v8zm0-12V0l4 4-4 4z\"/>,\"reload\":<path d=\"M14.66 15.66A8 8 0 1 1 17 10h-2a6 6 0 1 0-1.76 4.24l1.42 1.42zM12 10h8l-4 4-4-4z\"/>,\"reply-all\":<path d=\"M18 17v-2.99A4 4 0 0 0 14 10h-3v5L5 9l6-6v5h3a6 6 0 0 1 6 6v3h-2zM6 6V3L0 9l6 6v-3L3 9l3-3z\"/>,\"reply\":<path d=\"M15 17v-2.99A4 4 0 0 0 11 10H8v5L2 9l6-6v5h3a6 6 0 0 1 6 6v3h-2z\"/>,\"repost\":<path d=\"M5 4a2 2 0 0 0-2 2v6H0l4 4 4-4H5V6h7l2-2H5zm10 4h-3l4-4 4 4h-3v6a2 2 0 0 1-2 2H6l2-2h7V8z\"/>,\"save-disk\":<path d=\"M0 2C0 .9.9 0 2 0h14l4 4v14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm5 0v6h10V2H5zm6 1h3v4h-3V3z\"/>,\"screen-full\":<path d=\"M2.8 15.8L0 13v7h7l-2.8-2.8 4.34-4.32-1.42-1.42L2.8 15.8zM17.2 4.2L20 7V0h-7l2.8 2.8-4.34 4.32 1.42 1.42L17.2 4.2zm-1.4 13L13 20h7v-7l-2.8 2.8-4.32-4.34-1.42 1.42 4.33 4.33zM4.2 2.8L7 0H0v7l2.8-2.8 4.32 4.34 1.42-1.42L4.2 2.8z\"/>,\"search\":<path d=\"M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12z\"/>,\"send\":<path d=\"M0 0l20 10L0 20V0zm0 8v4l10-2L0 8z\"/>,\"servers\":<path d=\"M0 2C0 .9.9 0 2 0h16a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm0 7c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V9zm0 7c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2zM12 2v2h2V2h-2zm4 0v2h2V2h-2zm-4 7v2h2V9h-2zm4 0v2h2V9h-2zm-4 7v2h2v-2h-2zm4 0v2h2v-2h-2z\"/>,\"share-01\":<path d=\"M4 10c0-1.1.9-2 2-2h8c1.1 0 2 .9 2 2v8c0 1.1-.9 2-2 2H6c-1.1 0-2-.9-2-2v-8zm2 0v8h8v-8h-2V8H8v2H6zm3-6.17V16h2V3.83l3.07 3.07 1.42-1.41L10 0l-.7.7L4.5 5.5l1.42 1.4L9 3.84z\"/>,\"share-alt\":<path d=\"M5.08 12.16A2.99 2.99 0 0 1 0 10a3 3 0 0 1 5.08-2.16l8.94-4.47a3 3 0 1 1 .9 1.79L5.98 9.63a3.03 3.03 0 0 1 0 .74l8.94 4.47A2.99 2.99 0 0 1 20 17a3 3 0 1 1-5.98-.37l-8.94-4.47z\"/>,\"share\":<path d=\"M4 10c0-1.1.9-2 2-2h8c1.1 0 2 .9 2 2v8c0 1.1-.9 2-2 2H6c-1.1 0-2-.9-2-2v-8zm2 0v8h8v-8h-2V8H8v2H6zm3-6.17V16h2V3.83l3.07 3.07 1.42-1.41L10 0l-.7.7-4.8 4.8 1.42 1.4L9 3.84z\"/>,\"shield\":<path d=\"M19 11a7.5 7.5 0 0 1-3.5 5.94L10 20l-5.5-3.06A7.5 7.5 0 0 1 1 11V3c3.38 0 6.5-1.12 9-3 2.5 1.89 5.62 3 9 3v8zm-9 1.08l2.92 2.04-1.03-3.41 2.84-2.15-3.56-.08L10 5.12 8.83 8.48l-3.56.08L8.1 10.7l-1.03 3.4L10 12.09z\"/>,\"shopping-cart\":<path d=\"M4 2h16l-3 9H4a1 1 0 1 0 0 2h13v2H4a3 3 0 0 1 0-6h.33L3 5 2 2H0V0h3a1 1 0 0 1 1 1v1zm1 18a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm10 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4z\"/>,\"show-sidebar\":<path d=\"M7 3H2v14h5V3zm2 0v14h9V3H9zM0 3c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3zm3 1h3v2H3V4zm0 3h3v2H3V7zm0 3h3v2H3v-2z\"/>,\"shuffle\":<path d=\"M6.59 12.83L4.4 15c-.58.58-1.59 1-2.4 1H0v-2h2c.29 0 .8-.2 1-.41l2.17-2.18 1.42 1.42zM16 4V1l4 4-4 4V6h-2c-.29 0-.8.2-1 .41l-2.17 2.18L9.4 7.17 11.6 5c.58-.58 1.59-1 2.41-1h2zm0 10v-3l4 4-4 4v-3h-2c-.82 0-1.83-.42-2.41-1l-8.6-8.59C2.8 6.21 2.3 6 2 6H0V4h2c.82 0 1.83.42 2.41 1l8.6 8.59c.2.2.7.41.99.41h2z\"/>,\"stand-by\":<path fill-rule=\"evenodd\" d=\"M4.16 4.16l1.42 1.42A6.99 6.99 0 0 0 10 18a7 7 0 0 0 4.42-12.42l1.42-1.42a9 9 0 1 1-11.69 0zM9 0h2v8H9V0z\"/>,\"star-full\":<path d=\"M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z\"/>,\"station\":<path d=\"M9 11.73a2 2 0 1 1 2 0V20H9v-8.27zm5.24 2.51l-1.41-1.41A3.99 3.99 0 0 0 10 6a4 4 0 0 0-2.83 6.83l-1.41 1.41a6 6 0 1 1 8.49 0zm2.83 2.83l-1.41-1.41a8 8 0 1 0-11.31 0l-1.42 1.41a10 10 0 1 1 14.14 0z\"/>,\"step-backward\":<path d=\"M4 5h3v10H4V5zm12 0v10l-9-5 9-5z\"/>,\"step-forward\":<path d=\"M13 5h3v10h-3V5zM4 5l9 5-9 5V5z\"/>,\"stethoscope\":<path d=\"M17 10.27V4.99a1 1 0 0 0-2 0V15a5 5 0 0 1-10 0v-1.08A6 6 0 0 1 0 8V2C0 .9.9 0 2 0h1a1 1 0 0 1 1 1 1 1 0 0 1-1 1H2v6a4 4 0 1 0 8 0V2H9a1 1 0 0 1-1-1 1 1 0 0 1 1-1h1a2 2 0 0 1 2 2v6a6 6 0 0 1-5 5.92V15a3 3 0 0 0 6 0V5a3 3 0 0 1 6 0v5.27a2 2 0 1 1-2 0z\"/>,\"store-front\":<path d=\"M18 9.87V20H2V9.87a4.25 4.25 0 0 0 3-.38V14h10V9.5a4.26 4.26 0 0 0 3 .37zM3 0h4l-.67 6.03A3.43 3.43 0 0 1 3 9C1.34 9 .42 7.73.95 6.15L3 0zm5 0h4l.7 6.3c.17 1.5-.91 2.7-2.42 2.7h-.56A2.38 2.38 0 0 1 7.3 6.3L8 0zm5 0h4l2.05 6.15C19.58 7.73 18.65 9 17 9a3.42 3.42 0 0 1-3.33-2.97L13 0z\"/>,\"stroke-width\":<path d=\"M0 0h20v5H0V0zm0 7h20v4H0V7zm0 6h20v3H0v-3zm0 5h20v2H0v-2z\"/>,\"subdirectory-left\":<path d=\"M18 12v1H8v5l-6-6 6-6v5h8V2h2z\"/>,\"subdirectory-right\":<path d=\"M3.5 13H12v5l6-6-6-6v5H4V2H2v11z\"/>,\"swap\":<path d=\"M9 6a4 4 0 1 1 8 0v8h3l-4 4-4-4h3V6a2 2 0 0 0-2-2 2 2 0 0 0-2 2v8a4 4 0 1 1-8 0V6H0l4-4 4 4H5v8a2 2 0 0 0 2 2 2 2 0 0 0 2-2V6z\"/>,\"tablet\":<path d=\"M2 2c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2zm2 0v14h12V2H4zm6 17a1 1 0 1 0 0-2 1 1 0 0 0 0 2z\"/>,\"tag\":<path d=\"M0 10V2l2-2h8l10 10-10 10L0 10zm4.5-4a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z\"/>,\"target\":<path d=\"M17.94 11H13V9h4.94A8 8 0 0 0 11 2.06V7H9V2.06A8 8 0 0 0 2.06 9H7v2H2.06A8 8 0 0 0 9 17.94V13h2v4.94A8 8 0 0 0 17.94 11zM10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20z\"/>,\"text-box\":<path d=\"M0 0h6v6H0V0zm2 2v2h2V2H2zm12-2h6v6h-6V0zm2 2v2h2V2h-2zm-2 12h6v6h-6v-6zm2 2v2h2v-2h-2zM0 14h6v6H0v-6zm2 2v2h2v-2H2zM6 2h8v2H6V2zm0 14h8v2H6v-2zM16 6h2v8h-2V6zM2 6h2v8H2V6zm5 1h6v2H7V7zm2 2h2v4H9V9z\"/>,\"text-decoration\":<path d=\"M12 5h-2v12H8V3h8v2h-2v12h-2V5zM8 3a4 4 0 1 0 0 8V3z\"/>,\"thermometer\":<path d=\"M9 11.17V7h2v4.17a3 3 0 1 1-2 0zm-1-.63a4 4 0 1 0 4 0V4a2 2 0 1 0-4 0v6.53zM6 9.53V4a4 4 0 0 1 8 0v5.53A5.99 5.99 0 0 1 10 20 6 6 0 0 1 6 9.53z\"/>,\"thumbs-down\":<path d=\"M11 20a2 2 0 0 1-2-2v-6H2a2 2 0 0 1-2-2V8l2.3-6.12A3.11 3.11 0 0 1 5 0h8a2 2 0 0 1 2 2v8l-3 7v3h-1zm6-10V0h3v10h-3z\"/>,\"thumbs-up\":<path d=\"M11 0h1v3l3 7v8a2 2 0 0 1-2 2H5c-1.1 0-2.31-.84-2.7-1.88L0 12v-2a2 2 0 0 1 2-2h7V2a2 2 0 0 1 2-2zm6 10h3v10h-3V10z\"/>,\"ticket\":<path d=\"M20 12v5H0v-5a2 2 0 1 0 0-4V3h20v5a2 2 0 1 0 0 4zM3 5v10h14V5H3zm7 7.08l-2.92 2.04L8.1 10.7 5.27 8.56l3.56-.08L10 5.12l1.17 3.36 3.56.08-2.84 2.15 1.03 3.4L10 12.09z\"/>,\"time\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm-1-7.59V4h2v5.59l3.95 3.95-1.41 1.41L9 10.41z\"/>,\"timer\":<path d=\"M16.32 7.1A8 8 0 1 1 9 4.06V2h2v2.06c1.46.18 2.8.76 3.9 1.62l1.46-1.46 1.42 1.42-1.46 1.45zM10 18a6 6 0 1 0 0-12 6 6 0 0 0 0 12zM7 0h6v2H7V0zm5.12 8.46l1.42 1.42L10 13.4 8.59 12l3.53-3.54z\"/>,\"tools copy\":<path d=\"M10 0s8 7.58 8 12a8 8 0 1 1-16 0c0-1.5.91-3.35 2.12-5.15A3 3 0 0 0 10 6V0zM8 0a3 3 0 1 0 0 6V0z\"/>,\"translate\":<path d=\"M7.41 9l2.24 2.24-.83 2L6 10.4l-3.3 3.3-1.4-1.42L4.58 9l-.88-.88c-.53-.53-1-1.3-1.3-2.12h2.2c.15.28.33.53.51.7l.89.9.88-.88C7.48 6.1 8 4.84 8 4H0V2h5V0h2v2h5v2h-2c0 1.37-.74 3.15-1.7 4.12L7.4 9zm3.84 8L10 20H8l5-12h2l5 12h-2l-1.25-3h-5.5zm.83-2h3.84L14 10.4 12.08 15z\"/>,\"trash\":<path d=\"M6 2l2-2h4l2 2h4v2H2V2h4zM3 6h14l-1 14H4L3 6zm5 2v10h1V8H8zm3 0v10h1V8h-1z\"/>,\"travel-bus\":<path d=\"M13 18H7v1a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1a2 2 0 0 1-2-2V2c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2v1a1 1 0 0 1-1 1h-1a1 1 0 0 1-1-1v-1zM4 5v6h5V5H4zm7 0v6h5V5h-5zM5 2v1h10V2H5zm.5 14a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm9 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z\"/>,\"travel-car\":<path d=\"M2 14v-3H1a1 1 0 0 1-1-1 1 1 0 0 1 1-1h1l4-7h8l4 7h1a1 1 0 0 1 1 1 1 1 0 0 1-1 1h-1v6a1 1 0 0 1-1 1h-1a1 1 0 0 1-1-1v-1H5v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1v-3zm13.86-5L13 4H7L4.14 9h11.72zM5.5 14a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm9 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z\"/>,\"travel-case\":<path d=\"M14 5h2v14H4V5h2V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v1zm3 0h1a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1V5zM3 5v14H2a2 2 0 0 1-2-2V7c0-1.1.9-2 2-2h1zm5-1v1h4V4H8z\"/>,\"travel-taxi-cab\":<path d=\"M12 3h2l4 7h1a1 1 0 0 1 1 1 1 1 0 0 1-1 1h-1v6a1 1 0 0 1-1 1h-1a1 1 0 0 1-1-1v-1H5v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1v-6H1a1 1 0 0 1-1-1 1 1 0 0 1 1-1h1l4-7h2V1h4v2zm3.86 7L13 5H7l-2.86 5h11.72zM5.5 15a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm9 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z\"/>,\"travel-train\":<path d=\"M12 18H8l-2 2H3l2-2a2 2 0 0 1-2-2V2c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2l2 2h-3l-2-2zM5 5v6h10V5H5zm1.5 11a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm7 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM8 2v1h4V2H8z\"/>,\"travel-walk\":<path d=\"M11 7l1.44 2.16c.31.47 1.01.84 1.57.84H17V8h-3l-1.44-2.16a5.94 5.94 0 0 0-1.4-1.4l-1.32-.88a1.72 1.72 0 0 0-1.7-.04L4 6v5h2V7l2-1-3 14h2l2.35-7.65L11 14v6h2v-8l-2.7-2.7L11 7zm1-3a2 2 0 1 0 0-4 2 2 0 0 0 0 4z\"/>,\"travel\":<path d=\"M14 5h2v14H4V5h2V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v1zm3 0h1a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1V5zM3 5v14H2a2 2 0 0 1-2-2V7c0-1.1.9-2 2-2h1zm5-1v1h4V4H8z\"/>,\"trophy\":<path d=\"M15 9a3 3 0 0 0 3-3h2a5 5 0 0 1-5.1 5 5 5 0 0 1-3.9 3.9V17l5 2v1H4v-1l5-2v-2.1A5 5 0 0 1 5.1 11H5a5 5 0 0 1-5-5h2a3 3 0 0 0 3 3V4H2v2H0V2h5V0h10v2h5v4h-2V4h-3v5z\"/>,\"tuning\":<path d=\"M17 16v4h-2v-4h-2v-3h6v3h-2zM1 9h6v3H1V9zm6-4h6v3H7V5zM3 0h2v8H3V0zm12 0h2v12h-2V0zM9 0h2v4H9V0zM3 12h2v8H3v-8zm6-4h2v12H9V8z\"/>,\"upload\":<path d=\"M13 10v6H7v-6H2l8-8 8 8h-5zM0 18h20v2H0v-2z\"/>,\"usb\":<path d=\"M15 8v2h-4V4h2l-3-4-3 4h2v8H5V9.73a2 2 0 1 0-2 0V12a2 2 0 0 0 2 2h4v2.27a2 2 0 1 0 2 0V12h4a2 2 0 0 0 2-2V8h1V4h-4v4h1z\"/>,\"user-add\":<path d=\"M2 6H0v2h2v2h2V8h2V6H4V4H2v2zm7 0a3 3 0 0 1 6 0v2a3 3 0 0 1-6 0V6zm11 9.14A15.93 15.93 0 0 0 12 13c-2.91 0-5.65.78-8 2.14V18h16v-2.86z\"/>,\"user-group\":<path d=\"M7 8a4 4 0 1 1 0-8 4 4 0 0 1 0 8zm0 1c2.15 0 4.2.4 6.1 1.09L12 16h-1.25L10 20H4l-.75-4H2L.9 10.09A17.93 17.93 0 0 1 7 9zm8.31.17c1.32.18 2.59.48 3.8.92L18 16h-1.25L16 20h-3.96l.37-2h1.25l1.65-8.83zM13 0a4 4 0 1 1-1.33 7.76 5.96 5.96 0 0 0 0-7.52C12.1.1 12.53 0 13 0z\"/>,\"user-solid-circle\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zM7 6v2a3 3 0 1 0 6 0V6a3 3 0 1 0-6 0zm-3.65 8.44a8 8 0 0 0 13.3 0 15.94 15.94 0 0 0-13.3 0z\"/>,\"user-solid-square\":<path d=\"M0 2C0 .9.9 0 2 0h16a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm7 4v2a3 3 0 1 0 6 0V6a3 3 0 1 0-6 0zm11 9.14A15.93 15.93 0 0 0 10 13c-2.91 0-5.65.78-8 2.14V18h16v-2.86z\"/>,\"user\":<path d=\"M5 5a5 5 0 0 1 10 0v2A5 5 0 0 1 5 7V5zM0 16.68A19.9 19.9 0 0 1 10 14c3.64 0 7.06.97 10 2.68V20H0v-3.32z\"/>,\"vector\":<path d=\"M12 4h4.27a2 2 0 1 1 0 2h-2.14a9 9 0 0 1 4.84 7.25 2 2 0 1 1-2 .04 7 7 0 0 0-4.97-6V8H8v-.71a7 7 0 0 0-4.96 6 2 2 0 1 1-2-.04A9 9 0 0 1 5.86 6H3.73a2 2 0 1 1 0-2H8V3h4v1z\"/>,\"video-camera\":<path d=\"M16 7l4-4v14l-4-4v3a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v3zm-8 7a4 4 0 1 0 0-8 4 4 0 0 0 0 8zm0-2a2 2 0 1 1 0-4 2 2 0 0 1 0 4z\"/>,\"view-carousel\":<path d=\"M16 16v2H4v-2H0V4h4V2h12v2h4v12h-4zM14 5.5V4H6v12h8V5.5zm2 .5v8h2V6h-2zM4 6H2v8h2V6z\"/>,\"view-column\":<path d=\"M12 4H8v12h4V4zm2 0v12h4V4h-4zM6 4H2v12h4V4zM0 2h20v16H0V2z\"/>,\"view-hide\":<path d=\"M12.81 4.36l-1.77 1.78a4 4 0 0 0-4.9 4.9l-2.76 2.75C2.06 12.79.96 11.49.2 10a11 11 0 0 1 12.6-5.64zm3.8 1.85c1.33 1 2.43 2.3 3.2 3.79a11 11 0 0 1-12.62 5.64l1.77-1.78a4 4 0 0 0 4.9-4.9l2.76-2.75zm-.25-3.99l1.42 1.42L3.64 17.78l-1.42-1.42L16.36 2.22z\"/>,\"view-list\":<path d=\"M0 3h20v2H0V3zm0 4h20v2H0V7zm0 4h20v2H0v-2zm0 4h20v2H0v-2z\"/>,\"view-show\":<path d=\"M.2 10a11 11 0 0 1 19.6 0A11 11 0 0 1 .2 10zm9.8 4a4 4 0 1 0 0-8 4 4 0 0 0 0 8zm0-2a2 2 0 1 1 0-4 2 2 0 0 1 0 4z\"/>,\"view-tile\":<path d=\"M0 0h9v9H0V0zm2 2v5h5V2H2zm-2 9h9v9H0v-9zm2 2v5h5v-5H2zm9-13h9v9h-9V0zm2 2v5h5V2h-5zm-2 9h9v9h-9v-9zm2 2v5h5v-5h-5z\"/>,\"volume-down\":<path d=\"M7 7H3v6h4l5 5V2L7 7zm8.54 6.54l-1.42-1.42a3 3 0 0 0 0-4.24l1.42-1.42a4.98 4.98 0 0 1 0 7.08z\"/>,\"volume-mute\":<path d=\"M9 7H5v6h4l5 5V2L9 7z\"/>,\"volume-off\":<path d=\"M15 8.59l-2.12-2.13-1.42 1.42L13.6 10l-2.13 2.12 1.42 1.42L15 11.4l2.12 2.13 1.42-1.42L16.4 10l2.13-2.12-1.42-1.42L15 8.6zM4 7H0v6h4l5 5V2L4 7z\"/>,\"volume-up\":<path d=\"M5 7H1v6h4l5 5V2L5 7zm11.36 9.36l-1.41-1.41a6.98 6.98 0 0 0 0-9.9l1.41-1.41a8.97 8.97 0 0 1 0 12.72zm-2.82-2.82l-1.42-1.42a3 3 0 0 0 0-4.24l1.42-1.42a4.98 4.98 0 0 1 0 7.08z\"/>,\"wallet\":<path d=\"M0 4c0-1.1.9-2 2-2h15a1 1 0 0 1 1 1v1H2v1h17a1 1 0 0 1 1 1v10a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm16.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z\"/>,\"watch\":<path d=\"M11 9h2v2H9V7h2v2zm-5.82 6.08a6.98 6.98 0 0 1 0-10.16L6 0h8l.82 4.92a6.98 6.98 0 0 1 0 10.16L14 20H6l-.82-4.92zM10 15a5 5 0 1 0 0-10 5 5 0 0 0 0 10z\"/>,\"window-new\":<path d=\"M9 10V8h2v2h2v2h-2v2H9v-2H7v-2h2zM0 3c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3zm2 2v12h16V5H2z\"/>,\"window-open\":<path d=\"M0 3c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3zm2 2v12h16V5H2zm8 3l4 5H6l4-5z\"/>,\"window\":<path d=\"M0 3c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3zm2 2v12h16V5H2z\"/>,\"wrench\":<path d=\"M6.47 9.8A5 5 0 0 1 .2 3.22l3.95 3.95 2.82-2.83L3.03.41a5 5 0 0 1 6.4 6.68l10 10-2.83 2.83L6.47 9.8z\"/>,\"yin-yang\":<path fill-rule=\"evenodd\" d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-18a8 8 0 1 0 0 16 4 4 0 1 1 0-8 4 4 0 1 0 0-8zm0 13a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0-8a1 1 0 1 1 0-2 1 1 0 0 1 0 2z\"/>,\"zoom-in\":<path fill-rule=\"evenodd\" d=\"M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12zM7 7V5h2v2h2v2H9v2H7V9H5V7h2z\"/>,\"zoom-out\":<path fill-rule=\"evenodd\" d=\"M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12zM5 7h6v2H5V7z\"/>}","export default {\"move\":\"0 0 96 96\",\"plus-circle\":\"0 0 24 24\",\"plus\":\"0 0 24 24\",\"search\":\"0 0 512 512\"}","import React from \"react\";\r\nimport { Wrapper } from \"nystem-components\";\r\n// eslint-disable-next-line import/extensions\r\nimport icons from \"../../../icons\";\r\n// eslint-disable-next-line import/extensions\r\nimport iconsViewPorts from \"../../../iconsViewPorts\";\r\n\r\nconst rotate = (deg) =>\r\n  (deg && { style: { transform: `rotate(${deg}deg)` } }) || undefined;\r\n\r\nconst Icon = ({ icon, className, renderAs, deg, ...props }) => {\r\n  className = className instanceof Array ? className : [className];\r\n  return (\r\n    <Wrapper renderAs={renderAs} className={renderAs && className}>\r\n      <svg\r\n        className={[...className, \"fill-current\"].join(\" \")}\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        viewBox={iconsViewPorts[icon] || \"0 0 20 20\"}\r\n        {...rotate(deg)}\r\n        {...props}\r\n      >\r\n        {icons[icon]}\r\n      </svg>\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default Icon;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst StyleEventOutside = ({ model, path, view, value }) => {\r\n  const { className, classNameInner, item, event } = model;\r\n  let innerClicked = false;\r\n  return (\r\n    <Wrapper\r\n      className={className}\r\n      onClick={() => {\r\n        if (!innerClicked) view.event(event, value);\r\n        innerClicked = false;\r\n      }}\r\n    >\r\n      <Wrapper\r\n        className={classNameInner}\r\n        onClick={() => {\r\n          innerClicked = true;\r\n        }}\r\n      >\r\n        <ContentTypeRender path={path} items={item} />\r\n      </Wrapper>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default StyleEventOutside;\r\n","/* eslint-disable jsx-a11y/mouse-events-have-key-events */\r\nimport React, { useState } from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nexport const HideOnNotOverContext = React.createContext();\r\n\r\nconst StyleOnOverHandle = ({ model, path }) => {\r\n  const [over, setOver] = useState(false);\r\n  const { item, className } = model;\r\n\r\n  return (\r\n    <Wrapper\r\n      onMouseOver={() => setOver(true)}\r\n      onMouseOut={() => setOver(false)}\r\n      className={className}\r\n    >\r\n      <HideOnNotOverContext.Provider value={over}>\r\n        {<ContentTypeRender path={path} items={item} />}\r\n      </HideOnNotOverContext.Provider>\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default StyleOnOverHandle;\r\n","import React, { useContext } from \"react\";\r\nimport { Wrapper, ContentTypeRender, Icon } from \"nystem-components\";\r\n\r\nimport { HideOnNotOverContext } from \"./onOverHandle\";\r\n\r\nconst StyleOnOver = ({ model, path, children }) => {\r\n  const { className = [], item, classNameOut = [], classNameOver = [] } = model;\r\n  const over = useContext(HideOnNotOverContext);\r\n\r\n  return (\r\n    <Wrapper\r\n      className={[...className, ...(over ? classNameOver : classNameOut)]}\r\n    >\r\n      {children || <ContentTypeRender path={path} items={item} />}\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default StyleOnOver;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst StyleView = ({ model, path }) => {\r\n  const { className, renderAs, item } = model;\r\n\r\n  return (\r\n    <Wrapper className={className} renderAs={renderAs}>\r\n      <ContentTypeRender path={path} items={item} />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default StyleView;\r\n","import React from \"react\";\r\n\r\nconst ViewportContext = React.createContext();\r\n\r\nexport default ViewportContext;\r\n\r\nexport const ViewportContextProvider = ViewportContext.Provider;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { ViewportContextProvider } from \"./viewportContext\";\r\n\r\nconst breakpoints = {\r\n  xs: 0,\r\n  sm: 576,\r\n  md: 768,\r\n  lg: 992,\r\n  xl: 1200,\r\n};\r\n\r\nconst Viewport = ({ comp }) => {\r\n  const [state, setState] = useState({\r\n    density: window.devicePixelRatio,\r\n    width: window.innerWidth,\r\n    height: window.innerHeight,\r\n    size: Object.keys(breakpoints).reduce((prev, key) => {\r\n      return window.innerWidth < breakpoints[key] &&\r\n        breakpoints[key] < breakpoints[prev]\r\n        ? key\r\n        : prev;\r\n    }, \"xl\"),\r\n  });\r\n\r\n  useEffect(() => {\r\n    const handleResize = () => {\r\n      setState({\r\n        width: Math.max(\r\n          document.documentElement.clientWidth,\r\n          window.innerWidth || 0\r\n        ),\r\n        height: Math.max(\r\n          document.documentElement.clientHeight,\r\n          window.innerHeight || 0\r\n        ),\r\n        size: Object.keys(breakpoints).reduce((prev, key) => {\r\n          return window.innerWidth < breakpoints[key] &&\r\n            breakpoints[key] < breakpoints[prev]\r\n            ? key\r\n            : prev;\r\n        }, \"xl\"),\r\n      });\r\n    };\r\n\r\n    window.addEventListener(\"resize\", handleResize, false);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"resize\", handleResize, false);\r\n    };\r\n  }, []);\r\n\r\n  return state.reload ? null : (\r\n    <ViewportContextProvider value={state}>\r\n      {React.createElement(comp)}\r\n    </ViewportContextProvider>\r\n  );\r\n};\r\n\r\nexport default Viewport;\r\n","import * as React from \"react\";\r\nimport app from \"nystem\";\r\n\r\nclass ExtensionBackgroundIndex extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const self = this;\r\n    this.tabs = {};\r\n    this.tabLoadCallback = {};\r\n    this.tabLoading = {};\r\n    app().doingEvent = {};\r\n    app().pathErrorClick = {};\r\n    window.chrome.runtime.onMessage.addListener(\r\n      (request, sender, sendResponse) => {\r\n        const tabOptions = self.tabs[sender.tab.id];\r\n        if (!tabOptions) {\r\n          console.log(\"Missing \", sender.tab);\r\n          return;\r\n        }\r\n        if (request.doEvent) {\r\n          console.log(\"doEvent\", request, app().doingEvent[sender.tab.id]);\r\n          app().doingEvent[sender.tab.id] = false;\r\n          console.log(\"request.result\");\r\n          if (request.result.error === \"Path\") {\r\n            app().pathErrorClick[sender.tab.id] = request;\r\n            console.log(\"app().pathErrorClick\", app().pathErrorClick);\r\n          } else delete app().pathErrorClick[sender.tab.id];\r\n          app().connection.emit(request);\r\n        } else if (app().pathErrorClick[sender.tab.id]) {\r\n          const response = app().pathErrorClick[sender.tab.id];\r\n          delete app().pathErrorClick[sender.tab.id];\r\n          response.newPath = request.path;\r\n          console.log(\"response.newPath\", response);\r\n          app().connection.emit(response);\r\n        } else if (tabOptions.recording) {\r\n          request.tabId = `${sender.tab.id}`;\r\n          request.url = sender.tab.url;\r\n          if (\r\n            !tabOptions.listenTo ||\r\n            tabOptions.listenTo.length === 0 ||\r\n            tabOptions.listenTo.indexOf(request.event) !== -1\r\n          )\r\n            app().database.eventLog.save({\r\n              data: request,\r\n            });\r\n        }\r\n      }\r\n    );\r\n    // https://developer.window.chrome.com/extensions/tabs\r\n    // https://developer.window.chrome.com/extensions/api_index\r\n    // https://developer.window.chrome.com/extensions/messaging\r\n    app().connection.on(\"connect\", this.connect);\r\n    app().database.tab.on(\"update\", this.updateTabSettings);\r\n\r\n    this.saveTab = function (tab, forceUpdate) {\r\n      const tabField = [\"url\", \"title\"];\r\n      let changed = false;\r\n      const id = tab.id ? tab.id : tab._id;\r\n      if (!self.tabs[tab.id]) {\r\n        changed = true;\r\n        self.tabs[tab.id] = {};\r\n      }\r\n      const newUrl = tab.url !== self.tabs[id].url;\r\n      for (let i = 0; i < tabField.length; i++)\r\n        if (self.tabs[id][tabField[i]] !== tab[tabField[i]]) {\r\n          changed = true;\r\n          self.tabs[id][tabField[i]] = tab[tabField[i]];\r\n        }\r\n      self.tabs[id]._id = `${id}`;\r\n      if (changed || forceUpdate) {\r\n        const tabOptions = self.tabs[id];\r\n        if (\r\n          newUrl &&\r\n          tabOptions.recording &&\r\n          (!tabOptions.listenTo ||\r\n            tabOptions.listenTo.length === 0 ||\r\n            tabOptions.listenTo.indexOf(\"url\") !== -1)\r\n        )\r\n          app().database.eventLog.save({\r\n            data: {\r\n              name: `URL change ${tabOptions.url}`,\r\n              event: \"url\",\r\n              url: tabOptions.url,\r\n              title: tabOptions.title,\r\n              tabId: tabOptions._id,\r\n            },\r\n          });\r\n        app().database.tab.save({\r\n          data: tabOptions,\r\n        });\r\n      }\r\n    };\r\n    app().connection.on(\"extensionEvent\", this.extensionEvent);\r\n    window.chrome.webNavigation.onCompleted.addListener((info) => {\r\n      if (info.frameId !== 0) return;\r\n      const tabLoading = self.tabLoading[info.tabId];\r\n      delete self.tabLoading[info.tabId];\r\n      if (tabLoading && tabLoading.callback) tabLoading.callback();\r\n      if (self.tabLoadCallback[info.tabId]) self.tabLoadCallback[info.tabId]();\r\n    });\r\n    window.chrome.webNavigation.onBeforeNavigate.addListener((info) => {\r\n      if (info.frameId !== 0) return;\r\n      if (!self.tabLoading[info.tabId])\r\n        self.tabLoading[info.tabId] = {\r\n          loading: true,\r\n          callback: false,\r\n        };\r\n    });\r\n    window.chrome.tabs.onCreated.addListener(self.saveTab);\r\n    window.chrome.tabs.onUpdated.addListener((tabId, changeInfo, tab) => {\r\n      self.saveTab(tab);\r\n    });\r\n    window.chrome.tabs.onRemoved.addListener((id) => {\r\n      delete self.tabs[id];\r\n      app().database.tab.delete({ id });\r\n    });\r\n    window.chrome.contextMenus.create({\r\n      title: \"Validate in Testguide eventlog\",\r\n      onclick: this.addToEventLog,\r\n      contexts: [\r\n        \"page\",\r\n        \"selection\",\r\n        \"link\",\r\n        \"editable\",\r\n        \"image\",\r\n        \"video\",\r\n        \"audio\",\r\n      ],\r\n    });\r\n    this.updateTimer = setTimeout(this.updateTabs, 1000 * 10);\r\n    this.state = {};\r\n  }\r\n  updateTabs = () => {\r\n    app()\r\n      .database.tab.search()\r\n      .then(({ data }) =>\r\n        data\r\n          .filter((tab) => !tab.siteScript && !this.tabs[tab._id])\r\n          .forEach((tab) => app().database.tab.delete({ id: tab._id }))\r\n      );\r\n    this.updateTimer = setTimeout(this.updateTabs, 1000 * 60);\r\n  };\r\n  addToEventLog = (info, tab) => {\r\n    // console.log(info, tab);\r\n  };\r\n  updateTabSettings = (items) => {\r\n    if (!items) return;\r\n    const self = this;\r\n    const id = `${Object.keys(items)[0]}`;\r\n    const data = app()\r\n      .database.tab.get({ id })\r\n      .then(({ data }) => {\r\n        if (!data || data.siteScript) {\r\n          console.log(id);\r\n          return;\r\n        }\r\n        if (!self.tabs[data._id].recording && data.recording)\r\n          app().database.eventLog.save({\r\n            data: {\r\n              name: `Recording start ${data.url}`,\r\n              event: \"url\",\r\n              url: data.url,\r\n              title: data.title,\r\n              tabId: data._id,\r\n            },\r\n          });\r\n        self.tabs[data._id] = data;\r\n      });\r\n    if (data) this.tabs[data._id] = data;\r\n  };\r\n  extensionEvent = (data) => {\r\n    const self = this;\r\n    const tabId = parseInt(data.tabId, 10);\r\n    if (data.doEvent.event === \"url\") {\r\n      if (this.tabs[data.tabId].url !== data.doEvent.url)\r\n        window.chrome.tabs.update(tabId, { url: data.doEvent.url }, () => {\r\n          self.tabLoadCallback[tabId] = function () {\r\n            data.result = {\r\n              status: \"success\",\r\n              redirected: true,\r\n            };\r\n            app().connection.emit(data);\r\n          };\r\n        });\r\n      else {\r\n        data.result = {\r\n          status: \"success\",\r\n          redirected: false,\r\n        };\r\n        app().connection.emit(data);\r\n      }\r\n    } else if (data.doEvent)\r\n      if (this.tabLoading[tabId]) {\r\n        console.log(\"delay tab\");\r\n        this.tabLoading[tabId].callback = function () {\r\n          console.log(\"delay tab done\");\r\n          app().doingEvent[tabId] = data;\r\n          window.chrome.tabs.sendMessage(tabId, data);\r\n        };\r\n      } else {\r\n        app().doingEvent[tabId] = data;\r\n        window.chrome.tabs.sendMessage(tabId, data);\r\n      }\r\n  };\r\n  connect = (data) => {\r\n    const self = this;\r\n    app().connection.emit({\r\n      type: \"extensionEvent\",\r\n      event: \"connectExtension\",\r\n    });\r\n    window.chrome.tabs.query({}, (data) => {\r\n      for (const item in data) self.saveTab(data[item], true);\r\n    });\r\n  };\r\n  componentWillUnmount() {\r\n    app().connection.off(\"connect\", this.connect);\r\n    app().connection.off(\"extensionEvent\", this.extensionEvent);\r\n    clearTimeout(this.updateTimer);\r\n  }\r\n  render() {\r\n    return null;\r\n  }\r\n}\r\nexport default ExtensionBackgroundIndex;\r\n","const extensionIcon = props => {\r\n  const { browserAction } = window.chrome;\r\n  const { color, text, icon, canvas } = props.model || props;\r\n  if (icon) browserAction.setIcon({ path: icon });\r\n  if (color) browserAction.setBadgeBackgroundColor({ color }); // [190, 190, 190, 230]\r\n  if (text) browserAction.setBadgeText({ text });\r\n  if (canvas) {\r\n    const canvasContext = canvas.getContext(\"2d\");\r\n    browserAction.setIcon({\r\n      imageData: canvasContext.getImageData(0, 0, canvas.width, canvas.height)\r\n    });\r\n  }\r\n  return null;\r\n};\r\nexport default extensionIcon;\r\n","import {\r\n  Inserter,\r\n  Link,\r\n  Wrapper,\r\n  Navbar,\r\n  SessionRole,\r\n  RouterState,\r\n  ConnectionView,\r\n  Image,\r\n} from \"nystem-components\";\r\nimport React from \"react\";\r\nimport app from \"nystem\";\r\n\r\nconst url = \"hepp\";\r\n\r\nconst ExtensionPopupIndex = () => {\r\n  return (\r\n    <Wrapper>\r\n      <RouterState match=\"/popup.html\" redirect=\"/\" save=\"storage\" />\r\n      <SessionRole userrole=\"logged-out  \">\r\n        <Inserter\r\n          className=\"container form\"\r\n          match=\"*\"\r\n          source=\"/adminUser/login\"\r\n        />\r\n      </SessionRole>\r\n      <SessionRole className=\"container-fluid\" userrole=\"logged-in\">\r\n        <Navbar fixed=\"true\" color=\"dark\">\r\n          <Link className=\"navbar-brand\" to=\"/\">\r\n            <ConnectionView className=\"logo\">\r\n              <Image width={40} height={30} src={`${url}logo-dark.png`} />\r\n            </ConnectionView>\r\n            <ConnectionView offline=\"true\" className=\"logo\">\r\n              <Image width={40} height={30} src={`${url}logo-light.png`} />\r\n            </ConnectionView>\r\n          </Link>\r\n          <Wrapper className=\"navbar-nav mr-auto\">\r\n            <Link\r\n              className=\"nav-item nav-link\"\r\n              to=\"/youtubeVideo/incoming\"\r\n              match=\"/youtubeVideo/incoming\"\r\n            >\r\n              Incoming\r\n            </Link>\r\n            <Link\r\n              className=\"nav-item nav-link\"\r\n              to=\"/youtubeVideo/watchLater\"\r\n              match=\"/youtubeVideo/watchLater*\"\r\n            >\r\n              Watch later\r\n            </Link>\r\n            <Link\r\n              className=\"nav-item nav-link\"\r\n              to=\"/youtubeVideo/list\"\r\n              match=\"/youtubeVideo/list\"\r\n            >\r\n              Watched\r\n            </Link>\r\n            <Link\r\n              className=\"nav-item nav-link\"\r\n              to=\"/youtubeVideo/all\"\r\n              match=\"/youtubeVideo/all\"\r\n            >\r\n              All\r\n            </Link>\r\n            <a\r\n              className=\"nav-item nav-link\"\r\n              href={`http://${app().settings.domain}`}\r\n              target=\"_blank\"\r\n            >\r\n              Site\r\n            </a>\r\n          </Wrapper>\r\n          <SessionRole userrole=\"logged-out\">\r\n            <Link className=\"nav-item nav-link\" to=\"/login\" match=\"/login\">\r\n              {app().t(\"Log in\")}\r\n            </Link>\r\n          </SessionRole>\r\n        </Navbar>\r\n        <Wrapper id=\"contentarea\" className=\"col-md-12 contentarea\">\r\n          <Inserter match=\"/\" source=\"/youtubeVideo/incoming\" />\r\n          <Inserter match=\"/youtubeChannel*\" />\r\n          <Inserter match=\"/youtubeVideo/*\" />\r\n        </Wrapper>\r\n      </SessionRole>\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default ExtensionPopupIndex;\r\n","import React from \"react\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nclass BootstrapComputedClass extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.view = props.view;\r\n    [\"valid\", \"setValue\"].forEach(func => {\r\n      this[func] = this[func].bind(this);\r\n    });\r\n    this.state = {\r\n      value: this.props.value\r\n    };\r\n    this.path = this.props.path;\r\n  }\r\n  valid() {\r\n    let valid = true;\r\n    for (let i = 0; i < this.model.item.length; i++)\r\n      if (\r\n        this.refs[`component${i}`].valid &&\r\n        this.refs[`component${i}`].valid &&\r\n        !this.refs[`component${i}`].valid()\r\n      )\r\n        valid = false;\r\n    return valid;\r\n  }\r\n  setValue(id, value) {\r\n    return this.props.setValue(id, value);\r\n  }\r\n  componentWillReceiveProps(nextProps) {\r\n    this.setState({\r\n      value: nextProps.value\r\n    });\r\n  }\r\n  render() {\r\n    const { view, model, path } = this.props;\r\n    const insertVal = val =>\r\n      val.replace(\r\n        /\\{([a-z_.]+)\\}/gim,\r\n        (str, p1, offset, s) => view.getValue(p1.replace(\".\", `${path}.`)) || \"\"\r\n      );\r\n\r\n    const className = model.className ? model.className.join(\" \") : \"\";\r\n    this.focus = view.focus;\r\n    if (model.row)\r\n      return (\r\n        <Wrapper className={insertVal(className)}>\r\n          <Wrapper className=\"row\">\r\n            {model.item.map(view.createItem, this)}\r\n          </Wrapper>\r\n        </Wrapper>\r\n      );\r\n    return (\r\n      <Wrapper className={insertVal(className)} renderAs={model.renderAs}>\r\n        {model.item.map(view.createItem, this)}\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\nexport default BootstrapComputedClass;\r\n","import { useEffect } from \"react\";\r\n\r\nconst DatabaseFilterResult = ({ view, children }) => {\r\n  useEffect(() => {\r\n    const filterSearch = (query) => {\r\n      const { data } = query;\r\n\r\n      const definition = data\r\n        .filter((item) => item.name === \"definition\")\r\n        .map((item) => item.component);\r\n\r\n      const viewFields = data\r\n        .filter((item) => item.name === \"view\")\r\n        .filter((item) => !definition.includes(item.component));\r\n\r\n      query.data = viewFields;\r\n    };\r\n\r\n    view.on(\"search\", filterSearch);\r\n    return () => {\r\n      view.off(\"search\", filterSearch);\r\n    };\r\n  }, [view]);\r\n\r\n  return children || null;\r\n};\r\n\r\nexport default DatabaseFilterResult;\r\n","import {\r\n  Wrapper,\r\n  Inserter,\r\n  DragAndDropContext,\r\n  SessionRole,\r\n} from \"nystem-components\";\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\nimport React from \"react\";\r\nimport \"../../../index.css\";\r\nimport \"./index.css\";\r\n\r\nconst Index = () => (\r\n  <Router>\r\n    <DragAndDropContext>\r\n      <SessionRole userrole=\"logged-out\">\r\n        <Inserter\r\n          className=\"p-8 text-left\"\r\n          match=\"*\"\r\n          source=\"/adminUser/login\"\r\n        />\r\n      </SessionRole>\r\n      <SessionRole userrole=\"logged-in\">\r\n        <Inserter match=\"*\" source=\"/server/menu\" />\r\n        <Inserter match=\"/\" source=\"/server/overview\" />\r\n        <Inserter match=\"/menu\" source=\"/settings/menu\" />\r\n        <Wrapper className=\"px-6\">\r\n          <Inserter match=\"/server/*\" />\r\n          <Inserter match=\"/host/*\" />\r\n          <Inserter match=\"/settings/*\" />\r\n        </Wrapper>\r\n      </SessionRole>\r\n    </DragAndDropContext>\r\n  </Router>\r\n);\r\nexport default Index;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass OverlayAccessible extends React.Component {\r\n  state = { accessible: true };\r\n  overlayEvent = options => {\r\n    const accessible = !Object.keys(options.open).length;\r\n    if (this.state.accessible !== accessible) {\r\n      this.setState({ accessible });\r\n      app().event(\"accessible\", {\r\n        accessible,\r\n        accessibleId: this.accessibleId\r\n      });\r\n    }\r\n  };\r\n  getChildContext() {\r\n    return {\r\n      accessibleId: this.accessibleId\r\n    };\r\n  }\r\n\r\n  _handleScreenReaderToggled = isEnabled => {\r\n    this.setState({\r\n      screenReaderEnabled: isEnabled\r\n    });\r\n  };\r\n  componentDidMount(event) {\r\n    this.accessibleId = app().uuid();\r\n    app().on(\"overlay\", this.overlayEvent);\r\n  }\r\n  componentWillUnmount(event) {\r\n    app().off(\"overlay\", this.overlayEvent);\r\n  }\r\n  render() {\r\n    const { accessible } = this.state;\r\n    return (\r\n      <Wrapper accessible={accessible ? undefined : false}>\r\n        {this.props.children}\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\nOverlayAccessible.contextTypes = {\r\n  overlayId: PropTypes.string\r\n};\r\nOverlayAccessible.childContextTypes = {\r\n  accessibleId: PropTypes.string\r\n};\r\nexport default OverlayAccessible;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass OverlayClose extends React.Component {\r\n  handleEvent(event) {\r\n    if (event && event.preventDefault) event.preventDefault();\r\n    app().event(\"overlay\", { overlayId: this.context.overlayId, do: \"close\" });\r\n  }\r\n  render() {\r\n    const { className, renderAs, accessible } = this.props;\r\n    return (\r\n      <Wrapper\r\n        renderAs={renderAs || \"a\"}\r\n        className={className}\r\n        onClick={this.handleEvent.bind(this)}\r\n        accessible={accessible}\r\n      >\r\n        {this.props.children}\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\nOverlayClose.contextTypes = {\r\n  overlayId: PropTypes.string\r\n};\r\nexport default OverlayClose;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nclass OverlayCloseButton extends React.Component {\r\n  handleEvent(event) {\r\n    event.preventDefault();\r\n    const { view, path } = this.props;\r\n    const toPath = path || view.contentType + \"/\" + view.format + \"/\" + view.id;\r\n    app()\r\n      .event(\"closeOverlay\", toPath)\r\n      .then(data => {});\r\n  }\r\n  render() {\r\n    const { model, view } = this.props;\r\n    let { className } = this.props;\r\n    className = className || model.className ? model.className.join(\" \") : \"\";\r\n    return (\r\n      <Wrapper\r\n        renderAs={model.renderAs || \"a\"}\r\n        className={className}\r\n        onClick={this.handleEvent.bind(this)}\r\n      >\r\n        {model.item.map(view.createItem, this)}\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\nexport default OverlayCloseButton;\r\n","import React from \"react\";\r\n\r\nconst OverlayContextObject = React.createContext();\r\n\r\nconst OverlayContext = OverlayContextObject.Consumer;\r\nexport default OverlayContext;\r\n\r\nexport const OverlayContextProvider = OverlayContextObject.Provider;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport app from \"nystem\";\r\nimport { withRouter } from \"react-router\";\r\nimport { OverlayContextProvider } from \"./context\";\r\n\r\nlet atPath = \"\";\r\n\r\nconst OverlayIndex = withRouter(({ children, match }) => {\r\n  let [open, setOpenState] = useState({});\r\n\r\n  const overlayEvent = ({ event, overlayId }) => {\r\n    if (event === \"open\") open[overlayId] = true;\r\n    else if (event === \"close\") {\r\n      if (overlayId) delete open[overlayId];\r\n      else open = {};\r\n    }\r\n    setOpenState(open);\r\n  };\r\n\r\n  useEffect(() => {\r\n    app().on(\"overlay\", overlayEvent);\r\n    return () => {\r\n      app().off(\"overlay\", overlayEvent);\r\n    };\r\n  });\r\n\r\n  const { path } = match;\r\n  if (path !== atPath) app().event(\"overlay\", { event: \"close\" });\r\n  atPath = path;\r\n\r\n  const items =\r\n    children instanceof Array ? children : children ? [children] : [];\r\n\r\n  return items\r\n    .filter(({ props }) => open[props.overlayId])\r\n    .map(child => (\r\n      <OverlayContextProvider\r\n        key={child.props.overlayId}\r\n        value={child.props.overlayId}\r\n      >\r\n        {child}\r\n      </OverlayContextProvider>\r\n    ));\r\n});\r\n\r\nexport default OverlayIndex;\r\n","import React from \"react\";\r\nimport { Wrapper, OverlayClose } from \"nystem-components\";\r\nimport \"./menu.css\";\r\n\r\nconst OverlayMenu = ({ children }) => (\r\n  <Wrapper\r\n    className=\"overlay-menu-container overlay-menu-container--active\"\r\n    id=\"overlay-menu-container\"\r\n  >\r\n    <OverlayClose className=\"overlay-menu-shim\" renderAs=\"a\" accessible={false}>\r\n      {\" \"}\r\n    </OverlayClose>\r\n    <Wrapper renderAs=\"nav\" className=\"overlay-menu\">\r\n      {children}\r\n    </Wrapper>\r\n  </Wrapper>\r\n);\r\n\r\nexport default OverlayMenu;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nconst handleEvent = overlayId => e => {\r\n  e.preventDefault();\r\n  app().event(\"overlay\", { overlayId, event: \"open\" });\r\n};\r\n\r\nconst OverlayOpen = ({ overlayId, ...props }) => (\r\n  <Wrapper renderAs=\"a\" {...props} onClick={handleEvent(overlayId)} />\r\n);\r\n\r\nexport default OverlayOpen;\r\n","import React from \"react\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nclass OverlayOverlay extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      mounted: false\r\n    };\r\n  }\r\n  findPosition(obj) {\r\n    const pos = { x: 0, y: 0 };\r\n    while (1) {\r\n      pos.x += obj.offsetLeft;\r\n      pos.y += obj.offsetTop;\r\n      if (!obj.offsetParent) return pos;\r\n      obj = obj.offsetParent;\r\n    }\r\n  }\r\n  getScroll() {\r\n    if (window.pageYOffset !== undefined)\r\n      return { x: window.pageXOffset, y: window.pageYOffset };\r\n\r\n    const r = document.documentElement;\r\n    const b = document.body;\r\n    const sx = r.scrollLeft || b.scrollLeft || 0;\r\n    const sy = r.scrollTop || b.scrollTop || 0;\r\n    return { x: sx, y: sy };\r\n  }\r\n  onMouseDown(event) {\r\n    const { modal } = this.refs;\r\n    this.at = {\r\n      start: {\r\n        x: event.clientX,\r\n        y: event.clientY\r\n      },\r\n      obj: this.findPosition(modal),\r\n      pos: {\r\n        x: event.clientX,\r\n        y: event.clientY\r\n      }\r\n    };\r\n  }\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    if (nextState === this.state) return false;\r\n    return true;\r\n  }\r\n  componentDidMount() {\r\n    this.setState({ mounted: true });\r\n  }\r\n  render() {\r\n    const add = this.state.mounted ? \"--active\" : \"\";\r\n    return (\r\n      <Wrapper className={`overlay-background overlay-background${add}`}>\r\n        <Wrapper className={`overlay-contents overlay-contents${add}`}>\r\n          {this.props.children}\r\n        </Wrapper>\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\nexport default OverlayOverlay;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\n\r\nclass OverlayView extends React.Component {\r\n  onClick = event => {\r\n    event.preventDefault();\r\n    let { model } = this.props;\r\n    model = model || this.props;\r\n    app().event(\"addOverlay\", model);\r\n  };\r\n  render() {\r\n    let { model } = this.props;\r\n    model = model || this.props;\r\n    const className = model.className ? model.className.join(\" \") : \"\";\r\n    return (\r\n      <a className={className} href={model.link} onClick={this.onClick}>\r\n        {app().t(model.text)}\r\n      </a>\r\n    );\r\n  }\r\n}\r\nexport default OverlayView;\r\n","import { Link } from \"nystem-components\";\r\nimport React from \"react\";\r\n\r\nconst NavbarLink = ({ children, ...props }) => {\r\n  const classNames =\r\n    \"block px-5 py-1 text-white font-semibold rounded hover:bg-gray-800\";\r\n\r\n  return (\r\n    <Link {...props} className={`${classNames} ${props.className || \"\"}`}>\r\n      {children}\r\n    </Link>\r\n  );\r\n};\r\n\r\nconst PartMenu = () => {\r\n  return (\r\n    <header className=\"bg-gray-900 sm:flex sm:justify-between sm:items-center py-2\">\r\n      <div className=\"flex items-center justify-around px-2 py-1 sm:p-0 flex-grow\">\r\n        <NavbarLink to=\"/\">Nystem</NavbarLink>\r\n        <NavbarLink to=\"/contentType/list\" match=\"/contentType/list*\">\r\n          Content type\r\n        </NavbarLink>\r\n        <NavbarLink to=\"/field/list\" match=\"/field/list\">\r\n          Fields\r\n        </NavbarLink>\r\n        <NavbarLink to=\"/view/list\" match=\"/view/list*\">\r\n          Views\r\n        </NavbarLink>\r\n        <NavbarLink to=\"/component/list\" match=\"/component/list*\">\r\n          Component\r\n        </NavbarLink>\r\n        <NavbarLink to=\"/componentFormat/list\" match=\"/componentFormat/list*\">\r\n          Component format\r\n        </NavbarLink>\r\n        <NavbarLink to=\"/module/list\" match=\"/module/list*\">\r\n          Module\r\n        </NavbarLink>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default PartMenu;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { ContentTypeView } from \"nystem-components\";\r\nclass ReferenceDynamicForm extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.props.view.on(\"save\", this.onSave);\r\n    this.localValue = {};\r\n    const self = this;\r\n    const state = {};\r\n    app().require([\"dynamicForm\", \"fieldDefinitions\"], function() {\r\n      app().dynamicForm.generate(\r\n        self.props.view.contentType,\r\n        self.model.source,\r\n        self.model.transformContentType,\r\n        self.props.view.value,\r\n        function(id) {\r\n          if (typeof state.value !== \"undefined\")\r\n            self.setState({\r\n              value: id\r\n            });\r\n          else state.value = id;\r\n        }\r\n      );\r\n    });\r\n    if (typeof state.value === \"undefined\") state.value = false; //'dynamicType' + self.props.view.value._id\r\n    this.state = state;\r\n  }\r\n  componentWillReceiveProps(nextProps) {\r\n    /*this.setState({\r\n      value: nextProps.value\r\n    });*/\r\n  }\r\n  render() {\r\n    const model = this.props.model;\r\n    const format = model.view ? model.view : \"input\";\r\n    if (this.state.value)\r\n      return (\r\n        <ContentTypeView\r\n          noForm=\"true\"\r\n          className={model.className}\r\n          contentType={this.state.value}\r\n          format={format}\r\n          value={{}}\r\n          id={this.props.view.params[3]}\r\n          params={this.props.view.params}\r\n        />\r\n      );\r\n    return null;\r\n  }\r\n}\r\nexport default ReferenceDynamicForm;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nclass ViewButtonMirrorSave extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.view = props.view;\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.saveToDb = this.saveToDb.bind(this);\r\n    this.view.on(\"change\", this.handleChange);\r\n\r\n    this.oldVal = this.props.view.value\r\n      ? JSON.stringify(this.props.view.value)\r\n      : {};\r\n    if (!this.model.saveOn) return {};\r\n\r\n    if (this.model.saveOn.indexOf(\"baseView\") !== -1)\r\n      this.view.baseView.on(\"save\", this.saveToDb);\r\n    if (this.model.saveOn.indexOf(\"baseView.baseView\") !== -1)\r\n      this.view.baseView.baseView.on(\"save\", this.saveToDb);\r\n    if (this.model.saveOn.indexOf(\"baseView.baseView.baseView\") !== -1)\r\n      this.view.baseView.baseView.baseView.on(\"save\", this.saveToDb);\r\n  }\r\n  insertVal(val) {\r\n    if (!val) return val;\r\n    const self = this;\r\n    return val.replace(/\\{([a-z_.]+)\\}/gim, function(str, p1, offset, s) {\r\n      if (p1.indexOf(\"baseView.\") !== 0) return self.view.baseView.getValue(p1);\r\n      p1 = p1.replace(\"baseView.\", \"\");\r\n      if (p1.indexOf(\"baseView.\") !== 0)\r\n        return self.view.baseView.baseView.getValue(p1);\r\n      p1 = p1.replace(\"baseView.\", \"\");\r\n      return self.view.baseView.baseView.baseView.getValue(p1);\r\n    });\r\n  }\r\n  handleChange(id) {\r\n    if (!id || !this.view.value) return;\r\n\r\n    if (!this.saveVals) this.saveVals = {};\r\n\r\n    this.saveVals[id] = this.view.value[id];\r\n  }\r\n  saveToDb() {\r\n    const self = this;\r\n    if (this.saveVals && this.view.valid()) {\r\n      if (this.view.value._id) this.saveVals._id = this.view.value._id;\r\n\r\n      app().database[this.view.contentType].save(\r\n        {\r\n          data: this.saveVals,\r\n          fields: true\r\n        },\r\n        function(data) {\r\n          if (!self.view.value._id) self.view.setValue(\"_id\", data);\r\n\r\n          self.view.event(\"save\", self.view.value);\r\n        }\r\n      );\r\n\r\n      delete this.saveVals;\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    if (this.model.insertVal)\r\n      this.model.insertVal.forEach(item => {\r\n        this.view.setValue(item[0], this.insertVal(item[1]));\r\n      });\r\n  }\r\n  componentWillUnmount() {\r\n    this.view.off(\"change\", this.handleChange);\r\n    if (this.saveDelay) clearTimeout(this.saveDelay);\r\n\r\n    if (this.model.saveOn.indexOf(\"baseView\") !== -1)\r\n      this.view.baseView.off(\"save\", this.saveToDb);\r\n    if (this.model.saveOn.indexOf(\"baseView.baseView\") !== -1)\r\n      this.view.baseView.baseView.off(\"save\", this.saveToDb);\r\n    if (this.model.saveOn.indexOf(\"baseView.baseView.baseView\") !== -1)\r\n      this.view.baseView.baseView.baseView.off(\"save\", this.saveToDb);\r\n  }\r\n  render() {\r\n    return null;\r\n  }\r\n}\r\nexport default ViewButtonMirrorSave;\r\n","import { useEffect } from \"react\";\r\n\r\nconst ViewInViewSetBaseViewValue = ({ model, view }) => {\r\n  useEffect(() => {\r\n    view.setValue({\r\n      path: model.toField,\r\n      value: view.baseView.getValue(model.fromField),\r\n    });\r\n  }, [model, view]);\r\n\r\n  return null;\r\n};\r\nexport default ViewInViewSetBaseViewValue;\r\n","/* eslint-disable jsx-a11y/mouse-events-have-key-events */\r\n\r\nimport React, { useRef, useEffect, useState } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst Portal = ({ children }) => {\r\n  const [element, setElement] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const element = document.createElement(\"div\");\r\n    document.body.appendChild(element);\r\n    setElement(element);\r\n\r\n    return () => {\r\n      document.body.removeChild(element);\r\n    };\r\n  }, []);\r\n\r\n  if (!element) return null;\r\n\r\n  return createPortal(children, element);\r\n};\r\n\r\nconst MouseOver = ({ children, setOver }) => {\r\n  const [isOver, setIsOver] = useState(false);\r\n  const ref = useRef();\r\n  useEffect(() => {\r\n    if (!isOver) return;\r\n\r\n    const size = ref.current.getBoundingClientRect();\r\n    let pos = false;\r\n\r\n    const mouseMove = (e) => {\r\n      pos = { x: e.clientX, y: e.clientY };\r\n      const { x, y } = pos;\r\n\r\n      if (y < size.top || y > size.bottom || x < size.left || x > size.right) {\r\n        setOver(false);\r\n        setIsOver(false);\r\n      }\r\n    };\r\n    const delay = setTimeout(() => {\r\n      setOver(pos);\r\n    }, 100);\r\n\r\n    window.addEventListener(\"mousemove\", mouseMove);\r\n    return () => {\r\n      clearTimeout(delay);\r\n      window.removeEventListener(\"mousemove\", mouseMove);\r\n    };\r\n  }, [isOver, setOver]);\r\n\r\n  return (\r\n    <div ref={ref} onMouseOver={() => setIsOver(true)}>\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ViewTextTitlePopup = ({ model, path }) => {\r\n  const { item, popup } = model;\r\n\r\n  const [overPos, setOver] = useState(false);\r\n\r\n  return (\r\n    <>\r\n      {overPos && (\r\n        <Portal>\r\n          <Wrapper\r\n            style={{\r\n              position: \"fixed\",\r\n              left: overPos.x + 10,\r\n              top: overPos.y + 12,\r\n            }}\r\n          >\r\n            <ContentTypeRender path={path} items={popup} />\r\n          </Wrapper>\r\n        </Portal>\r\n      )}\r\n      <MouseOver setOver={setOver}>\r\n        <ContentTypeRender path={path} items={item} />\r\n      </MouseOver>\r\n    </>\r\n  );\r\n};\r\nexport default ViewTextTitlePopup;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Wrapper } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst TextareaLog = ({ view, model, value = \"\" }) => {\r\n  const [log, setLog] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const parseLog = (log) => {\r\n      const parsedLog = (log || \"\")\r\n        .replace(/ /g, \"&nbsp;\")\r\n        // eslint-disable-next-line no-control-regex\r\n        .replace(/\\x1b\\[((?:\\d{1,3};?)+|)m/gim, (match, p1) => {\r\n          return `</span><span style='color:${colors[parseInt(p1, 10)]};'>`;\r\n        });\r\n      return `<span>${parsedLog.replace(/\\n/g, \"</span><br/><span>\")}</span>`;\r\n    };\r\n\r\n    let fullLog = parseLog(value);\r\n    setLog(fullLog);\r\n\r\n    const updateLog = ({ data }) => {\r\n      fullLog += parseLog(data);\r\n      setLog(fullLog);\r\n    };\r\n\r\n    app().connection.on(`serverLog${view.id}`, updateLog);\r\n    return () => {\r\n      app().connection.off(`serverLog${view.id}`, updateLog);\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const className = model.className && model.className.join(\" \");\r\n  return (\r\n    <code>\r\n      <Wrapper className={model.wrapperClass}>\r\n        <div className={className} dangerouslySetInnerHTML={{ __html: log }} />\r\n      </Wrapper>\r\n    </code>\r\n  );\r\n};\r\n\r\nexport default TextareaLog;\r\n\r\nconst colors = {\r\n  0: \"#000\",\r\n  1: \"white\", // ch\r\n  2: \"#0A0\",\r\n  3: \"#A50\",\r\n  4: \"#00A\",\r\n  5: \"#A0A\",\r\n  6: \"#0AA\",\r\n  7: \"#AAA\",\r\n  8: \"#555\",\r\n  9: \"#F55\",\r\n  10: \"#5F5\",\r\n  11: \"#FF5\",\r\n  12: \"#55F\",\r\n  13: \"#F5F\",\r\n  14: \"#5FF\",\r\n  15: \"#FFF\",\r\n  16: \"#000000\",\r\n  17: \"#00005f\",\r\n  18: \"#000087\",\r\n  19: \"#0000af\",\r\n  20: \"#0000d7\",\r\n  21: \"#0000ff\",\r\n  22: \"#A0A0A0\", // ch\r\n  23: \"#005f5f\",\r\n  24: \"#005f87\",\r\n  25: \"#005faf\",\r\n  26: \"#005fd7\",\r\n  27: \"#005fff\",\r\n  28: \"#008700\",\r\n  29: \"#00875f\",\r\n  30: \"#008787\",\r\n  31: \"red\", // ch\r\n  32: \"green\", // ch\r\n  33: \"yellow\", // ch\r\n  34: \"#00af00\",\r\n  35: \"#00af5f\",\r\n  36: \"#00af87\",\r\n  37: \"#00afaf\",\r\n  38: \"#00afd7\",\r\n  39: \"#00afff\",\r\n  40: \"#00d700\",\r\n  41: \"#00d75f\",\r\n  42: \"#00d787\",\r\n  43: \"#00d7af\",\r\n  44: \"#00d7d7\",\r\n  45: \"#00d7ff\",\r\n  46: \"#00ff00\",\r\n  47: \"#00ff5f\",\r\n  48: \"#00ff87\",\r\n  49: \"#00ffaf\",\r\n  50: \"#00ffd7\",\r\n  51: \"#00ffff\",\r\n  52: \"#5f0000\",\r\n  53: \"#5f005f\",\r\n  54: \"#5f0087\",\r\n  55: \"#5f00af\",\r\n  56: \"#5f00d7\",\r\n  57: \"#5f00ff\",\r\n  58: \"#5f5f00\",\r\n  59: \"#5f5f5f\",\r\n  60: \"#5f5f87\",\r\n  61: \"#5f5faf\",\r\n  62: \"#5f5fd7\",\r\n  63: \"#5f5fff\",\r\n  64: \"#5f8700\",\r\n  65: \"#5f875f\",\r\n  66: \"#5f8787\",\r\n  67: \"#5f87af\",\r\n  68: \"#5f87d7\",\r\n  69: \"#5f87ff\",\r\n  70: \"#5faf00\",\r\n  71: \"#5faf5f\",\r\n  72: \"#5faf87\",\r\n  73: \"#5fafaf\",\r\n  74: \"#5fafd7\",\r\n  75: \"#5fafff\",\r\n  76: \"#5fd700\",\r\n  77: \"#5fd75f\",\r\n  78: \"#5fd787\",\r\n  79: \"#5fd7af\",\r\n  80: \"#5fd7d7\",\r\n  81: \"#5fd7ff\",\r\n  82: \"#5fff00\",\r\n  83: \"#5fff5f\",\r\n  84: \"#5fff87\",\r\n  85: \"#5fffaf\",\r\n  86: \"#5fffd7\",\r\n  87: \"#5fffff\",\r\n  88: \"#870000\",\r\n  89: \"#87005f\",\r\n  90: \"#870087\",\r\n  91: \"#8700af\",\r\n  92: \"#8700d7\",\r\n  93: \"#8700ff\",\r\n  94: \"#875f00\",\r\n  95: \"#875f5f\",\r\n  96: \"#875f87\",\r\n  97: \"#875faf\",\r\n  98: \"#875fd7\",\r\n  99: \"#875fff\",\r\n  100: \"#878700\",\r\n  101: \"#87875f\",\r\n  102: \"#878787\",\r\n  103: \"#8787af\",\r\n  104: \"#8787d7\",\r\n  105: \"#8787ff\",\r\n  106: \"#87af00\",\r\n  107: \"#87af5f\",\r\n  108: \"#87af87\",\r\n  109: \"#87afaf\",\r\n  110: \"#87afd7\",\r\n  111: \"#87afff\",\r\n  112: \"#87d700\",\r\n  113: \"#87d75f\",\r\n  114: \"#87d787\",\r\n  115: \"#87d7af\",\r\n  116: \"#87d7d7\",\r\n  117: \"#87d7ff\",\r\n  118: \"#87ff00\",\r\n  119: \"#87ff5f\",\r\n  120: \"#87ff87\",\r\n  121: \"#87ffaf\",\r\n  122: \"#87ffd7\",\r\n  123: \"#87ffff\",\r\n  124: \"#af0000\",\r\n  125: \"#af005f\",\r\n  126: \"#af0087\",\r\n  127: \"#af00af\",\r\n  128: \"#af00d7\",\r\n  129: \"#af00ff\",\r\n  130: \"#af5f00\",\r\n  131: \"#af5f5f\",\r\n  132: \"#af5f87\",\r\n  133: \"#af5faf\",\r\n  134: \"#af5fd7\",\r\n  135: \"#af5fff\",\r\n  136: \"#af8700\",\r\n  137: \"#af875f\",\r\n  138: \"#af8787\",\r\n  139: \"#af87af\",\r\n  140: \"#af87d7\",\r\n  141: \"#af87ff\",\r\n  142: \"#afaf00\",\r\n  143: \"#afaf5f\",\r\n  144: \"#afaf87\",\r\n  145: \"#afafaf\",\r\n  146: \"#afafd7\",\r\n  147: \"#afafff\",\r\n  148: \"#afd700\",\r\n  149: \"#afd75f\",\r\n  150: \"#afd787\",\r\n  151: \"#afd7af\",\r\n  152: \"#afd7d7\",\r\n  153: \"#afd7ff\",\r\n  154: \"#afff00\",\r\n  155: \"#afff5f\",\r\n  156: \"#afff87\",\r\n  157: \"#afffaf\",\r\n  158: \"#afffd7\",\r\n  159: \"#afffff\",\r\n  160: \"#d70000\",\r\n  161: \"#d7005f\",\r\n  162: \"#d70087\",\r\n  163: \"#d700af\",\r\n  164: \"#d700d7\",\r\n  165: \"#d700ff\",\r\n  166: \"#d75f00\",\r\n  167: \"#d75f5f\",\r\n  168: \"#d75f87\",\r\n  169: \"#d75faf\",\r\n  170: \"#d75fd7\",\r\n  171: \"#d75fff\",\r\n  172: \"#d78700\",\r\n  173: \"#d7875f\",\r\n  174: \"#d78787\",\r\n  175: \"#d787af\",\r\n  176: \"#d787d7\",\r\n  177: \"#d787ff\",\r\n  178: \"#d7af00\",\r\n  179: \"#d7af5f\",\r\n  180: \"#d7af87\",\r\n  181: \"#d7afaf\",\r\n  182: \"#d7afd7\",\r\n  183: \"#d7afff\",\r\n  184: \"#d7d700\",\r\n  185: \"#d7d75f\",\r\n  186: \"#d7d787\",\r\n  187: \"#d7d7af\",\r\n  188: \"#d7d7d7\",\r\n  189: \"#d7d7ff\",\r\n  190: \"#d7ff00\",\r\n  191: \"#d7ff5f\",\r\n  192: \"#d7ff87\",\r\n  193: \"#d7ffaf\",\r\n  194: \"#d7ffd7\",\r\n  195: \"#d7ffff\",\r\n  196: \"#ff0000\",\r\n  197: \"#ff005f\",\r\n  198: \"#ff0087\",\r\n  199: \"#ff00af\",\r\n  200: \"#ff00d7\",\r\n  201: \"#ff00ff\",\r\n  202: \"#ff5f00\",\r\n  203: \"#ff5f5f\",\r\n  204: \"#ff5f87\",\r\n  205: \"#ff5faf\",\r\n  206: \"#ff5fd7\",\r\n  207: \"#ff5fff\",\r\n  208: \"#ff8700\",\r\n  209: \"#ff875f\",\r\n  210: \"#ff8787\",\r\n  211: \"#ff87af\",\r\n  212: \"#ff87d7\",\r\n  213: \"#ff87ff\",\r\n  214: \"#ffaf00\",\r\n  215: \"#ffaf5f\",\r\n  216: \"#ffaf87\",\r\n  217: \"#ffafaf\",\r\n  218: \"#ffafd7\",\r\n  219: \"#ffafff\",\r\n  220: \"#ffd700\",\r\n  221: \"#ffd75f\",\r\n  222: \"#ffd787\",\r\n  223: \"#ffd7af\",\r\n  224: \"#ffd7d7\",\r\n  225: \"#ffd7ff\",\r\n  226: \"#ffff00\",\r\n  227: \"#ffff5f\",\r\n  228: \"#ffff87\",\r\n  229: \"#ffffaf\",\r\n  230: \"#ffffd7\",\r\n  231: \"#ffffff\",\r\n  232: \"#080808\",\r\n  233: \"#121212\",\r\n  234: \"#1c1c1c\",\r\n  235: \"#262626\",\r\n  236: \"#303030\",\r\n  237: \"#3a3a3a\",\r\n  238: \"#444444\",\r\n  239: \"#4e4e4e\",\r\n  240: \"#585858\",\r\n  241: \"#626262\",\r\n  242: \"#6c6c6c\",\r\n  243: \"#767676\",\r\n  244: \"#808080\",\r\n  245: \"#8a8a8a\",\r\n  246: \"#949494\",\r\n  247: \"#9e9e9e\",\r\n  248: \"#a8a8a8\",\r\n  249: \"#b2b2b2\",\r\n  250: \"#bcbcbc\",\r\n  251: \"#c6c6c6\",\r\n  252: \"#d0d0d0\",\r\n  253: \"#dadada\",\r\n  254: \"#e4e4e4\",\r\n  255: \"#eeeeee\",\r\n};\r\n","import * as components from \"nystem-components\";\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\n\r\nconst React = require(\"react\");\r\nconst ReactDOM = require(\"react-dom\");\r\n\r\nexport default function (app) {\r\n  app.on(\"loaded\", () => {\r\n    const insertComponent = app.settings.insertComponent\r\n      ? app.settings.insertComponent\r\n      : {\r\n          component: \"\",\r\n        };\r\n\r\n    let base = insertComponent.domSelect\r\n      ? document.querySelectorAll(insertComponent.domSelect)[0]\r\n      : document.body;\r\n    if (insertComponent.insertType && insertComponent.insertType !== \"html\") {\r\n      const into = document.createElement(\"span\");\r\n      if (insertComponent.insertType === \"append\") base.appendChild(into);\r\n      if (insertComponent.insertType === \"prepend\")\r\n        base.insertBefore(into, base.firstChild);\r\n      base = into;\r\n    }\r\n\r\n    if (base === document.body && !app.settings.noBaseDiv) {\r\n      base = document.createElement(\"div\");\r\n      base.className = \"react-root\";\r\n      base.id = \"react-root\";\r\n      document.body.appendChild(base);\r\n    }\r\n\r\n    if (insertComponent.component)\r\n      insertComponent.component = app.capFirst(insertComponent.component);\r\n\r\n    app.reactBaseComponent = {\r\n      component: `${insertComponent.component}Index`,\r\n      base: base,\r\n    };\r\n\r\n    const render = () => {\r\n      ReactDOM.render(\r\n        <Router>\r\n          {React.createElement(components.Viewport, {\r\n            comp: components[`${insertComponent.component}Index`],\r\n          })}\r\n        </Router>,\r\n        base\r\n      );\r\n    };\r\n    setTimeout(render);\r\n  });\r\n  app.on(\"unmount\", () => {\r\n    const component = app.reactBaseComponent;\r\n    ReactDOM.unmountComponentAtNode(component.base);\r\n  });\r\n}\r\n","const viewCreatorFields = require(\"../../../viewCreatorFields.json\");\r\n\r\nconst arr2Obj = (arr, byField) =>\r\n  arr.reduce((prev, curr) => {\r\n    prev[curr[byField]] = curr;\r\n    return prev;\r\n  }, {});\r\n\r\nconst objectMap = (object, mapFn) =>\r\n  Object.keys(object).reduce((result, key) => {\r\n    result[key] = mapFn(object[key]);\r\n    return result;\r\n  }, {});\r\n\r\nconst deepCopy = (obj) => obj && JSON.parse(JSON.stringify(obj));\r\n\r\nconst getId = ({ path, id }) => {\r\n  if (path && id) return `${path}.${id}`;\r\n  if (id) return id;\r\n  return \"\";\r\n};\r\n\r\nconst capFirst = (str) => str.substr(0, 1).toUpperCase() + str.substr(1);\r\n\r\nconst replaceInModel = ({\r\n  model,\r\n  viewFormat,\r\n  fn,\r\n  path = \"\",\r\n  dynamicFields = [],\r\n}) => {\r\n  if (!model) return {};\r\n\r\n  model = deepCopy(model);\r\n  const { type, id } = model;\r\n  const fullId = getId({ path, id });\r\n  const format = model.format || viewFormat;\r\n\r\n  let componentName = `${type}${capFirst(format)}`;\r\n  if (viewCreatorFields[componentName] === undefined)\r\n    componentName = `${type}View`;\r\n\r\n  model = fn({ model, format, path, id, fullId });\r\n  if (!model) return null;\r\n\r\n  dynamicFields = [\r\n    ...dynamicFields,\r\n    ...(viewCreatorFields[componentName] || []),\r\n  ];\r\n\r\n  dynamicFields.forEach((key) => {\r\n    if (model[key])\r\n      model[key] = model[key]\r\n        .map((item) =>\r\n          replaceInModel({\r\n            model: item,\r\n            viewFormat,\r\n            fn,\r\n            path: fullId || path,\r\n          })\r\n        )\r\n        .filter((model) => !!model);\r\n  });\r\n\r\n  return model;\r\n};\r\n\r\nconst flattenFields = ({ item, viewCreatorFields, path = \"\" }) =>\r\n  (item || []).reduce((prev, field) => {\r\n    const { type, id } = field;\r\n    const fullPath = path ? `${path}.${id}` : id;\r\n\r\n    if (!type) return { [id]: field, ...prev };\r\n\r\n    const flatten = viewCreatorFields[`${type}Definition`];\r\n    if (!flatten) return { [fullPath]: field, ...prev };\r\n\r\n    const subFields = flatten.reduce(\r\n      (prev, key) =>\r\n        field[key]\r\n          ? flattenFields({\r\n              item: field[key],\r\n              viewCreatorFields,\r\n              path: fullPath,\r\n            })\r\n          : prev,\r\n      {}\r\n    );\r\n\r\n    return { [fullPath]: field, ...subFields, ...prev };\r\n  }, {});\r\n\r\nconst populateViews = ({ app }) => {\r\n  const { contentType } = app;\r\n\r\n  const populatedViews = objectMap(deepCopy(contentType), (contentType) => {\r\n    const { views, item } = contentType;\r\n    if (!views) return contentType;\r\n\r\n    const fields = flattenFields({ item, viewCreatorFields });\r\n\r\n    const populatedViews = views.map((view) =>\r\n      replaceInModel({\r\n        model: { ...view, type: \"contentType\", id: undefined },\r\n        fn: ({ model: view, fullId, format }) =>\r\n          fullId && fields[fullId]\r\n            ? { format, ...fields[fullId], ...view }\r\n            : { format, ...view },\r\n        viewFormat: view.format || \"view\",\r\n      })\r\n    );\r\n\r\n    contentType.views = arr2Obj(populatedViews, \"name\");\r\n    return contentType;\r\n  });\r\n\r\n  return populatedViews;\r\n};\r\n\r\nexport default (app) => {\r\n  app.on(\"init\", 1000, () => {\r\n    app.populatedViews = populateViews({ app });\r\n    app.replaceInModel = replaceInModel;\r\n  });\r\n};\r\n","const sortFuncInt = key => (a, b) => {\r\n  const x = a[key];\r\n  const y = b[key];\r\n  if (x === undefined) return y === undefined ? 0 : 1;\r\n  if (y === undefined) return -1;\r\n  return x < y ? -1 : x > y ? 1 : 0;\r\n};\r\n\r\nconst sortFuncText = key => (a, b) => {\r\n  let x = a[key];\r\n  let y = b[key];\r\n  if (x === undefined) return y === undefined ? 0 : 1;\r\n  if (y === undefined) return -1;\r\n  x = x.toString().toLowerCase();\r\n  y = y.toString().toLowerCase();\r\n  return x < y ? -1 : x > y ? 1 : 0;\r\n};\r\n\r\nconst sortByFunc = (array, sortBys) => {\r\n  const sortFuncs = sortBys.map(({ type, key }) =>\r\n    [\"int\", \"date\"].indexOf(type) ? sortFuncInt(key) : sortFuncText(key)\r\n  );\r\n  return array.sort((a, b) => {\r\n    let res;\r\n    for (let i = 0; i < sortFuncs.length; i++) {\r\n      res = sortFuncs[i](a, b);\r\n      if (res !== 0) return res;\r\n    }\r\n    return res;\r\n  });\r\n};\r\n\r\nfunction field2IdType(contentType) {\r\n  const field2IdType = {};\r\n  contentType.item = contentType.item || [];\r\n  for (let i = 0; i < contentType.item.length; i++) {\r\n    const item = contentType.item[i];\r\n    field2IdType[item.id] = item.extends ? item.extends : item.type;\r\n  }\r\n  field2IdType._crdate = \"date\";\r\n  return field2IdType;\r\n}\r\n\r\nfunction setSearchDefaults(query, contentType) {\r\n  const items = contentType.item || [];\r\n  query.sortby = !query.sortby\r\n    ? items.find(item => item.id === \"title\")\r\n      ? \"title\"\r\n      : \"name\"\r\n    : query.sortby;\r\n\r\n  query.sortby = query.sortby || \"_chdate\";\r\n  query.position = query.position || 0;\r\n  query.count = query.count || 200;\r\n}\r\n\r\nfunction getFilterArray(filter) {\r\n  if (filter && Object.keys(filter).length === 0) return [];\r\n  if (filter && filter.$and) {\r\n    filter = { ...filter };\r\n    const tmp = filter.$and;\r\n    delete filter.$and;\r\n    if (tmp instanceof Array) return tmp.concat(filter);\r\n    return [filter, tmp];\r\n  }\r\n\r\n  return [filter];\r\n}\r\n\r\nexport default app => {\r\n  app.database.on(\"init\", ({ collection, db }) => {\r\n    const { contentType } = collection;\r\n    const fieldByType = field2IdType(contentType);\r\n\r\n    collection.on(\r\n      \"init\",\r\n      () => {\r\n        const { dbArray } = db;\r\n        sortByFunc(dbArray, [{ type: \"int\", key: \"_chdate\" }]);\r\n      },\r\n      10\r\n    );\r\n\r\n    const addFields2All = (add2id, searchFor, oneSearchField, oneSearchValue) =>\r\n      contentType.item.forEach(oneField => {\r\n        if (oneField.id && oneField.type !== \"date\") {\r\n          oneSearchField.push(add2id + oneField.id);\r\n          oneSearchValue.push(searchFor);\r\n        } else if (oneField.add2id)\r\n          addFields2All(\r\n            `${add2id + oneField.add2id}_`,\r\n            searchFor,\r\n            oneSearchField,\r\n            oneSearchValue\r\n          );\r\n      });\r\n\r\n    function getFilter(query) {\r\n      const searchField = [];\r\n      const searchValue = [];\r\n\r\n      getFilterArray(query.filter).forEach(filter => {\r\n        const oneSearchField = [];\r\n        const oneSearchValue = [];\r\n        if (filter.$all && filter.$all !== \"\")\r\n          addFields2All(\r\n            \"\",\r\n            createRegExp(filter.$all),\r\n            oneSearchField,\r\n            oneSearchValue\r\n          );\r\n\r\n        Object.entries(filter).forEach(([field, value]) => {\r\n          if (field !== \"$all\" && field !== \"__id\") {\r\n            oneSearchField.push(field);\r\n            if (query.exact) oneSearchValue.push(createRegExp(`^${value}$`));\r\n            else if (value instanceof Array) {\r\n              oneSearchValue.push(createRegExp(value.join(\"|\")));\r\n            } else if (!value) oneSearchValue.push(\"false\");\r\n            else if (value === true) oneSearchValue.push(\"true\");\r\n            else if (\"<>\".indexOf(value[0]) !== -1) oneSearchValue.push(value);\r\n            else oneSearchValue.push(createRegExp(value, field));\r\n          }\r\n        });\r\n\r\n        if (oneSearchField.length > 0) {\r\n          searchField.push(oneSearchField);\r\n          searchValue.push(oneSearchValue);\r\n        }\r\n      });\r\n      if (searchField.length === 0) return {};\r\n      return { searchField, searchValue };\r\n    }\r\n\r\n    function createRegExp(expression, id) {\r\n      if (fieldByType[id] === \"boolean\") return expression;\r\n      return new RegExp(expression.replace(/\\*/g, \"\\\\*\"), \"i\");\r\n    }\r\n\r\n    function search(query) {\r\n      if (query.data) return;\r\n      const { dbArray } = db;\r\n      query.total = dbArray.length;\r\n      setSearchDefaults(query, contentType);\r\n      let result = [];\r\n\r\n      function filterResult(query) {\r\n        const { searchField, searchValue } = getFilter(query);\r\n        if (!searchField) return false;\r\n\r\n        for (let pos = 0; pos < dbArray.length; pos++) {\r\n          const thisItem = dbArray[pos];\r\n          let add = false;\r\n          for (let i = 0; i < searchField.length; i++) {\r\n            add = false;\r\n            for (let field = 0; field < searchField[i].length; field++) {\r\n              let val = thisItem[searchField[i][field]];\r\n              const matchVal = searchValue[i][field];\r\n              if (val && val.toString() === \"[object Object]\") {\r\n                val = JSON.stringify(val);\r\n              }\r\n              if (\r\n                (matchVal === \"false\" && !val) ||\r\n                (matchVal === \"true\" && val) ||\r\n                (matchVal[0] === \"<\" &&\r\n                  parseFloat(val) < parseFloat(matchVal.substring(1))) ||\r\n                (matchVal[0] === \">\" &&\r\n                  parseFloat(val) > parseFloat(matchVal.substring(1))) ||\r\n                (val && matchVal.test && matchVal.test(val))\r\n              ) {\r\n                add = true;\r\n                break;\r\n              }\r\n            }\r\n            if (!add) break;\r\n          }\r\n          if (add) result.push(thisItem);\r\n        }\r\n        return true;\r\n      }\r\n\r\n      let sortBy =\r\n        query.sortby && query.sortby !== \"_chdate\" ? query.sortby : false;\r\n\r\n      if (!query.filter || !filterResult(query)) {\r\n        if (sortBy || (query.reverse && result.length <= query.count)) {\r\n          result = new Array(dbArray.length);\r\n          let i = dbArray.length;\r\n          while (i--) result[i] = dbArray[i];\r\n        } else result = dbArray;\r\n      }\r\n\r\n      query.searchTotal = result.length;\r\n\r\n      if (sortBy) {\r\n        sortBy = sortBy instanceof Array ? sortBy : [sortBy];\r\n        sortByFunc(\r\n          result,\r\n          sortBy.map(key => ({ type: fieldByType[key], key }))\r\n        );\r\n      }\r\n\r\n      if (result.length > query.count) {\r\n        if (query.reverse) {\r\n          result = result.slice(\r\n            result.length - query.position - query.count,\r\n            result.length - query.position\r\n          );\r\n          result.reverse();\r\n        } else\r\n          result = result.slice(query.position, query.position + query.count);\r\n      } else if (query.reverse) result.reverse();\r\n\r\n      query.data = result.length ? result : false;\r\n    }\r\n    collection.on(\"search\", 1000, search);\r\n  });\r\n};\r\n","import deleteM from \"./delete\";\r\nimport findM from \"./find\";\r\nimport getM from \"./get\";\r\nimport initM from \"./init\";\r\nimport saveM from \"./save\";\r\nimport searchM from \"./search\";\r\n\r\nexport default (app) => {\r\n  deleteM(app);\r\n  findM(app);\r\n  getM(app);\r\n  initM(app);\r\n  saveM(app);\r\n  searchM(app);\r\n\r\n  app.database.on(\r\n    \"init\",\r\n    ({ contentType }) => {\r\n      const db = { dbArray: [], dbIndex: {} };\r\n\r\n      const collection = app.addeventhandler(\r\n        { contentType },\r\n        [\r\n          \"delete\",\r\n          \"find\",\r\n          \"get\",\r\n          \"init\",\r\n          \"save\",\r\n          \"search\",\r\n          \"size\",\r\n          \"update\",\r\n          \"updates\",\r\n        ],\r\n        `database ${contentType.machinename}`\r\n      );\r\n\r\n      collection.on(\"init\", (query) => {\r\n        const { dbArray, dbIndex } = db;\r\n        dbArray.forEach((item) => {\r\n          dbIndex[item._id] = item;\r\n        });\r\n      });\r\n\r\n      collection.on(\"size\", () => db.dbArray.length);\r\n      return { collection, db, contentType };\r\n    },\r\n    1000\r\n  );\r\n};\r\n","export default app => {\r\n  app.database.on(\"init\", ({ collection, db }) => {\r\n    collection.on(\r\n      \"delete\",\r\n      query => {\r\n        const id = query.id || query.data._id;\r\n        const data = query.data || { _id: id };\r\n        return Object.assign(query, { id, oldData: db.dbIndex[id], data });\r\n      },\r\n      1000\r\n    );\r\n    collection.on(\r\n      \"delete\",\r\n      query => {\r\n        if (!query.data) return;\r\n        const { dbArray, dbIndex } = db;\r\n        delete dbIndex[query.id];\r\n        const pos = dbArray.indexOf(query.oldData);\r\n        dbArray.splice(pos, 1);\r\n      },\r\n      -200\r\n    );\r\n  });\r\n};\r\n","export default app => {\r\n  app.database.on(\"init\", ({ collection, db }) => {\r\n    collection.on(\"find\", 1000, query => {\r\n      const { field, value, data, testIfSet } = query;\r\n      if (data) return;\r\n      const { dbArray } = db;\r\n\r\n      if (!testIfSet) {\r\n        for (let i = 0; i < dbArray.length; i++)\r\n          if (dbArray[i][field] === value)\r\n            return { ...query, data: dbArray[i] };\r\n        return query;\r\n      }\r\n\r\n      for (let i = 0; i < dbArray.length; i++)\r\n        if (!dbArray[i][field] === !value)\r\n          return { ...query, data: dbArray[i] };\r\n    });\r\n  });\r\n};\r\n","export default app => {\r\n  app.database.on(\"init\", ({ collection, db }) => {\r\n    collection.on(\r\n      \"get\",\r\n      1000,\r\n      query =>\r\n        query.data\r\n          ? query\r\n          : { ...query, data: db.dbIndex[query.id] }\r\n    );\r\n  });\r\n};\r\n","export default app => {\r\n  app.database.on(\"init\", ({ collection, db }) => {\r\n    collection.on(\"init\", 1000, query => Object.assign(db, query));\r\n    collection.on(\"init\", -1000, () => {\r\n      /* collection.on(\r\n        \"init\",\r\n        () => {\r\n          throw new Error(\"Initited already\");\r\n        },\r\n        1001\r\n      ); */\r\n      return collection;\r\n    });\r\n  });\r\n};\r\n","export default (app) => {\r\n  app.database.on(\"init\", ({ collection, db }) => {\r\n    collection.on(\"save\", 2000, (query) => {\r\n      const id = query.id || (query.data && query.data._id);\r\n      if (!id) return;\r\n\r\n      const oldData = db.dbIndex[id];\r\n      if (!oldData) return;\r\n\r\n      if (query.fields) query.data = { ...oldData, ...query.data };\r\n      return { ...query, oldData };\r\n    });\r\n\r\n    collection.on(\"save\", 1000, (query) => {\r\n      if (!query.data) return;\r\n\r\n      // eslint-disable-next-line no-multi-assign\r\n      query.data._id = query.id = query.id || query.data._id || app.uuid();\r\n    });\r\n\r\n    collection.on(\"save\", -100, (query) => {\r\n      if (!query.data) return;\r\n\r\n      const { dbArray, dbIndex } = db;\r\n\r\n      if (query.oldData) {\r\n        dbArray.splice(dbArray.indexOf(query.oldData), 1);\r\n        delete dbIndex[query.oldData._id];\r\n      }\r\n\r\n      dbIndex[query.id] = query.data;\r\n      dbArray.push(query.data);\r\n    });\r\n  });\r\n};\r\n","import connectionM from \"./connection\";\r\nimport updatesM from \"./updates\";\r\nimport debugM from \"./debug\";\r\nimport memdbM from \"./memdb\";\r\nimport cacheM from \"./cache\";\r\nimport storageM from \"./storage\";\r\nimport saveQueueM from \"./saveQueue\";\r\n\r\nexport default function (app) {\r\n  const database = app.addeventhandler(\r\n    {},\r\n    [\"init\", \"add\", \"clearCache\"],\r\n    \"databaseglobal\"\r\n  );\r\n  app.database = database;\r\n\r\n  connectionM(app);\r\n  updatesM(app);\r\n  debugM(app);\r\n  memdbM(app);\r\n  cacheM(app);\r\n  storageM(app);\r\n  saveQueueM(app);\r\n\r\n  database.on(\"clearCache\", () =>\r\n    Promise.all(\r\n      Object.keys(app.contentType)\r\n        .filter((item) => database[item])\r\n        .map((item) => database[item].event(\"clearCache\"))\r\n    )\r\n  );\r\n\r\n  const initDatabases = (contentTypes) =>\r\n    contentTypes\r\n      .filter((contentType) => contentType.storage !== \"none\")\r\n      .map((contentType) =>\r\n        database\r\n          .init({ contentType })\r\n          .then(({ collection }) => collection.init())\r\n          .then(\r\n            // eslint-disable-next-line no-return-assign\r\n            (collection) => (database[contentType.machinename] = collection)\r\n          )\r\n      );\r\n\r\n  app.on(\"init\", -100, () => {\r\n    app.connection.on(\"databaseUpdate\", (data) =>\r\n      database[data.contentType].update(data)\r\n    );\r\n    return Promise.all(initDatabases(Object.values(app.contentType))).then(\r\n      () => {\r\n        app.on([\"login\", \"logout\"], () => {\r\n          database.clearCache().then(() => undefined);\r\n        });\r\n      }\r\n    );\r\n  });\r\n};\r\n","export default (app) => {\r\n  let connected = false;\r\n  app.on(\"init\", () => {\r\n    connected = app.connection.connected();\r\n    app.connection.on(\"connect\", () => {\r\n      connected = true;\r\n    });\r\n    app.connection.on(\"disconnect\", () => {\r\n      connected = false;\r\n    });\r\n  });\r\n\r\n  app.database.on(\"init\", ({ collection, db, contentType }) => {\r\n    const send = (action, query) =>\r\n      app.connection\r\n        .emit({\r\n          type: \"database\",\r\n          action,\r\n          contentType: contentType.machinename,\r\n          query,\r\n        })\r\n        .then((event) => event.query);\r\n\r\n    [\"find\", \"get\", \"size\"].forEach((event) => {\r\n      collection.on(event, 900, (query) =>\r\n        query.data\r\n          ? undefined\r\n          : !connected\r\n          ? { ...query, offline: true }\r\n          : send(event, query)\r\n      );\r\n    });\r\n\r\n    collection.on(\"delete\", 700, (query) =>\r\n      !connected ? { ...query, offline: true } : send(\"delete\", query)\r\n    );\r\n\r\n    collection.on(\"save\", 700, (query) =>\r\n      !connected ? { ...query, offline: true } : send(\"save\", query)\r\n    );\r\n\r\n    collection.on(\"search\", 1700, (query) =>\r\n      query.inCache\r\n        ? undefined\r\n        : !connected\r\n        ? { ...query, offline: true }\r\n        : send(\"search\", query)\r\n    );\r\n\r\n    collection.on(\"updates\", (query) => send(\"updates\", query));\r\n    collection.on(\"update\", 200, (query) => ({\r\n      ...query,\r\n      offline: !connected,\r\n    }));\r\n\r\n    app.connection.on(\"database\", (event) => {\r\n      if (\r\n        event.contentType !== contentType.machinename ||\r\n        ![\"update\"].includes(event.action)\r\n      )\r\n        return;\r\n      collection[event.action](event.query);\r\n    });\r\n\r\n    app.connection.on(\"connect\", () => {\r\n      collection.updates();\r\n    });\r\n  });\r\n};\r\n","export default (app) => {\r\n  app.database.on(\"init\", ({ collection, db, contentType }) => {\r\n    let ids = [];\r\n    const updateSearch = {};\r\n    const updateGet = {};\r\n    let timer03;\r\n    let timer20;\r\n\r\n    const timeoutTimes = (app.settings.database &&\r\n      app.settings.database.updateFrequency) || [300, 2000];\r\n\r\n    const updateEvent = () => {\r\n      clearTimeout(timer03);\r\n      clearTimeout(timer20);\r\n      timer20 = false;\r\n      collection.event(\"update\", { ids }).then(() => {\r\n        ids = [];\r\n      });\r\n    };\r\n\r\n    collection.on(\"get\", 1000, (query) => {\r\n      if (!query.onData || query.callbackId) return;\r\n      query.callbackId = app.uuid();\r\n      updateGet[query.id] = updateGet[query.id] || {};\r\n      updateGet[query.id][query.callbackId] = query.onData;\r\n      delete query.onData;\r\n    });\r\n    collection.on(\"get\", -1000, (query) => {\r\n      if (query.callbackId) updateGet[query.id][query.callbackId](query);\r\n    });\r\n\r\n    collection.on(\"search\", 1000, (query) => {\r\n      if (!query.onData || query.callbackId) return;\r\n      query.callbackId = app.uuid();\r\n      updateSearch[query.callbackId] = { ...query, data: false };\r\n      delete query.onData;\r\n    });\r\n    collection.on(\"search\", -1000, (query) => {\r\n      if (query.callbackId) updateSearch[query.callbackId].onData(query);\r\n    });\r\n\r\n    collection.on(\"offUpdate\", (query) => {\r\n      if (updateSearch[query.callbackId]) delete updateSearch[query.callbackId];\r\n      else delete updateGet[query.id][query.callbackId];\r\n    });\r\n\r\n    collection.on([\"save\", \"delete\"], -1000, (query) => {\r\n      if (timer03) clearTimeout(timer03);\r\n      timer03 = setTimeout(updateEvent, timeoutTimes[0]);\r\n      if (!timer20) timer20 = setTimeout(updateEvent, timeoutTimes[1]);\r\n      if (!ids.includes(query.id)) ids.push(query.id);\r\n    });\r\n\r\n    const delItem = (id) => {\r\n      const { dbArray, dbIndex } = db;\r\n      const item = dbIndex[id];\r\n      if (!item) return;\r\n\r\n      delete dbIndex[id];\r\n      const pos = dbArray.indexOf(item);\r\n      dbArray.splice(pos, 1);\r\n    };\r\n    collection.on(\"update\", ({ ids, offline }) => {\r\n      if (!offline)\r\n        if (ids) ids.forEach(delItem);\r\n        else {\r\n          db.dbArray = [];\r\n          db.dbIndex = {};\r\n        }\r\n\r\n      Object.values(updateSearch).forEach((query) =>\r\n        collection.search({ ...query, data: false, onData: false })\r\n      );\r\n\r\n      const updateGetIds = ids\r\n        ? ids.filter((id) => updateGet[id])\r\n        : Object.keys(updateGet);\r\n\r\n      updateGetIds.forEach((id) => {\r\n        Object.values(updateGet[id]).forEach((callbackId) =>\r\n          collection\r\n            .get({ id })\r\n            .then((query) => updateGet[id][callbackId](query))\r\n        );\r\n      });\r\n      collection.event(\"saveStorage\");\r\n    });\r\n\r\n    const sortFuncInt = (key) => (a, b) => {\r\n      const x = a[key];\r\n      const y = b[key];\r\n      if (x === undefined) return y === undefined ? 0 : 1;\r\n      if (y === undefined) return -1;\r\n      return x < y ? -1 : x > y ? 1 : 0;\r\n    };\r\n    collection.on(\"updates\", 1000, () => {\r\n      const { dbArray } = db;\r\n      const i = dbArray.length - 1;\r\n      dbArray.sort(sortFuncInt(\"_chdate\"));\r\n      dbArray.reverse();\r\n      if (i === -1 || !dbArray[i]._chdate) return;\r\n\r\n      return { date: dbArray[i]._chdate };\r\n    });\r\n    collection.on(\"updates\", -1000, collection.update);\r\n  });\r\n};\r\n","/*\r\nfunction getStackTrace(row) {\r\n  const obj = {};\r\n  Error.captureStackTrace(obj, getStackTrace);\r\n  if (row) return obj.stack.split(\"\\n\")[row].replace(\"   at \", \"\");\r\n  return obj.stack;\r\n}\r\n*/\r\nexport default app => {\r\n  app.database.on(\"init\", ({ collection, db }) => {\r\n    /*\r\n    [\"delete\", \"find\", \"get\", \"save\", \"search\", \"size\"].forEach(event => {\r\n      collection.on(\r\n        event,\r\n        query => {\r\n          console.log(event, query, getStackTrace(6));\r\n        },\r\n        1002\r\n      );\r\n    });*/\r\n  });\r\n};\r\n","export default (app) => {\r\n  if (app.settings.noClientCache) return;\r\n\r\n  app.database.on(\"init\", ({ collection, db }) => {\r\n    const insertItem = (item) => {\r\n      const { dbIndex, dbArray } = db;\r\n      if (dbIndex[item._id]) return;\r\n      dbIndex[item._id] = item;\r\n\r\n      const chdate = item._chdate;\r\n\r\n      if (!item.chdate) dbArray.push(item);\r\n      else\r\n        for (let i = 0; i < dbArray.length; i++)\r\n          if (dbArray[i]._chdate < chdate) {\r\n            dbArray.splice(i, 0, item);\r\n            break;\r\n          }\r\n      collection.event(\"saveStorage\");\r\n    };\r\n\r\n    let searchCache = {};\r\n    let allInCache = false;\r\n\r\n    collection.on([\"update\", \"clearCache\"], 2000, () => {\r\n      searchCache = {};\r\n      allInCache = false;\r\n    });\r\n\r\n    collection.on(\"search\", 2000, (query) => {\r\n      const inCache =\r\n        allInCache ||\r\n        searchCache[JSON.stringify({ ...query, data: undefined })];\r\n\r\n      return { ...query, inCache };\r\n    });\r\n    collection.on(\"search\", -1000, (query) => {\r\n      if (!query.data || allInCache) return;\r\n\r\n      allInCache =\r\n        query.count > query.searchTotal && query.searchTotal === query.total;\r\n\r\n      query.data.forEach(insertItem);\r\n\r\n      const key = JSON.stringify({ ...query, data: undefined });\r\n      if (!searchCache[key]) searchCache[key] = true;\r\n    });\r\n\r\n    collection.on([\"get\", \"find\"], -1000, ({ data }) => {\r\n      if (!allInCache && data) insertItem(data);\r\n    });\r\n  });\r\n};\r\n","export default (app) => {\r\n  if (app.settings.noClientCache) return;\r\n\r\n  app.database.on(\"init\", ({ collection, db }) => {\r\n    const id = `dbStorage${collection.contentType.machinename}`;\r\n\r\n    collection.on([\"save\", \"delete\", \"saveStorage\"], -1000, () => {\r\n      app.storage.setItemDebounce({ id, value: db.dbArray, delay: 500 });\r\n    });\r\n\r\n    collection.on(\"init\", 1000, () =>\r\n      app.storage.getItem({ id }).then(({ value }) => {\r\n        db.dbArray = value || [];\r\n      })\r\n    );\r\n\r\n    collection.on(\"clearCache\", () => {\r\n      app.storage.setItemDebounce({ id, value: [], delay: 0 });\r\n      db.dbArray = [];\r\n      db.dbIndex = {};\r\n    });\r\n  });\r\n};\r\n","export default (app) => {\r\n  if (app.settings.noClientCache) return;\r\n\r\n  app.database.on(\"init\", ({ collection, db }) => {\r\n    const storageId = `dbSaveQueue${collection.contentType.machinename}`;\r\n\r\n    let saveQueue = {};\r\n    app.storage\r\n      .getItem({ id: storageId })\r\n      // eslint-disable-next-line no-return-assign\r\n      .then(({ value }) => (saveQueue = value || {}));\r\n\r\n    const add = ({ id, data, offline }) => {\r\n      if (!offline) return;\r\n      saveQueue[id] = data;\r\n      app.storage.setItemDebounce({\r\n        id: storageId,\r\n        value: saveQueue,\r\n        delay: 300,\r\n      });\r\n    };\r\n    collection.on(\"save\", -1000, (query) => add(query));\r\n    collection.on(\"delete\", -1000, (query) =>\r\n      add({ ...query, data: \"deleted\" })\r\n    );\r\n\r\n    collection.on(\"updates\", 500, (query) => {\r\n      const { dbArray } = db;\r\n      let { date } = query;\r\n      if (!date) return;\r\n\r\n      let i = dbArray.length - 1;\r\n\r\n      while (i !== -1 && !saveQueue[dbArray[i]._id]) {\r\n        date = dbArray[i]._chdate;\r\n        i--;\r\n      }\r\n      return { ...query, saveQueue, date };\r\n    });\r\n    collection.on(\"updates\", -500, (query) => {\r\n      saveQueue = {};\r\n      app.storage.setItem({ id: storageId, value: {} });\r\n    });\r\n  });\r\n};\r\n","export default function (app) {\r\n  const { userContentType = \"adminUser\" } = app.settings;\r\n  const sessionKey = `session${userContentType}`;\r\n\r\n  app.session = app.addeventhandler({}, [\"login\", \"logout\"], \"session\");\r\n  const { session } = app;\r\n  let autoLoginUser = false;\r\n\r\n  function loginEvent(user) {\r\n    if (JSON.stringify(user) === JSON.stringify(session.user)) return;\r\n\r\n    try {\r\n      app.storage.setItem({ id: sessionKey, value: user });\r\n      // eslint-disable-next-line no-empty\r\n    } catch (e) {}\r\n    session.user = user;\r\n    if (typeof session.user.role === \"string\")\r\n      session.user.role = [session.user.role];\r\n\r\n    app.event(\"login\", user);\r\n  }\r\n\r\n  session.on(\"login\", (value) =>\r\n    app.connection\r\n      .emit({\r\n        type: \"login\",\r\n        data: value,\r\n        sessionid: value.sessionid,\r\n        contentType: value.contentType,\r\n      })\r\n      .then((query) => {\r\n        const { user } = query;\r\n\r\n        if (user && !query.error) loginEvent(user);\r\n        else {\r\n          session.user = autoLoginUser;\r\n          try {\r\n            app.storage.removeItem({ id: sessionKey });\r\n            // eslint-disable-next-line no-empty\r\n          } catch (e) {}\r\n        }\r\n        return query;\r\n      })\r\n  );\r\n\r\n  app.connection.on(\"autologin\", (query) => {\r\n    const { user, error } = query;\r\n\r\n    if (!user || error) return;\r\n    autoLoginUser = user;\r\n    if (session.user) return;\r\n\r\n    session.user = user;\r\n    if (typeof session.user.role === \"string\")\r\n      session.user.role = [session.user.role];\r\n\r\n    app.event(\"login\", user);\r\n  });\r\n\r\n  window.addEventListener(\"storage\", ({ key }) => {\r\n    if (key !== sessionKey) return;\r\n    window.location.reload();\r\n  });\r\n\r\n  session.on(\"logout\", () => {\r\n    app.storage.removeItem({ id: sessionKey });\r\n\r\n    delete session.user;\r\n\r\n    app.connection.emit({\r\n      type: \"logout\",\r\n      contentType: userContentType,\r\n      noCallback: true,\r\n    });\r\n\r\n    app.event(\"logout\");\r\n  });\r\n\r\n  app.on(\"init\", () =>\r\n    app.storage.getItem({ id: sessionKey }).then(({ value: userStore }) => {\r\n      session.user = userStore || autoLoginUser;\r\n\r\n      if (userStore) {\r\n        if (app.connection.connected()) session.login(userStore);\r\n\r\n        app.connection.on(\"connect\", () => {\r\n          session.login(userStore);\r\n        });\r\n      }\r\n    })\r\n  );\r\n};\r\n","function getStackTrace(row) {\r\n  const obj = {};\r\n  if (!Error.captureStackTrace) return;\r\n  Error.captureStackTrace(obj, getStackTrace);\r\n  if (row === 3) console.log(obj.stack.split(\"\\n\"));\r\n  const [, source, line, column] =\r\n    /https?:\\/\\/[^/]+\\/([^:]+):([^:]+):([0-9]+)/im.exec(\r\n      obj.stack.split(\"\\n\")[row]\r\n    ) || [];\r\n\r\n  return !source\r\n    ? obj.stack.split(\"\\n\")[row]\r\n    : translate(`${source} ${line}:${column}`);\r\n}\r\n\r\nlet translate = (str) => str;\r\n\r\nif (\r\n  typeof window !== \"undefined\" &&\r\n  window.location.host.includes(\"localhost\")\r\n) {\r\n  const addScript = (src) =>\r\n    new Promise((resolve) => {\r\n      if (\r\n        [...document.head.children].some(\r\n          (child) => child.getAttribute(\"src\") === src\r\n        )\r\n      ) {\r\n        resolve();\r\n        return;\r\n      }\r\n\r\n      const scriptEl = document.createElement(\"script\");\r\n\r\n      scriptEl.setAttribute(\"src\", src);\r\n      scriptEl.onload = resolve;\r\n      document.head.appendChild(scriptEl);\r\n    });\r\n\r\n  addScript(\"https://unpkg.com/source-map@0.7.3/dist/source-map.js\").then(\r\n    async () => {\r\n      window.sourceMap.SourceMapConsumer.initialize({\r\n        \"lib/mappings.wasm\": \"/mappings.wasm\",\r\n      });\r\n      try {\r\n        const consumer = await new window.sourceMap.SourceMapConsumer(\r\n          await fetch(\"/static/js/main.chunk.js.map\").then((res) => res.json())\r\n        );\r\n        translate = (str) => {\r\n          if (!str || !str.includes(\":\")) return str;\r\n\r\n          let [source, line, column] = str.split(/[ :]/);\r\n\r\n          ({ source, line, column } = consumer.originalPositionFor({\r\n            line: parseInt(line, 10),\r\n            column: parseInt(column, 10),\r\n          }));\r\n          return `${source} ${line}:${column}`;\r\n        };\r\n        // eslint-disable-next-line no-empty\r\n      } catch (e) {}\r\n    }\r\n  );\r\n}\r\n\r\nif (typeof window !== \"undefined\") window.addEventHandlers = {};\r\n\r\nexport default function addEventHandler(context, mapevents, name) {\r\n  const callbacks = {};\r\n  const callbacksprio = {};\r\n  const callbacksStack = {};\r\n  if (typeof mapevents === \"string\") {\r\n    name = mapevents;\r\n    mapevents = undefined;\r\n  }\r\n\r\n  callbacksStack.addEventHandlerInitiator = [\r\n    `${name} ${Math.random()}`,\r\n    getStackTrace(2),\r\n  ];\r\n\r\n  setTimeout(() => {\r\n    if (typeof window !== \"undefined\") {\r\n      Object.entries(callbacksStack).forEach(([key, value]) => {\r\n        callbacksStack[key] = value.map((item) => translate(item));\r\n      });\r\n\r\n      window.addEventHandlers[\r\n        callbacksStack.addEventHandlerInitiator[0]\r\n      ] = callbacksStack;\r\n    }\r\n  }, 1000);\r\n\r\n  context = context || {};\r\n\r\n  context.on = (event, callback, prio) => {\r\n    event = event instanceof Array ? event : [event];\r\n    event.forEach((event) => addEvent(event, callback, prio));\r\n  };\r\n\r\n  function addEvent(event, callback, prio) {\r\n    if (typeof callback === \"number\") {\r\n      const tmp = callback;\r\n      callback = prio;\r\n      prio = tmp;\r\n    }\r\n\r\n    if (!callback) return console.error(\"No callback\", getStackTrace(5));\r\n    if (typeof callback !== \"function\")\r\n      return console.error(\"Not a function\", getStackTrace(5), callback);\r\n\r\n    prio = prio || 0;\r\n\r\n    if (!callbacks[event]) {\r\n      callbacks[event] = [];\r\n      callbacksprio[event] = [];\r\n      callbacksStack[event] = [];\r\n    }\r\n\r\n    let pos = callbacks[event].length;\r\n    while (pos && callbacksprio[event][pos - 1] < prio) pos--;\r\n\r\n    callbacksprio[event].splice(pos, 0, prio);\r\n    callbacks[event].splice(pos, 0, callback);\r\n    callbacksStack[event].splice(pos, 0, getStackTrace(5));\r\n  }\r\n\r\n  context.off = (event, callback) => {\r\n    event = event instanceof Array ? event : [event];\r\n    event.forEach((event) => removeEvent(event, callback));\r\n  };\r\n\r\n  function removeEvent(event, callback) {\r\n    if (!callbacks[event]) {\r\n      console.log(\"Missing event\", event, callbacks);\r\n      return;\r\n    }\r\n    const pos = callbacks[event].indexOf(callback);\r\n    if (pos !== -1) {\r\n      callbacks[event].splice(pos, 1);\r\n      callbacksprio[event].splice(pos, 1);\r\n      callbacksStack[event].splice(pos, 1);\r\n    }\r\n  }\r\n\r\n  const getCallTrace = (event) => {\r\n    const callback = callbacks[event];\r\n    if (typeof window !== \"undefined\") {\r\n      console.log(\r\n        event,\r\n        \" getCallTrace\",\r\n        callback.length,\r\n        Object.keys(context)\r\n      );\r\n      callbacksStack[event].forEach((event) => {\r\n        console.log(event);\r\n      });\r\n    } else\r\n      console.log(\r\n        event,\r\n        \" getCallTrace\",\r\n        callback.length,\r\n        Object.keys(context),\r\n        callbacksStack[event]\r\n      );\r\n  };\r\n\r\n  const doEvent = function (event, data) {\r\n    if (event === \"getCallTrace\") return getCallTrace(data);\r\n    data = data || {};\r\n    const callback = callbacks[event];\r\n\r\n    if (!callback || !callback.length) return Promise.resolve(data);\r\n\r\n    return new Promise((resolve, reject) => {\r\n      const timer = setTimeout(() => {\r\n        console.log(\r\n          event,\r\n          \" Stopped at\",\r\n          pos,\r\n          callback.length,\r\n          Object.keys(context),\r\n          callbacksStack[event][pos - 1],\r\n          callbacksStack[event]\r\n        );\r\n      }, 5000);\r\n      let pos = 0;\r\n      let oldData = data;\r\n\r\n      function next(data) {\r\n        if (data instanceof Promise) {\r\n          data.then(next).catch(reject);\r\n          return;\r\n        }\r\n\r\n        if (data === \"{{{breakEvent}}}\") {\r\n          resolve(oldData);\r\n          return;\r\n        }\r\n\r\n        const skipNext = data === \"{{{skipNext}}}\";\r\n\r\n        data = skipNext || typeof data === \"undefined\" ? oldData : data;\r\n\r\n        if (skipNext) pos++;\r\n\r\n        if (pos >= callback.length) {\r\n          clearTimeout(timer);\r\n          resolve(data);\r\n          return;\r\n        }\r\n\r\n        oldData = data;\r\n        Promise.resolve(callback[pos++](data))\r\n          .then(next)\r\n          .catch(reject);\r\n      }\r\n      next(data);\r\n    });\r\n  };\r\n  context.event = doEvent;\r\n\r\n  if (mapevents)\r\n    mapevents.forEach((event) => {\r\n      context[event] = (data, defectiveCallback) => {\r\n        if (defectiveCallback) debugger;\r\n        return doEvent(event, data);\r\n      };\r\n    });\r\n\r\n  return context;\r\n};\r\n","export default (app) => {\r\n  const translations = {};\r\n  const lang = \"\";\r\n\r\n  app.utils = {\r\n    capFirst: function (text) {\r\n      if (!text) return \"\";\r\n      return text.substring(0, 1).toUpperCase() + text.substring(1);\r\n    },\r\n    contains: function (array1, array2) {\r\n      if (typeof array1 === \"string\") array1 = [array1];\r\n      if (typeof array2 === \"string\") array2 = [array2];\r\n\r\n      for (let i = 0; i < array1.length; i++)\r\n        if (array2.indexOf(array1[i]) !== -1) return true;\r\n\r\n      return false;\r\n    },\r\n    t: function (text) {\r\n      if (translations[lang] && translations[lang][text])\r\n        return translations[lang][text];\r\n      return text;\r\n    },\r\n    translate: function (text) {\r\n      return text.replace(/t\\('([^']+)'\\)/g, (str, p1, offset, s) => {\r\n        if (translations[lang] && translations[lang][p1])\r\n          return translations[lang][p1];\r\n        return p1;\r\n      });\r\n    },\r\n    insertValues: function (text, data) {\r\n      return text.replace(/{([a-z0-9_.]+)}/gi, (str, p1, offset, s) => {\r\n        return data[p1] ? data[p1] : `{${p1}}`;\r\n      });\r\n    },\r\n    clone: (obj) => {\r\n      try {\r\n        return JSON.parse(JSON.stringify(obj));\r\n      } catch (error) {\r\n        console.error(\"Clone error\", obj);\r\n        return {};\r\n      }\r\n    },\r\n    uuid: () => {\r\n      const S4 = () =>\r\n        // eslint-disable-next-line no-bitwise\r\n        (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\r\n\r\n      function guidGenerator() {\r\n        const buf = new Uint16Array(8);\r\n        window.crypto.getRandomValues(buf);\r\n        const S4 = function (num) {\r\n          let ret = num.toString(16);\r\n          while (ret.length < 4) {\r\n            ret = `0${ret}`;\r\n          }\r\n          return ret;\r\n        };\r\n        return (\r\n          S4(buf[0]) +\r\n          S4(buf[1]) +\r\n          S4(buf[2]) +\r\n          S4(buf[3]).substring(1) +\r\n          S4(buf[4]) +\r\n          S4(buf[5]) +\r\n          S4(buf[6]) +\r\n          S4(buf[7])\r\n        );\r\n      }\r\n      if (window.crypto && window.crypto.getRandomValues)\r\n        return guidGenerator();\r\n      return S4() + S4() + S4() + S4() + S4() + S4() + S4() + S4();\r\n    },\r\n  };\r\n\r\n  app.uuid = app.utils.uuid;\r\n};\r\n","import indexScripts from \"../../../indexScripts\";\r\nimport contentType from \"../../../contentype.json\";\r\nimport addeventhandler from \"./eventhandler\";\r\nimport utils from \"./utils\";\r\nimport buildsettings from \"../../../settings.json\";\r\n\r\nconst settings = (window && window.___settings___) || buildsettings;\r\nconst app = { settings, contentType, addeventhandler };\r\n\r\naddeventhandler(app, \"app\");\r\nutils(app);\r\napp.uuid = app.utils.uuid;\r\nindexScripts(app);\r\napp.capFirst = app.utils.capFirst;\r\n\r\napp.on(\"init\", () => {\r\n  app.inited = true;\r\n});\r\n\r\nexport default () => app;\r\napp.event(\"init\");\r\n","import components from './core/components/client/index.js';\nimport connection from './core/connection/client/index.js';\nimport contentType from './core/contentType/client/index.js';\nimport core from './core/core/client/index.js';\nimport database from './core/database/client/index.js';\nimport file from './core/file/client/index.js';\nimport router from './core/router/client/index.js';\nimport session from './core/session/client/index.js';\nexport default function(app) {\n  components(app);\n  connection(app);\n  contentType(app);\n  core(app);\n  database(app);\n  file(app);\n  router(app);\n  session(app);\n}\n","export default function (app) {\r\n  let URL = app.settings.domain;\r\n  if (app.settings.native)\r\n    URL = app.settings.secure ? `wss://${URL}` : `ws://${URL}`;\r\n  else {\r\n    if (!URL) {\r\n      URL = window.location.href.replace(\"http://\", \"\");\r\n      URL = URL.substring(0, URL.indexOf(\"/\"));\r\n    }\r\n    URL = `${\r\n      window.location.href.indexOf(\"https://\") !== -1 ? \"wss\" : \"ws\"\r\n    }://${URL}`;\r\n  }\r\n\r\n  app.webSocket = new WebSocket(URL);\r\n  let { webSocket } = app;\r\n  const callbacks = {};\r\n  let isOnline = false;\r\n  let reconnect = false;\r\n\r\n  let closed = false;\r\n  let failCount = 13;\r\n  const log = (text) => {\r\n    if (isOnline) failCount = 0;\r\n    if (failCount++ < 10) console.log(text);\r\n  };\r\n\r\n  function openconnection() {\r\n    log(`openconnection ${URL}`);\r\n    webSocket = webSocket || new WebSocket(URL);\r\n    function connected() {\r\n      isOnline = true;\r\n      connection.event(\"connect\", { type: \"connect\" });\r\n      console.log(\"Connected\");\r\n      if (reconnect) window.location.reload();\r\n      if (app.settings.debug) reconnect = true;\r\n    }\r\n    if (webSocket.readyState === 1) connected();\r\n    webSocket.onopen = connected;\r\n    webSocket.onclose = function () {\r\n      log(`close ${URL}`);\r\n      webSocket = false;\r\n      isOnline = false;\r\n      if (!closed) setTimeout(openconnection, 1000);\r\n      connection.event(\"disconnect\", { type: \"close\" });\r\n    };\r\n    webSocket.onerror = function (error) {\r\n      log(`error ${URL}`);\r\n    };\r\n    webSocket.onmessage = function (message) {\r\n      const data = JSON.parse(message.data);\r\n      if (callbacks[data.callbackid]) {\r\n        try {\r\n          callbacks[data.callbackid](data);\r\n        } catch (e) {\r\n          log(\"err\", callbacks[data.callbackid], e);\r\n        }\r\n        delete callbacks[data.callbackid];\r\n      }\r\n      connection.event(data.type, data);\r\n    };\r\n  }\r\n\r\n  app.on(\"unmount\", () => {\r\n    closed = true;\r\n    webSocket.close();\r\n  });\r\n\r\n  setInterval(() => {\r\n    if (isOnline) webSocket.send(\"li\");\r\n  }, 15000);\r\n\r\n  const connection = app.addeventhandler(\r\n    { connected: () => isOnline },\r\n    [\"emit\", \"broadcast\", \"close\"],\r\n    \"connection\"\r\n  );\r\n\r\n  connection.on(\r\n    \"emit\",\r\n    (data) =>\r\n      new Promise((resolve, reject) => {\r\n        let counter = 0;\r\n        function send() {\r\n          if (webSocket.readyState > 0) {\r\n            if (msg.length > 64000) {\r\n              for (; msg.length > 64000; ) {\r\n                webSocket.send(msg.substring(0, 64000));\r\n                msg = msg.substring(64000);\r\n              }\r\n            }\r\n            webSocket.send(msg);\r\n            clearTimeout(data.timeout);\r\n          } else {\r\n            if (counter === 1 && callbacks[data.callbackid])\r\n              callbacks[data.callbackid](\r\n                Object.assign({}, data, { offline: true })\r\n              );\r\n            counter++;\r\n            if (counter !== 300) setTimeout(send, 200);\r\n            else {\r\n              callbacks[data.callbackid](\r\n                Object.assign({}, data, { timeout: true })\r\n              );\r\n              delete callbacks[data.callbackid];\r\n            }\r\n          }\r\n        }\r\n        if (!data.noCallback) {\r\n          data.callbackid = app.uuid();\r\n          callbacks[data.callbackid] = resolve;\r\n        } else resolve();\r\n        let msg = JSON.stringify(data);\r\n        send();\r\n      })\r\n  );\r\n\r\n  connection.on(\"broadcast\", (data) => {\r\n    data.broadcast = true;\r\n    return connection.emit(data);\r\n  });\r\n\r\n  connection.on(\"close\", () => {\r\n    webSocket.close();\r\n  });\r\n\r\n  app.connection = connection;\r\n\r\n  if (app.settings.waitOnConnect)\r\n    app.on(\r\n      \"loaded\",\r\n      1000,\r\n      () =>\r\n        new Promise((resolve) => {\r\n          const cont = () => {\r\n            resolve();\r\n            connection.off(\"connect\", cont);\r\n          };\r\n          if (isOnline) resolve();\r\n          else connection.on(\"connect\", cont);\r\n        })\r\n    );\r\n  openconnection();\r\n};\r\n","export default function (app) {\r\n  if (!app.t) app.t = (text) => text;\r\n\r\n  app.on(\"init\", -1000, () => {\r\n    app.capFirst = app.utils.capFirst;\r\n    app.uuid = app.utils.uuid;\r\n    app.clone = app.utils.clone;\r\n    init();\r\n  });\r\n\r\n  function init() {\r\n    if (!document.body) {\r\n      window.onload = init;\r\n      return;\r\n    }\r\n\r\n    if (app.settings.debug) console.log(app);\r\n\r\n    app.parseFilter = function (filter, getValue, path) {\r\n      if (!filter) return {};\r\n      function insertVal(val) {\r\n        return val.replace(/\\{([a-z_.]+)\\}/gim, (str, p1, offset, s) => {\r\n          return getValue(p1.replace(\"..\", path));\r\n        });\r\n      }\r\n      const parsedfilter = { $and: [] };\r\n\r\n      for (const item in filter) {\r\n        const oneFilter = {};\r\n        const oneFilterIn = filter[item].and;\r\n        for (const i in oneFilterIn)\r\n          oneFilter[insertVal(oneFilterIn[i][0])] = insertVal(\r\n            oneFilterIn[i][1]\r\n          );\r\n        parsedfilter.$and.push(oneFilter);\r\n      }\r\n      return parsedfilter;\r\n    };\r\n\r\n    app.stateStore = (() => {\r\n      const states = {};\r\n      return {\r\n        set: function (obj, state, type) {\r\n          if (type === \"disabled\") return;\r\n\r\n          const url = window.location.pathname;\r\n          const id = app.domPathId(obj.current);\r\n          if (type === \"independent\") {\r\n            states[id] = state;\r\n            return;\r\n          }\r\n\r\n          if (!states[url]) states[url] = {};\r\n\r\n          states[url][id] = state;\r\n        },\r\n        get: function (obj, type) {\r\n          if (type === \"disabled\") return null;\r\n\r\n          const id = app.domPathId(obj.current);\r\n          if (type === \"independent\") return states[id];\r\n\r\n          const url = window.location.pathname;\r\n\r\n          if (!states[url] || states[url][id] === undefined) return null;\r\n          return states[url][id];\r\n        },\r\n      };\r\n    })();\r\n\r\n    app.domPathId = function (element) {\r\n      if (!element) return null;\r\n      const path = [];\r\n      for (let i = 0; i < 200 && element.parentElement; i++) {\r\n        for (let item = 0; item < element.parentElement.children.length; item++)\r\n          if (element.parentElement.children[item] === element)\r\n            path.unshift(`${item}.${element.tagName}`);\r\n        element = element.parentElement;\r\n      }\r\n      return path.join(\".\");\r\n    };\r\n\r\n    document.addEventListener(\r\n      \"keydown\",\r\n      (e) => {\r\n        if (\r\n          e.keyCode === 83 &&\r\n          (navigator.platform.match(\"Mac\") ? e.metaKey : e.ctrlKey)\r\n        ) {\r\n          e.preventDefault();\r\n          app.event(\"keypressSaveEvent\");\r\n        }\r\n      },\r\n      false\r\n    );\r\n\r\n    app.event(\"loaded\");\r\n  }\r\n};\r\n","export default function (app) {\r\n  app.storage = app.addeventhandler(\r\n    {},\r\n    [\r\n      \"getItem\",\r\n      \"setItem\",\r\n      \"removeItem\",\r\n      \"getItemMem\",\r\n      \"setItemMem\",\r\n      \"removeItemMem\",\r\n      \"getFile\",\r\n      \"setFile\",\r\n      \"removeFile\",\r\n      \"setItemDebounce\",\r\n    ],\r\n    \"storage\"\r\n  );\r\n\r\n  app.storage.on(\"getItem\", (data) => {\r\n    const val = window.localStorage.getItem(data.id);\r\n    return Object.assign(data, {\r\n      value: val && (val[0] === \"[\" || val[0] === \"{\") ? JSON.parse(val) : val,\r\n    });\r\n  });\r\n\r\n  app.storage.on(\"setItem\", ({ id, value }) => {\r\n    window.localStorage.setItem(\r\n      id,\r\n      typeof value === \"string\" ? value : JSON.stringify(value)\r\n    );\r\n  });\r\n\r\n  const timer = {};\r\n  app.storage.on(\"setItemDebounce\", ({ id, value, delay }) => {\r\n    clearTimeout(timer[id]);\r\n    timer[id] = setTimeout(() => {\r\n      delete timer[id];\r\n      app.storage.setItem({ id, value });\r\n    }, delay);\r\n  });\r\n\r\n  app.storage.on(\"removeItem\", ({ id }) => {\r\n    window.localStorage.removeItem(id);\r\n  });\r\n\r\n  const memstore = {};\r\n\r\n  app.storage.on(\"getItemMem\", (data) =>\r\n    Object.assign(data, { value: memstore[data.id] })\r\n  );\r\n\r\n  app.storage.on(\"setItemMem\", ({ id, value }) => {\r\n    memstore[id] = value;\r\n  });\r\n\r\n  app.storage.on(\"removeItemMem\", ({ id }) => {\r\n    delete memstore[id];\r\n  });\r\n\r\n  app.storage.on(\"getFile\", (data) => {});\r\n\r\n  app.storage.on(\"setFile\", ({ id, value }) => {});\r\n\r\n  app.storage.on(\"removeFile\", ({ id }) => {});\r\n};\r\n","export default function(app) {\r\n  /* const pathRegexp = function(path, keys, sensitive, strict) {\r\n    if (Object.prototype.toString.call(path) === \"[object RegExp]\") return path;\r\n    if (Array.isArray(path)) path = \"(\" + path.join(\"|\") + \")\";\r\n    path = path\r\n      .concat(strict ? \"\" : \"/?\")\r\n      .replace(/\\/\\(/g, \"(?:/\")\r\n      .replace(/(\\/)?(\\.)?:(\\w+)(?:(\\(.*?\\)))?(\\?)?(\\*)?/g, function(\r\n        _,\r\n        slash,\r\n        format,\r\n        key,\r\n        capture,\r\n        optional,\r\n        star\r\n      ) {\r\n        keys.push({ name: key, optional: !!optional });\r\n        slash = slash || \"\";\r\n        return (\r\n          \"\" +\r\n          (optional ? \"\" : slash) +\r\n          \"(?:\" +\r\n          (optional ? slash : \"\") +\r\n          (format || \"\") +\r\n          (capture || ((format && \"([^/.]+?)\") || \"([^/]+?)\")) +\r\n          \")\" +\r\n          (optional || \"\") +\r\n          (star ? \"(/*)?\" : \"\")\r\n        );\r\n      })\r\n      .replace(/([/.])/g, \"\\\\$1\")\r\n      .replace(/\\* /g, \"(.*)\"); Change * /\r\n    return new RegExp(\"^\" + path + \"$\", sensitive ? \"\" : \"i\");\r\n}; */\r\n\r\n  app.parseURL = function(url) {\r\n    url = url.replace(/^[^/]+:\\/\\/[^/]+/gi, \"\");\r\n    const out = {};\r\n    const hashtag = url.split(\"#\");\r\n    let query = hashtag[0].split(/\\/?\\?/);\r\n    out.path = query[0].split(\"/\");\r\n    out.domain = out.path.shift();\r\n    out.query = {};\r\n    out.hashtag = hashtag[1];\r\n    query = query[1] ? query[1].split(\"&\") : false;\r\n    for (const i in query) {\r\n      const param = query[i].split(\"=\");\r\n      out.query[param[0]] = param[1];\r\n    }\r\n    return out;\r\n  };\r\n\r\n  /* app.on(\"loaded\", () => {\r\n    if (app.settings.extension) {\r\n      const to = \"/\";\r\n      if (\r\n        window.localStorage[\"lastpos\"] &&\r\n        window.localStorage[\"lastpos\"] !== \"/index.html\"\r\n      )\r\n        to = window.localStorage[\"lastpos\"];\r\n      window.history.pushState({}, \"Site\", to);\r\n      app.router.setState();\r\n    }\r\n  }); */\r\n};\r\n","import sessionM from \"./session\";\r\n\r\nexport default app => {\r\n  sessionM(app);\r\n\r\n  const addContents = token => ({\r\n    method: \"POST\",\r\n    body: JSON.stringify({ token })\r\n  });\r\n\r\n  app.on(\"login\", -100, ({ token }) => {\r\n    if (!token) return;\r\n    fetch(\"/login\", addContents(token));\r\n  });\r\n\r\n  app.on(\"logout\", -100, ({ token }) => {\r\n    if (!token) return;\r\n    fetch(\"/logout\", addContents(token));\r\n  });\r\n};\r\n"],"sourceRoot":""}