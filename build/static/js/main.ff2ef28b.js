/*! For license information please see main.ff2ef28b.js.LICENSE.txt */
!function(){var e={9713:function(e){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},4526:function(e,t,n){e.exports=n(9727)},4233:function(e){"use strict";var t={"YYYY-MM-DD":new Intl.DateTimeFormat("sv-SE",{year:"numeric",month:"numeric",day:"numeric"}),"YYYY-MM-DD HH:mm":new Intl.DateTimeFormat("sv-SE",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"}),"HH:mm":new Intl.DateTimeFormat("sv-SE",{hour:"numeric",minute:"numeric"}),"H:mm":new Intl.DateTimeFormat("sv-SE",{hour:"numeric",minute:"numeric"}),YYYY:new Intl.DateTimeFormat("sv-SE",{year:"numeric"}),ddd:new Intl.DateTimeFormat("en-US",{month:"short"}),MMM:new Intl.DateTimeFormat("en-US",{weekday:"short"}),YY:new Intl.DateTimeFormat("sv-SE",{year:"2-digit"}),MM:new Intl.DateTimeFormat("sv-SE",{month:"2-digit"}),DD:new Intl.DateTimeFormat("sv-SE",{day:"2-digit"}),M:new Intl.DateTimeFormat("sv-SE",{month:"numeric"}),D:new Intl.DateTimeFormat("sv-SE",{day:"numeric"}),HH:new Intl.DateTimeFormat("sv-SE",{hour:"2-digit"}),ss:new Intl.DateTimeFormat("sv-SE",{second:"2-digit"}),mm:{format:function(e){var t=new Intl.DateTimeFormat("sv-SE",{minute:"2-digit"}).format(e);return t<10?"0".concat(t):t}},H:new Intl.DateTimeFormat("sv-SE",{hour:"numeric"}),m:new Intl.DateTimeFormat("sv-SE",{minute:"numeric"}),dddd:new Intl.DateTimeFormat("en-GB",{weekday:"long"})},n=new RegExp(Object.keys(t).join("|"),"gi");e.exports=function e(r){var i=new Date(r||Date.now());return{startOf:function(t){return e((t?Date.UTC:Date)(i.getFullYear(),i.getMonth(),i.getDate()))},valueOf:function(){return i.getTime()},format:function(e){return t[e]?t[e].format(i):e.replace(n,function(e){return function(n){var r;return null===(r=t[n])||void 0===r?void 0:r.format(e)}}(i))}}}},2756:function(e,t,n){!function(e){var t=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),n=e.Pos,r={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function i(e){return e&&e.bracketRegex||/[(){}[\]]/}function o(e,t,o){var l=e.getLineHandle(t.line),s=t.ch-1,c=o&&o.afterCursor;null==c&&(c=/(^| )cm-fat-cursor($| )/.test(e.getWrapperElement().className));var u=i(o),d=!c&&s>=0&&u.test(l.text.charAt(s))&&r[l.text.charAt(s)]||u.test(l.text.charAt(s+1))&&r[l.text.charAt(++s)];if(!d)return null;var f=">"==d.charAt(1)?1:-1;if(o&&o.strict&&f>0!=(s==t.ch))return null;var p=e.getTokenTypeAt(n(t.line,s+1)),h=a(e,n(t.line,s+(f>0?1:0)),f,p,o);return null==h?null:{from:n(t.line,s),to:h&&h.pos,match:h&&h.ch==d.charAt(0),forward:f>0}}function a(e,t,o,a,l){for(var s=l&&l.maxScanLineLength||1e4,c=l&&l.maxScanLines||1e3,u=[],d=i(l),f=o>0?Math.min(t.line+c,e.lastLine()+1):Math.max(e.firstLine()-1,t.line-c),p=t.line;p!=f;p+=o){var h=e.getLine(p);if(h){var m=o>0?0:h.length-1,v=o>0?h.length:-1;if(!(h.length>s))for(p==t.line&&(m=t.ch-(o<0?1:0));m!=v;m+=o){var g=h.charAt(m);if(d.test(g)&&(void 0===a||(e.getTokenTypeAt(n(p,m+1))||"")==(a||""))){var y=r[g];if(y&&">"==y.charAt(1)==o>0)u.push(g);else{if(!u.length)return{pos:n(p,m),ch:g};u.pop()}}}}}return p-o!=(o>0?e.lastLine():e.firstLine())&&null}function l(e,r,i){for(var a=e.state.matchBrackets.maxHighlightLineLength||1e3,l=i&&i.highlightNonMatching,s=[],c=e.listSelections(),u=0;u<c.length;u++){var d=c[u].empty()&&o(e,c[u].head,i);if(d&&(d.match||!1!==l)&&e.getLine(d.from.line).length<=a){var f=d.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";s.push(e.markText(d.from,n(d.from.line,d.from.ch+1),{className:f})),d.to&&e.getLine(d.to.line).length<=a&&s.push(e.markText(d.to,n(d.to.line,d.to.ch+1),{className:f}))}}if(s.length){t&&e.state.focused&&e.focus();var p=function(){e.operation((function(){for(var e=0;e<s.length;e++)s[e].clear()}))};if(!r)return p;setTimeout(p,800)}}function s(e){e.operation((function(){e.state.matchBrackets.currentlyHighlighted&&(e.state.matchBrackets.currentlyHighlighted(),e.state.matchBrackets.currentlyHighlighted=null),e.state.matchBrackets.currentlyHighlighted=l(e,!1,e.state.matchBrackets)}))}function c(e){e.state.matchBrackets&&e.state.matchBrackets.currentlyHighlighted&&(e.state.matchBrackets.currentlyHighlighted(),e.state.matchBrackets.currentlyHighlighted=null)}e.defineOption("matchBrackets",!1,(function(t,n,r){r&&r!=e.Init&&(t.off("cursorActivity",s),t.off("focus",s),t.off("blur",c),c(t)),n&&(t.state.matchBrackets="object"==typeof n?n:{},t.on("cursorActivity",s),t.on("focus",s),t.on("blur",c))})),e.defineExtension("matchBrackets",(function(){l(this,!0)})),e.defineExtension("findMatchingBracket",(function(e,t,n){return(n||"boolean"==typeof t)&&(n?(n.strict=t,t=n):t=t?{strict:!0}:null),o(this,e,t)})),e.defineExtension("scanForBracket",(function(e,t,n,r){return a(this,e,t,n,r)}))}(n(3668))},1804:function(e,t,n){!function(e){"use strict";e.registerHelper("fold","brace",(function(t,n){var r,i=n.line,o=t.getLine(i);function a(a){for(var l=n.ch,s=0;;){var c=l<=0?-1:o.lastIndexOf(a,l-1);if(-1!=c){if(1==s&&c<n.ch)break;if(r=t.getTokenTypeAt(e.Pos(i,c+1)),!/^(comment|string)/.test(r))return c+1;l=c-1}else{if(1==s)break;s=1,l=o.length}}}var l,s,c,u=a("{"),d=a("[");if(null!=u&&(null==d||d>u))c=u,l="{",s="}";else{if(null==d)return;c=d,l="[",s="]"}var f,p,h=1,m=t.lastLine();e:for(var v=i;v<=m;++v)for(var g=t.getLine(v),y=v==i?c:0;;){var b=g.indexOf(l,y),x=g.indexOf(s,y);if(b<0&&(b=g.length),x<0&&(x=g.length),(y=Math.min(b,x))==g.length)break;if(t.getTokenTypeAt(e.Pos(v,y+1))==r)if(y==b)++h;else if(!--h){f=v,p=y;break e}++y}if(null!=f&&i!=f)return{from:e.Pos(i,c),to:e.Pos(f,p)}})),e.registerHelper("fold","import",(function(t,n){function r(n){if(n<t.firstLine()||n>t.lastLine())return null;var r=t.getTokenAt(e.Pos(n,1));if(/\S/.test(r.string)||(r=t.getTokenAt(e.Pos(n,r.end+1))),"keyword"!=r.type||"import"!=r.string)return null;for(var i=n,o=Math.min(t.lastLine(),n+10);i<=o;++i){var a=t.getLine(i).indexOf(";");if(-1!=a)return{startCh:r.end,end:e.Pos(i,a)}}}var i,o=n.line,a=r(o);if(!a||r(o-1)||(i=r(o-2))&&i.end.line==o-1)return null;for(var l=a.end;;){var s=r(l.line+1);if(null==s)break;l=s.end}return{from:t.clipPos(e.Pos(o,a.startCh+1)),to:l}})),e.registerHelper("fold","include",(function(t,n){function r(n){if(n<t.firstLine()||n>t.lastLine())return null;var r=t.getTokenAt(e.Pos(n,1));return/\S/.test(r.string)||(r=t.getTokenAt(e.Pos(n,r.end+1))),"meta"==r.type&&"#include"==r.string.slice(0,8)?r.start+8:void 0}var i=n.line,o=r(i);if(null==o||null!=r(i-1))return null;for(var a=i;null!=r(a+1);)++a;return{from:e.Pos(i,o+1),to:t.clipPos(e.Pos(a))}}))}(n(3668))},7070:function(e,t,n){!function(e){"use strict";e.registerGlobalHelper("fold","comment",(function(e){return e.blockCommentStart&&e.blockCommentEnd}),(function(t,n){var r=t.getModeAt(n),i=r.blockCommentStart,o=r.blockCommentEnd;if(i&&o){for(var a,l=n.line,s=t.getLine(l),c=n.ch,u=0;;){var d=c<=0?-1:s.lastIndexOf(i,c-1);if(-1!=d){if(1==u&&d<n.ch)return;if(/comment/.test(t.getTokenTypeAt(e.Pos(l,d+1)))&&(0==d||s.slice(d-o.length,d)==o||!/comment/.test(t.getTokenTypeAt(e.Pos(l,d))))){a=d+i.length;break}c=d-1}else{if(1==u)return;u=1,c=s.length}}var f,p,h=1,m=t.lastLine();e:for(var v=l;v<=m;++v)for(var g=t.getLine(v),y=v==l?a:0;;){var b=g.indexOf(i,y),x=g.indexOf(o,y);if(b<0&&(b=g.length),x<0&&(x=g.length),(y=Math.min(b,x))==g.length)break;if(y==b)++h;else if(!--h){f=v,p=y;break e}++y}if(null!=f&&(l!=f||p!=a))return{from:e.Pos(l,a),to:e.Pos(f,p)}}}))}(n(3668))},2219:function(e,t,n){!function(e){"use strict";function t(t,r,o,a){if(o&&o.call){var l=o;o=null}else l=i(t,o,"rangeFinder");"number"==typeof r&&(r=e.Pos(r,0));var s=i(t,o,"minFoldSize");function c(e){var n=l(t,r);if(!n||n.to.line-n.from.line<s)return null;if("fold"===a)return n;for(var i=t.findMarksAt(n.from),o=0;o<i.length;++o)if(i[o].__isFold){if(!e)return null;n.cleared=!0,i[o].clear()}return n}var u=c(!0);if(i(t,o,"scanUp"))for(;!u&&r.line>t.firstLine();)r=e.Pos(r.line-1,0),u=c(!1);if(u&&!u.cleared&&"unfold"!==a){var d=n(t,o,u);e.on(d,"mousedown",(function(t){f.clear(),e.e_preventDefault(t)}));var f=t.markText(u.from,u.to,{replacedWith:d,clearOnEnter:i(t,o,"clearOnEnter"),__isFold:!0});f.on("clear",(function(n,r){e.signal(t,"unfold",t,n,r)})),e.signal(t,"fold",t,u.from,u.to)}}function n(e,t,n){var r=i(e,t,"widget");if("function"==typeof r&&(r=r(n.from,n.to)),"string"==typeof r){var o=document.createTextNode(r);(r=document.createElement("span")).appendChild(o),r.className="CodeMirror-foldmarker"}else r&&(r=r.cloneNode(!0));return r}e.newFoldFunction=function(e,n){return function(r,i){t(r,i,{rangeFinder:e,widget:n})}},e.defineExtension("foldCode",(function(e,n,r){t(this,e,n,r)})),e.defineExtension("isFolded",(function(e){for(var t=this.findMarksAt(e),n=0;n<t.length;++n)if(t[n].__isFold)return!0})),e.commands.toggleFold=function(e){e.foldCode(e.getCursor())},e.commands.fold=function(e){e.foldCode(e.getCursor(),null,"fold")},e.commands.unfold=function(e){e.foldCode(e.getCursor(),{scanUp:!1},"unfold")},e.commands.foldAll=function(t){t.operation((function(){for(var n=t.firstLine(),r=t.lastLine();n<=r;n++)t.foldCode(e.Pos(n,0),{scanUp:!1},"fold")}))},e.commands.unfoldAll=function(t){t.operation((function(){for(var n=t.firstLine(),r=t.lastLine();n<=r;n++)t.foldCode(e.Pos(n,0),{scanUp:!1},"unfold")}))},e.registerHelper("fold","combine",(function(){var e=Array.prototype.slice.call(arguments,0);return function(t,n){for(var r=0;r<e.length;++r){var i=e[r](t,n);if(i)return i}}})),e.registerHelper("fold","auto",(function(e,t){for(var n=e.getHelpers(t,"fold"),r=0;r<n.length;r++){var i=n[r](e,t);if(i)return i}}));var r={rangeFinder:e.fold.auto,widget:"\u2194",minFoldSize:0,scanUp:!1,clearOnEnter:!0};function i(e,t,n){if(t&&void 0!==t[n])return t[n];var i=e.options.foldOptions;return i&&void 0!==i[n]?i[n]:r[n]}e.defineOption("foldOptions",null),e.defineExtension("foldOption",(function(e,t){return i(this,e,t)}))}(n(3668))},7430:function(e,t,n){!function(e){"use strict";e.defineOption("foldGutter",!1,(function(t,i,o){o&&o!=e.Init&&(t.clearGutter(t.state.foldGutter.options.gutter),t.state.foldGutter=null,t.off("gutterClick",c),t.off("changes",u),t.off("viewportChange",d),t.off("fold",f),t.off("unfold",f),t.off("swapDoc",u)),i&&(t.state.foldGutter=new n(r(i)),s(t),t.on("gutterClick",c),t.on("changes",u),t.on("viewportChange",d),t.on("fold",f),t.on("unfold",f),t.on("swapDoc",u))}));var t=e.Pos;function n(e){this.options=e,this.from=this.to=0}function r(e){return!0===e&&(e={}),null==e.gutter&&(e.gutter="CodeMirror-foldgutter"),null==e.indicatorOpen&&(e.indicatorOpen="CodeMirror-foldgutter-open"),null==e.indicatorFolded&&(e.indicatorFolded="CodeMirror-foldgutter-folded"),e}function i(e,n){for(var r=e.findMarks(t(n,0),t(n+1,0)),i=0;i<r.length;++i)if(r[i].__isFold){var o=r[i].find(-1);if(o&&o.line===n)return r[i]}}function o(e){if("string"==typeof e){var t=document.createElement("div");return t.className=e+" CodeMirror-guttermarker-subtle",t}return e.cloneNode(!0)}function a(e,n,r){var a=e.state.foldGutter.options,s=n-1,c=e.foldOption(a,"minFoldSize"),u=e.foldOption(a,"rangeFinder"),d="string"==typeof a.indicatorFolded&&l(a.indicatorFolded),f="string"==typeof a.indicatorOpen&&l(a.indicatorOpen);e.eachLine(n,r,(function(n){++s;var r=null,l=n.gutterMarkers;if(l&&(l=l[a.gutter]),i(e,s)){if(d&&l&&d.test(l.className))return;r=o(a.indicatorFolded)}else{var p=t(s,0),h=u&&u(e,p);if(h&&h.to.line-h.from.line>=c){if(f&&l&&f.test(l.className))return;r=o(a.indicatorOpen)}}(r||l)&&e.setGutterMarker(n,a.gutter,r)}))}function l(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function s(e){var t=e.getViewport(),n=e.state.foldGutter;n&&(e.operation((function(){a(e,t.from,t.to)})),n.from=t.from,n.to=t.to)}function c(e,n,r){var o=e.state.foldGutter;if(o){var a=o.options;if(r==a.gutter){var l=i(e,n);l?l.clear():e.foldCode(t(n,0),a)}}}function u(e){var t=e.state.foldGutter;if(t){var n=t.options;t.from=t.to=0,clearTimeout(t.changeUpdate),t.changeUpdate=setTimeout((function(){s(e)}),n.foldOnChangeTimeSpan||600)}}function d(e){var t=e.state.foldGutter;if(t){var n=t.options;clearTimeout(t.changeUpdate),t.changeUpdate=setTimeout((function(){var n=e.getViewport();t.from==t.to||n.from-t.to>20||t.from-n.to>20?s(e):e.operation((function(){n.from<t.from&&(a(e,n.from,t.from),t.from=n.from),n.to>t.to&&(a(e,t.to,n.to),t.to=n.to)}))}),n.updateViewportTimeSpan||400)}}function f(e,t){var n=e.state.foldGutter;if(n){var r=t.line;r>=n.from&&r<n.to&&a(e,r,r+1)}}}(n(3668),n(2219))},2725:function(e,t,n){!function(e){"use strict";function t(t,n){var r=t.getLine(n),i=r.search(/\S/);return-1==i||/\bcomment\b/.test(t.getTokenTypeAt(e.Pos(n,i+1)))?-1:e.countColumn(r,null,t.getOption("tabSize"))}e.registerHelper("fold","indent",(function(n,r){var i=t(n,r.line);if(!(i<0)){for(var o=null,a=r.line+1,l=n.lastLine();a<=l;++a){var s=t(n,a);if(-1==s);else{if(!(s>i))break;o=a}}return o?{from:e.Pos(r.line,n.getLine(r.line).length),to:e.Pos(o,n.getLine(o).length)}:void 0}}))}(n(3668))},3299:function(e,t,n){!function(e){"use strict";e.registerHelper("fold","markdown",(function(t,n){var r=100;function i(n){var r=t.getTokenTypeAt(e.Pos(n,0));return r&&/\bheader\b/.test(r)}function o(e,t,n){var o=t&&t.match(/^#+/);return o&&i(e)?o[0].length:(o=n&&n.match(/^[=\-]+\s*$/))&&i(e+1)?"="==n[0]?1:2:r}var a=t.getLine(n.line),l=t.getLine(n.line+1),s=o(n.line,a,l);if(s!==r){for(var c=t.lastLine(),u=n.line,d=t.getLine(u+2);u<c&&!(o(u+1,l,d)<=s);)++u,l=d,d=t.getLine(u+2);return{from:e.Pos(n.line,a.length),to:e.Pos(u,t.getLine(u).length)}}}))}(n(3668))},3259:function(e,t,n){!function(e){"use strict";var t=e.Pos;function n(e,t){return e.line-t.line||e.ch-t.ch}var r="A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",i=new RegExp("<(/?)(["+r+"]["+r+"-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*)","g");function o(e,t,n,r){this.line=t,this.ch=n,this.cm=e,this.text=e.getLine(t),this.min=r?Math.max(r.from,e.firstLine()):e.firstLine(),this.max=r?Math.min(r.to-1,e.lastLine()):e.lastLine()}function a(e,n){var r=e.cm.getTokenTypeAt(t(e.line,n));return r&&/\btag\b/.test(r)}function l(e){if(!(e.line>=e.max))return e.ch=0,e.text=e.cm.getLine(++e.line),!0}function s(e){if(!(e.line<=e.min))return e.text=e.cm.getLine(--e.line),e.ch=e.text.length,!0}function c(e){for(;;){var t=e.text.indexOf(">",e.ch);if(-1==t){if(l(e))continue;return}if(a(e,t+1)){var n=e.text.lastIndexOf("/",t),r=n>-1&&!/\S/.test(e.text.slice(n+1,t));return e.ch=t+1,r?"selfClose":"regular"}e.ch=t+1}}function u(e){for(;;){var t=e.ch?e.text.lastIndexOf("<",e.ch-1):-1;if(-1==t){if(s(e))continue;return}if(a(e,t+1)){i.lastIndex=t,e.ch=t;var n=i.exec(e.text);if(n&&n.index==t)return n}else e.ch=t}}function d(e){for(;;){i.lastIndex=e.ch;var t=i.exec(e.text);if(!t){if(l(e))continue;return}if(a(e,t.index+1))return e.ch=t.index+t[0].length,t;e.ch=t.index+1}}function f(e){for(;;){var t=e.ch?e.text.lastIndexOf(">",e.ch-1):-1;if(-1==t){if(s(e))continue;return}if(a(e,t+1)){var n=e.text.lastIndexOf("/",t),r=n>-1&&!/\S/.test(e.text.slice(n+1,t));return e.ch=t+1,r?"selfClose":"regular"}e.ch=t}}function p(e,n){for(var r=[];;){var i,o=d(e),a=e.line,l=e.ch-(o?o[0].length:0);if(!o||!(i=c(e)))return;if("selfClose"!=i)if(o[1]){for(var s=r.length-1;s>=0;--s)if(r[s]==o[2]){r.length=s;break}if(s<0&&(!n||n==o[2]))return{tag:o[2],from:t(a,l),to:t(e.line,e.ch)}}else r.push(o[2])}}function h(e,n){for(var r=[];;){var i=f(e);if(!i)return;if("selfClose"!=i){var o=e.line,a=e.ch,l=u(e);if(!l)return;if(l[1])r.push(l[2]);else{for(var s=r.length-1;s>=0;--s)if(r[s]==l[2]){r.length=s;break}if(s<0&&(!n||n==l[2]))return{tag:l[2],from:t(e.line,e.ch),to:t(o,a)}}}else u(e)}}e.registerHelper("fold","xml",(function(e,r){for(var i=new o(e,r.line,0);;){var a=d(i);if(!a||i.line!=r.line)return;var l=c(i);if(!l)return;if(!a[1]&&"selfClose"!=l){var s=t(i.line,i.ch),u=p(i,a[2]);return u&&n(u.from,s)>0?{from:s,to:u.from}:null}}})),e.findMatchingTag=function(e,r,i){var a=new o(e,r.line,r.ch,i);if(-1!=a.text.indexOf(">")||-1!=a.text.indexOf("<")){var l=c(a),s=l&&t(a.line,a.ch),d=l&&u(a);if(l&&d&&!(n(a,r)>0)){var f={from:t(a.line,a.ch),to:s,tag:d[2]};return"selfClose"==l?{open:f,close:null,at:"open"}:d[1]?{open:h(a,d[2]),close:f,at:"close"}:{open:f,close:p(a=new o(e,s.line,s.ch,i),d[2]),at:"open"}}}},e.findEnclosingTag=function(e,t,n,r){for(var i=new o(e,t.line,t.ch,n);;){var a=h(i,r);if(!a)break;var l=p(new o(e,t.line,t.ch,n),a.tag);if(l)return{open:a,close:l}}},e.scanForClosingTag=function(e,t,n,r){return p(new o(e,t.line,t.ch,r?{from:0,to:r}:null),n)}}(n(3668))},2322:function(e,t,n){!function(e){"use strict";var t="CodeMirror-hint",n="CodeMirror-hint-active";function r(e,t){if(this.cm=e,this.options=t,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length,this.options.updateOnCursorActivity){var n=this;e.on("cursorActivity",this.activityFunc=function(){n.cursorActivity()})}}e.showHint=function(e,t,n){if(!t)return e.showHint(n);n&&n.async&&(t.async=!0);var r={hint:t};if(n)for(var i in n)r[i]=n[i];return e.showHint(r)},e.defineExtension("showHint",(function(t){t=a(this,this.getCursor("start"),t);var n=this.listSelections();if(!(n.length>1)){if(this.somethingSelected()){if(!t.hint.supportsSelection)return;for(var i=0;i<n.length;i++)if(n[i].head.line!=n[i].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var o=this.state.completionActive=new r(this,t);o.options.hint&&(e.signal(this,"startCompletion",this),o.update(!0))}})),e.defineExtension("closeHint",(function(){this.state.completionActive&&this.state.completionActive.close()}));var i=window.requestAnimationFrame||function(e){return setTimeout(e,1e3/60)},o=window.cancelAnimationFrame||clearTimeout;function a(e,t,n){var r=e.options.hintOptions,i={};for(var o in h)i[o]=h[o];if(r)for(var o in r)void 0!==r[o]&&(i[o]=r[o]);if(n)for(var o in n)void 0!==n[o]&&(i[o]=n[o]);return i.hint.resolve&&(i.hint=i.hint.resolve(e,t)),i}function l(e){return"string"==typeof e?e:e.text}function s(e,t){var n={Up:function(){t.moveFocus(-1)},Down:function(){t.moveFocus(1)},PageUp:function(){t.moveFocus(1-t.menuSize(),!0)},PageDown:function(){t.moveFocus(t.menuSize()-1,!0)},Home:function(){t.setFocus(0)},End:function(){t.setFocus(t.length-1)},Enter:t.pick,Tab:t.pick,Esc:t.close};/Mac/.test(navigator.platform)&&(n["Ctrl-P"]=function(){t.moveFocus(-1)},n["Ctrl-N"]=function(){t.moveFocus(1)});var r=e.options.customKeys,i=r?{}:n;function o(e,r){var o;o="string"!=typeof r?function(e){return r(e,t)}:n.hasOwnProperty(r)?n[r]:r,i[e]=o}if(r)for(var a in r)r.hasOwnProperty(a)&&o(a,r[a]);var l=e.options.extraKeys;if(l)for(var a in l)l.hasOwnProperty(a)&&o(a,l[a]);return i}function c(e,t){for(;t&&t!=e;){if("LI"===t.nodeName.toUpperCase()&&t.parentNode==e)return t;t=t.parentNode}}function u(r,i){this.id="cm-complete-"+Math.floor(Math.random(1e6)),this.completion=r,this.data=i,this.picked=!1;var o=this,a=r.cm,u=a.getInputField().ownerDocument,d=u.defaultView||u.parentWindow,f=this.hints=u.createElement("ul");f.setAttribute("role","listbox"),f.setAttribute("aria-expanded","true"),f.id=this.id;var p=r.cm.options.theme;f.className="CodeMirror-hints "+p,this.selectedHint=i.selectedHint||0;for(var h=i.list,m=0;m<h.length;++m){var v=f.appendChild(u.createElement("li")),g=h[m],y=t+(m!=this.selectedHint?"":" "+n);null!=g.className&&(y=g.className+" "+y),v.className=y,m==this.selectedHint&&v.setAttribute("aria-selected","true"),v.id=this.id+"-"+m,v.setAttribute("role","option"),g.render?g.render(v,i,g):v.appendChild(u.createTextNode(g.displayText||l(g))),v.hintId=m}var b=r.options.container||u.body,x=a.cursorCoords(r.options.alignWithWord?i.from:null),w=x.left,k=x.bottom,C=!0,S=0,N=0;if(b!==u.body){var T=-1!==["absolute","relative","fixed"].indexOf(d.getComputedStyle(b).position)?b:b.offsetParent,L=T.getBoundingClientRect(),E=u.body.getBoundingClientRect();S=L.left-E.left-T.scrollLeft,N=L.top-E.top-T.scrollTop}f.style.left=w-S+"px",f.style.top=k-N+"px";var _=d.innerWidth||Math.max(u.body.offsetWidth,u.documentElement.offsetWidth),j=d.innerHeight||Math.max(u.body.offsetHeight,u.documentElement.offsetHeight);b.appendChild(f),a.getInputField().setAttribute("aria-autocomplete","list"),a.getInputField().setAttribute("aria-owns",this.id),a.getInputField().setAttribute("aria-activedescendant",this.id+"-"+this.selectedHint);var O,M=r.options.moveOnOverlap?f.getBoundingClientRect():new DOMRect,I=!!r.options.paddingForScrollbar&&f.scrollHeight>f.clientHeight+1;if(setTimeout((function(){O=a.getScrollInfo()})),M.bottom-j>0){var A=M.bottom-M.top;if(x.top-(x.bottom-M.top)-A>0)f.style.top=(k=x.top-A-N)+"px",C=!1;else if(A>j){f.style.height=j-5+"px",f.style.top=(k=x.bottom-M.top-N)+"px";var F=a.getCursor();i.from.ch!=F.ch&&(x=a.cursorCoords(F),f.style.left=(w=x.left-S)+"px",M=f.getBoundingClientRect())}}var D,P=M.right-_;if(I&&(P+=a.display.nativeBarWidth),P>0&&(M.right-M.left>_&&(f.style.width=_-5+"px",P-=M.right-M.left-_),f.style.left=(w=x.left-P-S)+"px"),I)for(var V=f.firstChild;V;V=V.nextSibling)V.style.paddingRight=a.display.nativeBarWidth+"px";a.addKeyMap(this.keyMap=s(r,{moveFocus:function(e,t){o.changeActive(o.selectedHint+e,t)},setFocus:function(e){o.changeActive(e)},menuSize:function(){return o.screenAmount()},length:h.length,close:function(){r.close()},pick:function(){o.pick()},data:i})),r.options.closeOnUnfocus&&(a.on("blur",this.onBlur=function(){D=setTimeout((function(){r.close()}),100)}),a.on("focus",this.onFocus=function(){clearTimeout(D)})),a.on("scroll",this.onScroll=function(){var e=a.getScrollInfo(),t=a.getWrapperElement().getBoundingClientRect();O||(O=a.getScrollInfo());var n=k+O.top-e.top,i=n-(d.pageYOffset||(u.documentElement||u.body).scrollTop);if(C||(i+=f.offsetHeight),i<=t.top||i>=t.bottom)return r.close();f.style.top=n+"px",f.style.left=w+O.left-e.left+"px"}),e.on(f,"dblclick",(function(e){var t=c(f,e.target||e.srcElement);t&&null!=t.hintId&&(o.changeActive(t.hintId),o.pick())})),e.on(f,"click",(function(e){var t=c(f,e.target||e.srcElement);t&&null!=t.hintId&&(o.changeActive(t.hintId),r.options.completeOnSingleClick&&o.pick())})),e.on(f,"mousedown",(function(){setTimeout((function(){a.focus()}),20)}));var z=this.getSelectedHintRange();return 0===z.from&&0===z.to||this.scrollToActive(),e.signal(i,"select",h[this.selectedHint],f.childNodes[this.selectedHint]),!0}function d(e,t){if(!e.somethingSelected())return t;for(var n=[],r=0;r<t.length;r++)t[r].supportsSelection&&n.push(t[r]);return n}function f(e,t,n,r){if(e.async)e(t,r,n);else{var i=e(t,n);i&&i.then?i.then(r):r(i)}}function p(t,n){var r,i=t.getHelpers(n,"hint");if(i.length){var o=function(e,t,n){var r=d(e,i);function o(i){if(i==r.length)return t(null);f(r[i],e,n,(function(e){e&&e.list.length>0?t(e):o(i+1)}))}o(0)};return o.async=!0,o.supportsSelection=!0,o}return(r=t.getHelper(t.getCursor(),"hintWords"))?function(t){return e.hint.fromList(t,{words:r})}:e.hint.anyword?function(t,n){return e.hint.anyword(t,n)}:function(){}}r.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.options.updateOnCursorActivity&&this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&e.signal(this.data,"close"),this.widget&&this.widget.close(),e.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(t,n){var r=t.list[n],i=this;this.cm.operation((function(){r.hint?r.hint(i.cm,t,r):i.cm.replaceRange(l(r),r.from||t.from,r.to||t.to,"complete"),e.signal(t,"pick",r),i.cm.scrollIntoView()})),this.options.closeOnPick&&this.close()},cursorActivity:function(){this.debounce&&(o(this.debounce),this.debounce=0);var e=this.startPos;this.data&&(e=this.data.from);var t=this.cm.getCursor(),n=this.cm.getLine(t.line);if(t.line!=this.startPos.line||n.length-t.ch!=this.startLen-this.startPos.ch||t.ch<e.ch||this.cm.somethingSelected()||!t.ch||this.options.closeCharacters.test(n.charAt(t.ch-1)))this.close();else{var r=this;this.debounce=i((function(){r.update()})),this.widget&&this.widget.disable()}},update:function(e){if(null!=this.tick){var t=this,n=++this.tick;f(this.options.hint,this.cm,this.options,(function(r){t.tick==n&&t.finishUpdate(r,e)}))}},finishUpdate:function(t,n){this.data&&e.signal(this.data,"update");var r=this.widget&&this.widget.picked||n&&this.options.completeSingle;this.widget&&this.widget.close(),this.data=t,t&&t.list.length&&(r&&1==t.list.length?this.pick(t,0):(this.widget=new u(this,t),e.signal(t,"shown")))}},u.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode&&this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var e=this.completion.cm.getInputField();e.removeAttribute("aria-activedescendant"),e.removeAttribute("aria-owns");var t=this.completion.cm;this.completion.options.closeOnUnfocus&&(t.off("blur",this.onBlur),t.off("focus",this.onFocus)),t.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var e=this;this.keyMap={Enter:function(){e.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(t,r){if(t>=this.data.list.length?t=r?this.data.list.length-1:0:t<0&&(t=r?0:this.data.list.length-1),this.selectedHint!=t){var i=this.hints.childNodes[this.selectedHint];i&&(i.className=i.className.replace(" "+n,""),i.removeAttribute("aria-selected")),(i=this.hints.childNodes[this.selectedHint=t]).className+=" "+n,i.setAttribute("aria-selected","true"),this.completion.cm.getInputField().setAttribute("aria-activedescendant",i.id),this.scrollToActive(),e.signal(this.data,"select",this.data.list[this.selectedHint],i)}},scrollToActive:function(){var e=this.getSelectedHintRange(),t=this.hints.childNodes[e.from],n=this.hints.childNodes[e.to],r=this.hints.firstChild;t.offsetTop<this.hints.scrollTop?this.hints.scrollTop=t.offsetTop-r.offsetTop:n.offsetTop+n.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=n.offsetTop+n.offsetHeight-this.hints.clientHeight+r.offsetTop)},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1},getSelectedHintRange:function(){var e=this.completion.options.scrollMargin||0;return{from:Math.max(0,this.selectedHint-e),to:Math.min(this.data.list.length-1,this.selectedHint+e)}}},e.registerHelper("hint","auto",{resolve:p}),e.registerHelper("hint","fromList",(function(t,n){var r,i=t.getCursor(),o=t.getTokenAt(i),a=e.Pos(i.line,o.start),l=i;o.start<i.ch&&/\w/.test(o.string.charAt(i.ch-o.start-1))?r=o.string.substr(0,i.ch-o.start):(r="",a=i);for(var s=[],c=0;c<n.words.length;c++){var u=n.words[c];u.slice(0,r.length)==r&&s.push(u)}if(s.length)return{list:s,from:a,to:l}})),e.commands.autocomplete=e.showHint;var h={hint:e.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnPick:!0,closeOnUnfocus:!0,updateOnCursorActivity:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null,paddingForScrollbar:!0,moveOnOverlap:!0};e.defineOption("hintOptions",null)}(n(3668))},3611:function(e,t,n){!function(e){"use strict";var t,n,r,i,o={QUERY_DIV:";",ALIAS_KEYWORD:"AS"},a=e.Pos,l=e.cmpPos;function s(e){return"[object Array]"==Object.prototype.toString.call(e)}function c(t){var n=t.doc.modeOption;return"sql"===n&&(n="text/x-sql"),e.resolveMode(n).keywords}function u(t){var n=t.doc.modeOption;return"sql"===n&&(n="text/x-sql"),e.resolveMode(n).identifierQuote||"`"}function d(e){return"string"==typeof e?e:e.text}function f(e,t){return s(t)&&(t={columns:t}),t.text||(t.text=e),t}function p(e){var t={};if(s(e))for(var n=e.length-1;n>=0;n--){var r=e[n];t[d(r).toUpperCase()]=f(d(r),r)}else if(e)for(var i in e)t[i.toUpperCase()]=f(i,e[i]);return t}function h(e){return t[e.toUpperCase()]}function m(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function v(e,t){var n=e.length,r=d(t).substr(0,n);return e.toUpperCase()===r.toUpperCase()}function g(e,t,n,r){if(s(n))for(var i=0;i<n.length;i++)v(t,n[i])&&e.push(r(n[i]));else for(var o in n)if(n.hasOwnProperty(o)){var a=n[o];v(t,a=a&&!0!==a?a.displayText?{text:a.text,displayText:a.displayText}:a.text:o)&&e.push(r(a))}}function y(e){"."==e.charAt(0)&&(e=e.substr(1));for(var t=e.split(i+i),n=0;n<t.length;n++)t[n]=t[n].replace(new RegExp(i,"g"),"");return t.join(i)}function b(e){for(var t=d(e).split("."),n=0;n<t.length;n++)t[n]=i+t[n].replace(new RegExp(i,"g"),i+i)+i;var r=t.join(".");return"string"==typeof e?r:((e=m(e)).text=r,e)}function x(e,r,o,l){for(var s=!1,c=[],u=r.start,d=!0;d;)d="."==r.string.charAt(0),s=s||r.string.charAt(0)==i,u=r.start,c.unshift(y(r.string)),"."==(r=l.getTokenAt(a(e.line,r.start))).string&&(d=!0,r=l.getTokenAt(a(e.line,r.start)));var f=c.join(".");g(o,f,t,(function(e){return s?b(e):e})),g(o,f,n,(function(e){return s?b(e):e})),f=c.pop();var p=c.join("."),v=!1,x=p;if(!h(p)){var w=p;(p=k(p,l))!==w&&(v=!0)}var C=h(p);return C&&C.columns&&(C=C.columns),C&&g(o,f,C,(function(e){var t=p;return 1==v&&(t=x),"string"==typeof e?e=t+"."+e:(e=m(e)).text=t+"."+e.text,s?b(e):e})),u}function w(e,t){for(var n=e.split(/\s+/),r=0;r<n.length;r++)n[r]&&t(n[r].replace(/[`,;]/g,""))}function k(e,t){for(var n=t.doc,r=n.getValue(),i=e.toUpperCase(),s="",c="",u=[],d={start:a(0,0),end:a(t.lastLine(),t.getLineHandle(t.lastLine()).length)},f=r.indexOf(o.QUERY_DIV);-1!=f;)u.push(n.posFromIndex(f)),f=r.indexOf(o.QUERY_DIV,f+1);u.unshift(a(0,0)),u.push(a(t.lastLine(),t.getLineHandle(t.lastLine()).text.length));for(var p=null,m=t.getCursor(),v=0;v<u.length;v++){if((null==p||l(m,p)>0)&&l(m,u[v])<=0){d={start:p,end:u[v]};break}p=u[v]}if(d.start){var g=n.getRange(d.start,d.end,!1);for(v=0;v<g.length&&(w(g[v],(function(e){var t=e.toUpperCase();t===i&&h(s)&&(c=s),t!==o.ALIAS_KEYWORD&&(s=e)})),!c);v++);}return c}e.registerHelper("hint","sql",(function(e,o){t=p(o&&o.tables);var l=o&&o.defaultTable,s=o&&o.disableKeywords;n=l&&h(l),r=c(e),i=u(e),l&&!n&&(n=k(l,e)),(n=n||[]).columns&&(n=n.columns);var d,f,m,v=e.getCursor(),y=[],b=e.getTokenAt(v);if(b.end>v.ch&&(b.end=v.ch,b.string=b.string.slice(0,v.ch-b.start)),b.string.match(/^[.`"'\w@][\w$#]*$/g)?(m=b.string,d=b.start,f=b.end):(d=f=v.ch,m=""),"."==m.charAt(0)||m.charAt(0)==i)d=x(v,b,y,e);else{var w=function(e,t){return"object"===typeof e?e.className=t:e={text:e,className:t},e};g(y,m,n,(function(e){return w(e,"CodeMirror-hint-table CodeMirror-hint-default-table")})),g(y,m,t,(function(e){return w(e,"CodeMirror-hint-table")})),s||g(y,m,r,(function(e){return w(e.toUpperCase(),"CodeMirror-hint-keyword")}))}return{list:y,from:a(v.line,d),to:a(v.line,f)}}))}(n(3668),n(2822))},5740:function(e,t,n){!function(e){"use strict";function t(e,t){function n(e){clearTimeout(r.doRedraw),r.doRedraw=setTimeout((function(){r.redraw()}),e)}this.cm=e,this.options=t,this.buttonHeight=t.scrollButtonHeight||e.getOption("scrollButtonHeight"),this.annotations=[],this.doRedraw=this.doUpdate=null,this.div=e.getWrapperElement().appendChild(document.createElement("div")),this.div.style.cssText="position: absolute; right: 0; top: 0; z-index: 7; pointer-events: none",this.computeScale();var r=this;e.on("refresh",this.resizeHandler=function(){clearTimeout(r.doUpdate),r.doUpdate=setTimeout((function(){r.computeScale()&&n(20)}),100)}),e.on("markerAdded",this.resizeHandler),e.on("markerCleared",this.resizeHandler),!1!==t.listenForChanges&&e.on("changes",this.changeHandler=function(){n(250)})}e.defineExtension("annotateScrollbar",(function(e){return"string"==typeof e&&(e={className:e}),new t(this,e)})),e.defineOption("scrollButtonHeight",0),t.prototype.computeScale=function(){var e=this.cm,t=(e.getWrapperElement().clientHeight-e.display.barHeight-2*this.buttonHeight)/e.getScrollerElement().scrollHeight;if(t!=this.hScale)return this.hScale=t,!0},t.prototype.update=function(e){this.annotations=e,this.redraw()},t.prototype.redraw=function(e){!1!==e&&this.computeScale();var t=this.cm,n=this.hScale,r=document.createDocumentFragment(),i=this.annotations,o=t.getOption("lineWrapping"),a=o&&1.5*t.defaultTextHeight(),l=null,s=null;function c(e,n){if(l!=e.line){l=e.line,s=t.getLineHandle(e.line);var r=t.getLineHandleVisualStart(s);r!=s&&(l=t.getLineNumber(r),s=r)}return s.widgets&&s.widgets.length||o&&s.height>a?t.charCoords(e,"local")[n?"top":"bottom"]:t.heightAtLine(s,"local")+(n?0:s.height)}var u=t.lastLine();if(t.display.barWidth)for(var d,f=0;f<i.length;f++){var p=i[f];if(!(p.to.line>u)){for(var h=d||c(p.from,!0)*n,m=c(p.to,!1)*n;f<i.length-1&&!(i[f+1].to.line>u)&&!((d=c(i[f+1].from,!0)*n)>m+.9);)m=c((p=i[++f]).to,!1)*n;if(m!=h){var v=Math.max(m-h,3),g=r.appendChild(document.createElement("div"));g.style.cssText="position: absolute; right: 0px; width: "+Math.max(t.display.barWidth-1,2)+"px; top: "+(h+this.buttonHeight)+"px; height: "+v+"px",g.className=this.options.className,p.id&&g.setAttribute("annotation-id",p.id)}}}this.div.textContent="",this.div.appendChild(r)},t.prototype.clear=function(){this.cm.off("refresh",this.resizeHandler),this.cm.off("markerAdded",this.resizeHandler),this.cm.off("markerCleared",this.resizeHandler),this.changeHandler&&this.cm.off("changes",this.changeHandler),this.div.parentNode.removeChild(this.div)}}(n(3668))},4454:function(e,t,n){!function(e){"use strict";var t={style:"matchhighlight",minChars:2,delay:100,wordsOnly:!1,annotateScrollbar:!1,showToken:!1,trim:!0};function n(e){for(var n in this.options={},t)this.options[n]=(e&&e.hasOwnProperty(n)?e:t)[n];this.overlay=this.timeout=null,this.matchesonscroll=null,this.active=!1}function r(e){var t=e.state.matchHighlighter;(t.active||e.hasFocus())&&o(e,t)}function i(e){var t=e.state.matchHighlighter;t.active||(t.active=!0,o(e,t))}function o(e,t){clearTimeout(t.timeout),t.timeout=setTimeout((function(){s(e)}),t.options.delay)}function a(e,t,n,r){var i=e.state.matchHighlighter;if(e.addOverlay(i.overlay=d(t,n,r)),i.options.annotateScrollbar&&e.showMatchesOnScrollbar){var o=n?new RegExp((/\w/.test(t.charAt(0))?"\\b":"")+t.replace(/[\\\[.+*?(){|^$]/g,"\\$&")+(/\w/.test(t.charAt(t.length-1))?"\\b":"")):t;i.matchesonscroll=e.showMatchesOnScrollbar(o,!1,{className:"CodeMirror-selection-highlight-scrollbar"})}}function l(e){var t=e.state.matchHighlighter;t.overlay&&(e.removeOverlay(t.overlay),t.overlay=null,t.matchesonscroll&&(t.matchesonscroll.clear(),t.matchesonscroll=null))}function s(e){e.operation((function(){var t=e.state.matchHighlighter;if(l(e),e.somethingSelected()||!t.options.showToken){var n=e.getCursor("from"),r=e.getCursor("to");if(n.line==r.line&&(!t.options.wordsOnly||c(e,n,r))){var i=e.getRange(n,r);t.options.trim&&(i=i.replace(/^\s+|\s+$/g,"")),i.length>=t.options.minChars&&a(e,i,!1,t.options.style)}}else{for(var o=!0===t.options.showToken?/[\w$]/:t.options.showToken,s=e.getCursor(),u=e.getLine(s.line),d=s.ch,f=d;d&&o.test(u.charAt(d-1));)--d;for(;f<u.length&&o.test(u.charAt(f));)++f;d<f&&a(e,u.slice(d,f),o,t.options.style)}}))}function c(e,t,n){if(null!==e.getRange(t,n).match(/^\w+$/)){if(t.ch>0){var r={line:t.line,ch:t.ch-1};if(null===e.getRange(r,t).match(/\W/))return!1}return!(n.ch<e.getLine(t.line).length&&(r={line:n.line,ch:n.ch+1},null===e.getRange(n,r).match(/\W/)))}return!1}function u(e,t){return(!e.start||!t.test(e.string.charAt(e.start-1)))&&(e.pos==e.string.length||!t.test(e.string.charAt(e.pos)))}function d(e,t,n){return{token:function(r){if(r.match(e)&&(!t||u(r,t)))return n;r.next(),r.skipTo(e.charAt(0))||r.skipToEnd()}}}e.defineOption("highlightSelectionMatches",!1,(function(t,o,a){if(a&&a!=e.Init&&(l(t),clearTimeout(t.state.matchHighlighter.timeout),t.state.matchHighlighter=null,t.off("cursorActivity",r),t.off("focus",i)),o){var c=t.state.matchHighlighter=new n(o);t.hasFocus()?(c.active=!0,s(t)):t.on("focus",i),t.on("cursorActivity",r)}}))}(n(3668),n(4418))},4418:function(e,t,n){!function(e){"use strict";function t(e,t,n,r){this.cm=e,this.options=r;var i={listenForChanges:!1};for(var o in r)i[o]=r[o];i.className||(i.className="CodeMirror-search-match"),this.annotation=e.annotateScrollbar(i),this.query=t,this.caseFold=n,this.gap={from:e.firstLine(),to:e.lastLine()+1},this.matches=[],this.update=null,this.findMatches(),this.annotation.update(this.matches);var a=this;e.on("change",this.changeHandler=function(e,t){a.onChange(t)})}e.defineExtension("showMatchesOnScrollbar",(function(e,n,r){return"string"==typeof r&&(r={className:r}),r||(r={}),new t(this,e,n,r)}));var n=1e3;function r(e,t,n){return e<=t?e:Math.max(t,e+n)}t.prototype.findMatches=function(){if(this.gap){for(var t=0;t<this.matches.length&&!((o=this.matches[t]).from.line>=this.gap.to);t++)o.to.line>=this.gap.from&&this.matches.splice(t--,1);for(var r=this.cm.getSearchCursor(this.query,e.Pos(this.gap.from,0),{caseFold:this.caseFold,multiline:this.options.multiline}),i=this.options&&this.options.maxMatches||n;r.findNext();){var o;if((o={from:r.from(),to:r.to()}).from.line>=this.gap.to)break;if(this.matches.splice(t++,0,o),this.matches.length>i)break}this.gap=null}},t.prototype.onChange=function(t){var n=t.from.line,i=e.changeEnd(t).line,o=i-t.to.line;if(this.gap?(this.gap.from=Math.min(r(this.gap.from,n,o),t.from.line),this.gap.to=Math.max(r(this.gap.to,n,o),t.from.line)):this.gap={from:t.from.line,to:i+1},o)for(var a=0;a<this.matches.length;a++){var l=this.matches[a],s=r(l.from.line,n,o);s!=l.from.line&&(l.from=e.Pos(s,l.from.ch));var c=r(l.to.line,n,o);c!=l.to.line&&(l.to=e.Pos(c,l.to.ch))}clearTimeout(this.update);var u=this;this.update=setTimeout((function(){u.updateAfterChange()}),250)},t.prototype.updateAfterChange=function(){this.findMatches(),this.annotation.update(this.matches)},t.prototype.clear=function(){this.cm.off("change",this.changeHandler),this.annotation.clear()}}(n(3668),n(6849),n(5740))},6849:function(e,t,n){!function(e){"use strict";var t,n,r=e.Pos;function i(e){var t=e.flags;return null!=t?t:(e.ignoreCase?"i":"")+(e.global?"g":"")+(e.multiline?"m":"")}function o(e,t){for(var n=i(e),r=n,o=0;o<t.length;o++)-1==r.indexOf(t.charAt(o))&&(r+=t.charAt(o));return n==r?e:new RegExp(e.source,r)}function a(e){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(e.source)}function l(e,t,n){t=o(t,"g");for(var i=n.line,a=n.ch,l=e.lastLine();i<=l;i++,a=0){t.lastIndex=a;var s=e.getLine(i),c=t.exec(s);if(c)return{from:r(i,c.index),to:r(i,c.index+c[0].length),match:c}}}function s(e,t,n){if(!a(t))return l(e,t,n);t=o(t,"gm");for(var i,s=1,c=n.line,u=e.lastLine();c<=u;){for(var d=0;d<s&&!(c>u);d++){var f=e.getLine(c++);i=null==i?f:i+"\n"+f}s*=2,t.lastIndex=n.ch;var p=t.exec(i);if(p){var h=i.slice(0,p.index).split("\n"),m=p[0].split("\n"),v=n.line+h.length-1,g=h[h.length-1].length;return{from:r(v,g),to:r(v+m.length-1,1==m.length?g+m[0].length:m[m.length-1].length),match:p}}}}function c(e,t,n){for(var r,i=0;i<=e.length;){t.lastIndex=i;var o=t.exec(e);if(!o)break;var a=o.index+o[0].length;if(a>e.length-n)break;(!r||a>r.index+r[0].length)&&(r=o),i=o.index+1}return r}function u(e,t,n){t=o(t,"g");for(var i=n.line,a=n.ch,l=e.firstLine();i>=l;i--,a=-1){var s=e.getLine(i),u=c(s,t,a<0?0:s.length-a);if(u)return{from:r(i,u.index),to:r(i,u.index+u[0].length),match:u}}}function d(e,t,n){if(!a(t))return u(e,t,n);t=o(t,"gm");for(var i,l=1,s=e.getLine(n.line).length-n.ch,d=n.line,f=e.firstLine();d>=f;){for(var p=0;p<l&&d>=f;p++){var h=e.getLine(d--);i=null==i?h:h+"\n"+i}l*=2;var m=c(i,t,s);if(m){var v=i.slice(0,m.index).split("\n"),g=m[0].split("\n"),y=d+v.length,b=v[v.length-1].length;return{from:r(y,b),to:r(y+g.length-1,1==g.length?b+g[0].length:g[g.length-1].length),match:m}}}}function f(e,t,n,r){if(e.length==t.length)return n;for(var i=0,o=n+Math.max(0,e.length-t.length);;){if(i==o)return i;var a=i+o>>1,l=r(e.slice(0,a)).length;if(l==n)return a;l>n?o=a:i=a+1}}function p(e,i,o,a){if(!i.length)return null;var l=a?t:n,s=l(i).split(/\r|\n\r?/);e:for(var c=o.line,u=o.ch,d=e.lastLine()+1-s.length;c<=d;c++,u=0){var p=e.getLine(c).slice(u),h=l(p);if(1==s.length){var m=h.indexOf(s[0]);if(-1==m)continue e;return o=f(p,h,m,l)+u,{from:r(c,f(p,h,m,l)+u),to:r(c,f(p,h,m+s[0].length,l)+u)}}var v=h.length-s[0].length;if(h.slice(v)==s[0]){for(var g=1;g<s.length-1;g++)if(l(e.getLine(c+g))!=s[g])continue e;var y=e.getLine(c+s.length-1),b=l(y),x=s[s.length-1];if(b.slice(0,x.length)==x)return{from:r(c,f(p,h,v,l)+u),to:r(c+s.length-1,f(y,b,x.length,l))}}}}function h(e,i,o,a){if(!i.length)return null;var l=a?t:n,s=l(i).split(/\r|\n\r?/);e:for(var c=o.line,u=o.ch,d=e.firstLine()-1+s.length;c>=d;c--,u=-1){var p=e.getLine(c);u>-1&&(p=p.slice(0,u));var h=l(p);if(1==s.length){var m=h.lastIndexOf(s[0]);if(-1==m)continue e;return{from:r(c,f(p,h,m,l)),to:r(c,f(p,h,m+s[0].length,l))}}var v=s[s.length-1];if(h.slice(0,v.length)==v){var g=1;for(o=c-s.length+1;g<s.length-1;g++)if(l(e.getLine(o+g))!=s[g])continue e;var y=e.getLine(c+1-s.length),b=l(y);if(b.slice(b.length-s[0].length)==s[0])return{from:r(c+1-s.length,f(y,b,y.length-s[0].length,l)),to:r(c,f(p,h,v.length,l))}}}}function m(e,t,n,i){var a;this.atOccurrence=!1,this.doc=e,n=n?e.clipPos(n):r(0,0),this.pos={from:n,to:n},"object"==typeof i?a=i.caseFold:(a=i,i=null),"string"==typeof t?(null==a&&(a=!1),this.matches=function(n,r){return(n?h:p)(e,t,r,a)}):(t=o(t,"gm"),i&&!1===i.multiline?this.matches=function(n,r){return(n?u:l)(e,t,r)}:this.matches=function(n,r){return(n?d:s)(e,t,r)})}String.prototype.normalize?(t=function(e){return e.normalize("NFD").toLowerCase()},n=function(e){return e.normalize("NFD")}):(t=function(e){return e.toLowerCase()},n=function(e){return e}),m.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(t){for(var n=this.matches(t,this.doc.clipPos(t?this.pos.from:this.pos.to));n&&0==e.cmpPos(n.from,n.to);)t?n.from.ch?n.from=r(n.from.line,n.from.ch-1):n=n.from.line==this.doc.firstLine()?null:this.matches(t,this.doc.clipPos(r(n.from.line-1))):n.to.ch<this.doc.getLine(n.to.line).length?n.to=r(n.to.line,n.to.ch+1):n=n.to.line==this.doc.lastLine()?null:this.matches(t,r(n.to.line+1,0));if(n)return this.pos=n,this.atOccurrence=!0,this.pos.match||!0;var i=r(t?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:i,to:i},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(t,n){if(this.atOccurrence){var i=e.splitLines(t);this.doc.replaceRange(i,this.pos.from,this.pos.to,n),this.pos.to=r(this.pos.from.line+i.length-1,i[i.length-1].length+(1==i.length?this.pos.from.ch:0))}}},e.defineExtension("getSearchCursor",(function(e,t,n){return new m(this.doc,e,t,n)})),e.defineDocExtension("getSearchCursor",(function(e,t,n){return new m(this,e,t,n)})),e.defineExtension("selectMatches",(function(t,n){for(var r=[],i=this.getSearchCursor(t,this.getCursor("from"),n);i.findNext()&&!(e.cmpPos(i.to(),this.getCursor("to"))>0);)r.push({anchor:i.from(),head:i.to()});r.length&&this.setSelections(r,0)}))}(n(3668))},8306:function(e,t,n){!function(e){"use strict";var t=e.commands,n=e.Pos;function r(t,r,i){if(i<0&&0==r.ch)return t.clipPos(n(r.line-1));var o=t.getLine(r.line);if(i>0&&r.ch>=o.length)return t.clipPos(n(r.line+1,0));for(var a,l="start",s=r.ch,c=s,u=i<0?0:o.length,d=0;c!=u;c+=i,d++){var f=o.charAt(i<0?c-1:c),p="_"!=f&&e.isWordChar(f)?"w":"o";if("w"==p&&f.toUpperCase()==f&&(p="W"),"start"==l)"o"!=p?(l="in",a=p):s=c+i;else if("in"==l&&a!=p){if("w"==a&&"W"==p&&i<0&&c--,"W"==a&&"w"==p&&i>0){if(c==s+1){a="w";continue}c--}break}}return n(r.line,c)}function i(e,t){e.extendSelectionsBy((function(n){return e.display.shift||e.doc.extend||n.empty()?r(e.doc,n.head,t):t<0?n.from():n.to()}))}function o(t,r){if(t.isReadOnly())return e.Pass;t.operation((function(){for(var e=t.listSelections().length,i=[],o=-1,a=0;a<e;a++){var l=t.listSelections()[a].head;if(!(l.line<=o)){var s=n(l.line+(r?0:1),0);t.replaceRange("\n",s,null,"+insertLine"),t.indentLine(s.line,null,!0),i.push({head:s,anchor:s}),o=l.line+1}}t.setSelections(i)})),t.execCommand("indentAuto")}function a(t,r){for(var i=r.ch,o=i,a=t.getLine(r.line);i&&e.isWordChar(a.charAt(i-1));)--i;for(;o<a.length&&e.isWordChar(a.charAt(o));)++o;return{from:n(r.line,i),to:n(r.line,o),word:a.slice(i,o)}}function l(e,t){for(var n=e.listSelections(),r=[],i=0;i<n.length;i++){var o=n[i],a=e.findPosV(o.anchor,t,"line",o.anchor.goalColumn),l=e.findPosV(o.head,t,"line",o.head.goalColumn);a.goalColumn=null!=o.anchor.goalColumn?o.anchor.goalColumn:e.cursorCoords(o.anchor,"div").left,l.goalColumn=null!=o.head.goalColumn?o.head.goalColumn:e.cursorCoords(o.head,"div").left;var s={anchor:a,head:l};r.push(o),r.push(s)}e.setSelections(r)}function s(t,n,r){for(var i=0;i<t.length;i++)if(0==e.cmpPos(t[i].from(),n)&&0==e.cmpPos(t[i].to(),r))return!0;return!1}t.goSubwordLeft=function(e){i(e,-1)},t.goSubwordRight=function(e){i(e,1)},t.scrollLineUp=function(e){var t=e.getScrollInfo();if(!e.somethingSelected()){var n=e.lineAtHeight(t.top+t.clientHeight,"local");e.getCursor().line>=n&&e.execCommand("goLineUp")}e.scrollTo(null,t.top-e.defaultTextHeight())},t.scrollLineDown=function(e){var t=e.getScrollInfo();if(!e.somethingSelected()){var n=e.lineAtHeight(t.top,"local")+1;e.getCursor().line<=n&&e.execCommand("goLineDown")}e.scrollTo(null,t.top+e.defaultTextHeight())},t.splitSelectionByLine=function(e){for(var t=e.listSelections(),r=[],i=0;i<t.length;i++)for(var o=t[i].from(),a=t[i].to(),l=o.line;l<=a.line;++l)a.line>o.line&&l==a.line&&0==a.ch||r.push({anchor:l==o.line?o:n(l,0),head:l==a.line?a:n(l)});e.setSelections(r,0)},t.singleSelectionTop=function(e){var t=e.listSelections()[0];e.setSelection(t.anchor,t.head,{scroll:!1})},t.selectLine=function(e){for(var t=e.listSelections(),r=[],i=0;i<t.length;i++){var o=t[i];r.push({anchor:n(o.from().line,0),head:n(o.to().line+1,0)})}e.setSelections(r)},t.insertLineAfter=function(e){return o(e,!1)},t.insertLineBefore=function(e){return o(e,!0)},t.selectNextOccurrence=function(t){var r=t.getCursor("from"),i=t.getCursor("to"),o=t.state.sublimeFindFullWord==t.doc.sel;if(0==e.cmpPos(r,i)){var l=a(t,r);if(!l.word)return;t.setSelection(l.from,l.to),o=!0}else{var c=t.getRange(r,i),u=o?new RegExp("\\b"+c+"\\b"):c,d=t.getSearchCursor(u,i),f=d.findNext();if(f||(f=(d=t.getSearchCursor(u,n(t.firstLine(),0))).findNext()),!f||s(t.listSelections(),d.from(),d.to()))return;t.addSelection(d.from(),d.to())}o&&(t.state.sublimeFindFullWord=t.doc.sel)},t.skipAndSelectNextOccurrence=function(n){var r=n.getCursor("anchor"),i=n.getCursor("head");t.selectNextOccurrence(n),0!=e.cmpPos(r,i)&&n.doc.setSelections(n.doc.listSelections().filter((function(e){return e.anchor!=r||e.head!=i})))},t.addCursorToPrevLine=function(e){l(e,-1)},t.addCursorToNextLine=function(e){l(e,1)};var c="(){}[]";function u(t){for(var r=t.listSelections(),i=[],o=0;o<r.length;o++){var a=r[o],l=a.head,s=t.scanForBracket(l,-1);if(!s)return!1;for(;;){var u=t.scanForBracket(l,1);if(!u)return!1;if(u.ch==c.charAt(c.indexOf(s.ch)+1)){var d=n(s.pos.line,s.pos.ch+1);if(0!=e.cmpPos(d,a.from())||0!=e.cmpPos(u.pos,a.to())){i.push({anchor:d,head:u.pos});break}if(!(s=t.scanForBracket(s.pos,-1)))return!1}l=n(u.pos.line,u.pos.ch+1)}}return t.setSelections(i),!0}function d(e){return e?/\bpunctuation\b/.test(e)?e:void 0:null}function f(t,r,i){if(t.isReadOnly())return e.Pass;for(var o,a=t.listSelections(),l=[],s=0;s<a.length;s++){var c=a[s];if(!c.empty()){for(var u=c.from().line,d=c.to().line;s<a.length-1&&a[s+1].from().line==d;)d=a[++s].to().line;a[s].to().ch||d--,l.push(u,d)}}l.length?o=!0:l.push(t.firstLine(),t.lastLine()),t.operation((function(){for(var e=[],a=0;a<l.length;a+=2){var s=l[a],c=l[a+1],u=n(s,0),d=n(c),f=t.getRange(u,d,!1);r?f.sort((function(e,t){return e<t?-i:e==t?0:i})):f.sort((function(e,t){var n=e.toUpperCase(),r=t.toUpperCase();return n!=r&&(e=n,t=r),e<t?-i:e==t?0:i})),t.replaceRange(f,u,d),o&&e.push({anchor:u,head:n(c+1,0)})}o&&t.setSelections(e,0)}))}function p(t,n){t.operation((function(){for(var r=t.listSelections(),i=[],o=[],l=0;l<r.length;l++)(c=r[l]).empty()?(i.push(l),o.push("")):o.push(n(t.getRange(c.from(),c.to())));var s;for(t.replaceSelections(o,"around","case"),l=i.length-1;l>=0;l--){var c=r[i[l]];if(!(s&&e.cmpPos(c.head,s)>0)){var u=a(t,c.head);s=u.from,t.replaceRange(n(u.word),u.from,u.to)}}}))}function h(t){var n=t.getCursor("from"),r=t.getCursor("to");if(0==e.cmpPos(n,r)){var i=a(t,n);if(!i.word)return;n=i.from,r=i.to}return{from:n,to:r,query:t.getRange(n,r),word:i}}function m(e,t){var r=h(e);if(r){var i=r.query,o=e.getSearchCursor(i,t?r.to:r.from);(t?o.findNext():o.findPrevious())?e.setSelection(o.from(),o.to()):(o=e.getSearchCursor(i,t?n(e.firstLine(),0):e.clipPos(n(e.lastLine()))),(t?o.findNext():o.findPrevious())?e.setSelection(o.from(),o.to()):r.word&&e.setSelection(r.from,r.to))}}t.selectScope=function(e){u(e)||e.execCommand("selectAll")},t.selectBetweenBrackets=function(t){if(!u(t))return e.Pass},t.goToBracket=function(t){t.extendSelectionsBy((function(r){var i=t.scanForBracket(r.head,1,d(t.getTokenTypeAt(r.head)));if(i&&0!=e.cmpPos(i.pos,r.head))return i.pos;var o=t.scanForBracket(r.head,-1,d(t.getTokenTypeAt(n(r.head.line,r.head.ch+1))));return o&&n(o.pos.line,o.pos.ch+1)||r.head}))},t.swapLineUp=function(t){if(t.isReadOnly())return e.Pass;for(var r=t.listSelections(),i=[],o=t.firstLine()-1,a=[],l=0;l<r.length;l++){var s=r[l],c=s.from().line-1,u=s.to().line;a.push({anchor:n(s.anchor.line-1,s.anchor.ch),head:n(s.head.line-1,s.head.ch)}),0!=s.to().ch||s.empty()||--u,c>o?i.push(c,u):i.length&&(i[i.length-1]=u),o=u}t.operation((function(){for(var e=0;e<i.length;e+=2){var r=i[e],o=i[e+1],l=t.getLine(r);t.replaceRange("",n(r,0),n(r+1,0),"+swapLine"),o>t.lastLine()?t.replaceRange("\n"+l,n(t.lastLine()),null,"+swapLine"):t.replaceRange(l+"\n",n(o,0),null,"+swapLine")}t.setSelections(a),t.scrollIntoView()}))},t.swapLineDown=function(t){if(t.isReadOnly())return e.Pass;for(var r=t.listSelections(),i=[],o=t.lastLine()+1,a=r.length-1;a>=0;a--){var l=r[a],s=l.to().line+1,c=l.from().line;0!=l.to().ch||l.empty()||s--,s<o?i.push(s,c):i.length&&(i[i.length-1]=c),o=c}t.operation((function(){for(var e=i.length-2;e>=0;e-=2){var r=i[e],o=i[e+1],a=t.getLine(r);r==t.lastLine()?t.replaceRange("",n(r-1),n(r),"+swapLine"):t.replaceRange("",n(r,0),n(r+1,0),"+swapLine"),t.replaceRange(a+"\n",n(o,0),null,"+swapLine")}t.scrollIntoView()}))},t.toggleCommentIndented=function(e){e.toggleComment({indent:!0})},t.joinLines=function(e){for(var t=e.listSelections(),r=[],i=0;i<t.length;i++){for(var o=t[i],a=o.from(),l=a.line,s=o.to().line;i<t.length-1&&t[i+1].from().line==s;)s=t[++i].to().line;r.push({start:l,end:s,anchor:!o.empty()&&a})}e.operation((function(){for(var t=0,i=[],o=0;o<r.length;o++){for(var a,l=r[o],s=l.anchor&&n(l.anchor.line-t,l.anchor.ch),c=l.start;c<=l.end;c++){var u=c-t;c==l.end&&(a=n(u,e.getLine(u).length+1)),u<e.lastLine()&&(e.replaceRange(" ",n(u),n(u+1,/^\s*/.exec(e.getLine(u+1))[0].length)),++t)}i.push({anchor:s||a,head:a})}e.setSelections(i,0)}))},t.duplicateLine=function(e){e.operation((function(){for(var t=e.listSelections().length,r=0;r<t;r++){var i=e.listSelections()[r];i.empty()?e.replaceRange(e.getLine(i.head.line)+"\n",n(i.head.line,0)):e.replaceRange(e.getRange(i.from(),i.to()),i.from())}e.scrollIntoView()}))},t.sortLines=function(e){f(e,!0,1)},t.reverseSortLines=function(e){f(e,!0,-1)},t.sortLinesInsensitive=function(e){f(e,!1,1)},t.reverseSortLinesInsensitive=function(e){f(e,!1,-1)},t.nextBookmark=function(e){var t=e.state.sublimeBookmarks;if(t)for(;t.length;){var n=t.shift(),r=n.find();if(r)return t.push(n),e.setSelection(r.from,r.to)}},t.prevBookmark=function(e){var t=e.state.sublimeBookmarks;if(t)for(;t.length;){t.unshift(t.pop());var n=t[t.length-1].find();if(n)return e.setSelection(n.from,n.to);t.pop()}},t.toggleBookmark=function(e){for(var t=e.listSelections(),n=e.state.sublimeBookmarks||(e.state.sublimeBookmarks=[]),r=0;r<t.length;r++){for(var i=t[r].from(),o=t[r].to(),a=t[r].empty()?e.findMarksAt(i):e.findMarks(i,o),l=0;l<a.length;l++)if(a[l].sublimeBookmark){a[l].clear();for(var s=0;s<n.length;s++)n[s]==a[l]&&n.splice(s--,1);break}l==a.length&&n.push(e.markText(i,o,{sublimeBookmark:!0,clearWhenEmpty:!1}))}},t.clearBookmarks=function(e){var t=e.state.sublimeBookmarks;if(t)for(var n=0;n<t.length;n++)t[n].clear();t.length=0},t.selectBookmarks=function(e){var t=e.state.sublimeBookmarks,n=[];if(t)for(var r=0;r<t.length;r++){var i=t[r].find();i?n.push({anchor:i.from,head:i.to}):t.splice(r--,0)}n.length&&e.setSelections(n,0)},t.smartBackspace=function(t){if(t.somethingSelected())return e.Pass;t.operation((function(){for(var r=t.listSelections(),i=t.getOption("indentUnit"),o=r.length-1;o>=0;o--){var a=r[o].head,l=t.getRange({line:a.line,ch:0},a),s=e.countColumn(l,null,t.getOption("tabSize")),c=t.findPosH(a,-1,"char",!1);if(l&&!/\S/.test(l)&&s%i==0){var u=new n(a.line,e.findColumn(l,s-i,i));u.ch!=a.ch&&(c=u)}t.replaceRange("",c,a,"+delete")}}))},t.delLineRight=function(e){e.operation((function(){for(var t=e.listSelections(),r=t.length-1;r>=0;r--)e.replaceRange("",t[r].anchor,n(t[r].to().line),"+delete");e.scrollIntoView()}))},t.upcaseAtCursor=function(e){p(e,(function(e){return e.toUpperCase()}))},t.downcaseAtCursor=function(e){p(e,(function(e){return e.toLowerCase()}))},t.setSublimeMark=function(e){e.state.sublimeMark&&e.state.sublimeMark.clear(),e.state.sublimeMark=e.setBookmark(e.getCursor())},t.selectToSublimeMark=function(e){var t=e.state.sublimeMark&&e.state.sublimeMark.find();t&&e.setSelection(e.getCursor(),t)},t.deleteToSublimeMark=function(t){var n=t.state.sublimeMark&&t.state.sublimeMark.find();if(n){var r=t.getCursor(),i=n;if(e.cmpPos(r,i)>0){var o=i;i=r,r=o}t.state.sublimeKilled=t.getRange(r,i),t.replaceRange("",r,i)}},t.swapWithSublimeMark=function(e){var t=e.state.sublimeMark&&e.state.sublimeMark.find();t&&(e.state.sublimeMark.clear(),e.state.sublimeMark=e.setBookmark(e.getCursor()),e.setCursor(t))},t.sublimeYank=function(e){null!=e.state.sublimeKilled&&e.replaceSelection(e.state.sublimeKilled,null,"paste")},t.showInCenter=function(e){var t=e.cursorCoords(null,"local");e.scrollTo(null,(t.top+t.bottom)/2-e.getScrollInfo().clientHeight/2)},t.findUnder=function(e){m(e,!0)},t.findUnderPrevious=function(e){m(e,!1)},t.findAllUnder=function(e){var t=h(e);if(t){for(var n=e.getSearchCursor(t.query),r=[],i=-1;n.findNext();)r.push({anchor:n.from(),head:n.to()}),n.from().line<=t.from.line&&n.from().ch<=t.from.ch&&i++;e.setSelections(r,i)}};var v=e.keyMap;v.macSublime={"Cmd-Left":"goLineStartSmart","Shift-Tab":"indentLess","Shift-Ctrl-K":"deleteLine","Alt-Q":"wrapLines","Ctrl-Left":"goSubwordLeft","Ctrl-Right":"goSubwordRight","Ctrl-Alt-Up":"scrollLineUp","Ctrl-Alt-Down":"scrollLineDown","Cmd-L":"selectLine","Shift-Cmd-L":"splitSelectionByLine",Esc:"singleSelectionTop","Cmd-Enter":"insertLineAfter","Shift-Cmd-Enter":"insertLineBefore","Cmd-D":"selectNextOccurrence","Shift-Cmd-Space":"selectScope","Shift-Cmd-M":"selectBetweenBrackets","Cmd-M":"goToBracket","Cmd-Ctrl-Up":"swapLineUp","Cmd-Ctrl-Down":"swapLineDown","Cmd-/":"toggleCommentIndented","Cmd-J":"joinLines","Shift-Cmd-D":"duplicateLine",F5:"sortLines","Shift-F5":"reverseSortLines","Cmd-F5":"sortLinesInsensitive","Shift-Cmd-F5":"reverseSortLinesInsensitive",F2:"nextBookmark","Shift-F2":"prevBookmark","Cmd-F2":"toggleBookmark","Shift-Cmd-F2":"clearBookmarks","Alt-F2":"selectBookmarks",Backspace:"smartBackspace","Cmd-K Cmd-D":"skipAndSelectNextOccurrence","Cmd-K Cmd-K":"delLineRight","Cmd-K Cmd-U":"upcaseAtCursor","Cmd-K Cmd-L":"downcaseAtCursor","Cmd-K Cmd-Space":"setSublimeMark","Cmd-K Cmd-A":"selectToSublimeMark","Cmd-K Cmd-W":"deleteToSublimeMark","Cmd-K Cmd-X":"swapWithSublimeMark","Cmd-K Cmd-Y":"sublimeYank","Cmd-K Cmd-C":"showInCenter","Cmd-K Cmd-G":"clearBookmarks","Cmd-K Cmd-Backspace":"delLineLeft","Cmd-K Cmd-1":"foldAll","Cmd-K Cmd-0":"unfoldAll","Cmd-K Cmd-J":"unfoldAll","Ctrl-Shift-Up":"addCursorToPrevLine","Ctrl-Shift-Down":"addCursorToNextLine","Cmd-F3":"findUnder","Shift-Cmd-F3":"findUnderPrevious","Alt-F3":"findAllUnder","Shift-Cmd-[":"fold","Shift-Cmd-]":"unfold","Cmd-I":"findIncremental","Shift-Cmd-I":"findIncrementalReverse","Cmd-H":"replace",F3:"findNext","Shift-F3":"findPrev",fallthrough:"macDefault"},e.normalizeKeyMap(v.macSublime),v.pcSublime={"Shift-Tab":"indentLess","Shift-Ctrl-K":"deleteLine","Alt-Q":"wrapLines","Ctrl-T":"transposeChars","Alt-Left":"goSubwordLeft","Alt-Right":"goSubwordRight","Ctrl-Up":"scrollLineUp","Ctrl-Down":"scrollLineDown","Ctrl-L":"selectLine","Shift-Ctrl-L":"splitSelectionByLine",Esc:"singleSelectionTop","Ctrl-Enter":"insertLineAfter","Shift-Ctrl-Enter":"insertLineBefore","Ctrl-D":"selectNextOccurrence","Shift-Ctrl-Space":"selectScope","Shift-Ctrl-M":"selectBetweenBrackets","Ctrl-M":"goToBracket","Shift-Ctrl-Up":"swapLineUp","Shift-Ctrl-Down":"swapLineDown","Ctrl-/":"toggleCommentIndented","Ctrl-J":"joinLines","Shift-Ctrl-D":"duplicateLine",F9:"sortLines","Shift-F9":"reverseSortLines","Ctrl-F9":"sortLinesInsensitive","Shift-Ctrl-F9":"reverseSortLinesInsensitive",F2:"nextBookmark","Shift-F2":"prevBookmark","Ctrl-F2":"toggleBookmark","Shift-Ctrl-F2":"clearBookmarks","Alt-F2":"selectBookmarks",Backspace:"smartBackspace","Ctrl-K Ctrl-D":"skipAndSelectNextOccurrence","Ctrl-K Ctrl-K":"delLineRight","Ctrl-K Ctrl-U":"upcaseAtCursor","Ctrl-K Ctrl-L":"downcaseAtCursor","Ctrl-K Ctrl-Space":"setSublimeMark","Ctrl-K Ctrl-A":"selectToSublimeMark","Ctrl-K Ctrl-W":"deleteToSublimeMark","Ctrl-K Ctrl-X":"swapWithSublimeMark","Ctrl-K Ctrl-Y":"sublimeYank","Ctrl-K Ctrl-C":"showInCenter","Ctrl-K Ctrl-G":"clearBookmarks","Ctrl-K Ctrl-Backspace":"delLineLeft","Ctrl-K Ctrl-1":"foldAll","Ctrl-K Ctrl-0":"unfoldAll","Ctrl-K Ctrl-J":"unfoldAll","Ctrl-Alt-Up":"addCursorToPrevLine","Ctrl-Alt-Down":"addCursorToNextLine","Ctrl-F3":"findUnder","Shift-Ctrl-F3":"findUnderPrevious","Alt-F3":"findAllUnder","Shift-Ctrl-[":"fold","Shift-Ctrl-]":"unfold","Ctrl-I":"findIncremental","Shift-Ctrl-I":"findIncrementalReverse","Ctrl-H":"replace",F3:"findNext","Shift-F3":"findPrev",fallthrough:"pcDefault"},e.normalizeKeyMap(v.pcSublime);var g=v.default==v.macDefault;v.sublime=g?v.macSublime:v.pcSublime}(n(3668),n(6849),n(2756))},3668:function(e){e.exports=function(){"use strict";var e=navigator.userAgent,t=navigator.platform,n=/gecko\/\d/i.test(e),r=/MSIE \d/.test(e),i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),o=/Edge\/(\d+)/.exec(e),a=r||i||o,l=a&&(r?document.documentMode||6:+(o||i)[1]),s=!o&&/WebKit\//.test(e),c=s&&/Qt\/\d+\.\d+/.test(e),u=!o&&/Chrome\//.test(e),d=/Opera\//.test(e),f=/Apple Computer/.test(navigator.vendor),p=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),h=/PhantomJS/.test(e),m=f&&(/Mobile\/\w+/.test(e)||navigator.maxTouchPoints>2),v=/Android/.test(e),g=m||v||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),y=m||/Mac/.test(t),b=/\bCrOS\b/.test(e),x=/win/i.test(t),w=d&&e.match(/Version\/(\d*\.\d*)/);w&&(w=Number(w[1])),w&&w>=15&&(d=!1,s=!0);var k=y&&(c||d&&(null==w||w<12.11)),C=n||a&&l>=9;function S(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var N,T=function(e,t){var n=e.className,r=S(t).exec(n);if(r){var i=n.slice(r.index+r[0].length);e.className=n.slice(0,r.index)+(i?r[1]+i:"")}};function L(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function E(e,t){return L(e).appendChild(t)}function _(e,t,n,r){var i=document.createElement(e);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function j(e,t,n,r){var i=_(e,t,n,r);return i.setAttribute("role","presentation"),i}function O(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function M(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function I(e,t){var n=e.className;S(t).test(n)||(e.className+=(n?" ":"")+t)}function A(e,t){for(var n=e.split(" "),r=0;r<n.length;r++)n[r]&&!S(n[r]).test(t)&&(t+=" "+n[r]);return t}N=document.createRange?function(e,t,n,r){var i=document.createRange();return i.setEnd(r||e,n),i.setStart(e,t),i}:function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(i){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r};var F=function(e){e.select()};function D(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function P(e,t,n){for(var r in t||(t={}),e)!e.hasOwnProperty(r)||!1===n&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function V(e,t,n,r,i){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=r||0,a=i||0;;){var l=e.indexOf("\t",o);if(l<0||l>=t)return a+(t-o);a+=l-o,a+=n-a%n,o=l+1}}m?F=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:a&&(F=function(e){try{e.select()}catch(t){}});var z=function(){this.id=null,this.f=null,this.time=0,this.handler=D(this.onTimeout,this)};function R(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}z.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},z.prototype.set=function(e,t){this.f=t;var n=+new Date+e;(!this.id||n<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=n)};var B=50,H={toString:function(){return"CodeMirror.Pass"}},W={scroll:!1},U={origin:"*mouse"},q={origin:"+move"};function $(e,t,n){for(var r=0,i=0;;){var o=e.indexOf("\t",r);-1==o&&(o=e.length);var a=o-r;if(o==e.length||i+a>=t)return r+Math.min(a,t-i);if(i+=o-r,r=o+1,(i+=n-i%n)>=t)return r}}var K=[""];function Y(e){for(;K.length<=e;)K.push(G(K)+" ");return K[e]}function G(e){return e[e.length-1]}function Q(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function X(e,t,n){for(var r=0,i=n(t);r<e.length&&n(e[r])<=i;)r++;e.splice(r,0,t)}function J(){}function Z(e,t){var n;return Object.create?n=Object.create(e):(J.prototype=e,n=new J),t&&P(t,n),n}var ee=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function te(e){return/\w/.test(e)||e>"\x80"&&(e.toUpperCase()!=e.toLowerCase()||ee.test(e))}function ne(e,t){return t?!!(t.source.indexOf("\\w")>-1&&te(e))||t.test(e):te(e)}function re(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var ie=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function oe(e){return e.charCodeAt(0)>=768&&ie.test(e)}function ae(e,t,n){for(;(n<0?t>0:t<e.length)&&oe(e.charAt(t));)t+=n;return t}function le(e,t,n){for(var r=t>n?-1:1;;){if(t==n)return t;var i=(t+n)/2,o=r<0?Math.ceil(i):Math.floor(i);if(o==t)return e(o)?t:n;e(o)?n=o:t=o+r}}function se(e,t,n,r){if(!e)return r(t,n,"ltr",0);for(var i=!1,o=0;o<e.length;++o){var a=e[o];(a.from<n&&a.to>t||t==n&&a.to==t)&&(r(Math.max(a.from,t),Math.min(a.to,n),1==a.level?"rtl":"ltr",o),i=!0)}i||r(t,n,"ltr")}var ce=null;function ue(e,t,n){var r;ce=null;for(var i=0;i<e.length;++i){var o=e[i];if(o.from<t&&o.to>t)return i;o.to==t&&(o.from!=o.to&&"before"==n?r=i:ce=i),o.from==t&&(o.from!=o.to&&"before"!=n?r=i:ce=i)}return null!=r?r:ce}var de=function(){var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",t="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function n(n){return n<=247?e.charAt(n):1424<=n&&n<=1524?"R":1536<=n&&n<=1785?t.charAt(n-1536):1774<=n&&n<=2220?"r":8192<=n&&n<=8203?"w":8204==n?"b":"L"}var r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,i=/[stwN]/,o=/[LRr]/,a=/[Lb1n]/,l=/[1n]/;function s(e,t,n){this.level=e,this.from=t,this.to=n}return function(e,t){var c="ltr"==t?"L":"R";if(0==e.length||"ltr"==t&&!r.test(e))return!1;for(var u=e.length,d=[],f=0;f<u;++f)d.push(n(e.charCodeAt(f)));for(var p=0,h=c;p<u;++p){var m=d[p];"m"==m?d[p]=h:h=m}for(var v=0,g=c;v<u;++v){var y=d[v];"1"==y&&"r"==g?d[v]="n":o.test(y)&&(g=y,"r"==y&&(d[v]="R"))}for(var b=1,x=d[0];b<u-1;++b){var w=d[b];"+"==w&&"1"==x&&"1"==d[b+1]?d[b]="1":","!=w||x!=d[b+1]||"1"!=x&&"n"!=x||(d[b]=x),x=w}for(var k=0;k<u;++k){var C=d[k];if(","==C)d[k]="N";else if("%"==C){var S=void 0;for(S=k+1;S<u&&"%"==d[S];++S);for(var N=k&&"!"==d[k-1]||S<u&&"1"==d[S]?"1":"N",T=k;T<S;++T)d[T]=N;k=S-1}}for(var L=0,E=c;L<u;++L){var _=d[L];"L"==E&&"1"==_?d[L]="L":o.test(_)&&(E=_)}for(var j=0;j<u;++j)if(i.test(d[j])){var O=void 0;for(O=j+1;O<u&&i.test(d[O]);++O);for(var M="L"==(j?d[j-1]:c),I=M==("L"==(O<u?d[O]:c))?M?"L":"R":c,A=j;A<O;++A)d[A]=I;j=O-1}for(var F,D=[],P=0;P<u;)if(a.test(d[P])){var V=P;for(++P;P<u&&a.test(d[P]);++P);D.push(new s(0,V,P))}else{var z=P,R=D.length,B="rtl"==t?1:0;for(++P;P<u&&"L"!=d[P];++P);for(var H=z;H<P;)if(l.test(d[H])){z<H&&(D.splice(R,0,new s(1,z,H)),R+=B);var W=H;for(++H;H<P&&l.test(d[H]);++H);D.splice(R,0,new s(2,W,H)),R+=B,z=H}else++H;z<P&&D.splice(R,0,new s(1,z,P))}return"ltr"==t&&(1==D[0].level&&(F=e.match(/^\s+/))&&(D[0].from=F[0].length,D.unshift(new s(0,0,F[0].length))),1==G(D).level&&(F=e.match(/\s+$/))&&(G(D).to-=F[0].length,D.push(new s(0,u-F[0].length,u)))),"rtl"==t?D.reverse():D}}();function fe(e,t){var n=e.order;return null==n&&(n=e.order=de(e.text,t)),n}var pe=[],he=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={});r[t]=(r[t]||pe).concat(n)}};function me(e,t){return e._handlers&&e._handlers[t]||pe}function ve(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var r=e._handlers,i=r&&r[t];if(i){var o=R(i,n);o>-1&&(r[t]=i.slice(0,o).concat(i.slice(o+1)))}}}function ge(e,t){var n=me(e,t);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)}function ye(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),ge(e,n||t.type,e,t),Se(t)||t.codemirrorIgnore}function be(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)-1==R(n,t[r])&&n.push(t[r])}function xe(e,t){return me(e,t).length>0}function we(e){e.prototype.on=function(e,t){he(this,e,t)},e.prototype.off=function(e,t){ve(this,e,t)}}function ke(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Ce(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Se(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Ne(e){ke(e),Ce(e)}function Te(e){return e.target||e.srcElement}function Le(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),y&&e.ctrlKey&&1==t&&(t=3),t}var Ee,_e,je=function(){if(a&&l<9)return!1;var e=_("div");return"draggable"in e||"dragDrop"in e}();function Oe(e){if(null==Ee){var t=_("span","\u200b");E(e,_("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Ee=t.offsetWidth<=1&&t.offsetHeight>2&&!(a&&l<8))}var n=Ee?_("span","\u200b"):_("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function Me(e){if(null!=_e)return _e;var t=E(e,document.createTextNode("A\u062eA")),n=N(t,0,1).getBoundingClientRect(),r=N(t,1,2).getBoundingClientRect();return L(e),!(!n||n.left==n.right)&&(_e=r.right-n.right<3)}var Ie=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],r=e.length;t<=r;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),a=o.indexOf("\r");-1!=a?(n.push(o.slice(0,a)),t+=a+1):(n.push(o),t=i+1)}return n}:function(e){return e.split(/\r\n?|\n/)},Ae=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(n){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},Fe=function(){var e=_("div");return"oncopy"in e||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),De=null;function Pe(e){if(null!=De)return De;var t=E(e,_("span","x")),n=t.getBoundingClientRect(),r=N(t,0,1).getBoundingClientRect();return De=Math.abs(n.left-r.left)>1}var Ve={},ze={};function Re(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),Ve[e]=t}function Be(e,t){ze[e]=t}function He(e){if("string"==typeof e&&ze.hasOwnProperty(e))e=ze[e];else if(e&&"string"==typeof e.name&&ze.hasOwnProperty(e.name)){var t=ze[e.name];"string"==typeof t&&(t={name:t}),(e=Z(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return He("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return He("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function We(e,t){t=He(t);var n=Ve[t.name];if(!n)return We(e,"text/plain");var r=n(e,t);if(Ue.hasOwnProperty(t.name)){var i=Ue[t.name];for(var o in i)i.hasOwnProperty(o)&&(r.hasOwnProperty(o)&&(r["_"+o]=r[o]),r[o]=i[o])}if(r.name=t.name,t.helperType&&(r.helperType=t.helperType),t.modeProps)for(var a in t.modeProps)r[a]=t.modeProps[a];return r}var Ue={};function qe(e,t){P(t,Ue.hasOwnProperty(e)?Ue[e]:Ue[e]={})}function $e(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n}function Ke(e,t){for(var n;e.innerMode&&(n=e.innerMode(t))&&n.mode!=e;)t=n.state,e=n.mode;return n||{mode:e,state:t}}function Ye(e,t,n){return!e.startState||e.startState(t,n)}var Ge=function(e,t,n){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};function Qe(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var r=0;;++r){var i=n.children[r],o=i.chunkSize();if(t<o){n=i;break}t-=o}return n.lines[t]}function Xe(e,t,n){var r=[],i=t.line;return e.iter(t.line,n.line+1,(function(e){var o=e.text;i==n.line&&(o=o.slice(0,n.ch)),i==t.line&&(o=o.slice(t.ch)),r.push(o),++i})),r}function Je(e,t,n){var r=[];return e.iter(t,n,(function(e){r.push(e.text)})),r}function Ze(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function et(e){if(null==e.parent)return null;for(var t=e.parent,n=R(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var i=0;r.children[i]!=t;++i)n+=r.children[i].chunkSize();return n+t.first}function tt(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var i=e.children[r],o=i.height;if(t<o){e=i;continue e}t-=o,n+=i.chunkSize()}return n}while(!e.lines);for(var a=0;a<e.lines.length;++a){var l=e.lines[a].height;if(t<l)break;t-=l}return n+a}function nt(e,t){return t>=e.first&&t<e.first+e.size}function rt(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function it(e,t,n){if(void 0===n&&(n=null),!(this instanceof it))return new it(e,t,n);this.line=e,this.ch=t,this.sticky=n}function ot(e,t){return e.line-t.line||e.ch-t.ch}function at(e,t){return e.sticky==t.sticky&&0==ot(e,t)}function lt(e){return it(e.line,e.ch)}function st(e,t){return ot(e,t)<0?t:e}function ct(e,t){return ot(e,t)<0?e:t}function ut(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function dt(e,t){if(t.line<e.first)return it(e.first,0);var n=e.first+e.size-1;return t.line>n?it(n,Qe(e,n).text.length):ft(t,Qe(e,t.line).text.length)}function ft(e,t){var n=e.ch;return null==n||n>t?it(e.line,t):n<0?it(e.line,0):e}function pt(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=dt(e,t[r]);return n}Ge.prototype.eol=function(){return this.pos>=this.string.length},Ge.prototype.sol=function(){return this.pos==this.lineStart},Ge.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Ge.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Ge.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},Ge.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},Ge.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},Ge.prototype.skipToEnd=function(){this.pos=this.string.length},Ge.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},Ge.prototype.backUp=function(e){this.pos-=e},Ge.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=V(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?V(this.string,this.lineStart,this.tabSize):0)},Ge.prototype.indentation=function(){return V(this.string,null,this.tabSize)-(this.lineStart?V(this.string,this.lineStart,this.tabSize):0)},Ge.prototype.match=function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&!1!==t&&(this.pos+=r[0].length),r)}var i=function(e){return n?e.toLowerCase():e};if(i(this.string.substr(this.pos,e.length))==i(e))return!1!==t&&(this.pos+=e.length),!0},Ge.prototype.current=function(){return this.string.slice(this.start,this.pos)},Ge.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},Ge.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},Ge.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var ht=function(e,t){this.state=e,this.lookAhead=t},mt=function(e,t,n,r){this.state=t,this.doc=e,this.line=n,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};function vt(e,t,n,r){var i=[e.state.modeGen],o={};Nt(e,t.text,e.doc.mode,n,(function(e,t){return i.push(e,t)}),o,r);for(var a=n.state,l=function(r){n.baseTokens=i;var l=e.state.overlays[r],s=1,c=0;n.state=!0,Nt(e,t.text,l.mode,n,(function(e,t){for(var n=s;c<e;){var r=i[s];r>e&&i.splice(s,1,e,i[s+1],r),s+=2,c=Math.min(e,r)}if(t)if(l.opaque)i.splice(n,s-n,e,"overlay "+t),s=n+2;else for(;n<s;n+=2){var o=i[n+1];i[n+1]=(o?o+" ":"")+"overlay "+t}}),o),n.state=a,n.baseTokens=null,n.baseTokenPos=1},s=0;s<e.state.overlays.length;++s)l(s);return{styles:i,classes:o.bgClass||o.textClass?o:null}}function gt(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=yt(e,et(t)),i=t.text.length>e.options.maxHighlightLength&&$e(e.doc.mode,r.state),o=vt(e,t,r);i&&(r.state=i),t.stateAfter=r.save(!i),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function yt(e,t,n){var r=e.doc,i=e.display;if(!r.mode.startState)return new mt(r,!0,t);var o=Tt(e,t,n),a=o>r.first&&Qe(r,o-1).stateAfter,l=a?mt.fromSaved(r,a,o):new mt(r,Ye(r.mode),o);return r.iter(o,t,(function(n){bt(e,n.text,l);var r=l.line;n.stateAfter=r==t-1||r%5==0||r>=i.viewFrom&&r<i.viewTo?l.save():null,l.nextLine()})),n&&(r.modeFrontier=l.line),l}function bt(e,t,n,r){var i=e.doc.mode,o=new Ge(t,e.options.tabSize,n);for(o.start=o.pos=r||0,""==t&&xt(i,n.state);!o.eol();)wt(i,o,n.state),o.start=o.pos}function xt(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=Ke(e,t);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function wt(e,t,n,r){for(var i=0;i<10;i++){r&&(r[0]=Ke(e,n).mode);var o=e.token(t,n);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}mt.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},mt.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},mt.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},mt.fromSaved=function(e,t,n){return t instanceof ht?new mt(e,$e(e.mode,t.state),n,t.lookAhead):new mt(e,$e(e.mode,t),n)},mt.prototype.save=function(e){var t=!1!==e?$e(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new ht(t,this.maxLookAhead):t};var kt=function(e,t,n){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=n};function Ct(e,t,n,r){var i,o,a=e.doc,l=a.mode,s=Qe(a,(t=dt(a,t)).line),c=yt(e,t.line,n),u=new Ge(s.text,e.options.tabSize,c);for(r&&(o=[]);(r||u.pos<t.ch)&&!u.eol();)u.start=u.pos,i=wt(l,u,c.state),r&&o.push(new kt(u,i,$e(a.mode,c.state)));return r?o:new kt(u,i,c.state)}function St(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==t[r]?t[r]=n[2]:new RegExp("(?:^|\\s)"+n[2]+"(?:$|\\s)").test(t[r])||(t[r]+=" "+n[2])}return e}function Nt(e,t,n,r,i,o,a){var l=n.flattenSpans;null==l&&(l=e.options.flattenSpans);var s,c=0,u=null,d=new Ge(t,e.options.tabSize,r),f=e.options.addModeClass&&[null];for(""==t&&St(xt(n,r.state),o);!d.eol();){if(d.pos>e.options.maxHighlightLength?(l=!1,a&&bt(e,t,r,d.pos),d.pos=t.length,s=null):s=St(wt(n,d,r.state,f),o),f){var p=f[0].name;p&&(s="m-"+(s?p+" "+s:p))}if(!l||u!=s){for(;c<d.start;)i(c=Math.min(d.start,c+5e3),u);u=s}d.start=d.pos}for(;c<d.pos;){var h=Math.min(d.pos,c+5e3);i(h,u),c=h}}function Tt(e,t,n){for(var r,i,o=e.doc,a=n?-1:t-(e.doc.mode.innerMode?1e3:100),l=t;l>a;--l){if(l<=o.first)return o.first;var s=Qe(o,l-1),c=s.stateAfter;if(c&&(!n||l+(c instanceof ht?c.lookAhead:0)<=o.modeFrontier))return l;var u=V(s.text,null,e.options.tabSize);(null==i||r>u)&&(i=l-1,r=u)}return i}function Lt(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var n=e.first,r=t-1;r>n;r--){var i=Qe(e,r).stateAfter;if(i&&(!(i instanceof ht)||r+i.lookAhead<t)){n=r+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,n)}}var Et=!1,_t=!1;function jt(){Et=!0}function Ot(){_t=!0}function Mt(e,t,n){this.marker=e,this.from=t,this.to=n}function It(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function At(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function Ft(e,t,n){var r=n&&window.WeakSet&&(n.markedSpans||(n.markedSpans=new WeakSet));r&&r.has(e.markedSpans)?e.markedSpans.push(t):(e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],r&&r.add(e.markedSpans)),t.marker.attachLine(e)}function Dt(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],a=o.marker;if(null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t)||o.from==t&&"bookmark"==a.type&&(!n||!o.marker.insertLeft)){var l=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);(r||(r=[])).push(new Mt(a,o.from,l?null:o.to))}}return r}function Pt(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],a=o.marker;if(null==o.to||(a.inclusiveRight?o.to>=t:o.to>t)||o.from==t&&"bookmark"==a.type&&(!n||o.marker.insertLeft)){var l=null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t);(r||(r=[])).push(new Mt(a,l?null:o.from-t,null==o.to?null:o.to-t))}}return r}function Vt(e,t){if(t.full)return null;var n=nt(e,t.from.line)&&Qe(e,t.from.line).markedSpans,r=nt(e,t.to.line)&&Qe(e,t.to.line).markedSpans;if(!n&&!r)return null;var i=t.from.ch,o=t.to.ch,a=0==ot(t.from,t.to),l=Dt(n,i,a),s=Pt(r,o,a),c=1==t.text.length,u=G(t.text).length+(c?i:0);if(l)for(var d=0;d<l.length;++d){var f=l[d];if(null==f.to){var p=It(s,f.marker);p?c&&(f.to=null==p.to?null:p.to+u):f.to=i}}if(s)for(var h=0;h<s.length;++h){var m=s[h];null!=m.to&&(m.to+=u),null==m.from?It(l,m.marker)||(m.from=u,c&&(l||(l=[])).push(m)):(m.from+=u,c&&(l||(l=[])).push(m))}l&&(l=zt(l)),s&&s!=l&&(s=zt(s));var v=[l];if(!c){var g,y=t.text.length-2;if(y>0&&l)for(var b=0;b<l.length;++b)null==l[b].to&&(g||(g=[])).push(new Mt(l[b].marker,null,null));for(var x=0;x<y;++x)v.push(g);v.push(s)}return v}function zt(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function Rt(e,t,n){var r=null;if(e.iter(t.line,n.line+1,(function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||r&&-1!=R(r,n)||(r||(r=[])).push(n)}})),!r)return null;for(var i=[{from:t,to:n}],o=0;o<r.length;++o)for(var a=r[o],l=a.find(0),s=0;s<i.length;++s){var c=i[s];if(!(ot(c.to,l.from)<0||ot(c.from,l.to)>0)){var u=[s,1],d=ot(c.from,l.from),f=ot(c.to,l.to);(d<0||!a.inclusiveLeft&&!d)&&u.push({from:c.from,to:l.from}),(f>0||!a.inclusiveRight&&!f)&&u.push({from:l.to,to:c.to}),i.splice.apply(i,u),s+=u.length-3}}return i}function Bt(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function Ht(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function Wt(e){return e.inclusiveLeft?-1:0}function Ut(e){return e.inclusiveRight?1:0}function qt(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var r=e.find(),i=t.find(),o=ot(r.from,i.from)||Wt(e)-Wt(t);if(o)return-o;var a=ot(r.to,i.to)||Ut(e)-Ut(t);return a||t.id-e.id}function $t(e,t){var n,r=_t&&e.markedSpans;if(r)for(var i=void 0,o=0;o<r.length;++o)(i=r[o]).marker.collapsed&&null==(t?i.from:i.to)&&(!n||qt(n,i.marker)<0)&&(n=i.marker);return n}function Kt(e){return $t(e,!0)}function Yt(e){return $t(e,!1)}function Gt(e,t){var n,r=_t&&e.markedSpans;if(r)for(var i=0;i<r.length;++i){var o=r[i];o.marker.collapsed&&(null==o.from||o.from<t)&&(null==o.to||o.to>t)&&(!n||qt(n,o.marker)<0)&&(n=o.marker)}return n}function Qt(e,t,n,r,i){var o=Qe(e,t),a=_t&&o.markedSpans;if(a)for(var l=0;l<a.length;++l){var s=a[l];if(s.marker.collapsed){var c=s.marker.find(0),u=ot(c.from,n)||Wt(s.marker)-Wt(i),d=ot(c.to,r)||Ut(s.marker)-Ut(i);if(!(u>=0&&d<=0||u<=0&&d>=0)&&(u<=0&&(s.marker.inclusiveRight&&i.inclusiveLeft?ot(c.to,n)>=0:ot(c.to,n)>0)||u>=0&&(s.marker.inclusiveRight&&i.inclusiveLeft?ot(c.from,r)<=0:ot(c.from,r)<0)))return!0}}}function Xt(e){for(var t;t=Kt(e);)e=t.find(-1,!0).line;return e}function Jt(e){for(var t;t=Yt(e);)e=t.find(1,!0).line;return e}function Zt(e){for(var t,n;t=Yt(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function en(e,t){var n=Qe(e,t),r=Xt(n);return n==r?t:et(r)}function tn(e,t){if(t>e.lastLine())return t;var n,r=Qe(e,t);if(!nn(e,r))return t;for(;n=Yt(r);)r=n.find(1,!0).line;return et(r)+1}function nn(e,t){var n=_t&&t.markedSpans;if(n)for(var r=void 0,i=0;i<n.length;++i)if((r=n[i]).marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&rn(e,t,r))return!0}}function rn(e,t,n){if(null==n.to){var r=n.marker.find(1,!0);return rn(e,r.line,It(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var i=void 0,o=0;o<t.markedSpans.length;++o)if((i=t.markedSpans[o]).marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(null==i.to||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&rn(e,t,i))return!0}function on(e){for(var t=0,n=(e=Xt(e)).parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==e)break;t+=i.height}for(var o=n.parent;o;o=(n=o).parent)for(var a=0;a<o.children.length;++a){var l=o.children[a];if(l==n)break;t+=l.height}return t}function an(e){if(0==e.height)return 0;for(var t,n=e.text.length,r=e;t=Kt(r);){var i=t.find(0,!0);r=i.from.line,n+=i.from.ch-i.to.ch}for(r=e;t=Yt(r);){var o=t.find(0,!0);n-=r.text.length-o.from.ch,n+=(r=o.to.line).text.length-o.to.ch}return n}function ln(e){var t=e.display,n=e.doc;t.maxLine=Qe(n,n.first),t.maxLineLength=an(t.maxLine),t.maxLineChanged=!0,n.iter((function(e){var n=an(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)}))}var sn=function(e,t,n){this.text=e,Ht(this,t),this.height=n?n(this):1};function cn(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Bt(e),Ht(e,n);var i=r?r(e):1;i!=e.height&&Ze(e,i)}function un(e){e.parent=null,Bt(e)}sn.prototype.lineNo=function(){return et(this)},we(sn);var dn={},fn={};function pn(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?fn:dn;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function hn(e,t){var n=j("span",null,null,s?"padding-right: .1px":null),r={pre:j("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var o=i?t.rest[i-1]:t.line,a=void 0;r.pos=0,r.addToken=vn,Me(e.display.measure)&&(a=fe(o,e.doc.direction))&&(r.addToken=yn(r.addToken,a)),r.map=[],xn(o,r,gt(e,o,t!=e.display.externalMeasured&&et(o))),o.styleClasses&&(o.styleClasses.bgClass&&(r.bgClass=A(o.styleClasses.bgClass,r.bgClass||"")),o.styleClasses.textClass&&(r.textClass=A(o.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(Oe(e.display.measure))),0==i?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(s){var l=r.content.lastChild;(/\bcm-tab\b/.test(l.className)||l.querySelector&&l.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return ge(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=A(r.pre.className,r.textClass||"")),r}function mn(e){var t=_("span","\u2022","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function vn(e,t,n,r,i,o,s){if(t){var c,u=e.splitSpaces?gn(t,e.trailingSpace):t,d=e.cm.state.specialChars,f=!1;if(d.test(t)){c=document.createDocumentFragment();for(var p=0;;){d.lastIndex=p;var h=d.exec(t),m=h?h.index-p:t.length-p;if(m){var v=document.createTextNode(u.slice(p,p+m));a&&l<9?c.appendChild(_("span",[v])):c.appendChild(v),e.map.push(e.pos,e.pos+m,v),e.col+=m,e.pos+=m}if(!h)break;p+=m+1;var g=void 0;if("\t"==h[0]){var y=e.cm.options.tabSize,b=y-e.col%y;(g=c.appendChild(_("span",Y(b),"cm-tab"))).setAttribute("role","presentation"),g.setAttribute("cm-text","\t"),e.col+=b}else"\r"==h[0]||"\n"==h[0]?((g=c.appendChild(_("span","\r"==h[0]?"\u240d":"\u2424","cm-invalidchar"))).setAttribute("cm-text",h[0]),e.col+=1):((g=e.cm.options.specialCharPlaceholder(h[0])).setAttribute("cm-text",h[0]),a&&l<9?c.appendChild(_("span",[g])):c.appendChild(g),e.col+=1);e.map.push(e.pos,e.pos+1,g),e.pos++}}else e.col+=t.length,c=document.createTextNode(u),e.map.push(e.pos,e.pos+t.length,c),a&&l<9&&(f=!0),e.pos+=t.length;if(e.trailingSpace=32==u.charCodeAt(t.length-1),n||r||i||f||o||s){var x=n||"";r&&(x+=r),i&&(x+=i);var w=_("span",[c],x,o);if(s)for(var k in s)s.hasOwnProperty(k)&&"style"!=k&&"class"!=k&&w.setAttribute(k,s[k]);return e.content.appendChild(w)}e.content.appendChild(c)}}function gn(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,r="",i=0;i<e.length;i++){var o=e.charAt(i);" "!=o||!n||i!=e.length-1&&32!=e.charCodeAt(i+1)||(o="\xa0"),r+=o,n=" "==o}return r}function yn(e,t){return function(n,r,i,o,a,l,s){i=i?i+" cm-force-border":"cm-force-border";for(var c=n.pos,u=c+r.length;;){for(var d=void 0,f=0;f<t.length&&!((d=t[f]).to>c&&d.from<=c);f++);if(d.to>=u)return e(n,r,i,o,a,l,s);e(n,r.slice(0,d.to-c),i,o,null,l,s),o=null,r=r.slice(d.to-c),c=d.to}}}function bn(e,t,n,r){var i=!r&&n.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!r&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",n.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function xn(e,t,n){var r=e.markedSpans,i=e.text,o=0;if(r)for(var a,l,s,c,u,d,f,p=i.length,h=0,m=1,v="",g=0;;){if(g==h){s=c=u=l="",f=null,d=null,g=1/0;for(var y=[],b=void 0,x=0;x<r.length;++x){var w=r[x],k=w.marker;if("bookmark"==k.type&&w.from==h&&k.widgetNode)y.push(k);else if(w.from<=h&&(null==w.to||w.to>h||k.collapsed&&w.to==h&&w.from==h)){if(null!=w.to&&w.to!=h&&g>w.to&&(g=w.to,c=""),k.className&&(s+=" "+k.className),k.css&&(l=(l?l+";":"")+k.css),k.startStyle&&w.from==h&&(u+=" "+k.startStyle),k.endStyle&&w.to==g&&(b||(b=[])).push(k.endStyle,w.to),k.title&&((f||(f={})).title=k.title),k.attributes)for(var C in k.attributes)(f||(f={}))[C]=k.attributes[C];k.collapsed&&(!d||qt(d.marker,k)<0)&&(d=w)}else w.from>h&&g>w.from&&(g=w.from)}if(b)for(var S=0;S<b.length;S+=2)b[S+1]==g&&(c+=" "+b[S]);if(!d||d.from==h)for(var N=0;N<y.length;++N)bn(t,0,y[N]);if(d&&(d.from||0)==h){if(bn(t,(null==d.to?p+1:d.to)-h,d.marker,null==d.from),null==d.to)return;d.to==h&&(d=!1)}}if(h>=p)break;for(var T=Math.min(p,g);;){if(v){var L=h+v.length;if(!d){var E=L>T?v.slice(0,T-h):v;t.addToken(t,E,a?a+s:s,u,h+E.length==g?c:"",l,f)}if(L>=T){v=v.slice(T-h),h=T;break}h=L,u=""}v=i.slice(o,o=n[m++]),a=pn(n[m++],t.cm.options)}}else for(var _=1;_<n.length;_+=2)t.addToken(t,i.slice(o,o=n[_]),pn(n[_+1],t.cm.options))}function wn(e,t,n){this.line=t,this.rest=Zt(t),this.size=this.rest?et(G(this.rest))-n+1:1,this.node=this.text=null,this.hidden=nn(e,t)}function kn(e,t,n){for(var r,i=[],o=t;o<n;o=r){var a=new wn(e.doc,Qe(e.doc,o),o);r=o+a.size,i.push(a)}return i}var Cn=null;function Sn(e){Cn?Cn.ops.push(e):e.ownsGroup=Cn={ops:[e],delayedCallbacks:[]}}function Nn(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var r=0;r<e.ops.length;r++){var i=e.ops[r];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(n<t.length)}function Tn(e,t){var n=e.ownsGroup;if(n)try{Nn(n)}finally{Cn=null,t(n)}}var Ln=null;function En(e,t){var n=me(e,t);if(n.length){var r,i=Array.prototype.slice.call(arguments,2);Cn?r=Cn.delayedCallbacks:Ln?r=Ln:(r=Ln=[],setTimeout(_n,0));for(var o=function(e){r.push((function(){return n[e].apply(null,i)}))},a=0;a<n.length;++a)o(a)}}function _n(){var e=Ln;Ln=null;for(var t=0;t<e.length;++t)e[t]()}function jn(e,t,n,r){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?An(e,t):"gutter"==o?Dn(e,t,n,r):"class"==o?Fn(e,t):"widget"==o&&Pn(e,t,r)}t.changes=null}function On(e){return e.node==e.text&&(e.node=_("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),a&&l<8&&(e.node.style.zIndex=2)),e.node}function Mn(e,t){var n=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),t.background)n?t.background.className=n:(t.background.parentNode.removeChild(t.background),t.background=null);else if(n){var r=On(t);t.background=r.insertBefore(_("div",null,n),r.firstChild),e.display.input.setUneditable(t.background)}}function In(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):hn(e,t)}function An(e,t){var n=t.text.className,r=In(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,Fn(e,t)):n&&(t.text.className=n)}function Fn(e,t){Mn(e,t),t.line.wrapClass?On(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var n=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=n||""}function Dn(e,t,n,r){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var i=On(t);t.gutterBackground=_("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),i.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var a=On(t),l=t.gutter=_("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(l.setAttribute("aria-hidden","true"),e.display.input.setUneditable(l),a.insertBefore(l,t.text),t.line.gutterClass&&(l.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=l.appendChild(_("div",rt(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var s=0;s<e.display.gutterSpecs.length;++s){var c=e.display.gutterSpecs[s].className,u=o.hasOwnProperty(c)&&o[c];u&&l.appendChild(_("div",[u],"CodeMirror-gutter-elt","left: "+r.gutterLeft[c]+"px; width: "+r.gutterWidth[c]+"px"))}}}function Pn(e,t,n){t.alignable&&(t.alignable=null);for(var r=S("CodeMirror-linewidget"),i=t.node.firstChild,o=void 0;i;i=o)o=i.nextSibling,r.test(i.className)&&t.node.removeChild(i);zn(e,t,n)}function Vn(e,t,n,r){var i=In(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),Fn(e,t),Dn(e,t,n,r),zn(e,t,r),t.node}function zn(e,t,n){if(Rn(e,t.line,t,n,!0),t.rest)for(var r=0;r<t.rest.length;r++)Rn(e,t.rest[r],t,n,!1)}function Rn(e,t,n,r,i){if(t.widgets)for(var o=On(n),a=0,l=t.widgets;a<l.length;++a){var s=l[a],c=_("div",[s.node],"CodeMirror-linewidget"+(s.className?" "+s.className:""));s.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),Bn(s,c,n,r),e.display.input.setUneditable(c),i&&s.above?o.insertBefore(c,n.gutter||n.text):o.appendChild(c),En(s,"redraw")}}function Bn(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var i=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(i-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function Hn(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!O(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),E(t.display.measure,_("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function Wn(e,t){for(var n=Te(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function Un(e){return e.lineSpace.offsetTop}function qn(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function $n(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=E(e.measure,_("pre","x","CodeMirror-line-like")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(e.cachedPaddingH=r),r}function Kn(e){return B-e.display.nativeBarWidth}function Yn(e){return e.display.scroller.clientWidth-Kn(e)-e.display.barWidth}function Gn(e){return e.display.scroller.clientHeight-Kn(e)-e.display.barHeight}function Qn(e,t,n){var r=e.options.lineWrapping,i=r&&Yn(e);if(!t.measure.heights||r&&t.measure.width!=i){var o=t.measure.heights=[];if(r){t.measure.width=i;for(var a=t.text.firstChild.getClientRects(),l=0;l<a.length-1;l++){var s=a[l],c=a[l+1];Math.abs(s.bottom-c.bottom)>2&&o.push((s.bottom+c.top)/2-n.top)}}o.push(n.bottom-n.top)}}function Xn(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var i=0;i<e.rest.length;i++)if(et(e.rest[i])>n)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function Jn(e,t){var n=et(t=Xt(t)),r=e.display.externalMeasured=new wn(e.doc,t,n);r.lineN=n;var i=r.built=hn(e,r);return r.text=i.pre,E(e.display.lineMeasure,i.pre),r}function Zn(e,t,n,r){return nr(e,tr(e,t),n,r)}function er(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Fr(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function tr(e,t){var n=et(t),r=er(e,n);r&&!r.text?r=null:r&&r.changes&&(jn(e,r,n,jr(e)),e.curOp.forceUpdate=!0),r||(r=Jn(e,t));var i=Xn(r,t,n);return{line:t,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function nr(e,t,n,r,i){t.before&&(n=-1);var o,a=n+(r||"");return t.cache.hasOwnProperty(a)?o=t.cache[a]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Qn(e,t.view,t.rect),t.hasHeights=!0),(o=lr(e,t,n,r)).bogus||(t.cache[a]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}var rr,ir={left:0,right:0,top:0,bottom:0};function or(e,t,n){for(var r,i,o,a,l,s,c=0;c<e.length;c+=3)if(l=e[c],s=e[c+1],t<l?(i=0,o=1,a="left"):t<s?o=1+(i=t-l):(c==e.length-3||t==s&&e[c+3]>t)&&(i=(o=s-l)-1,t>=s&&(a="right")),null!=i){if(r=e[c+2],l==s&&n==(r.insertLeft?"left":"right")&&(a=n),"left"==n&&0==i)for(;c&&e[c-2]==e[c-3]&&e[c-1].insertLeft;)r=e[2+(c-=3)],a="left";if("right"==n&&i==s-l)for(;c<e.length-3&&e[c+3]==e[c+4]&&!e[c+5].insertLeft;)r=e[(c+=3)+2],a="right";break}return{node:r,start:i,end:o,collapse:a,coverStart:l,coverEnd:s}}function ar(e,t){var n=ir;if("left"==t)for(var r=0;r<e.length&&(n=e[r]).left==n.right;r++);else for(var i=e.length-1;i>=0&&(n=e[i]).left==n.right;i--);return n}function lr(e,t,n,r){var i,o=or(t.map,n,r),s=o.node,c=o.start,u=o.end,d=o.collapse;if(3==s.nodeType){for(var f=0;f<4;f++){for(;c&&oe(t.line.text.charAt(o.coverStart+c));)--c;for(;o.coverStart+u<o.coverEnd&&oe(t.line.text.charAt(o.coverStart+u));)++u;if((i=a&&l<9&&0==c&&u==o.coverEnd-o.coverStart?s.parentNode.getBoundingClientRect():ar(N(s,c,u).getClientRects(),r)).left||i.right||0==c)break;u=c,c-=1,d="right"}a&&l<11&&(i=sr(e.display.measure,i))}else{var p;c>0&&(d=r="right"),i=e.options.lineWrapping&&(p=s.getClientRects()).length>1?p["right"==r?p.length-1:0]:s.getBoundingClientRect()}if(a&&l<9&&!c&&(!i||!i.left&&!i.right)){var h=s.parentNode.getClientRects()[0];i=h?{left:h.left,right:h.left+_r(e.display),top:h.top,bottom:h.bottom}:ir}for(var m=i.top-t.rect.top,v=i.bottom-t.rect.top,g=(m+v)/2,y=t.view.measure.heights,b=0;b<y.length-1&&!(g<y[b]);b++);var x=b?y[b-1]:0,w=y[b],k={left:("right"==d?i.right:i.left)-t.rect.left,right:("left"==d?i.left:i.right)-t.rect.left,top:x,bottom:w};return i.left||i.right||(k.bogus=!0),e.options.singleCursorHeightPerLine||(k.rtop=m,k.rbottom=v),k}function sr(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Pe(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}function cr(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function ur(e){e.display.externalMeasure=null,L(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)cr(e.display.view[t])}function dr(e){ur(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function fr(){return u&&v?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function pr(){return u&&v?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function hr(e){var t=0;if(e.widgets)for(var n=0;n<e.widgets.length;++n)e.widgets[n].above&&(t+=Hn(e.widgets[n]));return t}function mr(e,t,n,r,i){if(!i){var o=hr(t);n.top+=o,n.bottom+=o}if("line"==r)return n;r||(r="local");var a=on(t);if("local"==r?a+=Un(e.display):a-=e.display.viewOffset,"page"==r||"window"==r){var l=e.display.lineSpace.getBoundingClientRect();a+=l.top+("window"==r?0:pr());var s=l.left+("window"==r?0:fr());n.left+=s,n.right+=s}return n.top+=a,n.bottom+=a,n}function vr(e,t,n){if("div"==n)return t;var r=t.left,i=t.top;if("page"==n)r-=fr(),i-=pr();else if("local"==n||!n){var o=e.display.sizer.getBoundingClientRect();r+=o.left,i+=o.top}var a=e.display.lineSpace.getBoundingClientRect();return{left:r-a.left,top:i-a.top}}function gr(e,t,n,r,i){return r||(r=Qe(e.doc,t.line)),mr(e,r,Zn(e,r,t.ch,i),n)}function yr(e,t,n,r,i,o){function a(t,a){var l=nr(e,i,t,a?"right":"left",o);return a?l.left=l.right:l.right=l.left,mr(e,r,l,n)}r=r||Qe(e.doc,t.line),i||(i=tr(e,r));var l=fe(r,e.doc.direction),s=t.ch,c=t.sticky;if(s>=r.text.length?(s=r.text.length,c="before"):s<=0&&(s=0,c="after"),!l)return a("before"==c?s-1:s,"before"==c);function u(e,t,n){return a(n?e-1:e,1==l[t].level!=n)}var d=ue(l,s,c),f=ce,p=u(s,d,"before"==c);return null!=f&&(p.other=u(s,f,"before"!=c)),p}function br(e,t){var n=0;t=dt(e.doc,t),e.options.lineWrapping||(n=_r(e.display)*t.ch);var r=Qe(e.doc,t.line),i=on(r)+Un(e.display);return{left:n,right:n,top:i,bottom:i+r.height}}function xr(e,t,n,r,i){var o=it(e,t,n);return o.xRel=i,r&&(o.outside=r),o}function wr(e,t,n){var r=e.doc;if((n+=e.display.viewOffset)<0)return xr(r.first,0,null,-1,-1);var i=tt(r,n),o=r.first+r.size-1;if(i>o)return xr(r.first+r.size-1,Qe(r,o).text.length,null,1,1);t<0&&(t=0);for(var a=Qe(r,i);;){var l=Nr(e,a,i,t,n),s=Gt(a,l.ch+(l.xRel>0||l.outside>0?1:0));if(!s)return l;var c=s.find(1);if(c.line==i)return c;a=Qe(r,i=c.line)}}function kr(e,t,n,r){r-=hr(t);var i=t.text.length,o=le((function(t){return nr(e,n,t-1).bottom<=r}),i,0);return{begin:o,end:i=le((function(t){return nr(e,n,t).top>r}),o,i)}}function Cr(e,t,n,r){return n||(n=tr(e,t)),kr(e,t,n,mr(e,t,nr(e,n,r),"line").top)}function Sr(e,t,n,r){return!(e.bottom<=n)&&(e.top>n||(r?e.left:e.right)>t)}function Nr(e,t,n,r,i){i-=on(t);var o=tr(e,t),a=hr(t),l=0,s=t.text.length,c=!0,u=fe(t,e.doc.direction);if(u){var d=(e.options.lineWrapping?Lr:Tr)(e,t,n,o,u,r,i);l=(c=1!=d.level)?d.from:d.to-1,s=c?d.to:d.from-1}var f,p,h=null,m=null,v=le((function(t){var n=nr(e,o,t);return n.top+=a,n.bottom+=a,!!Sr(n,r,i,!1)&&(n.top<=i&&n.left<=r&&(h=t,m=n),!0)}),l,s),g=!1;if(m){var y=r-m.left<m.right-r,b=y==c;v=h+(b?0:1),p=b?"after":"before",f=y?m.left:m.right}else{c||v!=s&&v!=l||v++,p=0==v?"after":v==t.text.length?"before":nr(e,o,v-(c?1:0)).bottom+a<=i==c?"after":"before";var x=yr(e,it(n,v,p),"line",t,o);f=x.left,g=i<x.top?-1:i>=x.bottom?1:0}return xr(n,v=ae(t.text,v,1),p,g,r-f)}function Tr(e,t,n,r,i,o,a){var l=le((function(l){var s=i[l],c=1!=s.level;return Sr(yr(e,it(n,c?s.to:s.from,c?"before":"after"),"line",t,r),o,a,!0)}),0,i.length-1),s=i[l];if(l>0){var c=1!=s.level,u=yr(e,it(n,c?s.from:s.to,c?"after":"before"),"line",t,r);Sr(u,o,a,!0)&&u.top>a&&(s=i[l-1])}return s}function Lr(e,t,n,r,i,o,a){var l=kr(e,t,r,a),s=l.begin,c=l.end;/\s/.test(t.text.charAt(c-1))&&c--;for(var u=null,d=null,f=0;f<i.length;f++){var p=i[f];if(!(p.from>=c||p.to<=s)){var h=nr(e,r,1!=p.level?Math.min(c,p.to)-1:Math.max(s,p.from)).right,m=h<o?o-h+1e9:h-o;(!u||d>m)&&(u=p,d=m)}}return u||(u=i[i.length-1]),u.from<s&&(u={from:s,to:u.to,level:u.level}),u.to>c&&(u={from:u.from,to:c,level:u.level}),u}function Er(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==rr){rr=_("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)rr.appendChild(document.createTextNode("x")),rr.appendChild(_("br"));rr.appendChild(document.createTextNode("x"))}E(e.measure,rr);var n=rr.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),L(e.measure),n||1}function _r(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=_("span","xxxxxxxxxx"),n=_("pre",[t],"CodeMirror-line-like");E(e.measure,n);var r=t.getBoundingClientRect(),i=(r.right-r.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}function jr(e){for(var t=e.display,n={},r={},i=t.gutters.clientLeft,o=t.gutters.firstChild,a=0;o;o=o.nextSibling,++a){var l=e.display.gutterSpecs[a].className;n[l]=o.offsetLeft+o.clientLeft+i,r[l]=o.clientWidth}return{fixedPos:Or(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function Or(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function Mr(e){var t=Er(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/_r(e.display)-3);return function(i){if(nn(e.doc,i))return 0;var o=0;if(i.widgets)for(var a=0;a<i.widgets.length;a++)i.widgets[a].height&&(o+=i.widgets[a].height);return n?o+(Math.ceil(i.text.length/r)||1)*t:o+t}}function Ir(e){var t=e.doc,n=Mr(e);t.iter((function(e){var t=n(e);t!=e.height&&Ze(e,t)}))}function Ar(e,t,n,r){var i=e.display;if(!n&&"true"==Te(t).getAttribute("cm-not-content"))return null;var o,a,l=i.lineSpace.getBoundingClientRect();try{o=t.clientX-l.left,a=t.clientY-l.top}catch(d){return null}var s,c=wr(e,o,a);if(r&&c.xRel>0&&(s=Qe(e.doc,c.line).text).length==c.ch){var u=V(s,s.length,e.options.tabSize)-s.length;c=it(c.line,Math.max(0,Math.round((o-$n(e.display).left)/_r(e.display))-u))}return c}function Fr(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var n=e.display.view,r=0;r<n.length;r++)if((t-=n[r].size)<0)return r}function Dr(e,t,n,r){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),r||(r=0);var i=e.display;if(r&&n<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)_t&&en(e.doc,t)<i.viewTo&&Vr(e);else if(n<=i.viewFrom)_t&&tn(e.doc,n+r)>i.viewFrom?Vr(e):(i.viewFrom+=r,i.viewTo+=r);else if(t<=i.viewFrom&&n>=i.viewTo)Vr(e);else if(t<=i.viewFrom){var o=zr(e,n,n+r,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=r):Vr(e)}else if(n>=i.viewTo){var a=zr(e,t,t,-1);a?(i.view=i.view.slice(0,a.index),i.viewTo=a.lineN):Vr(e)}else{var l=zr(e,t,t,-1),s=zr(e,n,n+r,1);l&&s?(i.view=i.view.slice(0,l.index).concat(kn(e,l.lineN,s.lineN)).concat(i.view.slice(s.index)),i.viewTo+=r):Vr(e)}var c=i.externalMeasured;c&&(n<c.lineN?c.lineN+=r:t<c.lineN+c.size&&(i.externalMeasured=null))}function Pr(e,t,n){e.curOp.viewChanged=!0;var r=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var o=r.view[Fr(e,t)];if(null!=o.node){var a=o.changes||(o.changes=[]);-1==R(a,n)&&a.push(n)}}}function Vr(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function zr(e,t,n,r){var i,o=Fr(e,t),a=e.display.view;if(!_t||n==e.doc.first+e.doc.size)return{index:o,lineN:n};for(var l=e.display.viewFrom,s=0;s<o;s++)l+=a[s].size;if(l!=t){if(r>0){if(o==a.length-1)return null;i=l+a[o].size-t,o++}else i=l-t;t+=i,n+=i}for(;en(e.doc,n)!=n;){if(o==(r<0?0:a.length-1))return null;n+=r*a[o-(r<0?1:0)].size,o+=r}return{index:o,lineN:n}}function Rr(e,t,n){var r=e.display;0==r.view.length||t>=r.viewTo||n<=r.viewFrom?(r.view=kn(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=kn(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(Fr(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(kn(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,Fr(e,n)))),r.viewTo=n}function Br(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var i=t[r];i.hidden||i.node&&!i.changes||++n}return n}function Hr(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Wr(e,t){void 0===t&&(t=!0);for(var n=e.doc,r={},i=r.cursors=document.createDocumentFragment(),o=r.selection=document.createDocumentFragment(),a=0;a<n.sel.ranges.length;a++)if(t||a!=n.sel.primIndex){var l=n.sel.ranges[a];if(!(l.from().line>=e.display.viewTo||l.to().line<e.display.viewFrom)){var s=l.empty();(s||e.options.showCursorWhenSelecting)&&Ur(e,l.head,i),s||$r(e,l,o)}}return r}function Ur(e,t,n){var r=yr(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),i=n.appendChild(_("div","\xa0","CodeMirror-cursor"));if(i.style.left=r.left+"px",i.style.top=r.top+"px",i.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(e.getWrapperElement().className)){var o=gr(e,t,"div",null,null);i.style.width=Math.max(0,o.right-o.left)+"px"}if(r.other){var a=n.appendChild(_("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));a.style.display="",a.style.left=r.other.left+"px",a.style.top=r.other.top+"px",a.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function qr(e,t){return e.top-t.top||e.left-t.left}function $r(e,t,n){var r=e.display,i=e.doc,o=document.createDocumentFragment(),a=$n(e.display),l=a.left,s=Math.max(r.sizerWidth,Yn(e)-r.sizer.offsetLeft)-a.right,c="ltr"==i.direction;function u(e,t,n,r){t<0&&(t=0),t=Math.round(t),r=Math.round(r),o.appendChild(_("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==n?s-e:n)+"px;\n                             height: "+(r-t)+"px"))}function d(t,n,r){var o,a,d=Qe(i,t),f=d.text.length;function p(n,r){return gr(e,it(t,n),"div",d,r)}function h(t,n,r){var i=Cr(e,d,null,t),o="ltr"==n==("after"==r)?"left":"right";return p("after"==r?i.begin:i.end-(/\s/.test(d.text.charAt(i.end-1))?2:1),o)[o]}var m=fe(d,i.direction);return se(m,n||0,null==r?f:r,(function(e,t,i,d){var v="ltr"==i,g=p(e,v?"left":"right"),y=p(t-1,v?"right":"left"),b=null==n&&0==e,x=null==r&&t==f,w=0==d,k=!m||d==m.length-1;if(y.top-g.top<=3){var C=(c?x:b)&&k,S=(c?b:x)&&w?l:(v?g:y).left,N=C?s:(v?y:g).right;u(S,g.top,N-S,g.bottom)}else{var T,L,E,_;v?(T=c&&b&&w?l:g.left,L=c?s:h(e,i,"before"),E=c?l:h(t,i,"after"),_=c&&x&&k?s:y.right):(T=c?h(e,i,"before"):l,L=!c&&b&&w?s:g.right,E=!c&&x&&k?l:y.left,_=c?h(t,i,"after"):s),u(T,g.top,L-T,g.bottom),g.bottom<y.top&&u(l,g.bottom,null,y.top),u(E,y.top,_-E,y.bottom)}(!o||qr(g,o)<0)&&(o=g),qr(y,o)<0&&(o=y),(!a||qr(g,a)<0)&&(a=g),qr(y,a)<0&&(a=y)})),{start:o,end:a}}var f=t.from(),p=t.to();if(f.line==p.line)d(f.line,f.ch,p.ch);else{var h=Qe(i,f.line),m=Qe(i,p.line),v=Xt(h)==Xt(m),g=d(f.line,f.ch,v?h.text.length+1:null).end,y=d(p.line,v?0:null,p.ch).start;v&&(g.top<y.top-2?(u(g.right,g.top,null,g.bottom),u(l,y.top,y.left,y.bottom)):u(g.right,g.top,y.left-g.right,g.bottom)),g.bottom<y.top&&u(l,g.bottom,null,y.top)}n.appendChild(o)}function Kr(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval((function(){e.hasFocus()||Xr(e),t.cursorDiv.style.visibility=(n=!n)?"":"hidden"}),e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Yr(e){e.hasFocus()||(e.display.input.focus(),e.state.focused||Qr(e))}function Gr(e){e.state.delayingBlurEvent=!0,setTimeout((function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,e.state.focused&&Xr(e))}),100)}function Qr(e,t){e.state.delayingBlurEvent&&!e.state.draggingText&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(ge(e,"focus",e,t),e.state.focused=!0,I(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),s&&setTimeout((function(){return e.display.input.reset(!0)}),20)),e.display.input.receivedFocus()),Kr(e))}function Xr(e,t){e.state.delayingBlurEvent||(e.state.focused&&(ge(e,"blur",e,t),e.state.focused=!1,T(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout((function(){e.state.focused||(e.display.shift=!1)}),150))}function Jr(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=0;r<t.view.length;r++){var i=t.view[r],o=e.options.lineWrapping,s=void 0,c=0;if(!i.hidden){if(a&&l<8){var u=i.node.offsetTop+i.node.offsetHeight;s=u-n,n=u}else{var d=i.node.getBoundingClientRect();s=d.bottom-d.top,!o&&i.text.firstChild&&(c=i.text.firstChild.getBoundingClientRect().right-d.left-1)}var f=i.line.height-s;if((f>.005||f<-.005)&&(Ze(i.line,s),Zr(i.line),i.rest))for(var p=0;p<i.rest.length;p++)Zr(i.rest[p]);if(c>e.display.sizerWidth){var h=Math.ceil(c/_r(e.display));h>e.display.maxLineLength&&(e.display.maxLineLength=h,e.display.maxLine=i.line,e.display.maxLineChanged=!0)}}}}function Zr(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var n=e.widgets[t],r=n.node.parentNode;r&&(n.height=r.offsetHeight)}}function ei(e,t,n){var r=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-Un(e));var i=n&&null!=n.bottom?n.bottom:r+e.wrapper.clientHeight,o=tt(t,r),a=tt(t,i);if(n&&n.ensure){var l=n.ensure.from.line,s=n.ensure.to.line;l<o?(o=l,a=tt(t,on(Qe(t,l))+e.wrapper.clientHeight)):Math.min(s,t.lastLine())>=a&&(o=tt(t,on(Qe(t,s))-e.wrapper.clientHeight),a=s)}return{from:o,to:Math.max(a,o+1)}}function ti(e,t){if(!ye(e,"scrollCursorIntoView")){var n=e.display,r=n.sizer.getBoundingClientRect(),i=null;if(t.top+r.top<0?i=!0:t.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!h){var o=_("div","\u200b",null,"position: absolute;\n                         top: "+(t.top-n.viewOffset-Un(e.display))+"px;\n                         height: "+(t.bottom-t.top+Kn(e)+n.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(i),e.display.lineSpace.removeChild(o)}}}function ni(e,t,n,r){var i;null==r&&(r=0),e.options.lineWrapping||t!=n||(n="before"==t.sticky?it(t.line,t.ch+1,"before"):t,t=t.ch?it(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t);for(var o=0;o<5;o++){var a=!1,l=yr(e,t),s=n&&n!=t?yr(e,n):l,c=ii(e,i={left:Math.min(l.left,s.left),top:Math.min(l.top,s.top)-r,right:Math.max(l.left,s.left),bottom:Math.max(l.bottom,s.bottom)+r}),u=e.doc.scrollTop,d=e.doc.scrollLeft;if(null!=c.scrollTop&&(di(e,c.scrollTop),Math.abs(e.doc.scrollTop-u)>1&&(a=!0)),null!=c.scrollLeft&&(pi(e,c.scrollLeft),Math.abs(e.doc.scrollLeft-d)>1&&(a=!0)),!a)break}return i}function ri(e,t){var n=ii(e,t);null!=n.scrollTop&&di(e,n.scrollTop),null!=n.scrollLeft&&pi(e,n.scrollLeft)}function ii(e,t){var n=e.display,r=Er(e.display);t.top<0&&(t.top=0);var i=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:n.scroller.scrollTop,o=Gn(e),a={};t.bottom-t.top>o&&(t.bottom=t.top+o);var l=e.doc.height+qn(n),s=t.top<r,c=t.bottom>l-r;if(t.top<i)a.scrollTop=s?0:t.top;else if(t.bottom>i+o){var u=Math.min(t.top,(c?l:t.bottom)-o);u!=i&&(a.scrollTop=u)}var d=e.options.fixedGutter?0:n.gutters.offsetWidth,f=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:n.scroller.scrollLeft-d,p=Yn(e)-n.gutters.offsetWidth,h=t.right-t.left>p;return h&&(t.right=t.left+p),t.left<10?a.scrollLeft=0:t.left<f?a.scrollLeft=Math.max(0,t.left+d-(h?0:10)):t.right>p+f-3&&(a.scrollLeft=t.right+(h?0:10)-p),a}function oi(e,t){null!=t&&(ci(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function ai(e){ci(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function li(e,t,n){null==t&&null==n||ci(e),null!=t&&(e.curOp.scrollLeft=t),null!=n&&(e.curOp.scrollTop=n)}function si(e,t){ci(e),e.curOp.scrollToPos=t}function ci(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,ui(e,br(e,t.from),br(e,t.to),t.margin))}function ui(e,t,n,r){var i=ii(e,{left:Math.min(t.left,n.left),top:Math.min(t.top,n.top)-r,right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)+r});li(e,i.scrollLeft,i.scrollTop)}function di(e,t){Math.abs(e.doc.scrollTop-t)<2||(n||Hi(e,{top:t}),fi(e,t,!0),n&&Hi(e),Ai(e,100))}function fi(e,t,n){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),(e.display.scroller.scrollTop!=t||n)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function pi(e,t,n,r){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!r||(e.doc.scrollLeft=t,$i(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function hi(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+qn(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+Kn(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}var mi=function(e,t,n){this.cm=n;var r=this.vert=_("div",[_("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=_("div",[_("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");r.tabIndex=i.tabIndex=-1,e(r),e(i),he(r,"scroll",(function(){r.clientHeight&&t(r.scrollTop,"vertical")})),he(i,"scroll",(function(){i.clientWidth&&t(i.scrollLeft,"horizontal")})),this.checkedZeroWidth=!1,a&&l<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};mi.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0";var i=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:t?r:0}},mi.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},mi.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},mi.prototype.zeroWidthHack=function(){var e=y&&!p?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new z,this.disableVert=new z},mi.prototype.enableZeroWidthBar=function(e,t,n){function r(){var i=e.getBoundingClientRect();("vert"==n?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1))!=e?e.style.pointerEvents="none":t.set(1e3,r)}e.style.pointerEvents="auto",t.set(1e3,r)},mi.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var vi=function(){};function gi(e,t){t||(t=hi(e));var n=e.display.barWidth,r=e.display.barHeight;yi(e,t);for(var i=0;i<4&&n!=e.display.barWidth||r!=e.display.barHeight;i++)n!=e.display.barWidth&&e.options.lineWrapping&&Jr(e),yi(e,hi(e)),n=e.display.barWidth,r=e.display.barHeight}function yi(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}vi.prototype.update=function(){return{bottom:0,right:0}},vi.prototype.setScrollLeft=function(){},vi.prototype.setScrollTop=function(){},vi.prototype.clear=function(){};var bi={native:mi,null:vi};function xi(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&T(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new bi[e.options.scrollbarStyle]((function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),he(t,"mousedown",(function(){e.state.focused&&setTimeout((function(){return e.display.input.focus()}),0)})),t.setAttribute("cm-not-content","true")}),(function(t,n){"horizontal"==n?pi(e,t):di(e,t)}),e),e.display.scrollbars.addClass&&I(e.display.wrapper,e.display.scrollbars.addClass)}var wi=0;function ki(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++wi,markArrays:null},Sn(e.curOp)}function Ci(e){var t=e.curOp;t&&Tn(t,(function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;Si(e)}))}function Si(e){for(var t=e.ops,n=0;n<t.length;n++)Ni(t[n]);for(var r=0;r<t.length;r++)Ti(t[r]);for(var i=0;i<t.length;i++)Li(t[i]);for(var o=0;o<t.length;o++)Ei(t[o]);for(var a=0;a<t.length;a++)_i(t[a])}function Ni(e){var t=e.cm,n=t.display;Pi(t),e.updateMaxLine&&ln(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new Di(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Ti(e){e.updatedDisplay=e.mustUpdate&&Ri(e.cm,e.update)}function Li(e){var t=e.cm,n=t.display;e.updatedDisplay&&Jr(t),e.barMeasure=hi(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Zn(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+Kn(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Yn(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function Ei(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&pi(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==M();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&gi(t,e.barMeasure),e.updatedDisplay&&qi(t,e.barMeasure),e.selectionChanged&&Kr(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&Yr(e.cm)}function _i(e){var t=e.cm,n=t.display,r=t.doc;e.updatedDisplay&&Bi(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=e.scrollTop&&fi(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&pi(t,e.scrollLeft,!0,!0),e.scrollToPos&&ti(t,ni(t,dt(r,e.scrollToPos.from),dt(r,e.scrollToPos.to),e.scrollToPos.margin));var i=e.maybeHiddenMarkers,o=e.maybeUnhiddenMarkers;if(i)for(var a=0;a<i.length;++a)i[a].lines.length||ge(i[a],"hide");if(o)for(var l=0;l<o.length;++l)o[l].lines.length&&ge(o[l],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&ge(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function ji(e,t){if(e.curOp)return t();ki(e);try{return t()}finally{Ci(e)}}function Oi(e,t){return function(){if(e.curOp)return t.apply(e,arguments);ki(e);try{return t.apply(e,arguments)}finally{Ci(e)}}}function Mi(e){return function(){if(this.curOp)return e.apply(this,arguments);ki(this);try{return e.apply(this,arguments)}finally{Ci(this)}}}function Ii(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);ki(t);try{return e.apply(this,arguments)}finally{Ci(t)}}}function Ai(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,D(Fi,e))}function Fi(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=yt(e,t.highlightFrontier),i=[];t.iter(r.line,Math.min(t.first+t.size,e.display.viewTo+500),(function(o){if(r.line>=e.display.viewFrom){var a=o.styles,l=o.text.length>e.options.maxHighlightLength?$e(t.mode,r.state):null,s=vt(e,o,r,!0);l&&(r.state=l),o.styles=s.styles;var c=o.styleClasses,u=s.classes;u?o.styleClasses=u:c&&(o.styleClasses=null);for(var d=!a||a.length!=o.styles.length||c!=u&&(!c||!u||c.bgClass!=u.bgClass||c.textClass!=u.textClass),f=0;!d&&f<a.length;++f)d=a[f]!=o.styles[f];d&&i.push(r.line),o.stateAfter=r.save(),r.nextLine()}else o.text.length<=e.options.maxHighlightLength&&bt(e,o.text,r),o.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>n)return Ai(e,e.options.workDelay),!0})),t.highlightFrontier=r.line,t.modeFrontier=Math.max(t.modeFrontier,r.line),i.length&&ji(e,(function(){for(var t=0;t<i.length;t++)Pr(e,i[t],"text")}))}}var Di=function(e,t,n){var r=e.display;this.viewport=t,this.visible=ei(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=Yn(e),this.force=n,this.dims=jr(e),this.events=[]};function Pi(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Kn(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Kn(e)+"px",t.scrollbarsClipped=!0)}function Vi(e){if(e.hasFocus())return null;var t=M();if(!t||!O(e.display.lineDiv,t))return null;var n={activeElt:t};if(window.getSelection){var r=window.getSelection();r.anchorNode&&r.extend&&O(e.display.lineDiv,r.anchorNode)&&(n.anchorNode=r.anchorNode,n.anchorOffset=r.anchorOffset,n.focusNode=r.focusNode,n.focusOffset=r.focusOffset)}return n}function zi(e){if(e&&e.activeElt&&e.activeElt!=M()&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&O(document.body,e.anchorNode)&&O(document.body,e.focusNode))){var t=window.getSelection(),n=document.createRange();n.setEnd(e.anchorNode,e.anchorOffset),n.collapse(!1),t.removeAllRanges(),t.addRange(n),t.extend(e.focusNode,e.focusOffset)}}function Ri(e,t){var n=e.display,r=e.doc;if(t.editorIsHidden)return Vr(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==Br(e))return!1;Ki(e)&&(Vr(e),t.dims=jr(e));var i=r.first+r.size,o=Math.max(t.visible.from-e.options.viewportMargin,r.first),a=Math.min(i,t.visible.to+e.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(r.first,n.viewFrom)),n.viewTo>a&&n.viewTo-a<20&&(a=Math.min(i,n.viewTo)),_t&&(o=en(e.doc,o),a=tn(e.doc,a));var l=o!=n.viewFrom||a!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;Rr(e,o,a),n.viewOffset=on(Qe(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var s=Br(e);if(!l&&0==s&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var c=Vi(e);return s>4&&(n.lineDiv.style.display="none"),Wi(e,n.updateLineNumbers,t.dims),s>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,zi(c),L(n.cursorDiv),L(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,l&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,Ai(e,400)),n.updateLineNumbers=null,!0}function Bi(e,t){for(var n=t.viewport,r=!0;;r=!1){if(r&&e.options.lineWrapping&&t.oldDisplayWidth!=Yn(e))r&&(t.visible=ei(e.display,e.doc,n));else if(n&&null!=n.top&&(n={top:Math.min(e.doc.height+qn(e.display)-Gn(e),n.top)}),t.visible=ei(e.display,e.doc,n),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break;if(!Ri(e,t))break;Jr(e);var i=hi(e);Hr(e),gi(e,i),qi(e,i),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function Hi(e,t){var n=new Di(e,t);if(Ri(e,n)){Jr(e),Bi(e,n);var r=hi(e);Hr(e),gi(e,r),qi(e,r),n.finish()}}function Wi(e,t,n){var r=e.display,i=e.options.lineNumbers,o=r.lineDiv,a=o.firstChild;function l(t){var n=t.nextSibling;return s&&y&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var c=r.view,u=r.viewFrom,d=0;d<c.length;d++){var f=c[d];if(f.hidden);else if(f.node&&f.node.parentNode==o){for(;a!=f.node;)a=l(a);var p=i&&null!=t&&t<=u&&f.lineNumber;f.changes&&(R(f.changes,"gutter")>-1&&(p=!1),jn(e,f,u,n)),p&&(L(f.lineNumber),f.lineNumber.appendChild(document.createTextNode(rt(e.options,u)))),a=f.node.nextSibling}else{var h=Vn(e,f,u,n);o.insertBefore(h,a)}u+=f.size}for(;a;)a=l(a)}function Ui(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px",En(e,"gutterChanged",e)}function qi(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Kn(e)+"px"}function $i(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=Or(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=r+"px",a=0;a<n.length;a++)if(!n[a].hidden){e.options.fixedGutter&&(n[a].gutter&&(n[a].gutter.style.left=o),n[a].gutterBackground&&(n[a].gutterBackground.style.left=o));var l=n[a].alignable;if(l)for(var s=0;s<l.length;s++)l[s].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=r+i+"px")}}function Ki(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=rt(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild(_("div",[_("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,a=i.offsetWidth-o;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(o,r.lineGutter.offsetWidth-a)+1,r.lineNumWidth=r.lineNumInnerWidth+a,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",Ui(e.display),!0}return!1}function Yi(e,t){for(var n=[],r=!1,i=0;i<e.length;i++){var o=e[i],a=null;if("string"!=typeof o&&(a=o.style,o=o.className),"CodeMirror-linenumbers"==o){if(!t)continue;r=!0}n.push({className:o,style:a})}return t&&!r&&n.push({className:"CodeMirror-linenumbers",style:null}),n}function Gi(e){var t=e.gutters,n=e.gutterSpecs;L(t),e.lineGutter=null;for(var r=0;r<n.length;++r){var i=n[r],o=i.className,a=i.style,l=t.appendChild(_("div",null,"CodeMirror-gutter "+o));a&&(l.style.cssText=a),"CodeMirror-linenumbers"==o&&(e.lineGutter=l,l.style.width=(e.lineNumWidth||1)+"px")}t.style.display=n.length?"":"none",Ui(e)}function Qi(e){Gi(e.display),Dr(e),$i(e)}function Xi(e,t,r,i){var o=this;this.input=r,o.scrollbarFiller=_("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=_("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=j("div",null,"CodeMirror-code"),o.selectionDiv=_("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=_("div",null,"CodeMirror-cursors"),o.measure=_("div",null,"CodeMirror-measure"),o.lineMeasure=_("div",null,"CodeMirror-measure"),o.lineSpace=j("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var c=j("div",[o.lineSpace],"CodeMirror-lines");o.mover=_("div",[c],null,"position: relative"),o.sizer=_("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=_("div",null,null,"position: absolute; height: "+B+"px; width: 1px;"),o.gutters=_("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=_("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=_("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),o.wrapper.setAttribute("translate","no"),a&&l<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),s||n&&g||(o.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(o.wrapper):e(o.wrapper)),o.viewFrom=o.viewTo=t.first,o.reportedViewFrom=o.reportedViewTo=t.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,o.gutterSpecs=Yi(i.gutters,i.lineNumbers),Gi(o),r.init(o)}Di.prototype.signal=function(e,t){xe(e,t)&&this.events.push(arguments)},Di.prototype.finish=function(){for(var e=0;e<this.events.length;e++)ge.apply(null,this.events[e])};var Ji=0,Zi=null;function eo(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}}function to(e){var t=eo(e);return t.x*=Zi,t.y*=Zi,t}function no(e,t){var r=eo(t),i=r.x,o=r.y,a=e.display,l=a.scroller,c=l.scrollWidth>l.clientWidth,u=l.scrollHeight>l.clientHeight;if(i&&c||o&&u){if(o&&y&&s)e:for(var f=t.target,p=a.view;f!=l;f=f.parentNode)for(var h=0;h<p.length;h++)if(p[h].node==f){e.display.currentWheelTarget=f;break e}if(i&&!n&&!d&&null!=Zi)return o&&u&&di(e,Math.max(0,l.scrollTop+o*Zi)),pi(e,Math.max(0,l.scrollLeft+i*Zi)),(!o||o&&u)&&ke(t),void(a.wheelStartX=null);if(o&&null!=Zi){var m=o*Zi,v=e.doc.scrollTop,g=v+a.wrapper.clientHeight;m<0?v=Math.max(0,v+m-50):g=Math.min(e.doc.height,g+m+50),Hi(e,{top:v,bottom:g})}Ji<20&&(null==a.wheelStartX?(a.wheelStartX=l.scrollLeft,a.wheelStartY=l.scrollTop,a.wheelDX=i,a.wheelDY=o,setTimeout((function(){if(null!=a.wheelStartX){var e=l.scrollLeft-a.wheelStartX,t=l.scrollTop-a.wheelStartY,n=t&&a.wheelDY&&t/a.wheelDY||e&&a.wheelDX&&e/a.wheelDX;a.wheelStartX=a.wheelStartY=null,n&&(Zi=(Zi*Ji+n)/(Ji+1),++Ji)}}),200)):(a.wheelDX+=i,a.wheelDY+=o))}}a?Zi=-.53:n?Zi=15:u?Zi=-.7:f&&(Zi=-1/3);var ro=function(e,t){this.ranges=e,this.primIndex=t};ro.prototype.primary=function(){return this.ranges[this.primIndex]},ro.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],r=e.ranges[t];if(!at(n.anchor,r.anchor)||!at(n.head,r.head))return!1}return!0},ro.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new io(lt(this.ranges[t].anchor),lt(this.ranges[t].head));return new ro(e,this.primIndex)},ro.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},ro.prototype.contains=function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(ot(t,r.from())>=0&&ot(e,r.to())<=0)return n}return-1};var io=function(e,t){this.anchor=e,this.head=t};function oo(e,t,n){var r=e&&e.options.selectionsMayTouch,i=t[n];t.sort((function(e,t){return ot(e.from(),t.from())})),n=R(t,i);for(var o=1;o<t.length;o++){var a=t[o],l=t[o-1],s=ot(l.to(),a.from());if(r&&!a.empty()?s>0:s>=0){var c=ct(l.from(),a.from()),u=st(l.to(),a.to()),d=l.empty()?a.from()==a.head:l.from()==l.head;o<=n&&--n,t.splice(--o,2,new io(d?u:c,d?c:u))}}return new ro(t,n)}function ao(e,t){return new ro([new io(e,t||e)],0)}function lo(e){return e.text?it(e.from.line+e.text.length-1,G(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function so(e,t){if(ot(e,t.from)<0)return e;if(ot(e,t.to)<=0)return lo(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=lo(t).ch-t.to.ch),it(n,r)}function co(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var i=e.sel.ranges[r];n.push(new io(so(i.anchor,t),so(i.head,t)))}return oo(e.cm,n,e.sel.primIndex)}function uo(e,t,n){return e.line==t.line?it(n.line,e.ch-t.ch+n.ch):it(n.line+(e.line-t.line),e.ch)}function fo(e,t,n){for(var r=[],i=it(e.first,0),o=i,a=0;a<t.length;a++){var l=t[a],s=uo(l.from,i,o),c=uo(lo(l),i,o);if(i=l.to,o=c,"around"==n){var u=e.sel.ranges[a],d=ot(u.head,u.anchor)<0;r[a]=new io(d?c:s,d?s:c)}else r[a]=new io(s,s)}return new ro(r,e.sel.primIndex)}function po(e){e.doc.mode=We(e.options,e.doc.modeOption),ho(e)}function ho(e){e.doc.iter((function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)})),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,Ai(e,100),e.state.modeGen++,e.curOp&&Dr(e)}function mo(e,t){return 0==t.from.ch&&0==t.to.ch&&""==G(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function vo(e,t,n,r){function i(e){return n?n[e]:null}function o(e,n,i){cn(e,n,i,r),En(e,"change",e,t)}function a(e,t){for(var n=[],o=e;o<t;++o)n.push(new sn(c[o],i(o),r));return n}var l=t.from,s=t.to,c=t.text,u=Qe(e,l.line),d=Qe(e,s.line),f=G(c),p=i(c.length-1),h=s.line-l.line;if(t.full)e.insert(0,a(0,c.length)),e.remove(c.length,e.size-c.length);else if(mo(e,t)){var m=a(0,c.length-1);o(d,d.text,p),h&&e.remove(l.line,h),m.length&&e.insert(l.line,m)}else if(u==d)if(1==c.length)o(u,u.text.slice(0,l.ch)+f+u.text.slice(s.ch),p);else{var v=a(1,c.length-1);v.push(new sn(f+u.text.slice(s.ch),p,r)),o(u,u.text.slice(0,l.ch)+c[0],i(0)),e.insert(l.line+1,v)}else if(1==c.length)o(u,u.text.slice(0,l.ch)+c[0]+d.text.slice(s.ch),i(0)),e.remove(l.line+1,h);else{o(u,u.text.slice(0,l.ch)+c[0],i(0)),o(d,f+d.text.slice(s.ch),p);var g=a(1,c.length-1);h>1&&e.remove(l.line+1,h-1),e.insert(l.line+1,g)}En(e,"change",e,t)}function go(e,t,n){function r(e,i,o){if(e.linked)for(var a=0;a<e.linked.length;++a){var l=e.linked[a];if(l.doc!=i){var s=o&&l.sharedHist;n&&!s||(t(l.doc,s),r(l.doc,e,s))}}}r(e,null,!0)}function yo(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,Ir(e),po(e),bo(e),e.options.direction=t.direction,e.options.lineWrapping||ln(e),e.options.mode=t.modeOption,Dr(e)}function bo(e){("rtl"==e.doc.direction?I:T)(e.display.lineDiv,"CodeMirror-rtl")}function xo(e){ji(e,(function(){bo(e),Dr(e)}))}function wo(e){this.done=[],this.undone=[],this.undoDepth=e?e.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e?e.maxGeneration:1}function ko(e,t){var n={from:lt(t.from),to:lo(t),text:Xe(e,t.from,t.to)};return _o(e,n,t.from.line,t.to.line+1),go(e,(function(e){return _o(e,n,t.from.line,t.to.line+1)}),!0),n}function Co(e){for(;e.length&&G(e).ranges;)e.pop()}function So(e,t){return t?(Co(e.done),G(e.done)):e.done.length&&!G(e.done).ranges?G(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),G(e.done)):void 0}function No(e,t,n,r){var i=e.history;i.undone.length=0;var o,a,l=+new Date;if((i.lastOp==r||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&i.lastModTime>l-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(o=So(i,i.lastOp==r)))a=G(o.changes),0==ot(t.from,t.to)&&0==ot(t.from,a.to)?a.to=lo(t):o.changes.push(ko(e,t));else{var s=G(i.done);for(s&&s.ranges||Eo(e.sel,i.done),o={changes:[ko(e,t)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=l,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=t.origin,a||ge(e,"historyAdded")}function To(e,t,n,r){var i=t.charAt(0);return"*"==i||"+"==i&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function Lo(e,t,n,r){var i=e.history,o=r&&r.origin;n==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||To(e,o,G(i.done),t))?i.done[i.done.length-1]=t:Eo(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=n,r&&!1!==r.clearRedo&&Co(i.undone)}function Eo(e,t){var n=G(t);n&&n.ranges&&n.equals(e)||t.push(e)}function _o(e,t,n,r){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),(function(n){n.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=n.markedSpans),++o}))}function jo(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function Oo(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=[],i=0;i<t.text.length;++i)r.push(jo(n[i]));return r}function Mo(e,t){var n=Oo(e,t),r=Vt(e,t);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var o=n[i],a=r[i];if(o&&a)e:for(var l=0;l<a.length;++l){for(var s=a[l],c=0;c<o.length;++c)if(o[c].marker==s.marker)continue e;o.push(s)}else a&&(n[i]=a)}return n}function Io(e,t,n){for(var r=[],i=0;i<e.length;++i){var o=e[i];if(o.ranges)r.push(n?ro.prototype.deepCopy.call(o):o);else{var a=o.changes,l=[];r.push({changes:l});for(var s=0;s<a.length;++s){var c=a[s],u=void 0;if(l.push({from:c.from,to:c.to,text:c.text}),t)for(var d in c)(u=d.match(/^spans_(\d+)$/))&&R(t,Number(u[1]))>-1&&(G(l)[d]=c[d],delete c[d])}}}return r}function Ao(e,t,n,r){if(r){var i=e.anchor;if(n){var o=ot(t,i)<0;o!=ot(n,i)<0?(i=t,t=n):o!=ot(t,n)<0&&(t=n)}return new io(i,t)}return new io(n||t,t)}function Fo(e,t,n,r,i){null==i&&(i=e.cm&&(e.cm.display.shift||e.extend)),Bo(e,new ro([Ao(e.sel.primary(),t,n,i)],0),r)}function Do(e,t,n){for(var r=[],i=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)r[o]=Ao(e.sel.ranges[o],t[o],null,i);Bo(e,oo(e.cm,r,e.sel.primIndex),n)}function Po(e,t,n,r){var i=e.sel.ranges.slice(0);i[t]=n,Bo(e,oo(e.cm,i,e.sel.primIndex),r)}function Vo(e,t,n,r){Bo(e,ao(t,n),r)}function zo(e,t,n){var r={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new io(dt(e,t[n].anchor),dt(e,t[n].head))},origin:n&&n.origin};return ge(e,"beforeSelectionChange",e,r),e.cm&&ge(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=t.ranges?oo(e.cm,r.ranges,r.ranges.length-1):t}function Ro(e,t,n){var r=e.history.done,i=G(r);i&&i.ranges?(r[r.length-1]=t,Ho(e,t,n)):Bo(e,t,n)}function Bo(e,t,n){Ho(e,t,n),Lo(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function Ho(e,t,n){(xe(e,"beforeSelectionChange")||e.cm&&xe(e.cm,"beforeSelectionChange"))&&(t=zo(e,t,n));var r=n&&n.bias||(ot(t.primary().head,e.sel.primary().head)<0?-1:1);Wo(e,qo(e,t,r,!0)),n&&!1===n.scroll||!e.cm||"nocursor"==e.cm.getOption("readOnly")||ai(e.cm)}function Wo(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,be(e.cm)),En(e,"cursorActivity",e))}function Uo(e){Wo(e,qo(e,e.sel,null,!1))}function qo(e,t,n,r){for(var i,o=0;o<t.ranges.length;o++){var a=t.ranges[o],l=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],s=Ko(e,a.anchor,l&&l.anchor,n,r),c=Ko(e,a.head,l&&l.head,n,r);(i||s!=a.anchor||c!=a.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new io(s,c))}return i?oo(e.cm,i,t.primIndex):t}function $o(e,t,n,r,i){var o=Qe(e,t.line);if(o.markedSpans)for(var a=0;a<o.markedSpans.length;++a){var l=o.markedSpans[a],s=l.marker,c="selectLeft"in s?!s.selectLeft:s.inclusiveLeft,u="selectRight"in s?!s.selectRight:s.inclusiveRight;if((null==l.from||(c?l.from<=t.ch:l.from<t.ch))&&(null==l.to||(u?l.to>=t.ch:l.to>t.ch))){if(i&&(ge(s,"beforeCursorEnter"),s.explicitlyCleared)){if(o.markedSpans){--a;continue}break}if(!s.atomic)continue;if(n){var d=s.find(r<0?1:-1),f=void 0;if((r<0?u:c)&&(d=Yo(e,d,-r,d&&d.line==t.line?o:null)),d&&d.line==t.line&&(f=ot(d,n))&&(r<0?f<0:f>0))return $o(e,d,t,r,i)}var p=s.find(r<0?-1:1);return(r<0?c:u)&&(p=Yo(e,p,r,p.line==t.line?o:null)),p?$o(e,p,t,r,i):null}}return t}function Ko(e,t,n,r,i){var o=r||1,a=$o(e,t,n,o,i)||!i&&$o(e,t,n,o,!0)||$o(e,t,n,-o,i)||!i&&$o(e,t,n,-o,!0);return a||(e.cantEdit=!0,it(e.first,0))}function Yo(e,t,n,r){return n<0&&0==t.ch?t.line>e.first?dt(e,it(t.line-1)):null:n>0&&t.ch==(r||Qe(e,t.line)).text.length?t.line<e.first+e.size-1?it(t.line+1,0):null:new it(t.line,t.ch+n)}function Go(e){e.setSelection(it(e.firstLine(),0),it(e.lastLine()),W)}function Qo(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return r.canceled=!0}};return n&&(r.update=function(t,n,i,o){t&&(r.from=dt(e,t)),n&&(r.to=dt(e,n)),i&&(r.text=i),void 0!==o&&(r.origin=o)}),ge(e,"beforeChange",e,r),e.cm&&ge(e.cm,"beforeChange",e.cm,r),r.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:r.from,to:r.to,text:r.text,origin:r.origin}}function Xo(e,t,n){if(e.cm){if(!e.cm.curOp)return Oi(e.cm,Xo)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(xe(e,"beforeChange")||e.cm&&xe(e.cm,"beforeChange"))||(t=Qo(e,t,!0))){var r=Et&&!n&&Rt(e,t.from,t.to);if(r)for(var i=r.length-1;i>=0;--i)Jo(e,{from:r[i].from,to:r[i].to,text:i?[""]:t.text,origin:t.origin});else Jo(e,t)}}function Jo(e,t){if(1!=t.text.length||""!=t.text[0]||0!=ot(t.from,t.to)){var n=co(e,t);No(e,t,n,e.cm?e.cm.curOp.id:NaN),ta(e,t,n,Vt(e,t));var r=[];go(e,(function(e,n){n||-1!=R(r,e.history)||(aa(e.history,t),r.push(e.history)),ta(e,t,null,Vt(e,t))}))}}function Zo(e,t,n){var r=e.cm&&e.cm.state.suppressEdits;if(!r||n){for(var i,o=e.history,a=e.sel,l="undo"==t?o.done:o.undone,s="undo"==t?o.undone:o.done,c=0;c<l.length&&(i=l[c],n?!i.ranges||i.equals(e.sel):i.ranges);c++);if(c!=l.length){for(o.lastOrigin=o.lastSelOrigin=null;;){if(!(i=l.pop()).ranges){if(r)return void l.push(i);break}if(Eo(i,s),n&&!i.equals(e.sel))return void Bo(e,i,{clearRedo:!1});a=i}var u=[];Eo(a,s),s.push({changes:u,generation:o.generation}),o.generation=i.generation||++o.maxGeneration;for(var d=xe(e,"beforeChange")||e.cm&&xe(e.cm,"beforeChange"),f=function(n){var r=i.changes[n];if(r.origin=t,d&&!Qo(e,r,!1))return l.length=0,{};u.push(ko(e,r));var o=n?co(e,r):G(l);ta(e,r,o,Mo(e,r)),!n&&e.cm&&e.cm.scrollIntoView({from:r.from,to:lo(r)});var a=[];go(e,(function(e,t){t||-1!=R(a,e.history)||(aa(e.history,r),a.push(e.history)),ta(e,r,null,Mo(e,r))}))},p=i.changes.length-1;p>=0;--p){var h=f(p);if(h)return h.v}}}}function ea(e,t){if(0!=t&&(e.first+=t,e.sel=new ro(Q(e.sel.ranges,(function(e){return new io(it(e.anchor.line+t,e.anchor.ch),it(e.head.line+t,e.head.ch))})),e.sel.primIndex),e.cm)){Dr(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)Pr(e.cm,r,"gutter")}}function ta(e,t,n,r){if(e.cm&&!e.cm.curOp)return Oi(e.cm,ta)(e,t,n,r);if(t.to.line<e.first)ea(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);ea(e,i),t={from:it(e.first,0),to:it(t.to.line+i,t.to.ch),text:[G(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:it(o,Qe(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Xe(e,t.from,t.to),n||(n=co(e,t)),e.cm?na(e.cm,t,r):vo(e,t,r),Ho(e,n,W),e.cantEdit&&Ko(e,it(e.firstLine(),0))&&(e.cantEdit=!1)}}function na(e,t,n){var r=e.doc,i=e.display,o=t.from,a=t.to,l=!1,s=o.line;e.options.lineWrapping||(s=et(Xt(Qe(r,o.line))),r.iter(s,a.line+1,(function(e){if(e==i.maxLine)return l=!0,!0}))),r.sel.contains(t.from,t.to)>-1&&be(e),vo(r,t,n,Mr(e)),e.options.lineWrapping||(r.iter(s,o.line+t.text.length,(function(e){var t=an(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,l=!1)})),l&&(e.curOp.updateMaxLine=!0)),Lt(r,o.line),Ai(e,400);var c=t.text.length-(a.line-o.line)-1;t.full?Dr(e):o.line!=a.line||1!=t.text.length||mo(e.doc,t)?Dr(e,o.line,a.line+1,c):Pr(e,o.line,"text");var u=xe(e,"changes"),d=xe(e,"change");if(d||u){var f={from:o,to:a,text:t.text,removed:t.removed,origin:t.origin};d&&En(e,"change",e,f),u&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(f)}e.display.selForContextMenu=null}function ra(e,t,n,r,i){var o;r||(r=n),ot(r,n)<0&&(n=(o=[r,n])[0],r=o[1]),"string"==typeof t&&(t=e.splitLines(t)),Xo(e,{from:n,to:r,text:t,origin:i})}function ia(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function oa(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i],a=!0;if(o.ranges){o.copied||((o=e[i]=o.deepCopy()).copied=!0);for(var l=0;l<o.ranges.length;l++)ia(o.ranges[l].anchor,t,n,r),ia(o.ranges[l].head,t,n,r)}else{for(var s=0;s<o.changes.length;++s){var c=o.changes[s];if(n<c.from.line)c.from=it(c.from.line+r,c.from.ch),c.to=it(c.to.line+r,c.to.ch);else if(t<=c.to.line){a=!1;break}}a||(e.splice(0,i+1),i=0)}}}function aa(e,t){var n=t.from.line,r=t.to.line,i=t.text.length-(r-n)-1;oa(e.done,n,r,i),oa(e.undone,n,r,i)}function la(e,t,n,r){var i=t,o=t;return"number"==typeof t?o=Qe(e,ut(e,t)):i=et(t),null==i?null:(r(o,i)&&e.cm&&Pr(e.cm,i,n),o)}function sa(e){this.lines=e,this.parent=null;for(var t=0,n=0;n<e.length;++n)e[n].parent=this,t+=e[n].height;this.height=t}function ca(e){this.children=e;for(var t=0,n=0,r=0;r<e.length;++r){var i=e[r];t+=i.chunkSize(),n+=i.height,i.parent=this}this.size=t,this.height=n,this.parent=null}io.prototype.from=function(){return ct(this.anchor,this.head)},io.prototype.to=function(){return st(this.anchor,this.head)},io.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},sa.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,r=e+t;n<r;++n){var i=this.lines[n];this.height-=i.height,un(i),En(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;e<r;++e)if(n(this.lines[e]))return!0}},ca.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var r=this.children[n],i=r.chunkSize();if(e<i){var o=Math.min(t,i-e),a=r.height;if(r.removeInner(e,o),this.height-=a-r.height,i==o&&(this.children.splice(n--,1),r.parent=null),0==(t-=o))break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof sa))){var l=[];this.collapse(l),this.children=[new sa(l)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(e<=o){if(i.insertInner(e,t,n),i.lines&&i.lines.length>50){for(var a=i.lines.length%25+25,l=a;l<i.lines.length;){var s=new sa(i.lines.slice(l,l+=25));i.height-=s.height,this.children.splice(++r,0,s),s.parent=this}i.lines=i.lines.slice(0,a),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new ca(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var n=R(e.parent.children,e);e.parent.children.splice(n+1,0,t)}else{var r=new ca(e.children);r.parent=e,e.children=[r,t],e=r}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(e<o){var a=Math.min(t,o-e);if(i.iterN(e,a,n))return!0;if(0==(t-=a))break;e=0}else e-=o}}};var ua=function(e,t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=e,this.node=t};function da(e,t,n){on(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&oi(e,n)}function fa(e,t,n,r){var i=new ua(e,n,r),o=e.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),la(e,t,"widget",(function(t){var n=t.widgets||(t.widgets=[]);if(null==i.insertAt?n.push(i):n.splice(Math.min(n.length,Math.max(0,i.insertAt)),0,i),i.line=t,o&&!nn(e,t)){var r=on(t)<e.scrollTop;Ze(t,t.height+Hn(i)),r&&oi(o,i.height),o.curOp.forceUpdate=!0}return!0})),o&&En(o,"lineWidgetAdded",o,i,"number"==typeof t?t:et(t)),i}ua.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,r=et(n);if(null!=r&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(n.widgets=null);var o=Hn(this);Ze(n,Math.max(0,n.height-o)),e&&(ji(e,(function(){da(e,n,-o),Pr(e,r,"widget")})),En(e,"lineWidgetCleared",e,this,r))}},ua.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,r=this.line;this.height=null;var i=Hn(this)-t;i&&(nn(this.doc,r)||Ze(r,r.height+i),n&&ji(n,(function(){n.curOp.forceUpdate=!0,da(n,r,i),En(n,"lineWidgetChanged",n,e,et(r))})))},we(ua);var pa=0,ha=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++pa};function ma(e,t,n,r,i){if(r&&r.shared)return ga(e,t,n,r,i);if(e.cm&&!e.cm.curOp)return Oi(e.cm,ma)(e,t,n,r,i);var o=new ha(e,i),a=ot(t,n);if(r&&P(r,o,!1),a>0||0==a&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=j("span",[o.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(Qt(e,t.line,t,n,o)||t.line!=n.line&&Qt(e,n.line,t,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");Ot()}o.addToHistory&&No(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var l,s=t.line,c=e.cm;if(e.iter(s,n.line+1,(function(r){c&&o.collapsed&&!c.options.lineWrapping&&Xt(r)==c.display.maxLine&&(l=!0),o.collapsed&&s!=t.line&&Ze(r,0),Ft(r,new Mt(o,s==t.line?t.ch:null,s==n.line?n.ch:null),e.cm&&e.cm.curOp),++s})),o.collapsed&&e.iter(t.line,n.line+1,(function(t){nn(e,t)&&Ze(t,0)})),o.clearOnEnter&&he(o,"beforeCursorEnter",(function(){return o.clear()})),o.readOnly&&(jt(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++pa,o.atomic=!0),c){if(l&&(c.curOp.updateMaxLine=!0),o.collapsed)Dr(c,t.line,n.line+1);else if(o.className||o.startStyle||o.endStyle||o.css||o.attributes||o.title)for(var u=t.line;u<=n.line;u++)Pr(c,u,"text");o.atomic&&Uo(c.doc),En(c,"markerAdded",c,o)}return o}ha.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&ki(e),xe(this,"clear")){var n=this.find();n&&En(this,"clear",n.from,n.to)}for(var r=null,i=null,o=0;o<this.lines.length;++o){var a=this.lines[o],l=It(a.markedSpans,this);e&&!this.collapsed?Pr(e,et(a),"text"):e&&(null!=l.to&&(i=et(a)),null!=l.from&&(r=et(a))),a.markedSpans=At(a.markedSpans,l),null==l.from&&this.collapsed&&!nn(this.doc,a)&&e&&Ze(a,Er(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var s=0;s<this.lines.length;++s){var c=Xt(this.lines[s]),u=an(c);u>e.display.maxLineLength&&(e.display.maxLine=c,e.display.maxLineLength=u,e.display.maxLineChanged=!0)}null!=r&&e&&this.collapsed&&Dr(e,r,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Uo(e.doc)),e&&En(e,"markerCleared",e,this,r,i),t&&Ci(e),this.parent&&this.parent.clear()}},ha.prototype.find=function(e,t){var n,r;null==e&&"bookmark"==this.type&&(e=1);for(var i=0;i<this.lines.length;++i){var o=this.lines[i],a=It(o.markedSpans,this);if(null!=a.from&&(n=it(t?o:et(o),a.from),-1==e))return n;if(null!=a.to&&(r=it(t?o:et(o),a.to),1==e))return r}return n&&{from:n,to:r}},ha.prototype.changed=function(){var e=this,t=this.find(-1,!0),n=this,r=this.doc.cm;t&&r&&ji(r,(function(){var i=t.line,o=et(t.line),a=er(r,o);if(a&&(cr(a),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!nn(n.doc,i)&&null!=n.height){var l=n.height;n.height=null;var s=Hn(n)-l;s&&Ze(i,i.height+s)}En(r,"markerChanged",r,e)}))},ha.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=R(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},ha.prototype.detachLine=function(e){if(this.lines.splice(R(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},we(ha);var va=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};function ga(e,t,n,r,i){(r=P(r)).shared=!1;var o=[ma(e,t,n,r,i)],a=o[0],l=r.widgetNode;return go(e,(function(e){l&&(r.widgetNode=l.cloneNode(!0)),o.push(ma(e,dt(e,t),dt(e,n),r,i));for(var s=0;s<e.linked.length;++s)if(e.linked[s].isParent)return;a=G(o)})),new va(o,a)}function ya(e){return e.findMarks(it(e.first,0),e.clipPos(it(e.lastLine())),(function(e){return e.parent}))}function ba(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r.find(),o=e.clipPos(i.from),a=e.clipPos(i.to);if(ot(o,a)){var l=ma(e,o,a,r.primary,r.primary.type);r.markers.push(l),l.parent=r}}}function xa(e){for(var t=function(t){var n=e[t],r=[n.primary.doc];go(n.primary.doc,(function(e){return r.push(e)}));for(var i=0;i<n.markers.length;i++){var o=n.markers[i];-1==R(r,o.doc)&&(o.parent=null,n.markers.splice(i--,1))}},n=0;n<e.length;n++)t(n)}va.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();En(this,"clear")}},va.prototype.find=function(e,t){return this.primary.find(e,t)},we(va);var wa=0,ka=function e(t,n,r,i,o){if(!(this instanceof e))return new e(t,n,r,i,o);null==r&&(r=0),ca.call(this,[new sa([new sn("",null)])]),this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=r;var a=it(r,0);this.sel=ao(a),this.history=new wo(null),this.id=++wa,this.modeOption=n,this.lineSep=i,this.direction="rtl"==o?"rtl":"ltr",this.extend=!1,"string"==typeof t&&(t=this.splitLines(t)),vo(this,{from:a,to:a,text:t}),Bo(this,ao(a),W)};ka.prototype=Z(ca.prototype,{constructor:ka,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Je(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:Ii((function(e){var t=it(this.first,0),n=this.first+this.size-1;Xo(this,{from:t,to:it(n,Qe(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&li(this.cm,0,0),Bo(this,ao(t),W)})),replaceRange:function(e,t,n,r){ra(this,e,t=dt(this,t),n=n?dt(this,n):t,r)},getRange:function(e,t,n){var r=Xe(this,dt(this,e),dt(this,t));return!1===n?r:""===n?r.join(""):r.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(nt(this,e))return Qe(this,e)},getLineNumber:function(e){return et(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Qe(this,e)),Xt(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return dt(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Ii((function(e,t,n){Vo(this,dt(this,"number"==typeof e?it(e,t||0):e),null,n)})),setSelection:Ii((function(e,t,n){Vo(this,dt(this,e),dt(this,t||e),n)})),extendSelection:Ii((function(e,t,n){Fo(this,dt(this,e),t&&dt(this,t),n)})),extendSelections:Ii((function(e,t){Do(this,pt(this,e),t)})),extendSelectionsBy:Ii((function(e,t){Do(this,pt(this,Q(this.sel.ranges,e)),t)})),setSelections:Ii((function(e,t,n){if(e.length){for(var r=[],i=0;i<e.length;i++)r[i]=new io(dt(this,e[i].anchor),dt(this,e[i].head||e[i].anchor));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Bo(this,oo(this.cm,r,t),n)}})),addSelection:Ii((function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new io(dt(this,e),dt(this,t||e))),Bo(this,oo(this.cm,r,r.length-1),n)})),getSelection:function(e){for(var t,n=this.sel.ranges,r=0;r<n.length;r++){var i=Xe(this,n[r].from(),n[r].to());t=t?t.concat(i):i}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,r=0;r<n.length;r++){var i=Xe(this,n[r].from(),n[r].to());!1!==e&&(i=i.join(e||this.lineSeparator())),t[r]=i}return t},replaceSelection:function(e,t,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:Ii((function(e,t,n){for(var r=[],i=this.sel,o=0;o<i.ranges.length;o++){var a=i.ranges[o];r[o]={from:a.from(),to:a.to(),text:this.splitLines(e[o]),origin:n}}for(var l=t&&"end"!=t&&fo(this,r,t),s=r.length-1;s>=0;s--)Xo(this,r[s]);l?Ro(this,l):this.cm&&ai(this.cm)})),undo:Ii((function(){Zo(this,"undo")})),redo:Ii((function(){Zo(this,"redo")})),undoSelection:Ii((function(){Zo(this,"undo",!0)})),redoSelection:Ii((function(){Zo(this,"redo",!0)})),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){var e=this;this.history=new wo(this.history),go(this,(function(t){return t.history=e.history}),!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Io(this.history.done),undone:Io(this.history.undone)}},setHistory:function(e){var t=this.history=new wo(this.history);t.done=Io(e.done.slice(0),null,!0),t.undone=Io(e.undone.slice(0),null,!0)},setGutterMarker:Ii((function(e,t,n){return la(this,e,"gutter",(function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=n,!n&&re(r)&&(e.gutterMarkers=null),!0}))})),clearGutter:Ii((function(e){var t=this;this.iter((function(n){n.gutterMarkers&&n.gutterMarkers[e]&&la(t,n,"gutter",(function(){return n.gutterMarkers[e]=null,re(n.gutterMarkers)&&(n.gutterMarkers=null),!0}))}))})),lineInfo:function(e){var t;if("number"==typeof e){if(!nt(this,e))return null;if(t=e,!(e=Qe(this,e)))return null}else if(null==(t=et(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:Ii((function(e,t,n){return la(this,e,"gutter"==t?"gutter":"class",(function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[r]){if(S(n).test(e[r]))return!1;e[r]+=" "+n}else e[r]=n;return!0}))})),removeLineClass:Ii((function(e,t,n){return la(this,e,"gutter"==t?"gutter":"class",(function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",i=e[r];if(!i)return!1;if(null==n)e[r]=null;else{var o=i.match(S(n));if(!o)return!1;var a=o.index+o[0].length;e[r]=i.slice(0,o.index)+(o.index&&a!=i.length?" ":"")+i.slice(a)||null}return!0}))})),addLineWidget:Ii((function(e,t,n){return fa(this,e,t,n)})),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return ma(this,dt(this,e),dt(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return ma(this,e=dt(this,e),e,n,"bookmark")},findMarksAt:function(e){var t=[],n=Qe(this,(e=dt(this,e)).line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,n){e=dt(this,e),t=dt(this,t);var r=[],i=e.line;return this.iter(e.line,t.line+1,(function(o){var a=o.markedSpans;if(a)for(var l=0;l<a.length;l++){var s=a[l];null!=s.to&&i==e.line&&e.ch>=s.to||null==s.from&&i!=e.line||null!=s.from&&i==t.line&&s.from>=t.ch||n&&!n(s.marker)||r.push(s.marker.parent||s.marker)}++i})),r},getAllMarks:function(){var e=[];return this.iter((function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&e.push(n[r].marker)})),e},posFromIndex:function(e){var t,n=this.first,r=this.lineSeparator().length;return this.iter((function(i){var o=i.text.length+r;if(o>e)return t=e,!0;e-=o,++n})),dt(this,it(n,t))},indexFromPos:function(e){var t=(e=dt(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,(function(e){t+=e.text.length+n})),t},copy:function(e){var t=new ka(Je(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var r=new ka(Je(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],ba(r,ya(this)),r},unlinkDoc:function(e){if(e instanceof Dl&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t)if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),xa(ya(this));break}if(e.history==this.history){var n=[e.id];go(e,(function(e){return n.push(e.id)}),!0),e.history=new wo(null),e.history.done=Io(this.history.done,n),e.history.undone=Io(this.history.undone,n)}},iterLinkedDocs:function(e){go(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Ie(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Ii((function(e){"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter((function(e){return e.order=null})),this.cm&&xo(this.cm))}))}),ka.prototype.eachLine=ka.prototype.iter;var Ca=0;function Sa(e){var t=this;if(La(t),!ye(t,e)&&!Wn(t.display,e)){ke(e),a&&(Ca=+new Date);var n=Ar(t,e,!0),r=e.dataTransfer.files;if(n&&!t.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,o=Array(i),l=0,s=function(){++l==i&&Oi(t,(function(){var e={from:n=dt(t.doc,n),to:n,text:t.doc.splitLines(o.filter((function(e){return null!=e})).join(t.doc.lineSeparator())),origin:"paste"};Xo(t.doc,e),Ro(t.doc,ao(dt(t.doc,n),dt(t.doc,lo(e))))}))()},c=function(e,n){if(t.options.allowDropFileTypes&&-1==R(t.options.allowDropFileTypes,e.type))s();else{var r=new FileReader;r.onerror=function(){return s()},r.onload=function(){var e=r.result;/[\x00-\x08\x0e-\x1f]{2}/.test(e)||(o[n]=e),s()},r.readAsText(e)}},u=0;u<r.length;u++)c(r[u],u);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout((function(){return t.display.input.focus()}),20);try{var d=e.dataTransfer.getData("Text");if(d){var f;if(t.state.draggingText&&!t.state.draggingText.copy&&(f=t.listSelections()),Ho(t.doc,ao(n,n)),f)for(var p=0;p<f.length;++p)ra(t.doc,"",f[p].anchor,f[p].head,"drag");t.replaceSelection(d,"around","paste"),t.display.input.focus()}}catch(h){}}}}function Na(e,t){if(a&&(!e.state.draggingText||+new Date-Ca<100))Ne(t);else if(!ye(e,t)&&!Wn(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!f)){var n=_("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",d&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),d&&n.parentNode.removeChild(n)}}function Ta(e,t){var n=Ar(e,t);if(n){var r=document.createDocumentFragment();Ur(e,n,r),e.display.dragCursor||(e.display.dragCursor=_("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),E(e.display.dragCursor,r)}}function La(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Ea(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),n=[],r=0;r<t.length;r++){var i=t[r].CodeMirror;i&&n.push(i)}n.length&&n[0].operation((function(){for(var t=0;t<n.length;t++)e(n[t])}))}}var _a=!1;function ja(){_a||(Oa(),_a=!0)}function Oa(){var e;he(window,"resize",(function(){null==e&&(e=setTimeout((function(){e=null,Ea(Ma)}),100))})),he(window,"blur",(function(){return Ea(Xr)}))}function Ma(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var Ia={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Aa=0;Aa<10;Aa++)Ia[Aa+48]=Ia[Aa+96]=String(Aa);for(var Fa=65;Fa<=90;Fa++)Ia[Fa]=String.fromCharCode(Fa);for(var Da=1;Da<=12;Da++)Ia[Da+111]=Ia[Da+63235]="F"+Da;var Pa={};function Va(e){var t,n,r,i,o=e.split(/-(?!$)/);e=o[o.length-1];for(var a=0;a<o.length-1;a++){var l=o[a];if(/^(cmd|meta|m)$/i.test(l))i=!0;else if(/^a(lt)?$/i.test(l))t=!0;else if(/^(c|ctrl|control)$/i.test(l))n=!0;else{if(!/^s(hift)?$/i.test(l))throw new Error("Unrecognized modifier name: "+l);r=!0}}return t&&(e="Alt-"+e),n&&(e="Ctrl-"+e),i&&(e="Cmd-"+e),r&&(e="Shift-"+e),e}function za(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete e[n];continue}for(var i=Q(n.split(" "),Va),o=0;o<i.length;o++){var a=void 0,l=void 0;o==i.length-1?(l=i.join(" "),a=r):(l=i.slice(0,o+1).join(" "),a="...");var s=t[l];if(s){if(s!=a)throw new Error("Inconsistent bindings for "+l)}else t[l]=a}delete e[n]}for(var c in t)e[c]=t[c];return e}function Ra(e,t,n,r){var i=(t=Ua(t)).call?t.call(e,r):t[e];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&n(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return Ra(e,t.fallthrough,n,r);for(var o=0;o<t.fallthrough.length;o++){var a=Ra(e,t.fallthrough[o],n,r);if(a)return a}}}function Ba(e){var t="string"==typeof e?e:Ia[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function Ha(e,t,n){var r=e;return t.altKey&&"Alt"!=r&&(e="Alt-"+e),(k?t.metaKey:t.ctrlKey)&&"Ctrl"!=r&&(e="Ctrl-"+e),(k?t.ctrlKey:t.metaKey)&&"Mod"!=r&&(e="Cmd-"+e),!n&&t.shiftKey&&"Shift"!=r&&(e="Shift-"+e),e}function Wa(e,t){if(d&&34==e.keyCode&&e.char)return!1;var n=Ia[e.keyCode];return null!=n&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(n=e.code),Ha(n,e,t))}function Ua(e){return"string"==typeof e?Pa[e]:e}function qa(e,t){for(var n=e.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var o=t(n[i]);r.length&&ot(o.from,G(r).to)<=0;){var a=r.pop();if(ot(a.from,o.from)<0){o.from=a.from;break}}r.push(o)}ji(e,(function(){for(var t=r.length-1;t>=0;t--)ra(e.doc,"",r[t].from,r[t].to,"+delete");ai(e)}))}function $a(e,t,n){var r=ae(e.text,t+n,n);return r<0||r>e.text.length?null:r}function Ka(e,t,n){var r=$a(e,t.ch,n);return null==r?null:new it(t.line,r,n<0?"after":"before")}function Ya(e,t,n,r,i){if(e){"rtl"==t.doc.direction&&(i=-i);var o=fe(n,t.doc.direction);if(o){var a,l=i<0?G(o):o[0],s=i<0==(1==l.level)?"after":"before";if(l.level>0||"rtl"==t.doc.direction){var c=tr(t,n);a=i<0?n.text.length-1:0;var u=nr(t,c,a).top;a=le((function(e){return nr(t,c,e).top==u}),i<0==(1==l.level)?l.from:l.to-1,a),"before"==s&&(a=$a(n,a,1))}else a=i<0?l.to:l.from;return new it(r,a,s)}}return new it(r,i<0?n.text.length:0,i<0?"before":"after")}function Ga(e,t,n,r){var i=fe(t,e.doc.direction);if(!i)return Ka(t,n,r);n.ch>=t.text.length?(n.ch=t.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var o=ue(i,n.ch,n.sticky),a=i[o];if("ltr"==e.doc.direction&&a.level%2==0&&(r>0?a.to>n.ch:a.from<n.ch))return Ka(t,n,r);var l,s=function(e,n){return $a(t,e instanceof it?e.ch:e,n)},c=function(n){return e.options.lineWrapping?(l=l||tr(e,t),Cr(e,t,l,n)):{begin:0,end:t.text.length}},u=c("before"==n.sticky?s(n,-1):n.ch);if("rtl"==e.doc.direction||1==a.level){var d=1==a.level==r<0,f=s(n,d?1:-1);if(null!=f&&(d?f<=a.to&&f<=u.end:f>=a.from&&f>=u.begin)){var p=d?"before":"after";return new it(n.line,f,p)}}var h=function(e,t,r){for(var o=function(e,t){return t?new it(n.line,s(e,1),"before"):new it(n.line,e,"after")};e>=0&&e<i.length;e+=t){var a=i[e],l=t>0==(1!=a.level),c=l?r.begin:s(r.end,-1);if(a.from<=c&&c<a.to)return o(c,l);if(c=l?a.from:s(a.to,-1),r.begin<=c&&c<r.end)return o(c,l)}},m=h(o+r,r,u);if(m)return m;var v=r>0?u.end:s(u.begin,-1);return null==v||r>0&&v==t.text.length||!(m=h(r>0?0:i.length-1,r,c(v)))?null:m}Pa.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Pa.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Pa.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Pa.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Pa.default=y?Pa.macDefault:Pa.pcDefault;var Qa={selectAll:Go,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),W)},killLine:function(e){return qa(e,(function(t){if(t.empty()){var n=Qe(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:it(t.head.line+1,0)}:{from:t.head,to:it(t.head.line,n)}}return{from:t.from(),to:t.to()}}))},deleteLine:function(e){return qa(e,(function(t){return{from:it(t.from().line,0),to:dt(e.doc,it(t.to().line+1,0))}}))},delLineLeft:function(e){return qa(e,(function(e){return{from:it(e.from().line,0),to:e.from()}}))},delWrappedLineLeft:function(e){return qa(e,(function(t){var n=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:n},"div"),to:t.from()}}))},delWrappedLineRight:function(e){return qa(e,(function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:r}}))},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(it(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(it(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy((function(t){return Xa(e,t.head.line)}),{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy((function(t){return Za(e,t.head)}),{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy((function(t){return Ja(e,t.head.line)}),{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")}),q)},goLineLeft:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")}),q)},goLineLeftSmart:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?Za(e,t.head):r}),q)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"codepoint")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,i=0;i<n.length;i++){var o=n[i].from(),a=V(e.getLine(o.line),o.ch,r);t.push(Y(r-a%r))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return ji(e,(function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++)if(t[r].empty()){var i=t[r].head,o=Qe(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new it(i.line,i.ch-1)),i.ch>0)i=new it(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),it(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var a=Qe(e.doc,i.line-1).text;a&&(i=new it(i.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+a.charAt(a.length-1),it(i.line-1,a.length-1),i,"+transpose"))}n.push(new io(i,i))}e.setSelections(n)}))},newlineAndIndent:function(e){return ji(e,(function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange(e.doc.lineSeparator(),t[n].anchor,t[n].head,"+input");t=e.listSelections();for(var r=0;r<t.length;r++)e.indentLine(t[r].from().line,null,!0);ai(e)}))},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function Xa(e,t){var n=Qe(e.doc,t),r=Xt(n);return r!=n&&(t=et(r)),Ya(!0,e,r,t,1)}function Ja(e,t){var n=Qe(e.doc,t),r=Jt(n);return r!=n&&(t=et(r)),Ya(!0,e,n,t,-1)}function Za(e,t){var n=Xa(e,t.line),r=Qe(e.doc,n.line),i=fe(r,e.doc.direction);if(!i||0==i[0].level){var o=Math.max(n.ch,r.text.search(/\S/)),a=t.line==n.line&&t.ch<=o&&t.ch;return it(n.line,a?0:o,n.sticky)}return n}function el(e,t,n){if("string"==typeof t&&!(t=Qa[t]))return!1;e.display.input.ensurePolled();var r=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),i=t(e)!=H}finally{e.display.shift=r,e.state.suppressEdits=!1}return i}function tl(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var i=Ra(t,e.state.keyMaps[r],n,e);if(i)return i}return e.options.extraKeys&&Ra(t,e.options.extraKeys,n,e)||Ra(t,e.options.keyMap,n,e)}var nl=new z;function rl(e,t,n,r){var i=e.state.keySeq;if(i){if(Ba(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:nl.set(50,(function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())})),il(e,i+" "+t,n,r))return!0}return il(e,t,n,r)}function il(e,t,n,r){var i=tl(e,t,r);return"multi"==i&&(e.state.keySeq=t),"handled"==i&&En(e,"keyHandled",e,t,n),"handled"!=i&&"multi"!=i||(ke(n),Kr(e)),!!i}function ol(e,t){var n=Wa(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?rl(e,"Shift-"+n,t,(function(t){return el(e,t,!0)}))||rl(e,n,t,(function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return el(e,t)})):rl(e,n,t,(function(t){return el(e,t)})))}function al(e,t,n){return rl(e,"'"+n+"'",t,(function(t){return el(e,t,!0)}))}var ll=null;function sl(e){var t=this;if((!e.target||e.target==t.display.input.getField())&&(t.curOp.focus=M(),!ye(t,e))){a&&l<11&&27==e.keyCode&&(e.returnValue=!1);var r=e.keyCode;t.display.shift=16==r||e.shiftKey;var i=ol(t,e);d&&(ll=i?r:null,i||88!=r||Fe||!(y?e.metaKey:e.ctrlKey)||t.replaceSelection("",null,"cut")),n&&!y&&!i&&46==r&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),18!=r||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||cl(t)}}function cl(e){var t=e.display.lineDiv;function n(e){18!=e.keyCode&&e.altKey||(T(t,"CodeMirror-crosshair"),ve(document,"keyup",n),ve(document,"mouseover",n))}I(t,"CodeMirror-crosshair"),he(document,"keyup",n),he(document,"mouseover",n)}function ul(e){16==e.keyCode&&(this.doc.sel.shift=!1),ye(this,e)}function dl(e){var t=this;if((!e.target||e.target==t.display.input.getField())&&!(Wn(t.display,e)||ye(t,e)||e.ctrlKey&&!e.altKey||y&&e.metaKey)){var n=e.keyCode,r=e.charCode;if(d&&n==ll)return ll=null,void ke(e);if(!d||e.which&&!(e.which<10)||!ol(t,e)){var i=String.fromCharCode(null==r?n:r);"\b"!=i&&(al(t,e,i)||t.display.input.onKeyPress(e))}}}var fl,pl,hl=400,ml=function(e,t,n){this.time=e,this.pos=t,this.button=n};function vl(e,t){var n=+new Date;return pl&&pl.compare(n,e,t)?(fl=pl=null,"triple"):fl&&fl.compare(n,e,t)?(pl=new ml(n,e,t),fl=null,"double"):(fl=new ml(n,e,t),pl=null,"single")}function gl(e){var t=this,n=t.display;if(!(ye(t,e)||n.activeTouch&&n.input.supportsTouch()))if(n.input.ensurePolled(),n.shift=e.shiftKey,Wn(n,e))s||(n.scroller.draggable=!1,setTimeout((function(){return n.scroller.draggable=!0}),100));else if(!Tl(t,e)){var r=Ar(t,e),i=Le(e),o=r?vl(r,i):"single";window.focus(),1==i&&t.state.selectingText&&t.state.selectingText(e),r&&yl(t,i,r,o,e)||(1==i?r?xl(t,r,o,e):Te(e)==n.scroller&&ke(e):2==i?(r&&Fo(t.doc,r),setTimeout((function(){return n.input.focus()}),20)):3==i&&(C?t.display.input.onContextMenu(e):Gr(t)))}}function yl(e,t,n,r,i){var o="Click";return"double"==r?o="Double"+o:"triple"==r&&(o="Triple"+o),rl(e,Ha(o=(1==t?"Left":2==t?"Middle":"Right")+o,i),i,(function(t){if("string"==typeof t&&(t=Qa[t]),!t)return!1;var r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r=t(e,n)!=H}finally{e.state.suppressEdits=!1}return r}))}function bl(e,t,n){var r=e.getOption("configureMouse"),i=r?r(e,t,n):{};if(null==i.unit){var o=b?n.shiftKey&&n.metaKey:n.altKey;i.unit=o?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==i.extend||e.doc.extend)&&(i.extend=e.doc.extend||n.shiftKey),null==i.addNew&&(i.addNew=y?n.metaKey:n.ctrlKey),null==i.moveOnDrag&&(i.moveOnDrag=!(y?n.altKey:n.ctrlKey)),i}function xl(e,t,n,r){a?setTimeout(D(Yr,e),0):e.curOp.focus=M();var i,o=bl(e,n,r),l=e.doc.sel;e.options.dragDrop&&je&&!e.isReadOnly()&&"single"==n&&(i=l.contains(t))>-1&&(ot((i=l.ranges[i]).from(),t)<0||t.xRel>0)&&(ot(i.to(),t)>0||t.xRel<0)?wl(e,r,t,o):Cl(e,r,t,o)}function wl(e,t,n,r){var i=e.display,o=!1,c=Oi(e,(function(t){s&&(i.scroller.draggable=!1),e.state.draggingText=!1,e.state.delayingBlurEvent&&(e.hasFocus()?e.state.delayingBlurEvent=!1:Gr(e)),ve(i.wrapper.ownerDocument,"mouseup",c),ve(i.wrapper.ownerDocument,"mousemove",u),ve(i.scroller,"dragstart",d),ve(i.scroller,"drop",c),o||(ke(t),r.addNew||Fo(e.doc,n,null,null,r.extend),s&&!f||a&&9==l?setTimeout((function(){i.wrapper.ownerDocument.body.focus({preventScroll:!0}),i.input.focus()}),20):i.input.focus())})),u=function(e){o=o||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},d=function(){return o=!0};s&&(i.scroller.draggable=!0),e.state.draggingText=c,c.copy=!r.moveOnDrag,he(i.wrapper.ownerDocument,"mouseup",c),he(i.wrapper.ownerDocument,"mousemove",u),he(i.scroller,"dragstart",d),he(i.scroller,"drop",c),e.state.delayingBlurEvent=!0,setTimeout((function(){return i.input.focus()}),20),i.scroller.dragDrop&&i.scroller.dragDrop()}function kl(e,t,n){if("char"==n)return new io(t,t);if("word"==n)return e.findWordAt(t);if("line"==n)return new io(it(t.line,0),dt(e.doc,it(t.line+1,0)));var r=n(e,t);return new io(r.from,r.to)}function Cl(e,t,n,r){a&&Gr(e);var i=e.display,o=e.doc;ke(t);var l,s,c=o.sel,u=c.ranges;if(r.addNew&&!r.extend?(s=o.sel.contains(n),l=s>-1?u[s]:new io(n,n)):(l=o.sel.primary(),s=o.sel.primIndex),"rectangle"==r.unit)r.addNew||(l=new io(n,n)),n=Ar(e,t,!0,!0),s=-1;else{var d=kl(e,n,r.unit);l=r.extend?Ao(l,d.anchor,d.head,r.extend):d}r.addNew?-1==s?(s=u.length,Bo(o,oo(e,u.concat([l]),s),{scroll:!1,origin:"*mouse"})):u.length>1&&u[s].empty()&&"char"==r.unit&&!r.extend?(Bo(o,oo(e,u.slice(0,s).concat(u.slice(s+1)),0),{scroll:!1,origin:"*mouse"}),c=o.sel):Po(o,s,l,U):(s=0,Bo(o,new ro([l],0),U),c=o.sel);var f=n;function p(t){if(0!=ot(f,t))if(f=t,"rectangle"==r.unit){for(var i=[],a=e.options.tabSize,u=V(Qe(o,n.line).text,n.ch,a),d=V(Qe(o,t.line).text,t.ch,a),p=Math.min(u,d),h=Math.max(u,d),m=Math.min(n.line,t.line),v=Math.min(e.lastLine(),Math.max(n.line,t.line));m<=v;m++){var g=Qe(o,m).text,y=$(g,p,a);p==h?i.push(new io(it(m,y),it(m,y))):g.length>y&&i.push(new io(it(m,y),it(m,$(g,h,a))))}i.length||i.push(new io(n,n)),Bo(o,oo(e,c.ranges.slice(0,s).concat(i),s),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var b,x=l,w=kl(e,t,r.unit),k=x.anchor;ot(w.anchor,k)>0?(b=w.head,k=ct(x.from(),w.anchor)):(b=w.anchor,k=st(x.to(),w.head));var C=c.ranges.slice(0);C[s]=Sl(e,new io(dt(o,k),b)),Bo(o,oo(e,C,s),U)}}var h=i.wrapper.getBoundingClientRect(),m=0;function v(t){var n=++m,a=Ar(e,t,!0,"rectangle"==r.unit);if(a)if(0!=ot(a,f)){e.curOp.focus=M(),p(a);var l=ei(i,o);(a.line>=l.to||a.line<l.from)&&setTimeout(Oi(e,(function(){m==n&&v(t)})),150)}else{var s=t.clientY<h.top?-20:t.clientY>h.bottom?20:0;s&&setTimeout(Oi(e,(function(){m==n&&(i.scroller.scrollTop+=s,v(t))})),50)}}function g(t){e.state.selectingText=!1,m=1/0,t&&(ke(t),i.input.focus()),ve(i.wrapper.ownerDocument,"mousemove",y),ve(i.wrapper.ownerDocument,"mouseup",b),o.history.lastSelOrigin=null}var y=Oi(e,(function(e){0!==e.buttons&&Le(e)?v(e):g(e)})),b=Oi(e,g);e.state.selectingText=b,he(i.wrapper.ownerDocument,"mousemove",y),he(i.wrapper.ownerDocument,"mouseup",b)}function Sl(e,t){var n=t.anchor,r=t.head,i=Qe(e.doc,n.line);if(0==ot(n,r)&&n.sticky==r.sticky)return t;var o=fe(i);if(!o)return t;var a=ue(o,n.ch,n.sticky),l=o[a];if(l.from!=n.ch&&l.to!=n.ch)return t;var s,c=a+(l.from==n.ch==(1!=l.level)?0:1);if(0==c||c==o.length)return t;if(r.line!=n.line)s=(r.line-n.line)*("ltr"==e.doc.direction?1:-1)>0;else{var u=ue(o,r.ch,r.sticky),d=u-a||(r.ch-n.ch)*(1==l.level?-1:1);s=u==c-1||u==c?d<0:d>0}var f=o[c+(s?-1:0)],p=s==(1==f.level),h=p?f.from:f.to,m=p?"after":"before";return n.ch==h&&n.sticky==m?t:new io(new it(n.line,h,m),r)}function Nl(e,t,n,r){var i,o;if(t.touches)i=t.touches[0].clientX,o=t.touches[0].clientY;else try{i=t.clientX,o=t.clientY}catch(u){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&ke(t);var a=e.display,l=a.lineDiv.getBoundingClientRect();if(o>l.bottom||!xe(e,n))return Se(t);o-=l.top-a.viewOffset;for(var s=0;s<e.display.gutterSpecs.length;++s){var c=a.gutters.childNodes[s];if(c&&c.getBoundingClientRect().right>=i)return ge(e,n,e,tt(e.doc,o),e.display.gutterSpecs[s].className,t),Se(t)}}function Tl(e,t){return Nl(e,t,"gutterClick",!0)}function Ll(e,t){Wn(e.display,t)||El(e,t)||ye(e,t,"contextmenu")||C||e.display.input.onContextMenu(t)}function El(e,t){return!!xe(e,"gutterContextMenu")&&Nl(e,t,"gutterContextMenu",!1)}function _l(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),dr(e)}ml.prototype.compare=function(e,t,n){return this.time+hl>e&&0==ot(t,this.pos)&&n==this.button};var jl={toString:function(){return"CodeMirror.Init"}},Ol={},Ml={};function Il(e){var t=e.optionHandlers;function n(n,r,i,o){e.defaults[n]=r,i&&(t[n]=o?function(e,t,n){n!=jl&&i(e,t,n)}:i)}e.defineOption=n,e.Init=jl,n("value","",(function(e,t){return e.setValue(t)}),!0),n("mode",null,(function(e,t){e.doc.modeOption=t,po(e)}),!0),n("indentUnit",2,po,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,(function(e){ho(e),dr(e),Dr(e)}),!0),n("lineSeparator",null,(function(e,t){if(e.doc.lineSep=t,t){var n=[],r=e.doc.first;e.doc.iter((function(e){for(var i=0;;){var o=e.text.indexOf(t,i);if(-1==o)break;i=o+t.length,n.push(it(r,o))}r++}));for(var i=n.length-1;i>=0;i--)ra(e.doc,t,n[i],it(n[i].line,n[i].ch+t.length))}})),n("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,(function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),n!=jl&&e.refresh()})),n("specialCharPlaceholder",mn,(function(e){return e.refresh()}),!0),n("electricChars",!0),n("inputStyle",g?"contenteditable":"textarea",(function(){throw new Error("inputStyle can not (yet) be changed in a running editor")}),!0),n("spellcheck",!1,(function(e,t){return e.getInputField().spellcheck=t}),!0),n("autocorrect",!1,(function(e,t){return e.getInputField().autocorrect=t}),!0),n("autocapitalize",!1,(function(e,t){return e.getInputField().autocapitalize=t}),!0),n("rtlMoveVisually",!x),n("wholeLineUpdateBefore",!0),n("theme","default",(function(e){_l(e),Qi(e)}),!0),n("keyMap","default",(function(e,t,n){var r=Ua(t),i=n!=jl&&Ua(n);i&&i.detach&&i.detach(e,r),r.attach&&r.attach(e,i||null)})),n("extraKeys",null),n("configureMouse",null),n("lineWrapping",!1,Fl,!0),n("gutters",[],(function(e,t){e.display.gutterSpecs=Yi(t,e.options.lineNumbers),Qi(e)}),!0),n("fixedGutter",!0,(function(e,t){e.display.gutters.style.left=t?Or(e.display)+"px":"0",e.refresh()}),!0),n("coverGutterNextToScrollbar",!1,(function(e){return gi(e)}),!0),n("scrollbarStyle","native",(function(e){xi(e),gi(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)}),!0),n("lineNumbers",!1,(function(e,t){e.display.gutterSpecs=Yi(e.options.gutters,t),Qi(e)}),!0),n("firstLineNumber",1,Qi,!0),n("lineNumberFormatter",(function(e){return e}),Qi,!0),n("showCursorWhenSelecting",!1,Hr,!0),n("resetSelectionOnContextMenu",!0),n("lineWiseCopyCut",!0),n("pasteLinesPerSelection",!0),n("selectionsMayTouch",!1),n("readOnly",!1,(function(e,t){"nocursor"==t&&(Xr(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)})),n("screenReaderLabel",null,(function(e,t){t=""===t?null:t,e.display.input.screenReaderLabelChanged(t)})),n("disableInput",!1,(function(e,t){t||e.display.input.reset()}),!0),n("dragDrop",!0,Al),n("allowDropFileTypes",null),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1,Hr,!0),n("singleCursorHeightPerLine",!0,Hr,!0),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,ho,!0),n("addModeClass",!1,ho,!0),n("pollInterval",100),n("undoDepth",200,(function(e,t){return e.doc.history.undoDepth=t})),n("historyEventDelay",1250),n("viewportMargin",10,(function(e){return e.refresh()}),!0),n("maxHighlightLength",1e4,ho,!0),n("moveInputWithCursor",!0,(function(e,t){t||e.display.input.resetPosition()})),n("tabindex",null,(function(e,t){return e.display.input.getField().tabIndex=t||""})),n("autofocus",null),n("direction","ltr",(function(e,t){return e.doc.setDirection(t)}),!0),n("phrases",null)}function Al(e,t,n){if(!t!=!(n&&n!=jl)){var r=e.display.dragFunctions,i=t?he:ve;i(e.display.scroller,"dragstart",r.start),i(e.display.scroller,"dragenter",r.enter),i(e.display.scroller,"dragover",r.over),i(e.display.scroller,"dragleave",r.leave),i(e.display.scroller,"drop",r.drop)}}function Fl(e){e.options.lineWrapping?(I(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(T(e.display.wrapper,"CodeMirror-wrap"),ln(e)),Ir(e),Dr(e),dr(e),setTimeout((function(){return gi(e)}),100)}function Dl(e,t){var n=this;if(!(this instanceof Dl))return new Dl(e,t);this.options=t=t?P(t):{},P(Ol,t,!1);var r=t.value;"string"==typeof r?r=new ka(r,t.mode,null,t.lineSeparator,t.direction):t.mode&&(r.modeOption=t.mode),this.doc=r;var i=new Dl.inputStyles[t.inputStyle](this),o=this.display=new Xi(e,r,i,t);for(var c in o.wrapper.CodeMirror=this,_l(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),xi(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new z,keySeq:null,specialChars:null},t.autofocus&&!g&&o.input.focus(),a&&l<11&&setTimeout((function(){return n.display.input.reset(!0)}),20),Pl(this),ja(),ki(this),this.curOp.forceUpdate=!0,yo(this,r),t.autofocus&&!g||this.hasFocus()?setTimeout((function(){n.hasFocus()&&!n.state.focused&&Qr(n)}),20):Xr(this),Ml)Ml.hasOwnProperty(c)&&Ml[c](this,t[c],jl);Ki(this),t.finishInit&&t.finishInit(this);for(var u=0;u<Vl.length;++u)Vl[u](this);Ci(this),s&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}function Pl(e){var t=e.display;he(t.scroller,"mousedown",Oi(e,gl)),he(t.scroller,"dblclick",a&&l<11?Oi(e,(function(t){if(!ye(e,t)){var n=Ar(e,t);if(n&&!Tl(e,t)&&!Wn(e.display,t)){ke(t);var r=e.findWordAt(n);Fo(e.doc,r.anchor,r.head)}}})):function(t){return ye(e,t)||ke(t)}),he(t.scroller,"contextmenu",(function(t){return Ll(e,t)})),he(t.input.getField(),"contextmenu",(function(n){t.scroller.contains(n.target)||Ll(e,n)}));var n,r={end:0};function i(){t.activeTouch&&(n=setTimeout((function(){return t.activeTouch=null}),1e3),(r=t.activeTouch).end=+new Date)}function o(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function s(e,t){if(null==t.left)return!0;var n=t.left-e.left,r=t.top-e.top;return n*n+r*r>400}he(t.scroller,"touchstart",(function(i){if(!ye(e,i)&&!o(i)&&!Tl(e,i)){t.input.ensurePolled(),clearTimeout(n);var a=+new Date;t.activeTouch={start:a,moved:!1,prev:a-r.end<=300?r:null},1==i.touches.length&&(t.activeTouch.left=i.touches[0].pageX,t.activeTouch.top=i.touches[0].pageY)}})),he(t.scroller,"touchmove",(function(){t.activeTouch&&(t.activeTouch.moved=!0)})),he(t.scroller,"touchend",(function(n){var r=t.activeTouch;if(r&&!Wn(t,n)&&null!=r.left&&!r.moved&&new Date-r.start<300){var o,a=e.coordsChar(t.activeTouch,"page");o=!r.prev||s(r,r.prev)?new io(a,a):!r.prev.prev||s(r,r.prev.prev)?e.findWordAt(a):new io(it(a.line,0),dt(e.doc,it(a.line+1,0))),e.setSelection(o.anchor,o.head),e.focus(),ke(n)}i()})),he(t.scroller,"touchcancel",i),he(t.scroller,"scroll",(function(){t.scroller.clientHeight&&(di(e,t.scroller.scrollTop),pi(e,t.scroller.scrollLeft,!0),ge(e,"scroll",e))})),he(t.scroller,"mousewheel",(function(t){return no(e,t)})),he(t.scroller,"DOMMouseScroll",(function(t){return no(e,t)})),he(t.wrapper,"scroll",(function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0})),t.dragFunctions={enter:function(t){ye(e,t)||Ne(t)},over:function(t){ye(e,t)||(Ta(e,t),Ne(t))},start:function(t){return Na(e,t)},drop:Oi(e,Sa),leave:function(t){ye(e,t)||La(e)}};var c=t.input.getField();he(c,"keyup",(function(t){return ul.call(e,t)})),he(c,"keydown",Oi(e,sl)),he(c,"keypress",Oi(e,dl)),he(c,"focus",(function(t){return Qr(e,t)})),he(c,"blur",(function(t){return Xr(e,t)}))}Dl.defaults=Ol,Dl.optionHandlers=Ml;var Vl=[];function zl(e,t,n,r){var i,o=e.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?i=yt(e,t).state:n="prev");var a=e.options.tabSize,l=Qe(o,t),s=V(l.text,null,a);l.stateAfter&&(l.stateAfter=null);var c,u=l.text.match(/^\s*/)[0];if(r||/\S/.test(l.text)){if("smart"==n&&((c=o.mode.indent(i,l.text.slice(u.length),l.text))==H||c>150)){if(!r)return;n="prev"}}else c=0,n="not";"prev"==n?c=t>o.first?V(Qe(o,t-1).text,null,a):0:"add"==n?c=s+e.options.indentUnit:"subtract"==n?c=s-e.options.indentUnit:"number"==typeof n&&(c=s+n),c=Math.max(0,c);var d="",f=0;if(e.options.indentWithTabs)for(var p=Math.floor(c/a);p;--p)f+=a,d+="\t";if(f<c&&(d+=Y(c-f)),d!=u)return ra(o,d,it(t,0),it(t,u.length),"+input"),l.stateAfter=null,!0;for(var h=0;h<o.sel.ranges.length;h++){var m=o.sel.ranges[h];if(m.head.line==t&&m.head.ch<u.length){var v=it(t,u.length);Po(o,h,new io(v,v));break}}}Dl.defineInitHook=function(e){return Vl.push(e)};var Rl=null;function Bl(e){Rl=e}function Hl(e,t,n,r,i){var o=e.doc;e.display.shift=!1,r||(r=o.sel);var a=+new Date-200,l="paste"==i||e.state.pasteIncoming>a,s=Ie(t),c=null;if(l&&r.ranges.length>1)if(Rl&&Rl.text.join("\n")==t){if(r.ranges.length%Rl.text.length==0){c=[];for(var u=0;u<Rl.text.length;u++)c.push(o.splitLines(Rl.text[u]))}}else s.length==r.ranges.length&&e.options.pasteLinesPerSelection&&(c=Q(s,(function(e){return[e]})));for(var d=e.curOp.updateInput,f=r.ranges.length-1;f>=0;f--){var p=r.ranges[f],h=p.from(),m=p.to();p.empty()&&(n&&n>0?h=it(h.line,h.ch-n):e.state.overwrite&&!l?m=it(m.line,Math.min(Qe(o,m.line).text.length,m.ch+G(s).length)):l&&Rl&&Rl.lineWise&&Rl.text.join("\n")==s.join("\n")&&(h=m=it(h.line,0)));var v={from:h,to:m,text:c?c[f%c.length]:s,origin:i||(l?"paste":e.state.cutIncoming>a?"cut":"+input")};Xo(e.doc,v),En(e,"inputRead",e,v)}t&&!l&&Ul(e,t),ai(e),e.curOp.updateInput<2&&(e.curOp.updateInput=d),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function Wl(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||ji(t,(function(){return Hl(t,n,0,null,"paste")})),!0}function Ul(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,r=n.ranges.length-1;r>=0;r--){var i=n.ranges[r];if(!(i.head.ch>100||r&&n.ranges[r-1].head.line==i.head.line)){var o=e.getModeAt(i.head),a=!1;if(o.electricChars){for(var l=0;l<o.electricChars.length;l++)if(t.indexOf(o.electricChars.charAt(l))>-1){a=zl(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(Qe(e.doc,i.head.line).text.slice(0,i.head.ch))&&(a=zl(e,i.head.line,"smart"));a&&En(e,"electricInput",e,i.head.line)}}}function ql(e){for(var t=[],n=[],r=0;r<e.doc.sel.ranges.length;r++){var i=e.doc.sel.ranges[r].head.line,o={anchor:it(i,0),head:it(i+1,0)};n.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:n}}function $l(e,t,n,r){e.setAttribute("autocorrect",n?"":"off"),e.setAttribute("autocapitalize",r?"":"off"),e.setAttribute("spellcheck",!!t)}function Kl(){var e=_("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=_("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return s?e.style.width="1000px":e.setAttribute("wrap","off"),m&&(e.style.border="1px solid black"),$l(e),t}function Yl(e){var t=e.optionHandlers,n=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,n){var r=this.options,i=r[e];r[e]==n&&"mode"!=e||(r[e]=n,t.hasOwnProperty(e)&&Oi(this,t[e])(this,n,i),ge(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Ua(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:Mi((function(t,n){var r=t.token?t:e.getMode(this.options,t);if(r.startState)throw new Error("Overlays may not be stateful.");X(this.state.overlays,{mode:r,modeSpec:t,opaque:n&&n.opaque,priority:n&&n.priority||0},(function(e){return e.priority})),this.state.modeGen++,Dr(this)})),removeOverlay:Mi((function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var r=t[n].modeSpec;if(r==e||"string"==typeof e&&r.name==e)return t.splice(n,1),this.state.modeGen++,void Dr(this)}})),indentLine:Mi((function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),nt(this.doc,e)&&zl(this,e,t,n)})),indentSelection:Mi((function(e){for(var t=this.doc.sel.ranges,n=-1,r=0;r<t.length;r++){var i=t[r];if(i.empty())i.head.line>n&&(zl(this,i.head.line,e,!0),n=i.head.line,r==this.doc.sel.primIndex&&ai(this));else{var o=i.from(),a=i.to(),l=Math.max(n,o.line);n=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var s=l;s<n;++s)zl(this,s,e);var c=this.doc.sel.ranges;0==o.ch&&t.length==c.length&&c[r].from().ch>0&&Po(this.doc,r,new io(o,c[r].to()),W)}}})),getTokenAt:function(e,t){return Ct(this,e,t)},getLineTokens:function(e,t){return Ct(this,it(e),t,!0)},getTokenTypeAt:function(e){e=dt(this.doc,e);var t,n=gt(this,Qe(this.doc,e.line)),r=0,i=(n.length-1)/2,o=e.ch;if(0==o)t=n[2];else for(;;){var a=r+i>>1;if((a?n[2*a-1]:0)>=o)i=a;else{if(!(n[2*a+1]<o)){t=n[2*a+2];break}r=a+1}}var l=t?t.indexOf("overlay "):-1;return l<0?t:0==l?null:t.slice(0,l-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var r=[];if(!n.hasOwnProperty(t))return r;var i=n[t],o=this.getModeAt(e);if("string"==typeof o[t])i[o[t]]&&r.push(i[o[t]]);else if(o[t])for(var a=0;a<o[t].length;a++){var l=i[o[t][a]];l&&r.push(l)}else o.helperType&&i[o.helperType]?r.push(i[o.helperType]):i[o.name]&&r.push(i[o.name]);for(var s=0;s<i._global.length;s++){var c=i._global[s];c.pred(o,this)&&-1==R(r,c.val)&&r.push(c.val)}return r},getStateAfter:function(e,t){var n=this.doc;return yt(this,(e=ut(n,null==e?n.first+n.size-1:e))+1,t).state},cursorCoords:function(e,t){var n=this.doc.sel.primary();return yr(this,null==e?n.head:"object"==typeof e?dt(this.doc,e):e?n.from():n.to(),t||"page")},charCoords:function(e,t){return gr(this,dt(this.doc,e),t||"page")},coordsChar:function(e,t){return wr(this,(e=vr(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=vr(this,{top:e,left:0},t||"page").top,tt(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,n){var r,i=!1;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,i=!0),r=Qe(this.doc,e)}else r=e;return mr(this,r,{top:0,left:0},t||"page",n||i).top+(i?this.doc.height-on(r):0)},defaultTextHeight:function(){return Er(this.display)},defaultCharWidth:function(){return _r(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,i){var o=this.display,a=(e=yr(this,dt(this.doc,e))).bottom,l=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),o.sizer.appendChild(t),"over"==r)a=e.top;else if("above"==r||"near"==r){var s=Math.max(o.wrapper.clientHeight,this.doc.height),c=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==r||e.bottom+t.offsetHeight>s)&&e.top>t.offsetHeight?a=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=s&&(a=e.bottom),l+t.offsetWidth>c&&(l=c-t.offsetWidth)}t.style.top=a+"px",t.style.left=t.style.right="","right"==i?(l=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?l=0:"middle"==i&&(l=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=l+"px"),n&&ri(this,{left:l,top:a,right:l+t.offsetWidth,bottom:a+t.offsetHeight})},triggerOnKeyDown:Mi(sl),triggerOnKeyPress:Mi(dl),triggerOnKeyUp:ul,triggerOnMouseDown:Mi(gl),execCommand:function(e){if(Qa.hasOwnProperty(e))return Qa[e].call(null,this)},triggerElectric:Mi((function(e){Ul(this,e)})),findPosH:function(e,t,n,r){var i=1;t<0&&(i=-1,t=-t);for(var o=dt(this.doc,e),a=0;a<t&&!(o=Gl(this.doc,o,i,n,r)).hitSide;++a);return o},moveH:Mi((function(e,t){var n=this;this.extendSelectionsBy((function(r){return n.display.shift||n.doc.extend||r.empty()?Gl(n.doc,r.head,e,t,n.options.rtlMoveVisually):e<0?r.from():r.to()}),q)})),deleteH:Mi((function(e,t){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):qa(this,(function(n){var i=Gl(r,n.head,e,t,!1);return e<0?{from:i,to:n.head}:{from:n.head,to:i}}))})),findPosV:function(e,t,n,r){var i=1,o=r;t<0&&(i=-1,t=-t);for(var a=dt(this.doc,e),l=0;l<t;++l){var s=yr(this,a,"div");if(null==o?o=s.left:s.left=o,(a=Ql(this,s,i,n)).hitSide)break}return a},moveV:Mi((function(e,t){var n=this,r=this.doc,i=[],o=!this.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy((function(a){if(o)return e<0?a.from():a.to();var l=yr(n,a.head,"div");null!=a.goalColumn&&(l.left=a.goalColumn),i.push(l.left);var s=Ql(n,l,e,t);return"page"==t&&a==r.sel.primary()&&oi(n,gr(n,s,"div").top-l.top),s}),q),i.length)for(var a=0;a<r.sel.ranges.length;a++)r.sel.ranges[a].goalColumn=i[a]})),findWordAt:function(e){var t=Qe(this.doc,e.line).text,n=e.ch,r=e.ch;if(t){var i=this.getHelper(e,"wordChars");"before"!=e.sticky&&r!=t.length||!n?++r:--n;for(var o=t.charAt(n),a=ne(o,i)?function(e){return ne(e,i)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!ne(e)};n>0&&a(t.charAt(n-1));)--n;for(;r<t.length&&a(t.charAt(r));)++r}return new io(it(e.line,n),it(e.line,r))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?I(this.display.cursorDiv,"CodeMirror-overwrite"):T(this.display.cursorDiv,"CodeMirror-overwrite"),ge(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==M()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Mi((function(e,t){li(this,e,t)})),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Kn(this)-this.display.barHeight,width:e.scrollWidth-Kn(this)-this.display.barWidth,clientHeight:Gn(this),clientWidth:Yn(this)}},scrollIntoView:Mi((function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:it(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?si(this,e):ui(this,e.from,e.to,e.margin)})),setSize:Mi((function(e,t){var n=this,r=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=r(e)),null!=t&&(this.display.wrapper.style.height=r(t)),this.options.lineWrapping&&ur(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,(function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){Pr(n,i,"widget");break}++i})),this.curOp.forceUpdate=!0,ge(this,"refresh",this)})),operation:function(e){return ji(this,e)},startOperation:function(){return ki(this)},endOperation:function(){return Ci(this)},refresh:Mi((function(){var e=this.display.cachedTextHeight;Dr(this),this.curOp.forceUpdate=!0,dr(this),li(this,this.doc.scrollLeft,this.doc.scrollTop),Ui(this.display),(null==e||Math.abs(e-Er(this.display))>.5||this.options.lineWrapping)&&Ir(this),ge(this,"refresh",this)})),swapDoc:Mi((function(e){var t=this.doc;return t.cm=null,this.state.selectingText&&this.state.selectingText(),yo(this,e),dr(this),this.display.input.reset(),li(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,En(this,"swapDoc",this,t),t})),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},we(e),e.registerHelper=function(t,r,i){n.hasOwnProperty(t)||(n[t]=e[t]={_global:[]}),n[t][r]=i},e.registerGlobalHelper=function(t,r,i,o){e.registerHelper(t,r,o),n[t]._global.push({pred:i,val:o})}}function Gl(e,t,n,r,i){var o=t,a=n,l=Qe(e,t.line),s=i&&"rtl"==e.direction?-n:n;function c(){var n=t.line+s;return!(n<e.first||n>=e.first+e.size)&&(t=new it(n,t.ch,t.sticky),l=Qe(e,n))}function u(o){var a;if("codepoint"==r){var u=l.text.charCodeAt(t.ch+(n>0?0:-1));if(isNaN(u))a=null;else{var d=n>0?u>=55296&&u<56320:u>=56320&&u<57343;a=new it(t.line,Math.max(0,Math.min(l.text.length,t.ch+n*(d?2:1))),-n)}}else a=i?Ga(e.cm,l,t,n):Ka(l,t,n);if(null==a){if(o||!c())return!1;t=Ya(i,e.cm,l,t.line,s)}else t=a;return!0}if("char"==r||"codepoint"==r)u();else if("column"==r)u(!0);else if("word"==r||"group"==r)for(var d=null,f="group"==r,p=e.cm&&e.cm.getHelper(t,"wordChars"),h=!0;!(n<0)||u(!h);h=!1){var m=l.text.charAt(t.ch)||"\n",v=ne(m,p)?"w":f&&"\n"==m?"n":!f||/\s/.test(m)?null:"p";if(!f||h||v||(v="s"),d&&d!=v){n<0&&(n=1,u(),t.sticky="after");break}if(v&&(d=v),n>0&&!u(!h))break}var g=Ko(e,t,o,a,!0);return at(o,g)&&(g.hitSide=!0),g}function Ql(e,t,n,r){var i,o,a=e.doc,l=t.left;if("page"==r){var s=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),c=Math.max(s-.5*Er(e.display),3);i=(n>0?t.bottom:t.top)+n*c}else"line"==r&&(i=n>0?t.bottom+3:t.top-3);for(;(o=wr(e,l,i)).outside;){if(n<0?i<=0:i>=a.height){o.hitSide=!0;break}i+=5*n}return o}var Xl=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new z,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Jl(e,t){var n=er(e,t.line);if(!n||n.hidden)return null;var r=Qe(e.doc,t.line),i=Xn(n,r,t.line),o=fe(r,e.doc.direction),a="left";o&&(a=ue(o,t.ch)%2?"right":"left");var l=or(i.map,t.ch,a);return l.offset="right"==l.collapse?l.end:l.start,l}function Zl(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function es(e,t){return t&&(e.bad=!0),e}function ts(e,t,n,r,i){var o="",a=!1,l=e.doc.lineSeparator(),s=!1;function c(e){return function(t){return t.id==e}}function u(){a&&(o+=l,s&&(o+=l),a=s=!1)}function d(e){e&&(u(),o+=e)}function f(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(n)return void d(n);var o,p=t.getAttribute("cm-marker");if(p){var h=e.findMarks(it(r,0),it(i+1,0),c(+p));return void(h.length&&(o=h[0].find(0))&&d(Xe(e.doc,o.from,o.to).join(l)))}if("false"==t.getAttribute("contenteditable"))return;var m=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;m&&u();for(var v=0;v<t.childNodes.length;v++)f(t.childNodes[v]);/^(pre|p)$/i.test(t.nodeName)&&(s=!0),m&&(a=!0)}else 3==t.nodeType&&d(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;f(t),t!=n;)t=t.nextSibling,s=!1;return o}function ns(e,t,n){var r;if(t==e.display.lineDiv){if(!(r=e.display.lineDiv.childNodes[n]))return es(e.clipPos(it(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==r)return rs(o,t,n)}}function rs(e,t,n){var r=e.text.firstChild,i=!1;if(!t||!O(r,t))return es(it(et(e.line),0),!0);if(t==r&&(i=!0,t=r.childNodes[n],n=0,!t)){var o=e.rest?G(e.rest):e.line;return es(it(et(o),o.text.length),i)}var a=3==t.nodeType?t:null,l=t;for(a||1!=t.childNodes.length||3!=t.firstChild.nodeType||(a=t.firstChild,n&&(n=a.nodeValue.length));l.parentNode!=r;)l=l.parentNode;var s=e.measure,c=s.maps;function u(t,n,r){for(var i=-1;i<(c?c.length:0);i++)for(var o=i<0?s.map:c[i],a=0;a<o.length;a+=3){var l=o[a+2];if(l==t||l==n){var u=et(i<0?e.line:e.rest[i]),d=o[a]+r;return(r<0||l!=t)&&(d=o[a+(r?1:0)]),it(u,d)}}}var d=u(a,l,n);if(d)return es(d,i);for(var f=l.nextSibling,p=a?a.nodeValue.length-n:0;f;f=f.nextSibling){if(d=u(f,f.firstChild,0))return es(it(d.line,d.ch-p),i);p+=f.textContent.length}for(var h=l.previousSibling,m=n;h;h=h.previousSibling){if(d=u(h,h.firstChild,-1))return es(it(d.line,d.ch+m),i);m+=h.textContent.length}}Xl.prototype.init=function(e){var t=this,n=this,r=n.cm,i=n.div=e.lineDiv;function o(e){for(var t=e.target;t;t=t.parentNode){if(t==i)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(t.className))break}return!1}function a(e){if(o(e)&&!ye(r,e)){if(r.somethingSelected())Bl({lineWise:!1,text:r.getSelections()}),"cut"==e.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var t=ql(r);Bl({lineWise:!0,text:t.text}),"cut"==e.type&&r.operation((function(){r.setSelections(t.ranges,0,W),r.replaceSelection("",null,"cut")}))}if(e.clipboardData){e.clipboardData.clearData();var a=Rl.text.join("\n");if(e.clipboardData.setData("Text",a),e.clipboardData.getData("Text")==a)return void e.preventDefault()}var l=Kl(),s=l.firstChild;r.display.lineSpace.insertBefore(l,r.display.lineSpace.firstChild),s.value=Rl.text.join("\n");var c=M();F(s),setTimeout((function(){r.display.lineSpace.removeChild(l),c.focus(),c==i&&n.showPrimarySelection()}),50)}}i.contentEditable=!0,$l(i,r.options.spellcheck,r.options.autocorrect,r.options.autocapitalize),he(i,"paste",(function(e){!o(e)||ye(r,e)||Wl(e,r)||l<=11&&setTimeout(Oi(r,(function(){return t.updateFromDOM()})),20)})),he(i,"compositionstart",(function(e){t.composing={data:e.data,done:!1}})),he(i,"compositionupdate",(function(e){t.composing||(t.composing={data:e.data,done:!1})})),he(i,"compositionend",(function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)})),he(i,"touchstart",(function(){return n.forceCompositionEnd()})),he(i,"input",(function(){t.composing||t.readFromDOMSoon()})),he(i,"copy",a),he(i,"cut",a)},Xl.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},Xl.prototype.prepareSelection=function(){var e=Wr(this.cm,!1);return e.focus=M()==this.div,e},Xl.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Xl.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Xl.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,r=t.doc.sel.primary(),i=r.from(),o=r.to();if(t.display.viewTo==t.display.viewFrom||i.line>=t.display.viewTo||o.line<t.display.viewFrom)e.removeAllRanges();else{var a=ns(t,e.anchorNode,e.anchorOffset),l=ns(t,e.focusNode,e.focusOffset);if(!a||a.bad||!l||l.bad||0!=ot(ct(a,l),i)||0!=ot(st(a,l),o)){var s=t.display.view,c=i.line>=t.display.viewFrom&&Jl(t,i)||{node:s[0].measure.map[2],offset:0},u=o.line<t.display.viewTo&&Jl(t,o);if(!u){var d=s[s.length-1].measure,f=d.maps?d.maps[d.maps.length-1]:d.map;u={node:f[f.length-1],offset:f[f.length-2]-f[f.length-3]}}if(c&&u){var p,h=e.rangeCount&&e.getRangeAt(0);try{p=N(c.node,c.offset,u.offset,u.node)}catch(m){}p&&(!n&&t.state.focused?(e.collapse(c.node,c.offset),p.collapsed||(e.removeAllRanges(),e.addRange(p))):(e.removeAllRanges(),e.addRange(p)),h&&null==e.anchorNode?e.addRange(h):n&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},Xl.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout((function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation((function(){return e.cm.curOp.selectionChanged=!0}))}),20)},Xl.prototype.showMultipleSelections=function(e){E(this.cm.display.cursorDiv,e.cursors),E(this.cm.display.selectionDiv,e.selection)},Xl.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Xl.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return O(this.div,t)},Xl.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&M()==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Xl.prototype.blur=function(){this.div.blur()},Xl.prototype.getField=function(){return this.div},Xl.prototype.supportsTouch=function(){return!0},Xl.prototype.receivedFocus=function(){var e=this;function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))}this.selectionInEditor()?this.pollSelection():ji(this.cm,(function(){return e.cm.curOp.selectionChanged=!0})),this.polling.set(this.cm.options.pollInterval,t)},Xl.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Xl.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(v&&u&&this.cm.display.gutterSpecs.length&&Zl(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=ns(t,e.anchorNode,e.anchorOffset),r=ns(t,e.focusNode,e.focusOffset);n&&r&&ji(t,(function(){Bo(t.doc,ao(n,r),W),(n.bad||r.bad)&&(t.curOp.selectionChanged=!0)}))}}},Xl.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,n,r=this.cm,i=r.display,o=r.doc.sel.primary(),a=o.from(),l=o.to();if(0==a.ch&&a.line>r.firstLine()&&(a=it(a.line-1,Qe(r.doc,a.line-1).length)),l.ch==Qe(r.doc,l.line).text.length&&l.line<r.lastLine()&&(l=it(l.line+1,0)),a.line<i.viewFrom||l.line>i.viewTo-1)return!1;a.line==i.viewFrom||0==(e=Fr(r,a.line))?(t=et(i.view[0].line),n=i.view[0].node):(t=et(i.view[e].line),n=i.view[e-1].node.nextSibling);var s,c,u=Fr(r,l.line);if(u==i.view.length-1?(s=i.viewTo-1,c=i.lineDiv.lastChild):(s=et(i.view[u+1].line)-1,c=i.view[u+1].node.previousSibling),!n)return!1;for(var d=r.doc.splitLines(ts(r,n,c,t,s)),f=Xe(r.doc,it(t,0),it(s,Qe(r.doc,s).text.length));d.length>1&&f.length>1;)if(G(d)==G(f))d.pop(),f.pop(),s--;else{if(d[0]!=f[0])break;d.shift(),f.shift(),t++}for(var p=0,h=0,m=d[0],v=f[0],g=Math.min(m.length,v.length);p<g&&m.charCodeAt(p)==v.charCodeAt(p);)++p;for(var y=G(d),b=G(f),x=Math.min(y.length-(1==d.length?p:0),b.length-(1==f.length?p:0));h<x&&y.charCodeAt(y.length-h-1)==b.charCodeAt(b.length-h-1);)++h;if(1==d.length&&1==f.length&&t==a.line)for(;p&&p>a.ch&&y.charCodeAt(y.length-h-1)==b.charCodeAt(b.length-h-1);)p--,h++;d[d.length-1]=y.slice(0,y.length-h).replace(/^\u200b+/,""),d[0]=d[0].slice(p).replace(/\u200b+$/,"");var w=it(t,p),k=it(s,f.length?G(f).length-h:0);return d.length>1||d[0]||ot(w,k)?(ra(r.doc,d,w,k,"+input"),!0):void 0},Xl.prototype.ensurePolled=function(){this.forceCompositionEnd()},Xl.prototype.reset=function(){this.forceCompositionEnd()},Xl.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Xl.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout((function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()}),80))},Xl.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||ji(this.cm,(function(){return Dr(e.cm)}))},Xl.prototype.setUneditable=function(e){e.contentEditable="false"},Xl.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||Oi(this.cm,Hl)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},Xl.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},Xl.prototype.onContextMenu=function(){},Xl.prototype.resetPosition=function(){},Xl.prototype.needsContentAttribute=!0;var is=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new z,this.hasSelection=!1,this.composing=null};function os(e,t){if((t=t?P(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var n=M();t.autofocus=n==e||null!=e.getAttribute("autofocus")&&n==document.body}function r(){e.value=l.getValue()}var i;if(e.form&&(he(e.form,"submit",r),!t.leaveSubmitMethodAlone)){var o=e.form;i=o.submit;try{var a=o.submit=function(){r(),o.submit=i,o.submit(),o.submit=a}}catch(s){}}t.finishInit=function(n){n.save=r,n.getTextArea=function(){return e},n.toTextArea=function(){n.toTextArea=isNaN,r(),e.parentNode.removeChild(n.getWrapperElement()),e.style.display="",e.form&&(ve(e.form,"submit",r),t.leaveSubmitMethodAlone||"function"!=typeof e.form.submit||(e.form.submit=i))}},e.style.display="none";var l=Dl((function(t){return e.parentNode.insertBefore(t,e.nextSibling)}),t);return l}function as(e){e.off=ve,e.on=he,e.wheelEventPixels=to,e.Doc=ka,e.splitLines=Ie,e.countColumn=V,e.findColumn=$,e.isWordChar=te,e.Pass=H,e.signal=ge,e.Line=sn,e.changeEnd=lo,e.scrollbarModel=bi,e.Pos=it,e.cmpPos=ot,e.modes=Ve,e.mimeModes=ze,e.resolveMode=He,e.getMode=We,e.modeExtensions=Ue,e.extendMode=qe,e.copyState=$e,e.startState=Ye,e.innerMode=Ke,e.commands=Qa,e.keyMap=Pa,e.keyName=Wa,e.isModifierKey=Ba,e.lookupKey=Ra,e.normalizeKeyMap=za,e.StringStream=Ge,e.SharedTextMarker=va,e.TextMarker=ha,e.LineWidget=ua,e.e_preventDefault=ke,e.e_stopPropagation=Ce,e.e_stop=Ne,e.addClass=I,e.contains=O,e.rmClass=T,e.keyNames=Ia}is.prototype.init=function(e){var t=this,n=this,r=this.cm;this.createField(e);var i=this.textarea;function o(e){if(!ye(r,e)){if(r.somethingSelected())Bl({lineWise:!1,text:r.getSelections()});else{if(!r.options.lineWiseCopyCut)return;var t=ql(r);Bl({lineWise:!0,text:t.text}),"cut"==e.type?r.setSelections(t.ranges,null,W):(n.prevInput="",i.value=t.text.join("\n"),F(i))}"cut"==e.type&&(r.state.cutIncoming=+new Date)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),m&&(i.style.width="0px"),he(i,"input",(function(){a&&l>=9&&t.hasSelection&&(t.hasSelection=null),n.poll()})),he(i,"paste",(function(e){ye(r,e)||Wl(e,r)||(r.state.pasteIncoming=+new Date,n.fastPoll())})),he(i,"cut",o),he(i,"copy",o),he(e.scroller,"paste",(function(t){if(!Wn(e,t)&&!ye(r,t)){if(!i.dispatchEvent)return r.state.pasteIncoming=+new Date,void n.focus();var o=new Event("paste");o.clipboardData=t.clipboardData,i.dispatchEvent(o)}})),he(e.lineSpace,"selectstart",(function(t){Wn(e,t)||ke(t)})),he(i,"compositionstart",(function(){var e=r.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:e,range:r.markText(e,r.getCursor("to"),{className:"CodeMirror-composing"})}})),he(i,"compositionend",(function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)}))},is.prototype.createField=function(e){this.wrapper=Kl(),this.textarea=this.wrapper.firstChild},is.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},is.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,r=Wr(e);if(e.options.moveInputWithCursor){var i=yr(e,n.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),a=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+a.top-o.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+a.left-o.left))}return r},is.prototype.showSelection=function(e){var t=this.cm.display;E(t.cursorDiv,e.cursors),E(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},is.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var n=t.getSelection();this.textarea.value=n,t.state.focused&&F(this.textarea),a&&l>=9&&(this.hasSelection=n)}else e||(this.prevInput=this.textarea.value="",a&&l>=9&&(this.hasSelection=null))}},is.prototype.getField=function(){return this.textarea},is.prototype.supportsTouch=function(){return!1},is.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!g||M()!=this.textarea))try{this.textarea.focus()}catch(e){}},is.prototype.blur=function(){this.textarea.blur()},is.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},is.prototype.receivedFocus=function(){this.slowPoll()},is.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,(function(){e.poll(),e.cm.state.focused&&e.slowPoll()}))},is.prototype.fastPoll=function(){var e=!1,t=this;function n(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,n))}t.pollingFast=!0,t.polling.set(20,n)},is.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,r=this.prevInput;if(this.contextMenuPending||!t.state.focused||Ae(n)&&!r&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=n.value;if(i==r&&!t.somethingSelected())return!1;if(a&&l>=9&&this.hasSelection===i||y&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||r||(r="\u200b"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var s=0,c=Math.min(r.length,i.length);s<c&&r.charCodeAt(s)==i.charCodeAt(s);)++s;return ji(t,(function(){Hl(t,i.slice(s),r.length-s,null,e.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?n.value=e.prevInput="":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))})),!0},is.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},is.prototype.onKeyPress=function(){a&&l>=9&&(this.hasSelection=null),this.fastPoll()},is.prototype.onContextMenu=function(e){var t=this,n=t.cm,r=n.display,i=t.textarea;t.contextMenuPending&&t.contextMenuPending();var o=Ar(n,e),c=r.scroller.scrollTop;if(o&&!d){n.options.resetSelectionOnContextMenu&&-1==n.doc.sel.contains(o)&&Oi(n,Bo)(n.doc,ao(o),W);var u,f=i.style.cssText,p=t.wrapper.style.cssText,h=t.wrapper.offsetParent.getBoundingClientRect();t.wrapper.style.cssText="position: static",i.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-h.top-5)+"px; left: "+(e.clientX-h.left-5)+"px;\n      z-index: 1000; background: "+(a?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",s&&(u=window.scrollY),r.input.focus(),s&&window.scrollTo(null,u),r.input.reset(),n.somethingSelected()||(i.value=t.prevInput=" "),t.contextMenuPending=v,r.selForContextMenu=n.doc.sel,clearTimeout(r.detectingSelectAll),a&&l>=9&&m(),C?(Ne(e),he(window,"mouseup",(function e(){ve(window,"mouseup",e),setTimeout(v,20)}))):setTimeout(v,50)}function m(){if(null!=i.selectionStart){var e=n.somethingSelected(),o="\u200b"+(e?i.value:"");i.value="\u21da",i.value=o,t.prevInput=e?"":"\u200b",i.selectionStart=1,i.selectionEnd=o.length,r.selForContextMenu=n.doc.sel}}function v(){if(t.contextMenuPending==v&&(t.contextMenuPending=!1,t.wrapper.style.cssText=p,i.style.cssText=f,a&&l<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=c),null!=i.selectionStart)){(!a||a&&l<9)&&m();var e=0,o=function o(){r.selForContextMenu==n.doc.sel&&0==i.selectionStart&&i.selectionEnd>0&&"\u200b"==t.prevInput?Oi(n,Go)(n):e++<10?r.detectingSelectAll=setTimeout(o,500):(r.selForContextMenu=null,r.input.reset())};r.detectingSelectAll=setTimeout(o,200)}}},is.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e,this.textarea.readOnly=!!e},is.prototype.setUneditable=function(){},is.prototype.needsContentAttribute=!1,Il(Dl),Yl(Dl);var ls="iter insert remove copy getEditor constructor".split(" ");for(var ss in ka.prototype)ka.prototype.hasOwnProperty(ss)&&R(ls,ss)<0&&(Dl.prototype[ss]=function(e){return function(){return e.apply(this.doc,arguments)}}(ka.prototype[ss]));return we(ka),Dl.inputStyles={textarea:is,contenteditable:Xl},Dl.defineMode=function(e){Dl.defaults.mode||"null"==e||(Dl.defaults.mode=e),Re.apply(this,arguments)},Dl.defineMIME=Be,Dl.defineMode("null",(function(){return{token:function(e){return e.skipToEnd()}}})),Dl.defineMIME("text/plain","null"),Dl.defineExtension=function(e,t){Dl.prototype[e]=t},Dl.defineDocExtension=function(e,t){ka.prototype[e]=t},Dl.fromTextArea=os,as(Dl),Dl.version="5.62.3",Dl}()},6251:function(e,t,n){!function(e){"use strict";e.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy","cbl"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded JavaScript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"],alias:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var t=0;t<e.modeInfo.length;t++){var n=e.modeInfo[t];n.mimes&&(n.mime=n.mimes[0])}e.findModeByMIME=function(t){t=t.toLowerCase();for(var n=0;n<e.modeInfo.length;n++){var r=e.modeInfo[n];if(r.mime==t)return r;if(r.mimes)for(var i=0;i<r.mimes.length;i++)if(r.mimes[i]==t)return r}return/\+xml$/.test(t)?e.findModeByMIME("application/xml"):/\+json$/.test(t)?e.findModeByMIME("application/json"):void 0},e.findModeByExtension=function(t){t=t.toLowerCase();for(var n=0;n<e.modeInfo.length;n++){var r=e.modeInfo[n];if(r.ext)for(var i=0;i<r.ext.length;i++)if(r.ext[i]==t)return r}},e.findModeByFileName=function(t){for(var n=0;n<e.modeInfo.length;n++){var r=e.modeInfo[n];if(r.file&&r.file.test(t))return r}var i=t.lastIndexOf("."),o=i>-1&&t.substring(i+1,t.length);if(o)return e.findModeByExtension(o)},e.findModeByName=function(t){t=t.toLowerCase();for(var n=0;n<e.modeInfo.length;n++){var r=e.modeInfo[n];if(r.name.toLowerCase()==t)return r;if(r.alias)for(var i=0;i<r.alias.length;i++)if(r.alias[i].toLowerCase()==t)return r}}}(n(3668))},2822:function(e,t,n){!function(e){"use strict";function t(e){for(var t;null!=(t=e.next());)if("`"==t&&!e.eat("`"))return"variable-2";return e.backUp(e.current().length-1),e.eatWhile(/\w/)?"variable-2":null}function n(e){for(var t;null!=(t=e.next());)if('"'==t&&!e.eat('"'))return"variable-2";return e.backUp(e.current().length-1),e.eatWhile(/\w/)?"variable-2":null}function r(e){return e.eat("@")&&(e.match("session."),e.match("local."),e.match("global.")),e.eat("'")?(e.match(/^.*'/),"variable-2"):e.eat('"')?(e.match(/^.*"/),"variable-2"):e.eat("`")?(e.match(/^.*`/),"variable-2"):e.match(/^[0-9a-zA-Z$\.\_]+/)?"variable-2":null}function i(e){return e.eat("N")?"atom":e.match(/^[a-zA-Z.#!?]/)?"variable-2":null}e.defineMode("sql",(function(t,n){var r=n.client||{},i=n.atoms||{false:!0,true:!0,null:!0},s=n.builtin||a(l),c=n.keywords||a(o),u=n.operatorChars||/^[*+\-%<>!=&|~^\/]/,d=n.support||{},f=n.hooks||{},p=n.dateSQL||{date:!0,time:!0,timestamp:!0},h=!1!==n.backslashStringEscapes,m=n.brackets||/^[\{}\(\)\[\]]/,v=n.punctuation||/^[;.,:]/;function g(e,t){var n=e.next();if(f[n]){var o=f[n](e,t);if(!1!==o)return o}if(d.hexNumber&&("0"==n&&e.match(/^[xX][0-9a-fA-F]+/)||("x"==n||"X"==n)&&e.match(/^'[0-9a-fA-F]+'/)))return"number";if(d.binaryNumber&&(("b"==n||"B"==n)&&e.match(/^'[01]+'/)||"0"==n&&e.match(/^b[01]+/)))return"number";if(n.charCodeAt(0)>47&&n.charCodeAt(0)<58)return e.match(/^[0-9]*(\.[0-9]+)?([eE][-+]?[0-9]+)?/),d.decimallessFloat&&e.match(/^\.(?!\.)/),"number";if("?"==n&&(e.eatSpace()||e.eol()||e.eat(";")))return"variable-3";if("'"==n||'"'==n&&d.doubleQuote)return t.tokenize=y(n),t.tokenize(e,t);if((d.nCharCast&&("n"==n||"N"==n)||d.charsetCast&&"_"==n&&e.match(/[a-z][a-z0-9]*/i))&&("'"==e.peek()||'"'==e.peek()))return"keyword";if(d.escapeConstant&&("e"==n||"E"==n)&&("'"==e.peek()||'"'==e.peek()&&d.doubleQuote))return t.tokenize=function(e,t){return(t.tokenize=y(e.next(),!0))(e,t)},"keyword";if(d.commentSlashSlash&&"/"==n&&e.eat("/"))return e.skipToEnd(),"comment";if(d.commentHash&&"#"==n||"-"==n&&e.eat("-")&&(!d.commentSpaceRequired||e.eat(" ")))return e.skipToEnd(),"comment";if("/"==n&&e.eat("*"))return t.tokenize=b(1),t.tokenize(e,t);if("."!=n){if(u.test(n))return e.eatWhile(u),"operator";if(m.test(n))return"bracket";if(v.test(n))return e.eatWhile(v),"punctuation";if("{"==n&&(e.match(/^( )*(d|D|t|T|ts|TS)( )*'[^']*'( )*}/)||e.match(/^( )*(d|D|t|T|ts|TS)( )*"[^"]*"( )*}/)))return"number";e.eatWhile(/^[_\w\d]/);var a=e.current().toLowerCase();return p.hasOwnProperty(a)&&(e.match(/^( )+'[^']*'/)||e.match(/^( )+"[^"]*"/))?"number":i.hasOwnProperty(a)?"atom":s.hasOwnProperty(a)?"builtin":c.hasOwnProperty(a)?"keyword":r.hasOwnProperty(a)?"string-2":null}return d.zerolessFloat&&e.match(/^(?:\d+(?:e[+-]?\d+)?)/i)?"number":e.match(/^\.+/)?null:d.ODBCdotTable&&e.match(/^[\w\d_$#]+/)?"variable-2":void 0}function y(e,t){return function(n,r){for(var i,o=!1;null!=(i=n.next());){if(i==e&&!o){r.tokenize=g;break}o=(h||t)&&!o&&"\\"==i}return"string"}}function b(e){return function(t,n){var r=t.match(/^.*?(\/\*|\*\/)/);return r?"/*"==r[1]?n.tokenize=b(e+1):n.tokenize=e>1?b(e-1):g:t.skipToEnd(),"comment"}}function x(e,t,n){t.context={prev:t.context,indent:e.indentation(),col:e.column(),type:n}}function w(e){e.indent=e.context.indent,e.context=e.context.prev}return{startState:function(){return{tokenize:g,context:null}},token:function(e,t){if(e.sol()&&t.context&&null==t.context.align&&(t.context.align=!1),t.tokenize==g&&e.eatSpace())return null;var n=t.tokenize(e,t);if("comment"==n)return n;t.context&&null==t.context.align&&(t.context.align=!0);var r=e.current();return"("==r?x(e,t,")"):"["==r?x(e,t,"]"):t.context&&t.context.type==r&&w(t),n},indent:function(n,r){var i=n.context;if(!i)return e.Pass;var o=r.charAt(0)==i.type;return i.align?i.col+(o?0:1):i.indent+(o?0:t.indentUnit)},blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:d.commentSlashSlash?"//":d.commentHash?"#":"--",closeBrackets:"()[]{}''\"\"``"}}));var o="alter and as asc between by count create delete desc distinct drop from group having in insert into is join like not on or order select set table union update values where limit ";function a(e){for(var t={},n=e.split(" "),r=0;r<n.length;++r)t[n[r]]=!0;return t}var l="bool boolean bit blob enum long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision real date datetime year unsigned signed decimal numeric";e.defineMIME("text/x-sql",{name:"sql",keywords:a(o+"begin"),builtin:a(l),atoms:a("false true null unknown"),dateSQL:a("date time timestamp"),support:a("ODBCdotTable doubleQuote binaryNumber hexNumber")}),e.defineMIME("text/x-mssql",{name:"sql",client:a("$partition binary_checksum checksum connectionproperty context_info current_request_id error_line error_message error_number error_procedure error_severity error_state formatmessage get_filestream_transaction_context getansinull host_id host_name isnull isnumeric min_active_rowversion newid newsequentialid rowcount_big xact_state object_id"),keywords:a(o+"begin trigger proc view index for add constraint key primary foreign collate clustered nonclustered declare exec go if use index holdlock nolock nowait paglock readcommitted readcommittedlock readpast readuncommitted repeatableread rowlock serializable snapshot tablock tablockx updlock with"),builtin:a("bigint numeric bit smallint decimal smallmoney int tinyint money float real char varchar text nchar nvarchar ntext binary varbinary image cursor timestamp hierarchyid uniqueidentifier sql_variant xml table "),atoms:a("is not null like and or in left right between inner outer join all any some cross unpivot pivot exists"),operatorChars:/^[*+\-%<>!=^\&|\/]/,brackets:/^[\{}\(\)]/,punctuation:/^[;.,:/]/,backslashStringEscapes:!1,dateSQL:a("date datetimeoffset datetime2 smalldatetime datetime time"),hooks:{"@":r}}),e.defineMIME("text/x-mysql",{name:"sql",client:a("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:a(o+"accessible action add after algorithm all analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general get global grant grants group group_concat handler hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show signal slave slow smallint snapshot soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views warnings when while with work write xa xor year_month zerofill begin do then else loop repeat"),builtin:a("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric"),atoms:a("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^]/,dateSQL:a("date time timestamp"),support:a("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired"),hooks:{"@":r,"`":t,"\\":i}}),e.defineMIME("text/x-mariadb",{name:"sql",client:a("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:a(o+"accessible action add after algorithm all always analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general generated get global grant grants group groupby_concat handler hard hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password persistent phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show shutdown signal slave slow smallint snapshot soft soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views virtual warnings when while with work write xa xor year_month zerofill begin do then else loop repeat"),builtin:a("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric"),atoms:a("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^]/,dateSQL:a("date time timestamp"),support:a("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired"),hooks:{"@":r,"`":t,"\\":i}}),e.defineMIME("text/x-sqlite",{name:"sql",client:a("auth backup bail binary changes check clone databases dbinfo dump echo eqp exit explain fullschema headers help import imposter indexes iotrace limit lint load log mode nullvalue once open output print prompt quit read restore save scanstats schema separator session shell show stats system tables testcase timeout timer trace vfsinfo vfslist vfsname width"),keywords:a(o+"abort action add after all analyze attach autoincrement before begin cascade case cast check collate column commit conflict constraint cross current_date current_time current_timestamp database default deferrable deferred detach each else end escape except exclusive exists explain fail for foreign full glob if ignore immediate index indexed initially inner instead intersect isnull key left limit match natural no notnull null of offset outer plan pragma primary query raise recursive references regexp reindex release rename replace restrict right rollback row savepoint temp temporary then to transaction trigger unique using vacuum view virtual when with without"),builtin:a("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text clob bigint int int2 int8 integer float double char varchar date datetime year unsigned signed numeric real"),atoms:a("null current_date current_time current_timestamp"),operatorChars:/^[*+\-%<>!=&|/~]/,dateSQL:a("date time timestamp datetime"),support:a("decimallessFloat zerolessFloat"),identifierQuote:'"',hooks:{"@":r,":":r,"?":r,$:r,'"':n,"`":t}}),e.defineMIME("text/x-cassandra",{name:"sql",client:{},keywords:a("add all allow alter and any apply as asc authorize batch begin by clustering columnfamily compact consistency count create custom delete desc distinct drop each_quorum exists filtering from grant if in index insert into key keyspace keyspaces level limit local_one local_quorum modify nan norecursive nosuperuser not of on one order password permission permissions primary quorum rename revoke schema select set storage superuser table three to token truncate ttl two type unlogged update use user users using values where with writetime"),builtin:a("ascii bigint blob boolean counter decimal double float frozen inet int list map static text timestamp timeuuid tuple uuid varchar varint"),atoms:a("false true infinity NaN"),operatorChars:/^[<>=]/,dateSQL:{},support:a("commentSlashSlash decimallessFloat"),hooks:{}}),e.defineMIME("text/x-plsql",{name:"sql",client:a("appinfo arraysize autocommit autoprint autorecovery autotrace blockterminator break btitle cmdsep colsep compatibility compute concat copycommit copytypecheck define describe echo editfile embedded escape exec execute feedback flagger flush heading headsep instance linesize lno loboffset logsource long longchunksize markup native newpage numformat numwidth pagesize pause pno recsep recsepchar release repfooter repheader serveroutput shiftinout show showmode size spool sqlblanklines sqlcase sqlcode sqlcontinue sqlnumber sqlpluscompatibility sqlprefix sqlprompt sqlterminator suffix tab term termout time timing trimout trimspool ttitle underline verify version wrap"),keywords:a("abort accept access add all alter and any array arraylen as asc assert assign at attributes audit authorization avg base_table begin between binary_integer body boolean by case cast char char_base check close cluster clusters colauth column comment commit compress connect connected constant constraint crash create current currval cursor data_base database date dba deallocate debugoff debugon decimal declare default definition delay delete desc digits dispose distinct do drop else elseif elsif enable end entry escape exception exception_init exchange exclusive exists exit external fast fetch file for force form from function generic goto grant group having identified if immediate in increment index indexes indicator initial initrans insert interface intersect into is key level library like limited local lock log logging long loop master maxextents maxtrans member minextents minus mislabel mode modify multiset new next no noaudit nocompress nologging noparallel not nowait number_base object of off offline on online only open option or order out package parallel partition pctfree pctincrease pctused pls_integer positive positiven pragma primary prior private privileges procedure public raise range raw read rebuild record ref references refresh release rename replace resource restrict return returning returns reverse revoke rollback row rowid rowlabel rownum rows run savepoint schema segment select separate session set share snapshot some space split sql start statement storage subtype successful synonym tabauth table tables tablespace task terminate then to trigger truncate type union unique unlimited unrecoverable unusable update use using validate value values variable view views when whenever where while with work"),builtin:a("abs acos add_months ascii asin atan atan2 average bfile bfilename bigserial bit blob ceil character chartorowid chr clob concat convert cos cosh count dec decode deref dual dump dup_val_on_index empty error exp false float floor found glb greatest hextoraw initcap instr instrb int integer isopen last_day least length lengthb ln lower lpad ltrim lub make_ref max min mlslabel mod months_between natural naturaln nchar nclob new_time next_day nextval nls_charset_decl_len nls_charset_id nls_charset_name nls_initcap nls_lower nls_sort nls_upper nlssort no_data_found notfound null number numeric nvarchar2 nvl others power rawtohex real reftohex round rowcount rowidtochar rowtype rpad rtrim serial sign signtype sin sinh smallint soundex sqlcode sqlerrm sqrt stddev string substr substrb sum sysdate tan tanh to_char text to_date to_label to_multi_byte to_number to_single_byte translate true trunc uid unlogged upper user userenv varchar varchar2 variance varying vsize xml"),operatorChars:/^[*\/+\-%<>!=~]/,dateSQL:a("date time timestamp"),support:a("doubleQuote nCharCast zerolessFloat binaryNumber hexNumber")}),e.defineMIME("text/x-hive",{name:"sql",keywords:a("select alter $elem$ $key$ $value$ add after all analyze and archive as asc before between binary both bucket buckets by cascade case cast change cluster clustered clusterstatus collection column columns comment compute concatenate continue create cross cursor data database databases dbproperties deferred delete delimited desc describe directory disable distinct distribute drop else enable end escaped exclusive exists explain export extended external fetch fields fileformat first format formatted from full function functions grant group having hold_ddltime idxproperties if import in index indexes inpath inputdriver inputformat insert intersect into is items join keys lateral left like limit lines load local location lock locks mapjoin materialized minus msck no_drop nocompress not of offline on option or order out outer outputdriver outputformat overwrite partition partitioned partitions percent plus preserve procedure purge range rcfile read readonly reads rebuild recordreader recordwriter recover reduce regexp rename repair replace restrict revoke right rlike row schema schemas semi sequencefile serde serdeproperties set shared show show_database sort sorted ssl statistics stored streamtable table tables tablesample tblproperties temporary terminated textfile then tmp to touch transform trigger unarchive undo union uniquejoin unlock update use using utc utc_tmestamp view when where while with admin authorization char compact compactions conf cube current current_date current_timestamp day decimal defined dependency directories elem_type exchange file following for grouping hour ignore inner interval jar less logical macro minute month more none noscan over owner partialscan preceding pretty principals protection reload rewrite role roles rollup rows second server sets skewed transactions truncate unbounded unset uri user values window year"),builtin:a("bool boolean long timestamp tinyint smallint bigint int float double date datetime unsigned string array struct map uniontype key_type utctimestamp value_type varchar"),atoms:a("false true null unknown"),operatorChars:/^[*+\-%<>!=]/,dateSQL:a("date timestamp"),support:a("ODBCdotTable doubleQuote binaryNumber hexNumber")}),e.defineMIME("text/x-pgsql",{name:"sql",client:a("source"),keywords:a(o+"a abort abs absent absolute access according action ada add admin after aggregate alias all allocate also alter always analyse analyze and any are array array_agg array_max_cardinality as asc asensitive assert assertion assignment asymmetric at atomic attach attribute attributes authorization avg backward base64 before begin begin_frame begin_partition bernoulli between bigint binary bit bit_length blob blocked bom boolean both breadth by c cache call called cardinality cascade cascaded case cast catalog catalog_name ceil ceiling chain char char_length character character_length character_set_catalog character_set_name character_set_schema characteristics characters check checkpoint class class_origin clob close cluster coalesce cobol collate collation collation_catalog collation_name collation_schema collect column column_name columns command_function command_function_code comment comments commit committed concurrently condition condition_number configuration conflict connect connection connection_name constant constraint constraint_catalog constraint_name constraint_schema constraints constructor contains content continue control conversion convert copy corr corresponding cost count covar_pop covar_samp create cross csv cube cume_dist current current_catalog current_date current_default_transform_group current_path current_role current_row current_schema current_time current_timestamp current_transform_group_for_type current_user cursor cursor_name cycle data database datalink datatype date datetime_interval_code datetime_interval_precision day db deallocate debug dec decimal declare default defaults deferrable deferred defined definer degree delete delimiter delimiters dense_rank depends depth deref derived desc describe descriptor detach detail deterministic diagnostics dictionary disable discard disconnect dispatch distinct dlnewcopy dlpreviouscopy dlurlcomplete dlurlcompleteonly dlurlcompletewrite dlurlpath dlurlpathonly dlurlpathwrite dlurlscheme dlurlserver dlvalue do document domain double drop dump dynamic dynamic_function dynamic_function_code each element else elseif elsif empty enable encoding encrypted end end_frame end_partition endexec enforced enum equals errcode error escape event every except exception exclude excluding exclusive exec execute exists exit exp explain expression extension external extract false family fetch file filter final first first_value flag float floor following for force foreach foreign fortran forward found frame_row free freeze from fs full function functions fusion g general generated get global go goto grant granted greatest group grouping groups handler having header hex hierarchy hint hold hour id identity if ignore ilike immediate immediately immutable implementation implicit import in include including increment indent index indexes indicator info inherit inherits initially inline inner inout input insensitive insert instance instantiable instead int integer integrity intersect intersection interval into invoker is isnull isolation join k key key_member key_type label lag language large last last_value lateral lead leading leakproof least left length level library like like_regex limit link listen ln load local localtime localtimestamp location locator lock locked log logged loop lower m map mapping match matched materialized max max_cardinality maxvalue member merge message message_length message_octet_length message_text method min minute minvalue mod mode modifies module month more move multiset mumps name names namespace national natural nchar nclob nesting new next nfc nfd nfkc nfkd nil no none normalize normalized not nothing notice notify notnull nowait nth_value ntile null nullable nullif nulls number numeric object occurrences_regex octet_length octets of off offset oids old on only open operator option options or order ordering ordinality others out outer output over overlaps overlay overriding owned owner p pad parallel parameter parameter_mode parameter_name parameter_ordinal_position parameter_specific_catalog parameter_specific_name parameter_specific_schema parser partial partition pascal passing passthrough password path percent percent_rank percentile_cont percentile_disc perform period permission pg_context pg_datatype_name pg_exception_context pg_exception_detail pg_exception_hint placing plans pli policy portion position position_regex power precedes preceding precision prepare prepared preserve primary print_strict_params prior privileges procedural procedure procedures program public publication query quote raise range rank read reads real reassign recheck recovery recursive ref references referencing refresh regr_avgx regr_avgy regr_count regr_intercept regr_r2 regr_slope regr_sxx regr_sxy regr_syy reindex relative release rename repeatable replace replica requiring reset respect restart restore restrict result result_oid return returned_cardinality returned_length returned_octet_length returned_sqlstate returning returns reverse revoke right role rollback rollup routine routine_catalog routine_name routine_schema routines row row_count row_number rows rowtype rule savepoint scale schema schema_name schemas scope scope_catalog scope_name scope_schema scroll search second section security select selective self sensitive sequence sequences serializable server server_name session session_user set setof sets share show similar simple size skip slice smallint snapshot some source space specific specific_name specifictype sql sqlcode sqlerror sqlexception sqlstate sqlwarning sqrt stable stacked standalone start state statement static statistics stddev_pop stddev_samp stdin stdout storage strict strip structure style subclass_origin submultiset subscription substring substring_regex succeeds sum symmetric sysid system system_time system_user t table table_name tables tablesample tablespace temp template temporary text then ties time timestamp timezone_hour timezone_minute to token top_level_count trailing transaction transaction_active transactions_committed transactions_rolled_back transform transforms translate translate_regex translation treat trigger trigger_catalog trigger_name trigger_schema trim trim_array true truncate trusted type types uescape unbounded uncommitted under unencrypted union unique unknown unlink unlisten unlogged unnamed unnest until untyped update upper uri usage use_column use_variable user user_defined_type_catalog user_defined_type_code user_defined_type_name user_defined_type_schema using vacuum valid validate validator value value_of values var_pop var_samp varbinary varchar variable_conflict variadic varying verbose version versioning view views volatile warning when whenever where while whitespace width_bucket window with within without work wrapper write xml xmlagg xmlattributes xmlbinary xmlcast xmlcomment xmlconcat xmldeclaration xmldocument xmlelement xmlexists xmlforest xmliterate xmlnamespaces xmlparse xmlpi xmlquery xmlroot xmlschema xmlserialize xmltable xmltext xmlvalidate year yes zone"),builtin:a("bigint int8 bigserial serial8 bit varying varbit boolean bool box bytea character char varchar cidr circle date double precision float8 inet integer int int4 interval json jsonb line lseg macaddr macaddr8 money numeric decimal path pg_lsn point polygon real float4 smallint int2 smallserial serial2 serial serial4 text time without zone with timetz timestamp timestamptz tsquery tsvector txid_snapshot uuid xml"),atoms:a("false true null unknown"),operatorChars:/^[*\/+\-%<>!=&|^\/#@?~]/,backslashStringEscapes:!1,dateSQL:a("date time timestamp"),support:a("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber nCharCast charsetCast escapeConstant")}),e.defineMIME("text/x-gql",{name:"sql",keywords:a("ancestor and asc by contains desc descendant distinct from group has in is limit offset on order select superset where"),atoms:a("false true"),builtin:a("blob datetime first key __key__ string integer double boolean null"),operatorChars:/^[*+\-%<>!=]/}),e.defineMIME("text/x-gpsql",{name:"sql",client:a("source"),keywords:a("abort absolute access action active add admin after aggregate all also alter always analyse analyze and any array as asc assertion assignment asymmetric at authorization backward before begin between bigint binary bit boolean both by cache called cascade cascaded case cast chain char character characteristics check checkpoint class close cluster coalesce codegen collate column comment commit committed concurrency concurrently configuration connection constraint constraints contains content continue conversion copy cost cpu_rate_limit create createdb createexttable createrole createuser cross csv cube current current_catalog current_date current_role current_schema current_time current_timestamp current_user cursor cycle data database day deallocate dec decimal declare decode default defaults deferrable deferred definer delete delimiter delimiters deny desc dictionary disable discard distinct distributed do document domain double drop dxl each else enable encoding encrypted end enum errors escape every except exchange exclude excluding exclusive execute exists explain extension external extract false family fetch fields filespace fill filter first float following for force foreign format forward freeze from full function global grant granted greatest group group_id grouping handler hash having header hold host hour identity if ignore ilike immediate immutable implicit in including inclusive increment index indexes inherit inherits initially inline inner inout input insensitive insert instead int integer intersect interval into invoker is isnull isolation join key language large last leading least left level like limit list listen load local localtime localtimestamp location lock log login mapping master match maxvalue median merge minute minvalue missing mode modifies modify month move name names national natural nchar new newline next no nocreatedb nocreateexttable nocreaterole nocreateuser noinherit nologin none noovercommit nosuperuser not nothing notify notnull nowait null nullif nulls numeric object of off offset oids old on only operator option options or order ordered others out outer over overcommit overlaps overlay owned owner parser partial partition partitions passing password percent percentile_cont percentile_disc placing plans position preceding precision prepare prepared preserve primary prior privileges procedural procedure protocol queue quote randomly range read readable reads real reassign recheck recursive ref references reindex reject relative release rename repeatable replace replica reset resource restart restrict returning returns revoke right role rollback rollup rootpartition row rows rule savepoint scatter schema scroll search second security segment select sequence serializable session session_user set setof sets share show similar simple smallint some split sql stable standalone start statement statistics stdin stdout storage strict strip subpartition subpartitions substring superuser symmetric sysid system table tablespace temp template temporary text then threshold ties time timestamp to trailing transaction treat trigger trim true truncate trusted type unbounded uncommitted unencrypted union unique unknown unlisten until update user using vacuum valid validation validator value values varchar variadic varying verbose version view volatile web when where whitespace window with within without work writable write xml xmlattributes xmlconcat xmlelement xmlexists xmlforest xmlparse xmlpi xmlroot xmlserialize year yes zone"),builtin:a("bigint int8 bigserial serial8 bit varying varbit boolean bool box bytea character char varchar cidr circle date double precision float float8 inet integer int int4 interval json jsonb line lseg macaddr macaddr8 money numeric decimal path pg_lsn point polygon real float4 smallint int2 smallserial serial2 serial serial4 text time without zone with timetz timestamp timestamptz tsquery tsvector txid_snapshot uuid xml"),atoms:a("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^\/#@?~]/,dateSQL:a("date time timestamp"),support:a("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber nCharCast charsetCast")}),e.defineMIME("text/x-sparksql",{name:"sql",keywords:a("add after all alter analyze and anti archive array as asc at between bucket buckets by cache cascade case cast change clear cluster clustered codegen collection column columns comment commit compact compactions compute concatenate cost create cross cube current current_date current_timestamp database databases data dbproperties defined delete delimited deny desc describe dfs directories distinct distribute drop else end escaped except exchange exists explain export extended external false fields fileformat first following for format formatted from full function functions global grant group grouping having if ignore import in index indexes inner inpath inputformat insert intersect interval into is items join keys last lateral lazy left like limit lines list load local location lock locks logical macro map minus msck natural no not null nulls of on optimize option options or order out outer outputformat over overwrite partition partitioned partitions percent preceding principals purge range recordreader recordwriter recover reduce refresh regexp rename repair replace reset restrict revoke right rlike role roles rollback rollup row rows schema schemas select semi separated serde serdeproperties set sets show skewed sort sorted start statistics stored stratify struct table tables tablesample tblproperties temp temporary terminated then to touch transaction transactions transform true truncate unarchive unbounded uncache union unlock unset use using values view when where window with"),builtin:a("tinyint smallint int bigint boolean float double string binary timestamp decimal array map struct uniontype delimited serde sequencefile textfile rcfile inputformat outputformat"),atoms:a("false true null"),operatorChars:/^[*\/+\-%<>!=~&|^]/,dateSQL:a("date time timestamp"),support:a("ODBCdotTable doubleQuote zerolessFloat")}),e.defineMIME("text/x-esper",{name:"sql",client:a("source"),keywords:a("alter and as asc between by count create delete desc distinct drop from group having in insert into is join like not on or order select set table union update values where limit after all and as at asc avedev avg between by case cast coalesce count create current_timestamp day days delete define desc distinct else end escape events every exists false first from full group having hour hours in inner insert instanceof into irstream is istream join last lastweekday left limit like max match_recognize matches median measures metadatasql min minute minutes msec millisecond milliseconds not null offset on or order outer output partition pattern prev prior regexp retain-union retain-intersection right rstream sec second seconds select set some snapshot sql stddev sum then true unidirectional until update variable weekday when where window"),builtin:{},atoms:a("false true null"),operatorChars:/^[*+\-%<>!=&|^\/#@?~]/,dateSQL:a("time"),support:a("decimallessFloat zerolessFloat binaryNumber hexNumber")})}(n(3668))},888:function(e,t,n){"use strict";var r=n(9047);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,l={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function m(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=v.hasOwnProperty(t)?v[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(h,e)||!d.call(p,e)&&(f.test(e)?h[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),k=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),L=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),M=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var I=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var A=Symbol.iterator;function F(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}var D,P=Object.assign;function V(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var z=!1;function R(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,l=o.length-1;1<=a&&0<=l&&i[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==o[l]){if(1!==a||1!==l)do{if(a--,0>--l||i[a]!==o[l]){var s="\n"+i[a].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=a&&0<=l);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function B(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=R(e.type,!1);case 11:return e=R(e.type.render,!1);case 1:return e=R(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case C:return"Fragment";case k:return"Portal";case N:return"Profiler";case S:return"StrictMode";case _:return"Suspense";case j:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case L:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case M:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function U(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function G(e,t){var n=t.checked;return P({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=U(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=U(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,U(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+U(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return P({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:U(n)}}function oe(e,t){var n=U(t.value),r=U(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(pe).forEach((function(e){he.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ge=P({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Ce=null,Se=null;function Ne(e){if(e=bi(e)){if("function"!==typeof ke)throw Error(o(280));var t=e.stateNode;t&&(t=wi(t),ke(e.stateNode,e.type,t))}}function Te(e){Ce?Se?Se.push(e):Se=[e]:Ce=e}function Le(){if(Ce){var e=Ce,t=Se;if(Se=Ce=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Ee(e,t){return e(t)}function _e(){}var je=!1;function Oe(e,t,n){if(je)return e(t,n);je=!0;try{return Ee(e,t,n)}finally{je=!1,(null!==Ce||null!==Se)&&(_e(),Le())}}function Me(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ie=!1;if(u)try{var Ae={};Object.defineProperty(Ae,"passive",{get:function(){Ie=!0}}),window.addEventListener("test",Ae,Ae),window.removeEventListener("test",Ae,Ae)}catch(ue){Ie=!1}function Fe(e,t,n,r,i,o,a,l,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var De=!1,Pe=null,Ve=!1,ze=null,Re={onError:function(e){De=!0,Pe=e}};function Be(e,t,n,r,i,o,a,l,s){De=!1,Pe=null,Fe.apply(Re,arguments)}function He(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ue(e){if(He(e)!==e)throw Error(o(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ue(i),e;if(a===r)return Ue(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var l=!1,s=i.child;s;){if(s===n){l=!0,n=i,r=a;break}if(s===r){l=!0,r=i,n=a;break}s=s.sibling}if(!l){for(s=a.child;s;){if(s===n){l=!0,n=a,r=i;break}if(s===r){l=!0,r=a,n=i;break}s=s.sibling}if(!l)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?$e(e):null}function $e(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=$e(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,Ge=i.unstable_shouldYield,Qe=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(lt(e)/st|0)|0},lt=Math.log,st=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var l=a&~i;0!==l?r=dt(l):0!==(o&=a)&&(r=dt(o))}else 0!==(a=n&~i)?r=dt(a):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,kt,Ct,St,Nt,Tt=!1,Lt=[],Et=null,_t=null,jt=null,Ot=new Map,Mt=new Map,It=[],At="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ft(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":_t=null;break;case"mouseover":case"mouseout":jt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mt.delete(t.pointerId)}}function Dt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Pt(e){var t=yi(e.target);if(null!==t){var n=He(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void Nt(e.priority,(function(){Ct(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function zt(e,t,n){Vt(e)&&n.delete(t)}function Rt(){Tt=!1,null!==Et&&Vt(Et)&&(Et=null),null!==_t&&Vt(_t)&&(_t=null),null!==jt&&Vt(jt)&&(jt=null),Ot.forEach(zt),Mt.forEach(zt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Rt)))}function Ht(e){function t(t){return Bt(t,e)}if(0<Lt.length){Bt(Lt[0],e);for(var n=1;n<Lt.length;n++){var r=Lt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Et&&Bt(Et,e),null!==_t&&Bt(_t,e),null!==jt&&Bt(jt,e),Ot.forEach(t),Mt.forEach(t),n=0;n<It.length;n++)(r=It[n]).blockedOn===e&&(r.blockedOn=null);for(;0<It.length&&null===(n=It[0]).blockedOn;)Pt(n),null===n.blockedOn&&It.shift()}var Wt=x.ReactCurrentBatchConfig,Ut=!0;function qt(e,t,n,r){var i=bt,o=Wt.transition;Wt.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=i,Wt.transition=o}}function $t(e,t,n,r){var i=bt,o=Wt.transition;Wt.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=i,Wt.transition=o}}function Kt(e,t,n,r){if(Ut){var i=Gt(e,t,n,r);if(null===i)Ur(e,t,r,Yt,n),Ft(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Et=Dt(Et,e,t,n,r,i),!0;case"dragenter":return _t=Dt(_t,e,t,n,r,i),!0;case"mouseover":return jt=Dt(jt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ot.set(o,Dt(Ot.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Mt.set(o,Dt(Mt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ft(e,r),4&t&&-1<At.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&wt(o),null===(o=Gt(e,t,n,r))&&Ur(e,t,r,Yt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Ur(e,t,r,null,n)}}var Yt=null;function Gt(e,t,n,r){if(Yt=null,null!==(e=yi(e=we(r))))if(null===(t=He(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return P(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,ln,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=P({},cn,{view:0,detail:0}),fn=on(dn),pn=P({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(an=e.screenX-sn.screenX,ln=e.screenY-sn.screenY):ln=an=0,sn=e),an)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),hn=on(pn),mn=on(P({},pn,{dataTransfer:0})),vn=on(P({},dn,{relatedTarget:0})),gn=on(P({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=P({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),xn=on(P({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cn[e])&&!!t[e]}function Nn(){return Sn}var Tn=P({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Ln=on(Tn),En=on(P({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),_n=on(P({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nn})),jn=on(P({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=P({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=on(On),In=[9,13,27,32],An=u&&"CompositionEvent"in window,Fn=null;u&&"documentMode"in document&&(Fn=document.documentMode);var Dn=u&&"TextEvent"in window&&!Fn,Pn=u&&(!An||Fn&&8<Fn&&11>=Fn),Vn=String.fromCharCode(32),zn=!1;function Rn(e,t){switch(e){case"keyup":return-1!==In.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Un(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function qn(e,t,n,r){Te(r),0<(t=$r(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,Kn=null;function Yn(e){Vr(e,0)}function Gn(e){if(K(xi(e)))return e}function Qn(e,t){if("change"===e)return t}var Xn=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){$n&&($n.detachEvent("onpropertychange",nr),Kn=$n=null)}function nr(e){if("value"===e.propertyName&&Gn(Kn)){var t=[];qn(t,Kn,e,we(e)),Oe(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,($n=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gn(Kn)}function or(e,t){if("click"===e)return Gn(t)}function ar(e,t){if("input"===e||"change"===e)return Gn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!lr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,vr=null,gr=null,yr=null,br=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==vr||vr!==Y(r)||("selectionStart"in(r=vr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&sr(yr,r)||(yr=r,0<(r=$r(gr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Cr={},Sr={};function Nr(e){if(Cr[e])return Cr[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Cr[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Tr=Nr("animationend"),Lr=Nr("animationiteration"),Er=Nr("animationstart"),_r=Nr("transitionend"),jr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mr(e,t){jr.set(e,t),s(t,[e])}for(var Ir=0;Ir<Or.length;Ir++){var Ar=Or[Ir];Mr(Ar.toLowerCase(),"on"+(Ar[0].toUpperCase()+Ar.slice(1)))}Mr(Tr,"onAnimationEnd"),Mr(Lr,"onAnimationIteration"),Mr(Er,"onAnimationStart"),Mr("dblclick","onDoubleClick"),Mr("focusin","onFocus"),Mr("focusout","onBlur"),Mr(_r,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fr));function Pr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,l,s,c){if(Be.apply(this,arguments),De){if(!De)throw Error(o(198));var u=Pe;De=!1,Pe=null,Ve||(Ve=!0,ze=u)}}(r,t,void 0,e),e.currentTarget=null}function Vr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],s=l.instance,c=l.currentTarget;if(l=l.listener,s!==o&&i.isPropagationStopped())break e;Pr(i,l,c),o=s}else for(a=0;a<r.length;a++){if(s=(l=r[a]).instance,c=l.currentTarget,l=l.listener,s!==o&&i.isPropagationStopped())break e;Pr(i,l,c),o=s}}}if(Ve)throw e=ze,Ve=!1,ze=null,e}function zr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function Rr(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Hr(e){if(!e[Br]){e[Br]=!0,a.forEach((function(t){"selectionchange"!==t&&(Dr.has(t)||Rr(t,!1,e),Rr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Rr("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Qt(t)){case 1:var i=qt;break;case 4:i=$t;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Ie||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ur(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var l=r.stateNode.containerInfo;if(l===i||8===l.nodeType&&l.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var s=a.tag;if((3===s||4===s)&&((s=a.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;a=a.return}for(;null!==l;){if(null===(a=yi(l)))return;if(5===(s=a.tag)||6===s){r=o=a;continue e}l=l.parentNode}}r=r.return}Oe((function(){var r=o,i=we(n),a=[];e:{var l=jr.get(e);if(void 0!==l){var s=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Ln;break;case"focusin":c="focus",s=vn;break;case"focusout":c="blur",s=vn;break;case"beforeblur":case"afterblur":s=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=_n;break;case Tr:case Lr:case Er:s=gn;break;case _r:s=jn;break;case"scroll":s=fn;break;case"wheel":s=Mn;break;case"copy":case"cut":case"paste":s=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=En}var u=0!==(4&t),d=!u&&"scroll"===e,f=u?null!==l?l+"Capture":null:l;u=[];for(var p,h=r;null!==h;){var m=(p=h).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==f&&(null!=(m=Me(h,f))&&u.push(qr(h,m,p)))),d)break;h=h.return}0<u.length&&(l=new s(l,c,null,n,i),a.push({event:l,listeners:u}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[hi])&&(s||l)&&(l=i.window===i?i:(l=i.ownerDocument)?l.defaultView||l.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=He(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(u=hn,m="onMouseLeave",f="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(u=En,m="onPointerLeave",f="onPointerEnter",h="pointer"),d=null==s?l:xi(s),p=null==c?l:xi(c),(l=new u(m,h+"leave",s,n,i)).target=d,l.relatedTarget=p,m=null,yi(i)===r&&((u=new u(f,h+"enter",c,n,i)).target=p,u.relatedTarget=d,m=u),d=m,s&&c)e:{for(f=c,h=0,p=u=s;p;p=Kr(p))h++;for(p=0,m=f;m;m=Kr(m))p++;for(;0<h-p;)u=Kr(u),h--;for(;0<p-h;)f=Kr(f),p--;for(;h--;){if(u===f||null!==f&&u===f.alternate)break e;u=Kr(u),f=Kr(f)}u=null}else u=null;null!==s&&Yr(a,l,s,u,!1),null!==c&&null!==d&&Yr(a,d,c,u,!0)}if("select"===(s=(l=r?xi(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===s&&"file"===l.type)var v=Qn;else if(Un(l))if(Xn)v=ar;else{v=ir;var g=rr}else(s=l.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(v=or);switch(v&&(v=v(e,r))?qn(a,v,n,i):(g&&g(e,l,r),"focusout"===e&&(g=l._wrapperState)&&g.controlled&&"number"===l.type&&ee(l,"number",l.value)),g=r?xi(r):window,e){case"focusin":(Un(g)||"true"===g.contentEditable)&&(vr=g,gr=r,yr=null);break;case"focusout":yr=gr=vr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":xr(a,n,i)}var y;if(An)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Hn?Rn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Pn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Hn&&(y=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Hn=!0)),0<(g=$r(r,b)).length&&(b=new xn(b,e,null,n,i),a.push({event:b,listeners:g}),y?b.data=y:null!==(y=Bn(n))&&(b.data=y))),(y=Dn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(zn=!0,Vn);case"textInput":return(e=t.data)===Vn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!An&&Rn(e,t)?(e=en(),Zt=Jt=Xt=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=$r(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Vr(a,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $r(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Me(e,n))&&r.unshift(qr(e,o,i)),null!=(o=Me(e,t))&&r.push(qr(e,o,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var l=n,s=l.alternate,c=l.stateNode;if(null!==s&&s===r)break;5===l.tag&&null!==c&&(l=c,i?null!=(s=Me(n,o))&&a.unshift(qr(n,s,l)):i||null!=(s=Me(n,o))&&a.push(qr(n,s,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Gr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Gr,"\n").replace(Qr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(li)}:ri;function li(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ht(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ht(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),fi="__reactFiber$"+di,pi="__reactProps$"+di,hi="__reactContainer$"+di,mi="__reactEvents$"+di,vi="__reactListeners$"+di,gi="__reactHandles$"+di;function yi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[fi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[fi]||e[hi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function wi(e){return e[pi]||null}var ki=[],Ci=-1;function Si(e){return{current:e}}function Ni(e){0>Ci||(e.current=ki[Ci],ki[Ci]=null,Ci--)}function Ti(e,t){Ci++,ki[Ci]=e.current,e.current=t}var Li={},Ei=Si(Li),_i=Si(!1),ji=Li;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Li;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Mi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ii(){Ni(_i),Ni(Ei)}function Ai(e,t,n){if(Ei.current!==Li)throw Error(o(168));Ti(Ei,t),Ti(_i,n)}function Fi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,W(e)||"Unknown",i));return P({},n,r)}function Di(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Li,ji=Ei.current,Ti(Ei,e),Ti(_i,_i.current),!0}function Pi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Fi(e,t,ji),r.__reactInternalMemoizedMergedChildContext=e,Ni(_i),Ni(Ei),Ti(Ei,e)):Ni(_i),Ti(_i,n)}var Vi=null,zi=!1,Ri=!1;function Bi(e){null===Vi?Vi=[e]:Vi.push(e)}function Hi(){if(!Ri&&null!==Vi){Ri=!0;var e=0,t=bt;try{var n=Vi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Vi=null,zi=!1}catch(i){throw null!==Vi&&(Vi=Vi.slice(e+1)),Ke(Ze,Hi),i}finally{bt=t,Ri=!1}}return null}var Wi=x.ReactCurrentBatchConfig;function Ui(e,t){if(e&&e.defaultProps){for(var n in t=P({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var qi=Si(null),$i=null,Ki=null,Yi=null;function Gi(){Yi=Ki=$i=null}function Qi(e){var t=qi.current;Ni(qi),e._currentValue=t}function Xi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ji(e,t){$i=e,Yi=Ki=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wl=!0),e.firstContext=null)}function Zi(e){var t=e._currentValue;if(Yi!==e)if(e={context:e,memoizedValue:t,next:null},null===Ki){if(null===$i)throw Error(o(308));Ki=e,$i.dependencies={lanes:0,firstContext:e}}else Ki=Ki.next=e;return t}var eo=null,to=!1;function no(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ro(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function io(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function oo(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,tc(e)?(null===(e=n.interleaved)?(t.next=t,null===eo?eo=[n]:eo.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function ao(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function lo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function so(e,t,n,r){var i=e.updateQueue;to=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(null!==l){i.shared.pending=null;var s=l,c=s.next;s.next=null,null===a?o=c:a.next=c,a=s;var u=e.alternate;null!==u&&((l=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===l?u.firstBaseUpdate=c:l.next=c,u.lastBaseUpdate=s))}if(null!==o){var d=i.baseState;for(a=0,u=c=s=null,l=o;;){var f=l.lane,p=l.eventTime;if((r&f)===f){null!==u&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var h=e,m=l;switch(f=t,p=n,m.tag){case 1:if("function"===typeof(h=m.payload)){d=h.call(p,d,f);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(f="function"===typeof(h=m.payload)?h.call(p,d,f):h)||void 0===f)break e;d=P({},d,f);break e;case 2:to=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===u?(c=u=p,s=d):u=u.next=p,a|=f;if(null===(l=l.next)){if(null===(l=i.shared.pending))break;l=(f=l).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===u&&(s=d),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Is|=a,e.lanes=a,e.memoizedState=d}}function co(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var uo=(new r.Component).refs;function fo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:P({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var po={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Xs(),i=Js(e),o=io(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),oo(e,o),null!==(t=Zs(e,i,r))&&ao(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Xs(),i=Js(e),o=io(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),oo(e,o),null!==(t=Zs(e,i,r))&&ao(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xs(),r=Js(e),i=io(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),oo(e,i),null!==(t=Zs(e,r,n))&&ao(t,e,r)}};function ho(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,o))}function mo(e,t,n){var r=!1,i=Li,o=t.contextType;return"object"===typeof o&&null!==o?o=Zi(o):(i=Mi(t)?ji:Ei.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Li),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=po,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function vo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&po.enqueueReplaceState(t,t.state,null)}function go(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=uo,no(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Zi(o):(o=Mi(t)?ji:Ei.current,i.context=Oi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(fo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&po.enqueueReplaceState(i,i.state,null),so(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var yo=[],bo=0,xo=null,wo=0,ko=[],Co=0,So=null,No=1,To="";function Lo(e,t){yo[bo++]=wo,yo[bo++]=xo,xo=e,wo=t}function Eo(e,t,n){ko[Co++]=No,ko[Co++]=To,ko[Co++]=So,So=e;var r=No;e=To;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,No=1<<32-at(t)+i|n<<i|r,To=o+e}else No=1<<o|n<<i|r,To=e}function _o(e){null!==e.return&&(Lo(e,1),Eo(e,1,0))}function jo(e){for(;e===xo;)xo=yo[--bo],yo[bo]=null,wo=yo[--bo],yo[bo]=null;for(;e===So;)So=ko[--Co],ko[Co]=null,To=ko[--Co],ko[Co]=null,No=ko[--Co],ko[Co]=null}var Oo=null,Mo=null,Io=!1,Ao=null;function Fo(e,t){var n=jc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Do(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Oo=e,Mo=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Oo=e,Mo=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==So?{id:No,overflow:To}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=jc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Oo=e,Mo=null,!0);default:return!1}}function Po(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Vo(e){if(Io){var t=Mo;if(t){var n=t;if(!Do(e,t)){if(Po(e))throw Error(o(418));t=ci(n.nextSibling);var r=Oo;t&&Do(e,t)?Fo(r,n):(e.flags=-4097&e.flags|2,Io=!1,Oo=e)}}else{if(Po(e))throw Error(o(418));e.flags=-4097&e.flags|2,Io=!1,Oo=e}}}function zo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Oo=e}function Ro(e){if(e!==Oo)return!1;if(!Io)return zo(e),Io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=Mo)){if(Po(e)){for(e=Mo;e;)e=ci(e.nextSibling);throw Error(o(418))}for(;t;)Fo(e,t),t=ci(t.nextSibling)}if(zo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Mo=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Mo=null}}else Mo=Oo?ci(e.stateNode.nextSibling):null;return!0}function Bo(){Mo=Oo=null,Io=!1}function Ho(e){null===Ao?Ao=[e]:Ao.push(e)}function Wo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===uo&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Uo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function qo(e){return(0,e._init)(e._payload)}function $o(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Mc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function l(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Dc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===C?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===M&&qo(o)===t.type)?((r=i(t,n.props)).ref=Wo(e,t,n),r.return=e,r):((r=Ic(n.type,n.key,n.props,null,e.mode,r)).ref=Wo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Pc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Ac(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Dc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Ic(t.type,t.key,t.props,null,e.mode,n)).ref=Wo(e,null,t),n.return=e,n;case k:return(t=Pc(t,e.mode,n)).return=e,t;case M:return f(e,(0,t._init)(t._payload),n)}if(te(t)||F(t))return(t=Ac(t,e.mode,n,null)).return=e,t;Uo(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case k:return n.key===i?u(e,t,n,r):null;case M:return p(e,t,(i=n._init)(n._payload),r)}if(te(n)||F(n))return null!==i?null:d(e,t,n,r,null);Uo(e,n)}return null}function h(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case k:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case M:return h(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||F(r))return d(t,e=e.get(n)||null,r,i,null);Uo(t,r)}return null}function m(i,o,l,s){for(var c=null,u=null,d=o,m=o=0,v=null;null!==d&&m<l.length;m++){d.index>m?(v=d,d=null):v=d.sibling;var g=p(i,d,l[m],s);if(null===g){null===d&&(d=v);break}e&&d&&null===g.alternate&&t(i,d),o=a(g,o,m),null===u?c=g:u.sibling=g,u=g,d=v}if(m===l.length)return n(i,d),Io&&Lo(i,m),c;if(null===d){for(;m<l.length;m++)null!==(d=f(i,l[m],s))&&(o=a(d,o,m),null===u?c=d:u.sibling=d,u=d);return Io&&Lo(i,m),c}for(d=r(i,d);m<l.length;m++)null!==(v=h(d,i,m,l[m],s))&&(e&&null!==v.alternate&&d.delete(null===v.key?m:v.key),o=a(v,o,m),null===u?c=v:u.sibling=v,u=v);return e&&d.forEach((function(e){return t(i,e)})),Io&&Lo(i,m),c}function v(i,l,s,c){var u=F(s);if("function"!==typeof u)throw Error(o(150));if(null==(s=u.call(s)))throw Error(o(151));for(var d=u=null,m=l,v=l=0,g=null,y=s.next();null!==m&&!y.done;v++,y=s.next()){m.index>v?(g=m,m=null):g=m.sibling;var b=p(i,m,y.value,c);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(i,m),l=a(b,l,v),null===d?u=b:d.sibling=b,d=b,m=g}if(y.done)return n(i,m),Io&&Lo(i,v),u;if(null===m){for(;!y.done;v++,y=s.next())null!==(y=f(i,y.value,c))&&(l=a(y,l,v),null===d?u=y:d.sibling=y,d=y);return Io&&Lo(i,v),u}for(m=r(i,m);!y.done;v++,y=s.next())null!==(y=h(m,i,v,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?v:y.key),l=a(y,l,v),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),Io&&Lo(i,v),u}return function e(r,o,a,s){if("object"===typeof a&&null!==a&&a.type===C&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var c=a.key,u=o;null!==u;){if(u.key===c){if((c=a.type)===C){if(7===u.tag){n(r,u.sibling),(o=i(u,a.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===M&&qo(c)===u.type){n(r,u.sibling),(o=i(u,a.props)).ref=Wo(r,u,a),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===C?((o=Ac(a.props.children,r.mode,s,a.key)).return=r,r=o):((s=Ic(a.type,a.key,a.props,null,r.mode,s)).ref=Wo(r,o,a),s.return=r,r=s)}return l(r);case k:e:{for(u=a.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Pc(a,r.mode,s)).return=r,r=o}return l(r);case M:return e(r,o,(u=a._init)(a._payload),s)}if(te(a))return m(r,o,a,s);if(F(a))return v(r,o,a,s);Uo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Dc(a,r.mode,s)).return=r,r=o),l(r)):n(r,o)}}var Ko=$o(!0),Yo=$o(!1),Go={},Qo=Si(Go),Xo=Si(Go),Jo=Si(Go);function Zo(e){if(e===Go)throw Error(o(174));return e}function ea(e,t){switch(Ti(Jo,t),Ti(Xo,e),Ti(Qo,Go),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ni(Qo),Ti(Qo,t)}function ta(){Ni(Qo),Ni(Xo),Ni(Jo)}function na(e){Zo(Jo.current);var t=Zo(Qo.current),n=se(t,e.type);t!==n&&(Ti(Xo,e),Ti(Qo,n))}function ra(e){Xo.current===e&&(Ni(Qo),Ni(Xo))}var ia=Si(0);function oa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var aa=[];function la(){for(var e=0;e<aa.length;e++)aa[e]._workInProgressVersionPrimary=null;aa.length=0}var sa=x.ReactCurrentDispatcher,ca=x.ReactCurrentBatchConfig,ua=0,da=null,fa=null,pa=null,ha=!1,ma=!1,va=0,ga=0;function ya(){throw Error(o(321))}function ba(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function xa(e,t,n,r,i,a){if(ua=a,da=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,sa.current=null===e||null===e.memoizedState?rl:il,e=n(r,i),ma){a=0;do{if(ma=!1,va=0,25<=a)throw Error(o(301));a+=1,pa=fa=null,t.updateQueue=null,sa.current=ol,e=n(r,i)}while(ma)}if(sa.current=nl,t=null!==fa&&null!==fa.next,ua=0,pa=fa=da=null,ha=!1,t)throw Error(o(300));return e}function wa(){var e=0!==va;return va=0,e}function ka(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===pa?da.memoizedState=pa=e:pa=pa.next=e,pa}function Ca(){if(null===fa){var e=da.alternate;e=null!==e?e.memoizedState:null}else e=fa.next;var t=null===pa?da.memoizedState:pa.next;if(null!==t)pa=t,fa=e;else{if(null===e)throw Error(o(310));e={memoizedState:(fa=e).memoizedState,baseState:fa.baseState,baseQueue:fa.baseQueue,queue:fa.queue,next:null},null===pa?da.memoizedState=pa=e:pa=pa.next=e}return pa}function Sa(e,t){return"function"===typeof t?t(e):t}function Na(e){var t=Ca(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=fa,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var l=i.next;i.next=a.next,a.next=l}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var s=l=null,c=null,u=a;do{var d=u.lane;if((ua&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(s=c=f,l=r):c=c.next=f,da.lanes|=d,Is|=d}u=u.next}while(null!==u&&u!==a);null===c?l=r:c.next=s,lr(r,t.memoizedState)||(wl=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,da.lanes|=a,Is|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ta(e){var t=Ca(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var l=i=i.next;do{a=e(a,l.action),l=l.next}while(l!==i);lr(a,t.memoizedState)||(wl=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function La(){}function Ea(e,t){var n=da,r=Ca(),i=t(),a=!lr(r.memoizedState,i);if(a&&(r.memoizedState=i,wl=!0),r=r.queue,za(Oa.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==pa&&1&pa.memoizedState.tag){if(n.flags|=2048,Aa(9,ja.bind(null,n,r,i,t),void 0,null),null===Ts)throw Error(o(349));0!==(30&ua)||_a(n,t,i)}return i}function _a(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=da.updateQueue)?(t={lastEffect:null,stores:null},da.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ja(e,t,n,r){t.value=n,t.getSnapshot=r,Ma(t)&&Zs(e,1,-1)}function Oa(e,t,n){return n((function(){Ma(t)&&Zs(e,1,-1)}))}function Ma(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lr(e,n)}catch(r){return!0}}function Ia(e){var t=ka();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:e},t.queue=e,e=e.dispatch=Xa.bind(null,da,e),[t.memoizedState,e]}function Aa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=da.updateQueue)?(t={lastEffect:null,stores:null},da.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Fa(){return Ca().memoizedState}function Da(e,t,n,r){var i=ka();da.flags|=e,i.memoizedState=Aa(1|t,n,void 0,void 0===r?null:r)}function Pa(e,t,n,r){var i=Ca();r=void 0===r?null:r;var o=void 0;if(null!==fa){var a=fa.memoizedState;if(o=a.destroy,null!==r&&ba(r,a.deps))return void(i.memoizedState=Aa(t,n,o,r))}da.flags|=e,i.memoizedState=Aa(1|t,n,o,r)}function Va(e,t){return Da(8390656,8,e,t)}function za(e,t){return Pa(2048,8,e,t)}function Ra(e,t){return Pa(4,2,e,t)}function Ba(e,t){return Pa(4,4,e,t)}function Ha(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Wa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Pa(4,4,Ha.bind(null,t,e),n)}function Ua(){}function qa(e,t){var n=Ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ba(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $a(e,t){var n=Ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ba(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ka(e,t,n){return 0===(21&ua)?(e.baseState&&(e.baseState=!1,wl=!0),e.memoizedState=n):(lr(n,t)||(n=mt(),da.lanes|=n,Is|=n,e.baseState=!0),t)}function Ya(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ca.transition;ca.transition={};try{e(!1),t()}finally{bt=n,ca.transition=r}}function Ga(){return Ca().memoizedState}function Qa(e,t,n){var r=Js(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ja(e)?Za(t,n):(el(e,t,n),null!==(e=Zs(e,r,n=Xs()))&&tl(e,t,r))}function Xa(e,t,n){var r=Js(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ja(e))Za(t,i);else{el(e,t,i);var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,l=o(a,n);if(i.hasEagerState=!0,i.eagerState=l,lr(l,a))return}catch(s){}null!==(e=Zs(e,r,n=Xs()))&&tl(e,t,r)}}function Ja(e){var t=e.alternate;return e===da||null!==t&&t===da}function Za(e,t){ma=ha=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function el(e,t,n){tc(e)?(null===(e=t.interleaved)?(n.next=n,null===eo?eo=[t]:eo.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function tl(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var nl={readContext:Zi,useCallback:ya,useContext:ya,useEffect:ya,useImperativeHandle:ya,useInsertionEffect:ya,useLayoutEffect:ya,useMemo:ya,useReducer:ya,useRef:ya,useState:ya,useDebugValue:ya,useDeferredValue:ya,useTransition:ya,useMutableSource:ya,useSyncExternalStore:ya,useId:ya,unstable_isNewReconciler:!1},rl={readContext:Zi,useCallback:function(e,t){return ka().memoizedState=[e,void 0===t?null:t],e},useContext:Zi,useEffect:Va,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Da(4194308,4,Ha.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Da(4194308,4,e,t)},useInsertionEffect:function(e,t){return Da(4,2,e,t)},useMemo:function(e,t){var n=ka();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ka();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Qa.bind(null,da,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ka().memoizedState=e},useState:Ia,useDebugValue:Ua,useDeferredValue:function(e){return ka().memoizedState=e},useTransition:function(){var e=Ia(!1),t=e[0];return e=Ya.bind(null,e[1]),ka().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=da,i=ka();if(Io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Ts)throw Error(o(349));0!==(30&ua)||_a(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Va(Oa.bind(null,r,a,e),[e]),r.flags|=2048,Aa(9,ja.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ka(),t=Ts.identifierPrefix;if(Io){var n=To;t=":"+t+"R"+(n=(No&~(1<<32-at(No)-1)).toString(32)+n),0<(n=va++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ga++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},il={readContext:Zi,useCallback:qa,useContext:Zi,useEffect:za,useImperativeHandle:Wa,useInsertionEffect:Ra,useLayoutEffect:Ba,useMemo:$a,useReducer:Na,useRef:Fa,useState:function(){return Na(Sa)},useDebugValue:Ua,useDeferredValue:function(e){return Ka(Ca(),fa.memoizedState,e)},useTransition:function(){return[Na(Sa)[0],Ca().memoizedState]},useMutableSource:La,useSyncExternalStore:Ea,useId:Ga,unstable_isNewReconciler:!1},ol={readContext:Zi,useCallback:qa,useContext:Zi,useEffect:za,useImperativeHandle:Wa,useInsertionEffect:Ra,useLayoutEffect:Ba,useMemo:$a,useReducer:Ta,useRef:Fa,useState:function(){return Ta(Sa)},useDebugValue:Ua,useDeferredValue:function(e){var t=Ca();return null===fa?t.memoizedState=e:Ka(t,fa.memoizedState,e)},useTransition:function(){return[Ta(Sa)[0],Ca().memoizedState]},useMutableSource:La,useSyncExternalStore:Ea,useId:Ga,unstable_isNewReconciler:!1};function al(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function ll(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var sl,cl,ul,dl="function"===typeof WeakMap?WeakMap:Map;function fl(e,t,n){(n=io(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Bs||(Bs=!0,Hs=r),ll(0,t)},n}function pl(e,t,n){(n=io(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ll(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ll(0,t),"function"!==typeof r&&(null===Ws?Ws=new Set([this]):Ws.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function hl(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new dl;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function ml(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vl(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=io(-1,1)).tag=2,oo(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function gl(e,t){if(!Io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function yl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function bl(e,t,n){var r=t.pendingProps;switch(jo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yl(t),null;case 1:case 17:return Mi(t.type)&&Ii(),yl(t),null;case 3:return r=t.stateNode,ta(),Ni(_i),Ni(Ei),la(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ro(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Ao&&(oc(Ao),Ao=null))),yl(t),null;case 5:ra(t);var i=Zo(Jo.current);if(n=t.type,null!==e&&null!=t.stateNode)cl(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return yl(t),null}if(e=Zo(Qo.current),Ro(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[fi]=t,r[pi]=a,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(i=0;i<Fr.length;i++)zr(Fr[i],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":Q(r,a),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},zr("invalid",r);break;case"textarea":ie(r,a),zr("invalid",r)}for(var s in ye(n,a),i=null,a)if(a.hasOwnProperty(s)){var c=a[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):l.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&zr("scroll",r)}switch(n){case"input":$(r),Z(r,a,!0);break;case"textarea":$(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=le(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[fi]=t,e[pi]=r,sl(e,t),t.stateNode=e;e:{switch(s=be(n,r),n){case"dialog":zr("cancel",e),zr("close",e),i=r;break;case"iframe":case"object":case"embed":zr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Fr.length;i++)zr(Fr[i],e);i=r;break;case"source":zr("error",e),i=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),i=r;break;case"details":zr("toggle",e),i=r;break;case"input":Q(e,r),i=G(e,r),zr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=P({},r,{value:void 0}),zr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),zr("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ve(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&fe(e,u):"number"===typeof u&&fe(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(l.hasOwnProperty(a)?null!=u&&"onScroll"===a&&zr("scroll",e):null!=u&&b(e,a,u,s))}switch(n){case"input":$(e),Z(e,r,!1);break;case"textarea":$(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+U(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return yl(t),null;case 6:if(e&&null!=t.stateNode)ul(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Zo(Jo.current),Zo(Qo.current),Ro(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(a=r.nodeValue!==n)&&null!==(e=Oo))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return yl(t),null;case 13:if(Ni(ia),r=t.memoizedState,Io&&null!==Mo&&0!==(1&t.mode)&&0===(128&t.flags)){for(r=Mo;r;)r=ci(r.nextSibling);return Bo(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Ro(t),null===e){if(!r)throw Error(o(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(o(317));r[fi]=t}else Bo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return yl(t),null}return null!==Ao&&(oc(Ao),Ao=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Ro(t):n=null!==e.memoizedState,r!==n&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ia.current)?0===Os&&(Os=3):hc())),null!==t.updateQueue&&(t.flags|=4),yl(t),null);case 4:return ta(),null===e&&Hr(t.stateNode.containerInfo),yl(t),null;case 10:return Qi(t.type._context),yl(t),null;case 19:if(Ni(ia),null===(a=t.memoizedState))return yl(t),null;if(r=0!==(128&t.flags),null===(s=a.rendering))if(r)gl(a,!1);else{if(0!==Os||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=oa(e))){for(t.flags|=128,gl(a,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(s=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(ia,1&ia.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>zs&&(t.flags|=128,r=!0,gl(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=oa(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),gl(a,!0),null===a.tail&&"hidden"===a.tailMode&&!s.alternate&&!Io)return yl(t),null}else 2*Xe()-a.renderingStartTime>zs&&1073741824!==n&&(t.flags|=128,r=!0,gl(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=a.last)?n.sibling=s:t.child=s,a.last=s)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=ia.current,Ti(ia,r?1&n|2:1&n),t):(yl(t),null);case 22:case 23:return uc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&_s)&&(yl(t),6&t.subtreeFlags&&(t.flags|=8192)):yl(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}sl=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},cl=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Zo(Qo.current);var o,a=null;switch(n){case"input":i=G(e,i),r=G(e,r),a=[];break;case"select":i=P({},i,{value:void 0}),r=P({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(l.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(s=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==s&&(null!=c||null!=s))if("style"===u)if(s){for(o in s)!s.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&s[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(l.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&zr("scroll",e),a||s===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},ul=function(e,t,n,r){n!==r&&(t.flags|=4)};var xl=x.ReactCurrentOwner,wl=!1;function kl(e,t,n,r){t.child=null===e?Yo(t,null,n,r):Ko(t,e.child,n,r)}function Cl(e,t,n,r,i){n=n.render;var o=t.ref;return Ji(t,i),r=xa(e,t,n,r,o,i),n=wa(),null===e||wl?(Io&&n&&_o(t),t.flags|=1,kl(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ul(e,t,i))}function Sl(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Oc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ic(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Nl(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(a,r)&&e.ref===t.ref)return Ul(e,t,i)}return t.flags|=1,(e=Mc(o,r)).ref=t.ref,e.return=t,t.child=e}function Nl(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(sr(o,r)&&e.ref===t.ref){if(wl=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Ul(e,t,i);0!==(131072&e.flags)&&(wl=!0)}}return El(e,t,n,r,i)}function Tl(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(js,_s),_s|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(js,_s),_s|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ti(js,_s),_s|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ti(js,_s),_s|=r;return kl(e,t,i,n),t.child}function Ll(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function El(e,t,n,r,i){var o=Mi(n)?ji:Ei.current;return o=Oi(t,o),Ji(t,i),n=xa(e,t,n,r,o,i),r=wa(),null===e||wl?(Io&&r&&_o(t),t.flags|=1,kl(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ul(e,t,i))}function _l(e,t,n,r,i){if(Mi(n)){var o=!0;Di(t)}else o=!1;if(Ji(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),mo(t,n,r),go(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,l=t.memoizedProps;a.props=l;var s=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Zi(c):c=Oi(t,c=Mi(n)?ji:Ei.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(l!==r||s!==c)&&vo(t,a,r,c),to=!1;var f=t.memoizedState;a.state=f,so(t,r,a,i),s=t.memoizedState,l!==r||f!==s||_i.current||to?("function"===typeof u&&(fo(t,n,u,r),s=t.memoizedState),(l=to||ho(t,n,l,r,f,s,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),a.props=r,a.state=s,a.context=c,r=l):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,ro(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:Ui(t.type,l),a.props=c,d=t.pendingProps,f=a.context,"object"===typeof(s=n.contextType)&&null!==s?s=Zi(s):s=Oi(t,s=Mi(n)?ji:Ei.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(l!==d||f!==s)&&vo(t,a,r,s),to=!1,f=t.memoizedState,a.state=f,so(t,r,a,i);var h=t.memoizedState;l!==d||f!==h||_i.current||to?("function"===typeof p&&(fo(t,n,p,r),h=t.memoizedState),(c=to||ho(t,n,c,r,f,h,s)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,s),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,s)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=s,r=c):("function"!==typeof a.componentDidUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return jl(e,t,n,r,o,i)}function jl(e,t,n,r,i,o){Ll(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Pi(t,n,!1),Ul(e,t,o);r=t.stateNode,xl.current=t;var l=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Ko(t,e.child,null,o),t.child=Ko(t,null,l,o)):kl(e,t,l,o),t.memoizedState=r.state,i&&Pi(t,n,!0),t.child}function Ol(e){var t=e.stateNode;t.pendingContext?Ai(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ai(0,t.context,!1),ea(e,t.containerInfo)}function Ml(e,t,n,r,i){return Bo(),Ho(i),t.flags|=256,kl(e,t,n,r),t.child}var Il={dehydrated:null,treeContext:null,retryLane:0};function Al(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fl(e,t){return{baseLanes:e.baseLanes|t,cachePool:null,transitions:e.transitions}}function Dl(e,t,n){var r,i=t.pendingProps,a=ia.current,l=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(l=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ti(ia,1&a),null===e)return Vo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(a=i.children,e=i.fallback,l?(i=t.mode,l=t.child,a={mode:"hidden",children:a},0===(1&i)&&null!==l?(l.childLanes=0,l.pendingProps=a):l=Fc(a,i,0,null),e=Ac(e,i,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Al(n),t.memoizedState=Il,e):Pl(t,a));if(null!==(a=e.memoizedState)){if(null!==(r=a.dehydrated)){if(s)return 256&t.flags?(t.flags&=-257,Rl(e,t,n,Error(o(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(l=i.fallback,a=t.mode,i=Fc({mode:"visible",children:i.children},a,0,null),(l=Ac(l,a,n,null)).flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,0!==(1&t.mode)&&Ko(t,e.child,null,n),t.child.memoizedState=Al(n),t.memoizedState=Il,l);if(0===(1&t.mode))t=Rl(e,t,n,null);else if("$!"===r.data)t=Rl(e,t,n,Error(o(419)));else if(i=0!==(n&e.childLanes),wl||i){if(null!==(i=Ts)){switch(n&-n){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}0!==(i=0!==(l&(i.suspendedLanes|n))?0:l)&&i!==a.retryLane&&(a.retryLane=i,Zs(e,i,-1))}hc(),t=Rl(e,t,n,Error(o(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),r._reactRetry=t,t=null):(n=a.treeContext,Mo=ci(r.nextSibling),Oo=t,Io=!0,Ao=null,null!==n&&(ko[Co++]=No,ko[Co++]=To,ko[Co++]=So,No=n.id,To=n.overflow,So=t),(t=Pl(t,t.pendingProps.children)).flags|=4096);return t}return l?(i=zl(e,t,i.children,i.fallback,n),l=t.child,a=e.child.memoizedState,l.memoizedState=null===a?Al(n):Fl(a,n),l.childLanes=e.childLanes&~n,t.memoizedState=Il,i):(n=Vl(e,t,i.children,n),t.memoizedState=null,n)}return l?(i=zl(e,t,i.children,i.fallback,n),l=t.child,a=e.child.memoizedState,l.memoizedState=null===a?Al(n):Fl(a,n),l.childLanes=e.childLanes&~n,t.memoizedState=Il,i):(n=Vl(e,t,i.children,n),t.memoizedState=null,n)}function Pl(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vl(e,t,n,r){var i=e.child;return e=i.sibling,n=Mc(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function zl(e,t,n,r,i){var o=t.mode,a=(e=e.child).sibling,l={mode:"hidden",children:n};return 0===(1&o)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=l,t.deletions=null):(n=Mc(e,l)).subtreeFlags=14680064&e.subtreeFlags,null!==a?r=Mc(a,r):(r=Ac(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Rl(e,t,n,r){return null!==r&&Ho(r),Ko(t,e.child,null,n),(e=Pl(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Xi(e.return,t,n)}function Hl(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Wl(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(kl(e,t,r.children,n),0!==(2&(r=ia.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bl(e,n,t);else if(19===e.tag)Bl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(ia,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===oa(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Hl(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===oa(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Hl(t,!0,n,null,o);break;case"together":Hl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ul(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Is|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Mc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ql(e,t){switch(jo(t),t.tag){case 1:return Mi(t.type)&&Ii(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ta(),Ni(_i),Ni(Ei),la(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ra(t),null;case 13:if(Ni(ia),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));Bo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ni(ia),null;case 4:return ta(),null;case 10:return Qi(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}var $l=!1,Kl=!1,Yl="function"===typeof WeakSet?WeakSet:Set,Gl=null;function Ql(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Cc(e,t,r)}else n.current=null}function Xl(e,t,n){try{n()}catch(r){Cc(e,t,r)}}var Jl=!1;function Zl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&Xl(t,n,o)}i=i.next}while(i!==r)}}function es(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ts(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ns(e){var t=e.alternate;null!==t&&(e.alternate=null,ns(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[pi],delete t[mi],delete t[vi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rs(e){return 5===e.tag||3===e.tag||4===e.tag}function is(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||rs(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function os(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(os(e,t,n),e=e.sibling;null!==e;)os(e,t,n),e=e.sibling}function as(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(as(e,t,n),e=e.sibling;null!==e;)as(e,t,n),e=e.sibling}var ls=null,ss=!1;function cs(e,t,n){for(n=n.child;null!==n;)us(e,t,n),n=n.sibling}function us(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(l){}switch(n.tag){case 5:Kl||Ql(n,t);case 6:var r=ls,i=ss;ls=null,cs(e,t,n),ss=i,null!==(ls=r)&&(ss?(e=ls,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ls.removeChild(n.stateNode));break;case 18:null!==ls&&(ss?(e=ls,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Ht(e)):si(ls,n.stateNode));break;case 4:r=ls,i=ss,ls=n.stateNode.containerInfo,ss=!0,cs(e,t,n),ls=r,ss=i;break;case 0:case 11:case 14:case 15:if(!Kl&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&Xl(n,t,a),i=i.next}while(i!==r)}cs(e,t,n);break;case 1:if(!Kl&&(Ql(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Cc(n,t,l)}cs(e,t,n);break;case 21:cs(e,t,n);break;case 22:1&n.mode?(Kl=(r=Kl)||null!==n.memoizedState,cs(e,t,n),Kl=r):cs(e,t,n);break;default:cs(e,t,n)}}function ds(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Yl),t.forEach((function(t){var r=Lc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function fs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,l=t,s=l;e:for(;null!==s;){switch(s.tag){case 5:ls=s.stateNode,ss=!1;break e;case 3:case 4:ls=s.stateNode.containerInfo,ss=!0;break e}s=s.return}if(null===ls)throw Error(o(160));us(a,l,i),ls=null,ss=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Cc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ps(t,e),t=t.sibling}function ps(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fs(t,e),hs(e),4&r){try{Zl(3,e,e.return),es(3,e)}catch(m){Cc(e,e.return,m)}try{Zl(5,e,e.return)}catch(m){Cc(e,e.return,m)}}break;case 1:fs(t,e),hs(e),512&r&&null!==n&&Ql(n,n.return);break;case 5:if(fs(t,e),hs(e),512&r&&null!==n&&Ql(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(m){Cc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,l=null!==n?n.memoizedProps:a,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===a.type&&null!=a.name&&X(i,a),be(s,l);var u=be(s,a);for(l=0;l<c.length;l+=2){var d=c[l],f=c[l+1];"style"===d?ve(i,f):"dangerouslySetInnerHTML"===d?de(i,f):"children"===d?fe(i,f):b(i,d,f,u)}switch(s){case"input":J(i,a);break;case"textarea":oe(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var h=a.value;null!=h?ne(i,!!a.multiple,h,!1):p!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[pi]=a}catch(m){Cc(e,e.return,m)}}break;case 6:if(fs(t,e),hs(e),4&r){if(null===e.stateNode)throw Error(o(162));u=e.stateNode,d=e.memoizedProps;try{u.nodeValue=d}catch(m){Cc(e,e.return,m)}}break;case 3:if(fs(t,e),hs(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(m){Cc(e,e.return,m)}break;case 4:default:fs(t,e),hs(e);break;case 13:fs(t,e),hs(e),8192&(u=e.child).flags&&null!==u.memoizedState&&(null===u.alternate||null===u.alternate.memoizedState)&&(Vs=Xe()),4&r&&ds(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Kl=(d=Kl)||u,fs(t,e),Kl=d):fs(t,e),hs(e),8192&r){d=null!==e.memoizedState;e:for(f=null,p=e;;){if(5===p.tag){if(null===f){f=p;try{i=p.stateNode,d?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(s=p.stateNode,l=void 0!==(c=p.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=me("display",l))}catch(m){Cc(e,e.return,m)}}}else if(6===p.tag){if(null===f)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(m){Cc(e,e.return,m)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}if(d&&!u&&0!==(1&e.mode))for(Gl=e,e=e.child;null!==e;){for(u=Gl=e;null!==Gl;){switch(f=(d=Gl).child,d.tag){case 0:case 11:case 14:case 15:Zl(4,d,d.return);break;case 1:if(Ql(d,d.return),"function"===typeof(a=d.stateNode).componentWillUnmount){p=d,h=d.return;try{i=p,a.props=i.memoizedProps,a.state=i.memoizedState,a.componentWillUnmount()}catch(m){Cc(p,h,m)}}break;case 5:Ql(d,d.return);break;case 22:if(null!==d.memoizedState){ys(u);continue}}null!==f?(f.return=d,Gl=f):ys(u)}e=e.sibling}}break;case 19:fs(t,e),hs(e),4&r&&ds(e);case 21:}}function hs(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(rs(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),as(e,is(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;os(e,is(e),a);break;default:throw Error(o(161))}}catch(l){Cc(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ms(e,t,n){Gl=e,vs(e,t,n)}function vs(e,t,n){for(var r=0!==(1&e.mode);null!==Gl;){var i=Gl,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||$l;if(!a){var l=i.alternate,s=null!==l&&null!==l.memoizedState||Kl;l=$l;var c=Kl;if($l=a,(Kl=s)&&!c)for(Gl=i;null!==Gl;)s=(a=Gl).child,22===a.tag&&null!==a.memoizedState?bs(i):null!==s?(s.return=a,Gl=s):bs(i);for(;null!==o;)Gl=o,vs(o,t,n),o=o.sibling;Gl=i,$l=l,Kl=c}gs(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Gl=o):gs(e)}}function gs(e){for(;null!==Gl;){var t=Gl;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Kl||es(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Kl)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ui(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&co(t,a,r);break;case 3:var l=t.updateQueue;if(null!==l){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}co(t,l,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Ht(f)}}}break;default:throw Error(o(163))}Kl||512&t.flags&&ts(t)}catch(p){Cc(t,t.return,p)}}if(t===e){Gl=null;break}if(null!==(n=t.sibling)){n.return=t.return,Gl=n;break}Gl=t.return}}function ys(e){for(;null!==Gl;){var t=Gl;if(t===e){Gl=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Gl=n;break}Gl=t.return}}function bs(e){for(;null!==Gl;){var t=Gl;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{es(4,t)}catch(s){Cc(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Cc(t,i,s)}}var o=t.return;try{ts(t)}catch(s){Cc(t,o,s)}break;case 5:var a=t.return;try{ts(t)}catch(s){Cc(t,a,s)}}}catch(s){Cc(t,t.return,s)}if(t===e){Gl=null;break}var l=t.sibling;if(null!==l){l.return=t.return,Gl=l;break}Gl=t.return}}var xs,ws=Math.ceil,ks=x.ReactCurrentDispatcher,Cs=x.ReactCurrentOwner,Ss=x.ReactCurrentBatchConfig,Ns=0,Ts=null,Ls=null,Es=0,_s=0,js=Si(0),Os=0,Ms=null,Is=0,As=0,Fs=0,Ds=null,Ps=null,Vs=0,zs=1/0,Rs=null,Bs=!1,Hs=null,Ws=null,Us=!1,qs=null,$s=0,Ks=0,Ys=null,Gs=-1,Qs=0;function Xs(){return 0!==(6&Ns)?Xe():-1!==Gs?Gs:Gs=Xe()}function Js(e){return 0===(1&e.mode)?1:0!==(2&Ns)&&0!==Es?Es&-Es:null!==Wi.transition?(0===Qs&&(Qs=mt()),Qs):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function Zs(e,t,n){if(50<Ks)throw Ks=0,Ys=null,Error(o(185));var r=ec(e,t);return null===r?null:(gt(r,t,n),0!==(2&Ns)&&r===Ts||(r===Ts&&(0===(2&Ns)&&(As|=t),4===Os&&ac(r,Es)),nc(r,n),1===t&&0===Ns&&0===(1&e.mode)&&(zs=Xe()+500,zi&&Hi())),r)}function ec(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function tc(e){return(null!==Ts||null!==eo)&&0!==(1&e.mode)&&0===(2&Ns)}function nc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),l=1<<a,s=i[a];-1===s?0!==(l&n)&&0===(l&r)||(i[a]=pt(l,t)):s<=t&&(e.expiredLanes|=l),o&=~l}}(e,t);var r=ft(e,e===Ts?Es:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){zi=!0,Bi(e)}(lc.bind(null,e)):Bi(lc.bind(null,e)),ai((function(){0===Ns&&Hi()})),n=null;else{switch(xt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ec(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if(Gs=-1,Qs=0,0!==(6&Ns))throw Error(o(327));var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var r=ft(e,e===Ts?Es:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Ns;Ns|=2;var a=pc();for(Ts===e&&Es===t||(Rs=null,zs=Xe()+500,dc(e,t));;)try{gc();break}catch(s){fc(e,s)}Gi(),ks.current=a,Ns=i,null!==Ls?t=0:(Ts=null,Es=0,t=Os)}if(0!==t){if(2===t&&(0!==(i=ht(e))&&(r=i,t=ic(e,i))),1===t)throw n=Ms,dc(e,0),ac(e,r),nc(e,Xe()),n;if(6===t)ac(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!lr(o(),i))return!1}catch(l){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(a=ht(e))&&(r=a,t=ic(e,a))),1===t))throw n=Ms,dc(e,0),ac(e,r),nc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:xc(e,Ps,Rs);break;case 3:if(ac(e,r),(130023424&r)===r&&10<(t=Vs+500-Xe())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Xs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,Ps,Rs),t);break}xc(e,Ps,Rs);break;case 4:if(ac(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var l=31-at(r);a=1<<l,(l=t[l])>i&&(i=l),r&=~a}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ws(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,Ps,Rs),r);break}xc(e,Ps,Rs);break;default:throw Error(o(329))}}}return nc(e,Xe()),e.callbackNode===n?rc.bind(null,e):null}function ic(e,t){var n=Ds;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Ps,Ps=n,null!==t&&oc(t)),e}function oc(e){null===Ps?Ps=e:Ps.push.apply(Ps,e)}function ac(e,t){for(t&=~Fs,t&=~As,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Ns))throw Error(o(327));wc();var t=ft(e,0);if(0===(1&t))return nc(e,Xe()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Ms,dc(e,0),ac(e,t),nc(e,Xe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Ps,Rs),nc(e,Xe()),null}function sc(e,t){var n=Ns;Ns|=1;try{return e(t)}finally{0===(Ns=n)&&(zs=Xe()+500,zi&&Hi())}}function cc(e){null!==qs&&0===qs.tag&&0===(6&Ns)&&wc();var t=Ns;Ns|=1;var n=Ss.transition,r=bt;try{if(Ss.transition=null,bt=1,e)return e()}finally{bt=r,Ss.transition=n,0===(6&(Ns=t))&&Hi()}}function uc(){_s=js.current,Ni(js)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ls)for(n=Ls.return;null!==n;){var r=n;switch(jo(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ii();break;case 3:ta(),Ni(_i),Ni(Ei),la();break;case 5:ra(r);break;case 4:ta();break;case 13:case 19:Ni(ia);break;case 10:Qi(r.type._context);break;case 22:case 23:uc()}n=n.return}if(Ts=e,Ls=e=Mc(e.current,null),Es=_s=t,Os=0,Ms=null,Fs=As=Is=0,Ps=Ds=null,null!==eo){for(t=0;t<eo.length;t++)if(null!==(r=(n=eo[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}eo=null}return e}function fc(e,t){for(;;){var n=Ls;try{if(Gi(),sa.current=nl,ha){for(var r=da.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ha=!1}if(ua=0,pa=fa=da=null,ma=!1,va=0,Cs.current=null,null===n||null===n.return){Os=1,Ms=t,Ls=null;break}e:{var a=e,l=n.return,s=n,c=t;if(t=Es,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=s,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=ml(l);if(null!==h){h.flags&=-257,vl(h,l,s,0,t),1&h.mode&&hl(a,u,t),c=u;var m=(t=h).updateQueue;if(null===m){var v=new Set;v.add(c),t.updateQueue=v}else m.add(c);break e}if(0===(1&t)){hl(a,u,t),hc();break e}c=Error(o(426))}else if(Io&&1&s.mode){var g=ml(l);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),vl(g,l,s,0,t),Ho(c);break e}}a=c,4!==Os&&(Os=2),null===Ds?Ds=[a]:Ds.push(a),c=al(c,s),s=l;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,lo(s,fl(0,c,t));break e;case 1:a=c;var y=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ws||!Ws.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,lo(s,pl(s,a,t));break e}}s=s.return}while(null!==s)}bc(n)}catch(x){t=x,Ls===n&&null!==n&&(Ls=n=n.return);continue}break}}function pc(){var e=ks.current;return ks.current=nl,null===e?nl:e}function hc(){0!==Os&&3!==Os&&2!==Os||(Os=4),null===Ts||0===(268435455&Is)&&0===(268435455&As)||ac(Ts,Es)}function mc(e,t){var n=Ns;Ns|=2;var r=pc();for(Ts===e&&Es===t||(Rs=null,dc(e,t));;)try{vc();break}catch(i){fc(e,i)}if(Gi(),Ns=n,ks.current=r,null!==Ls)throw Error(o(261));return Ts=null,Es=0,Os}function vc(){for(;null!==Ls;)yc(Ls)}function gc(){for(;null!==Ls&&!Ge();)yc(Ls)}function yc(e){var t=xs(e.alternate,e,_s);e.memoizedProps=e.pendingProps,null===t?bc(e):Ls=t,Cs.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=bl(n,t,_s)))return void(Ls=n)}else{if(null!==(n=ql(n,t)))return n.flags&=32767,void(Ls=n);if(null===e)return Os=6,void(Ls=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ls=t);Ls=t=e}while(null!==t);0===Os&&(Os=5)}function xc(e,t,n){var r=bt,i=Ss.transition;try{Ss.transition=null,bt=1,function(e,t,n,r){do{wc()}while(null!==qs);if(0!==(6&Ns))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Ts&&(Ls=Ts=null,Es=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Us||(Us=!0,Ec(tt,(function(){return wc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Ss.transition,Ss.transition=null;var l=bt;bt=1;var s=Ns;Ns|=4,Cs.current=null,function(e,t){if(ei=Ut,pr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(k){n=null;break e}var l=0,s=-1,c=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var h;f!==n||0!==i&&3!==f.nodeType||(s=l+i),f!==a||0!==r&&3!==f.nodeType||(c=l+r),3===f.nodeType&&(l+=f.nodeValue.length),null!==(h=f.firstChild);)p=f,f=h;for(;;){if(f===e)break t;if(p===n&&++u===i&&(s=l),p===a&&++d===r&&(c=l),null!==(h=f.nextSibling))break;p=(f=p).parentNode}f=h}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ut=!1,Gl=t;null!==Gl;)if(e=(t=Gl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Gl=e;else for(;null!==Gl;){t=Gl;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var v=m.memoizedProps,g=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:Ui(t.type,v),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;if(1===x.nodeType)x.textContent="";else if(9===x.nodeType){var w=x.body;null!=w&&(w.textContent="")}break;default:throw Error(o(163))}}catch(k){Cc(t,t.return,k)}if(null!==(e=t.sibling)){e.return=t.return,Gl=e;break}Gl=t.return}m=Jl,Jl=!1}(e,n),ps(n,e),hr(ti),Ut=!!ei,ti=ei=null,e.current=n,ms(n,e,i),Qe(),Ns=s,bt=l,Ss.transition=a}else e.current=n;if(Us&&(Us=!1,qs=e,$s=i),0===(a=e.pendingLanes)&&(Ws=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),nc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r(t[n]);if(Bs)throw Bs=!1,e=Hs,Hs=null,e;0!==(1&$s)&&0!==e.tag&&wc(),0!==(1&(a=e.pendingLanes))?e===Ys?Ks++:(Ks=0,Ys=e):Ks=0,Hi()}(e,t,n,r)}finally{Ss.transition=i,bt=r}return null}function wc(){if(null!==qs){var e=xt($s),t=Ss.transition,n=bt;try{if(Ss.transition=null,bt=16>e?16:e,null===qs)var r=!1;else{if(e=qs,qs=null,$s=0,0!==(6&Ns))throw Error(o(331));var i=Ns;for(Ns|=4,Gl=e.current;null!==Gl;){var a=Gl,l=a.child;if(0!==(16&Gl.flags)){var s=a.deletions;if(null!==s){for(var c=0;c<s.length;c++){var u=s[c];for(Gl=u;null!==Gl;){var d=Gl;switch(d.tag){case 0:case 11:case 15:Zl(8,d,a)}var f=d.child;if(null!==f)f.return=d,Gl=f;else for(;null!==Gl;){var p=(d=Gl).sibling,h=d.return;if(ns(d),d===u){Gl=null;break}if(null!==p){p.return=h,Gl=p;break}Gl=h}}}var m=a.alternate;if(null!==m){var v=m.child;if(null!==v){m.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(null!==v)}}Gl=a}}if(0!==(2064&a.subtreeFlags)&&null!==l)l.return=a,Gl=l;else e:for(;null!==Gl;){if(0!==(2048&(a=Gl).flags))switch(a.tag){case 0:case 11:case 15:Zl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Gl=y;break e}Gl=a.return}}var b=e.current;for(Gl=b;null!==Gl;){var x=(l=Gl).child;if(0!==(2064&l.subtreeFlags)&&null!==x)x.return=l,Gl=x;else e:for(l=b;null!==Gl;){if(0!==(2048&(s=Gl).flags))try{switch(s.tag){case 0:case 11:case 15:es(9,s)}}catch(k){Cc(s,s.return,k)}if(s===l){Gl=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Gl=w;break e}Gl=s.return}}if(Ns=i,Hi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(k){}r=!0}return r}finally{bt=n,Ss.transition=t}}return!1}function kc(e,t,n){oo(e,t=fl(0,t=al(n,t),1)),t=Xs(),null!==(e=ec(e,1))&&(gt(e,1,t),nc(e,t))}function Cc(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ws||!Ws.has(r))){oo(t,e=pl(t,e=al(n,e),1)),e=Xs(),null!==(t=ec(t,1))&&(gt(t,1,e),nc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Xs(),e.pingedLanes|=e.suspendedLanes&n,Ts===e&&(Es&n)===n&&(4===Os||3===Os&&(130023424&Es)===Es&&500>Xe()-Vs?dc(e,0):Fs|=n),nc(e,t)}function Nc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=Xs();null!==(e=ec(e,t))&&(gt(e,t,n),nc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Nc(e,n)}function Lc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Nc(e,n)}function Ec(e,t){return Ke(e,t)}function _c(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jc(e,t,n,r){return new _c(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mc(e,t){var n=e.alternate;return null===n?((n=jc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ic(e,t,n,r,i,a){var l=2;if(r=e,"function"===typeof e)Oc(e)&&(l=1);else if("string"===typeof e)l=5;else e:switch(e){case C:return Ac(n.children,i,a,t);case S:l=8,i|=8;break;case N:return(e=jc(12,n,t,2|i)).elementType=N,e.lanes=a,e;case _:return(e=jc(13,n,t,i)).elementType=_,e.lanes=a,e;case j:return(e=jc(19,n,t,i)).elementType=j,e.lanes=a,e;case I:return Fc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:l=10;break e;case L:l=9;break e;case E:l=11;break e;case O:l=14;break e;case M:l=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=jc(l,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Ac(e,t,n,r){return(e=jc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=jc(22,e,r,t)).elementType=I,e.lanes=n,e.stateNode={},e}function Dc(e,t,n){return(e=jc(6,e,null,t)).lanes=n,e}function Pc(e,t,n){return(t=jc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,o,a,l,s){return e=new Vc(e,t,n,l,s),1===t?(t=1,!0===o&&(t|=8)):t=0,o=jc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},no(o),e}function Rc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Bc(e){if(!e)return Li;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Mi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Mi(n))return Fi(e,n,t)}return t}function Hc(e,t,n,r,i,o,a,l,s){return(e=zc(n,r,!0,e,0,o,0,l,s)).context=Bc(null),n=e.current,(o=io(r=Xs(),i=Js(n))).callback=void 0!==t&&null!==t?t:null,oo(n,o),e.current.lanes=i,gt(e,i,r),nc(e,r),e}function Wc(e,t,n,r){var i=t.current,o=Xs(),a=Js(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=io(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),oo(i,t),null!==(e=Zs(i,a,o))&&ao(e,i,a),a}function Uc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function $c(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}xs=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||_i.current)wl=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wl=!1,function(e,t,n){switch(t.tag){case 3:Ol(t),Bo();break;case 5:na(t);break;case 1:Mi(t.type)&&Di(t);break;case 4:ea(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(qi,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(ia,1&ia.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Dl(e,t,n):(Ti(ia,1&ia.current),null!==(e=Ul(e,t,n))?e.sibling:null);Ti(ia,1&ia.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Wl(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(ia,ia.current),r)break;return null;case 22:case 23:return t.lanes=0,Tl(e,t,n)}return Ul(e,t,n)}(e,t,n);wl=0!==(131072&e.flags)}else wl=!1,Io&&0!==(1048576&t.flags)&&Eo(t,wo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Oi(t,Ei.current);Ji(t,n),i=xa(null,t,r,e,i,n);var a=wa();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Mi(r)?(a=!0,Di(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,no(t),i.updater=po,t.stateNode=i,i._reactInternals=t,go(t,r,e,n),t=jl(null,t,r,!0,a,n)):(t.tag=0,Io&&a&&_o(t),kl(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===O)return 14}return 2}(r),e=Ui(r,e),i){case 0:t=El(null,t,r,e,n);break e;case 1:t=_l(null,t,r,e,n);break e;case 11:t=Cl(null,t,r,e,n);break e;case 14:t=Sl(null,t,r,Ui(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,El(e,t,r,i=t.elementType===r?i:Ui(r,i),n);case 1:return r=t.type,i=t.pendingProps,_l(e,t,r,i=t.elementType===r?i:Ui(r,i),n);case 3:e:{if(Ol(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,ro(e,t),so(t,r,null,n);var l=t.memoizedState;if(r=l.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ml(e,t,r,n,i=Error(o(423)));break e}if(r!==i){t=Ml(e,t,r,n,i=Error(o(424)));break e}for(Mo=ci(t.stateNode.containerInfo.firstChild),Oo=t,Io=!0,Ao=null,n=Yo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Bo(),r===i){t=Ul(e,t,n);break e}kl(e,t,r,n)}t=t.child}return t;case 5:return na(t),null===e&&Vo(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,l=i.children,ni(r,i)?l=null:null!==a&&ni(r,a)&&(t.flags|=32),Ll(e,t),kl(e,t,l,n),t.child;case 6:return null===e&&Vo(t),null;case 13:return Dl(e,t,n);case 4:return ea(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ko(t,null,r,n):kl(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Cl(e,t,r,i=t.elementType===r?i:Ui(r,i),n);case 7:return kl(e,t,t.pendingProps,n),t.child;case 8:case 12:return kl(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,l=i.value,Ti(qi,r._currentValue),r._currentValue=l,null!==a)if(lr(a.value,l)){if(a.children===i.children&&!_i.current){t=Ul(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var s=a.dependencies;if(null!==s){l=a.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=io(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Xi(a.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===a.tag)l=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(l=a.return))throw Error(o(341));l.lanes|=n,null!==(s=l.alternate)&&(s.lanes|=n),Xi(l,n,t),l=a.sibling}else l=a.child;if(null!==l)l.return=a;else for(l=a;null!==l;){if(l===t){l=null;break}if(null!==(a=l.sibling)){a.return=l.return,l=a;break}l=l.return}a=l}kl(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ji(t,n),r=r(i=Zi(i)),t.flags|=1,kl(e,t,r,n),t.child;case 14:return i=Ui(r=t.type,t.pendingProps),Sl(e,t,r,i=Ui(r.type,i),n);case 15:return Nl(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ui(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Mi(r)?(e=!0,Di(t)):e=!1,Ji(t,n),mo(t,r,i),go(t,r,i,n),jl(null,t,r,!0,e,n);case 19:return Wl(e,t,n);case 22:return Tl(e,t,n)}throw Error(o(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Gc(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var l=i;i=function(){var e=Uc(a);l.call(e)}}Wc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Uc(a);o.call(e)}}var a=Hc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=a,e[hi]=a.current,Hr(8===e.nodeType?e.parentNode:e),cc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var l=r;r=function(){var e=Uc(s);l.call(e)}}var s=zc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=s,e[hi]=s.current,Hr(8===e.nodeType?e.parentNode:e),cc((function(){Wc(t,s,n,r)})),s}(n,t,e,i,r);return Uc(a)}Gc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Wc(e,t,null,null)},Gc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cc((function(){Wc(null,e,null,null)})),t[hi]=null}},Gc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<It.length&&0!==t&&t<It[n].priority;n++);It.splice(n,0,e),0===n&&Pt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),nc(t,Xe()),0===(6&Ns)&&(zs=Xe()+500,Hi()))}break;case 13:var r=Xs();cc((function(){return Zs(e,1,r)})),$c(e,1)}},kt=function(e){13===e.tag&&(Zs(e,134217728,Xs()),$c(e,134217728))},Ct=function(e){if(13===e.tag){var t=Xs(),n=Js(e);Zs(e,n,t),$c(e,n)}},St=function(){return bt},Nt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},ke=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(o(90));K(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ee=sc,_e=cc;var eu={usingClientEntryPoint:!1,Events:[bi,xi,wi,Te,Le,sc]},tu={findFiberByHostInstance:yi,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),ot=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(o(200));return Rc(e,t,null,n)},t.createRoot=function(e,t){if(!Qc(e))throw Error(o(299));var n=!1,r="",i=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[hi]=t.current,Hr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return cc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(o(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",l=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(l=n.onRecoverableError)),t=Hc(t,null,e,1,null!=n?n:null,i,0,a,l),e[hi]=t.current,Hr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Gc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(o(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(o(40));return!!e._reactRootContainer&&(cc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[hi]=null}))})),!0)},t.unstable_batchedUpdates=sc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Zc(e,t,n,!1,r)},t.version="18.1.0-next-22edb9f77-20220426"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!s.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:l.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,v={};function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||h}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||h}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var x=b.prototype=new y;x.constructor=b,m(x,g.prototype),x.isPureReactComponent=!0;var w=Array.isArray,k=Object.prototype.hasOwnProperty,C={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function N(e,t,r){var i,o={},a=null,l=null;if(null!=t)for(i in void 0!==t.ref&&(l=t.ref),void 0!==t.key&&(a=""+t.key),t)k.call(t,i)&&!S.hasOwnProperty(i)&&(o[i]=t[i]);var s=arguments.length-2;if(1===s)o.children=r;else if(1<s){for(var c=Array(s),u=0;u<s;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===o[i]&&(o[i]=s[i]);return{$$typeof:n,type:e,key:a,ref:l,props:o,_owner:C.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var L=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function _(e,t,i,o,a){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var s=!1;if(null===e)s=!0;else switch(l){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return a=a(s=e),e=""===o?"."+E(s,0):o,w(a)?(i="",null!=e&&(i=e.replace(L,"$&/")+"/"),_(a,t,i,"",(function(e){return e}))):null!=a&&(T(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(L,"$&/")+"/")+e)),t.push(a)),1;if(s=0,o=""===o?".":o+":",w(e))for(var c=0;c<e.length;c++){var u=o+E(l=e[c],c);s+=_(l,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(l=e.next()).done;)s+=_(l=l.value,t,i,u=o+E(l,c++),a);else if("object"===l)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function j(e,t,n){if(null==e)return e;var r=[],i=0;return _(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M={current:null},I={transition:null},A={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:I,ReactCurrentOwner:C};t.Children={map:j,forEach:function(e,t,n){j(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return j(e,(function(){t++})),t},toArray:function(e){return j(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,a=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,l=C.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)k.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var u=0;u<c;u++)s[u]=arguments[u+2];i.children=s}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:l}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=N,t.createFactory=function(e){var t=N.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=I.transition;I.transition={};try{e()}finally{I.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return M.current.useCallback(e,t)},t.useContext=function(e){return M.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return M.current.useDeferredValue(e)},t.useEffect=function(e,t){return M.current.useEffect(e,t)},t.useId=function(){return M.current.useId()},t.useImperativeHandle=function(e,t,n){return M.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return M.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return M.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return M.current.useMemo(e,t)},t.useReducer=function(e,t,n){return M.current.useReducer(e,t,n)},t.useRef=function(e){return M.current.useRef(e)},t.useState=function(e){return M.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return M.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return M.current.useTransition()},t.version="18.1.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},4391:function(e,t,n){var r=n(9713).default;"undefined"!=typeof self&&self,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){var i,o=n(1),a=o.types,l=o.iterableTypes,s=o.errors,c=n(2),u=(r(i={},a.NUMBER,c.isNumber),r(i,a.BOOLEAN,c.isBoolean),r(i,a.STRING,c.isString),r(i,a.DATE,c.isDate),r(i,a.UNDEFINED,c.isUndefined),r(i,a.NULL,c.isNull),r(i,a.ARRAY,c.isArray),r(i,a.MAP,c.isMap),r(i,a.SET,c.isSet),r(i,a.ITERABLE_OBJECT,c.isIterableObject),i),d=r({},a.DATE,c.areDatesEqual);function f(e){for(var t=Object.keys(u),n=a.DEFAULT,r=0;r<t.length;r+=1)if(u[t[r]](e)){n=t[r];break}return n}function p(e,t,n,r){var i;return n===a.UNDEFINED&&r!==a.UNDEFINED?i="add":n!==a.UNDEFINED&&r===a.UNDEFINED?i="delete":function(e,t,n,r){return n===r&&(d[n]?d[n](e,t):e===t)}(e,t,n,r)?c.noop():i="update",i}function h(e,t,n,r,i){var o={op:n,path:r};return"add"!==n&&"update"!==n||(o.val=t),i&&"add"!==n&&(o.oldVal=e),o}function m(e,t,n,r,i){var o=f(e),s=f(t),c=r||[],u=i||[];if(function(e,t){return e===t&&l.indexOf(e)>=0}(o,s))for(var d=function(e,t,n){if(n===a.ARRAY){var r=e.length>t.length?new Array(e.length):new Array(t.length);return r.fill(0),new Set(r.map((function(e,t){return t})))}return new Set(Object.keys(e).concat(Object.keys(t)))}(e,t,o).values(),v=d.next(),g=v.value,y=v.done;!y;){Object.prototype.hasOwnProperty.call(e,g)?Object.prototype.hasOwnProperty.call(t,g)?m(e[g],t[g],n,c.concat(g),u):u.push(h(e[g],t[g],"delete",c.concat(g),n)):u.push(h(e[g],t[g],"add",c.concat(g),n));var b=d.next();g=b.value,y=b.done}else{var x=p(e,t,o,s);null!=x&&u.push(h(e,t,x,r,n))}return u}var v={add:c.setValueByPath,update:c.setValueByPath,delete:c.deleteValueByPath};e.exports={getDiff:function(e,t){return m(e,t,arguments.length>2&&void 0!==arguments[2]&&arguments[2])},applyDiff:function(e,t,n){return function(e,t,n){if(!(t instanceof Array))throw new Error(s.INVALID_DIFF_FORMAT);var r=e;return t.forEach((function(e){var t=e.op,i=e.val,o=e.path;if(!v[t])throw new Error(s.INVALID_DIFF_OP);r=v[t](r,o,i,n)})),r}(e,t,n)}}},function(e,t){var n={NUMBER:"NUMBER",BOOLEAN:"BOOLEAN",STRING:"STRING",NULL:"NULL",UNDEFINED:"UNDEFINED",DATE:"DATE",ARRAY:"ARRAY",MAP:"MAP",SET:"SET",ITERABLE_OBJECT:"ITERABLE_OBJECT",DEFAULT:"OBJECT"};e.exports={types:n,iterableTypes:[n.ITERABLE_OBJECT,n.MAP,n.ARRAY,n.SET],errors:{EMPTY_DIFF:"No diff object is provided, Nothing to apply",INVALID_DIFF_FORMAT:"Invalid diff format",INVALID_DIFF_OP:"Unsupported operation provided into diff object"}}},function(e,t){var n=function(e){return function(t){return t instanceof e}},r=n(Date),i=n(Array),o=n(Map),a=n(Set),l=function(e){return"[object Object]"===Object.prototype.toString.call(e)};e.exports={isNumber:function(e){return"number"==typeof e},isBoolean:function(e){return"boolean"==typeof e},isString:function(e){return"string"==typeof e},isDate:r,isUndefined:function(e){return void 0===e},isNull:function(e){return null===e},isArray:i,isMap:o,isSet:a,isIterableObject:l,noop:function(){},areDatesEqual:function(e,t){return e.getTime()===t.getTime()},setValueByPath:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(!i(t))throw new Error('Diff path: "'.concat(t,'" is not valid'));var o=t.length;if(0===o)return n;for(var a=e,l=0;l<o;l+=1){var s=t[l];if(!a)throw new Error('Invalid path: "'.concat(t,'" for object: ').concat(JSON.stringify(e,null,2)));if(null==s)throw new Error('Invalid path: "'.concat(t,'" for object: ').concat(JSON.stringify(e,null,2)));l!==o-1?(a=a[s],r&&r(a)):a[s]=n}return e},deleteValueByPath:function(e,t){var n=t||[];if(0!==n.length){for(var r=e,i=n.length,o=0;o<i;o+=1)if(o!==i-1){if(!r[n[o]])throw new Error('Invalid path: "'.concat(t,'" for object: ').concat(JSON.stringify(e,null,2)));r=r[n[o]]}else if(l(r))delete r[n[o]];else for(var a=parseInt(n[o],10);r.length>a;)r.pop();return e}}}}])},9727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(O){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,o=Object.create(i.prototype),a=new E(r||[]);return o._invoke=function(e,t,n){var r=d;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===h){if("throw"===i)throw o;return j()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var l=N(a,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var s=u(e,t,n);if("normal"===s.type){if(r=n.done?h:f,s.arg===m)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=h,n.method="throw",n.arg=s.arg)}}}(e,n,a),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(O){return{type:"throw",arg:O}}}e.wrap=c;var d="suspendedStart",f="suspendedYield",p="executing",h="completed",m={};function v(){}function g(){}function y(){}var b={};s(b,o,(function(){return this}));var x=Object.getPrototypeOf,w=x&&x(x(_([])));w&&w!==n&&r.call(w,o)&&(b=w);var k=y.prototype=v.prototype=Object.create(b);function C(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,o,a,l){var s=u(e[i],e,o);if("throw"!==s.type){var c=s.arg,d=c.value;return d&&"object"===typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(d).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,l)}))}l(s.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function N(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,N(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=u(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function _(e){if(e){var n=e[o];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:j}}function j(){return{value:t,done:!0}}return g.prototype=y,s(k,"constructor",y),s(y,"constructor",g),g.displayName=s(y,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,s(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},C(S.prototype),s(S.prototype,a,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},C(k),s(k,l,"Generator"),s(k,o,(function(){return this})),s(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=_,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(L),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return l.type="throw",l.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],l=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;L(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:_(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var l=2*(r+1)-1,s=e[l],c=l+1,u=e[c];if(0>o(s,n))c<i&&0>o(u,s)?(e[r]=u,e[c]=n,r=c):(e[r]=s,e[l]=n,r=l);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,s=l.now();t.unstable_now=function(){return l.now()-s}}var c=[],u=[],d=1,f=null,p=3,h=!1,m=!1,v=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(v=!1,x(e),!m)if(null!==r(c))m=!0,I(k);else{var t=r(u);null!==t&&A(w,t.startTime-e)}}function k(e,n){m=!1,v&&(v=!1,y(T),T=-1),h=!0;var o=p;try{for(x(n),f=r(c);null!==f&&(!(f.expirationTime>n)||e&&!_());){var a=f.callback;if("function"===typeof a){f.callback=null,p=f.priorityLevel;var l=a(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof l?f.callback=l:f===r(c)&&i(c),x(n)}else i(c);f=r(c)}if(null!==f)var s=!0;else{var d=r(u);null!==d&&A(w,d.startTime-n),s=!1}return s}finally{f=null,p=o,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var C,S=!1,N=null,T=-1,L=5,E=-1;function _(){return!(t.unstable_now()-E<L)}function j(){if(null!==N){var e=t.unstable_now();E=e;var n=!0;try{n=N(!0,e)}finally{n?C():(S=!1,N=null)}}else S=!1}if("function"===typeof b)C=function(){b(j)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,M=O.port2;O.port1.onmessage=j,C=function(){M.postMessage(null)}}else C=function(){g(j,0)};function I(e){N=e,S||(S=!0,C())}function A(e,n){T=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,I(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:l=o+l,sortIndex:-1},o>a?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(v?(y(T),T=-1):v=!0,A(w,o-a))):(e.sortIndex=l,n(c,e),m||h||(m=!0,I(k))),e},t.unstable_shouldYield=_,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},5166:function(e,t,n){var r={"./apl/apl.js":[4308,4308],"./asciiarmor/asciiarmor.js":[4155,4155],"./asn.1/asn.1.js":[2509,2509],"./asterisk/asterisk.js":[6828,6828],"./brainfuck/brainfuck.js":[4024,4024],"./clike/clike.js":[8376,8376],"./clojure/clojure.js":[6943,6943],"./cmake/cmake.js":[9615,9615],"./cobol/cobol.js":[3918,3918],"./coffeescript/coffeescript.js":[935,935],"./commonlisp/commonlisp.js":[2121,2121],"./crystal/crystal.js":[3751,3751],"./css/css.js":[5144,5144],"./cypher/cypher.js":[6922,6922],"./d/d.js":[2829,2829],"./dart/dart.js":[7669,8376,7669],"./diff/diff.js":[6499,6499],"./django/django.js":[6330,5683,5144,2373,6330],"./dockerfile/dockerfile.js":[6730,6730],"./dtd/dtd.js":[5131,5131],"./dylan/dylan.js":[6696,6696],"./ebnf/ebnf.js":[5330,5330],"./ecl/ecl.js":[1478,1478],"./eiffel/eiffel.js":[6436,6436],"./elm/elm.js":[2650,2650],"./erlang/erlang.js":[4989,4989],"./factor/factor.js":[7782,7782],"./fcl/fcl.js":[4382,4382],"./forth/forth.js":[4920,4920],"./fortran/fortran.js":[9079,9079],"./gas/gas.js":[6509,6509],"./gfm/gfm.js":[7976,7976],"./gherkin/gherkin.js":[8425,8425],"./go/go.js":[2612,2612],"./groovy/groovy.js":[1084,1084],"./haml/haml.js":[1307,5683,5144,2373,1307],"./handlebars/handlebars.js":[2722,2722],"./haskell-literate/haskell-literate.js":[707,707],"./haskell/haskell.js":[3103,3103],"./haxe/haxe.js":[3722,3722],"./htmlembedded/htmlembedded.js":[819,5683,5144,2373,819],"./htmlmixed/htmlmixed.js":[2373,5683,5144,2373],"./http/http.js":[9566,9566],"./idl/idl.js":[60,60],"./javascript/javascript.js":[5683,5683],"./jinja2/jinja2.js":[1834,1834],"./jsx/jsx.js":[7830,5683,7830],"./julia/julia.js":[3218,3218],"./livescript/livescript.js":[1778,1778],"./lua/lua.js":[2482,2482],"./markdown/markdown.js":[3548,3548],"./mathematica/mathematica.js":[7080,7080],"./mbox/mbox.js":[7544,7544],"./meta.js":[6251],"./mirc/mirc.js":[6981,6981],"./mllike/mllike.js":[575,575],"./modelica/modelica.js":[862,862],"./mscgen/mscgen.js":[6515,6515],"./mumps/mumps.js":[2363,2363],"./nginx/nginx.js":[5338,5338],"./nsis/nsis.js":[966,966],"./ntriples/ntriples.js":[2820,2820],"./octave/octave.js":[1590,1590],"./oz/oz.js":[5642,5642],"./pascal/pascal.js":[5491,5491],"./pegjs/pegjs.js":[1629,5683,1629],"./perl/perl.js":[8265,8265],"./php/php.js":[2117,5683,5144,2373,8376,2117],"./pig/pig.js":[179,6316],"./powershell/powershell.js":[9077,9077],"./properties/properties.js":[2107,2107],"./protobuf/protobuf.js":[780,780],"./pug/pug.js":[8901,5683,5144,2373,8901],"./puppet/puppet.js":[4492,4492],"./python/python.js":[3225,3225],"./q/q.js":[7641,7641],"./r/r.js":[6193,6193],"./rpm/rpm.js":[7060,7060],"./rst/rst.js":[7446,7446],"./ruby/ruby.js":[5382,5382],"./rust/rust.js":[2832,2832],"./sas/sas.js":[5913,5913],"./sass/sass.js":[5034,5144,5034],"./scheme/scheme.js":[9064,9064],"./shell/shell.js":[8570,8570],"./sieve/sieve.js":[6729,6729],"./slim/slim.js":[1693,5683,5144,2373,1693],"./smalltalk/smalltalk.js":[5460,5460],"./smarty/smarty.js":[319,319],"./solr/solr.js":[5383,5383],"./soy/soy.js":[8595,5683,5144,2373,8595],"./sparql/sparql.js":[479,479],"./spreadsheet/spreadsheet.js":[1044,1044],"./sql/sql.js":[2822],"./stex/stex.js":[7001,7001],"./stylus/stylus.js":[5455,5455],"./swift/swift.js":[8782,8782],"./tcl/tcl.js":[8600,8600],"./textile/textile.js":[3234,3234],"./tiddlywiki/tiddlywiki.js":[9222,9222],"./tiki/tiki.js":[6523,6523],"./toml/toml.js":[9472,9472],"./tornado/tornado.js":[3317,5683,5144,2373,3317],"./troff/troff.js":[369,369],"./ttcn-cfg/ttcn-cfg.js":[5871,5871],"./ttcn/ttcn.js":[694,694],"./turtle/turtle.js":[117,117],"./twig/twig.js":[3891,3891],"./vb/vb.js":[6809,6809],"./vbscript/vbscript.js":[6368,6368],"./velocity/velocity.js":[6408,6408],"./verilog/verilog.js":[1653,1653],"./vhdl/vhdl.js":[5848,5848],"./vue/vue.js":[9177,5683,5144,2373,5455,9177],"./wast/wast.js":[3350,3350],"./webidl/webidl.js":[1811,1811],"./xml/xml.js":[9029,9029],"./xquery/xquery.js":[1939,1939],"./yacas/yacas.js":[7075,7075],"./yaml-frontmatter/yaml-frontmatter.js":[7405,7405],"./yaml/yaml.js":[7768,7768],"./z80/z80.js":[5100,5100]};function i(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n.t(i,23)}))}i.keys=function(){return Object.keys(r)},i.id=5166,e.exports=i},7752:function(e){"use strict";e.exports=JSON.parse('{"bootstrapInputWrapper":["item"],"bootstrapPanel":["header","item"],"bootstrapPanelIcon":false,"bootstrapPanelOpen":["item"],"bootstrapPanelOpenByPath":false,"bootstrapPanelOpenByValue":false,"bootstrapPanelToggle":["item"],"bootstrapView":["item"],"viewPanelView":["header","item"],"booleanButton":false,"booleanDefinition":false,"booleanExposedField":false,"booleanFields":["itemTrue","itemFalse"],"booleanInput":false,"booleanName":false,"booleanVibrate":false,"booleanView":false,"conditionalEmpty":["item"],"conditionalInt":["item"],"conditionalSet":false,"conditionalUserRole":["item"],"conditionalValid":["item"],"conditionalView":["item"],"conditionalViewAndOr":["item"],"dragAndDropFixedVal":["item"],"dragAndDropHandle":["item"],"dragAndDropList":["field","item"],"dragAndDropView":["item"],"dragAndDropViewList":["emptyFields","item"],"emailDefinition":false,"emailInput":false,"emailInputNoValidation":false,"emailLink":false,"emailMailto":["item"],"emailSortBy":false,"emailView":false,"flatgroupDefinition":["item"],"floatDefinition":false,"floatExposedField":false,"floatInput":false,"floatLink":false,"floatSortBy":false,"floatView":false,"groupDefinition":["item"],"groupGroupExposedField":false,"groupView":["item"],"intDefinition":false,"intExposedField":false,"intInput":false,"intLink":false,"intSortBy":false,"intView":false,"matrixDefinition":false,"matrixInput":false,"multigroupAddRemove":false,"multigroupCopyItem":false,"multigroupDefinition":["item"],"multigroupInput":["header","item"],"multigroupPanelOpenByValue":false,"multigroupView":["item"],"multilinetextCount":false,"multilinetextDefinition":false,"multilinetextExposedField":false,"multilinetextFields":["item"],"multilinetextInput":false,"multilinetextItemLink":["item"],"multilinetextItemText":false,"multilinetextList":false,"multilinetextView":["item"],"referenceDefinition":false,"referenceExposedField":false,"referenceExposedFieldViews":false,"referenceFirst":false,"referenceInput":false,"referenceQueryValue":false,"referenceSelect":false,"referenceSortable":false,"referenceSortBy":false,"referenceView":false,"selectButton":false,"selectDefinition":false,"selectExposedField":false,"selectInput":false,"selectQueryValue":false,"selectSortBy":false,"selectView":false,"sliderDefinition":false,"sliderInput":false,"sliderLink":false,"sliderView":false,"textDefinition":false,"textExposedField":false,"textInput":false,"textLink":false,"textQueryValue":false,"textSortBy":false,"textView":false,"textareaDefinition":false,"textareaFormatted":false,"textareaInput":false,"textareaLink":false,"textareaSortBy":false,"textareaView":false,"viewButtonAutoSave":false,"viewButtonBack":false,"viewButtonDelete":false,"viewButtonEventEmitter":["item"],"viewButtonField2Event":["field"],"viewButtonInput":false,"viewButtonReference":["item"],"viewButtonSetValue":false,"viewButtonSetValueOnLoad":false,"viewButtonUndoRedo":false,"viewButtonView":false,"viewInViewEmpty":false,"viewInViewSetValue":false,"viewInViewView":false,"viewLinkButton":false,"viewLinkDynamicFields":["item"],"viewLinkDynamicLink":false,"viewLinkExternal":["item"],"viewLinkFields":["item"],"viewLinkLink":false,"viewLinkView":false,"viewListDynamicInfinite":["item"],"viewListEmptySearchresult":["item"],"viewListInfinite":["item"],"viewListInfiniteScrollPos":false,"viewListListStat":false,"viewListPager":false,"viewListSearch":false,"viewListView":["headerFields","emptyFields","item"],"viewTextBreak":false,"viewTextLabeled":["item"],"viewTextView":false,"connectionConnectedCount":false,"connectionView":["item"],"contentTypeDefinition":["item"],"contentTypeView":["item"],"viewSmallComponentView":false,"databaseAddToCache":["sortby"],"databaseBaseViewSearch":false,"databaseFilter":false,"databaseMissing":["item"],"databaseSearch":["sortby"],"databaseShowMoreButton":false,"databaseView":["item"],"dateDefinition":false,"dateExposedField":false,"dateExposedYearMonth":false,"dateInput":false,"dateRel":false,"dateSortBy":false,"dateView":false,"viewImageView":false,"serviceWorkerSelectBox":false,"serviceWorkerView":false,"viewButtonDebugAndClear":false,"viewTextPageMeta":false,"routerPageNotFound":["item"],"routerRedirect":false,"routerScrollpos":false,"routerToTopOnNav":false,"routerView":["item"],"routerViewByHistory":false,"passwordConfirmInput":false,"passwordDefinition":false,"passwordInput":false,"passwordOldpassword":false,"roleDefinition":false,"sessionLogout":["item"],"sessionNoRole":["item"],"sessionRole":["item"],"sessionUser":false,"sessionView":false,"viewButtonLogin":false,"iconView":false,"styleClassNameByValue":["item"],"styleEventOutside":["item"],"styleOnOver":["item"],"styleOnOverHandle":["item"],"styleOnOverRemove":["item"],"styleSizeMirror":["item"],"styleView":["item"],"extensionSearch":["item"],"extensionTab":["item"],"extensionView":["item"],"connectionElectron":false,"electronAppButton":false,"electronMoveWindow":["item"],"electronPassOnToNode":false,"electronUrlCopyPaste":false,"electronView":["item"],"copyToClipBoardView":false,"databaseFilterResult":false,"devtoolsSelectContenttype":false,"devtoolsSettings":false,"devtoolsUrlPartFilter":false,"devtoolsView":false,"overlayCloseButton":["item"],"overlayMenu":false,"overlayView":false,"viewButtonMirrorSave":false,"viewInViewSetBaseViewValue":false,"viewTextCodemirror":false,"viewTextTitlePopup":["popup","item"],"textareaLog":false}')}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var l=2&i&&r;"object"==typeof l&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach((function(e){a[e]=function(){return r[e]}}));return a.default=function(){return r},n.d(o,a),o}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+"."+{60:"fbe0030c",117:"5751177c",319:"05d8f85d",369:"080f4893",479:"4bb1ef7f",575:"3414326e",694:"c3c98c71",707:"c7755bd5",780:"1ad9506f",819:"9aab2736",862:"0ee0ec8b",935:"b72be73b",966:"28cda091",1044:"97b9f53f",1084:"11b12d87",1307:"49c7dbd3",1478:"00b32619",1590:"6e27909d",1629:"54993461",1653:"a49a1f11",1693:"3f45dc24",1778:"d11f66a1",1811:"2f61a224",1834:"7800b2e6",1939:"77634f1d",2107:"ad32ab77",2117:"3ca2d05a",2121:"9e21178c",2363:"a04926ee",2373:"e3b122b3",2387:"6cb85ad2",2482:"9c812dec",2509:"f31f5390",2612:"47ea561d",2650:"6cd21dc1",2722:"298764d1",2820:"e47a8807",2829:"9b6c7ba5",2832:"38f85fcf",3103:"42b12077",3218:"fd56f877",3225:"a13f55ea",3234:"9d2efce0",3317:"3f23a27d",3350:"a807f4b3",3548:"222b62c0",3722:"bcd49695",3751:"c52be1b4",3891:"dd4daae9",3918:"beeb1080",4024:"06a3a591",4155:"58cb87a4",4308:"0c5e4c7c",4382:"4ad990a4",4492:"bfe07b76",4920:"42a6d882",4989:"b8e89c60",5034:"d9015a45",5100:"420658a7",5131:"80a55bb9",5144:"cf9c697a",5330:"ae6e9ec2",5338:"56973565",5382:"8885d64e",5383:"57b027f5",5455:"f0a3cc8e",5460:"fa1bd67a",5491:"91ef4de1",5642:"dfe82b85",5683:"578ae694",5848:"632aed48",5871:"9c9c5f8b",5913:"a13dfe76",6193:"cfa4443b",6316:"47ed2985",6330:"8e66e5fb",6368:"cc1d8b3c",6408:"83730c36",6436:"b3969e8f",6499:"3d122745",6509:"8f4e3d29",6515:"a473b258",6523:"7c465e1d",6696:"b89312fe",6729:"578c44a1",6730:"7092b777",6809:"b6e2735d",6828:"b016b7ee",6922:"3075d29a",6943:"ae3509b9",6981:"29a61833",7001:"df1d41c6",7060:"91f8751c",7075:"dd8fa737",7080:"ffe5e487",7405:"b9760554",7446:"752130cd",7544:"d3bbfc71",7641:"ae78a29e",7669:"f63a3afa",7768:"5e45e6a5",7782:"a746e4e9",7830:"84117ab9",7976:"0e1b0aaf",8265:"cfefb77d",8376:"cb59a50e",8425:"974f3075",8570:"5d870d88",8595:"a396f6aa",8600:"fe093ea7",8782:"943b6f26",8901:"e2a53df1",9029:"90f0f633",9064:"eb2a9bc4",9077:"3a8a00a6",9079:"95010bff",9177:"7c94e669",9222:"e68d4185",9472:"35fd7c8f",9566:"1e0fe373",9615:"2c1723f7"}[e]+".chunk.js"},n.miniCssF=function(e){return"static/css/"+e+".63b10886.chunk.css"},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="web:";n.l=function(r,i,o,a){if(e[r])e[r].push(i);else{var l,s;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){l=d;break}}l||(s=!0,(l=document.createElement("script")).charset="utf-8",l.timeout=120,n.nc&&l.setAttribute("nonce",n.nc),l.setAttribute("data-webpack",t+o),l.src=r),e[r]=[i];var f=function(t,n){l.onerror=l.onload=null,clearTimeout(p);var i=e[r];if(delete e[r],l.parentNode&&l.parentNode.removeChild(l),i&&i.forEach((function(e){return e(n)})),t)return t(n)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=f.bind(null,l.onerror),l.onload=f.bind(null,l.onload),s&&document.head.appendChild(l)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e=function(e){return new Promise((function(t,r){var i=n.miniCssF(e),o=n.p+i;if(function(e,t){for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var i=(a=n[r]).getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(i===e||i===t))return a}var o=document.getElementsByTagName("style");for(r=0;r<o.length;r++){var a;if((i=(a=o[r]).getAttribute("data-href"))===e||i===t)return a}}(i,o))return t();!function(e,t,n,r){var i=document.createElement("link");i.rel="stylesheet",i.type="text/css",i.onerror=i.onload=function(o){if(i.onerror=i.onload=null,"load"===o.type)n();else{var a=o&&("load"===o.type?"missing":o.type),l=o&&o.target&&o.target.href||t,s=new Error("Loading CSS chunk "+e+" failed.\n("+l+")");s.code="CSS_CHUNK_LOAD_FAILED",s.type=a,s.request=l,i.parentNode.removeChild(i),r(s)}},i.href=t,document.head.appendChild(i)}(e,o,t,r)}))},t={179:0};n.f.miniCss=function(n,r){t[n]?r.push(t[n]):0!==t[n]&&{2387:1}[n]&&r.push(t[n]=e(n).then((function(){t[n]=0}),(function(e){throw delete t[n],e})))}}(),function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=o);var a=n.p+n.u(t),l=new Error;n.l(a,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;l.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",l.name="ChunkLoadError",l.type=o,l.request=a,i[1](l)}}),"chunk-"+t,t)}};var t=function(t,r){var i,o,a=r[0],l=r[1],s=r[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(i in l)n.o(l,i)&&(n.m[i]=l[i]);if(s)s(n)}for(t&&t(r);c<a.length;c++)o=a[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkweb=self.webpackChunkweb||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function r(){r=function(){return e};var e={},n=Object.prototype,i=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(E){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof p?t:p,o=Object.create(i.prototype),a=new N(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return L()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var l=k(a,n);if(l){if(l===f)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,a),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(E){return{type:"throw",arg:E}}}e.wrap=u;var f={};function p(){}function h(){}function m(){}var v={};c(v,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==n&&i.call(y,a)&&(v=y);var b=m.prototype=p.prototype=Object.create(v);function x(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,n){function r(o,a,l,s){var c=d(e[o],e,a);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==t(f)&&i.call(f,"__await")?n.resolve(f.__await).then((function(e){r("next",e,l,s)}),(function(e){r("throw",e,l,s)})):n.resolve(f).then((function(e){u.value=e,l(u)}),(function(e){return r("throw",e,l,s)}))}s(c.arg)}var o;this._invoke=function(e,t){function i(){return new n((function(n,i){r(e,t,n,i)}))}return o=o?o.then(i,i):i()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=d(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(i.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=m,c(b,"constructor",m),c(m,"constructor",h),h.displayName=c(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},x(w.prototype),c(w.prototype,l,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new w(u(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},x(b),c(b,s,"Generator"),c(b,a,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=T,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var l=i.call(o,"catchLoc"),s=i.call(o,"finallyLoc");if(l&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function i(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(r,i)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function l(e){i(a,r,o,l,s,"next",e)}function s(e){i(a,r,o,l,s,"throw",e)}l(void 0)}))}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,n){if(n&&("object"===t(n)||"function"===typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}n.r(e),n.d(e,{BooleanButton:function(){return W},BooleanExposedField:function(){return U},BooleanFields:function(){return q},BooleanInput:function(){return K},BooleanName:function(){return Y},BooleanValidate:function(){return $},BooleanVibrate:function(){return Q},BooleanView:function(){return X},BootstrapDropdown:function(){return y},BootstrapInputWrapper:function(){return b},BootstrapPanel:function(){return C},BootstrapPanelIcon:function(){return S},BootstrapPanelOpen:function(){return _},BootstrapPanelOpenByPath:function(){return j},BootstrapPanelOpenByValue:function(){return M},BootstrapPanelToggle:function(){return I},BootstrapView:function(){return A},Button:function(){return _r},ConditionalEmpty:function(){return Z},ConditionalInt:function(){return te},ConditionalSet:function(){return re},ConditionalUserRole:function(){return oe},ConditionalValid:function(){return ae},ConditionalView:function(){return se},ConditionalViewAndOr:function(){return ue},ConnectionConnectedCount:function(){return ur},ConnectionCssclass:function(){return dr},ConnectionElectron:function(){return ca},ConnectionView:function(){return fr},ContentTypeContext:function(){return vr},ContentTypeRender:function(){return br},ContentTypeView:function(){return Sr},CopyToClipBoardView:function(){return ba},DatabaseAddToCache:function(){return Gr},DatabaseBaseViewSearch:function(){return Qr},DatabaseFilter:function(){return Xr},DatabaseFilterResult:function(){return xa},DatabaseGet:function(){return Jr},DatabaseMissing:function(){return Zr},DatabaseOneSearch:function(){return ei},DatabaseSearch:function(){return ti},DatabaseSearchContext:function(){return ni},DatabaseSearchContextProvider:function(){return ri},DatabaseShowMoreButton:function(){return ii},DatabaseView:function(){return oi},DateExposedField:function(){return si},DateExposedYearMonth:function(){return yi},DateInput:function(){return xi},DateInputDate:function(){return Ni},DateInputTime:function(){return Ti},DateRel:function(){return Ei},DateSortBy:function(){return _i},DateValidate:function(){return bi},DateView:function(){return Oi},DevtoolsSelectContenttype:function(){return wa},DevtoolsSettings:function(){return ka},DevtoolsUrlPartFilter:function(){return Ca},DevtoolsView:function(){return Sa},DragAndDropContext:function(){return ye},DragAndDropFixedVal:function(){return be},DragAndDropHandle:function(){return ke},DragAndDropList:function(){return we},DragAndDropMyDnd:function(){return ge},DragAndDropSortable:function(){return Ce},DragAndDropView:function(){return Se},DragAndDropViewList:function(){return Ne},ElectronAppButton:function(){return da},ElectronMoveWindow:function(){return pa},ElectronPassOnToNode:function(){return ha},ElectronUrlCopyPaste:function(){return va},ElectronView:function(){return ya},EmailExposedField:function(){return Te},EmailInput:function(){return Ee},EmailInputNoValidation:function(){return _e},EmailLink:function(){return je},EmailMailto:function(){return Oe},EmailSortBy:function(){return Me},EmailValidate:function(){return Le},EmailVerifiedInput:function(){return Ae},EmailView:function(){return Fe},ErrorManager:function(){return Or},ErrorMsg:function(){return Ir},ExtensionBackgroundIndex:function(){return ia},ExtensionIcon:function(){return oa},ExtensionSearch:function(){return aa},ExtensionTab:function(){return la},ExtensionView:function(){return sa},FlatgroupInput:function(){return Ve},FloatExposedField:function(){return ze},FloatInput:function(){return Be},FloatLink:function(){return He},FloatSortBy:function(){return We},FloatValidate:function(){return Re},FloatView:function(){return qe},GroupGroupExposedField:function(){return $e},GroupView:function(){return Ke},Icon:function(){return $o},IconView:function(){return Bo},Image:function(){return Ai},Index:function(){return Na},Input:function(){return Pr},InputWrapper:function(){return Vr},Inserter:function(){return qi},IntExposedField:function(){return Ge},IntInput:function(){return Xe},IntLink:function(){return Je},IntSortBy:function(){return Ze},IntValidate:function(){return Qe},IntView:function(){return tt},Label:function(){return Rr},Link:function(){return $i},Loading:function(){return Hr},MatrixInput:function(){return nt},MatrixInputlist:function(){return it},MultigroupAddRemove:function(){return ot},MultigroupCopyItem:function(){return at},MultigroupInput:function(){return ct},MultigroupPanelOpenByValue:function(){return ut},MultigroupView:function(){return ft},MultilinetextCount:function(){return pt},MultilinetextExposedField:function(){return ht},MultilinetextFields:function(){return mt},MultilinetextInput:function(){return gt},MultilinetextInputlist:function(){return bt},MultilinetextItemLink:function(){return xt},MultilinetextItemText:function(){return wt},MultilinetextList:function(){return Ct},MultilinetextValidate:function(){return vt},MultilinetextView:function(){return St},Offline:function(){return hr},OverlayAccessible:function(){return La},OverlayClose:function(){return _a},OverlayCloseButton:function(){return Oa},OverlayContext:function(){return Ia},OverlayIndex:function(){return Da},OverlayMenu:function(){return Pa},OverlayOpen:function(){return Ra},OverlayOverlay:function(){return Ha},OverlayView:function(){return Ua},Panel:function(){return V},PanelContext:function(){return z},PasswordConfirmInput:function(){return ko},PasswordInput:function(){return Co},PasswordOldpassword:function(){return So},PasswordValidate:function(){return wo},PasswordView:function(){return To},ReferenceExposedField:function(){return Nt},ReferenceExposedFieldViews:function(){return Tt},ReferenceFirst:function(){return Lt},ReferenceInput:function(){return Mt},ReferenceQueryValue:function(){return It},ReferenceSelect:function(){return At},ReferenceSortBy:function(){return Dt},ReferenceSortable:function(){return Ft},ReferenceValidate:function(){return Et},ReferenceView:function(){return Pt},Role:function(){return jo},RoleView:function(){return Eo},RouterBackHandler:function(){return Ki},RouterHistory:function(){return Xi},RouterPageNotFound:function(){return eo},RouterRedirect:function(){return to},RouterScrollpos:function(){return oo},RouterState:function(){return uo},RouterToTopOnNav:function(){return po},RouterUseQueryStore:function(){return mo},RouterView:function(){return vo},RouterViewByHistory:function(){return go},Select:function(){return Kt},SelectButton:function(){return Vt},SelectExposedField:function(){return zt},SelectInput:function(){return Ht},SelectQueryValue:function(){return Wt},SelectSortBy:function(){return Ut},SelectValidate:function(){return Rt},SelectView:function(){return qt},ServiceWorkerSelectBox:function(){return Pi},ServiceWorkerView:function(){return zi},SessionLogout:function(){return Io},SessionNoRole:function(){return Fo},SessionRole:function(){return Do},SessionUser:function(){return Vo},SessionView:function(){return zo},SliderInput:function(){return Yt},SliderLink:function(){return Gt},SliderView:function(){return Xt},StyleClassNameByValue:function(){return Yo},StyleEventOutside:function(){return Go},StyleOnOver:function(){return Jo},StyleOnOverHandle:function(){return Xo},StyleOnOverRemove:function(){return Zo},StyleSizeMirror:function(){return ta},StyleView:function(){return na},TextExposedField:function(){return Jt},TextInput:function(){return nn},TextLink:function(){return rn},TextQueryValue:function(){return an},TextSortBy:function(){return ln},TextValidate:function(){return Zt},TextView:function(){return sn},TextareaFormatted:function(){return cn},TextareaInput:function(){return fn},TextareaLink:function(){return pn},TextareaLog:function(){return cl},TextareaSortBy:function(){return hn},TextareaValidate:function(){return un},TextareaView:function(){return mn},UseEvent:function(){return Wr},UseEventListner:function(){return Ur},UseLocation:function(){return xo},UseSearch:function(){return ai},UseValidator:function(){return Nr},ViewButtonAutoSave:function(){return vn},ViewButtonBack:function(){return bn},ViewButtonDebugAndClear:function(){return Ri},ViewButtonDelete:function(){return xn},ViewButtonEventEmitter:function(){return Cn},ViewButtonField2Event:function(){return Sn},ViewButtonInput:function(){return Tn},ViewButtonLogin:function(){return Ro},ViewButtonMirrorSave:function(){return $a},ViewButtonReference:function(){return Ln},ViewButtonSetValue:function(){return En},ViewButtonSetValueOnLoad:function(){return jn},ViewButtonUndoRedo:function(){return On},ViewButtonView:function(){return Mn},ViewImageView:function(){return Fi},ViewInViewEmpty:function(){return In},ViewInViewSetBaseViewValue:function(){return Ka},ViewInViewSetValue:function(){return An},ViewInViewView:function(){return Fn},ViewLinkButton:function(){return Dn},ViewLinkDynamicFields:function(){return Pn},ViewLinkDynamicLink:function(){return Vn},ViewLinkExternal:function(){return zn},ViewLinkFields:function(){return Rn},ViewLinkLink:function(){return Hn},ViewLinkView:function(){return Wn},ViewListDynamicInfinite:function(){return $n},ViewListEmptySearchresult:function(){return Kn},ViewListInfinite:function(){return Qn},ViewListInfiniteScrollPos:function(){return Xn},ViewListListStat:function(){return Jn},ViewListPager:function(){return Zn},ViewListSearch:function(){return er},ViewListView:function(){return nr},ViewPanelView:function(){return B},ViewSmallComponentErrorMsg:function(){return qr},ViewTextBreak:function(){return rr},ViewTextCodemirror:function(){return il},ViewTextLabeled:function(){return ir},ViewTextPageMeta:function(){return Wi},ViewTextTitlePopup:function(){return sl},ViewTextToken:function(){return ar},ViewTextTokenFallbackNew:function(){return sr},ViewTextView:function(){return cr},Wrapper:function(){return Yr}});var m=n(2791),v=n(184),g=function(e){u(n,e);var t=h(n);function n(e){var r;return a(this,n),(r=t.call(this,e)).state={expanded:r.props.expanded},r}return s(n,[{key:"toggleExpand",value:function(){this.setState({expanded:!this.state.expanded})}},{key:"render",value:function(){var e=this,t=this.props.children[0].props,n=t.children instanceof Array?t.children.map((function(){return(0,v.jsx)("div",{})})):t.children,r=this.props.type?this.props.type:"";if(!t)return null;function i(e){return(0,v.jsx)("li",{children:e})}return this.props.className&&(r+=" ".concat(this.props.className)),this.state.expanded&&(r+=" open"),(0,v.jsxs)("div",{className:"btn-group".concat(r),children:[(0,v.jsxs)(_r,{type:"secondary",onClick:this.toggleExpand,children:[n," ",(0,v.jsx)("span",{className:"caret"})]}),e.state.expanded?(0,v.jsx)("ul",{className:"dropdown-menu",role:"menu",children:e.props.children.slice(1).map(i)}):""]})}}]),n}(m.Component),y=g,b=function(e){var t=e.model,n=e.path,r=t.item;return(0,v.jsx)(Vr,{model:t,children:(0,v.jsx)(br,{path:n,items:r})})};function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C=function(e){var t=e.model,n=e.path,r=t.item,i=t.header,o=t.typeClass;return(0,v.jsx)(V,k(k({},t),{},{type:o,header:(0,v.jsx)(br,{path:n,items:i}),body:(0,v.jsx)(br,{path:n,items:r})}))},S=function(e){var t=e.model,n=t.className,r=t.iconOpen,i=t.iconClosed,o=(0,m.useContext)(z).expanded;return(0,v.jsx)($o,{icon:o?r||"chevron-down":i||"chevron-right",className:n||"pointer h-6 w-6 pl-0"})};function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e,t){if(e){if("string"===typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N(e,t):void 0}}function L(e){return function(e){if(Array.isArray(e))return N(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||T(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var E=function(e){return e?e instanceof Array?e:[e]:[]},_=function(e){var t=e.model,n=e.path,r=e.children,i=t.className,o=t.item,a=t.classNameOpen,l=t.classNameClosed,s=(0,m.useContext)(z).expanded;return(0,v.jsx)(Yr,{className:[].concat(L(E(i)),L(E(s?a:l))),children:r||(0,v.jsx)(br,{path:n,items:o})})},j=function(e){var t=e.model,n=e.path,r=e.view,i=(0,m.useContext)(z),o=i.toggleExpand,a=i.expanded,l=xo().pathname;return(0,m.useEffect)((function(){var e,i=l.match(new RegExp((e=t.match)&&e.replace(/\{([a-z_.0-9]+)\}/gim,(function(e,t){return/pathItem[0-9]/.test(t)&&r.params?r.params[t[8]]:r.getValue(t.replace("..",n))}))));t.invert&&(i=!i),i&&!a&&o(i)}),[l]),null};function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}}(e,t)||T(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var M=function(e){var t=e.model,n=e.view,r=e.path,i=(0,m.useContext)(z),o=i.toggleExpand,a=i.expanded;return(0,m.useEffect)((function(){var e=n.getValue(r);if(t.keyCount||0===t.keyCount){var i=Object.keys(n.getValue(r)).length>t.keyCount;t.invert&&(i=!i),i&&!a&&o(i)}else{var l=O(t.condition,1),s=O(l[0],2),c=s[0],u=s[1],d=e[c]===u;"false"===u?d=!u:"true"===u&&(d=!!u),t.invert&&(d=!d),d&&!a&&o(d)}}),[t]),null},I=function(e){var t=e.model,n=e.path,r=e.children,i=t.className,o=t.item,a=(0,m.useContext)(z),l=a.toggleExpand,s=a.expanded;return(0,v.jsxs)(Yr,k(k({className:i},{onClick:l,role:"button",tabIndex:"0"}),{},{children:[t.icon&&(0,v.jsx)($o,{icon:s?"chevron-down":"chevron-right",className:t.iconClassName||"pointer h-6 w-6 p-1 pl-0"}),r||(0,v.jsx)(br,{path:n,items:o})]}))},A=function(e){var t=e.model,n=e.path,r=t.className,i=t.renderAs,o=t.item;return(0,v.jsx)(Yr,{className:r,renderAs:i,children:(0,v.jsx)(br,{path:n,items:o})})};function F(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var D=["body","header","className"],P={default:{wrapper:"mb-3 border shadow rounded",body:"p-3",header:"bg-gray-200 pointer p-1 pl-3"},primary:{wrapper:"mb-3 border shadow rounded bg-blue-600 border-blue-600",body:"p-3 bg-white rounded",header:"text-white pointer p-1 pl-3"},defaultWithoutPadding:{wrapper:"mb-3 border shadow rounded",body:"",header:"bg-gray-200 pointer pl-2 pr-1"},compact:{wrapper:"mb-1",body:"",header:""}},V=function(e){var t=e.body,n=e.header,r=e.className,i=F(e,D),o=O((0,m.useState)(i.expanded),2),a=o[0],l=o[1],s=(0,m.useRef)(null);(0,m.useEffect)((function(){var e=$l().stateStore.get(s,i.stateStore);null!==e&&e!==a&&l(e)}),[a,i.stateStore]);var c=P[i.type||"default"];return(0,v.jsxs)(Yr,{ref:s,className:[c.wrapper,r],children:[(0,v.jsx)(Yr,{className:c.header,children:(0,v.jsx)(z.Provider,{value:{toggleExpand:function(){l(!a),$l().stateStore.set(s,!a,i.stateStore)},expanded:a},children:n})}),a?(0,v.jsx)(Yr,{className:c.body,children:t}):i.visibilityHidden?(0,v.jsx)(Yr,{className:[c.body,"hidden"],children:t}):null]})},z=m.createContext(),R=["onClickExpand","classNameHead","item","header","typeClass"],B=function(e){var t=e.model,n=e.path,r=t.onClickExpand,i=t.classNameHead,o=t.item,a=t.header,l=t.typeClass,s=F(t,R);return(0,v.jsxs)(V,k(k({},s),{},{type:l,children:[(0,v.jsx)(Yr,{renderAs:"h3",onClickExpand:r,className:i,children:(0,v.jsx)(br,{path:n,items:a||[]})}),(0,v.jsx)(br,{path:n,items:o||[]})]}))},H=function(e){return e?e instanceof Array?e:[e]:[]},W=function(e){var t=e.setValue,n=e.model,r=e.value,i=O((r?n.text:n.falseText||n.text).split(":"),2),o=i[0],a=i[1],l=void 0===a?[]:a;return(0,v.jsx)(_r,{type:r?n.btnType:n.falseBtnType,size:n.size,className:[].concat(L(H(l)),L(H(n.className))),onClick:function(){return t(!r)},children:["code","pause","play","folder","gear","wallet","location","terminal-solid","brands-github"].includes(o)?(0,v.jsx)($o,{className:"h-4 w-4",icon:o,alt:o}):$l().t(o)})},U=function(e){var t=e.model,n=e.view,r=O(mo(t.saveId),2),i=r[0],o=r[1];ai({view:n,id:t.id,value:i});var a=t.hideTrue,l=t.trueText,s=t.hideFalse,c=t.falseText,u=[];return s||u.push({_id:"false",text:c||"False"}),a||u.push({_id:"true",text:l||"True"}),(0,v.jsx)(Ht,{view:n,model:k(k({},t),{},{clearButton:!0,selectAllOnFocus:!0,option:u,limit:1}),value:i,setValue:o})},q=function(e){var t=e.setValue,n=e.model,r=e.value,i=e.path,o=void 0===i?"":i,a=n.itemTrue,l=n.itemFalse,s=n.className;return(0,v.jsx)(Yr,{className:s,onClick:n.noOnClick?void 0:function(){return t(!r)},children:(0,v.jsx)(br,{path:o.replace(n.id,""),items:r?a:l})})},$=function(e){var t=e.value,n=e.model;return n.mandatory&&!t&&(n.text_mandatory||"Field is mandatory")},K=function(e){var t=e.model,n=e.setValue,r=e.value,i=e.view,o=e.render,a=O(Nr({view:i,validate:$,value:r,model:t}),2),l=a[0],s=a[1],c=O((0,m.useState)($l().uuid),1)[0];return"button"===t.render||"button"===o?(0,v.jsx)(_r,{type:r?"primary":"secondary",className:t.className,onClick:function(){s(!0),n(!r)},size:"xs",children:t.text}):(0,v.jsx)(Vr,{id:c,model:t,error:l,children:(0,v.jsx)(Pr,{id:c,className:t.classNameInput,placeholder:t.text,checked:r||!1,onChange:function(){return n(!r)},disabled:t.disabled,type:"checkbox"})})},Y=function(e){var t=e.model;return e.value?(0,v.jsx)(Yr,{className:t.className,children:t.text}):null},G=function(e){u(n,e);var t=h(n);function n(){return a(this,n),t.apply(this,arguments)}return s(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.value!==e.value&&this.vibrate(e)}},{key:"componentDidMount",value:function(){this.vibrate(this.props)}},{key:"vibrate",value:function(e){if(navigator.vibrate){var t=e.model,n=t.atState,r=t.pattern;e.value===n&&navigator.vibrate(r?JSON.parse(r):300)}}},{key:"render",value:function(){return null}}]),n}(m.Component),Q=G,X=function(e){var t=e.model;return e.value?(0,v.jsx)($o,{className:t.className,icon:"check"}):null},J=function e(t){return"object"===typeof t?Object.values(t).map((function(t){return e(t)})).filter((function(e){return e})).length:!!(n=t)&&!(n instanceof Array&&0===n.length);var n},Z=function(e){var t=e.model,n=e.path,r=e.view,i=t.className,o=t.renderAs,a=t.item,l=t.invert,s=t.checkId,c=!J(r.getValue(s));return c&&!l||!c&&l?(0,v.jsx)(Yr,{className:i,renderAs:o,children:(0,v.jsx)(br,{path:n,items:a})}):null},ee={"<":function(e,t){return e<t},">":function(e,t){return e>t},"<=":function(e,t){return e<=t},">=":function(e,t){return e>=t}},te=function(e){var t=e.view,n=e.model,r=e.path;return(0,m.useCallback)((function(){for(var e=n.condition,r=0;r<e.length;r++){var i=O(e[r],2),o=i[0],a=i[1],l=t.getValue(o),s=O(a.match(/([<>=]{1,2})(.+)/im)||[],3),c=s[1],u=s[2];if(ee[c](parseFloat(l),parseFloat(u)))return!0}return!1}),[n,t])()?(0,v.jsx)(Yr,{className:n.className,children:(0,v.jsx)(br,{path:r,items:n.item})}):null},ne=function(e){return!!e&&!(e instanceof Array&&0===e.length)},re=function(e){var t=e.view,n=e.model,r=e.value;return(0,m.useEffect)((function(){var e=function(e){var r=e.id,i=n.setId,o=n.condId,a=n.condVal,l=n.setValue;"false"===l&&(l=!1),"true"===l&&(l=!0),"undefined"===l&&(l=void 0),r===o&&function(e,n){var r=t.getValue(e);if("false"===n)return!ne(r);if("true"===n)return ne(r);var i="!"===n[0];if(i&&(n=n.substring(1)),(n=new RegExp("^".concat(n,"$"),"i")).test(r)){if(!i)return!0}else if(i)return!0}(o,a)&&t.getValue(i)!==l&&t.setValue({path:i,value:l})};return t.on("change",-1e3,e),function(){t.off("change",e)}}),[n,r,t]),null},ie=function(e){u(n,e);var t=h(n);function n(e){var r;a(this,n),(r=t.call(this,e)).model=e.model,r.view=e.view;var i={value:e.value};return i.visible=!!$l().session.user&&r.contains($l().session.user.role,r.model.role),r.state=i,r}return s(n,[{key:"contains",value:function(e,t){"string"===typeof e&&(e=[e]),"string"===typeof t&&(t=[t]);for(var n=0;n<e.length;n++)if(-1!==t.indexOf(e[n]))return!0;return!1}},{key:"render",value:function(){var e=this.props.model.className?this.props.model.className.join(" "):"";return this.state.visible?(0,v.jsx)(Yr,{className:e,children:this.model.item.map(this.props.view.createItem,this)}):null}}]),n}(m.Component),oe=ie,ae=function(e){var t=e.view,n=e.model,i=e.path,a=O((0,m.useState)(!1),2),l=a[0],s=a[1];return(0,m.useEffect)((function(){var e,n=function(){clearTimeout(e),e=setTimeout(o(r().mark((function e(){var n,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.event("validate",{silent:!0});case 2:n=e.sent,i=n.errors,s(!(void 0===i?[]:i).length);case 6:case"end":return e.stop()}}),e)}))),100)};return t.on("change",n),function(){t.off("change",n)}}),[t]),l?(0,v.jsx)(Yr,{className:n.className,children:(0,v.jsx)(br,{path:i,items:n.item})}):null},le=function(e){return!!e&&!(e instanceof Array&&0===e.length)},se=function(e){var t=e.view,n=e.model,r=e.path;return(0,m.useCallback)((function(){for(var e=n.condition,i=0;i<e.length;i++){var o=e[i][0].replace(/^\./i,"".concat(r,".")),a=t.getValue(o),l=e[i][1];if("false"!==l){if("undefined"!==l){if("true"!==l){var s="!"===l[0];if(s&&(l=l.substring(1)),(l=new RegExp(n.notExact?l:"^".concat(l,"$"),"i")).test(a)){if(!s)return!0}else if(s)return!0}else if(le(a))return!0}else if(void 0===a)return!0}else if(!le(a))return!0}return!1}),[n,r,t])()?(0,v.jsx)(Yr,{className:n.className,children:(0,v.jsx)(br,{path:r,items:n.item})}):null},ce=function(e){u(n,e);var t=h(n);function n(e){var r;a(this,n),(r=t.call(this,e)).model=e.model,r.view=e.view;var i={value:r.view.value};return i.value||(i.value={}),i.visible=r.testCondition(i.value),r.view.on("change",r.onChange),r.tempValue={},r.state=i,r}return s(n,[{key:"setValue",value:function(e,t){return this.view.setValue(e,t)}},{key:"onChange",value:function(){this.changeTimer&&clearTimeout(this.changeTimer),this.changeTimer=setTimeout(this.setValueView,0)}},{key:"setValueView",value:function(){if(this.changeTimer=!1,!this.inThis){this.inThis=!0;var e=this.view.value,t=this.testCondition(e);this.setState({value:e,visible:t}),this.inThis=!1}}},{key:"valid",value:function(){var e=!0;if(this.state.visible)for(var t=0;t<this.model.item.length;t++)this.refs["component".concat(t)].valid()||(e=!1);return e}},{key:"visible",value:function(){return this.state.visible}},{key:"testCondition",value:function(e){var t=this.model.condition;if(!t||!t.length)return!1;function n(t){var n=t[0],r=e[n],i=t[1];if("false"===i||!1===i)return!r;if("true"===i||!0===i)return!!r;var o="!"===i[0];if(o&&(i=i.substring(1)),(i=new RegExp("^".concat(i,"$"),"i")).test(r)){if(!o)return!0}else if(o)return!0;return!1}for(var r=!0,i=!1,o=function(e){var t=0;return e=e.split("||"),function(n){"undefined"!==typeof n&&n&&t++;for(var r=0;r<e.length;r++)if(parseInt(e[r],10)===t)return!0;return!1}},a=0;a<t.length;a++)if("||"===t[a][0]){if(i&&(r=i(),i=!1),r)return!0;r=!0}else"<sum>"===t[a][0]?i=o(t[a][1]):i?i(n(t[a])):r=n(t[a])&&r;return i&&(r=i()),r}},{key:"componentWillUnmount",value:function(){this.props.view.off("change",this.onChange)}},{key:"render",value:function(){var e=this.props,t=e.model,n=e.view;return this.state.visible?(0,v.jsx)(Yr,{className:t.className,children:t.item.map(n.createItem,this)}):null}}]),n}(m.Component),ue=ce,de=m.createContext(),fe=function(e){var t=e.children,n=e.onDragEnd,r=$l().addeventhandler();return(0,m.useEffect)((function(){r.on("onDragEnd",n)}),[r,n]),(0,v.jsx)(de.Provider,{value:{event:r,parents:[]},children:t})},pe={boxSizing:"border-box",opacity:null,pointerEvents:"none",position:"fixed",transform:null,transition:"opacity 0.2s cubic-bezier(0.2, 0, 0, 1)",zIndex:4500},he={transform:"translate(0px,0px)",transition:"transform 0.33s cubic-bezier(.2,1,.1,1), opacity 0.33s cubic-bezier(.2,1,.1,1)"},me=function(e){var t=e.droppableId,n=e.type,r=e.children,i=e.isDropDisabled,o=O((0,m.useState)(null),2),a=o[0],l=o[1],s=(0,m.useRef)(),c=(0,m.useRef)();c.current=a;var u=(0,m.useContext)(de),d=u.event,f={droppableProps:{style:a||he},innerRef:s},p=(0,m.useMemo)((function(){return[].concat(L(u.parents),L(u.droppableId?[u.droppableId]:[]))}),[u.droppableId,u.parents]);return(0,m.useEffect)((function(){if(!i){var e,r=parseInt(window.getComputedStyle(s.current).paddingBottom,10),o=function(n){l(null);var r=n.pos,i=r.x,o=r.y;if(!(o<e.top||o>e.bottom||i<e.left||i>e.right)&&!n.destination.parents.includes(t))return k(k({},n),{},{destination:k(k({},n.destination),{},{droppableId:t,parents:p})})},a=function(n){if(s.current){e=s.current.getBoundingClientRect();var r=n.x,i=n.y;if(!(i<e.top||i>e.bottom||r<e.left||r>e.right)&&!n.parents.includes(t))return k(k({},n),{},{over:t,parents:p})}},u=function(e){var n=e.over,i=e.height;s.current&&(n===t?c.current||l(k(k({},he),{},{paddingBottom:r+i})):c.current&&l(null))};return d.on("".concat(n,"Over"),u),d.on("".concat(n,"Move"),a),d.on("".concat(n,"Stop"),100,o),function(){d.off("".concat(n,"Over"),u),d.on("".concat(n,"Move"),a),d.off("".concat(n,"Stop"),o)}}}),[t,d,i,p,n]),(0,v.jsx)(de.Provider,{value:k(k({},u),{},{parents:p,droppableId:t,isDropDisabled:i,type:n}),children:r(f,{isDraggingOver:!!a})})},ve=function(e){var t=e.draggableId,n=e.index,r=e.children,i=e.minHeight,o=void 0===i?0:i,a=O((0,m.useState)(null),2),l=a[0],s=a[1],c=(0,m.useRef)(),u=(0,m.useContext)(de),d=u.event,f=u.droppableId,p=u.isDropDisabled,h=u.type;(0,m.useEffect)((function(){if(!p){var e,n=null,r=null,i=function(i){if(n=null,i.draggableId!==t){var o=c.current.getBoundingClientRect();e=o.top+o.height/2,r=k(k({},he),{},{transform:"translate(0px, ".concat(i.height,"px)")}),s({transform:i.y>e?he:"translate(0px, ".concat(i.height,"px)")}),n=!0}},o=function(t){if(n){var i=c.current.getBoundingClientRect();if(e=i.top+i.height/2,t.y<e&&f===t.over){if(n===r)return;n=r}else{if(n===he)return;n=he}s(n)}};return d.on("".concat(h,"Start"),i),d.on("".concat(h,"Over"),o),function(){d.off("".concat(h,"Start"),i),d.off("".concat(h,"Over"),o)}}}),[f,t,d,p,h]),(0,m.useEffect)((function(){if(!p){var e=function(e){s(null);var t=e.destination,r=c.current.getBoundingClientRect(),i=r.top+r.height/2;if(t.droppableId===f&&!(t.index>n)&&!(e.pos.y<i))return k(k({},e),{},{destination:k(k({},e.destination),{},{index:n+1})})};return d.on("".concat(h,"Stop"),e),function(){d.off("".concat(h,"Stop"),e)}}}),[f,d,n,p,h]);var v=function(e,t){return Object.entries(t).forEach((function(t){var n=O(t,2),r=n[0],i=n[1];e.style[r]=i}))};if(l&&"none"===l.display)return null;var g={draggableProps:{style:l},dragHandleProps:{onMouseDown:function(e){var r=JSON.parse(JSON.stringify(c.current.getBoundingClientRect())),i=k(k({},pe),r);o=parseInt(o,10),i.height=i.height<o?o:i.height;var a={x:e.clientX-i.left,y:e.clientY-i.top,height:i.height,draggableId:t,droppableId:f,index:n,type:h},l=!1,u=c.current.cloneNode(!0),p=function(e){l||(document.body.appendChild(u),v(u,i),u.style.width="".concat(r.width,"px"),d.event("".concat(h,"Start"),a)),l={x:e.clientX-a.x,y:e.clientY-a.y,height:i.height,parents:[]},v(u,{top:"".concat(l.y,"px"),left:"".concat(l.x,"px"),transform:"scale(1.01,1.15)"}),s({display:"none"}),d.event("".concat(h,"Move"),l).then((function(e){return d.event("".concat(h,"Over"),e)}))};window.addEventListener("mouseup",(function e(){window.removeEventListener("mousemove",p),window.removeEventListener("mouseup",e),l&&(document.body.removeChild(u),d.event("".concat(h,"Stop"),{combine:null,destination:{index:0,parents:[]},draggableId:t,mode:"FLUID",reason:"DROP",source:{index:n,droppableId:f},type:h,pos:l}).then((function(e){return d.event("onDragEnd",k(k({},e),{},{pos:void 0}))})),s(null),l=!1)})),window.addEventListener("mousemove",p)},onDragStart:function(e){e.preventDefault()},draggable:!1,role:"button",style:{}},innerRef:c};return r(g,{})},ge=function(){},ye=function(e){var t=e.children,n=(0,m.useRef)({});return(0,m.useEffect)((function(){var e=function(e){var t=e.shiftKey,r=e.metaKey,i=e.ctrlKey,o=e.altKey;n.current={shiftKey:t,metaKey:r,ctrlKey:i,altKey:o}};return document.body.addEventListener("mouseup",e),function(){document.body.removeEventListener("mouseup",e)}}),[]),(0,v.jsx)(fe,{onDragEnd:function(e){$l().event("dragAndDropOnDragEnd",k(k({},n.current),e))},children:t})},be=function(e){var t=e.value,n=e.model,r=e.path,i=O((0,m.useState)($l().uuid()),1)[0];(0,m.useEffect)((function(){if(t){var e=function(e){e.source.droppableId===i&&(e.source.value=JSON.parse(n.setValue),e.source.uuid=i)};return $l().on("dragAndDropOnDragEnd",100,e),function(){$l().off("dragAndDropOnDragEnd",e)}}}),[t,i,n.setValue]);var o=n.item;return(0,v.jsx)(me,{droppableId:i,type:n.valueType,isDropDisabled:!0,children:function(e){return(0,v.jsxs)("div",k(k({},e.droppableProps),{},{ref:e.innerRef,children:[(0,v.jsx)(ve,{draggableId:i,index:0,minHeight:n.minHeight,children:function(e){return(0,v.jsx)("div",k(k(k({ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{style:e.draggableProps.style,children:(0,v.jsx)(br,{path:r,items:o})}))}},i),e.placeholder]}))}})},xe=m.createContext(),we=function(e){var t=e.value,n=void 0===t?[]:t,r=e.model,i=e.path,o=e.view,a=O((0,m.useState)($l().uuid()),1)[0],l=(0,m.useRef)([]),s=function(e){return l.current[e]||(l.current[e]=$l().uuid()),l.current[e]},c=r.valueType,u=r.field;if(u instanceof Array){var d=O(u,1);u=d[0]}u||(u={id:"item"});var f=u.id.substring(u.id.lastIndexOf(".")+1);return i&&(f="".concat(i,".").concat(f)),n=(n=o.getValue(f))||[],(0,m.useEffect)((function(){var e=function(e){var t=o.getValue(f)||[],n=!1;e.ctrlKey||e.source.droppableId!==a||(t.splice(e.source.index,1),l.current.splice(e.source.index,1),n=!0),e.destination&&e.destination.droppableId===a&&(t.splice(e.destination.index,0,e.source.value),l.current.splice(e.destination.index,0,e.source.droppableId===a?e.source.uuid:$l().uuid()),n=!0),n&&o.setValue({path:f,value:t})},t=function(e){if(e.source.droppableId===a){var t=o.getValue(f);e.source.value=t[e.source.index],e.source.uuid=e.ctrlKey?$l().uuid():l.current[e.source.index]}};return $l().on("dragAndDropOnDragEnd",100,t),$l().on("dragAndDropOnDragEnd",e),function(){$l().off("dragAndDropOnDragEnd",t),$l().off("dragAndDropOnDragEnd",e)}}),[a,f,o]),n instanceof Array?(0,v.jsx)(me,{droppableId:a,type:c,children:function(e,t){return(0,v.jsxs)(Yr,k(k({className:[r.className,t.isDraggingOver&&r.hoverClassName]},e.droppableProps),{},{ref:e.innerRef,children:[n.map((function(e,t){return(0,v.jsx)(ve,{draggableId:s(t),index:t,minHeight:r.minHeight,children:function(e){return(0,v.jsx)("div",k(k({ref:e.innerRef},e.draggableProps),{},{style:e.draggableProps.style,children:(0,v.jsx)(xe.Provider,{value:e.dragHandleProps,children:(0,v.jsx)(br,{path:"".concat(i?"".concat(i,"."):"").concat(u.id,".").concat(t),items:r.item})})}))}},s(t))})),e.placeholder]}))}}):null},ke=function(e){var t=e.model,n=e.path,r=t.item,i=t.className,o=void 0===i?[]:i,a=(0,m.useContext)(xe);return(0,v.jsxs)(Yr,k(k({className:o},a),{},{children:[t.icon&&(0,v.jsx)($o,{icon:"arrows-up-down",className:"w-8 h-8 py-2"}),r&&(0,v.jsx)(br,{path:n,items:r})]}))},Ce=function(e){var t=e.Component,n=e.items,r=void 0===n?[]:n,i=e.setValue,o=O((0,m.useState)($l().uuid()),1)[0];return(0,m.useEffect)((function(){if(r.length){var e=function(e){var t=r.map((function(e){return e.id})),n=!1;e.source.droppableId===o&&(t.splice(e.source.index,1),n=!0),e.destination&&e.destination.droppableId===o&&(t.splice(e.destination.index,0,e.draggableId),n=!0),n&&i(t)};return $l().on("dragAndDropOnDragEnd",e),function(){$l().off("dragAndDropOnDragEnd",e)}}}),[r,i,o]),r.length?(0,v.jsx)(me,{droppableId:o,type:r[0].contentType,children:function(e){return(0,v.jsxs)("div",k(k({},e.droppableProps),{},{ref:e.innerRef,children:[r.map((function(e,n){return(0,v.jsx)(ve,{draggableId:e.id,index:n,children:function(n){return(0,v.jsx)("div",k(k(k({ref:n.innerRef},n.draggableProps),n.dragHandleProps),{},{style:n.draggableProps.style,children:(0,v.jsx)(t,k({},e))}))}},e.id)})),e.placeholder]}))}}):null},Se=function(e){var t=e.value,n=e.model,r=e.path,i=O((0,m.useState)($l().uuid()),1)[0];if((0,m.useEffect)((function(){if(t){var e=function(e){e.source.droppableId===i&&(e.source.value=t,e.source.uuid=i)};return $l().on("dragAndDropOnDragEnd",100,e),function(){$l().off("dragAndDropOnDragEnd",e)}}}),[t,i]),!n)return null;var o=n.item;return(0,v.jsx)(me,{droppableId:i,type:n.valueType,isDropDisabled:!0,children:function(e){return(0,v.jsxs)("div",k(k({},e.droppableProps),{},{ref:e.innerRef,children:[(0,v.jsx)(ve,{draggableId:i,index:0,minHeight:n.minHeight,children:function(e){return(0,v.jsx)("div",k(k(k({ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{style:e.draggableProps.style,children:(0,v.jsx)(br,{path:r,items:o})}))}},i),e.placeholder]}))}})},Ne=function(e){var t=e.model,n=e.view,r=O((0,m.useState)($l().uuid()),1)[0],i=(0,m.useContext)(ni).search,o=(0,m.useRef)([]),a=function(e){return o.current[e]||(o.current[e]=$l().uuid()),o.current[e]},l=t.emptyFields,s=t.className,c=void 0===s?[]:s,u=t.valueType,d=(0,m.useMemo)((function(){return i&&i.data||[]}),[i]);if((0,m.useEffect)((function(){var e=function(e){e.destination.droppableId===r&&(e.destination.id=n.id,e.destination.value=d,e.destination.type=u,e.destination.contentType=n.contentType)},t=function(e){e.source.droppableId===r&&(e.source.value=d[e.source.index],e.source.type=u,e.source.contentType=n.contentType,e.source.uuid=e.ctrlKey?$l().uuid():o.current[e.source.index])};return $l().on("dragAndDropOnDragEnd",100,t),$l().on("dragAndDropOnDragEnd",90,e),function(){$l().off("dragAndDropOnDragEnd",t),$l().off("dragAndDropOnDragEnd",e)}}),[r,d,u,n]),0===d.length&&l&&l.length>0)return(0,v.jsx)(Yr,{className:c,children:(0,v.jsx)(br,{items:l})});var f=function(e){var r=["number","string"].includes(typeof e)?e:e._id,i={view:t,contentType:n.contentType,id:r,key:r,noForm:!0,baseView:n,params:n.params,className:t.rowClassName,renderAs:e.renderAs};return(0,v.jsx)(Sr,k({},i))};return(0,v.jsx)(me,{droppableId:r,type:u,children:function(e){return(0,v.jsxs)(Yr,k(k({className:c},e.droppableProps),{},{ref:e.innerRef,children:[d.map((function(e,n){return(0,v.jsx)(ve,{draggableId:a(n),index:n,minHeight:t.minHeight,children:function(t){return(0,v.jsx)(Yr,k(k({ref:t.innerRef},t.draggableProps),{},{style:t.draggableProps.style,children:(0,v.jsx)(xe.Provider,{value:t.dragHandleProps,children:f(e)})}))}},a(n))})),e.placeholder]}))}})},Te=function(e){return(0,v.jsx)(Jt,k({},e))},Le=function(e){var t=e.value,n=e.model;return n.mandatory&&!t?n.text_mandatory:!!t&&(!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,6}$/im.test(t)&&"Incorrect e-mail adress")},Ee=function(e){var t=e.model,n=e.view,r=e.focus,i=e.setValue,o=e.value,a=e.className,l=O(Nr({view:n,validate:Le,value:o,model:t}),2),s=l[0],c=l[1],u=t.disabled,d=t.length,f=t.text,p=t.clearButton,h=t.classNameInput,g=O((0,m.useState)($l().uuid),1)[0],y=[a].concat(L(t.className||[]),["textInput"]);return p&&y.push("flex"),(0,v.jsx)(Vr,{id:g,model:t,error:s,className:y,children:(0,v.jsx)(Pr,{id:g,placeholder:$l().t(f),className:h,value:o||"",maxLength:d,onChange:function(e){return i(e.toLowerCase())},disabled:u,type:"text",focus:r,onBlur:function(){return c(!0)}})})},_e=function(e){var t=e.model,n=e.focus,r=e.setValue,i=e.value,o=e.className,a=t.disabled,l=t.length,s=t.text,c=t.clearButton,u=t.classNameInput,d=O((0,m.useState)($l().uuid),1)[0],f=[o].concat(L(t.className||[]),["textInput"]);return c&&f.push("flex"),(0,v.jsx)(Vr,{id:d,model:t,className:f,children:(0,v.jsx)(Pr,{id:d,placeholder:$l().t(s),className:u,value:i||"",maxLength:l,onChange:function(e){return r(e)},disabled:a,type:"text",focus:n})})},je=function(e){return(0,v.jsx)(rn,k({},e))},Oe=function(e){var t=e.model,n=e.value,r=t.className,i=t.item;return(0,v.jsx)(Yr,{renderAs:"a",href:"mailto:".concat(n),className:r,children:(0,v.jsx)(br,{items:i})})},Me=function(e){return(0,v.jsx)(ln,k({},e))},Ie=function(e){u(n,e);var t=h(n);function n(e){var r;a(this,n),(r=t.call(this,e)).model=e.model;var i={value:e.value};return e.add&&r.model.default&&r.props.setValue(r.model.id,r.model.default),r.errormsg=!r.model.text_mandatory||r.model.text_mandatory,r.validated=!1,r.state=i,r}return s(n,[{key:"handleChange",value:function(){this.validated=!0;var e=this.refs.input.value;this.setState({value:e,error:!(!this.model.mandatory||e)&&this.errormsg}),this.props.setValue(this.model.id,e)}},{key:"valid",value:function(){return this.validated=!0,this.model.mandatory&&!this.state.value?(this.setState({error:this.errormsg}),!1):this.test(this.state.value)?(this.setState({error:"Incorrect e-mail adress"}),!1):(this.state.error&&delete this.state.error,!0)}},{key:"test",value:function(e){return this.validated&&this.model.mandatory&&!e||!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,6}$/im.test(e)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(this.props.value!==e.value){var t=this.validated&&this.model.mandatory&&!e.value;this.setState({value:e.value,error:!!t&&this.errormsg})}}},{key:"componentDidMount",value:function(){this.props.focus&&this.refs.input.focus()}},{key:"render",value:function(){return(0,v.jsx)(Vr,{model:this.model,error:this.state.error,children:(0,v.jsx)("input",{ref:"input",placeholder:$l().t(this.model.text),className:"form-control",value:this.state.value,maxLength:this.model.length,onChange:this.handleChange,type:"text"})})}}]),n}(m.Component),Ae=Ie,Fe=function(e){return(0,v.jsx)(sn,k({},e))};function De(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=T(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}var Pe=function(t){u(r,t);var n=h(r);function r(e){var t;return a(this,r),(t=n.call(this,e)).model=e.model,t.model.add2id||(t.model.add2id=""),t.state={value:e.value||{}},t}return s(r,[{key:"setValue",value:function(e,t){var n=this.state.value;n[this.model.add2id+e]=t,this.props.setValue&&this.props.setValue(this.model.add2id+e,n)}},{key:"valid",value:function(){for(var e=!0,t=0;t<this.model.item.length;t++)this.refs["component".concat(t)].valid()||(e=!1);return e}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.value!==e.value&&this.setState({value:e.value})}},{key:"render",value:function(){var t=this,n=!1;return(0,v.jsxs)("div",{children:[(0,v.jsx)("h3",{children:$l().t(this.model.text)}),(0,v.jsx)("div",{children:this.model.item.map((function(r,i){var o=r.id?t.state.value[t.model.add2id+r.id]:function(){if(!n){if(!t.model.add2id)return t.state.value;n={};var e,r=De(t.state.value);try{for(r.s();!(e=r.n()).done;){var i=e.value,o=new RegExp("^".concat(t.model.add2id),"i");o.test(i)&&(n[i.replace(o,"")]=t.state.value[i])}}catch(a){r.e(a)}finally{r.f()}}return n}();return m.createElement(e["".concat($l().capFirst(r.type),"Input")],{ref:"component".concat(i),model:r,value:o,setValue:t.setValue,validated:t.props.validated,add:t.props.add})}))})]})}}]),r}(m.Component),Ve=Pe,ze=function(e){var t=e.model,n=e.view,r=O(mo(t.saveIdFrom,"float"),2),i=r[0],o=r[1],a=O(mo(t.saveIdTo,"float"),2),l=a[0],s=a[1];ai({view:n,id:t.id,value:i&&">".concat(i)}),ai({view:n,id:t.id,value:l&&"<".concat(l)});var c={clearButton:!0,classNameInput:["w-16"],nolabel:!0,id:"1"},u=k(k({},c),{},{text:"From"}),d=k(k({},c),{},{text:"To"});return(0,v.jsx)(Vr,{model:t,children:(0,v.jsxs)("div",{className:"flex items-center",children:[(0,v.jsx)(Be,{model:u,value:i,setValue:o}),"-",(0,v.jsx)(Be,{model:d,value:l,setValue:s})]})})},Re=function(e){var t=e.value,n=e.model;return n.mandatory&&!t&&n.text_mandatory},Be=function(e){var t=e.model,n=e.view,r=e.focus,i=e.setValue,o=e.value,a=e.className,l=O(Nr({view:n,validate:Re,value:o,model:t}),2),s=l[0],c=l[1],u=t.disabled,d=t.length,f=t.text,p=t.clearButton,h=[a].concat(L(t.className||[]),["textInput"]);p&&h.push("flex");return s&&["textInputDefault"].push("textInputError"),(0,v.jsx)(Vr,{model:k(k({},t),{},{classNameInput:"flex",classNameLabel:" "}),error:s,className:h,children:(0,v.jsx)(Pr,{placeholder:$l().t(f),className:t.classNameInput,value:o||0===o?o:"",maxLength:d,onChange:function(e){var t=e.replace(/[^0-9.-]/gim,"");i(t?parseFloat(t):void 0)},disabled:u,type:"text",focus:t.focus||r,onBlur:function(){return c(!0)},selectAllOnFocus:t.selectAllOnFocus})})},He=function(e){return(0,v.jsx)(rn,k({},e))},We=function(e){return(0,v.jsx)(ln,k({},e))};function Ue(e){var t=e.value,n=e.model;return t&&n&&n.tofixed?(t=parseFloat(t).toFixed(n.tofixed),"sv"===$l().settings.lang?t.replace(".",","):t):t}var qe=function(e){return(0,v.jsx)(sn,k(k({},e),{},{value:Ue(e)}))},$e=function(e){var t=e.model,n=e.view,r=O(mo(t.saveId),2),i=r[0],o=r[1];ai({view:n,id:t.id,value:Boolean(i)});var a=t.hideTrue,l=t.trueText,s=t.hideFalse,c=t.falseText,u=[];return s||u.push({_id:"false",text:c||"False"}),a||u.push({_id:"true",text:l||"True"}),(0,v.jsx)(Ht,{view:n,model:k(k({},t),{},{clearButton:!0,selectAllOnFocus:!0,option:u,limit:1}),value:i,setValue:o})},Ke=function(e){var t=e.view,n=e.model,r=e.path,i=e.value;return!n.hideIfEmpty||i?(0,v.jsx)(Yr,{className:n.className,children:(0,v.jsx)(br,{items:n.item,path:t.getValuePath(r,n.id)})}):null},Ye=function(e){u(n,e);var t=h(n);function n(e){var r;return a(this,n),(r=t.call(this,e)).model=e.model,e.view.searchProp.onUpdate(r.update),r.classNameBase=r.model.className?r.model.className:[],r.updateCounter=0,r}return s(n,[{key:"update",value:function(){if(this.id){var e={},t=this.model.id;e.from=this.props.view.searchProp.filter.get("".concat(this.id,"_from")),"undefined"!==e.from&&e.from[t]?e.from=e.from[t].substring(1):delete e.from,e.to=this.props.view.searchProp.filter.get("".concat(this.id,"_to")),"undefined"!==e.to&&e.to[t]?e.to=e.to[t].substring(1):delete e.to,"undefined"===typeof e.from&&"undefined"===typeof e.to||this.setState(e)}var n=this;this.updateCounter>0&&this.updateCounter--,""===this.state.className||this.updateCounter>0||(this.setState({className:"has-success"}),this.delayTimer=setTimeout((function(){n.isMounted()&&n.setState({className:""})}),1e3))}},{key:"search",value:function(e,t){""===t&&(t=void 0);var n=this;clearTimeout(this.delayTimer);var r={className:"has-warning"};r[e]=t,this.setState(r),this.delayTimer=setTimeout((function(){n.updateCounter++,t&&(t="to"===e?"<".concat(t):">".concat(t)),n.props.view.searchProp.filter.add(n.model.id,t,"".concat(n.id,"_").concat(e))}),200)}},{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){this.props.view.searchProp.offUpdate(this.update),clearTimeout(this.delayTimer)}},{key:"render",value:function(){var e={width:"100px"};return(0,v.jsx)(Vr,{model:this.model,error:this.state.error,children:(0,v.jsxs)("div",{className:"form-inline",children:[(0,v.jsx)(Xe,{style:e,model:{id:"from",placeholder:"From",clearButton:!0},value:this.state.from,setValue:this.search})," - ",(0,v.jsx)(Xe,{style:e,model:{id:"to",placeholder:"To",clearButton:!0},value:this.state.to,setValue:this.search})]})})}}]),n}(m.Component),Ge=Ye,Qe=function(e){var t=e.value,n=e.model;return n.mandatory&&!t&&n.text_mandatory},Xe=function(e){var t=e.model,n=e.view,r=e.focus,i=e.setValue,o=e.value,a=e.className,l=O(Nr({view:n,validate:Qe,value:o,model:t}),2),s=l[0],c=l[1],u=t.disabled,d=t.length,f=t.text,p=t.clearButton,h=O((0,m.useState)($l().uuid),1)[0],g=[a].concat(L(t.className||[]),["textInput"]);p&&g.push("flex");return s&&["textInputDefault"].push("textInputError"),(0,v.jsx)(Vr,{id:h,model:k(k({},t),{},{classNameInput:"flex",classNameLabel:" "}),error:s,className:g,children:(0,v.jsx)(Pr,{id:h,placeholder:$l().t(f),className:t.classNameInput,value:o||0===o?o:"",maxLength:d,onChange:function(e){var t=e.replace(/[^0-9-]/gim,"");i("-"===t?t:t?parseInt(t,10):void 0)},disabled:u,type:"text",focus:t.focus||r,onBlur:function(){return c(!0)},selectAllOnFocus:t.selectAllOnFocus})})},Je=function(e){return(0,v.jsx)(rn,k({},e))},Ze=function(e){return(0,v.jsx)(ln,k({},e))},et=["value"],tt=function(e){var t=e.value,n=F(e,et);return(0,v.jsx)(sn,k(k({},n),{},{value:0===t?"0":t}))},nt=function(e){var t=e.value,n=e.model,r=e.setValue,i=n.limit,o=void 0===i?0:i,a=n.rowLabel;t=t||[],(!o||t.length<o)&&(t=[].concat(L(t),[[]]));var l=function(e,i,o){var a=t[i][o]?t[i][o]:"";return(0,v.jsx)("td",{children:(0,v.jsx)(Pr,{placeholder:e,className:"form-control",value:a,maxLength:n.length,onChange:function(e){return function(e,n,i){var o=t.length,a=t.slice(0,e===o-1?o:o-1);a[e][n]=i,a[o-2]&&!a[o-2][0]?r(a.slice(0,o-2)):r(a)}(i,o,e)},type:"text"})},o)};return(0,v.jsx)(Vr,{model:n,children:(0,v.jsxs)("table",{children:[(0,v.jsx)("thead",{children:(0,v.jsx)("tr",{children:a.map((function(e,t){return(0,v.jsx)("th",{children:e},t)}))})}),(0,v.jsx)("tbody",{children:t.map((function(e,t){return(0,v.jsx)("tr",{children:n.rowLabel.map((function(e,n){return l(e,t,n)}))},t)}))})]})})},rt=function(e){u(n,e);var t=h(n);function n(e){var r;a(this,n),r=t.call(this,e);var i=e.value||[];return i instanceof Array||(i=[i]),i.length>e.limit?r.state={value:i.concat([])}:r.state={value:i.concat([""])},r}return s(n,[{key:"handleChange",value:function(){for(var e=[],t=0;t<this.state.value.length;t++){var n=this.refs["input".concat(t)].value;n&&e.push(n)}this.props.setValue&&this.props.setValue(e),this.setState({value:e.length>this.props.limit?e.concat([""]):e.concat([])})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(this.props.value!==e.value){var t=e.value;"string"===typeof e.value&&(t=[e.value]),this.setState({value:t.concat([""])})}}},{key:"render",value:function(){var e=this;return(0,v.jsxs)("div",{children:[(0,v.jsx)("div",{className:"col-sm-3",children:this.state.value.map((function(t,n){return(0,v.jsx)("input",{ref:"inputKey".concat(n),className:"form-control",value:t,onChange:e.handleKeyChange,type:"text"})}))}),(0,v.jsx)("div",{className:"col-sm-3",children:this.state.value.map((function(t,n){return(0,v.jsx)("input",{ref:"inputValue".concat(n),className:"form-control",value:t,onChange:e.handleChange,type:"text"})}))})]})}}]),n}(m.Component),it=rt,ot=function(e){var t=e.model,n=e.view,r=e.setValue,i=e.value,o=e.path;i=i||[];var a=t.action;return(0,v.jsx)(_r,{renderAs:"button",className:[t.className,"rounded"],type:t.btnType,onClick:"Add"===a?function(){return r([].concat(L(i),[{}]))}:function(){var e=o.split("."),t=e.slice(0,e.length-1).join(".");console.log({valPath:t,parts:e},n.getValue(t));var r=L(n.getValue(t));r.splice(e[e.length-1],1),n.setValue({path:t,value:r})},size:t.btnSize,title:a,children:t.buttonText?$l().t(t.buttonText):(0,v.jsx)($o,{className:["h-4 w-4 ","Add"===a&&"rotate-45 transform"],icon:"xmark",title:a})})},at=function(e){var t=e.model,n=e.value,r=void 0===n?[]:n,i=e.path,o=e.view,a=e.setValue,l=(0,m.useRef)(),s=O((0,m.useState)(!1),2),c=s[0],u=s[1];return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("textarea",{className:"bg-black",ref:l,style:{display:"none",position:"absolute"},readOnly:!0}),(0,v.jsx)(_r,{renderAs:"button",className:[].concat(L(t.className||[]),[c?"copyItemBounce":""]),type:t.btnType,onClick:"paste"===t.direction?function(){navigator.clipboard.readText().then((function(e){var t=JSON.parse(e);if(/\.[0-9]+$/im.test(i)){var n=i.split("."),l=n.slice(0,n.length-1).join("."),s=L(o.getValue(l));try{s.splice(n[n.length-1],0,t),o.setValue({path:l,value:s})}catch(c){}}else a(t instanceof Array?[].concat(L(t),L(r)):[t].concat(L(r)))})),u(!0),setTimeout((function(){u(!1)}),200)}:function(){var e=l.current;e.value=JSON.stringify(r,null,"  "),e.style.display="block",e.select();try{console.log("copy text"),document.execCommand("copy"),e.blur(),e.style.display="none"}catch(t){console.log("please press Ctrl/Cmd+C to copy")}u(!0),setTimeout((function(){u(!1)}),200)},size:t.btnSize,title:t.direction,children:["copy","paste"].includes(t.text)?(0,v.jsx)($o,{className:"h-4 w-4",icon:t.text,alt:t.text}):$l().t(t.text)})]})},lt={type:"bootstrap",format:"panel",stateStore:"byUrl",item:[{type:"dragAndDrop",format:"list",field:[{type:"multigroup",id:"testmultigroup"}],valueType:"multigroup",item:[{type:"bootstrap",format:"panel",stateStore:"byUrl",item:"item",header:[{type:"bootstrap",item:[{type:"dragAndDrop",format:"handle",icon:!0},{type:"bootstrap",format:"panelToggle",icon:!0,className:["flex-grow","flex","items-center"],item:[{type:"text",id:"testmultigroup._id",format:"view",fallback:"Id"}]},{type:"multigroup",id:"testmultigroup",format:"copyItem",direction:"copy",btnSize:"xs",btnType:"info",text:"copy",className:["mr-1"]},{type:"multigroup",id:"testmultigroup",format:"addRemove",text:"",action:"Remove",btnSize:"xs",btnType:"danger"},{type:"multigroup",id:"testmultigroup",format:"panelOpenByValue",invert:!0,condition:[],keyCount:0}],className:["flex","items-center"]}],expanded:!1}],className:["pt-2","min-h-2-5","px-2","py-1"],hoverClassName:["drop-background","select-none"]}],header:[{type:"bootstrap",item:[{type:"bootstrap",format:"panelToggle",icon:!0,item:[{type:"viewText",text:"{name}",format:"view"}],className:["flex-grow","flex","items-center"]},{type:"multigroup",id:"testmultigroup",format:"copyItem",direction:"paste",btnSize:"xs",btnType:"info",text:"paste",className:["mr-1"]},{type:"multigroup",id:"testmultigroup",format:"addRemove",text:"",btnSize:"xs",btnType:"primary",action:"Add"}],className:["flex","items-center","py-2"]}],expanded:!0,typeClass:"defaultWithoutPadding"},st=function e(t,n){return t instanceof Array?t.map((function(t){return e(t,n)})):("object"===typeof t&&(t=n(t),Object.entries(t).forEach((function(r){var i=O(r,2),o=i[0],a=i[1];t[o]=e(a,n)}))),t)},ct=function(e){var t=e.model,n=e.path,r=st(lt,(function(e){return e.id&&e.id.startsWith("testmultigroup")?"testmultigroup._id"===e.id?t.header?{type:"style",item:t.header}:k(k({},e),{},{id:"".concat(t.idField||"_id")}):k(k({},e),{},{id:e.id.replace("testmultigroup",t.id)}):"item"===e.item?k(k({},e),{},{item:t.item.map((function(e){return k(k({},e),{},{id:e.id&&e.id.includes(".")?e.id:"".concat(t.id,".").concat(e.id)})}))}):"{name}"===e.text?k(k({},e),{},{text:t.text}):k({},e)}));return(0,v.jsx)(br,{path:n,items:[r]})},ut=function(e){var t=e.model,n=e.view,r=e.path,i=(0,m.useContext)(z),o=i.toggleExpand,a=i.expanded;return(0,m.useEffect)((function(){var e=n.getValue(r);if(t.keyCount||0===t.keyCount){if(!n.getValue(r))return;var i=Object.keys(n.getValue(r)).length>t.keyCount;t.invert&&(i=!i),i&&!a&&o(i)}else{var l=O(t.condition,1),s=O(l[0],2),c=s[0],u=s[1],d=e[c]===u;"false"===u?d=!u:"true"===u&&(d=!!u),t.invert&&(d=!d),d&&!a&&o(d)}}),[t]),null},dt=function(e,t){return e.id.replace(new RegExp("^".concat(t.id,"."),"i"),"")},ft=function(e){var t=e.value,n=e.view,r=e.model,i=e.path,o=r.className,a=r.rowClassName;return t=t||[],r.limit&&(t=t.slice(0,r.limit)),(0,v.jsx)(Yr,{className:o,children:t.map((function(e,t){return(0,v.jsx)(Yr,{className:a,children:(0,v.jsx)(br,{path:"".concat(n.getValuePath(i,r.id),".").concat(t),items:$l().replaceInModel({model:r,viewFormat:n.viewFormat,fn:function(e){var t=e.model;return t.id&&0===t.id.indexOf(r.id)?k(k({},t),{},{id:dt(t,r)}):t}}).item})},t)}))})},pt=function(e){var t=e.model,n=e.value,r=t.className,i=t.renderAs;return(0,v.jsx)(Yr,{className:r,renderAs:i,children:n?n.length:t.fallback})},ht=function(e){return(0,v.jsx)(Jt,k({},e))},mt=function(e){var t=e.value,n=e.model,r=e.path;if(!t)return null;var i=n.limit,o=n.item,a=n.className;return t=t instanceof Array?t:[t],i&&(t=t.slice(0,i)),(0,v.jsx)(Yr,{children:t.map((function(e,t){return(0,v.jsx)(Yr,{className:a,children:(0,v.jsx)("a",{href:"http://".concat(e),rel:"noopener noreferrer",target:"_blank",children:(0,v.jsx)(br,{path:r,items:o})})},t)}))})},vt=function(e){var t=e.value,n=e.model;return n.mandatory&&!t&&!t.length&&(n.text_mandatory||"Field is mandatory")},gt=function(e){var t=e.model,n=e.value,r=e.setValue,i=e.view,o=O(Nr({view:i,validate:vt,value:n,model:t}),2),a=o[0],l=o[1];(n=(n=n instanceof Array?n:n?[n]:[]).filter((function(e){return""!==e}))).push("");var s=function(e,t){n[t]=e,l(!0),r(n)};return(0,v.jsx)(Vr,{model:t,error:a,children:n.map((function(e,t){return(0,v.jsx)("div",{children:(0,v.jsx)(Pr,{className:"textInputDefault",value:e,onChange:function(e){return s(e,t)}})},t)}))})},yt=function(e){u(n,e);var t=h(n);function n(e){var r;a(this,n),r=t.call(this,e);var i=e.value||[];return i instanceof Array||(i=[i]),e.limit&&i.length>e.limit?p(r,{value:i.concat([])}):p(r,{value:i.concat([""])})}return s(n,[{key:"handleChange",value:function(){for(var e=[],t=0;t<this.state.value.length;t++){var n=this.refs["input".concat(t)].value;n&&e.push(n)}this.props.setValue&&this.props.setValue(e),e.length>this.props.limit?this.setState({value:e.concat([])}):this.setState({value:e.concat([""])})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(this.props.value!==e.value){var t=e.value;"string"===typeof e.value&&(t=[e.value]),this.props.limit&&t.length>this.props.limit?this.setState({value:t.concat([])}):this.setState({value:t.concat([""])})}}},{key:"componentDidMount",value:function(){this.props.focus&&this.refs["input".concat(this.state.value.length-1)].focus()}},{key:"render",value:function(){var e=this;return(0,v.jsx)("div",{children:this.state.value.map((function(t,n){return(0,v.jsx)("input",{ref:"input".concat(n),className:"form-control",value:t,onChange:e.handleChange,type:"text"},"input".concat(n))}))})}}]),n}(m.Component),bt=yt,xt=function(e){var t=e.value,n=e.model,r=e.path;return(0,v.jsx)(Yr,{renderAs:"a",className:n.className,href:"http://".concat(t),rel:"noopener noreferrer",target:"_blank",children:(0,v.jsx)(br,{path:r,items:n.item})})},wt=function(e){var t=e.model,n=e.value;return(0,v.jsx)(Yr,{className:t.className,renderAs:t.renderAs,translate:t.translate,children:n||t.fallback})},kt=function(e){u(n,e);var t=h(n);function n(){return a(this,n),t.apply(this,arguments)}return s(n,[{key:"render",value:function(){var e=this.props.value,t=function(t,n){var r=e.length!==n+1?", ":"";return(0,v.jsxs)("span",{children:[(0,v.jsx)("a",{href:"http://".concat(t),rel:"noopener noreferrer",target:"_blank",children:t}),r]},n)};if(!e)return null;e instanceof Array||(e=[e]);var n=this.props.model,r=n.className&&!this.props.wrapper?n.className.join(" "):"";return e.length>2?(0,v.jsx)("div",{className:r.replace("btn",""),children:e.map(t)}):(0,v.jsx)("div",{className:r,children:e.map(t)})}}]),n}(m.Component),Ct=kt,St=function(e){var t=e.value,n=e.path,r=e.model,i=e.view;if(!t)return null;t=t instanceof Array?t:[t];var o=r.className,a=r.id;return(0,v.jsx)(Yr,{className:o,children:t.map((function(e,t){return(0,v.jsx)(br,{path:"".concat(n?"".concat(n,"."):"").concat(a,".").concat(t),items:$l().replaceInModel({model:r,viewFormat:i.viewFormat,fn:function(e){var t=e.model;return t.id&&t.id.startsWith(a)?k(k({},t),{},{id:void 0}):t}}).item},t)}))})},Nt=function(e){var t=e.model,n=e.view,i=e.path,a=O((0,m.useState)(),2),l=a[0],s=a[1];if((0,m.useEffect)((function(){var e=function(){var e=o(r().mark((function e(){var o,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$l().database[t.source].search({filter:$l().parseFilter(t.filter,n.getValue,i),count:2e3});case 2:o=e.sent,a=o.data,s(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=setTimeout(e,100);return function(){clearTimeout(a)}}),[t.filter,t.source,i,n.getValue]),!l||0===l.length)return null;var c=$l().clone(t);return delete c.source,delete c.mandatory,c.option=l.map((function(e){return k(k({},e),{},{text:e[t.textField||"name"]})})),(0,v.jsx)(zt,{model:c,view:n})},Tt=function(e){var t=e.model,n=e.view,r=e.path,i=O(mo(t.saveId,"array"),2),o=i[0],a=i[1];return ai({view:n,id:t.id,value:o,exact:!0}),(0,v.jsx)(Mt,{model:k(k({},t),{},{mandatory:!1,exposed:!0}),setValue:a,view:n,value:o,path:r})},Lt=function(e){var t=e.model,n=e.view,r=e.value,i=void 0===r?[]:r;i=i instanceof Array?i[0]:i;var o=t.renderFormat,a=t.className,l=t.source,s=t.itemClassName;if(!i)return null;var c=function(e){return(0,v.jsx)(Sr,{contentType:l,baseView:n,format:o||"view",id:e,params:n.params,className:s,onReference:function(e){return n.event(e.event,k(k({},e),{},{model:t}))}},e)};return t.wrapper?(0,v.jsx)(Vr,{model:t,children:c(i)}):(0,v.jsx)(Yr,{className:a,children:c(i)})},Et=function(e){var t=e.value,n=e.model;return n.mandatory&&(!t||t instanceof Array&&!t[0])&&(n.text_mandatory||"Field is mandatory")},_t=["focus","onBlur","onFocus"],jt=function(e){var t=e.focus,n=e.onBlur,r=e.onFocus,i=F(e,_t),o=(0,m.useRef)(null),a=O((0,m.useState)(!1),2),l=a[0],s=a[1];(0,m.useEffect)((function(){t&&!l&&o.current.focus()}),[t,l,n]);var c=i.className;return c=c instanceof Array?c.join(" "):c,(0,v.jsx)(Pr,k(k({ref:o},i),{},{className:c||"w-full",onChange:i.onChange,onFocus:function(){s(!0),r&&r()},onBlur:function(){s(!1),n()}}))},Ot=function(e){var t=e.model,n=e.view,r=e.path,i=O((0,m.useState)(!1),2),o=i[0],a=i[1];return t.inlineAdd?o?(0,v.jsx)(Fn,{model:{contentType:t.source,view:t.inlineAdd,className:t.classNameInput},onSave:function(e){var i=e._id;n.event("referenceAdd",{model:t,path:r,value:{_id:i},close:!0}),a(!1)}}):(0,v.jsx)(_r,{onClick:function(){return a(!0)},size:"sm",className:"float-right mb-1",children:"Create new"}):null},Mt=function(e){var t=e.model,n=e.view,r=e.value,i=void 0===r?[]:r,o=e.setValue,a=e.path,l=t.exposed,s=O((0,m.useState)(!1),2),c=s[0],u=s[1],d=O((0,m.useState)(""),2),f=d[0],p=d[1],h=O(Nr({view:n,validate:Et,value:i,model:t}),1)[0];i||(i=[]),i=i instanceof Array?i:[i],(0,m.useEffect)((function(){var e=t.id,r=l?{add:"exposedReferenceAdd",remove:"exposedReferenceRemove"}:{add:"referenceAdd",remove:"referenceRemove"},s=function(t){var n=t.model,r=t.value,l=t.close,s=t.path;if(a===s&&e===n.id){var c=[].concat(L(i),[r._id]);o(1===n.limit?c[0]:c);var d=!n.limit||c.length<n.limit;l||u(d),p("")}},c=function(t){var n=t.model,r=t.value,l=t.path;if(a===l&&e===n.id){var s=i.filter((function(e){return"".concat(e)!=="".concat(r._id)}));o(s.length?s:void 0),u(!0)}};return n.on(r.add,s),n.on(r.remove,c),function(){n.off(r.add,s),n.off(r.remove,c)}}),[n,o,i,u,t.id,t.limit,a,l]);var g=!1,y=!t.limit||i.length<t.limit||null;return(0,v.jsxs)(Vr,{model:k(k({},t),{},{classNameInput:"relative flex-grow"}),error:h,children:[i.length?(0,v.jsx)(Yr,{className:"w-full max-w-sm px-1 pb-2 pt-1",children:(0,v.jsx)(Ft,{model:t,view:n,value:i,setValue:o,path:a})}):null,y&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(Ot,{model:t,view:n,path:a}),(0,v.jsx)(jt,{onFocus:function(){return u(!0)},onBlur:function(){g||u(!1)},onChange:function(e){return p(e)},value:f,placeholder:"Search and add existing",focus:c})]}),y&&c&&(0,v.jsx)(Yr,{className:"max-h-400 absolute z-10 w-full overflow-y-auto border border-gray-500 shadow-md sm:w-1/2",onMouseDown:function(){g=!0,u(!0),setTimeout((function(){g=!1}),500)},children:(0,v.jsx)(Sr,{contentType:t.source,baseView:n,format:t.renderFormatSelect,onReference:function(e){return n.event(e.event,k(k({},e),{},{model:t,path:a}))},value:{exclude:i,searchVal:f}})})]})},It=function(e){return(0,v.jsx)(an,k({},e))},At=function(e){var t=e.model,n=e.setValue,r=e.value,i=e.view,o=e.path,a=O((0,m.useState)([]),2),l=a[0],s=a[1];return(0,m.useEffect)((function(){var e=function e(n){if(n.connected){var r=t.namefield?t.namefield:"name";$l().database[t.source].search({filter:$l().parseFilter(t.filter,i.getValue,o),count:100}).then((function(t){var n=t.data;$l().connection.on("connection",e),s(n?n.map((function(e){return{_id:e._id,text:e[r]}})):[])}))}};return e({connected:!0}),function(){$l().connection.off("connection",e)}}),[t,o,i]),r||(r=[]),r instanceof Array||(r=[r]),(0,v.jsx)(Ht,{view:i,model:k(k({},t),{},{option:l}),setValue:n,value:r})},Ft=function(e){var t=e.model,n=e.view,r=e.value,i=void 0===r?[]:r,o=e.setValue,a=e.path;i=i instanceof Array?i:[i];var l=t.renderFormat,s=t.className,c=t.source,u=t.itemClassName,d=function(e){return{key:e,noForm:!0,contentType:c,baseView:n,format:l||"view",id:e,params:n.params,className:u,onReference:function(e){return n.event(e.event,k(k({},e),{},{model:t,path:a}))}}};return t.wrapper?(0,v.jsx)(Vr,{model:t,children:(0,v.jsx)(Ce,{Component:Sr,items:i.map(d),setValue:o})}):(0,v.jsx)(Yr,{className:s,children:(0,v.jsx)(Ce,{Component:Sr,items:i.map(d),setValue:o})})},Dt=function(e){return(0,v.jsx)(ln,k({},e))},Pt=function(e){var t=e.model,n=e.view,r=e.value,i=void 0===r?[]:r,o=e.path;i=i instanceof Array?i:[i];var a=t.renderFormat,l=t.className,s=t.source,c=t.itemClassName,u=function(e){return(0,v.jsx)(Sr,{contentType:s,baseView:n,format:a||"view",id:e,params:n.params,className:c,onReference:function(e){return n.event(e.event,k(k({},e),{},{model:t,path:o}))}},e)};return t.wrapper?(0,v.jsx)(Vr,{model:t,children:i.map(u)}):(0,v.jsx)(Yr,{className:l,children:i.map(u)})},Vt=function(e){var t=e.model,n=e.setValue,r=e.value,i=t.trueState,o=t.trueOnState,a=t.falseState,l=t.btnType,s=t.falseOnState,c=function(){return n(o.indexOf(r)?i:a)},u="",d=!1;return-1!==o.indexOf(r)?(u=t.text,d=l):-1!==s.indexOf(r)&&(u=t.falseText,d=t.falseBtnType),l?(0,v.jsx)(_r,{type:d,className:t.className,onClick:c,children:u||"..."}):(0,v.jsx)(Yr,{className:t.className,onClick:c,children:u||"..."})},zt=function(e){var t=e.model,n=e.view,r=O(mo(t.saveId),2),i=r[0],o=r[1],a=i||"false"!==t.fallback&&(t.fallback||void 0);return ai({view:n,id:t.id,value:a,exact:t.exact}),(0,m.useEffect)((function(){i&&!t.option.map((function(e){return e._id})).includes(i)&&o(!1)}),[t.option,o,i]),(0,v.jsx)(Ht,{model:k(k({},t),{},{clearButton:!0,selectAllOnFocus:!0}),value:a,setValue:o})},Rt=function(e){var t=e.value,n=e.model;return(t=t||[])instanceof Array||(t=[t]),n.mandatory&&!t.length&&(n.text_mandatory||"Field is mandatory")},Bt={dropdown:function(e){var t=e.option,n=e.handleChange,r=e.value,i=e.placeholder,o=e.model;return(0,v.jsxs)(Kt,{className:o.classNameInput||"w-full rounded border p-2",onChange:function(e){return n(e.target.value)},value:r[0],children:[(0,v.jsx)("option",{value:"",children:o.dropdownText||i||" - choose - "},"_empty"),t.map((function(e){var t=e.text,n=e._id;return(0,v.jsx)("option",{value:n||"___",children:$l().t(t)},n||"___")}))]})},button:function(e){var t=e.option,n=e.handleChange,r=e.value,i=e.model;return(0,v.jsx)(Yr,{className:i.classNameInput,children:t.map((function(e){var t=e.text,o=e._id;return(0,v.jsx)(_r,{onClick:function(){return n(o)},className:[i.classNameItem,"my-1 mr-2"],type:-1!==r.indexOf(o)?"primary":"secondary",size:"xs",children:$l().t(t)},o)}))})},checkbox:function(e){var t=e.model,n=e.option,r=e.handleChange,i=e.value,o=e.limit,a=e.inline,l=(0,m.useRef)();return(0,m.useEffect)((function(){l.current&&t.focus&&l.current.focus()}),[t.focus,n.length]),(0,v.jsx)(Yr,{className:a&&"flex flex-wrap items-center",children:n.map((function(e,t){var n=e.text,a=e._id;return(0,v.jsx)(Yr,{className:["px-2","my-1"],children:(0,v.jsxs)("label",{children:[(0,v.jsx)("input",{ref:0===t?l:void 0,onChange:function(){return r(a)},type:1===o?"radio":"checkbox",checked:-1!==i.indexOf(a)&&"checked",className:"mr-2 p-1"}),$l().t(n)]})},a)}))})}},Ht=function(e){var t=e.model,n=e.value,r=e.view,i=e.setValue,o=O((0,m.useState)($l().uuid),1)[0],a=O(Nr({view:r,validate:Rt,value:n,model:t}),2),l=a[0],s=a[1];(0,m.useEffect)((function(){r&&!r.value._id&&!n.length&&t.default&&setTimeout((function(){i(t.default)}),0)}),[r,n,t,i]);var c=t.placeholder,u=t.inline,d=t.render,f="dropdown"===d?1:parseInt(t.limit,10);n||(n=[]),n instanceof Array||(n=[n]);var p=(0,m.useMemo)((function(){return function(e){var t=e.option,n=e.optionObj;return t?t.map((function(e){return"string"===typeof e||"number"===typeof e?{_id:e,text:e}:e})):n||[]}(t)}),[t]),h=function(e){var t=n instanceof Array?L(n):n;""===e&&(e=void 0),-1!==t.indexOf(e)?t.splice(t.indexOf(e),1):t.push(e),f&&f<t.length&&t.shift(),i(1===f?t[0]:t),s(!0)};(0,m.useEffect)((function(){0===n.length&&t.default&&h(t.default)}),[]);var g=Bt[d||"checkbox"];return(0,v.jsx)(Vr,{id:o,model:t,error:l,children:(0,v.jsx)(g,{option:p,handleChange:h,value:n,limit:f,inline:u,placeholder:c,model:t,id:o})})},Wt=function(e){return(0,v.jsx)(an,k({},e))},Ut=function(e){return(0,v.jsx)(ln,k({},e))},qt=function(e){var t=e.model,n=e.value,r=t.className,i=t.renderAs,o=t.option,a=n||t.fallback;return a=o.map((function(e){return"string"===typeof e?{_id:e,text:e}:e})).find((function(e){var t=e._id;return n===t}))||{},(0,v.jsx)(Yr,{renderAs:i,className:r,children:$l().t(a.text)})},$t=["className"],Kt=function(e){var t=e.className,n=F(e,$t);return(0,v.jsx)(Yr,k({renderAs:"select",className:t},n))},Yt=function(e){var t=e.model,n=e.setValue,r=e.value,i=O((0,m.useState)($l().uuid),1)[0],o=t.absolute?r:(r-t.min)/t.max*100,a=t.precision?parseFloat(o).toFixed(t.precision):parseInt(o,10);return(0,v.jsxs)(Vr,{id:i,model:t,className:t.className,children:[(0,v.jsx)(Pr,{id:i,placeholder:$l().t(t.text),className:"w-full",value:parseInt(10*r,10)||0,onChange:function(e){return n(e/10)},type:"range",min:10*t.min,max:10*t.max}),(0,v.jsx)(Yr,{className:t.textClass,children:"(".concat(a||0,"%)")})]})},Gt=function(e){return(0,v.jsx)(rn,k({},e))},Qt=["value"],Xt=function(e){var t=e.value,n=F(e,Qt),r=n.model.precision;return t=0==r?parseInt(t,10):t.toFixed(r),(0,v.jsx)(sn,k({value:t},n))},Jt=function(e){var t=e.model,n=e.view,r=O((0,m.useState)(""),2),i=r[0],o=r[1],a=O(mo(t.saveId),3),l=a[0],s=a[1],c=a[2];return ai({view:n,id:t.id,value:l,exact:t.exact||void 0}),(0,m.useEffect)((function(){if(l){o("border-orange-300 outline-none");var e=setTimeout((function(){o("border-green-500 outline-none"),e=setTimeout((function(){e=!1,o("")}),500)}),200);return function(){e&&clearTimeout(e)}}o("")}),[l]),(0,v.jsx)(nn,{ref:c,model:k(k({},t),{},{mandatory:!1,clearButton:!t.noClearButton,classNameInput:[!t.noWrapper&&"w-full",i,t.classNameInput],selectAllOnFocus:!0}),value:l,setValue:s})},Zt=function(e){var t=e.value,n=e.model;return n.mandatory&&!t&&(n.text_mandatory||"Field is mandatory")},en=function(e){var t=e.value,n=e.setValue;return t?(0,v.jsx)($o,{onClick:function(){return n("")},className:"w-8 h-8 p-2 relative right-8 cursor-pointer",icon:"xmark","aria-hidden":"true"}):null},tn=function(e,t){var n=e.model,r=e.view,i=e.focus,o=e.setValue,a=e.value,l=O(Nr({view:r,validate:Zt,value:a,model:n}),2),s=l[0],c=l[1],u=n.disabled,d=n.length,f=n.text,p=n.clearButton,h=n.classNameInput,g=void 0===h?[]:h,y=n.removeChars,b=void 0===y?"":y,x=O((0,m.useState)($l().uuid),1)[0];return(0,v.jsxs)(Vr,{id:x,model:k(k({},n),{},{classNameInput:"relative flex w-full"}),error:s,children:[(0,v.jsx)(Pr,{id:x,ref:t,placeholder:n.placeholder||$l().t(f),className:g,value:a||"",maxLength:d,onChange:function(e){o(b?e.replace(new RegExp("[".concat(b,"]"),"g"),""):e)},disabled:u,type:"text",focus:n.focus||i,onBlur:function(){return c(!0)},selectAllOnFocus:n.selectAllOnFocus}),p?(0,v.jsx)(en,{value:a,setValue:o}):null]})},nn=m.forwardRef(tn),rn=function(e){var t=e.model,n=e.view,r=e.value,i=n.value?"/".concat(n.value._id):"",o=t.toFormat||"input";return t.renderAs?(0,v.jsx)(Yr,{renderAs:t.renderAs,className:t.className,children:(0,v.jsx)($i,{to:"".concat(t.addToPath||"","/").concat(n.contentType,"/").concat(o).concat(i),children:r||t.fallback})}):(0,v.jsx)($i,{renderAs:t.renderAs,className:t.className,to:"".concat(t.addToPath||"","/").concat(n.contentType,"/").concat(o).concat(i),children:r||t.fallback})},on={reference:function(e){return e},text:function(e){return e},select:function(e){return e.includes(",")?e.split(","):e},int:function(e){return parseInt(e||0,10)},float:function(e){return parseFloat(e)},array:function(e){return""===e?void 0:e}},an=function(e){var t=e.model,n=e.setValue,r=e.value,i=t.saveId,o=t.type,a=t.push,l=O((0,m.useState)(!1),2),s=l[0],c=l[1],u=xo().search,d=(0,m.useCallback)((function(e){if(!i)return"";var t="\\&".concat(i,"=([^\\s&]+)"),n=O(e.match(new RegExp(t,"im"))||[],2)[1],r=void 0===n?"":n;return o?on[o](r):r}),[i,o]),f=function(e){if(i){var t=window.location,n=t.pathname,r=t.search,o="(^\\?)|(\\&".concat(i,"=[^\\s&]*)"),l=r.replace(new RegExp(o,"gi"),""),s=e?"&".concat(i,"=").concat(e):"";setTimeout((function(){window.history[a?"push":"replace"]("".concat(n,"?").concat(l).concat(s))}),0)}},p=d(u);return r=r||"",s&&(r instanceof Array?(r.sort(),""!==p&&(p instanceof Array||(p=[p]),p.sort(),p.length||(p="")),r.length||(r=""),JSON.stringify(r)!==JSON.stringify(p)&&f(r)):r!==p&&f(r)),(0,m.useEffect)((function(){r||setTimeout((function(){p&&n(p),c(!0)}),10)}),[]),null},ln=function(e){var t=e.model,n=e.view,r=(0,m.useContext)(ni).search,i=t.id,o=t.text,a=t.className,l=r.sortby,s=r.reverse,c=O((0,m.useState)(!1),2),u=c[0],d=c[1],f=l instanceof Array?l[0]:l,p=s instanceof Array?s[0]:s;return(0,m.useEffect)((function(){if(u)return function(){n.off("setSearch",u),d(!1)}}),[u,n]),(0,v.jsxs)(Yr,{className:[a,"flex items-center"],renderAs:"a",href:i,onClick:function(e){e&&e.preventDefault();var t=f===i&&!s,r=function(e){return k(k({},e),{},{reverse:t,sortby:i})};d(r),n.on("setSearch",200,r),n.event("setSearch")},children:[(0,v.jsx)(Yr,{renderAs:"span",children:"".concat($l().t(o)," ")}),f===i?(0,v.jsx)($o,{icon:"arrow-".concat(p?"up":"down"),className:"ml-1 h-4 w-4 font-bold"}):null]})},sn=function(e){var t=e.model,n=e.value;return t.hideIfEmpty&&!n?null:(0,v.jsx)(Yr,{className:t.className,renderAs:t.renderAs,translate:t.translate,title:t.title||t.fallback?n||t.fallback:void 0,children:n||t.fallback})},cn=function(e){var t=e.model,n=e.value;return(0,v.jsx)(Yr,{className:t.className,renderAs:t.renderAs,translate:t.translate,dangerouslySetInnerHTML:{__html:(n||t.fallback||"").substring(0,t.cutPoint||1e5).replace(/(https?:\/\/[^\s]+)/gim,'<a target="_blank" class="text-gray-400" href="$1">$1</a>').replace(/[\n]/g,"<br>")}})},un=function(e){var t=e.value,n=e.model;return n.mandatory&&!t&&(n.text_mandatory||"Field is mandatory")},dn=function(e,t){var n=e.model,r=e.view,i=e.focus,o=e.setValue,a=e.value,l=O(Nr({view:r,validate:un,value:a,model:n}),2),s=l[0],c=l[1],u=n.disabled,d=n.length,f=n.text,p=n.classNameInput,h=void 0===p?[]:p,g=O((0,m.useState)($l().uuid),1)[0],y=n.height&&{height:"".concat(n.height,"px")},b=(0,v.jsx)(Pr,{id:g,ref:t,placeholder:n.placeholder||$l().t(f),className:h,value:a||"",maxLength:d,onChange:function(e){return o(e)},disabled:u,type:"textarea",focus:n.focus||i,onBlur:function(){return c(!0)},selectAllOnFocus:n.selectAllOnFocus,style:y});return n.noWrapper?b:(0,v.jsx)(Vr,{id:g,model:k(k({},n),{},{classNameInput:"relative flex-grow flex"}),error:s,children:b})},fn=m.forwardRef(dn),pn=function(e){return(0,v.jsx)(rn,k({},e))},hn=function(e){return(0,v.jsx)(ln,k({},e))},mn=function(e){return(0,v.jsx)(sn,k({},e))},vn=function(e){var t=e.view;return(0,m.useEffect)((function(){var e=[],n=!1,i=function(){var n=o(r().mark((function n(){var i,o,a,l,s,c;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.event("validate");case 2:if(i=n.sent,o=i.errors,a=void 0===o?[]:o,!(!e.length&&t.value._id||a.length)){n.next=7;break}return n.abrupt("return");case 7:return l=function(e,n){return k(k({},e),{},x({},n,t.getValue(n)))},s=!(!t.value._id&&!t.id),n.next=11,$l().database[t.contentType].save({data:s?e.reduce(l,{_id:t.value._id||t.id}):t.value,fields:s});case 11:if(c=n.sent,t.value._id){n.next=15;break}return n.next=15,t.setValue({path:"_id",value:c.id});case 15:t.event("save",t.value),e=[];case 17:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),a=function(t){var r=t.id,o=t.value;if("_id"!==r&&(o&&!o._id||r)){if(r){var a=r.split(".");if(r=O(a,1)[0],e.includes(r))return;e.push(r)}else e=Object.keys(o);n=setTimeout(i,200)}};return!t.value._id&&Object.keys(t.value).length&&(n=setTimeout(i,200)),t.on("change",-2100,a),function(){t.off("change",a),n&&clearTimeout(n)}}),[t]),null},gn=["children","model"],yn=window.history,bn=function(e){var t=e.children,n=e.model,r=F(e,gn),i=n||r,o=i.className,a=i.text,l=i.fwd,s=i.size,c=i.icon,u=i.btnType;return c?(0,v.jsx)($o,{className:o,icon:c,onClick:function(){return yn.go(-1)}}):(0,v.jsxs)(_r,{size:s,type:u,className:o,onClick:function(){return yn.go(l?1:-1)},children:[(0,v.jsx)($o,{icon:l?"arrow-right":"arrow-left",className:"h-6 w-6"}),(0,v.jsx)(Yr,{children:t||$l().t(a)})]})},xn=function(e){var t=e.view,n=e.model,r=n.className,i=n.size,o=n.btnType,a=n.deletedText,l=O((0,m.useState)(n.text),2),s=l[0],c=l[1];return(0,v.jsx)(_r,{className:r,size:i,onMouseDown:function(e){n.stopPropagation&&e.stopPropagation()},onClick:function(e){n.stopPropagation&&e.stopPropagation(),t.event("delete")&&$l().database[t.contentType].delete({id:t.value._id}).then((function(){return n.redirectURL?window.history.replaceState({},"",n.redirectURL):c(a)}))},type:o,children:$l().t(s||"Delete")})},wn=function(e){var t=e.model,n=e.view,i=e.sendEvent,a=(0,m.useMemo)((function(){return{default:{text:t.text?t.text:"Send",type:t.btnType?t.btnType:"secondary"},confirm:{text:"Are you sure?",type:"danger"},saving:{text:"Sending ...",type:"warning"},success:{text:"Sent",type:"success"}}}),[t.btnType,t.text]),l=O((0,m.useState)(a.default),2),s=l[0],c=l[1],u=O((0,m.useState)(!1),2),d=u[0],f=u[1],p=O((0,m.useState)(!1),2),h=p[0],g=p[1],y=O((0,m.useState)(!1),2),b=y[0],x=y[1],w=(0,m.useCallback)(function(){var e=o(r().mark((function e(o){var l,u,d;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o&&o.preventDefault(),e.next=3,n.event("validate");case 3:if(l=e.sent,u=l.errors,!(void 0===u?[]:u).length){e.next=9;break}return x("Correct validation errors"),e.abrupt("return");case 9:if(!t.confirm||s===a.confirm){e.next=14;break}c(a.confirm),f(setTimeout((function(){return c(a.default)}),1e3)),e.next=21;break;case 14:return c(a.saving),e.next=17,i();case 17:d=e.sent,c(a.success),f(setTimeout((function(){return c(a.default)}),1e3)),d.redirectToPath&&$l().router.click(d.redirectToPath);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[s,a,t.confirm,i,n]);return(0,m.useEffect)((function(){var e=function(){h&&w()},r=function(){return g(!1)},i=function(){$l().event("inactivateKeySaveView"),g(!0)};return t.saveOnKey&&(n.on("submit",w),$l().on("keypressSaveEvent",e),$l().on("inactivateKeySaveView",r),g(!1),n.on("change",i)),function(){d&&clearTimeout(d),t.saveOnKey&&(n.off("submit",w),n.off("change",i),$l().off("keypressSaveEvent",e),$l().off("inactivateKeySaveView",r))}}),[h,w,t.saveOnKey,d,n]),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(_r,{onClick:w,className:t.className,type:t.btnType,size:t.size,children:$l().t(s.text)}),b]})},kn=function(e,t){return e?e.reduce((function(e,n){var r=O(n,2),i=r[0],o=r[1];return t[i]?k(k({},e),{},x({},o,t[i])):e}),{}):t},Cn=function(e){var t,n,i,a=e.model,l=e.view,s=e.path,c=O((0,m.useState)(!1),2),u=c[0],d=c[1],f={connection:{event:function(e,t){return $l().connection.emit(k({type:e},t))}},view:l,baseView:l.baseView,baseViewBaseView:null===(t=l.baseView)||void 0===t?void 0:t.baseView,baseViewBaseViewBaseView:null===(n=l.baseView)||void 0===n||null===(i=n.baseView)||void 0===i?void 0:i.baseView,app:$l()}[a.eventType||"connection"];(0,m.useEffect)((function(){if(f.on){var e=function(){d(!1)};return f.on(a.event,e),function(){f.off(a.event,e)}}}),[f,a.event,l.value._id]);var p=function(){var e=o(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.event(a.event,{event:a.subEvent,value:!u&&kn(a.fields,l.value),contentType:l.contentType});case 2:return t=e.sent,(a.inactiveClass||a.activeClass)&&d(!u),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.item?(0,v.jsx)(Yr,{className:[a.className,u&&a.activeClass,!u&&a.inactiveClass],onClick:p,children:(0,v.jsx)(br,{path:s,items:a.item})}):(0,v.jsx)(wn,{model:a,view:l,path:s,sendEvent:p})},Sn=function(t){var n=t.model,r=t.view,i=$l().capFirst,o=n.field[0],a=o.type,l=o.format,s=O((0,m.useState)(n.default),2),c=s[0],u=s[1],d="".concat(i(a)).concat(i(l||r.viewFormat||"view")),f=e[d]||e["".concat(i(a),"View")];return(0,m.useEffect)((function(){r.event(n.event,{value:c})}),[n.event,c,r]),m.createElement(f,{value:c,view:r,model:n.field[0],setValue:u})},Nn={default:{text:"Save",type:"secondary"},saving:{text:"Saving ...",type:"warning"},success:{text:"Saved",type:"success"},deleted:{text:"Undo delete",type:"warning"}},Tn=function(e){var t=e.view,n=e.model,i=e.value,a=(e.location,n.text),l=n.btnType,s=(0,m.useMemo)((function(){return k(k({},Nn),{},{default:{text:a||Nn.default.text,type:"".concat(l||"secondary")}})}),[l,a]),c=O((0,m.useState)("default"),2),u=c[0],d=c[1],f=O((0,m.useState)(!1),2),p=f[0],h=f[1],g=O((0,m.useState)(!1),2),y=g[0],b=g[1],x=O((0,m.useState)(!1),2),w=x[0],C=x[1],S=function(){C(!1)},N=function(){$l().event("inactivateKeySaveView"),C(!0)},T=(0,m.useCallback)(o(r().mark((function e(){var o,a,l,s,c,f,p,m;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("default"===u){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.event("validate");case 4:if(o=e.sent,a=o.errors,!(l=void 0===a?[]:a).length){e.next=11;break}return h("Correct validation errors",l),b(setTimeout((function(){b(!1)}),1e3)),e.abrupt("return");case 11:return h(!1),d("saving"),e.next=15,$l().database[t.contentType].save({data:k({},i),view:t.format});case 15:if(s=e.sent,c=s.data,f=s.error,console.log("zzave",{data:c,error:f},i._id),!f){e.next=23;break}return t.event("error",f),d("default"),e.abrupt("return");case 23:return e.next=25,t.event("save",c);case 25:if(p=e.sent,m=window.location.pathname,!c||!t.value._id||t.value._id===c._id){e.next=30;break}return window.window.history.replaceState({},"",m.replace("/".concat(t.value._id),"/".concat(c._id||""))),e.abrupt("return");case 30:if(t.value._id){e.next=35;break}if(t.setValue({path:"_id",value:c._id}),n.noRedirect){e.next=35;break}return window.window.history.replaceState({},"","".concat(n.redirectURL||m,"/").concat(c._id||"")),e.abrupt("return");case 35:if(p){e.next=37;break}return e.abrupt("return");case 37:n.clearOnSave&&t.setValue({value:{}}),d("success"),n.backOnSave?setTimeout((function(){return window.history.go(-1)}),50):b(setTimeout((function(){d("default"),b(!1)}),1e3));case 40:case"end":return e.stop()}}),e)}))),[u,n,i,t]);return(0,m.useEffect)((function(){return function(){return y&&clearTimeout(y)}}),[y]),(0,m.useEffect)((function(){var e=function(){w&&T()};return t.on("submit",T),$l().on("keypressSaveEvent",e),$l().on("inactivateKeySaveView",S),t.on("change",N),function(){t.off("submit",T),t.off("change",N),$l().off("keypressSaveEvent",e),$l().off("inactivateKeySaveView",S)}}),[w,T,t]),n.sendOnly&&!p?(0,v.jsx)(_r,{className:n.className,size:n.size,onClick:T,type:s[u].type,children:$l().t(s[u].text)}):(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)(Yr,{className:n.className,children:[(0,v.jsx)(_r,{size:n.size,onClick:T,type:s[u].type,children:$l().t(s[u].text)}),"default"===u&&!n.sendOnly&&t.value._id&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(_r,{size:n.size,onClick:function(){t.event("cancel")&&t.event("reload")},type:"warning",children:"Cancel"}),(0,v.jsx)(_r,{size:n.size,onClick:function(){t.event("delete")&&$l().database[t.contentType].delete({id:t.value._id}).then((function(){return d("deleted")}))},type:"danger",children:$l().t("Delete")})]}),p&&(0,v.jsx)(Yr,{className:"red py-2 px-1 ".concat(y?"font-bold":""),children:p})]})})},Ln=function(e){var t=e.model,n=e.view,r=e.path,i=t.event,o=t.item,a=t.className,l=i.includes("Add")?n.baseView:n;return o&&o.length?(0,v.jsx)(Yr,{className:a,onClick:function(){return l.event("reference",{event:i,value:n.value})},children:(0,v.jsx)(br,{path:r,items:o})}):(0,v.jsx)(_r,{onClick:function(){return l.event("reference",{event:i,value:n.value})},className:a,type:t.btnType,size:t.btnSize,children:$l().t(t.text)})},En=function(e){var t=e.model,n=e.view,r=n.getValue(t.field),i=""===t.value.replace(/[0-9]/,"")?parseInt(t.value,10):t.value;return(0,v.jsx)(_r,{type:r===i?t.btnType:t.falseBtnType,size:t.size,className:t.className,onClick:function(){return n.setValue({path:t.field,value:i})},children:r?t.text:t.falseText||t.text})},_n={false:!1,true:!0,undefined:void 0},jn=function(e){var t=e.model,n=e.view;return(0,m.useEffect)((function(){var e=n.getValue(t.field);if(t.value){var r=""===t.value.replace(/[0-9]/,"")?parseInt(t.value,10):t.value;_n.hasOwnProperty(r)&&(r=_n[r]),e!==r&&setTimeout((function(){n.setValue({path:t.field,value:r})}),0)}else if(t.arrValue){e=e||[];var i=t.arrValue.map((function(e){return""===e.replace(/[0-9]/,"")?parseInt(e,10):e})).map((function(e){return _n.hasOwnProperty(e)?_n[e]:e})).filter((function(e){return e})).filter((function(t){return!e.includes(t)}));i.length&&setTimeout((function(){n.setValue({path:t.field,value:[].concat(L(e),L(i))})}),0)}}),[n,n.id]),null},On=function(e){var t=e.model,n=e.view,r=t.iconClassName,i=t.className,o=(0,m.useRef)([n.value]),a=(0,m.useRef)(!1);(0,m.useEffect)((function(){var e=function(e){var t=e.value;e.isHistory||(a.current&&(o.current=o.current.slice(0,a.current)),o.current.push(t),a.current=!1)};return n.on("change",-1e3,e),function(){n.off("change",e)}}),[n]);var l=function(e){var n=e.icon,i=e.onClick;return(0,v.jsx)(_r,{onClick:i,type:t.btnType,size:t.btnSize,children:(0,v.jsx)($o,{className:r||"h-6 w-6",icon:n})})};return(0,v.jsxs)(Yr,{className:i,children:[(0,v.jsx)(l,{icon:"undo",onClick:function(){var e=a.current||o.current.length-1,t=o.current[e-1];t&&n.event("change",{value:t,isHistory:!0}),e&&(a.current=e-1)}}),(0,v.jsx)(l,{icon:"redo",onClick:function(){if(a.current&&a.current!==o.current.length-1){var e=o.current[a.current+1];e&&n.event("change",{value:e,isHistory:!0}),a.current!==o.current.length-1&&(a.current+=1)}}})]})},Mn=function(e){var t=e.model,n=e.view;return(0,v.jsx)(_r,{className:t.className,type:t.btnType,size:t.size,onClick:function(){return n.event(t.event||"submit",n.value)},children:$l().t(t.text||"...")})},In=function(e){var t,n=e.model,r=e.view,i=e.path,o=n.contentType,a=n.className,l=n.viewId;return(0,v.jsx)(Sr,{className:a,contentType:o,format:n.view,baseView:r,id:(t=l,t?t.replace(/\{([a-z_.0-9]+)\}/gim,(function(e,t){return"_language"===t?$l().settings.lang:"id"===t?r.id:0!==t.indexOf("baseView.")?r.getValue(t.replace("..",i)):(t=t.replace("baseView.",""),r.baseView.getValue(t.replace("..",i)))})):t)})},An=function(e){var t,n=e.model,r=e.view,i=e.path,o=e.value,a=n.addid,l=n.viewId,s=n.contentType;return(0,v.jsx)(Sr,{className:n.className,setValue:function(e,t){(e||t)&&(n.addid?r.setValue({path:n.addid,value:t}):r.setValue(e,t))},contentType:s,format:n.view,value:a?o[a]:o,id:(t=l,t&&t.replace(/\{([a-z_.]+)\}/gim,(function(e,t){return r.getValue(t.replace("..",i))})))})},Fn=function(e){var t,n=e.model,r=e.view,i=e.value,o=e.path,a=e.onSave,l=n.addid,s=n.contentType,c=n.className,u=n.viewId;return(0,v.jsx)(Sr,k({className:c,contentType:s,format:n.view,value:l&&i[l]||i,id:(t=u,t?t.replace(/\{([a-z_.0-9]+)\}/gim,(function(e,t){return"id"===t?r.id:"_language"===t?$l().settings.lang:0===t.indexOf("params.")?r.params[t.replace("params.","")]:0!==t.indexOf("baseView.")?r.getValue(t.replace("..",o)):(t=t.replace("baseView.",""),r.baseView.getValue(t.replace("..",o)))})):t),baseView:r,params:r.params},a?{onSave:a}:{}))},Dn=function(e){var t=e.model,n=e.view,r=t.className?t.className.join(" "):"",i=t.title,o=t.href,a=void 0===o?"":o;return t.renderType&&(r+=" btn-".concat(t.renderType)),"/"===a[a.length-1]&&n.value&&(a+=n.value._id),(0,v.jsx)($i,{className:"".concat(r," btn"),to:a,match:t.match,type:"button",title:i||"",children:$l().t(t.text)})},Pn=function(e){var t=e.view,n=e.path,r=e.model,i=function(e){return e?e.replace(/\{([a-z_.0-9]+)\}/gim,(function(e,r){return"id"===r?t.id:0===r.indexOf("params.")?t.params[r.replace("params.","")]:0!==r.indexOf("baseView.")?t.getValue(r.replace("..",n)):(r=r.replace("baseView.",""),t.baseView.getValue(r.replace("..",n)))})):e},o=r.className,a=r.exact,l=r.match,s=r.item,c=r.href;return(0,v.jsx)($i,{className:o,to:i(c),match:i(l),exact:a,children:(0,v.jsx)(br,{path:n,items:s})})},Vn=function(e){var t=e.model,n=e.view,r=e.path,i=function(e){return e&&e.replace(/\{([a-z_.0-9]+)\}/gim,(function(e,t){var i="";return"_language"===t?i=$l().settings.lang:"id"===t?i=n.id:0===t.indexOf("params.")?i=n.params[t.replace("params.","")]:0!==t.indexOf("baseView.")?i=n.getValue(t.replace("..",r)):(t=t.replace("baseView.",""),i=n.baseView.getValue(t.replace("..",r))),i instanceof Array&&(i=i.join("|")),i}))},o=t.href,a=t.match,l=t.className;return(0,v.jsx)($i,{className:l?l.join(" "):"",to:i(o),match:i(a),children:$l().t(t.text)})},zn=function(e){var t,n=e.view,r=e.path,i=e.model,o=i.className,a=i.item,l=i.href,s=(t=l)?t.replace(/\{([a-z_.0-9]+)\}/gim,(function(e,t){return/pathItem[0-9]/.test(t)&&n.params?n.params[t[8]]:n.getValue(t.replace("..",r))})):t;return/https?:\/\//im.test(s)||s.startsWith("mailto:")||(s="https://".concat(s)),(0,v.jsx)(Yr,{className:o,href:s,target:"_blank",renderAs:"a",rel:"noopener",children:(0,v.jsx)(br,{path:r,items:a})})},Rn=function(e){var t=e.model,n=e.value,r=e.path,i=t.className,o=t.contentType,a=t.view,l=t.add,s=t.addId,c=t.item,u="/".concat(o,"/").concat(a);return s&&n&&(u+="/".concat(n._id)),(0,v.jsx)($i,{to:(l||"")+u,className:i,children:(0,v.jsx)(br,{path:r,items:c})})},Bn=function(e){u(n,e);var t=h(n);function n(){return a(this,n),t.apply(this,arguments)}return s(n,[{key:"render",value:function(){var e=this.props.model,t=e.className?e.className.join(" "):"",n=e.href&&this.props.view.id?e.href.replace("{id}",this.props.view.id):e.href;return e.blank?(0,v.jsx)("a",{className:t,href:n,rel:"noopener noreferrer",target:"_blank",children:$l().t(e.text)}):"icon"===e.renderType?(0,v.jsx)($i,{to:n,match:e.match,type:"link",children:(0,v.jsx)($o,{icon:e.text,className:t})}):(0,v.jsx)($i,{className:t,to:n,match:e.match,type:"link",children:$l().t(e.text)})}}]),n}(m.Component),Hn=Bn,Wn=function(e){var t=e.model,n=e.value,r=t.renderType,i=t.className,o=t.contentType,a=t.view,l=t.text,s=t.add,c=t.addId,u=t.btnType,d=t.size,f="/".concat(o,"/").concat(a);return c&&n&&(f+="/".concat(n._id)),"button"===r?(0,v.jsx)(_r,{type:u,size:d,to:(s||"")+f,className:i,Component:$i,children:$l().t(l)}):(0,v.jsx)($i,{type:r||"list",to:(s||"")+f,className:i,children:$l().t(l)})};var Un=function(e){var t=e.slot,n=e.model,r=e.view,i=(0,m.useContext)(ni),o=O((0,m.useState)(!1),2),a=o[0],l=o[1];return(0,m.useEffect)((function(){if(0!==t){var e=!0;l(!1);var o=$l().database[r.contentType],a=setTimeout((function(){o.search(k(k({},i.search),{},{position:t*i.search.count,data:void 0})).then((function(t){return e&&t.data&&l(t)}))}),n.searchDelay||100);return function(){e=!1,clearTimeout(a)}}}),[i.search,n.searchDelay,t,r.contentType]),0===t||a?0!==t&&i.search.count*t===i.search.searchTotal?null:0===t?(0,v.jsx)(br,{path:n.path,items:n.item}):(0,v.jsx)(ni.Provider,{value:{search:a},children:(0,v.jsx)(br,{path:n.path,items:n.item})}):(0,v.jsx)("div",{className:"loading p-4 m-4 rounded-lg shadow h-4 max-w-xl"})},qn=function(e){var t=e.slot,n=e.model,r=e.view,i=(0,m.useRef)(),o=O((0,m.useState)(),2),a=o[0],l=o[1];return(0,m.useEffect)((function(){var e,n,o=i.current;return r.event("getViewListHeight",{slot:t}).then((function(i){var a=i.height;e=function(e){e.slotHeights[t]=a,e.top<a&&(e.top=a);for(var n=0,r=0;r<t;r++)n+=e.slotHeights[r]||e.top;return l(n),e},(n=new ResizeObserver((function(){var e=o.offsetHeight;e<10||e<a||(a=e,r.event("setViewListHeight"))}))).observe(o),r.on("setViewListHeight",-t,e)})),function(){r.off("setViewListHeight",e),n&&n.unobserve(o)}}),[t,r]),(0,v.jsx)("div",{ref:i,style:{position:"absolute",top:"".concat(a,"px"),width:"100%"},children:(0,v.jsx)(Un,{slot:t,model:n,view:r})})},$n=function(e){var t=e.view,n=e.model,r=(0,m.useContext)(ni),i=r.search,o=r.loading,a=i.searchTotal,l=(0,m.useRef)(),s=O((0,m.useState)(0),2),c=s[0],u=s[1],d=O((0,m.useState)(0),2),f=d[0],p=d[1],h=O((0,m.useState)(0),2),g=h[0],y=h[1],b=(0,m.useRef)([]),x=parseInt((a||0)/i.count,10)||0,w=parseInt(c||n.slotLimit||3,10);if(w>x&&(w=x),(0,m.useEffect)((function(){x&&t.event("infiniteScrollPos",{pos:f,total:x-w+1})}),[f,w,x,t]),(0,m.useEffect)((function(){var e=0,n=0,r=0,i=new Array(x);b.current=i;var o=0,a=function(e){return e<n?0:e-n},s=0,c=!1,d=function(){if(clearTimeout(c),c=!1,m){for(var t=a(m.scrollY||m.scrollTop||0),n=t+r,l=0,d=0,f=0;d<x&&l<n+200;)(l+=i[d]||o)<t&&d++,f++;(d-=2)<0&&(d=0),e!==d&&p(d),f-(e=d)!==s&&u(f-e),s=f-e}},f=function(){c||(c=setTimeout(d,200))},h=!1,m=!1;!function e(){if(m=l.current){var t=m.getBoundingClientRect().top;t>0&&(n=t),(m=function(e,t){var n=getComputedStyle(e),r=n.position,i=n.overflowY,o=n.overflowX,a=n.overflow,l=t?/(auto|scroll|hidden)/:/(auto|scroll)/;if("fixed"===r)return document.body;for(var s=e;s=s.parentElement;){var c=getComputedStyle(s);if(r=c.position,i=c.overflowY,o=c.overflowX,a=c.overflow,("absolute"!==r||"static"!==r)&&l.test(a+i+o))return s}return document.body}(m,!0))===window.document.body?(m=window,r=window.innerHeight):r=window.innerHeight-n,m.addEventListener("scroll",f)}else h=setTimeout(e,20)}();var v=function(){return{innerHeight:r,slotHeights:i,top:0}};t.on("setViewListHeight",1e3,v);var g=function(e){var t=e.slot;return{slot:t,height:i[t]}};t.on("getViewListHeight",g);var w=!1,k=function(){for(var e=0,t=0;t<x;t++)e+=i[t]||o;y(e),w=!1,c||(c=setTimeout(d,200))},C=function(e){var t=e.top;w||(w=setTimeout(k,200)),o=t};return t.on("setViewListHeight",-1e3,C),function(){h&&clearTimeout(h),c&&clearTimeout(c),t.off("getViewListHeight",g),t.off("setViewListHeight",v),t.off("setViewListHeight",C),m&&m.removeEventListener("scroll",f)}}),[n,i,x,t]),o)return null;for(var k=[],C=f;0===C||w+f>C;C++)k.push((0,v.jsx)(qn,{slot:C,model:n,view:t},"".concat(x,"_").concat(C)));return(0,v.jsx)(Yr,{ref:l,className:n.className,style:{position:"relative",height:"".concat(g,"px")},children:k})},Kn=function(e){var t=e.model,n=e.path,r=(0,m.useContext)(ni).search,i=(void 0===r?{}:r).filter,o=(((void 0===i?{}:i).$and||[]).find((function(e){return e.$all}))||{}).$all;return!o&&t.inverse||o&&!t.inverse?(0,v.jsx)(Yr,{className:t.className,renderAs:t.renderAs,children:(0,v.jsx)(br,{path:n,items:t.item})}):null};var Yn=function(e,t){return k({position:"absolute",top:"".concat(e,"px"),width:"100%"},t)},Gn=function(e){var t=e.pos,n=e.hidden,r=e.slot,i=e.model,o=e.setSize,a=e.view,l=(0,m.useContext)(ni),s=O((0,m.useState)(!1),2),c=s[0],u=s[1],d=(0,m.useRef)();if((0,m.useEffect)((function(){if(0!==r){var e=$l().database[a.contentType],t=setTimeout((function(){e.search(k(k({},l.search),{},{position:r*l.search.count,data:void 0})).then((function(e){return e.data&&u(e)}))}),i.searchDelay||10);return function(){clearTimeout(t)}}}),[l.search,i.searchDelay,r,a.contentType]),(0,m.useEffect)((function(){setTimeout((function e(){d.current&&d.current.offsetHeight?o(d.current.offsetHeight):setTimeout(e,20)}),0)}),[o]),0!==r&&l.search.count*r===l.search.searchTotal)return null;if(0!==r&&!c)return(0,v.jsx)("div",{className:"loading p-4 m-4 rounded-lg shadow h-4 max-w-xl",style:Yn(t)});var f=(0,v.jsx)("div",{ref:d,style:Yn(t,{visibility:n?"hidden":"visible"}),children:(0,v.jsx)(br,{path:i.path,items:i.item})});return 0===r?f:(0,v.jsx)(ni.Provider,{value:{search:c},children:f})},Qn=function(e){var t=e.view,n=e.model,r=(0,m.useContext)(ni),i=r.search,o=r.loading,a=i.searchTotal,l=(0,m.useRef)(),s=O((0,m.useState)(0),2),c=s[0],u=s[1],d=O((0,m.useState)(0),2),f=d[0],p=d[1],h=(0,m.useRef)();h.current=f;var g=(0,m.useRef)({});f||(g.current={});var y=parseInt((a||0)/i.count,10)||0,b=parseInt(n.slotLimit||3,10);if((0,m.useEffect)((function(){n.clearHeightOnUpdate&&p(0)}),[n,a]),(0,m.useEffect)((function(){y&&t.event("infiniteScrollPos",{pos:c,total:y-b+1})}),[c,b,y,t]),(0,m.useEffect)((function(){var e=!1,t=0,r=!1,i=0,o=!1,a=function(e){return e<i?0:e-i},s=function(){clearTimeout(e),e=!1;var n=r.scrollY||r.scrollTop||0,i=parseInt(a(n)/(f*y)*y,10)||0;t!==i&&u(t=i)},c=function(){e||(e=setTimeout(s,n.slotUpdateDelay||200))},d=window.innerWidth,h=function(){d!==window.innerWidth&&(d=window.innerWidth,c(),p(0))};return function e(){if(r=l.current){var t=r.getBoundingClientRect().top;t>0&&(i=t),(r=function(e,t){var n=getComputedStyle(e),r=n.position,i=n.overflowY,o=n.overflowX,a=n.overflow,l=t?/(auto|scroll|hidden)/:/(auto|scroll)/;if("fixed"===r)return document.body;for(var s=e;s=s.parentElement;){var c=getComputedStyle(s);if(r=c.position,i=c.overflowY,o=c.overflowX,a=c.overflow,("absolute"!==r||"static"!==r)&&l.test(a+i+o))return s}return document.body}(r,!0))===window.document.body&&(r=window),r.addEventListener("scroll",c),r.addEventListener("resize",h)}else o=setTimeout(e,20)}(),function(){o&&clearTimeout(o),e&&clearTimeout(e),r&&(r.removeEventListener("scroll",c),r.removeEventListener("resize",h))}}),[f,n,i.count,i.searchTotal,y]),o)return null;var x=Array(y-c<b-1?y-c+1:b).fill(),w=c*f,k=function(){var e=w;return w+=f,e};return(0,v.jsx)(Yr,{ref:l,className:n.className,style:{position:"relative",height:"".concat(f*(y||x.length),"px")},children:x.map((function(e,r){return(0,v.jsx)(Gn,{pos:k(),slot:r+c,model:n,hidden:0===f,setSize:function(e){g.current[r+c]=e,h.current<e&&p(e)},view:t,search:i},r+c)}))})},Xn=function(e){var t=e.model,n=e.view,r=t.text,i=t.className,o=t.classNameLabel,a=t.classNameInfo,l=Ur(n,"infiniteScrollPos"),s=l.pos,c=l.total;return c?(0,v.jsxs)(Yr,{className:i,children:[(0,v.jsx)(Yr,{className:o,children:r}),(0,v.jsxs)(Yr,{className:a,children:[s+1," of ",c+1]})]}):null},Jn=function(e){var t=e.model,n=(0,m.useContext)(ni).search;var r="";return t.show||(t.show=[]),-1!==t.show.indexOf("currentPos")&&(r+=n.position?n.position:0),-1!==t.show.indexOf("currentPos")&&-1!==t.show.indexOf("toPos")&&(r+=" - "),-1!==t.show.indexOf("toPos")&&(r+=n.count?n.count:0),-1===t.show.indexOf("searchTotal")||-1===t.show.indexOf("currentPos")&&-1===t.show.indexOf("toPos")||(r+=" of "),-1!==t.show.indexOf("searchTotal")&&(r+=n.searchTotal?n.searchTotal:0),(0,v.jsxs)(Yr,{className:[t.className,"control-label"],children:[(0,v.jsx)(Yr,{children:t.text}),(0,v.jsx)(Yr,{children:r}),n.searchTotal===n.total||-1===t.show.indexOf("total")?null:(0,v.jsx)(Yr,{renderAs:"span",children:", ".concat(n.total).concat($l().t(" in total"))})]})},Zn=function(e){var t=e.view,n=e.model,r=(0,m.useContext)(ni).search,i=O(mo(n.saveId,"int",!0),3),o=i[0],a=i[1],l=i[2],s=xo(),c=(0,m.useRef)(!1);(0,m.useEffect)((function(){if(o||c.current){var e=function(e){o&&(e.position=o)};return o&&t.on("setSearch",e),t.event("setSearch"),c.current=o,function(){o&&t.off("setSearch",e)}}}),[o,t]);var u=function(e){var t=n.saveId;if(t){var r=s.pathname,i=s.search,o="(^\\?)|(\\&".concat(t,"=[^\\s&]*)"),a=i.replace(new RegExp(o,"gi"),""),l=e?"&".concat(t,"=").concat(e):"";return"".concat(r,"?").concat(a).concat(l)}},d=function(e){-1===e&&a(f(r)),1===e&&a(p(r))},f=function(){return 0!==r.position?r.position-r.count:-1},p=function(){return r.position+r.count<r.searchTotal?r.position+r.count:-1},h=-1!==f(),g=-1!==p();return(0,v.jsxs)(Yr,{ref:l,className:[n.className,"flex","py-4"],children:[(0,v.jsxs)(_r,{renderAs:"a",disabled:!h&&"disabled",className:"mr-2",onClick:h?function(){return d(-1)}:void 0,href:h?u(f(r)):void 0,children:["\u2190 ",$l().t("Previous")]}),(0,v.jsxs)(_r,{renderAs:"a",disabled:!g&&"disabled",onClick:g?function(){return d(1)}:void 0,href:g?u(p(r)):void 0,children:[$l().t("Next")," \u2192"]})]})},er=function(e){var t=e.model,n=e.view,r=O((0,m.useState)(""),2),i=r[0],o=r[1],a=O(mo(t.saveId),3),l=a[0],s=a[1],c=a[2],u=t.includeId?["$all","_id"]:"$all";return ai({view:n,id:u,value:l,exact:t.exact||void 0}),(0,m.useEffect)((function(){if(l){o("border-orange-300 outline-none");var e=setTimeout((function(){o("border-green-500 outline-none"),e=setTimeout((function(){e=!1,o("")}),500)}),200);return function(){e&&clearTimeout(e)}}o("")}),[l]),(0,v.jsx)(nn,{ref:c,model:k(k({},t),{},{mandatory:!1,clearButton:!t.noClearButton,classNameInput:[!t.noWrapper&&"w-full",i,t.classNameInput],selectAllOnFocus:!0,text:t.text||"Search"}),value:l,setValue:s})},tr=function(e){var t=e.model,n=e.view,r=e.value,i=t.rowClassName,o=void 0===i?[]:i;return(r=t.value||r).map((function(e){var r=["number","string"].includes(typeof e)?e:e._id,i={view:t,contentType:n.contentType,id:r,key:r,noForm:!0,baseView:n,params:n.params,className:o,renderAs:e.renderAs,itemRenderAs:"tr"===e.renderAs&&"td"};return(0,v.jsx)(Sr,k({},i))}))},nr=function(e){var t=e.model,n=e.view,r=(0,m.useContext)(ni).search,i=r&&r.data||[],o=t.emptyFields,a=t.className,l=void 0===a?[]:a,s=t.headerFields,c=t.renderFormat;return 0===i.length&&o&&o.length>0?(0,v.jsx)(Yr,{className:l,children:(0,v.jsx)(br,{items:o})}):"table"===t.renderFormat?(0,v.jsxs)(Yr,{renderAs:"table",className:l,children:[(0,v.jsx)(Yr,{renderAs:"thead",children:(0,v.jsx)(Yr,{renderAs:"tr",children:(0,v.jsx)(br,{items:s,renderAs:"th"})})}),(0,v.jsx)(Yr,{renderAs:"tbody",children:(0,v.jsx)(tr,{value:i.map((function(e){return k(k({},e),{},{renderAs:"tr"})})),model:t,view:n})})]}):"list"===c?(0,v.jsx)(Yr,{className:l,children:(0,v.jsx)(tr,{value:i,model:t,view:n})}):s&&s.length?(0,v.jsxs)(Yr,{className:l,children:[(0,v.jsx)(br,{items:s}),(0,v.jsx)(tr,{value:i,model:t,view:n})]}):(0,v.jsx)(Yr,{className:l,children:(0,v.jsx)(tr,{value:i,model:t,view:n})})},rr=function(e){var t=e.model,n=t.className?t.className.join(" "):"";return(0,v.jsx)(Yr,{className:n,renderAs:t.renderAs,translate:"true",children:(0,v.jsx)("br",{})})},ir=function(e){var t=e.model,n=e.view,r=e.path,i=t.item,o=t.fallback,a=n.getValue(i[0].id);return(0,v.jsx)(Vr,{model:k(k({},i[0]),t),children:a?(0,v.jsx)(br,{path:r,items:i}):o})},or=function(e){u(n,e);var t=h(n);function n(e){var r;a(this,n),(r=t.call(this,e)).model=e.model,r.view=e.view;var i={value:$l().clone(r.view.value),text:r.insertVal(r.model.text)};return r.view.on("change",r.setValueView),r.state=i,r}return s(n,[{key:"setValueView",value:function(){var e=this;JSON.stringify(this.view.value)!==JSON.stringify(this.state.value)&&setTimeout((function(){e.isMounted()&&e.setState({value:$l().clone(e.view.value),text:e.insertVal(e.model.text)})}),0)}},{key:"insertVal",value:function(e){if(!e)return e;var t=this;return this.val=!1,e.replace(/\{([a-z_.]+)\}/gim,(function(e,n){var r=t.view.getValue(n.replace("..",t.props.path));return"undefined"===typeof r?"":r}))}},{key:"componentWillUnmount",value:function(){this.view.off("change",this.setValueView)}},{key:"render",value:function(){var e=this.model.className?this.model.className.join(" "):"",t=this.props.model.renderAs?this.props.model.renderAs:this.props.model.format;return(0,v.jsx)(Yr,{renderAs:t,className:e,children:$l().t(this.state.text)})}}]),n}(m.Component),ar=or,lr=function(e){u(n,e);var t=h(n);function n(e){var r;a(this,n),(r=t.call(this,e)).model=e.model,r.view=e.view;var i={value:$l().clone(r.view.value),text:r.insertVal(r.model.text)};return r.view.on("change",r.setValueView),r.state=i,r}return s(n,[{key:"setValueView",value:function(){var e=this;JSON.stringify(this.view.value)!==JSON.stringify(this.state.value)&&setTimeout((function(){e.isMounted()&&e.setState({value:$l().clone(e.view.value),text:e.insertVal(e.model.text)})}),0)}},{key:"insertVal",value:function(e){if(!e)return e;var t=this;return this.val=!1,e.replace(/\{([a-z_.]+)\}/gim,(function(e,n){var r=t.view.getValue(n.replace("..",t.props.path));return t.val=t.val||r,"undefined"===typeof r?"":r}))}},{key:"componentWillUnmount",value:function(){this.view.off("change",this.setValueView)}},{key:"render",value:function(){var e=this.model.className?this.model.className.join(" "):"",t=this.props.model.renderAs?this.props.model.renderAs:this.props.model.format,n=this.val?this.state.text:"New ".concat($l().contentType[this.view.contentType].name);return(0,v.jsx)(Yr,{renderAs:t,className:e,children:$l().t(n)})}}]),n}(m.Component),sr=lr,cr=function(e){var t=e.model,n=t.className?t.className.join(" "):"";return(0,v.jsx)(Yr,{className:n,renderAs:t.renderAs,translate:"true",children:$l().t(t.text)})},ur=function(e){var t=e.model,n=O((0,m.useState)(!1),2),r=n[0],i=n[1];return(0,m.useEffect)((function(){$l().connection.event("emit",{type:"count"}).then((function(e){var t=e.connectedCount;i(t)}))}),[]),r?(0,v.jsxs)(Yr,{className:t.className,children:[r," connected"]}):null},dr=function(e){var t=e.children,n=e.path,r=e.model,i=O((0,m.useState)($l().connection.connected),2),o=i[0],a=i[1];(0,m.useEffect)((function(){var e=function(){return a($l().connection.connected)};return $l().connection.on("connection",e),function(){$l().connection.off("connection",e)}}));var l=(o?r.onlineClass:r.offlineClass)||"";return(0,v.jsx)(Yr,{className:[r.className,l],children:t||(0,v.jsx)(br,{path:n,items:r.item})})},fr=function(e){var t=e.model,n=void 0===t?{}:t,r=e.offline,i=e.className,o=e.path,a=e.children,l=O((0,m.useState)(),2),s=l[0],c=l[1];return(0,m.useEffect)((function(){var e=function(e){var t=e.connected;return c(t)};return $l().connection.on("connection",e),c($l().connection.connected),function(){$l().connection.off("connection",e)}}),[]),i=i||n.className,r=r||n.offline,s&&r||!s&&!r?null:(0,v.jsx)(Yr,{className:i,children:a||(0,v.jsx)(br,{path:o,items:n.item})})},pr=function(e){u(n,e);var t=h(n);function n(){return a(this,n),t.apply(this,arguments)}return s(n,[{key:"render",value:function(){return(0,v.jsxs)("div",{className:"cssload-loader",children:[(0,v.jsx)("div",{className:"cssload-inner cssload-one"}),(0,v.jsx)("div",{className:"cssload-inner cssload-two"}),(0,v.jsx)("div",{className:"cssload-inner cssload-three"})]})}}]),n}(m.Component),hr=pr,mr=m.createContext(),vr=mr,gr=mr.Provider,yr=["item","value","path","view"],br=function(t){var n=t.path,r=t.items,i=t.renderAs,o=(0,m.useContext)(vr);return r?r.map((function(t,r){var a=function(t){var n=t.item,r=(t.value,t.path),i=t.view,o=F(t,yr),a=$l().capFirst,l=n.id,s=n.type,c=n.format,u="".concat(a(s)).concat(a(c||i.viewFormat||"view")),d=e[u]||e["".concat(a(s),"View")],f=i.getValue,p=(0,i.getValuePath)(r,l);if(!d)return(0,v.jsx)("div",{className:"red",children:"Missing component ".concat(u)},o.key);var h="input"===n.format&&"view"!==n.category&&i.focus&&!i.focused;return h&&(i.focused=!0),"object"!==typeof d||d.render||(console.log(d,n),d="div"),m.createElement(d,k(k({},o),{},{value:f(p),path:r,view:i,model:n,setValue:function(e){return i.setValue({path:p,value:e})},focus:h}))}(k({key:r,item:t,path:n},o));return i&&m.createElement(i,{key:r},a)||a})):(0,v.jsx)("div",{className:"red",children:"Missing items"})},xr=n(4391),wr=["id","contentType","baseView","addForm","className","itemFrom","itemTo","format","children","view","value","renderAs","itemRenderAs","params"],kr=function(e){var t=e.path,n=e.current,r=e.value;if(!t)return r;var i=t.split("."),o=k({},n),a=o;return i.forEach((function(e,t){i.length-1===t?a[e]=r:(a[e]=a[e]instanceof Array?L(a[e]):k({},a[e]),a=a[e])})),$l().settings.debug&&console.log(o),o},Cr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t?(t=t.substring(t.lastIndexOf(".")+1),e?"".concat(e,".").concat(t):t):e},Sr=function(e){var t=e.id,n=e.contentType,i=e.baseView,a=e.addForm,l=e.className,s=e.itemFrom,c=e.itemTo,u=e.format,d=e.children,f=e.view,p=e.value,h=e.renderAs,g=e.itemRenderAs,y=e.params,b=F(e,wr),x=(0,m.useMemo)((function(){var e=$l().populatedViews[n];if(!f&&(!e||!e.views))return console.error("View creation error",{contentType:n,baseView:i,format:u}),{model:{}};var r=f||e.views[u]||{};return $l().addeventhandler(k(k({},r),{},{baseView:i,model:e,format:u,viewFormat:r.format,contentType:n,getValuePath:Cr,id:t}),"view ".concat(n," ").concat(u))}),[n,f,u,i,t]),w=x.model;x.params=y,(0,m.useEffect)((function(){if(x.on)return Object.keys(b).forEach((function(e){"on"===e.substring(0,2)&&e[2].toUpperCase()===e[2]&&x.on(e.substring(2).toLowerCase(),b[e])})),function(){Object.keys(b).forEach((function(e){"on"===e.substring(0,2)&&e[2].toUpperCase()===e[2]&&x.off(e.substring(2).toLowerCase(),b[e])}))}}),[b,x]);var C=function(e){var t=e.view,n=e.propvalue,i=O((0,m.useState)({}),2),a=i[0],l=i[1],s=O((0,m.useState)(!!t.id),2),c=s[0],u=s[1];return(0,m.useEffect)((function(){n&&!t.id&&setTimeout((function(){t.event("change",{value:n})}),10)}),[t,n]),(0,m.useEffect)((function(){if(t.on){var e=t.id,n=t.contentType,i=t.noAutoUpdate,a=$l().database[n],s=!e&&{},c=!1,d=!1,f=function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).ids;n&&!n.includes(e)||a.get({id:e}).then((function(e){var n=e.data;if(n||(n={}),s){var r=(0,xr.getDiff)(d,n);c=(0,xr.applyDiff)(c,r),r.length&&t.event("change",{value:c})}else t.event("change",{value:n})}))};e&&(a||console.error("Missing db",t),f(),i||a.on("update",f));var p=function(e){return k(k({},e),{},{id:e.path,value:e.path?kr(k(k({},e),{},{current:c})):e.value,oldValue:c})};t.on("change",1e3,p);var h=function(){var e=o(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.value,c=n,e.next=4,l(k({},c));case 4:s||(s=d=c,u(!1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.on("change",-999,h);var m=function(e){d=e};t.on("save",-1e3,m);var v=function(){t.event("clearErrorValidation"),t.event("change",{value:s})};return t.on("reload",v),function(){e&&!i&&a.off("update",f),t.off("reload",v),t.off("change",p),t.off("change",h),t.on("save",m)}}}),[t]),t.getValue=function(e){return e?e.split(".").reduce((function(e,t){return e&&e[t]}),a):a},t.setValue=function(e){return t.event("change",e)},t.value=a,{value:a,loading:c}}({view:x,propvalue:p}),S=C.value,N=C.loading;if(!w)return"Missing model to create view";if(N)return(0,v.jsx)(Hr,{});var T={contentType:n,model:w,view:x,value:S},L=x.item?x.item.slice(s,c):[];return h||(h=a||x.addForm?"form":void 0),x.on?(0,v.jsx)(gr,{value:T,children:(0,v.jsx)(Yr,k(k({renderAs:h,className:l},a?{onSubmit:function(e){e.preventDefault(),x.event("submit")}}:{}),{},{children:(0,v.jsx)(ri,{view:x,children:d||(0,v.jsx)(br,{items:L,renderAs:g})})}))}):(0,v.jsx)("div",{children:"\ud83d\udca5\ud83d\udca5 view creation failure \ud83d\udca5\ud83d\udca5"})},Nr=function(e){var t=e.validate,n=e.view,i=e.model,a=e.value,l=O((0,m.useState)(n&&n.isValidated),2),s=l[0],c=l[1],u=s&&t({value:a,model:i});return(0,m.useEffect)((function(){var e=function(){var e=o(r().mark((function e(n){var o,l,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.errors,(l=n.silent)||c(!0),e.next=4,Promise.resolve(t({value:a,model:i})||!1);case 4:return(s=e.sent)&&(o=[].concat(L(o||[]),[s])),e.abrupt("return",o?{errors:o,silent:l}:void 0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){c(!1)};if(n)return n.on("validate",e),n.on("clearErrorValidation",l),function(){n&&(n.off("validate",e),n.off("clearErrorValidation",l))}}),[n,t,a,i]),[u,c]},Tr=["onClick","className","type","size","disabled"],Lr={primary:"bg-blue-500 hover:bg-blue-500 text-white rounded shadow-sm",secondary:"bg-gray-200 hover:bg-gray-300 text-gray-900 border border-gray-300 rounded shadow-sm","ehc-primary":"floatlabel bg-primary text-white w-full","ehc-secondary":"floatlabel bg-secondary border border-gray-300 w-full",danger:"bg-red-700 hover:bg-red-600 text-white rounded shadow-sm",warning:"bg-yellow-600 hover:bg-yellow-500 text-white rounded shadow-sm",success:"bg-green-600 hover:bg-green-500 text-white rounded shadow-sm",info:"btn",error:"btn",default:"bg-gray-200 hover:bg-gray-300 text-gray-900 border border-gray-300",primaryDisabled:"bg-blue-400 cursor-not-allowed",secondaryDisabled:"bg-gray-600 text-white cursor-not-allowed",dangerDisabled:"bg-red-400 text-white cursor-not-allowed",warningDisabled:"bg-yellow-300 text-white cursor-not-allowed",infoDisabled:"btn",errorDisabled:"btn",defaultDisabled:"bg-gray-300 text-white cursor-not-allowed"},Er={xs:"py-1 px-2 text-xs",sm:"py-1 px-2 text-sm",base:"py-2 px-4 text-base",lg:"py-4 px-6 text-lg",xl:"py-4 px-8 text-xl","2xl":"py-4 px-8 text-xl2"},_r=function(e){var t=e.onClick,n=e.className,r=void 0===n?[]:n,i=e.type,o=e.size,a=e.disabled,l=F(e,Tr);return(r=r instanceof Array?L(r):[r]).includes("floatlabel")||(r.push(Lr[(i||"default")+(a?"Disabled":"")]),r.push(Er[o]||Er.base)),l.Component?m.createElement(l.Component,k({className:r},l)):(0,v.jsx)(Yr,k(k({renderAs:"button",className:r},l),{},{onClick:function(e){e.preventDefault(),t()}}))},jr=function(e){u(n,e);var t=h(n);function n(e){var r;return a(this,n),(r=t.call(this,e)).disconnectEvent=r.disconnectEvent.bind(f(r)),r.errorEvent=r.errorEvent.bind(f(r)),r.connectEvent=r.connectEvent.bind(f(r)),$l().connection.on("disconnect",r.disconnectEvent),$l().connection.on("connect",r.connectEvent),r.state={error:!1,offline:!1},r}return s(n,[{key:"disconnectEvent",value:function(){this.setState({offline:!0})}},{key:"connectEvent",value:function(){this.state&&this.setState({offline:!1})}},{key:"errorEvent",value:function(e,t,n){var r=this;console.log(e),console.log("URL: ".concat(t)),console.log("Line Number: ".concat(n)),this.setState({error:"An error occured. Reload?"}),this.errorTimer&&clearTimeout(this.errorTimer),this.errorTimer=setTimeout((function(){r.setState({error:!1})}),5e3)}},{key:"errorReload",value:function(){window.location.reload()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.errorTimer),$l().connection.off("disconnect",this.disconnectEvent),$l().connection.off("connect",this.connectEvent)}},{key:"render",value:function(){return this.state.error||this.state.offline?(0,v.jsx)(_r,{className:"btn-danger btn",onClick:this.errorReload,children:this.state.error||"Site is offline"}):(0,v.jsx)("div",{})}}]),n}(m.Component),Or=jr,Mr=function(e){u(n,e);var t=h(n);function n(e){var r;return a(this,n),(r=t.call(this,e)).state={error:r.props.error},r}return s(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState({error:e.error})}},{key:"render",value:function(){var e=!0===this.state.error?"Required field":this.state.error,t=["alert"];return t.push("alert-".concat(this.props.type?this.props.type:"danger")),this.props.className&&t.push(this.props.className),e?(0,v.jsx)("p",{className:t.join(" "),dangerouslySetInnerHTML:{__html:$l().t(e)}}):null}}]),n}(m.Component),Ir=Mr,Ar=["type","value"],Fr={text:"appearance-none block bg-grey-lighter text-grey-darker border border-grey-lighter rounded py-1 px-3 shadow-sm",password:"appearance-none block bg-grey-lighter text-grey-darker border border-grey-lighter rounded py-1 px-3 shadow-sm",checkbox:"m-4"},Dr=function(e,t){var n=e.type,r=e.value,i=F(e,Ar),o=(0,m.useRef)(null),a=O((0,m.useState)(r),2),l=a[0],s=a[1],c=t||o,u=(0,m.useRef)();u.current=l,(0,m.useEffect)((function(){u.current!==r&&s(r)}),[r]),(0,m.useEffect)((function(){i.focus&&c.current.focus()}),[i.focus,c]);var d=i.className;n=n||"text",!(d=d instanceof Array?d.flat(1/0).filter((function(e){return e})).join(" "):d)&&["text","password"].includes(n)&&(d="sm:w-1/2 w-full");var f=k(k({},i),{},{ref:c,onChange:function(e){s(e.target.value),i.onChange(e.target.value)},onFocus:function(e){if(i.selectAllOnFocus&&c.current.select(),i.onFocus)return i.onFocus(e)},className:"".concat(Fr[n]," ").concat(d),type:n,value:l,focus:void 0,renderAs:void 0,accessibilityLabel:void 0,accessible:void 0,translate:void 0,accessibilityTraits:void 0,selectAllOnFocus:void 0});return Object.keys(f).filter((function(e){return void 0===f[e]})).forEach((function(e){delete f[e]})),"textarea"===n?(0,v.jsx)("textarea",k({},f)):(0,v.jsx)("input",k({},f))},Pr=m.forwardRef(Dr),Vr=function(e){var t=e.model,n=e.error,r=e.className,i=e.children,o=e.id,a=t.classNameInput;function l(){var e=L(t.classNameLabel||[]);if(t.floatlabel||e.push("mr-3 font-semibold sm:w-32 min-w-32 text-right align-top mt-1"),!t.text)return null;var n="string"===typeof t.text?$l().t(t.text):t.text;return(0,v.jsxs)(Yr,{renderAs:"label",htmlFor:o,className:e,children:[n,t.mandatory&&(0,v.jsx)("span",{className:"text-red-800 text-sm",children:"*"})]})}function s(){n=!0===n?"Required field":n;var e=["text-red-600 ml-3"];return r&&e.push(r),n?(0,v.jsx)("p",{className:e.join(" "),children:$l().t(n)}):null}var c=function(){return t.info?(0,v.jsx)("span",{className:"help-block",children:$l().t(t.info)}):null},u=r||t.className||[];return t.nolabel?(0,v.jsxs)(Yr,{className:u,children:[i,c(),s()]}):t.floatlabel?(0,v.jsxs)(Yr,{className:u,children:[l(),(0,v.jsxs)(Yr,{renderAs:"div",children:[i,c(),s()]})]}):(0,v.jsxs)(Yr,{className:[].concat(L(u),["sm:flex my-2"]),children:[l(),(0,v.jsxs)(Yr,{renderAs:"div",className:a||"flex-grow",children:[i,c(),s()]})]})},zr=function(e){u(n,e);var t=h(n);function n(){return a(this,n),t.apply(this,arguments)}return s(n,[{key:"render",value:function(){return this.props.model.text?this.props.model.mandatory?(0,v.jsxs)("label",{htmlFor:"id_input",className:"col-sm-2 col-form-label",children:[this.props.model.text,(0,v.jsx)("span",{className:"red",children:"*"})]}):(0,v.jsx)("label",{htmlFor:"id_input",className:"col-sm-2 col-form-label",children:this.props.model.text}):null}}]),n}(m.Component),Rr=zr,Br=function(e){u(n,e);var t=h(n);function n(){var e;a(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={inDelay:!0},e}return s(n,[{key:"componentDidMount",value:function(){var e=this;this.delayTimer=setTimeout((function(){return e.setState({inDelay:!1})}),200)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.delayTimer)}},{key:"render",value:function(){return this.state.inDelay?null:(0,v.jsx)("div",{className:"loading m-2 rounded-lg shadow h-2"})}}]),n}(m.Component),Hr=Br,Wr=function(e,t){var n=O((0,m.useState)({}),2),r=n[0],i=n[1];return(0,m.useEffect)((function(){$l().event(e,t).then((function(e){return i(e)}))}),[t,e]),r},Ur=function(e,t){var n=O((0,m.useState)({}),2),r=n[0],i=n[1];return e=e||$l(),(0,m.useEffect)((function(){return e.on(t,i),function(){e.off(t,i)}}),[t,e]),r},qr=function(e){var t=e.view,n=e.model,r=O((0,m.useState)(!1),2),i=r[0],o=r[1];(0,m.useEffect)((function(){var e=function(e){o(e)};return t.on("error",e),function(){t.off("error",e)}}));var a=n.className?n.className.join(" "):"";return i?(0,v.jsx)(Yr,{className:"text-red-500 ml-32 pl-12 ".concat(a),children:$l().t(i)}):null},$r=["renderAs","className","model","accessibilityLabel","accessible","translate","accessibilityTraits","children","onClick","style","title"],Kr=function(e,t){var n=e.renderAs,r=e.className,i=(e.model,e.accessibilityLabel,e.accessible,e.translate,e.accessibilityTraits,e.children),o=e.onClick,a=e.style,l=e.title,s=F(e,$r);return r=r instanceof Array?r.flat(1/0).filter((function(e){return e})).join(" "):r,t||r||n||o||a||Object.keys(s).length?(n&&"input"!==n||(n="div"),m.createElement(n,k(k({},s),{},{title:l,ref:t,className:r,onClick:o,style:a}),i)):i||null},Yr=m.forwardRef(Kr),Gr=function(e){var t=e.options,n=void 0===t?{}:t,r=e.contentType,i=e.addMedia;return(0,m.useEffect)((function(){var e=!1,t=function(){clearTimeout(e),e=setTimeout((function(){e=!1,n.count&&(n.count=parseInt(n.count,10)),$l().database[r].search(n).then((function(e){var t=e.data;t&&t.forEach((function(e){return $l().event("addToCache",{id:e._id,contentType:r,addReferencesToCache:n.addReferencesToCache,addMedia:i,value:e})}))}))}),5e3)};return $l().database[r].on("update",-1e3,t),$l().on(["login","logout"],-1e3,t),function(){e&&clearTimeout(e),$l().database[r].off("update",t),$l().off(["login","logout"],t)}})),null},Qr=function(e){var t=e.view,n=O((0,m.useState)({}),2),r=n[0],i=n[1],o=(0,m.useContext)(ni).search;return(0,m.useEffect)((function(){var e=function(e){var t=e.filter;i(t)};return t.baseView.on("search",-100,e),function(){t.baseView.off("search",e)}}),[t]),(0,m.useEffect)((function(){o.contentType&&!o.filter&&setTimeout((function(){t.baseView.event("getSearch").then((function(e){var t=e.filter;return i(t)}))}),0)}),[o,t]),(0,m.useEffect)((function(){if(r){var e=function(e){return k(k({},e),{},{filter:r})};return t.on("setSearch",10,e),t.event("setSearch"),function(){t.off("setSearch",e)}}}),[r,t]),null},Xr=function(e){var t,n,r,i=e.model,o=e.view,a=O(mo(i.saveId),2),l=a[0],s=a[1],c=(0,m.useRef)();c.current=c.current||l,ai({view:o,id:i.field,value:l,exact:i.exact||void 0});var u={view:o,baseView:o.baseView,baseViewBaseView:null===(t=o.baseView)||void 0===t?void 0:t.baseView,baseViewBaseViewBaseView:null===(n=o.baseView)||void 0===n||null===(r=n.baseView)||void 0===r?void 0:r.baseView}[i.eventType||"baseView"];return(0,m.useEffect)((function(){c.current&&setTimeout((function(){u.getValue(i.value)!==c.current&&u.setValue({path:i.value,value:c.current})}),0)}),[]),(0,m.useEffect)((function(){var e=function(){var e=u.getValue(i.value);l!==e&&s(u.getValue(i.value))};return e(),u.on("change",-100,e),function(){u.off("change",e)}}),[u,i.value,s,l]),null},Jr=function(e){var t=e.id,n=e.contentType,r=e.noAutoUpdate,i=$l().database[n],o=O((0,m.useState)(!1),2),a=o[0],l=o[1];return(0,m.useEffect)((function(){if(t)if(i){var e=!0,o=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.ids;r&&!r.includes(t)||i.get({id:t}).then((function(t){l(k({first:e},t)),e=!1}))};if(o(),!r)return i.on("update",o),function(){i.off("update",o)}}else console.error({id:t,contentType:n,noAutoUpdate:r});else l(!1)}),[r,n,i,t]),k({loading:t&&!a},a)},Zr=function(e){var t=e.model,n=e.path;return(0,m.useContext)(ni).search.data?null:(0,v.jsx)(br,{path:n,items:t.item})},ei=function(e){var t=e.noAutoUpdate,n=e.contentType,r=e.search,i=$l().database[n],o=JSON.stringify(r),a=O((0,m.useState)(r),2),l=a[0],s=a[1],c=O((0,m.useState)(!1),2),u=c[0],d=c[1],f=(0,m.useCallback)((function(e,t){t&&d(!0),i.search(k(k({},e),{},{data:void 0})).then((function(e){s(e),t&&d(!1)}))}),[i,o]);return(0,m.useEffect)((function(){return f(r,!0),t||i.on("update",(function(){return f(l)})),function(){t||i.off("update",f)}}),[t,i,f]),{loading:u,search:l,setSearch:f}},ti=function(e){var t=e.view,n=e.model,r=e.path,i=e.children,o=n.exact,a=n.count,l=n.subView,s=n.filter,c=n.sortby;return(0,m.useEffect)((function(){var e=[n.reversesortby,n.reversesortby2,n.reversesortby3],i=function(){var e={$and:[]};if(!s)return e;var n=function(e){return e.replace(/\{([a-z_.0-9]+)\}/gim,(function(e,n){var i="";return"_language"===n?i=$l().settings.lang:"id"===n?i=t.id:0===n.indexOf("params.")?i=t.params[n.replace("params.","")]:0!==n.indexOf("baseView.")?i=t.getValue(n.replace("..",r)):(n=n.replace("baseView.","")).startsWith("baseView.")?(n=n.replace("baseView.",""),i=t.baseView.baseView.getValue(n.replace("..",r))):i=t.baseView.getValue(n.replace("..",r)),i instanceof Array&&(i=i.join("|")),i||""}))};return s.forEach((function(t){var r={};t.and.forEach((function(e){var t=n(e[1]);t.startsWith("<=")&&(t="<".concat(parseInt(t.substring(2),10)+1)),t.startsWith(">=")&&(t=">".concat(parseInt(t.substring(2),10)-1)),"true"===t&&(t=!0),"false"===t&&(t=!1),r[n(e[0])]=t})),t.exact&&(r.__exact=!0),t.removeifempty&&!Object.values(r).find((function(e){return e}))||e.$and.push(r)})),e},u=t.contentType,d={position:0,exact:o,sortby:(c=c instanceof Array?c:c&&[c])&&c.map((function(e){return e.id})),reverse:e,contentType:u,delay:n.button?-1:parseInt(n.delay,10),noAutoUpdate:n.noAutoUpdate};a&&(d.count=parseInt(a,10)),t.id&&l&&(d.database=t.id);var f=i(),p=function(){var e=JSON.stringify(f);f=i(),e!==JSON.stringify(f)&&t.event("setSearch")},h=function(){return k(k({},d),{},{filter:i()})};return t.on("setSearch",1e3,h),t.on("change",-1e3,p),setTimeout((function(){t.event("setSearch",d)}),0),function(){t.off("setSearch",h),t.off("change",-10,p)}}),[a,o,r,c,l,t]),i||null},ni=m.createContext(),ri=function(e){var t=e.children,n=e.view,i=O((0,m.useState)({}),2),a=i[0],l=i[1],s=O((0,m.useState)(!1),2),c=s[0],u=s[1];return(0,m.useEffect)((function(){var e=n.contentType,t={},i=!1,a=!1,s=!0,c=function(){var l=o(r().mark((function o(l){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(s){r.next=2;break}return r.abrupt("return");case 2:a||(u(!0),n.on("search",200,p),l.noAutoUpdate||$l().database[e].on("update",-1e3,d),$l().on(["login","logout"],-1e3,d),a=!0),l&&(t=k(k({},l),{},{isDirty:!0})),i||-1===t.delay||(i=setTimeout((function(){return d()}),0));case 5:case"end":return r.stop()}}),o)})));return function(e){return l.apply(this,arguments)}}(),d=function(){var e=o(r().mark((function e(){var o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=2;break}return e.abrupt("return");case 2:return i=!1,e.next=5,n.event("search",k(k({},t),{},{data:void 0}));case 5:return o=e.sent,l(k(k({},o),{},{isDirty:!1})),u(!1),e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){return t};n.on("getSearch",f),n.on("setSearch",-500,c);var p=function(t){return $l().database[e].search(k(k({},t),{},{data:void 0}))};return function(){s=!1,n.off("setSearch",c),a&&(n.off("search",p),$l().database[e].off("update",d),$l().off(["login","logout"],d)),n.off("getSearch",f)}}),[n]),(0,v.jsx)(ni.Provider,{value:{loading:c,search:a},children:t})},ii=function(e){var t=e.model,n=e.view,r=(0,m.useContext)(ni).search,i=O((0,m.useState)(),2),o=i[0],a=i[1];return(0,m.useEffect)((function(){if(o){var e=function(e){return k(k({},e),{},{count:o})};return n.on("setSearch",e),n.event("setSearch"),function(){n.off("setSearch",e)}}}),[o,n]),r.count>r.searchTotal?null:(0,v.jsx)(_r,{className:t.className,type:"lsdkfh",onClick:function(){a((o||r.count||0)+parseInt(t.amount,10))},children:t.text})},oi=function(e){var t=e.model,n=e.path;return(0,m.useContext)(ni).search.data?(0,v.jsx)(br,{path:n,items:t.item}):null},ai=function(e){var t=e.view,n=e.id,r=e.value,i=e.exact,o=void 0!==i&&i,a=(0,m.useRef)(void 0);(0,m.useEffect)((function(){if(void 0!==r||void 0!==a.current){var e=function(e){e.filter=e.filter||{},e.filter.$and=e.filter.$and||[];var t=o?{__exact:!0}:{};(n instanceof Array?n:[n]).forEach((function(e){t[e]=r})),e.filter.$and.push(t)};return void 0!==r&&t.on("setSearch",e),t.event("setSearch"),a.current=r,function(){void 0!==r&&t.off("setSearch",e)}}}),[o,n,r,t])},li=function(e){u(n,e);var t=h(n);function n(e){var r;return a(this,n),(r=t.call(this,e)).model=e.model,r.props.view.searchProp.onUpdate(r.update),r.classNameBase=r.model.className?r.model.className:[],r.updateCounter=0,r}return s(n,[{key:"update",value:function(){if(this.id){var e={},t=this.model.id;e.from=this.props.view.searchProp.filter.get("".concat(this.id,"_from")),"undefined"!==typeof e.from&&e.from[t]?e.from=e.from[t].substring(1):delete e.from,e.to=this.props.view.searchProp.filter.get("".concat(this.id,"_to")),"undefined"!==typeof e.to&&e.to[t]?e.to=e.to[t].substring(1):delete e.to,"undefined"===typeof e.from&&"undefined"===typeof e.to||this.setState(e)}var n=this;this.updateCounter>0&&this.updateCounter--,""===this.state.className||this.updateCounter>0||(this.setState({className:"has-success"}),this.delayTimer=setTimeout((function(){n.isMounted()&&n.setState({className:""})}),1e3))}},{key:"search",value:function(e,t){var n=this;clearTimeout(this.delayTimer);var r={className:"has-warning"};r[e]=t,this.setState(r),this.delayTimer=setTimeout((function(){n.updateCounter++,t&&(t="to"===e?"<".concat(t):">".concat(t)),n.props.view.searchProp.filter.add(n.model.id,t,"".concat(n.id,"_").concat(e))}),200)}},{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){this.props.view.searchProp.offUpdate(this.update),clearTimeout(this.delayTimer)}},{key:"render",value:function(){var e=this.props.model,t=e.className&&!this.props.wrapper?e.className.join(" "):"",n={width:"150px"};return(0,v.jsxs)("div",{className:"".concat(t," form-inline"),children:[this.model.text,(0,v.jsx)(xi,{style:n,model:{id:"from",placeholder:"From",clearButton:!0},value:this.state.from,setValue:this.search})," - ",(0,v.jsx)(xi,{style:n,model:{id:"to",placeholder:"To",clearButton:!0},value:this.state.to,setValue:this.search})]})}}]),n}(m.Component),si=li,ci={id:"year",option:[1200],render:"button",limit:1,text:"Year"},ui=Array.from({length:12},(function(e,t){return new Date(null,t+1,null).toLocaleDateString("en",{month:"short"})})),di={id:"month",option:ui,render:"button",limit:1,text:"Month"},fi={id:"day",option:[],render:"button",limit:1,text:"Day"},pi=function(e,t){return new Date(e,t,0).getDate()},hi=function(e,t){return Array.from({length:t-e},(function(t,n){return parseInt(e,10)+n}))},mi=function(e){var t=e.utc,n=e.year,r=e.month,i=void 0===r?0:r,o=e.day,a=void 0===o?1:o;return t?Date.UTC(n,i,a):new Date(n,i,a).getTime()},vi={getFullYear:"getUTCFullYear",getMonth:"getUTCMonth",getDate:"getUTCDate"},gi=function(e,t,n){return t?new Date(t)[e?vi[n]:n]():void 0},yi=function(e){var t=e.model,n=e.view,r=O((0,m.useState)(hi(t.from,t.to)),1)[0],i=O(mo(t.saveIdFrom,"int"),2),o=i[0],a=i[1],l=O(mo(t.saveIdTo,"int"),2),s=l[0],c=l[1];ai({view:n,id:t.id,value:o&&">".concat(o-1)}),ai({view:n,id:t.id,value:s&&"<".concat(s+1)});var u=t.utc,d=gi(u,o,"getFullYear"),f=gi(u,o,"getMonth"),p=gi(u,s,"getMonth"),h=f===p?ui[f]:null,g=gi(u,o,"getDate"),y=gi(u,s,"getDate"),b=g===y?y:null,x=function(e){a(e&&mi({utc:u,year:e})),c(e&&mi({utc:u,year:e+1})-1)},w=function(e){if(e){var t=ui.indexOf(e);a(mi({utc:u,year:d,month:t})),c(mi({utc:u,year:d,month:t+1})-1)}else x(d)};return(0,v.jsxs)(Vr,{model:t,children:[(0,v.jsx)(Ht,{model:k(k({},ci),{},{classNameInput:"yearExposedField",option:r}),value:d,setValue:x}),d&&t.month&&(0,v.jsx)(Ht,{model:di,value:h,setValue:w}),h&&t.day&&(0,v.jsx)(Ht,{model:k(k({},fi),{},{option:hi(1,pi(d,f)+1),classNameInput:"dayExposedField"}),value:b,setValue:function(e){var t=f;e?(a(mi({utc:u,year:d,month:t,day:e})),c(mi({utc:u,year:d,month:t,day:e+1})-1)):w(ui[t])}})]})},bi=function(e){var t=e.value,n=e.model;return n.mandatory&&!t&&(n.text_mandatory||"Field is mandatory")},xi=function(e){var t=e.model,n=e.view,r=e.setValue,i=e.value,o=t.dateType,a=void 0===o?["date","time"]:o,l=O(Nr({view:n,validate:bi,value:i,model:t}),2),s=l[0],c=l[1],u=function(e){r(e),c(!0)};return(0,v.jsx)(Vr,{model:t,error:s,children:(0,v.jsxs)(Yr,{className:"flex",children:[a.includes("date")&&(0,v.jsx)(Ni,{model:t,value:i,setValue:u}),a.includes("time")&&(0,v.jsx)(Ti,{model:t,value:i,setValue:u})]})})},wi=n(4233),ki=n.n(wi),Ci=function(e){var t=e.setValue;return(0,v.jsx)($o,{onClick:function(){return t("")},className:"absolute right-0 top-0 m-3 w-4",icon:"xmark","aria-hidden":"true"})},Si="YYYY-MM-DD",Ni=function(e){var t=e.model,i=e.focus,a=e.setValue,l=e.value,s=O((0,m.useState)(l?ki()(l).format(Si):""),2),c=s[0],u=s[1],d=t.disabled,f=t.length,p=t.text,h=(0,m.useRef)(null),g=(0,m.useCallback)((function(){var e=this.getDate();a(ki()(e).valueOf())}),[a]);return(0,m.useEffect)((function(){u(l?ki()(l).format(Si):"")}),[l]),(0,m.useEffect)((function(){var e=function(){var e=o(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(2387).then(n.bind(n,2387));case 2:t=e.sent,(0,t.pikaday)({field:h.current,format:Si,onSelect:g,firstDay:1}),h.current.value=c;case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,v.jsxs)(Yr,{className:"relative w-full",children:[(0,v.jsx)("input",{ref:h,placeholder:$l().t(p),className:"bg-grey-lighter text-grey-darker border-grey-lighter block w-full appearance-none rounded border py-2 px-3",value:c,maxLength:f,onChange:function(e){return u(e.target.value)},disabled:d,type:"text",focus:i,onBlur:function(){return a(ki()(c).valueOf())}}),l?(0,v.jsx)(Ci,{setValue:a}):null]})},Ti=function(e){var t=e.model,n=e.focus,r=e.setValue,i=e.value,o=t.disabled,a=t.length,l=t.inputClassName,s=void 0===l?[]:l,c=O((0,m.useState)(""),2),u=c[0],d=c[1];return(0,m.useEffect)((function(){d(i?ki()(i).format("HH:mm"):"")}),[i]),(0,v.jsx)(Yr,{className:"flex",children:(0,v.jsx)(Pr,{placeholder:$l().t("Time"),className:["w-40",s],value:u,maxLength:a,onChange:function(e){return d(e)},disabled:o,type:"text",focus:n,onBlur:function(){if(u){var e=ki()(i||Date.now()).format("YYYY-MM-DD");r(ki()("".concat(e," ").concat(function(e){e>100&&(e/=100);var t=e.toString().split(/[^0-9]/).filter((function(e){return e})),n=100*parseFloat(".".concat(t[1]||0));return"".concat(t[0],":").concat(n<10?"0".concat(n):n)}(u))).valueOf())}}})})},Li=[{name:"year",div:526176,sub:"y"},{name:"day",div:1440,sub:"d"},{name:"hour",div:60,sub:"h"},{name:"minit",div:1,sub:"m"}],Ei=function(e){var t=e.model,n=e.value,r=t.className,i=t.renderAs,o=t.addSub,a=t.show,l=t.fallback,s=void 0===l?"":l;n=parseInt(n,10);var c=(Date.now()-parseInt(n,10))/1e3/60,u=n&&Li.map((function(e){var t=e.name,n=e.div,r=e.sub,i=Math.trunc(c/n);if(c-=i*n,a.includes(t))return o?i+r:i})).filter((function(e){return void 0!==e})).join(" ");return(0,v.jsx)(Yr,{renderAs:i,className:r,children:u||s})},_i=function(e){return(0,v.jsx)(ln,k({},e))},ji={year:"YYYY",dateLong:"YYYY-MM-DD",timeLong:"H:mm",dateTimeLong:"YYYY-MM-DD HH:mm",dateTimeNoYear:"D/M H:mm",dateTimeNoYearDay:"ddd D/M H:mm",dateNoYearDay:"ddd D/M",timeDay:"ddd D/M H:mm",dateNoYear:"D/M",day:"dddd"},Oi=function(e){var t=e.model,n=e.value,r=t.className,i=t.renderAs,o=t.dateFormat,a=ji[o]?ji[o]:o||ji.dateTimeLong,l=(n=parseInt(n,10))&&t.relative&&n+864e5-Date.now();(l=!l||l<0?0:l)&&ki()().startOf("day").valueOf()>n&&(l=0);var s=(0,m.useCallback)((function(){return l?ki()(n).format("H:mm"):ki()(n).format(a)}),[a,l,n]),c=O((0,m.useState)(s()),2),u=c[0],d=c[1],f=(0,m.useRef)();return f.current=u,(0,m.useEffect)((function(){if(f.current!==s()&&d(s()),l){var e=setInterval((function(){return d(s())}),3e4);return function(){clearInterval(e)}}}),[s,l]),(0,v.jsx)(Yr,{renderAs:i,className:r,children:$l().t(n?u:"")})},Mi=["className","alt","src"],Ii=function(e){if(/^https?:/im.test(e))return e;var t=$l().settings,n=t.domain,r=t.secure;return"http".concat(r?"s":"","://").concat(n).concat(e)},Ai=function(e){var t=e.className,n=e.alt,r=e.src,i=F(e,Mi);return(0,v.jsx)("img",k(k({alt:n},i),{},{className:t instanceof Array?t.flat(1/0).filter((function(e){return e})).join(" "):t,src:Ii(r)}))},Fi=function(e){var t=e.model;return(0,v.jsx)(Ai,{alt:"logo",className:t.className,width:t.width,height:t.height,src:t.fullPath?t.filename:"/image/".concat(t.filename)})},Di=navigator.standalone||matchMedia("(display-mode: standalone)").matches,Pi=function(e){var t=e.model,n=e.view,r=O((0,m.useState)(!1),2),i=r[0],o=r[1],a=O((0,m.useState)($l().uuid),1)[0];return(0,m.useEffect)((function(){if(i){$l().event("canRunAppInstall").then((function(e){var t=e.installable;Di=Di||!t}));var e=function(){return $l().event("runAppInstall")};return n.on(["save"],e),$l().on(["login"],e),function(){n.off(["save"],e),setTimeout((function(){$l().off(["login"],e)}),200)}}}),[i,n]),Di?null:(0,v.jsx)(Vr,{id:a,model:t,error:!1,children:(0,v.jsx)(Pr,{id:a,className:t.classNameInput,checked:i,onChange:function(){return o(!i)},disabled:t.disabled,type:"checkbox"})})},Vi=navigator.standalone||matchMedia("(display-mode: standalone)").matches,zi=function(e){var t=e.model;return Vi?null:(0,v.jsx)("div",{className:t.className,children:(0,v.jsx)(_r,{type:t.btnType,onClick:function(){return $l().event("runAppInstall")},children:$l().t(t.text||"...")})})};navigator.standalone?console.log("Launched: Installed (iOS)"):matchMedia("(display-mode: standalone)").matches&&console.log("Launched: Installed");var Ri=function(e){var t=e.model,n=Wr("getAppVersion").appVersion;return(0,v.jsxs)(Yr,{className:t.className,children:[(0,v.jsxs)(Yr,{className:"mb-2",children:["App version: ",n||""]}),(0,v.jsx)(Yr,{className:"mb-2",children:"The button below will require you to log in again."}),(0,v.jsx)(_r,{type:t.btnType,onClick:function(){return $l().event("clearCacheAndReload")},children:$l().t(t.text||"...")})]})},Bi={description:'meta[name="description"]',"og:title":'meta[property="og:title"]',"og:description":'meta[property="og:description"]',"og:url":'meta[property="og:url"]',"og:image":'meta[property="og:image"]'},Hi=function(e,t){var n=document.querySelector(Bi[e]);if(!n){var r=document.getElementsByTagName("head")[0];(n=document.createElement("meta")).setAttribute("property",e),r.appendChild(n)}n.setAttribute("content",t)},Wi=function(e){var t=e.model,n=e.view,r=e.path;return(0,m.useEffect)((function(){var e,i,o=(e=t.fieldFormat)?e.replace(/\{([a-z0-9_.]+)\}/gim,(function(e,t){return"_language"===t?$l().settings.lang:"location.href"===t?window.location.href:"location.origin"===t?window.location.origin:"id"===t?n.id:n.getValue(t.replace("..",r))||"{{}}"})):e;if(o&&-1===o.indexOf("{{}}"))return"title"===t.field?(i=document.title,document.title=o):(i=function(e){var t=document.querySelector(Bi[e]);return t?t.getAttribute("content"):""}(t.field),Hi(t.field,o)),function(){"title"===t.field?document.title=i:Hi(t.field,i)}}),[t,r,n]),null},Ui={start:function(e,t){return e.startsWith(t.substring(0,t.length-1))},end:function(e,t){return e.endsWith(t.substring(1))},includes:function(e,t){return e.includes(t.substring(1,t.length-1))},exact:function(e,t){return e===t}},qi=function(e){var t=xo().pathname,n=e.className,r=e.children,i=e.source,o=e.exclude,a=e.match,l=t;if(":"===l[2]&&(l=l.substring(3)),o===l)return null;var s=function(e,t){return t&&"*"!==t?(t instanceof Array||(t=[t]),t.find((function(t){return n=t.endsWith("*")?"start":"exact",t.startsWith("*")&&(n="start"===n?"includes":"end"),Ui[n](e,t)}))&&n):"exact";var n}(l,e.match);return s?r?r instanceof Array&&r.length?(0,v.jsx)(Yr,{className:n,children:r}):r:(i&&(i.includes("*")?"start"===s?l=i.substring(0,i.length-1)+l.substring(a.length-1):"includes"===s&&(l=i):l=i),l=l.split("/"),(0,v.jsx)(Sr,{className:n,contentType:l[1],format:l[2],id:l[3],params:t.split("/").slice(1),noForm:e.noForm},l.join("-"))):null},$i=function(e){var t=e.to,n=e.className,r=e.match,i=e.children,o=e.exact,a=xo(r||t,o),l=a.isMatch,s=a.pathname;return t!==s&&t?(0,v.jsx)(Yr,{renderAs:"a",href:t||"/",className:[n,l&&"active"],onClick:function(e){e.preventDefault(),window.history.pushState({},"",t)},children:i}):(0,v.jsx)(Yr,{className:[n,l&&"active"],children:i})},Ki=function(){return null},Yi=window.history,Gi=[],Qi=0,Xi=function(){var e=xo(),t=Gi.reduce((function(t,n,r){return t||e.key===n.key&&r+1}),!1)||Gi.length+1;return t===Gi.length+1&&(t=(Gi=Gi.slice(0,Qi)).length+1),t===Gi.length+1&&Gi.push(e),Qi=t,$l().routerHistory={history:Gi,at:Qi,routerHistory:Yi},null},Ji=["model","path","children"],Zi=["style"].map((function(e){return e.toUpperCase()})),eo=function(e){var t=e.model,n=e.path,r=e.children,i=F(e,Ji),o=xo(),a=t||i,l=a.className,s=a.renderAs,c=a.item,u=O((0,m.useState)(!1),2),d=u[0],f=u[1],p=(0,m.useRef)();return(0,m.useEffect)((function(){f(!1),setTimeout((function(){var e=L(p.current.parentElement.children).map((function(e){return e.nodeName})).filter((function(e){return!Zi.includes(e)}));e.length<2&&f(!0)}),200)}),[o.pathname,p,f]),d?(0,v.jsx)("div",{ref:p,className:l&&l.join(" "),renderAs:s,children:r||(0,v.jsx)(br,{path:n,items:c})}):(0,v.jsx)("div",{ref:p})},to=function(e){var t=e.to,n=e.model,r=void 0===n?{}:n,i=e.view,o=e.path;return(0,m.useEffect)((function(){var e;window.history.replaceState({},"",(e=r.to||t)&&e.replace(/\{([a-z_.0-9]+)\}/gim,(function(e,t){return/pathItem[0-9]/.test(t)&&i.params?i.params[t[8]]:i.getValue(t.replace("..",o))})))}),[]),null},no={},ro=0,io=function e(){document.documentElement.scrollTop!==no[window.location.pathname]&&(5!==++ro?(document.documentElement.scrollTop=no[window.location.pathname],setTimeout(e,120)):ro=0)},oo=function(){return(0,m.useEffect)((function(){window.addEventListener("popstate",(function(){return no[window.location.pathname]&&setTimeout(io,120)})),window.addEventListener("scroll",(function(){no[window.location.pathname]=document.documentElement.scrollTop}))}),[]),null},ao=n(2007),lo=n.n(ao),so=function(e){u(n,e);var t=h(n);function n(){var e;a(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).getPath=function(e){return e.router.history.location.pathname},e}return s(n,[{key:"componentDidMount",value:function(){var e=this,t=this.getPath(this.context);console.log("pathname",t),"storage"===this.props.save?$l().storage.getItem({id:"router.pathname"}).then((function(n){var r=n.value;r&&r!==t?window.history.replaceState({},"",r):e.props.start&&"/"===t&&window.history.replaceState({},"",e.props.start)})):"memory"===this.props.save&&$l().pathname?$l().pathname!==t&&window.history.replaceState({},"",$l().pathname):this.props.start&&"/"===t?window.history.replaceState({},"",this.props.start):this.props.redirect&&0===t.indexOf(this.props.match)&&(t=t.replace(this.props.match,""),window.history.replaceState({},"",this.props.redirect+t))}},{key:"componentWillUnmount",value:function(){}},{key:"UNSAFE_componentWillReceiveProps",value:function(){"memory"===this.props.save&&($l().pathname=this.getPath(this.context)),"storage"===this.props.save&&$l().storage.setItem({id:"router.pathname",value:this.getPath(this.context)})}},{key:"render",value:function(){return null}}]),n}(m.Component);so.contextTypes={router:lo().object};var co,uo=so,fo=!1,po=function(){var e=xo();return e.pathname!==fo&&(fo=e.pathname,document.documentElement.scrollTop=0),null},ho={int:function(e){return parseInt(e||0,10)},float:function(e){return parseFloat(e)},array:function(e){return""===e?void 0:e}},mo=function(e,t,n){var r=xo(),i=(0,m.useRef)(),o=r.search,a=(0,m.useCallback)((function(n){if(!e)return"";var r="\\&".concat(e,"=([^\\s&]+)"),i=O(n.match(new RegExp(r,"im"))||[],2)[1],o=void 0===i?"":i;return t?ho[t](o):o}),[e,t]),l=O((0,m.useState)(e?a(o):t?ho[t](""):""),2),s=l[0],c=l[1];(0,m.useEffect)((function(){if(n){var e=a(o);e!==s&&c(e)}}),[a,n,o,s]);return[""===s?void 0:s,function(t){if(c(t),e){var i=r.pathname,o=r.search,a="(^\\?)|(\\&".concat(e,"=[^\\s&]*)"),l=o.replace(new RegExp(a,"gi"),""),s=t?"&".concat(e,"=").concat(t):"";window.history[n?"pushState":"replaceState"]({},"","".concat(i,"?").concat(l).concat(s))}},i]},vo=function(e){var t,n=e.model,r=e.view,i=e.path,o=n.className,a=n.renderAs,l=n.item;return xo().pathname.match(new RegExp((t=n.match)&&t.replace(/\{([a-z_.0-9]+)\}/gim,(function(e,t){return/pathItem[0-9]/.test(t)&&r.params?r.params[t[8]]:r.getValue(t.replace("..",i))}))))?(0,v.jsx)(Yr,{className:o,renderAs:a,children:(0,v.jsx)(br,{path:i,items:l})}):null},go=function(e){var t,n=e.model,r=e.path,i=n=n||{},o=i.className,a=i.renderAs,l=i.items.map((function(e){return k(k({},e),{},{pos:e.paths.reduce((function(e,t){var n=function(e){var t=$l().routerHistory,n=t.history,r=t.at,i=n.slice(0,r);i.reverse();var o=i.reduce((function(t,n,r){var o=n.pathname;if(t)return t;if("/"===e){if("/"===o)return i.length-r+1}else if(new RegExp(e).test(o))return i.length-r+1;return 0}),0);return o}(t);return n>e?n:e}),0)})}));return l.sort((t="pos",function(e,n){var r=e[t],i=n[t];return void 0===r?void 0===i?0:1:void 0===i||r<i?-1:r>i?1:0})),l.reverse(),(0,v.jsx)(Yr,{className:o,renderAs:a,children:(0,v.jsx)(br,{path:r,items:l.reduce((function(e,t){return[].concat(L(e),L(t.item))}),[])})})},yo={start:function(e,t){return e.startsWith(t.substring(0,t.length-1))},end:function(e,t){return e.endsWith(t.substring(1))},includes:function(e,t){return e.includes(t.substring(1,t.length-1))},exact:function(e,t){return e===t}},bo=function(e,t){return t&&"*"!==t?(t instanceof Array||(t=[t]),t.find((function(t){var n=t.endsWith("*")?"start":"exact";return t.startsWith("*")&&(n="start"===n?"includes":"end"),yo[n](e,t)}))):"exact"},xo=function(e){var t=O((0,m.useState)(window.location),2),n=t[0],r=t[1];return(0,m.useEffect)((function(){var e=function(){r(k({},window.location))};return window.addEventListener("locationchange",e),function(){window.removeEventListener("locationchange",e)}}),[]),e?k(k({},n),{},{isMatch:bo(n.pathname,e)}):n};window.history.pushState=(co=history.pushState,function(){var e=co.apply(this,arguments);return window.dispatchEvent(new Event("pushstate")),window.dispatchEvent(new Event("locationchange")),e}),history.replaceState=function(e){return function(){var t=e.apply(this,arguments);return window.dispatchEvent(new Event("replacestate")),window.dispatchEvent(new Event("locationchange")),t}}(history.replaceState),window.addEventListener("popstate",(function(){window.dispatchEvent(new Event("locationchange"))}));var wo=function(e){var t=e.value,n=e.model;return n.mandatory&&!t[0]?n.text_mandatory:!(!t[0]&&!t[1])&&(t[0].length<n.length?"Password must be at least ".concat(n.length," characters"):t[0]!==t[1]&&"Repeated password must match")},ko=function(e){var t=e.model,n=e.value,r=e.view,i=e.setValue,o=O((0,m.useState)(""),2),a=o[0],l=o[1],s=O((0,m.useState)(""),2),c=s[0],u=s[1],d=O(Nr({view:r,validate:wo,value:[a,c],model:t}),2),f=d[0],p=d[1];return(0,v.jsxs)(Vr,{model:t,error:f,children:[(0,v.jsx)("div",{children:(0,v.jsx)(Pr,{placeholder:$l().t(t.text),className:[t.classNameInput,"confirm-input"],value:a,onChange:function(e){p(!0),l(e),e===c?i(a):n&&i("")},type:"password",autoComplete:"new-password"})}),(0,v.jsx)("div",{children:(0,v.jsx)(Pr,{placeholder:$l().t("Repeat"),className:[t.classNameInput,"confirm-input"],value:c,onChange:function(e){p(!0),u(e),e===a?i(a):n&&i("")},type:"password",autoComplete:"new-password"})})]})},Co=function(e){var t=e.model,n=e.value,r=e.setValue,i=t.disabled,o=t.text,a=t.classNameInput,l=void 0===a?[]:a,s=O((0,m.useState)($l().uuid),1)[0];return(0,v.jsx)(Vr,{model:t,id:s,children:(0,v.jsx)(Pr,{id:s,placeholder:$l().t(o),className:l||"sm:w-1/2 w-full",value:n||"",onChange:r,type:"password",disabled:i})})},So=function(e){var t=e.model,n=e.value,r=e.setValue,i=t.disabled,o=t.text,a=t.classNameInput,l=void 0===a?[]:a,s=O((0,m.useState)($l().uuid),1)[0];return(0,v.jsx)(Vr,{model:t,id:s,children:(0,v.jsx)(Pr,{id:s,placeholder:$l().t(o),className:l||"w-full sm:w-1/2",value:n||"",onChange:r,type:"password",disabled:i})})},No=function(e){u(n,e);var t=h(n);function n(){return a(this,n),t.apply(this,arguments)}return s(n,[{key:"render",value:function(){return null}}]),n}(m.Component),To=No,Lo=function(e){u(n,e);var t=h(n);function n(e){var r;return a(this,n),r=t.call(this,e),$l().on("login",r.sessionChange),$l().on("logout",r.sessionChange),r.sessionChange(),p(r,{})}return s(n,[{key:"sessionChange",value:function(){var e=$l.session.user,t=this.props.model.fields;if(e||(e={}),t&&t.length)for(var n=0;n<t.length;n++)this.props.setValue(t[n],e[t[n]]);else this.props.setValue(!1,e)}},{key:"render",value:function(){return null}}]),n}(m.Component),Eo=Lo,_o=function(e){u(n,e);var t=h(n);function n(e){var r;return a(this,n),r=t.call(this,e),$l().on("login",r.sessionChange.bind(f(r))),$l().on("logout",r.sessionChange.bind(f(r))),r.state={visible:r.isVisible(e)},r}return s(n,[{key:"contains",value:function(e,t){"string"===typeof e&&(e=[e]),"string"===typeof t&&(t=[t]);for(var n=0;n<e.length;n++)if(-1!==t.indexOf(e[n]))return!0;return!1}},{key:"isVisible",value:function(e){var t=$l().session.user,n=t&&t.role?["logged-in"].concat(t.role):["logged-out"];return this.contains(e.role.split(" "),n)}},{key:"sessionChange",value:function(){var e=this.isVisible(this.props);e!==this.state.visible&&this.setState({visible:e})}},{key:"render",value:function(){return this.state.visible?(0,v.jsx)(Yr,{className:this.props.className,children:this.props.children}):null}}]),n}(m.Component),jo=_o,Oo=["children","model","path"],Mo=["item","to","btnType"],Io=function(e){var t=e.children,n=e.model,r=e.path,i=F(e,Oo),o=n||i,a=o.item,l=o.to,s=o.btnType,c=F(o,Mo);return(0,v.jsx)(_r,k(k({},c),{},{type:s,onClick:function(e){e.preventDefault(),$l().session.logout(),l&&window.history.replaceState({},"",l)},children:t||(0,v.jsx)(br,{path:r,items:a})}))},Ao=function(e){return e&&!e.role},Fo=function(e){var t=e.model,n=void 0===t?{}:t,r=e.children,i=e.path,o=e.className,a=O((0,m.useState)(Ao($l().session.user)),2),l=a[0],s=a[1];return(0,m.useEffect)((function(){var e=function(){s(Ao($l().session.user))};return $l().on("logout",e),$l().on("login",e),function(){$l().off("login",e),$l().off("logout",e)}}),[]),l?(o=n.className||o,r?(0,v.jsx)(Yr,{className:o,children:r}):(0,v.jsx)(Yr,{className:o,children:(0,v.jsx)(br,{path:i,items:n.item})})):null},Do=function(e){var t=e.userrole,n=e.model,r=void 0===n?{}:n,i=e.children,o=e.path,a=e.className,l=O((0,m.useState)(!1),2),s=l[0],c=l[1];return(0,m.useEffect)((function(){var e=function(){var e=r.role||t;e="string"===typeof e?e.split(" "):e;var n=($l().session.user||{}).role,i=n?["logged-in"].concat(n):"logged-out";c(function(e,t){e instanceof Array||(e=[e]),t instanceof Array||(t=[t]);for(var n=0;n<e.length;n++)if(-1!==t.indexOf(e[n]))return!0;return!1}(i,e))};return $l().on("logout",-1e3,e),$l().on("login",-1e3,e),e(),function(){$l().off("login",e),$l().off("logout",e)}}),[r.role,t]),s?i?(0,v.jsx)(Yr,{className:r.className||a,children:i}):(0,v.jsx)(Yr,{className:r.className,children:(0,v.jsx)(br,{path:o,items:r.item})}):null},Po=["view","model"],Vo=function(e){var t=e.view,n=e.model,i=F(e,Po),a=n||i,l=a.contentType,s=a.toFormat,c=function(){var e=O((0,m.useState)(),2),t=e[0],n=e[1];return(0,m.useEffect)((function(){var e=function(){var e=o(r().mark((function e(){var t,i,o,a,l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=$l().session.user,i=t._id,o=t.contentType,e.next=3,$l().database[o].get({id:i});case 3:a=e.sent,l=a.data,n(l);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return $l().on("login",-10,e),$l().on("logout",-10,e),e(),function(){$l().off("login",e),$l().off("logout",e)}}),[]),t}();return c?(0,v.jsx)(Sr,{contentType:l,format:s,value:c,baseView:t}):null},zo=function(e){var t=e.view;return(0,m.useEffect)((function(){var e=function(){var e=$l().session.user,n=undefined.props.model.fields;if(e||(e={}),n&&n.length)for(var r=0;r<n.length;r++)t.setValue(n[r],e[n[r]]);else t.setValue(!1,e)};return $l().on("login",e),$l().on("logout",e),e(),function(){$l().off("login",e),$l().off("logout",e)}}),[t]),null},Ro=function(e){var t=e.view,n=e.model,i=O((0,m.useState)($l().t("Log in")),2),a=i[0],l=i[1],s=function(){var e=o(r().mark((function e(){var i,o,a,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.event("validate");case 2:if(i=e.sent,o=i.errors,!(void 0===o?[]:o).length){e.next=8;break}return t.event("error","Correct validation errors"),e.abrupt("return");case 8:return l("Logging in"),t.value.contentType=t.contentType,e.next=12,$l().session.login(t.value);case 12:a=e.sent,"missing"===(s=a.error)?t.event("error","Email does not exist"):"password"===s?t.event("error","Password error"):n.redirectURL&&window.history.replaceState({},"",n.redirectURL),l("Log in");case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,v.jsx)(_r,{className:n.className,type:n.btnType,size:n.size,onClick:s,children:a})},Bo=function(e){var t=e.model;return(0,v.jsx)($o,{className:t.className,icon:t.icon,title:t.title,deg:"0"!==t.deg&&t.deg})},Ho=JSON.parse('{"bars":"0 0 448 512|M0 96C0 78.33 14.33 64 32 64H416C433.7 64 448 78.33 448 96C448 113.7 433.7 128 416 128H32C14.33 128 0 113.7 0 96zM0 256C0 238.3 14.33 224 32 224H416C433.7 224 448 238.3 448 256C448 273.7 433.7 288 416 288H32C14.33 288 0 273.7 0 256zM416 448H32C14.33 448 0 433.7 0 416C0 398.3 14.33 384 32 384H416C433.7 384 448 398.3 448 416C448 433.7 433.7 448 416 448z","chevron-right":"0 0 320 512|M96 480c-8.188 0-16.38-3.125-22.62-9.375c-12.5-12.5-12.5-32.75 0-45.25L242.8 256L73.38 86.63c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0l192 192c12.5 12.5 12.5 32.75 0 45.25l-192 192C112.4 476.9 104.2 480 96 480z","gear":"0 0 512 512|M495.9 166.6C499.2 175.2 496.4 184.9 489.6 191.2L446.3 230.6C447.4 238.9 448 247.4 448 256C448 264.6 447.4 273.1 446.3 281.4L489.6 320.8C496.4 327.1 499.2 336.8 495.9 345.4C491.5 357.3 486.2 368.8 480.2 379.7L475.5 387.8C468.9 398.8 461.5 409.2 453.4 419.1C447.4 426.2 437.7 428.7 428.9 425.9L373.2 408.1C359.8 418.4 344.1 427 329.2 433.6L316.7 490.7C314.7 499.7 307.7 506.1 298.5 508.5C284.7 510.8 270.5 512 255.1 512C241.5 512 227.3 510.8 213.5 508.5C204.3 506.1 197.3 499.7 195.3 490.7L182.8 433.6C167 427 152.2 418.4 138.8 408.1L83.14 425.9C74.3 428.7 64.55 426.2 58.63 419.1C50.52 409.2 43.12 398.8 36.52 387.8L31.84 379.7C25.77 368.8 20.49 357.3 16.06 345.4C12.82 336.8 15.55 327.1 22.41 320.8L65.67 281.4C64.57 273.1 64 264.6 64 256C64 247.4 64.57 238.9 65.67 230.6L22.41 191.2C15.55 184.9 12.82 175.3 16.06 166.6C20.49 154.7 25.78 143.2 31.84 132.3L36.51 124.2C43.12 113.2 50.52 102.8 58.63 92.95C64.55 85.8 74.3 83.32 83.14 86.14L138.8 103.9C152.2 93.56 167 84.96 182.8 78.43L195.3 21.33C197.3 12.25 204.3 5.04 213.5 3.51C227.3 1.201 241.5 0 256 0C270.5 0 284.7 1.201 298.5 3.51C307.7 5.04 314.7 12.25 316.7 21.33L329.2 78.43C344.1 84.96 359.8 93.56 373.2 103.9L428.9 86.14C437.7 83.32 447.4 85.8 453.4 92.95C461.5 102.8 468.9 113.2 475.5 124.2L480.2 132.3C486.2 143.2 491.5 154.7 495.9 166.6V166.6zM256 336C300.2 336 336 300.2 336 255.1C336 211.8 300.2 175.1 256 175.1C211.8 175.1 176 211.8 176 255.1C176 300.2 211.8 336 256 336z","code":"0 0 640 512|M414.8 40.79L286.8 488.8C281.9 505.8 264.2 515.6 247.2 510.8C230.2 505.9 220.4 488.2 225.2 471.2L353.2 23.21C358.1 6.216 375.8-3.624 392.8 1.232C409.8 6.087 419.6 23.8 414.8 40.79H414.8zM518.6 121.4L630.6 233.4C643.1 245.9 643.1 266.1 630.6 278.6L518.6 390.6C506.1 403.1 485.9 403.1 473.4 390.6C460.9 378.1 460.9 357.9 473.4 345.4L562.7 256L473.4 166.6C460.9 154.1 460.9 133.9 473.4 121.4C485.9 108.9 506.1 108.9 518.6 121.4V121.4zM166.6 166.6L77.25 256L166.6 345.4C179.1 357.9 179.1 378.1 166.6 390.6C154.1 403.1 133.9 403.1 121.4 390.6L9.372 278.6C-3.124 266.1-3.124 245.9 9.372 233.4L121.4 121.4C133.9 108.9 154.1 108.9 166.6 121.4C179.1 133.9 179.1 154.1 166.6 166.6V166.6z","terminal-solid":"0 0 576 512|M9.372 86.63C-3.124 74.13-3.124 53.87 9.372 41.37C21.87 28.88 42.13 28.88 54.63 41.37L246.6 233.4C259.1 245.9 259.1 266.1 246.6 278.6L54.63 470.6C42.13 483.1 21.87 483.1 9.372 470.6C-3.124 458.1-3.124 437.9 9.372 425.4L178.7 256L9.372 86.63zM544 416C561.7 416 576 430.3 576 448C576 465.7 561.7 480 544 480H256C238.3 480 224 465.7 224 448C224 430.3 238.3 416 256 416H544z","brands-github":"0 0 496 512|M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z","folder":"0 0 512 512|M464 96h-192l-64-64h-160C21.5 32 0 53.5 0 80V160h512V144C512 117.5 490.5 96 464 96zM0 432C0 458.5 21.5 480 48 480h416c26.5 0 48-21.5 48-48V192H0V432z","play":"0 0 384 512|M361 215C375.3 223.8 384 239.3 384 256C384 272.7 375.3 288.2 361 296.1L73.03 472.1C58.21 482 39.66 482.4 24.52 473.9C9.377 465.4 0 449.4 0 432V80C0 62.64 9.377 46.63 24.52 38.13C39.66 29.64 58.21 29.99 73.03 39.04L361 215z","arrow-up-right-from-square":"0 0 512 512|M384 320c-17.67 0-32 14.33-32 32v96H64V160h96c17.67 0 32-14.32 32-32s-14.33-32-32-32L64 96c-35.35 0-64 28.65-64 64V448c0 35.34 28.65 64 64 64h288c35.35 0 64-28.66 64-64v-96C416 334.3 401.7 320 384 320zM502.6 9.367C496.8 3.578 488.8 0 480 0h-160c-17.67 0-31.1 14.32-31.1 31.1c0 17.67 14.32 31.1 31.99 31.1h82.75L178.7 290.7c-12.5 12.5-12.5 32.76 0 45.26C191.2 348.5 211.5 348.5 224 336l224-226.8V192c0 17.67 14.33 31.1 31.1 31.1S512 209.7 512 192V31.1C512 23.16 508.4 15.16 502.6 9.367z","chevron-down":"0 0 448 512|M224 416c-8.188 0-16.38-3.125-22.62-9.375l-192-192c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L224 338.8l169.4-169.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-192 192C240.4 412.9 232.2 416 224 416z","pause":"0 0 320 512|M272 63.1l-32 0c-26.51 0-48 21.49-48 47.1v288c0 26.51 21.49 48 48 48L272 448c26.51 0 48-21.49 48-48v-288C320 85.49 298.5 63.1 272 63.1zM80 63.1l-32 0c-26.51 0-48 21.49-48 48v288C0 426.5 21.49 448 48 448l32 0c26.51 0 48-21.49 48-48v-288C128 85.49 106.5 63.1 80 63.1z","plus":"0 0 448 512|M432 256c0 17.69-14.33 32.01-32 32.01H256v144c0 17.69-14.33 31.99-32 31.99s-32-14.3-32-31.99v-144H48c-17.67 0-32-14.32-32-32.01s14.33-31.99 32-31.99H192v-144c0-17.69 14.33-32.01 32-32.01s32 14.32 32 32.01v144h144C417.7 224 432 238.3 432 256z","paste":"0 0 512 512|M320 96V80C320 53.49 298.5 32 272 32H215.4C204.3 12.89 183.6 0 160 0S115.7 12.89 104.6 32H48C21.49 32 0 53.49 0 80v320C0 426.5 21.49 448 48 448l144 .0013L192 176C192 131.8 227.8 96 272 96H320zM160 88C146.8 88 136 77.25 136 64S146.8 40 160 40S184 50.75 184 64S173.3 88 160 88zM416 128v96h96L416 128zM384 224L384 128h-112C245.5 128 224 149.5 224 176v288c0 26.51 21.49 48 48 48h192c26.51 0 48-21.49 48-48V256h-95.99C398.4 256 384 241.6 384 224z","rotate-left":"0 0 512 512|M480 256c0 123.4-100.5 223.9-223.9 223.9c-48.84 0-95.17-15.58-134.2-44.86c-14.12-10.59-16.97-30.66-6.375-44.81c10.59-14.12 30.62-16.94 44.81-6.375c27.84 20.91 61 31.94 95.88 31.94C344.3 415.8 416 344.1 416 256s-71.69-159.8-159.8-159.8c-37.46 0-73.09 13.49-101.3 36.64l45.12 45.14c17.01 17.02 4.955 46.1-19.1 46.1H35.17C24.58 224.1 16 215.5 16 204.9V59.04c0-24.04 29.07-36.08 46.07-19.07l47.6 47.63C149.9 52.71 201.5 32.11 256.1 32.11C379.5 32.11 480 132.6 480 256z","rotate-right":"0 0 512 512|M468.9 32.11c13.87 0 27.18 10.77 27.18 27.04v145.9c0 10.59-8.584 19.17-19.17 19.17h-145.7c-16.28 0-27.06-13.32-27.06-27.2c0-6.634 2.461-13.4 7.96-18.9l45.12-45.14c-28.22-23.14-63.85-36.64-101.3-36.64c-88.09 0-159.8 71.69-159.8 159.8S167.8 415.9 255.9 415.9c73.14 0 89.44-38.31 115.1-38.31c18.48 0 31.97 15.04 31.97 31.96c0 35.04-81.59 70.41-147 70.41c-123.4 0-223.9-100.5-223.9-223.9S132.6 32.44 256 32.44c54.6 0 106.2 20.39 146.4 55.26l47.6-47.63C455.5 34.57 462.3 32.11 468.9 32.11z","arrows-up-down":"0 0 256 512|M246.6 361.4C252.9 367.6 256 375.8 256 384s-3.125 16.38-9.375 22.62l-96 96c-12.5 12.5-32.75 12.5-45.25 0l-96-96c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L96 402.8v-293.5L54.63 150.6c-12.5 12.5-32.75 12.5-45.25 0s-12.5-32.75 0-45.25l96-96c12.5-12.5 32.75-12.5 45.25 0l96 96C252.9 111.6 256 119.8 256 128s-3.125 16.38-9.375 22.62c-12.5 12.5-32.75 12.5-45.25 0L160 109.3v293.5l41.38-41.38C213.9 348.9 234.1 348.9 246.6 361.4z","copy":"0 0 512 512|M384 96L384 0h-112c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48H464c26.51 0 48-21.49 48-48V128h-95.1C398.4 128 384 113.6 384 96zM416 0v96h96L416 0zM192 352V128h-144c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h192c26.51 0 48-21.49 48-48L288 416h-32C220.7 416 192 387.3 192 352z","xmark":"0 0 320 512|M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z","arrow-left":"0 0 448 512|M447.1 256C447.1 273.7 433.7 288 416 288H109.3l105.4 105.4c12.5 12.5 12.5 32.75 0 45.25C208.4 444.9 200.2 448 192 448s-16.38-3.125-22.62-9.375l-160-160c-12.5-12.5-12.5-32.75 0-45.25l160-160c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25L109.3 224H416C433.7 224 447.1 238.3 447.1 256z","window-minimize":"0 0 512 512|M0 448C0 430.3 14.33 416 32 416H480C497.7 416 512 430.3 512 448C512 465.7 497.7 480 480 480H32C14.33 480 0 465.7 0 448z","regular-square-full":"0 0 512 512|M512 0V512H0V0H512zM464 48H48V464H464V48z","arrow-right":"0 0 448 512|M438.6 278.6l-160 160C272.4 444.9 264.2 448 256 448s-16.38-3.125-22.62-9.375c-12.5-12.5-12.5-32.75 0-45.25L338.8 288H32C14.33 288 .0016 273.7 .0016 256S14.33 224 32 224h306.8l-105.4-105.4c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0l160 160C451.1 245.9 451.1 266.1 438.6 278.6z","arrow-down":"0 0 384 512|M374.6 310.6l-160 160C208.4 476.9 200.2 480 192 480s-16.38-3.125-22.62-9.375l-160-160c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 370.8V64c0-17.69 14.33-31.1 31.1-31.1S224 46.31 224 64v306.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0S387.1 298.1 374.6 310.6z","check":"0 0 448 512|M438.6 105.4C451.1 117.9 451.1 138.1 438.6 150.6L182.6 406.6C170.1 419.1 149.9 419.1 137.4 406.6L9.372 278.6C-3.124 266.1-3.124 245.9 9.372 233.4C21.87 220.9 42.13 220.9 54.63 233.4L159.1 338.7L393.4 105.4C405.9 92.88 426.1 92.88 438.6 105.4H438.6z","arrow-up":"0 0 384 512|M374.6 246.6C368.4 252.9 360.2 256 352 256s-16.38-3.125-22.62-9.375L224 141.3V448c0 17.69-14.33 31.1-31.1 31.1S160 465.7 160 448V141.3L54.63 246.6c-12.5 12.5-32.75 12.5-45.25 0s-12.5-32.75 0-45.25l160-160c12.5-12.5 32.75-12.5 45.25 0l160 160C387.1 213.9 387.1 234.1 374.6 246.6z"}'),Wo=["icon","className","renderAs","deg"];Ho.question="0 0 320 512|M204.3 32.01H96c-52.94 0-96 43.06-96 96c0 17.67 14.31 31.1 32 31.1s32-14.32 32-31.1c0-17.64 14.34-32 32-32h108.3C232.8 96.01 256 119.2 256 147.8c0 19.72-10.97 37.47-30.5 47.33L127.8 252.4C117.1 258.2 112 268.7 112 280v40c0 17.67 14.31 31.99 32 31.99s32-14.32 32-31.99V298.3L256 251.3c39.47-19.75 64-59.42 64-103.5C320 83.95 268.1 32.01 204.3 32.01zM144 400c-22.09 0-40 17.91-40 40s17.91 39.1 40 39.1s40-17.9 40-39.1S166.1 400 144 400z";var Uo=function(e){return e&&{style:{transform:"rotate(".concat(e,"deg)")}}||void 0},qo=function(e,t){var n=e.icon,r=e.className,i=e.renderAs,o=e.deg,a=F(e,Wo),l=O((0,m.useState)(Ho),2),s=l[0],c=l[1];if((0,m.useEffect)((function(){s[n]||fetch("/geticon/".concat(n,".txt")).then((function(e){return e.text()})).then((function(e){return e&&c(k(k({},s),{},x({},n,e)))}))}),[n,s]),!s[n])return null;"missing"===s[n]&&(console.log("\ud83d\udca5 Icon missing ".concat(n," at https://fontawesome.com/search?m=free&q=").concat(n||"")),s[n]=Ho.question);var u=O(s[n].split("|"),2),d=u[0],f=u[1];return(0,v.jsx)(Yr,{renderAs:i,className:i&&r,children:(0,v.jsxs)("svg",k(k(k({ref:t,className:"".concat(r instanceof Array?r.flat(1/0).filter((function(e){return e})).join(" "):r," fill-current"),xmlns:"http://www.w3.org/2000/svg",viewBox:d},Uo(o)),a),{},{children:[(0,v.jsx)("title",{children:a.title||n}),(0,v.jsx)("path",{d:f})]}))})},$o=m.forwardRef(qo),Ko=function(e){var t=e.classNameByValue,n=e.field,r=e.view;return t.map((function(e){var t,i,o=O(e,2),a=o[0],l=o[1];return"true"===(t=r.getValue(n))&&(t=!0),"false"===t&&(t=!1),"true"===(i=a)&&(i=!0),"false"===i&&(i=!1),"undefined"===i&&(i=void 0),("number"!==typeof t?t===i:"<"===i[0]?parseInt(i.substring(1),10)>t:">"===i[0]?parseInt(i.substring(1),10)<t:t===parseInt(i,10))&&l}))},Yo=function(e){var t=e.model,n=e.path,r=e.view,i=t.renderAs,o=t.item,a=t.mapper,l=t.className,s=t.add2Model,c=a.map((function(e){return Ko(k(k({},e),{},{view:r}))}));return s?(0,v.jsx)(br,{path:n,items:o.map((function(e){return k(k({},e),{},{className:[e.className,c]})}))}):(0,v.jsx)(Yr,{className:[c,l],renderAs:i,children:(0,v.jsx)(br,{path:n,items:o})})},Go=function(e){var t=e.model,n=e.path,r=e.view,i=e.value,o=e.children,a=t.className,l=t.classNameInner,s=t.item,c=t.event,u=!1;return(0,v.jsx)(Yr,{className:a,onClick:function(){u||r.event(c,i),u=!1},children:(0,v.jsx)(Yr,{className:l,onClick:function(){u=!0},children:o||(0,v.jsx)(br,{path:n,items:s})})})},Qo=m.createContext(),Xo=function(e){var t=e.model,n=e.path,r=O((0,m.useState)(!1),2),i=r[0],o=r[1],a=t.item,l=t.className;return(0,v.jsx)(Yr,{onMouseOver:function(){return o(!0)},onMouseOut:function(){return o(!1)},className:l,children:(0,v.jsx)(Qo.Provider,{value:i,children:(0,v.jsx)(br,{path:n,items:a})})})},Jo=function(e){var t=e.model,n=e.path,r=e.children,i=t.className,o=t.item,a=t.classNameOut,l=t.classNameOver,s=function(e){var t=(0,m.useContext)(Qo),n=O((0,m.useState)(!1),2),r=n[0],i=n[1];return(0,m.useEffect)((function(){if(e&&!t){i(!0);var n=setTimeout((function(){i(!1)}),e);return function(){clearTimeout(n)}}}),[e,t,i]),e&&!t?r:t}(t.delay);return(0,v.jsx)(Yr,{className:[i,s?l:a],children:r||(0,v.jsx)(br,{path:n,items:o})})},Zo=function(e){var t=e.model,n=e.path,r=e.children,i=t.className,o=t.item,a=t.invert,l=function(e){var t=(0,m.useContext)(Qo),n=O((0,m.useState)(!1),2),r=n[0],i=n[1];return(0,m.useEffect)((function(){if(e&&!t){i(!0);var n=setTimeout((function(){i(!1)}),e);return function(){clearTimeout(n)}}}),[e,t,i]),e&&!t?r:t}(t.delay);return a&&(l=!l),l?(0,v.jsx)(Yr,{className:i,children:r||(0,v.jsx)(br,{path:n,items:o})}):null},ea=["model","path"],ta=function(e){var t=e.model,n=e.path,r=F(e,ea),i=t||r,o=i.mirrorId,a=i.host,l=i.className,s=i.renderAs,c=i.item,u=i.setWidth,d=i.setHeight,f=(0,m.useRef)(),p=O((0,m.useState)({}),2),h=p[0],g=p[1];return(0,m.useEffect)((function(){var e=f.current;if(d||u){var t=function(e){var t=e.width,n=e.height,r={};d&&(r.height="".concat(n,"px")),u&&(r.width="".concat(t,"px")),g(r)};return $l().on("StyleSizeMirror".concat(o),t),$l().event("StyleSizeMirror".concat(o)),function(){$l().off("StyleSizeMirror".concat(o),t)}}var n=f.current.getBoundingClientRect(),r=n.width,i=n.height,a=new ResizeObserver((function(e){var t,n=De(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;if(a.contentBoxSize){var l=a.contentRect;r=l.width,i=l.height,$l().event("StyleSizeMirror".concat(o))}}}catch(s){n.e(s)}finally{n.f()}})),l=function(){return{width:r,height:i}};return a.observe(e),$l().on("StyleSizeMirror".concat(o),10,l),$l().event("StyleSizeMirror".concat(o)),function(){a.unobserve(e),$l().off("StyleSizeMirror".concat(o),10,l)}}),[a,o,d,u]),(0,v.jsx)(Yr,{ref:f,style:h,className:l,renderAs:s,children:r.children||(c&&c.length?(0,v.jsx)(br,{path:n,items:c}):null)})},na=function(e){var t=e.model,n=e.path,r=t.className,i=t.renderAs,o=t.item;return(0,v.jsx)(Yr,{className:r,renderAs:i,children:(0,v.jsx)(br,{path:n,items:o})})},ra=function(e){u(n,e);var t=h(n);function n(e){var r;a(this,n),(r=t.call(this,e)).updateTabs=function(){$l().database.tab.search().then((function(e){return e.data.filter((function(e){return!e.siteScript&&!r.tabs[e._id]})).forEach((function(e){return $l().database.tab.delete({id:e._id})}))})),r.updateTimer=setTimeout(r.updateTabs,6e4)},r.addToEventLog=function(e,t){},r.updateTabSettings=function(e){if(e){var t=f(r),n="".concat(Object.keys(e)[0]),i=$l().database.tab.get({id:n}).then((function(e){var r=e.data;r&&!r.siteScript?(!t.tabs[r._id].recording&&r.recording&&$l().database.eventLog.save({data:{name:"Recording start ".concat(r.url),event:"url",url:r.url,title:r.title,tabId:r._id}}),t.tabs[r._id]=r):console.log(n)}));i&&(r.tabs[i._id]=i)}},r.extensionEvent=function(e){var t=f(r),n=parseInt(e.tabId,10);"url"===e.doEvent.event?r.tabs[e.tabId].url!==e.doEvent.url?window.chrome.tabs.update(n,{url:e.doEvent.url},(function(){t.tabLoadCallback[n]=function(){e.result={status:"success",redirected:!0},$l().connection.emit(e)}})):(e.result={status:"success",redirected:!1},$l().connection.emit(e)):e.doEvent&&(r.tabLoading[n]?(console.log("delay tab"),r.tabLoading[n].callback=function(){console.log("delay tab done"),$l().doingEvent[n]=e,window.chrome.tabs.sendMessage(n,e)}):($l().doingEvent[n]=e,window.chrome.tabs.sendMessage(n,e)))},r.connect=function(e){var t=f(r);$l().connection.emit({type:"extensionEvent",event:"connectExtension"}),window.chrome.tabs.query({},(function(e){for(var n in e)t.saveTab(e[n],!0)}))};var i=f(r);return r.tabs={},r.tabLoadCallback={},r.tabLoading={},$l().doingEvent={},$l().pathErrorClick={},window.chrome.runtime.onMessage.addListener((function(e,t,n){var r=i.tabs[t.tab.id];if(r)if(e.doEvent)console.log("doEvent",e,$l().doingEvent[t.tab.id]),$l().doingEvent[t.tab.id]=!1,console.log("request.result"),"Path"===e.result.error?($l().pathErrorClick[t.tab.id]=e,console.log("app().pathErrorClick",$l().pathErrorClick)):delete $l().pathErrorClick[t.tab.id],$l().connection.emit(e);else if($l().pathErrorClick[t.tab.id]){var o=$l().pathErrorClick[t.tab.id];delete $l().pathErrorClick[t.tab.id],o.newPath=e.path,console.log("response.newPath",o),$l().connection.emit(o)}else r.recording&&(e.tabId="".concat(t.tab.id),e.url=t.tab.url,r.listenTo&&0!==r.listenTo.length&&-1===r.listenTo.indexOf(e.event)||$l().database.eventLog.save({data:e}));else console.log("Missing ",t.tab)})),$l().connection.on("connect",r.connect),$l().database.tab.on("update",r.updateTabSettings),r.saveTab=function(e,t){var n=["url","title"],r=!1,o=e.id?e.id:e._id;i.tabs[e.id]||(r=!0,i.tabs[e.id]={});for(var a=e.url!==i.tabs[o].url,l=0;l<n.length;l++)i.tabs[o][n[l]]!==e[n[l]]&&(r=!0,i.tabs[o][n[l]]=e[n[l]]);if(i.tabs[o]._id="".concat(o),r||t){var s=i.tabs[o];!a||!s.recording||s.listenTo&&0!==s.listenTo.length&&-1===s.listenTo.indexOf("url")||$l().database.eventLog.save({data:{name:"URL change ".concat(s.url),event:"url",url:s.url,title:s.title,tabId:s._id}}),$l().database.tab.save({data:s})}},$l().connection.on("extensionEvent",r.extensionEvent),window.chrome.webNavigation.onCompleted.addListener((function(e){if(0===e.frameId){var t=i.tabLoading[e.tabId];delete i.tabLoading[e.tabId],t&&t.callback&&t.callback(),i.tabLoadCallback[e.tabId]&&i.tabLoadCallback[e.tabId]()}})),window.chrome.webNavigation.onBeforeNavigate.addListener((function(e){0===e.frameId&&(i.tabLoading[e.tabId]||(i.tabLoading[e.tabId]={loading:!0,callback:!1}))})),window.chrome.tabs.onCreated.addListener(i.saveTab),window.chrome.tabs.onUpdated.addListener((function(e,t,n){i.saveTab(n)})),window.chrome.tabs.onRemoved.addListener((function(e){delete i.tabs[e],$l().database.tab.delete({id:e})})),window.chrome.contextMenus.create({title:"Validate in Testguide eventlog",onclick:r.addToEventLog,contexts:["page","selection","link","editable","image","video","audio"]}),r.updateTimer=setTimeout(r.updateTabs,1e4),r.state={},r}return s(n,[{key:"componentWillUnmount",value:function(){$l().connection.off("connect",this.connect),$l().connection.off("extensionEvent",this.extensionEvent),clearTimeout(this.updateTimer)}},{key:"render",value:function(){return null}}]),n}(m.Component),ia=ra,oa=function(e){var t=window.chrome.browserAction,n=e.model||e,r=n.color,i=n.text,o=n.icon,a=n.canvas;if(o&&t.setIcon({path:o}),r&&t.setBadgeBackgroundColor({color:r}),i&&t.setBadgeText({text:i}),a){var l=a.getContext("2d");t.setIcon({imageData:l.getImageData(0,0,a.width,a.height)})}return null},aa=function(e){var t=e.model,n=e.view,i=e.path,a=e.setValue,l=O((0,m.useState)(!1),2),s=l[0],c=l[1],u=(0,m.useRef)();return u.current=a,(0,m.useEffect)((function(){var e=t.extract,i=t.field;new Promise((function(e){window.chrome.devtools?window.chrome.tabs.get(window.chrome.devtools.inspectedWindow.tabId,(function(t){return e(t.url)})):window.chrome.tabs.query({currentWindow:!0,active:!0},(function(t){var n;return e((null===(n=t[0])||void 0===n?void 0:n.url)||"")}))})).then(function(){var t=o(r().mark((function t(o){var a,l,s,d,f;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=new RegExp(e).exec(o)||[],l=O(a,3),s=l[2]){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,$l().database[n.contentType].search({filter:x({},i,s),count:1});case 5:if(d=t.sent,f=d.data){t.next=10;break}return c(!0),t.abrupt("return");case 10:u.current(f[0]),n.id=f[0]._id;case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[t,n.contentType,n.id]),s?(0,v.jsx)(br,{path:i,items:t.item}):null},la=function(e){var t=e.model||e,n=t.match,r=t.invert,i=t.children,o=t.item,a=O((0,m.useState)(),2),l=a[0],s=a[1];return(0,m.useEffect)((function(){new Promise((function(e){window.chrome.devtools?window.chrome.tabs.get(window.chrome.devtools.inspectedWindow.tabId,(function(t){return e(t.url)})):window.chrome.tabs.query({currentWindow:!0,active:!0},(function(t){var n;return e((null===(n=t[0])||void 0===n?void 0:n.url)||"")}))})).then((function(e){return s(e.includes(n))}))}),[]),void 0===l||l&&r||!l&&!r?null:i||(0,v.jsx)(br,{path:e.path,items:o})},sa=function(e){var t=e.invert,n=e.model,r=void 0===n?{}:n,i=e.path,o=e.children;console.log("ExtensionView");var a="chrome-extension:"===window.location.protocol;return t=t||r.invert,a&&t||!a&&!t?null:o||(0,v.jsx)(br,{path:i,items:r.item})},ca=function(e){e.model;var t=(0,m.useRef)(!1);return(0,m.useEffect)((function(){var e=function(e){t.current&&e.atId===t.current&&console.log(e.filePaths)};return $l().on("electronData",e),function(){$l().off("electronData",e)}}),[]),(0,v.jsx)(Yr,{onClick:function(){t.current=$l().uuid(),$l().event("electronEvent",{event:"dialog",atId:t.current})},children:"hepp"})},ua=["model"],da=function(e){var t=e.model,n=F(e,ua),r=t||n,i=r.className,o=r.btnType,a=r.button,l=r.buttonActive,s=r.size,c=O((0,m.useState)(!1),2),u=c[0],d=c[1];return o?(0,v.jsx)(Yr,{className:i,children:(0,v.jsx)(_r,{type:o,onClick:function(){$l().event("electronEvent",{event:"appButton",button:a}),d(!u)},size:s,children:(0,v.jsx)($o,{className:"w-4 h-4",icon:u&&l||a,alt:a})})}):(0,v.jsx)($o,{className:i,icon:u&&l||a,alt:a,onClick:function(){$l().event("electronEvent",{event:"appButton",button:a,active:u}),d(!u)}})},fa=["model","path","children"],pa=function(e){var t=e.model,n=e.path,i=e.children,a=F(e,fa),l=O((0,m.useState)(!1),2),s=l[0],c=l[1],u=t||a,d=u.className,f=u.renderAs,p=u.item;return(0,m.useEffect)((function(){if(s){var e=window,t=e.screenX,n=e.screenY,i=function(){var e=o(r().mark((function e(i){var o,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=i.screenX,a=i.screenY,$l().event("electronEvent",{event:"setWindowPos",x:o-s.x+t,y:a-s.y+n});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();document.addEventListener("mousemove",i);var a=function(){c(!1)};return document.addEventListener("mouseup",a),function(){document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",a)}}}),[s]),(0,v.jsx)(Yr,{onMouseDown:function(e){var t=e.screenX,n=e.screenY;c({x:t,y:n})},className:d,renderAs:f,children:i||(0,v.jsx)(br,{path:n,items:p})})},ha=function(e){var t,n,r,i=e.model,o=e.view,a={connection:{event:function(e,t){return $l().connection.emit(k({type:e},t))},on:$l().connection.on,off:$l().connection.off},view:o,baseView:o.baseView,baseViewBaseView:null===(t=o.baseView)||void 0===t?void 0:t.baseView,baseViewBaseViewBaseView:null===(n=o.baseView)||void 0===n||null===(r=n.baseView)||void 0===r?void 0:r.baseView,app:$l()}[i.eventType||"connection"];return(0,m.useEffect)((function(){if(a.on){var e=function(e){return $l().event("electronEvent",e)};return a.on(i.event,e),function(){a.off(i.event,e)}}}),[a,i]),null},ma=["model"],va=function(e){var t=e.model,n=F(e,ma),i=t||n,a=i.className,l=i.btnType,s=i.paste,c=i.text,u=i.size,d=i.title,f=xo(),p=(0,m.useRef)(),h=function(){var e=o(r().mark((function e(){var t,n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=URL,e.next=3,navigator.clipboard.readText();case 3:e.t1=e.sent,t=new e.t0(e.t1),n=t.pathname,window.history.pushState({},"",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,v.jsxs)(Yr,{children:[(0,v.jsxs)(_r,{className:a,type:l,onClick:function(){return s?h():function(){var e=p.current;e.value="http".concat($l().settings.secure?"s":"","://").concat($l().settings.domain).concat(f.pathname),e.style.display="block",e.select();try{console.log("copy text"),document.execCommand("copy"),e.blur(),e.style.display="none"}catch(t){console.log("please press Ctrl/Cmd+C to copy")}}()},size:u,children:[(0,v.jsx)($o,{className:"h-4 w-4",icon:s?"paste":"copy",title:d}),(0,v.jsx)(Yr,{className:c&&"ml-2 flex",children:c||""})]}),(0,v.jsx)("textarea",{ref:p,style:{display:"none",position:"absolute"},readOnly:!0})]})},ga=["model","path","children"],ya=function(e){var t=e.model,n=e.path,r=e.children,i=F(e,ga),o=t||i,a=o.className,l=o.renderAs,s=o.item,c=o.invert;return!window.electron&&!c||window.electron&&c?null:(0,v.jsx)(Yr,{className:a,renderAs:l,children:r||(0,v.jsx)(br,{path:n,items:s})})},ba=function(e){var t=e.model,n=e.value,r=(0,m.useRef)(),i=t.field?n[t.field]:n;return"object"===typeof i&&(i=JSON.stringify(i,null,"  ")),t.addBefore&&(i=t.addBefore+i),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("input",{ref:r,style:{display:"none",position:"absolute"},value:i,readOnly:!0}),(0,v.jsx)(_r,{renderAs:"button",className:t.className,type:t.btnType,onClick:function(e){if(e&&(e.altKey&&!t.gotoOnClick||!e.altKey&&t.gotoOnClick))window.open(i,"_blank").focus();else{var n=r.current;n.style.display="block",n.select();try{console.log("copy text"),document.execCommand("copy"),n.blur(),n.style.display="none"}catch(o){console.log("please press Ctrl/Cmd+C to copy")}}},size:t.btnSize,children:["copy","paste"].includes(t.text)?(0,v.jsx)($o,{className:"h-4 w-4",icon:t.text,alt:t.text}):$l().t(t.text)})]})},xa=function(e){var t=e.view,n=e.children;return(0,m.useEffect)((function(){var e=function(e){var t=e.data,n=t.filter((function(e){return"definition"===e.name})).map((function(e){return e.component})),r=t.filter((function(e){return"view"===e.name})).filter((function(e){return!n.includes(e.component)}));e.data=r};return t.on("search",e),function(){t.off("search",e)}}),[t]),n||null},wa=function(e){var t=e.model,n=e.view,i=O((0,m.useState)(),2),a=i[0],l=i[1],s=O((0,m.useState)([]),2),c=s[0],u=s[1],d=O((0,m.useState)({}),2),f=d[0],p=d[1],h=(0,m.useRef)();h.current=f.id;var g=(0,m.useRef)();g.current=c[f.index],(0,m.useEffect)((function(){var e=function(){var e=o(r().mark((function e(t){var n,i,o,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h.current){e.next=2;break}return e.abrupt("return");case 2:return(o=k({},(null===(n=g.current)||void 0===n?void 0:n.filter)||{})).$and=[].concat(L(o.$and||[]),L((null===(i=t.filter)||void 0===i?void 0:i.$and)||[])),e.next=6,$l().event("devtools",k(k({},t),{},{filter:o,path:"database.".concat(h.current),event:"search",contentType:h.current,data:void 0}));case 6:return a=e.sent,e.abrupt("return",k(k({},t),{},{data:a.data,total:a.total,searchTotal:a.searchTotal}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();$l().database[n.contentType].on("search",e);var t=function(){var e=o(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h.current){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,$l().event("devtools",k(k({},t),{},{path:"database.".concat(h.current),event:"get",contentType:h.current,data:void 0}));case 4:return n=e.sent,e.abrupt("return",k(k({},t),{},{data:n.data}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();$l().database[n.contentType].on("get",t);var i=function(){var e=o(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h.current){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,$l().event("devtools",k(k({},t),{},{path:"database.".concat(h.current),event:"save"}));case 4:return e.abrupt("return",k(k({},t),{},{data:!1}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();$l().database[n.contentType].on("save",i);var a=function(){var e=o(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h.current){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,$l().event("devtools",k(k({},t),{},{path:"database.".concat(h.current),event:"delete"}));case 4:return e.abrupt("return",k(k({},t),{},{data:!1}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();$l().database[n.contentType].on("delete",a);var s=function(){var e=o(r().mark((function e(){var t,n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$l().event("devtools",{path:"contentType"});case 2:if(t=e.sent,n=t.data){e.next=6;break}return e.abrupt("return");case 6:l(Object.keys(n));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();s();var c=function(e){var t=e.init;t&&s()};return $l().on("devtools",c),function(){$l().database[n.contentType].off("get",t),$l().database[n.contentType].off("search",e),$l().database[n.contentType].off("save",i),$l().database[n.contentType].off("delete",a),$l().off("devtools",c)}}),[n]),(0,m.useEffect)((function(){if(f.id){var e=0,t=[];u(t),n.event("setSearch"),$l().event("devtools",{on:"search",path:"database.".concat(f.id)}).then((function(t){var n=t.listenId;e=n}));var r=function(n){var r=n.query,i=n.listenId;if(r&&e===i&&!r.devtoolsId){var o=r.sortby,a=r.filter,l=r.reverse;t.find((function(e){return JSON.stringify(e)===JSON.stringify({sortby:o,filter:a,reverse:l})}))||(t=[{sortby:o,filter:a,reverse:l}].concat(L(t)).slice(0,20),u(t))}};return $l().on("devtools",r),function(){$l().off("devtools",r)}}}),[f.id,n]);var y=c[f.index];return(0,m.useEffect)((function(){n.event("setSearch")}),[n,y]),a?(0,v.jsxs)(Yr,{children:[(0,v.jsx)(Ht,{model:k(k({},t),{},{option:a}),value:f.id,setValue:function(e){return p({id:e})}}),f&&(0,v.jsx)(Ht,{model:k(k({},t),{},{text:"Searches",option:c.map((function(e,t){return"0".concat(t)}))}),value:"0".concat(f.index),setValue:function(e){return p({id:f.id,index:parseInt(e,10)})}}),void 0!==y&&JSON.stringify(y)]}):null},ka=function(e){var t=e.view;return(0,m.useEffect)((function(){var e=function(){var e=o(r().mark((function e(){var n,i,o,a,l,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$l().event("devtools",{path:"settings"});case 2:return n=e.sent,i=n.data,e.next=6,$l().event("devtools",{path:"populatedViews"});case 6:return o=e.sent,a=o.data,e.next=10,$l().event("devtools",{path:"session.user"});case 10:l=e.sent,s=l.data,t.setValue({value:{settings:i,user:s,vContentTypes:a}});case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t]),null},Ca=function(e){var t=e.model,n=e.view,r=O((0,m.useState)(""),2),i=r[0],o=r[1],a=O((0,m.useState)(""),2),l=a[0],s=a[1],c=t.includeId?["$all","_id"]:"$all";return ai({view:n,id:c,value:i}),(0,m.useEffect)((function(){var e=window.chrome.devtools.inspectedWindow.tabId;window.chrome.tabs.get(e,(function(e){return s(e.url||"")}));var t=function(t){t===e&&window.chrome.tabs.get(e,(function(e){return s(e.url||"")}))};return window.chrome.tabs.onUpdated.addListener(t),function(){window.chrome.tabs.onUpdated.removeListener(t)}}),[]),(0,v.jsx)(Ht,{model:k(k({},t),{},{option:l.split("/").slice(3),inline:!0,limit:1,render:"button"}),value:i,setValue:o})},Sa=function(){var e=O((0,m.useState)("bas"),2),t=e[0],n=e[1];return(0,m.useEffect)((function(){if(window.chrome){var e={},t=function(t,n){window.chrome.devtools.inspectedWindow.tabId===n.tab.id&&(e[t.devtoolsId]?(e[t.devtoolsId](t),delete e[t.devtoolsId]):$l().event("devtools",t))};window.chrome.runtime.onMessage.addListener(t);var n=function(t){return new Promise((function(n){var r;t.devtoolsId=$l().uuid(),e[t.devtoolsId]=n,setTimeout((function(){e[t.devtoolsId]&&(e[t.devtoolsId](t),delete e[t.devtoolsId])}),4e3),r=k({nystem:"to"},t),new Promise((function(e){return window.chrome.tabs.sendMessage(window.chrome.devtools.inspectedWindow.tabId,r,e)}))}))};return $l().on("devtools",n),function(){window.chrome.runtime.onMessage.removeListener(t),$l().off("devtools",n)}}}),[]),(0,m.useEffect)((function(){console.log("DevtoolsView 23.1"),n("23.1");var e="",t=window.chrome.devtools.inspectedWindow.tabId;window.chrome.tabs.get(t,(function(t){e=t.url.split("/")[2].split(".")[0],console.log("DevtoolsView 23.2"),console.log("listning to",e)})),console.log("DevtoolsView 23.3"),n("23.3"),console.log("DevtoolsViewDevtoolsView",e);var r=function(t){console.log("DevtoolsView 23.4"),n("23.4"),console.log(t.pendingUrl,"nystem://".concat(e)),t.pendingUrl.startsWith("nystem://".concat(e))&&($l().event("devtools",{path:"",event:"devtoolsnystvscode"}).then((function(n){var r=n.base,i=t.pendingUrl.replace("nystem://".concat(e),r).replace(/\.([0-9]+)$/,":$1").split("/");"c"===i[3]&&(i[3]="core"),"m"===i[3]&&(i[3]="module"),"c"===i[5]&&(i[5]="component"),i=i.join("/"),$l().connection.emit({type:"devtoolsnystvscode",path:i})})),window.chrome.tabs.remove(t.id))};return window.chrome.tabs.onCreated.addListener(r),function(){window.chrome.tabs.onCreated.removeListener(r)}}),[]),console.log("DevtoolsView 23.0"),"DevtoolsView 24 ".concat(t)},Na=function(){return(0,v.jsxs)(ye,{children:[(0,v.jsx)(Do,{userrole:"logged-out",children:(0,v.jsx)(qi,{className:"p-8 text-left",match:"*",source:"/adminUser/login"})}),(0,v.jsxs)(Do,{userrole:"logged-in",children:[(0,v.jsx)(qi,{className:"fixed top-0 w-full",match:"*",source:"/server/menu",exclude:"/devtools.html"}),(0,v.jsx)(qi,{match:"/devtools.html",source:"/server/devtools"}),(0,v.jsxs)(Yr,{renderAs:"main",className:"h-full-minus mt-11 overflow-y-scroll",children:[(0,v.jsx)(qi,{match:"/popup.html",source:"/server/extension"}),(0,v.jsx)(qi,{match:"/",source:"/server/overview"}),(0,v.jsx)(qi,{match:"/menu",source:"/settings/menu"}),(0,v.jsxs)(Yr,{className:"px-6",children:[(0,v.jsx)(qi,{match:"/server/*"}),(0,v.jsx)(qi,{match:"/host/*"}),(0,v.jsx)(qi,{match:"/settings/*"})]})]})]})]})},Ta=function(e){u(n,e);var t=h(n);function n(){var e;a(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={accessible:!0},e.overlayEvent=function(t){var n=!Object.keys(t.open).length;e.state.accessible!==n&&(e.setState({accessible:n}),$l().event("accessible",{accessible:n,accessibleId:e.accessibleId}))},e._handleScreenReaderToggled=function(t){e.setState({screenReaderEnabled:t})},e}return s(n,[{key:"getChildContext",value:function(){return{accessibleId:this.accessibleId}}},{key:"componentDidMount",value:function(e){this.accessibleId=$l().uuid(),$l().on("overlay",this.overlayEvent)}},{key:"componentWillUnmount",value:function(e){$l().off("overlay",this.overlayEvent)}},{key:"render",value:function(){var e=this.state.accessible;return(0,v.jsx)(Yr,{accessible:!!e&&void 0,children:this.props.children})}}]),n}(m.Component);Ta.contextTypes={overlayId:lo().string},Ta.childContextTypes={accessibleId:lo().string};var La=Ta,Ea=function(e){u(n,e);var t=h(n);function n(){return a(this,n),t.apply(this,arguments)}return s(n,[{key:"handleEvent",value:function(e){e&&e.preventDefault&&e.preventDefault(),$l().event("overlay",{overlayId:this.context.overlayId,do:"close"})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.renderAs,r=e.accessible;return(0,v.jsx)(Yr,{renderAs:n||"a",className:t,onClick:this.handleEvent.bind(this),accessible:r,children:this.props.children})}}]),n}(m.Component);Ea.contextTypes={overlayId:lo().string};var _a=Ea,ja=function(e){u(n,e);var t=h(n);function n(){return a(this,n),t.apply(this,arguments)}return s(n,[{key:"handleEvent",value:function(e){e.preventDefault();var t=this.props,n=t.view,r=t.path||n.contentType+"/"+n.format+"/"+n.id;$l().event("closeOverlay",r).then((function(e){}))}},{key:"render",value:function(){var e=this.props,t=e.model,n=e.view,r=this.props.className;return r=r||t.className?t.className.join(" "):"",(0,v.jsx)(Yr,{renderAs:t.renderAs||"a",className:r,onClick:this.handleEvent.bind(this),children:t.item.map(n.createItem,this)})}}]),n}(m.Component),Oa=ja,Ma=m.createContext(),Ia=Ma.Consumer,Aa=Ma.Provider,Fa="",Da=function(e){var t=e.children,n=(e.match,O((0,m.useState)({}),2)),r=n[0],i=n[1],o=xo().pathname,a=function(e){var t=e.event,n=e.overlayId;"open"===t?r[n]=!0:"close"===t&&(n?delete r[n]:r={}),i(r)};return(0,m.useEffect)((function(){return $l().on("overlay",a),function(){$l().off("overlay",a)}})),o!==Fa&&$l().event("overlay",{event:"close"}),Fa=o,(t instanceof Array?t:t?[t]:[]).filter((function(e){var t=e.props;return r[t.overlayId]})).map((function(e){return(0,v.jsx)(Aa,{value:e.props.overlayId,children:e},e.props.overlayId)}))},Pa=function(e){var t=e.children;return(0,v.jsxs)(Yr,{className:"overlay-menu-container overlay-menu-container--active",id:"overlay-menu-container",children:[(0,v.jsx)(_a,{className:"overlay-menu-shim",renderAs:"a",accessible:!1,children:" "}),(0,v.jsx)(Yr,{renderAs:"nav",className:"overlay-menu",children:t})]})},Va=["overlayId"],za=function(e){return function(t){t.preventDefault(),$l().event("overlay",{overlayId:e,event:"open"})}},Ra=function(e){var t=e.overlayId,n=F(e,Va);return(0,v.jsx)(Yr,k(k({renderAs:"a"},n),{},{onClick:za(t)}))},Ba=function(e){u(n,e);var t=h(n);function n(e){var r;return a(this,n),(r=t.call(this,e)).state={mounted:!1},r}return s(n,[{key:"findPosition",value:function(e){for(var t={x:0,y:0};;){if(t.x+=e.offsetLeft,t.y+=e.offsetTop,!e.offsetParent)return t;e=e.offsetParent}}},{key:"getScroll",value:function(){if(void 0!==window.pageYOffset)return{x:window.pageXOffset,y:window.pageYOffset};var e=document.documentElement,t=document.body;return{x:e.scrollLeft||t.scrollLeft||0,y:e.scrollTop||t.scrollTop||0}}},{key:"onMouseDown",value:function(e){var t=this.refs.modal;this.at={start:{x:e.clientX,y:e.clientY},obj:this.findPosition(t),pos:{x:e.clientX,y:e.clientY}}}},{key:"shouldComponentUpdate",value:function(e,t){return t!==this.state}},{key:"componentDidMount",value:function(){this.setState({mounted:!0})}},{key:"render",value:function(){var e=this.state.mounted?"--active":"";return(0,v.jsx)(Yr,{className:"overlay-background overlay-background".concat(e),children:(0,v.jsx)(Yr,{className:"overlay-contents overlay-contents".concat(e),children:this.props.children})})}}]),n}(m.Component),Ha=Ba,Wa=function(e){u(n,e);var t=h(n);function n(){var e;a(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).onClick=function(t){t.preventDefault();var n=e.props.model;n=n||e.props,$l().event("addOverlay",n)},e}return s(n,[{key:"render",value:function(){var e=this.props.model,t=(e=e||this.props).className?e.className.join(" "):"";return(0,v.jsx)("a",{className:t,href:e.link,onClick:this.onClick,children:$l().t(e.text)})}}]),n}(m.Component),Ua=Wa,qa=function(e){u(n,e);var t=h(n);function n(e){var r;return a(this,n),(r=t.call(this,e)).model=e.model,r.view=e.view,r.handleChange=r.handleChange.bind(f(r)),r.saveToDb=r.saveToDb.bind(f(r)),r.view.on("change",r.handleChange),r.oldVal=r.props.view.value?JSON.stringify(r.props.view.value):{},r.model.saveOn?(-1!==r.model.saveOn.indexOf("baseView")&&r.view.baseView.on("save",r.saveToDb),-1!==r.model.saveOn.indexOf("baseView.baseView")&&r.view.baseView.baseView.on("save",r.saveToDb),-1!==r.model.saveOn.indexOf("baseView.baseView.baseView")&&r.view.baseView.baseView.baseView.on("save",r.saveToDb),r):p(r,{})}return s(n,[{key:"insertVal",value:function(e){if(!e)return e;var t=this;return e.replace(/\{([a-z_.]+)\}/gim,(function(e,n,r,i){return 0!==n.indexOf("baseView.")?t.view.baseView.getValue(n):0!==(n=n.replace("baseView.","")).indexOf("baseView.")?t.view.baseView.baseView.getValue(n):(n=n.replace("baseView.",""),t.view.baseView.baseView.baseView.getValue(n))}))}},{key:"handleChange",value:function(e){e&&this.view.value&&(this.saveVals||(this.saveVals={}),this.saveVals[e]=this.view.value[e])}},{key:"saveToDb",value:function(){var e=this;this.saveVals&&this.view.valid()&&(this.view.value._id&&(this.saveVals._id=this.view.value._id),$l().database[this.view.contentType].save({data:this.saveVals,fields:!0},(function(t){e.view.value._id||e.view.setValue("_id",t),e.view.event("save",e.view.value)})),delete this.saveVals)}},{key:"componentDidMount",value:function(){var e=this;this.model.insertVal&&this.model.insertVal.forEach((function(t){e.view.setValue(t[0],e.insertVal(t[1]))}))}},{key:"componentWillUnmount",value:function(){this.view.off("change",this.handleChange),this.saveDelay&&clearTimeout(this.saveDelay),-1!==this.model.saveOn.indexOf("baseView")&&this.view.baseView.off("save",this.saveToDb),-1!==this.model.saveOn.indexOf("baseView.baseView")&&this.view.baseView.baseView.off("save",this.saveToDb),-1!==this.model.saveOn.indexOf("baseView.baseView.baseView")&&this.view.baseView.baseView.baseView.off("save",this.saveToDb)}},{key:"render",value:function(){return null}}]),n}(m.Component),$a=qa,Ka=function(e){var t=e.model,n=e.view;return(0,m.useEffect)((function(){n.setValue({path:t.toField,value:n.baseView.getValue(t.fromField)})}),[t,n]),null};function Ya(){return Ya=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ya.apply(this,arguments)}function Ga(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(r,i)}function Qa(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Ga(o,r,i,a,l,"next",e)}function l(e){Ga(o,r,i,a,l,"throw",e)}a(void 0)}))}}var Xa=n(4526),Ja=n.n(Xa),Za=n(3668),el=n.n(Za),tl=(n(6251),{tabSize:2,autoCloseBrackets:!0,matchBrackets:!0,showCursorWhenSelecting:!0,lineNumbers:!0,fullScreen:!0});function nl(e,t){void 0===e&&(e={});var r=e,i=r.options,o=void 0===i?{}:i,a=r.value,l=void 0===a?"":a,s=r.width,c=void 0===s?"100%":s,u=r.height,d=void 0===u?"100%":u,f=r.lazyLoadMode,p=void 0===f||f,h=(0,m.useState)(),v=h[0],g=h[1],y=(0,m.useRef)(),b=(0,m.useRef)(e);function x(e,t){return w.apply(this,arguments)}function w(){return(w=Qa(Ja().mark((function e(t,r){var i;return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===r&&(r={}),"object"!==typeof r||!window){e.next=8;break}if(i=el().findModeByName(r.mode||""),!(p&&i&&i.mode)){e.next=6;break}return e.next=6,n(5166)("./"+i.mode+"/"+i.mode+".js");case 6:i&&(r.mode=i.mime),Object.keys(r).forEach((function(e){(r[e]||!1===r[e])&&JSON.stringify(r[e])&&t.setOption(e,r[e])}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,m.useImperativeHandle)(t,(function(){return{editor:v}}),[v]),b.current=e,(0,m.useEffect)((function(){if(!v&&window){var t=el().fromTextArea(y.current,Ya({},tl,o)),n=function(){var t=Object.keys(e).filter((function(e){return/^on+/.test(e)})),n={};return t.forEach((function(e){var t=e.slice(2);t&&t[0]&&(n[e]=t.replace(t[0],t[0].toLowerCase()))})),n}();Object.keys(n).forEach((function(e){t.on(n[e],(function(){var t;return(t=b.current)[e].apply(t,arguments)}))})),t.setValue(l||""),(c||d)&&t.setSize(c,d),g(t),x(t,Ya({},tl,o))}return function(){v&&window&&(v.toTextArea(),g(void 0))}}),[]),(0,m.useMemo)((function(){if(v&&window){var e=v.getValue();void 0!==l&&l!==e&&v.setValue(l)}}),[l]),(0,m.useMemo)((function(){v&&window&&v.setSize(c,d)}),[c,d]),(0,m.useMemo)((function(){v&&window&&x(v,Ya({},tl,o))}),[v,o]),m.createElement("textarea",{ref:y})}var rl=m.forwardRef(nl),il=(n(8306),n(2322),n(3611),n(4454),n(4418),n(6849),n(2219),n(7430),n(1804),n(3259),n(2725),n(3299),n(7070),function(e){var t=e.model,n=e.value,r=e.setValue;return(0,v.jsx)(Yr,{className:t.className,renderAs:t.renderAs,children:(0,v.jsx)(rl,{value:JSON.stringify(n,null,"  "),options:{theme:"monokai",keyMap:"sublime",mode:"json",lineWrapping:!0,lineNumbers:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"]},onChange:function(e){var t=e.getValue();t!==JSON.stringify(n,null,"  ")&&r(JSON.parse(t))}})})}),ol=n(4164),al=function(e){var t=e.children,n=O((0,m.useState)(!1),2),r=n[0],i=n[1];return(0,m.useEffect)((function(){var e=document.createElement("div");return document.body.appendChild(e),i(e),function(){document.body.removeChild(e)}}),[]),r?(0,ol.createPortal)(t,r):null},ll=function(e){var t=e.children,n=e.setOver,r=O((0,m.useState)(!1),2),i=r[0],o=r[1],a=(0,m.useRef)();return(0,m.useEffect)((function(){if(i){var e=a.current.getBoundingClientRect(),t=!1,r=function(r){var i=t={x:r.clientX,y:r.clientY},a=i.x,l=i.y;(l<e.top||l>e.bottom||a<e.left||a>e.right)&&(n(!1),o(!1))},l=setTimeout((function(){n(t)}),100);return window.addEventListener("mousemove",r),function(){clearTimeout(l),window.removeEventListener("mousemove",r)}}}),[i,n]),(0,v.jsx)("div",{ref:a,onMouseOver:function(){return o(!0)},children:t})},sl=function(e){var t=e.model,n=e.path,r=t.item,i=t.popup,o=O((0,m.useState)(!1),2),a=o[0],l=o[1];return(0,v.jsxs)(v.Fragment,{children:[a&&(0,v.jsx)(al,{children:(0,v.jsx)(Yr,{style:{position:"fixed",left:a.x+10,top:a.y+12},children:(0,v.jsx)(br,{path:n,items:i})})}),(0,v.jsx)(ll,{setOver:l,children:(0,v.jsx)(br,{path:n,items:r})})]})},cl=function(e){var t=e.view,n=e.model,r=e.value,i=void 0===r?"":r,o=O((0,m.useState)(""),2),a=o[0],l=o[1],s=!!i;(0,m.useEffect)((function(){if(s){var e=function(e,n,r,i){console.log("match",e,n,r,i);var o=i.split(/[/\\]/).join("/").split(":");return o="".concat(o[0],":").concat(o[1]),'(<a href="nystem://'.concat(t.baseView.value.host[0]).concat(o,'">').concat(o,"</a>)")},n=t.value.basepath.replace(/[/\\]/g,"[/\\\\]"),r=function(t){var r=(t||"").replace(new RegExp("(module\\.exports )?[( ](".concat(n,")([^) ]+)[) ]"),"gim"),e).replace(/\x1b\[((?:\d{1,3};?)+|)m/gim,(function(e,t){return"</span><span style='color:".concat(ul[parseInt(t,10)],";'>")}));return"<pre>".concat(r.replace(/\n/g,"</span><br/><span>"),"</pre>")},o=r(i);l(o);var a=function(e){var t=e.data;o+=r(t),l(o)};$l().connection.on("serverLog".concat(t.id),a);var c=function(){l(""),o=""};return t.on("clearlog",c),function(){t.off("clearlog",c),$l().connection.off("serverLog".concat(t.id),a)}}}),[s]);var c=n.className&&n.className.join(" ");return(0,v.jsx)("code",{children:(0,v.jsx)(Yr,{className:n.wrapperClass,onClick:function(e){console.log(e.target.href),e.stopPropagation(),e.preventDefault();var n=e.target.href.split("/").slice(3);$l().connection.emit({type:"devtoolsnystvscode",server:t.id,path:n.join("/")})},children:(0,v.jsx)("div",{className:c,dangerouslySetInnerHTML:{__html:a}})})})},ul={0:"#000",1:"white",2:"#0A0",3:"#A50",4:"#00A",5:"#A0A",6:"#0AA",7:"#AAA",8:"#555",9:"#F55",10:"#5F5",11:"#FF5",12:"#55F",13:"#F5F",14:"#5FF",15:"#FFF",16:"#000000",17:"#00005f",18:"#000087",19:"#0000af",20:"#0000d7",21:"#0000ff",22:"#A0A0A0",23:"#005f5f",24:"#005f87",25:"#005faf",26:"#005fd7",27:"#005fff",28:"#008700",29:"#00875f",30:"#008787",31:"red",32:"green",33:"yellow",34:"#00af00",35:"#00af5f",36:"#00af87",37:"#00afaf",38:"#00afd7",39:"#00afff",40:"#00d700",41:"#00d75f",42:"#00d787",43:"#00d7af",44:"#00d7d7",45:"#00d7ff",46:"#00ff00",47:"#00ff5f",48:"#00ff87",49:"#00ffaf",50:"#00ffd7",51:"#00ffff",52:"#5f0000",53:"#5f005f",54:"#5f0087",55:"#5f00af",56:"#5f00d7",57:"#5f00ff",58:"#5f5f00",59:"#5f5f5f",60:"#5f5f87",61:"#5f5faf",62:"#5f5fd7",63:"#5f5fff",64:"#5f8700",65:"#5f875f",66:"#5f8787",67:"#5f87af",68:"#5f87d7",69:"#5f87ff",70:"#5faf00",71:"#5faf5f",72:"#5faf87",73:"#5fafaf",74:"#5fafd7",75:"#5fafff",76:"#5fd700",77:"#5fd75f",78:"#5fd787",79:"#5fd7af",80:"#5fd7d7",81:"#5fd7ff",82:"#5fff00",83:"#5fff5f",84:"#5fff87",85:"#5fffaf",86:"#5fffd7",87:"#5fffff",88:"#870000",89:"#87005f",90:"#870087",91:"#8700af",92:"#8700d7",93:"#8700ff",94:"#875f00",95:"#875f5f",96:"#875f87",97:"#875faf",98:"#875fd7",99:"#875fff",100:"#878700",101:"#87875f",102:"#878787",103:"#8787af",104:"#8787d7",105:"#8787ff",106:"#87af00",107:"#87af5f",108:"#87af87",109:"#87afaf",110:"#87afd7",111:"#87afff",112:"#87d700",113:"#87d75f",114:"#87d787",115:"#87d7af",116:"#87d7d7",117:"#87d7ff",118:"#87ff00",119:"#87ff5f",120:"#87ff87",121:"#87ffaf",122:"#87ffd7",123:"#87ffff",124:"#af0000",125:"#af005f",126:"#af0087",127:"#af00af",128:"#af00d7",129:"#af00ff",130:"#af5f00",131:"#af5f5f",132:"#af5f87",133:"#af5faf",134:"#af5fd7",135:"#af5fff",136:"#af8700",137:"#af875f",138:"#af8787",139:"#af87af",140:"#af87d7",141:"#af87ff",142:"#afaf00",143:"#afaf5f",144:"#afaf87",145:"#afafaf",146:"#afafd7",147:"#afafff",148:"#afd700",149:"#afd75f",150:"#afd787",151:"#afd7af",152:"#afd7d7",153:"#afd7ff",154:"#afff00",155:"#afff5f",156:"#afff87",157:"#afffaf",158:"#afffd7",159:"#afffff",160:"#d70000",161:"#d7005f",162:"#d70087",163:"#d700af",164:"#d700d7",165:"#d700ff",166:"#d75f00",167:"#d75f5f",168:"#d75f87",169:"#d75faf",170:"#d75fd7",171:"#d75fff",172:"#d78700",173:"#d7875f",174:"#d78787",175:"#d787af",176:"#d787d7",177:"#d787ff",178:"#d7af00",179:"#d7af5f",180:"#d7af87",181:"#d7afaf",182:"#d7afd7",183:"#d7afff",184:"#d7d700",185:"#d7d75f",186:"#d7d787",187:"#d7d7af",188:"#d7d7d7",189:"#d7d7ff",190:"#d7ff00",191:"#d7ff5f",192:"#d7ff87",193:"#d7ffaf",194:"#d7ffd7",195:"#d7ffff",196:"#ff0000",197:"#ff005f",198:"#ff0087",199:"#ff00af",200:"#ff00d7",201:"#ff00ff",202:"#ff5f00",203:"#ff5f5f",204:"#ff5f87",205:"#ff5faf",206:"#ff5fd7",207:"#ff5fff",208:"#ff8700",209:"#ff875f",210:"#ff8787",211:"#ff87af",212:"#ff87d7",213:"#ff87ff",214:"#ffaf00",215:"#ffaf5f",216:"#ffaf87",217:"#ffafaf",218:"#ffafd7",219:"#ffafff",220:"#ffd700",221:"#ffd75f",222:"#ffd787",223:"#ffd7af",224:"#ffd7d7",225:"#ffd7ff",226:"#ffff00",227:"#ffff5f",228:"#ffff87",229:"#ffffaf",230:"#ffffd7",231:"#ffffff",232:"#080808",233:"#121212",234:"#1c1c1c",235:"#262626",236:"#303030",237:"#3a3a3a",238:"#444444",239:"#4e4e4e",240:"#585858",241:"#626262",242:"#6c6c6c",243:"#767676",244:"#808080",245:"#8a8a8a",246:"#949494",247:"#9e9e9e",248:"#a8a8a8",249:"#b2b2b2",250:"#bcbcbc",251:"#c6c6c6",252:"#d0d0d0",253:"#dadada",254:"#e4e4e4",255:"#eeeeee"},dl=n(2791),fl=n(1250),pl=document.createElement("div");pl.className="react-root",pl.id="react-root",document.body.appendChild(pl);var hl=function(e){if(e.settings.domain){e.connection=e.addeventhandler({},["emit","broadcast"],"connection");var t=e.connection;t.on("broadcast",(function(e){return t.emit(k(k({},e),{},{broadcast:!0}))}));var n={},i="",a=function(){console.log("openconnection ".concat(s));var r,o=!1,a=(r=function(e){return l.send(e)},function(t){return new Promise((function(i){t.noCallback?i():(t.callbackClient=e.uuid(),n[t.callbackClient]=i);for(var o=JSON.stringify(t);o.length>64e3;)r(o.substring(0,64e3)),o=o.substring(64e3);r(o)}))}),l=new WebSocket(s);l.onerror=function(e){t.event("error",{error:e})},l.onclose=function(e){t.event("connection",{error:e,connected:!1}),o&&(clearInterval(o),t.off("emit",a))},l.onopen=function(){t.on("emit",a),t.event("connection",{connected:!0}),o=setInterval((function(){return l.send("{}")}),15e3)},l.onmessage=function(e){return function(e){if(64e3!==e.length){e=i+e,i="";var r=JSON.parse(e);if(n[r.callbackClient]){try{n[r.callbackClient](r)}catch(o){console.log("err",n[r.callbackClient],o)}delete n[r.callbackClient]}else t.event(r.type,r)}else i+=e}(e.data)}},l=0,s="ws".concat(e.settings.secure?"s":"","://").concat(e.settings.domain);if(t.on("connection",(function(t){var n=t.connected;t.fallback||(!0===n&&(l=0),!1===n&&(setTimeout(a,1e3*l),l<50&&(l+=e.settings.debug?1:5)))})),a(),t.connected=!1,t.on("connection",100,(function(e){"undefined"===typeof e.connected&&(e.connected=t.connected),t.connected=e.connected})),t.on("connection",(function(e){var n=e.wait,r=e.connected;if(n&&!r)return new Promise((function(e){t.on("connection",(function n(r){r.connected&&(t.off("connection",n),e({connected:!0}))}))}))})),e.settings.waitOnConnect&&e.on("loaded",1e3,(function(){return t.event("connection",{wait:!0})})),e.settings.debug){var c="notconnected";t.on("connection",(function(e){var t=e.connected;e.fallback||("disconnected"===c&&t&&window.location.reload(),"connected"!==c||t||(c="disconnected"),"notconnected"===c&&t&&(c="connected"))}))}!function(e){var t=function(){var t=o(r().mark((function t(n){var i,o;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/httpsfallback",{method:"post",body:JSON.stringify(n)});case 2:return i=t.sent,t.next=5,i.json();case 5:return o=t.sent,e.connection.event(o.type,o),t.abrupt("return",o);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n="notconnected";e.connection.on("connection",(function(r){var i=r.connected,o=r.fallback;i&&!o&&("fallback"===n&&e.connection.off("sendSocket",t),n="connected")})),e.connection.on("error",o(r().mark((function i(){var o;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("connected"!==n&&"fallback"!==n){r.next=2;break}return r.abrupt("return");case 2:return n="fallback",r.next=5,fetch("/httpsfallback",{method:"post",body:"li"});case 5:return o=r.sent,r.next=8,o.text();case 8:if(r.t0=r.sent,"li"===r.t0){r.next=11;break}return r.abrupt("return");case 11:e.connection.on("emit",t),e.connection.event("connection",{connected:!0,fallback:!0});case 13:case"end":return r.stop()}}),i)}))))}(e),function(e){var t={};e.on("init",o(r().mark((function n(){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:window.addEventListener("message",function(){var n=o(r().mark((function n(i){var o,a,l,s;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("to"===(o=i.data).nystem){n.next=3;break}return n.abrupt("return");case 3:if(a=e,o.path&&o.path.split(".").forEach((function(e){a=a[e]})),o.on&&(l=e.uuid(),s=function(t){["save","login"].includes(o.on)&&!e.settings.debug||window.postMessage(k(k({},o),{},{listnerId:l,query:t,nystem:"from"}),"*")},t[l]=s,a.on(o.on,o.prio||0,s),a={listnerId:l}),o.off&&(a.off(o.off,t[o.listnerId]),a=o),!o.event){n.next=13;break}return n.next=10,a.event(o.event,o);case 10:a=n.sent,n.next=14;break;case 13:a={data:a};case 14:window.postMessage(k(k(k({},o),a),{},{nystem:"from"}),"*");case 15:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),window.postMessage({init:!0,nystem:"from"},"*");case 2:case"end":return n.stop()}}),n)}))))}(e)}},ml=n(7752),vl=function(e){return e&&JSON.parse(JSON.stringify(e))},gl=function e(t){var n=t.model,r=t.viewFormat,i=t.fn,o=t.path,a=void 0===o?"":o,l=t.dynamicFields,s=void 0===l?[]:l;if(!n)return{};var c,u=n=vl(n),d=u.type,f=u.id,p=function(e){var t=e.path,n=void 0===t?"":t,r=e.id,i=void 0===r?"":r;return n&&i?"".concat(n,".").concat(i):i||""}({path:a,id:f}),h=n.format||r,m="".concat(d).concat((c=h).substr(0,1).toUpperCase()+c.substr(1));return void 0===ml[m]&&(m="".concat(d,"View")),(n=i({model:n,format:h,path:a,id:f,fullId:p}))?((s=[].concat(L(s),L(ml[m]||[]))).forEach((function(t){n[t]&&(n[t]=n[t]instanceof Array?n[t]:[n[t]],n[t]=n[t].map((function(t){return e({model:t,viewFormat:r,fn:i,path:p||a})})).filter((function(e){return!!e})))})),n):null},yl=function e(t){var n=t.item,r=t.viewCreatorFields,i=t.path,o=void 0===i?"":i;return(n||[]).reduce((function(t,n){var i=n.type,a=n.id,l=o?"".concat(o,".").concat(a):a;if(!i)return k(x({},a,n),t);var s=r["".concat(i,"Definition")];if(!s)return k(x({},l,n),t);var c=s.reduce((function(t,i){return n[i]?e({item:n[i],viewCreatorFields:r,path:l}):t}),{});return k(k(x({},l,n),c),t)}),{})},bl=function(e){var t,n,r=e.app.contentType,i=(t=vl(r),n=function(e){var t=e.views,n=e.item;if(!t)return e;var r=yl({item:n,viewCreatorFields:ml});Object.entries(r).forEach((function(e){var t=O(e,2),n=t[0],i=t[1];n.indexOf(".")&&(r[n.substring(0,n.indexOf(".")+1)+n]=i)}));var i,o=t.map((function(e){return gl({model:k(k({},e),{},{type:"contentType",id:void 0}),fn:function(e){var t=e.model,n=e.fullId,i=e.format;if(!n)return k({format:i},t);if(r[n])return k(k({format:i},r[n]),t);var o=n.split(".").pop();return r[o]?k(k({format:i},r[o]),t):k({format:i},t)},viewFormat:e.format||"view"})}));return e.views=(i="name",o.reduce((function(e,t){return e[t[i]]=t,e}),{})),e},Object.keys(t).reduce((function(e,r){return e[r]=n(t[r]),e}),{}));return i},xl={},wl={},kl=function(e){return new Promise((function(t){return setTimeout((function(){return t("timeout")}),e)}))},Cl=function(){var e=o(r().mark((function e(t){var n,i,o,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=xl[t],i=n.delay,o=n.timeOut,a=wl[t].shift()){e.next=5;break}return e.abrupt("return");case 5:return n.running++,e.next=8,Promise.race([a(),kl(o)]);case 8:"timeout"===e.sent&&console.error("Stand in line timeout error for ".concat(t)),setTimeout((function(){n.running--,Cl(t)}),i);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Sl={timeOut:12e4,limit:1,delay:0,running:0},Nl={init:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};xl[e]=k(k({},Sl),t),wl[e]=[]},waitInLine:function(e,t){return new Promise((function(n,i){if(wl[e]){wl[e].push(o(r().mark((function e(){var o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:o=e.sent,n(o),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))));var a=xl[e];a.limit>a.running&&Cl(e)}else console.error("Missing line ".concat(e))}))},waitInLineCount:function(e){return wl[e].length}},Tl=function(e){e.t||(e.t=function(e){return e}),function(e){var t,n,i;if("undefined"!==typeof window||null!==(t=window)&&void 0!==t&&null!==(n=t.location)&&void 0!==n&&null!==(i=n.host)&&void 0!==i&&i.includes(".localhost")){var a=function e(t){var n={};if(!Error.captureStackTrace)return"";Error.captureStackTrace(n,e);var r=O(/https?:\/\/[^/]+\/([^:]+):([^:]+):([0-9]+)/im.exec(n.stack.split("\n")[t])||[],4),i=r[1],o=r[2],a=r[3];return i?"\x1b[48;2;220;220;220m".concat(i,":").concat(o,":").concat(a,"\x1b[m \n"):n.stack.split("\n")[t]},l=function(e,t){for(var n=0;n<t.length;n++)"string"===typeof t[n]&&(t[n]=m(t[n]));e.apply(void 0,L(t))},s=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];u?l(e,n):p().then((function(){l(e,n)}))}};window.console.error=s(window.console.error),window.addEventListener("unhandledrejection",(function(e){console.error(e.reason.message,e.reason.stack),e.stopPropagation(),e.preventDefault()}));var c=window.console.log;window.console.log=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return s(c).apply(void 0,[a(2)].concat(t))},window.onerror=function(e,t,n,r,i){return i?console.error(i.stack):console.error(e,t,n,r),!0};var u=!1,d="",f=[],p=function(){return new Promise((function(t){if(f.push(t),!(f.length>1)){var n=document.createElement("script");n.setAttribute("src","/source-map.js"),n.onload=o(r().mark((function t(){var n;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return window.sourceMap.SourceMapConsumer.initialize({"lib/mappings.wasm":"https://unpkg.com/source-map@0.7.3/lib/mappings.wasm"}),t.next=3,fetch("/static/js/bundle.js.map").then((function(e){return e.json()}));case 3:return n=t.sent,d=n.sources[0].replace(/\/components.js/,""),e.on("devtoolsnystvscode",(function(e){return k(k({},e),{},{base:d})})),t.next=8,new window.sourceMap.SourceMapConsumer(n);case 8:u=t.sent,f.forEach((function(e){return e()}));case 10:case"end":return t.stop()}}),t)}))),document.head.appendChild(n)}}))},h=function(t,n,r,i){if(!i)return t;var o,a=u.originalPositionFor({line:parseInt(r,10),column:parseInt(i,10)});return n=a.source,r=a.line,i=a.column,r?"nystem://".concat((o=n,o.replace(d,"".concat(e.settings.domain.replace(".localhost",""))).replace("/core/","/c/").replace("/module/","/m/").replace("/component/","/c/")),".").concat(r):t},m=function(e){return e.replace(/https?:\/\/[^/]+\/([^:]+):([0-9]+):([0-9]+)/gim,h).replace(/(static\/js\/bundle.js):([0-9]+):([0-9]+)/gim,h)}}}(e),e.waitInLine=Nl,e.on("init",-1e3,(function t(){document.body?(e.settings.debug&&console.log(e),e.parseFilter=function(e,t,n){if(!e)return{};function r(e){return e.replace(/\{([a-z_.]+)\}/gim,(function(e,r){return t(r.replace("..",n))}))}var i={$and:[]};for(var o in e){var a={},l=e[o].and;for(var s in l)a[r(l[s][0])]=r(l[s][1]);i.$and.push(a)}return i},e.stateStore=function(){var t={};return{set:function(n,r,i){if("disabled"!==i){var o=window.location.pathname,a=e.domPathId(n.current);"independent"!==i?(t[o]||(t[o]={}),t[o][a]=r):t[a]=r}},get:function(n,r){if("disabled"===r)return null;var i=e.domPathId(n.current);if("independent"===r)return t[i];var o=window.location.pathname;return t[o]&&void 0!==t[o][i]?t[o][i]:null}}}(),e.domPathId=function(e){if(!e)return null;for(var t=[],n=0;n<200&&e.parentElement;n++){for(var r=0;r<e.parentElement.children.length;r++)e.parentElement.children[r]===e&&t.unshift("".concat(r,".").concat(e.tagName));e=e.parentElement}return t.join(".")},document.addEventListener("keydown",(function(t){83===t.keyCode&&(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)&&(t.preventDefault(),e.event("keypressSaveEvent"))}),!1),e.event("loaded")):window.onload=t}))},Ll=function(e,t){var n=t?1:-1,r=t?-1:1;return function(t,i){var o=t[e],a=i[e];return void 0===o?void 0===a?0:r:void 0===a||o<a?n:o>a?r:0}},El={int:Ll,date:Ll,reference:function(e,t){var n=t?1:-1,r=t?-1:1;return function(t,i){var o=t[e]?t[e].length:0,a=i[e]?i[e].length:0;return void 0===o?void 0===a?0:r:void 0===a||o<a?n:o>a?r:0}},default:function(e,t){var n=t?1:-1,r=t?-1:1;return function(t,i){var o=t[e],a=i[e];return void 0===o?void 0===a?0:n:void 0===a?r:(o=o.toString().toLowerCase())<(a=a.toString().toLowerCase())?n:o>a?r:0}}},_l=function(e,t){var n=t.map((function(e){var t=e.type,n=e.key,r=e.reverse;return El[t]?El[t](n,r):El.default(n,r)}));return e.sort((function(e,t){for(var r,i=0;i<n.length;i++)if(0!==(r=n[i](e,t)))return r;return r}))};var jl=function(e){e.database.on("init",(function(e){var t=e.collection,n=e.db,r=t.contentType,i=function(e){var t={};e.item=e.item||[];for(var n=0;n<e.item.length;n++){var r=e.item[n];t[r.id]=r.extends?r.extends:r.type}return t._crdate="date",t}(r);t.on("init",10,(function(){var e=n.dbArray;_l(e,[{type:"int",key:"_chdate"}])}));var o=function e(t,n,i,o){return r.item.forEach((function(r){r.id&&"date"!==r.type?(i.push(t+r.id),o.push(n)):r.add2id&&e("".concat(t+r.add2id,"_"),n,i,o)}))};function a(e){var t=[],n=[],r=[];return function(e){if(e&&0===Object.keys(e).length)return[];if(e&&e.$and){var t=(e=k({},e)).$and;return delete e.$and,t instanceof Array?t.concat(e):[e,t]}return[e]}(e.filter).forEach((function(i){var a=[],s=[],c=[];i.$all&&""!==i.$all&&o("",l(i.$all),a,s);var u=i.__exact||e.exact;Object.entries(i).forEach((function(e,t){var n=O(e,2),r=n[0],i=n[1];["$all","__id","__exact"].includes(r)||(a.push(r),i&&"!"===i[0]&&(c[t]=!0,i=i.substring(1)),u?s.push(l("^".concat(i,"$"))):i instanceof Array?s.push(l(i.join("|"))):i?!0===i?s.push("true"):-1!=="<>".indexOf(i[0])?s.push(i):s.push(l(i,r)):s.push("false"))})),a.length>0&&(t.push(a),n.push(s),r.push(c))})),0===t.length?{}:{searchField:t,searchValue:n,searchInvert:r}}function l(e,t){return"boolean"===i[t]?e:new RegExp(e.toString().replace(/\*/g,"\\*"),"i")}t.on("search",1e3,(function(e){if(void 0===e.data){var t=n.dbArray;e.total=t.length,function(e,t){var n=t.item||[];e.sortby=e.sortby?e.sortby:n.find((function(e){return"title"===e.id}))?"title":"name",e.sortby=e.sortby||"_chdate",e.position=e.position||0,e.count=e.count||200}(e,r);var o=[],l=e.sortby instanceof Array?e.sortby:[e.sortby||"_chdate"],s=e.reverse instanceof Array?e.reverse:[e.reverse||!1];if("_chdate"===l[0]&&1===l.length&&(l=!1),!1===s[0]&&1===s.length&&(s=!1),!e.filter||!function(e){var n=a(e),r=n.searchField,i=n.searchValue,l=n.searchInvert;if(!r)return!1;for(var s=0;s<t.length;s++){for(var c=t[s],u=!1,d=0;d<r.length;d++){u=!1;for(var f=0;f<r[d].length;f++){var p=c[r[d][f]],h=i[d][f];p&&"[object Object]"===p.toString()&&(p=JSON.stringify(p));var m="false"===h&&!p||"true"===h&&p||"<"===h[0]&&parseFloat(p)<parseFloat(h.substring(1))||">"===h[0]&&parseFloat(p)>parseFloat(h.substring(1))||p&&h.test&&h.test(p);if(m&&!l[d][f]||!m&&l[d][f]){u=!0;break}}if(!u)break}u&&o.push(c)}return!0}(e))if(l||s&&o.length<=e.count){o=new Array(t.length);for(var c=t.length;c--;)o[c]=t[c]}else o=t;e.searchTotal=o.length,l?_l(o,l.map((function(e,t){return{type:i[e],key:e,reverse:s[t]}}))):s[0]&&(o===t&&(o=L(o)),o.reverse()),o.length<=e.position?o=[]:o.length>e.count&&(o=o.slice(e.position,e.position+e.count)),e.data=!!o.length&&o}}))}))},Ol=function(e){!function(e){e.database.on("init",(function(e){var t=e.collection,n=e.db;t.on("delete",1e3,(function(e){var t=e.id||e.data._id,r=e.data||{_id:t};return Object.assign(e,{id:t,oldData:n.dbIndex[t],data:r})})),t.on("delete",-200,(function(e){if(e.data){var t=n.dbArray;delete n.dbIndex[e.id];var r=t.indexOf(e.oldData);t.splice(r,1)}}))}))}(e),function(e){e.database.on("init",(function(e){var t=e.collection,n=e.db;t.on("find",1e3,(function(e){var t=e.field,r=e.value,i=e.data,o=e.testIfSet;if(!i){var a=n.dbArray;if(!o){for(var l=0;l<a.length;l++)if(a[l][t]===r)return k(k({},e),{},{data:a[l]});return e}for(var s=0;s<a.length;s++)if(!a[s][t]===!r)return k(k({},e),{},{data:a[s]})}}))}))}(e),function(e){e.database.on("init",(function(e){var t=e.collection,n=e.db;t.on("get",1e3,(function(e){return e.data?e:k(k({},e),{},{data:n.dbIndex[e.id]})}))}))}(e),function(e){e.database.on("init",(function(e){var t=e.collection,n=e.db;t.on("init",1e3,(function(e){return Object.assign(n,e)})),t.on("init",-1e3,(function(){return t}))}))}(e),function(e){e.database.on("init",(function(t){var n=t.collection,r=t.db;n.on("save",2e3,(function(e){var t=e.id||e.data&&e.data._id;if(t&&!e.oldData){var n=r.dbIndex[t];if(n)return e.fields&&(e.data=k(k({},n),e.data)),k(k({},e),{},{oldData:n})}})),n.on("save",1e3,(function(t){t.data&&(t.data._id=t.id=t.id||t.data._id||e.uuid())})),n.on("save",-100,(function(e){if(e.data){var t=r.dbArray,n=r.dbIndex;e.oldData&&(t.splice(t.indexOf(e.oldData),1),delete n[e.oldData._id]),n[e.id]=e.data,t.push(e.data)}}))}))}(e),jl(e),e.database.on("init",(function(t){var n=t.contentType,r={dbArray:[],dbIndex:{}},i=e.addeventhandler({contentType:n},["delete","find","get","init","save","search","size","update","updates"],"database ".concat(n.machinename));return i.on("init",(function(){var e=r.dbArray,t=r.dbIndex;e.forEach((function(n){t[n._id]&&e.splice(e.indexOf(t[n._id]),1),t[n._id]=n}))})),i.on("size",(function(){return r.dbArray.length})),{collection:i,db:r,contentType:n}}),1e3)},Ml=function(e){return JSON.stringify(e)},Il=function(e){var t=function t(n,r,i){if(r&&("reference"===n.type&&(r=r instanceof Array?r:[r]).forEach((function(t){e.event("addToCache",{id:t,contentType:n.source,addMedia:i})})),"group"===n.type&&n.item.forEach((function(e){return t(e,r[e.id],i)})),"multigroup"===n.type)){var o=r[n.id]||[];o.forEach((function(e,r){return n.item.forEach((function(e){return t(e,o[r][e.id],i)}))}))}},n={};e.on("addToCache",100,(function(r){var i=r.contentType,o=r.id,a=r.addMedia;if(!n[i]||!n[i][o]){n[i]=n[i]||{},n[i][o]=!0;var l=e.database[i],s=e.contentType[i].item;return new Promise((function(e,n){l.get({id:o}).then((function(n){var r=n.data;e({contentType:i,id:o,addMedia:a,value:r}),s.forEach((function(e){t(e,r[e.id],a)}))}))}))}})),e.database.on("init",(function(e){var t=e.collection,r=e.contentType;t.on("update",(function(e){var t=e.ids;!e.offline&&n[r]&&(t&&t.length<500?t.forEach((function(e){delete n[r][e]})):delete n[r])}))}))},Al=function(e){var t=e.addeventhandler({},["init","add","clearCache"],"databaseglobal");e.database=t,function(e){var t=!1;e.on("init",(function(){t=e.connection.connected,e.connection.on("connection",(function(e){t=e.connected}))})),e.database.on("init",(function(n){var r=n.collection,i=n.contentType,o=function(t,n){return e.connection.emit({type:"database",action:t,contentType:i.machinename,query:n}).then((function(e){return e.query}))};["find","get","size"].forEach((function(e){r.on(e,900,(function(n){return n.data?void 0:t?o(e,n):k(k({},n),{},{offline:!0})}))})),r.on("delete",2700,(function(e){return t?o("delete",e):k(k({},e),{},{offline:!0})})),r.on("save",2700,(function(e){return t?o("save",e):k(k({},e),{},{offline:!0})})),r.on("search",1700,(function(e){return e.inCache?void 0:t?o("search",e):k(k({},e),{},{offline:!0})})),r.on("updates",(function(e){return o("updates",e)})),r.on("update",200,(function(e){return k(k({},e),{},{offline:!t})})),e.connection.on("database",(function(e){e.contentType===i.machinename&&["update"].includes(e.action)&&r[e.action](e.query)})),e.connection.on("connection",(function(e){e.connected&&r.updates()}))}))}(e),function(e){e.database.on("init",(function(t){var n,r,i=t.collection,o=t.db,a=[],l={},s={},c=e.settings.database&&e.settings.database.updateFrequency||[300,2e3],u=function(){clearTimeout(n),clearTimeout(r),r=!1,i.event("update",{ids:a}).then((function(){a=[]}))};i.on("get",1e3,(function(t){t.onData&&!t.callbackId&&(t.callbackId=e.uuid(),s[t.id]=s[t.id]||{},s[t.id][t.callbackId]=t.onData,delete t.onData)})),i.on("get",-1e3,(function(e){e.callbackId&&s[e.id][e.callbackId](e)})),i.on("search",1e3,(function(t){t.onData&&!t.callbackId&&(t.callbackId=e.uuid(),l[t.callbackId]=k(k({},t),{},{data:!1}),delete t.onData)})),i.on("search",-1e3,(function(e){e.callbackId&&l[e.callbackId].onData(e)})),i.on("offUpdate",(function(e){l[e.callbackId]?delete l[e.callbackId]:delete s[e.id][e.callbackId]})),i.on(["save","delete"],-1e3,(function(e){e.offline&&(n&&clearTimeout(n),n=setTimeout(u,c[0]),r||(r=setTimeout(u,c[1])),a.includes(e.id)||a.push(e.id))}));var d=function(e){o.dbArray=o.dbArray.filter((function(t){return t._id!==e})),delete o.dbIndex[e]};i.on("update",(function(e){var t=e.ids;e.offline||(t&&t.length<500?t.forEach(d):(o.dbArray=[],o.dbIndex={}))})),i.on("update",-1e3,(function(e){var t=e.ids;Object.values(l).forEach((function(e){return i.search(k(k({},e),{},{data:!1,onData:!1}))})),(t?t.filter((function(e){return s[e]})):Object.keys(s)).forEach((function(e){Object.values(s[e]).forEach((function(t){return i.get({id:e}).then((function(n){return s[e][t](n)}))}))})),i.event("saveStorage")})),i.on("updates",1e3,(function(){var e=o.dbArray,t=e.length-1;if(-1!==t&&e[t]._chdate)return{date:e[t]._chdate}})),i.on("updates",-1e3,i.update)}))}(e),Ol(e),function(e){e.settings.noClientCache||e.database.on("init",(function(e){var t=e.collection,n=e.db;if(!t.contentType.noClientCache){var r=function(e){var r=n.dbIndex,i=n.dbArray;if(!r[e._id]){r[e._id]=e;var o=e._chdate,a=i.length-1;if(o)for(;a>=0&&(!i[a]._chdate||i[a]._chdate>o);)a-=1;a===i.length-1?i.push(e):i.splice(a+1,0,e),t.event("saveStorage")}},i={},o=!1;t.on(["update","clearCache"],2e3,(function(){i={},o=!1})),t.on("search",2e3,(function(e){var t=o||i[Ml(k(k({},e),{},{data:void 0}))];return k(k({},e),{},{inCache:t})})),t.on("search",-1e3,(function(e){if(e.data&&!o){o=e.count>e.searchTotal&&e.searchTotal===e.total,e.data.forEach(r);var t=Ml(k(k({},e),{},{data:void 0}));i[t]||(i[t]=!0)}})),t.on(["get","find"],-1e3,(function(e){var t=e.data;!o&&t&&r(t)}))}}))}(e),function(e){e.settings.noClientCache||e.database.on("init",(function(t){var n=t.collection,r=t.db,i="dbStorage".concat(n.contentType.machinename);n.on(["save","delete","saveStorage"],-1e3,(function(){e.storage.setItemDebounce({id:i,value:r.dbArray,delay:500})})),n.on("init",1e3,(function(){return e.storage.getItem({id:i}).then((function(e){var t=e.value;r.dbArray=t||[]}))})),n.on("clearCache",(function(){e.storage.setItemDebounce({id:i,value:[],delay:0}),r.dbArray=[],r.dbIndex={}}))}))}(e),function(e){e.settings.noClientCache||e.database.on("init",(function(t){var n=t.collection,r=t.db,i="dbSaveQueue".concat(n.contentType.machinename),o={};e.storage.getItem({id:i}).then((function(e){var t=e.value;return o=t||{}}));var a=function(t){var n=t.id,r=t.data;t.offline&&(o[n]=r,e.storage.setItemDebounce({id:i,value:o,delay:300}))};n.on("save",-1e3,(function(e){return a(e)})),n.on("delete",-1e3,(function(e){return a(k(k({},e),{},{data:"deleted"}))})),n.on("updates",500,(function(e){var t=r.dbArray,n=e.date;if(n){for(var i=t.length-1;-1!==i&&!o[t[i]._id];)i--;return k(k({},e),{},{saveQueue:o,date:n})}})),n.on("updates",-500,(function(){o={},e.storage.setItem({id:i,value:{}})}))}))}(e),Il(e),t.on("clearCache",(function(){return Promise.all(Object.keys(e.contentType).filter((function(e){return t[e]})).map((function(e){return t[e].event("clearCache")})))}));e.on("init",-100,(function(){return e.connection.on("databaseUpdate",(function(e){return t[e.contentType].update(e)})),Promise.all((n=Object.values(e.contentType),n.filter((function(e){return"none"!==e.storage})).map((function(e){return t.init({contentType:e}).then((function(e){return e.collection.init()})).then((function(n){return t[e.machinename]=n}))})))).then((function(){e.on(["login","logout"],(function(){t.clearCache().then((function(){}))}))}));var n}))},Fl=function(e){!function(e){var t=e.settings.userContentType,n=void 0===t?"adminUser":t,i="session".concat(n);e.session=e.addeventhandler({},["login","logout"],"session");var a=e.session,l=!1;function s(t){if(JSON.stringify(t)!==JSON.stringify(a.user)){try{e.storage.setItem({id:i,value:t})}catch(n){}a.user=t,"string"===typeof a.user.role&&(a.user.role=[a.user.role]),e.event("login",t)}}a.on("login",function(){var t=o(r().mark((function t(n){var i,o;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.connection.emit({type:"login",data:n,sessionid:n.sessionid,contentType:n.contentType});case 2:if(i=t.sent,(o=i.user)&&!i.error)s(o);else if(a.user!==l){a.user=l;try{e.event("clearCacheAndReload")}catch(r){}}return t.abrupt("return",i);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e.on("init",-100,o(r().mark((function t(){var o,s,c;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.connection.on("autologin",(function(t){var n=t.user,r=t.error;n&&!r&&(l=n,a.user||(a.user=n,"string"===typeof a.user.role&&(a.user.role=[a.user.role]),e.event("login",n)))})),o=function(e){var t=e.key,n=e.id;(t||n)===i&&setTimeout((function(){return window.location.reload()}),0)},window.addEventListener("storage",o),e.storage.on("removeItem",-1e3,o),e.storage.on("setItem",-1e3,o),a.on("logout",(function(){delete a.user,e.connection.emit({type:"logout",contentType:n,noCallback:!0}),e.event("clearCacheAndReload"),e.event("logout")})),e.connection.on("logout",(function(){e.event("clearCacheAndReload")})),t.next=9,e.storage.getItem({id:i});case 9:s=t.sent,c=s.value,a.user=c||l,c&&(e.connection.connected&&a.login(c),e.connection.on("connection",(function(e){e.connected&&a.login(c)})));case 13:case"end":return t.stop()}}),t)}))))}(e);var t=function(e){return{method:"POST",body:JSON.stringify({token:e})}};e.on("login",-100,(function(e){var n=e.token;n&&fetch("/login",t(n))})),e.on("logout",-100,(function(e){var n=e.token;n&&fetch("/logout",t(n))}))},Dl=function(e){if(window.electron){e.settings.domain||function(e){if(!e.settings.domain){e.connection=e.addeventhandler({},["emit","broadcast"],"connection");var t=e.connection;t.on("broadcast",(function(t){return e.event("electronEvent",k(k({},t),{},{broadcast:!0}))})),t.on("emit",(function(t){return e.event("electronEvent",t)})),e.on("electronData",(function(e){return t.event(e.type,e)})),t.connected=!1,t.on("connection",100,(function(e){"undefined"===typeof e.connected&&(e.connected=t.connected),t.connected=e.connected})),e.on("start",(function(){t.event("connection",{connected:!0})})),t.on("connection",(function(e){var n=e.wait,r=e.connected;if(n&&!r)return new Promise((function(e){t.on("connection",(function n(r){r.connected&&(t.off("connection",n),e({connected:!0}))}))}))}))}}(e);var t={},n=function(e){if(t[e.callbackClient]){try{t[e.callbackClient](e)}catch(n){console.log("err",t[e.callbackClient],n)}delete t[e.callbackClient]}};window.electron.on(function(){var t=o(r().mark((function t(i,o){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!o.callbackClient){t.next=4;break}n(o),t.next=8;break;case 4:return t.next=6,e.event("electronData",o);case 6:(o=t.sent).callbackServer&&window.electron.send(o);case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),e.on("electronEvent",(function(n){if(!n.noCallback)return function(n,r){return new Promise((function(i){n.callbackClient=e.uuid(),t[n.callbackClient]=i,r()}))}(n,(function(){return window.electron.send(n)}));window.electron.send(n)}))}};var Pl=JSON.parse('{"adminUser":{"_features":["date","password","access"],"_roles":{},"name":"adminUser","default":{"length":"50","text_mandatory":"Field is mandatory","mandatory":true,"type":"text"},"item":[{"id":"name","text":"Name","text_mandatory":"Name is mandatory","mandatory":true,"type":"text"},{"id":"login","text":"Email","text_mandatory":"Email is mandatory","type":"text"},{"id":"password","text":"Password","length":"5","type":"password","text_mandatory":"Password is mandatory"},{"id":"role","text":"Role","text_mandatory":"Role is mandatory","type":"dropdown","option":["user","config","super","ekonomi"],"default":"config"}],"machinename":"adminUser","storage":"data","views":[{"name":"input","format":"input","item":[{"id":"name","type":"text","category":"contentTypeField","format":"fallbackTitle"},{"id":"name","type":"text","category":"contentTypeField"},{"id":"login","type":"text","category":"contentTypeField","mandatory":true},{"id":"password","type":"password","category":"contentTypeField"},{"type":"viewButton","category":"view"}],"focus":true},{"name":"list","format":"list","item":[{"type":"viewText","category":"view","text":"Admin users","renderAs":"h1"},{"type":"viewLink","category":"view","text":"New admin user","href":"/admin/adminUser/input","format":"button","className":["btn-primary"]},{"category":"view","type":"database","format":"search","sortby":{"id":"_chdate","text":"Change date"}},{"type":"viewList","category":"view","renderFormat":"table","className":["table-striped"],"headerFields":[{"id":"_chdate","type":"date","category":"contentTypeField","format":"sortBy"},{"id":"name","type":"text","category":"contentTypeField","format":"sortBy"}],"item":[{"id":"_chdate","type":"date","category":"view"},{"id":"name","type":"text","category":"contentTypeField","format":"adminInputLink"}]}]},{"name":"login","format":"input","item":[{"type":"viewText","category":"view","text":"Log in","className":["my-4"]},{"id":"login","type":"text","category":"contentTypeField","format":"input","nolabel":true,"classNameInput":["my-4"]},{"id":"password","type":"password","category":"contentTypeField","format":"input","nolabel":true,"classNameInput":["my-4"]},{"type":"viewSmallComponent","category":"view","format":"errorMsg"},{"type":"viewButton","category":"view","format":"login","size":"sm","className":["my-4","w-32"]}],"focus":true,"addForm":true},{"name":"view","item":[{"category":"contentTypeField","type":"text","id":"name","renderAs":"p"}]}]},"host":{"name":"host","_roles":{"save":"config"},"default":{"length":"50","text_mandatory":"Field is mandatory","mandatory":true,"type":"text"},"input":{"add":{"title":"New host"},"edit":{"title":"Edit host"},"message":{"send":"Sending"},"button":"Save"},"list":{"title":"Hosts","add":"Add host","fields":[{"format":"link","text":"Name","id":"name","link":"host/form/","sortable":true},{"format":"list","text":"Host","id":"host","type":"multilinetext","sortable":true},{"format":"list","text":"IP Address","id":"ip","type":"text","sortable":true},{"format":"list","text":"Change date","id":"_chdate","type":"date","sortable":true}]},"item":[{"id":"name","text":"Name","type":"text"},{"id":"host","text":"Host","type":"multilinetext"},{"id":"ip","text":"IP Address","type":"text"}],"machinename":"host","views":[{"id":"916fe9e0e66c842177c0c4977f9a462a","format":"input","name":"input","focus":true,"item":[{"id":"name","type":"text","category":"view","format":"view","text":"New host","fallback":"New host","renderAs":"h3"},{"id":"name","type":"text","category":"view","text":"Name"},{"id":"host","type":"multilinetext","category":"view","text":"Host"},{"id":"ip","type":"text","category":"view","text":"IP"},{"type":"viewButton","category":"view"}]},{"id":"246238b5b9ba054973725dab0afbe039","format":"list","name":"list","item":[{"category":"view","type":"database","format":"search"},{"category":"view","type":"style","item":[{"type":"viewText","category":"view","text":"Hosts","format":"h3","renderAs":"h4","className":["flex-grow"]},{"type":"viewLink","category":"view","className":["bg-blue-500","hover:bg-blue-500","text-white","rounded","shadow-sm","px-3","py-2","btn-primary","btn","my-3","block"],"text":"Add","href":"/host/input","renderType":"default","format":"button"}],"className":["flex"]},{"type":"viewList","category":"view","renderFormat":"table","reversesortby":true,"autoupdate":true,"item":[{"id":"name","type":"text","category":"view","format":"link","toFormat":"input","className":["p-2","block"]},{"id":"host","type":"multilinetext","category":"view","className":["p-2","block"]},{"id":"ip","type":"text","category":"view","className":["p-2","block"]}],"headerFields":[{"id":"name","type":"text","category":"view","format":"sortBy","className":["p-2","block"]},{"type":"viewText","category":"view","text":"Host","format":"span","className":["p-2","block"]},{"id":"ip","type":"text","category":"view","format":"sortBy","className":["p-2","block"]}]}]}]},"dbexplorer":{"storage":"memory","_features":["date","access"],"name":"dbexplorer","machinename":"dbexplorer","views":[{"format":"list","name":"list","item":[{"type":"bootstrap","format":"panel","stateStore":"disabled","header":[{"type":"bootstrap","format":"panelToggle","icon":true,"className":["flex","items-center"],"item":[{"type":"viewText","text":"Database explorer"}]}],"item":[{"type":"database","format":"search","count":20,"sortby":[{"id":"_chdate","type":"date"}],"reversesortby":true},{"type":"devtools","format":"selectContenttype","limit":1,"inline":true,"render":"button"},{"type":"devtools","format":"urlPartFilter","text":"Filter","includeId":true},{"type":"style","item":[{"type":"viewList","format":"search","className":["w-96"],"includeId":true},{"type":"viewText","text":"Count","className":["ml-6"]},{"type":"viewList","format":"listStat","show":["searchTotal","total"],"text":"","className":["ml-6"]}],"className":["flex","items-center","my-3"]},{"type":"style","item":[{"id":"_crdate","type":"date","format":"sortBy","text":"Created","className":["w-40"]},{"id":"_chdate","type":"date","format":"sortBy","text":"Changed","className":["w-40"]},{"type":"text","id":"name","format":"sortBy","className":["w-40"]},{"id":"_id","type":"text","format":"sortBy","text":"Id","className":["w-32"]}],"className":["flex","ml-6","mb-6"]},{"type":"viewList","format":"infinite","item":[{"type":"viewList","rowClassName":[""],"item":[{"type":"bootstrap","format":"panel","stateStore":"byUrl","header":[{"type":"bootstrap","format":"panelToggle","iconClassName":["w-4","h-4"],"icon":true,"item":[{"id":"_crdate","type":"date","className":["w-40"]},{"id":"_chdate","type":"date","className":["w-40"]},{"type":"text","id":"name"},{"type":"text","id":"title"},{"type":"conditional","condition":[["name","false"]],"item":[{"type":"conditional","item":[{"id":"_id","type":"text","className":["w-32"]}],"condition":[["title","false"]]}]},{"type":"viewText","className":["flex-grow"]},{"type":"copyToClipBoard","text":"copy","field":"_id","btnSize":"xs","gotoOnClick":false,"btnType":"primary"}],"className":["flex","items-center","py-1"]}],"item":[{"type":"style","item":[{"type":"style","item":[{"type":"copyToClipBoard","text":"copy","btnSize":"xs","btnType":"default","className":["rounded","mr-1"]},{"type":"viewButton","format":"input","text":"","event":"","btnType":"default","className":[""],"size":"sm"}],"className":["opacity-60","hover:opacity-100","absolute","right-0","z-20","flex","m-1"]}],"className":["relative","z-20"]},{"type":"viewText","text":"content","format":"codemirror","className":["h-96","w-full","z-10","relative"]}],"className":["w-full","my-3"],"typeClass":"defaultWithoutPadding"}],"headerFields":[],"className":[""],"header":[{"type":"viewText","text":"Database explorer"}],"emptyFields":[{"type":"viewText","text":"No data found","renderAs":"h3","className":["ml-6","font-bold"]}]}],"slotLimit":5}],"expanded":true,"className":["mx-3","mt-3"]}]}],"item":[{"type":"text","text":"Name","id":"name"},{"type":"text","text":"Title","id":"title"}],"noClientCache":true},"server":{"name":"server","_roles":{"save":[]},"default":{"length":"50","text_mandatory":"Field is mandatory","mandatory":true,"type":"text"},"item":[{"id":"name","text":"Name","type":"text"},{"id":"host","text":"Host","type":"multilinetext"},{"id":"path","text":"Path","type":"text","length":"100"},{"type":"int","id":"port","text":"Port"},{"id":"showinoverview","text":"In overview","type":"boolean","mandatory":false}],"machinename":"server","storage":"data","views":[{"name":"devtools","item":[{"category":"view","type":"extension","item":[{"category":"view","type":"extension","format":"tab","item":[{"category":"view","type":"extension","item":[{"type":"viewText","text":"Hepp"}],"format":"search","field":"host","extract":"(\\\\/\\\\/)([^\\\\/]+)"},{"category":"view","type":"style","item":[{"category":"view","type":"bootstrap","format":"panel","header":[{"category":"view","type":"style","item":[{"category":"view","type":"bootstrap","format":"panelToggle","item":[{"category":"contentTypeField","type":"text","id":"name","renderAs":"div","className":[""],"format":"view"}],"icon":true,"className":["flex","items-center","content-center","py-1","","flex-grow"]},{"category":"view","type":"viewInView","contentType":"serverStatus","view":"controlnohide","className":[""],"format":"empty","viewId":"{_id}"}],"className":["flex","items-center"]}],"item":[{"category":"view","type":"viewInView","contentType":"serverStatus","view":"status","viewId":"{_id}","format":"empty"}],"typeClass":"defaultWithoutPadding","stateStore":"disabled","expanded":true}],"format":"onOverHandle","className":["m-3","max-w-4xl"]}],"match":"localhost"},{"type":"devtools"},{"type":"viewInView","contentType":"dbexplorer","view":"list"},{"type":"viewInView","contentType":"server","view":"devtoolsettings"}]}]},{"name":"devtoolsettings","item":[{"type":"bootstrap","format":"panel","stateStore":"disabled","header":[{"type":"bootstrap","format":"panelToggle","icon":true,"className":["flex","items-center"],"item":[{"type":"viewText","text":"Settings","className":["py-2"]}]}],"item":[{"type":"devtools","format":"settings"},{"type":"viewText","format":"codemirror","className":["h-96"]}],"className":["m-3","shadow"],"typeClass":"defaultWithoutPadding"}]},{"name":"extension","item":[{"category":"view","type":"extension","item":[{"category":"view","type":"extension","format":"tab","item":[{"category":"view","type":"extension","format":"search","field":"host","extract":"(\\\\/\\\\/)([^\\\\/]+)","item":[{"category":"view","type":"router","format":"redirect","to":"/"}]},{"category":"view","type":"style","item":[{"category":"contentTypeField","type":"text","id":"name","renderAs":"div","className":["flex-grow","pt-3","pl-2"]},{"category":"view","type":"viewInView","contentType":"serverStatus","view":"controlnohide","className":[""],"format":"empty","viewId":"{_id}"}],"className":["flex","items-center","p-1","pt-0"]},{"category":"view","type":"viewInView","contentType":"serverStatus","view":"status","viewId":"{_id}","format":"empty"}],"match":"localhost"},{"category":"view","type":"extension","format":"tab","match":"localhost","invert":true,"item":[{"category":"view","type":"router","format":"redirect","to":"/"}]}]}]},{"name":"input","format":"input","item":[{"category":"view","type":"style","item":[{"category":"view","type":"bootstrap","format":"panel","header":[{"category":"view","type":"style","item":[{"category":"view","type":"bootstrap","format":"panelToggle","item":[{"category":"contentTypeField","type":"text","id":"name","renderAs":"div","className":[""],"format":"view"}],"icon":true,"className":["flex","items-center","content-center","py-1","","flex-grow"]},{"category":"view","type":"viewInView","contentType":"serverStatus","view":"controlnohide","className":[""],"format":"empty","viewId":"{_id}"}],"className":["flex","items-center"]}],"item":[{"category":"view","type":"viewInView","contentType":"serverStatus","view":"status","viewId":"{_id}","format":"empty"}],"typeClass":"defaultWithoutPadding","stateStore":"byUrl"}],"format":"onOverHandle","className":["p-3","max-w-4xl"]},{"type":"bootstrap","category":"view","row":true,"format":"view","item":[{"category":"contentTypeField","type":"text","id":"name","format":"view","renderAs":"h4"},{"id":"name","type":"text","category":"contentTypeField","mandatory":true},{"id":"host","type":"multilinetext","category":"contentTypeField"},{"category":"contentTypeField","type":"int","id":"port"},{"id":"path","type":"text","category":"contentTypeField","mandatory":true},{"category":"contentTypeField","type":"boolean","id":"showinoverview","text":"In overview"},{"type":"viewButton","category":"view"}],"className":["px-4"]}]},{"name":"link","format":"view","item":[{"category":"contentTypeField","type":"multilinetext","id":"host","format":"fields","limit":"1","item":[{"type":"icon","icon":"arrow-up-right-from-square","className":["w-4","h-4"]}],"className":[""]}]},{"name":"list","item":[{"category":"view","type":"style","className":["flex","items-center","max-w-xl","pl-4"],"item":[{"type":"viewText","category":"view","text":"Servers","renderAs":"h4","className":["flex-grow"]},{"category":"view","type":"viewList","format":"search","text":"Search","className":[""]},{"type":"viewLink","category":"view","className":["bg-blue-500","hover:bg-blue-500","text-white","rounded","shadow-sm","px-3","py-2"],"text":"Add","href":"/server/input","renderType":"primary","format":"button"}]},{"category":"view","type":"database","format":"search"},{"type":"viewList","category":"view","renderFormat":"table","autoupdate":true,"reversesortby":true,"item":[{"id":"name","type":"text","category":"contentTypeField","format":"link","toFormat":"input","className":["font-bold","py-1","px-2","block"]},{"id":"path","type":"text","category":"contentTypeField","className":["","py-1","px-2"]},{"id":"port","type":"text","category":"contentTypeField","className":["","py-1","px-2"]},{"id":"showinoverview","type":"boolean","category":"contentTypeField","format":"view","className":["","my-1","mx-2","w-4","h-4"]}],"headerFields":[{"id":"name","type":"text","category":"contentTypeField","format":"sortBy","text":"Name","className":["","py-1","px-2","block"]},{"category":"contentTypeField","type":"text","id":"path","format":"sortBy","className":["","py-1","px-2"]},{"category":"contentTypeField","type":"int","id":"port","format":"sortBy","className":["","py-1","px-2"]},{"category":"view","type":"viewText","text":"Overview","className":["","py-1","px-2"]}],"sortby":{"id":"_chdate","text":"Change date"},"filter":[],"className":["table-striped"],"rowClassName":[""]}]},{"name":"menu","format":"view","item":[{"type":"router","match":"index.html","item":[{"type":"router","format":"redirect","to":"/"}]},{"type":"style","item":[{"type":"electron","className":["flex","items-center","max-w-4xl","w-full","px-4"],"item":[{"category":"view","type":"viewLink","format":"fields","contentType":"settings","view":"menu","item":[{"category":"view","type":"icon","className":["w-8","h-8","p-2","select-none"],"icon":"bars"}]},{"category":"view","type":"viewLink","format":"link","text":"Nystem server","href":"/","className":["pl-1","flex-grow","select-none"]},{"type":"connection","item":[{"category":"view","type":"viewImage","className":["w-10","h-10","grayscale","mb-1","select-none","opacity-30"],"filename":"logo3.svg"}],"offline":true},{"type":"connection","item":[{"category":"view","type":"viewImage","className":["w-10","h-10","mb-1","select-none"],"filename":"logo3.svg"}]}],"format":"moveWindow"},{"type":"viewText","className":["flex-grow","select-none"]},{"type":"electron","item":[{"type":"electron","format":"appButton","buttonActive":"","className":["p-2","w-8","h-8","cursor-pointer","hover:bg-gray-200","rounded"],"button":"window-minimize"},{"type":"electron","format":"appButton","buttonActive":"rectangle","className":["p-2","w-8","h-8","cursor-pointer","hover:bg-gray-200","rounded"],"button":"regular-square-full"},{"type":"electron","format":"appButton","buttonActive":"","className":["p-2","w-8","h-8","cursor-pointer","hover:bg-gray-200","rounded","mr-1"],"button":"xmark"}]}],"className":["flex","text-left","font-bold","py-2","pb-0","items-center","w-full"]}]},{"name":"menupage","format":"view"},{"name":"overview","format":"list","item":[{"category":"view","type":"database","format":"search","filter":[{"and":[["showinoverview","true"]]}],"sortby":{"id":"name","text":"name"}},{"category":"view","type":"viewList","item":[{"category":"view","type":"style","item":[{"category":"view","type":"bootstrap","format":"panel","header":[{"category":"view","type":"style","item":[{"category":"view","type":"bootstrap","format":"panelToggle","item":[{"category":"contentTypeField","type":"text","id":"name","renderAs":"div","className":[""]}],"icon":true,"className":["flex","items-center","content-center","py-1","","flex-grow"]},{"category":"view","type":"viewInView","contentType":"serverStatus","view":"control","className":[""],"format":"empty","viewId":"{_id}"}],"className":["flex","items-center"]}],"item":[{"category":"view","type":"viewInView","contentType":"serverStatus","view":"status","viewId":"{_id}","format":"empty"}],"typeClass":"defaultWithoutPadding"}],"format":"onOverHandle","className":[""]}],"renderFormat":"div","headerFields":[],"className":["p-3","max-w-4xl"]}]},{"name":"test","format":"list","item":[{"type":"bootstrap","format":"panel","stateStore":"disabled","header":[{"type":"bootstrap","format":"panelToggle","icon":true,"className":["flex","items-center"],"item":[{"type":"viewText","text":"Database explorer"}]}],"item":[{"type":"database","format":"search","count":20,"sortby":[{"id":"_chdate","type":"date"}],"reversesortby":true},{"type":"devtools","format":"selectContenttype","limit":1,"inline":true,"render":"button"},{"type":"style","item":[{"type":"viewList","format":"search","className":["w-96"]},{"type":"viewText","text":"Count","className":["ml-6"]},{"type":"viewList","format":"listStat","show":["searchTotal","total"],"text":"","className":["ml-6"]}],"className":["flex","items-center","my-3"]},{"type":"style","item":[{"id":"_crdate","type":"date","format":"sortBy","text":"Created","className":["w-40"]},{"id":"_chdate","type":"date","format":"sortBy","text":"Changed","className":["w-40"]},{"type":"text","id":"name","format":"sortBy","className":["w-40"]},{"id":"_id","type":"text","format":"sortBy","text":"Id","className":["w-32"]}],"className":["flex","ml-6","mb-6"]},{"type":"viewList","format":"infinite","item":[{"type":"viewList","rowClassName":[""],"item":[{"type":"bootstrap","format":"panel","stateStore":"byUrl","header":[{"type":"bootstrap","format":"panelToggle","iconClassName":["w-4","h-4"],"icon":true,"item":[{"id":"_crdate","type":"date","className":["w-40"]},{"id":"_chdate","type":"date","className":["w-40"]},{"type":"text","id":"name"},{"type":"conditional","condition":[["name","false"]],"item":[{"id":"_id","type":"text","className":["w-32"]}]},{"type":"viewText","className":["flex-grow"]},{"type":"copyToClipBoard","text":"copy","field":"_id","btnSize":"xs","gotoOnClick":false,"btnType":"primary"}],"className":["flex","items-center","py-1"]}],"item":[{"type":"style","item":[{"type":"style","item":[{"type":"copyToClipBoard","text":"copy","btnSize":"xs","btnType":"default","className":["rounded","mr-1"]},{"type":"viewButton","format":"input","text":"","event":"","btnType":"default","className":[""],"size":"sm"}],"className":["opacity-60","hover:opacity-100","absolute","right-0","z-20","flex","m-1"]}],"className":["relative","z-20"]},{"type":"viewText","text":"content","format":"codemirror","className":["h-96","w-full","z-10","relative"]}],"className":["w-full","my-3"],"typeClass":"defaultWithoutPadding"}],"headerFields":[],"className":[""],"header":[{"type":"viewText","text":"Database explorer"}],"emptyFields":[{"type":"viewText","text":"No data found","renderAs":"h3","className":["ml-6","font-bold"]}]}],"slotLimit":5}],"expanded":true,"className":["mx-3","mt-3"]}]}]},"settings":{"name":"settings","_roles":{"save":[]},"default":{"length":"50","text_mandatory":"Field is mandatory","mandatory":true,"type":"text"},"input":{"add":{"title":"New settings"},"edit":{"title":"Edit settings"},"message":{"send":"Sending"},"button":"Save"},"list":{"title":"Settings","add":"Add settings","fields":[{"format":"link","text":"Computer","id":"name","sortable":true,"link":"settings/form/","type":"text"},{"format":"list","text":"Base path","id":"basepath","type":"text"},{"format":"list","text":"Create date","id":"_crdate","type":"date"}]},"item":[{"id":"name","text":"Computer","type":"text"},{"id":"basepath","text":"Base path","type":"text"},{"text":"Active","type":"boolean","id":"active"},{"type":"text","id":"runbasepath","text":"Run base folder"},{"type":"multigroup","id":"folders","expanded":true,"itemExpanded":true,"item":[{"type":"text","id":"id","text":"Id"},{"type":"text","id":"name","text":"Name"},{"type":"text","id":"path","text":"Path"}],"text":"Folders"}],"machinename":"settings","storage":"data","views":[{"name":"hostname","format":"view","item":[{"category":"view","type":"style","item":[{"category":"view","type":"viewLink","format":"dynamicFields","item":[{"category":"contentTypeField","type":"text","id":"client.name","className":["pb-0","text-xl","p-2"],"format":"view","toFormat":"view"}],"href":"/"},{"category":"view","type":"viewLink","contentType":"contentType","view":"input","format":"fields","item":[{"category":"view","type":"viewText","format":"titlePopup","item":[{"category":"view","type":"icon","className":["w-10","h-10","p-2"],"icon":"plus"}],"popup":[{"category":"view","type":"viewText","text":"Add contenttype","className":["bg-white","shadow","border","p-2","rounded"]}]}],"className":["ml-auto"]}],"className":["ml-1","flex","items-center"]}]},{"name":"input","format":"input","item":[{"id":"name","type":"text","category":"view","format":"view","renderAs":"h1","fallback":"Settings"},{"id":"name","type":"text","category":"view","text":"Computer name match (in lower case)"},{"id":"basepath","type":"text","category":"view","text":"Base path"},{"category":"contentTypeField","type":"text","id":"runbasepath"},{"category":"contentTypeField","type":"multigroup","id":"folders","itemExpanded":false,"field":"name"},{"type":"viewButton","category":"view"}]},{"name":"list","format":"list","item":[{"category":"view","type":"database","format":"search"},{"category":"view","type":"style","item":[{"type":"viewText","category":"view","text":"Computers","renderAs":"h4","className":["flex-grow"]},{"type":"viewLink","category":"view","text":"Add","href":"/settings/input","renderType":"default","format":"button","className":["bg-blue-500","hover:bg-blue-500","text-white","rounded","shadow-sm","px-3","py-2","btn-primary","btn","my-3","block"]}],"className":["flex"]},{"type":"viewList","category":"view","renderFormat":"table","autoupdate":true,"reversesortby":true,"item":[{"id":"name","type":"text","category":"view","format":"link","className":["p-2","block"]},{"id":"basepath","type":"text","category":"view","className":["p-2","block"]}],"headerFields":[{"id":"name","type":"text","category":"view","format":"sortBy","className":["p-2","block"]},{"id":"basepath","type":"text","category":"view","format":"sortBy","className":["p-2","block"]}],"sortby":{"id":"_chdate","text":"Change date"},"className":["table-striped"]}]},{"name":"menu","format":"view","item":[{"category":"view","type":"viewLink","format":"link","href":"/","text":"Overview","className":["border","p-2","m-2","block","w-32","text-center","bg-gray-200","shadow","hover:bg-gray-100","ml-0"],"match":"/dsfdsf"},{"category":"view","type":"viewLink","text":"Servers","contentType":"server","view":"list","renderType":"link","className":["border","p-2","m-2","block","w-32","text-center","bg-gray-200","shadow","hover:bg-gray-100","ml-0"]},{"category":"view","type":"viewLink","text":"Hosts","contentType":"host","view":"list","className":["border","p-2","m-2","block","w-32","text-center","bg-gray-200","shadow","hover:bg-gray-100","ml-0"]},{"category":"view","type":"viewLink","contentType":"settings","view":"list","text":"Settings","className":["border","p-2","m-2","block","w-32","text-center","bg-gray-200","shadow","hover:bg-gray-100","ml-0"]},{"type":"session","format":"logout","item":[{"type":"viewText","text":"Log out","className":["block","bg-gray-200","hover:bg-gray-100","text-sm"]}],"to":"/","className":["w-32"]}]},{"name":"view","format":"input","item":[{"category":"view","type":"style","item":[{"category":"contentTypeField","type":"text","id":"client.name","disabled":true},{"category":"contentTypeField","type":"text","id":"client.domain","disabled":true},{"category":"contentTypeField","type":"boolean","id":"debug","disabled":true},{"category":"contentTypeField","type":"int","id":"port","disabled":true},{"category":"view","type":"bootstrap","format":"panel","header":[{"category":"view","type":"bootstrap","format":"panelToggle","item":[{"category":"view","type":"viewText","text":"Change settings"}],"icon":true,"className":["flex","items-center"]}],"item":[{"category":"contentTypeField","type":"text","id":"client.name","format":"input","disabled":false},{"category":"contentTypeField","type":"text","id":"client.domain","format":"input","disabled":false},{"category":"contentTypeField","type":"boolean","id":"debug","format":"input","disabled":false},{"category":"contentTypeField","type":"int","id":"port","format":"input","disabled":false},{"category":"view","type":"viewButton","sendOnly":true}],"className":["mt-8"]},{"category":"view","type":"bootstrap","format":"panel","header":[{"category":"view","type":"bootstrap","format":"panelToggle","item":[{"category":"view","type":"viewText","text":"Component format"}],"icon":true,"className":["flex","items-center"]}],"item":[{"category":"view","type":"viewInView","contentType":"componentFormat","view":"list"}]}],"className":["p-3"]}]}]},"serverStatus":{"machinename":"serverStatus","name":"serverStatus","storage":"memory","_features":["access"],"item":[{"type":"boolean","id":"running","text":"Running"},{"type":"textarea","id":"log","text":"Log"},{"type":"boolean","id":"vscode","text":"Code editor"},{"type":"boolean","id":"term","text":"Term"},{"type":"boolean","id":"sourcetree","text":"Sourcetree"},{"type":"boolean","id":"filexplorer","text":"File explorer"},{"type":"boolean","id":"manager","text":"Manager"}],"views":[{"name":"control","item":[{"category":"view","type":"style","item":[{"type":"bootstrap","item":[{"category":"view","type":"style","item":[{"category":"contentTypeField","type":"boolean","id":"manager","format":"button","btnType":"danger","falseBtnType":"primary","size":"xs","className":["mr-1","transition","transition-opacity","duration-500","ease-in-out"],"text":"gear","falseText":"gear:hide-on-false"},{"category":"contentTypeField","type":"boolean","id":"vscode","format":"button","btnType":"success","falseBtnType":"success","size":"xs","className":["mr-1","transition","transition-opacity","duration-500","ease-in-out"],"text":"code","falseText":"code:hide-on-false"},{"category":"contentTypeField","type":"boolean","id":"term","format":"button","className":["mr-1","transition","transition-opacity","duration-500","ease-in-out"],"btnType":"primary","falseBtnType":"primary","size":"xs","text":"terminal-solid","falseText":"terminal-solid:hide-on-false"},{"category":"contentTypeField","type":"boolean","id":"sourcetree","format":"button","btnType":"primary","falseBtnType":"primary","size":"xs","className":["mr-1","transition","transition-opacity","duration-500","ease-in-out"],"text":"brands-github","falseText":"brands-github:hide-on-false"},{"category":"contentTypeField","type":"boolean","id":"filexplorer","format":"button","btnType":"primary","falseBtnType":"primary","size":"xs","className":["mr-1","transition","transition-opacity","duration-500","ease-in-out"],"text":"folder","falseText":"folder:hide-on-false"},{"category":"view","type":"viewInView","contentType":"server","view":"link","viewId":"{id}","format":"view","className":["py-2","transition","transition-opacity","duration-500","ease-in-out","hide-on-false","bg-blue-500","hover:bg-blue-500","text-white","rounded","shadow-sm","py-1","px-2","mr-1"]},{"category":"view","type":"viewText","format":"titlePopup","item":[{"category":"contentTypeField","type":"boolean","id":"running","format":"button","text":"pause","falseText":"play:hide-on-false","btnType":"danger","falseBtnType":"primary","size":"xs","className":["py-2","transition","transition-opacity","duration-500","ease-in-out"]}],"popup":[{"category":"contentTypeField","type":"textarea","id":"log","format":"log","className":["bg-black","text-gray-400","p-3"],"wrapperClass":["flex","flex-col-reverse","max-h-128","overflow-hidden","bg-black","w-64","rounded","shadow"]}],"className":[""]}],"className":["flex","py-1"],"format":"onOver","classNameOver":["is-over"],"classNameOut":["is-out"]}],"format":"panelOpen","classNameOpen":["is-open"],"className":[""]}],"className":["flex"]},{"category":"view","type":"viewButton","format":"autoSave"}],"format":"view"},{"name":"controlnohide","item":[{"category":"view","type":"style","item":[{"category":"contentTypeField","type":"boolean","id":"manager","format":"button","btnType":"danger","falseBtnType":"primary","size":"xs","className":["mr-1"],"text":"gear","falseText":"gear"},{"category":"contentTypeField","type":"boolean","id":"vscode","format":"button","btnType":"success","falseBtnType":"success","size":"xs","className":["mr-1"],"text":"code","falseText":"code"},{"category":"contentTypeField","type":"boolean","id":"term","format":"button","className":["mr-1"],"btnType":"primary","falseBtnType":"primary","size":"xs","text":"terminal-solid","falseText":"terminal-solid"},{"category":"contentTypeField","type":"boolean","id":"sourcetree","format":"button","btnType":"primary","falseBtnType":"primary","size":"xs","className":["mr-1"],"text":"brands-github","falseText":"brands-github"},{"category":"contentTypeField","type":"boolean","id":"filexplorer","format":"button","btnType":"primary","falseBtnType":"primary","size":"xs","className":["mr-1"],"text":"folder","falseText":"folder"},{"category":"view","type":"viewInView","contentType":"server","view":"link","viewId":"{id}","format":"view","className":["bg-blue-500","hover:bg-blue-500","text-white","rounded","shadow-sm","py-2","px-2","mr-1"]},{"category":"contentTypeField","type":"boolean","id":"running","format":"button","text":"pause","falseText":"play","btnType":"danger","falseBtnType":"primary","size":"xs","className":["w-8","h-8"]}],"className":["flex","py-1"]},{"category":"view","type":"viewButton","format":"autoSave"}]},{"name":"status","format":"input","item":[{"category":"view","type":"viewInView","format":"setBaseViewValue","fromField":"_id","toField":"_id"},{"type":"style","item":[{"type":"viewButton","format":"view","text":"Clear","event":"clearlog","btnType":"default","className":["opacity-20","absolute","right-0"]}],"className":["relative"]},{"category":"contentTypeField","type":"textarea","id":"log","format":"log","height":"200","className":["bg-black","text-gray-400","p-3"],"wrapperClass":["flex","flex-col-reverse","max-h-128","overflow-auto","min-h-8","bg-black","h-100","scrollbar","scrollbar-dark"],"event":"log"}]}]}}'),Vl=function e(t){var n={};if(!Error.captureStackTrace)return"";Error.captureStackTrace(n,e);var r=O(/https?:\/\/[^/]+\/([^:]+):([^:]+):([0-9]+)/im.exec(n.stack.split("\n")[t])||[],4),i=r[1],o=r[2],a=r[3];return i?" ".concat(i,":").concat(o,":").concat(a,"\n"):n.stack.split("\n")[t]};function zl(e,t,n){var r={},i={},o={};"string"===typeof t&&(n=t,t=void 0),o.addEventHandlerInitiator=["".concat(n," ").concat(Math.random()),Vl(2)];(e=e||{}).on=function(e,t,n){(e=e instanceof Array?e:[e]).forEach((function(e){return function(e,t,n){if("number"===typeof t){var a=t;t=n,n=a}if(!t)return console.error("No callback",Vl(5));if("function"!==typeof t)return console.error("Not a function",Vl(5),t);n=n||0,r[e]||(r[e]=[],i[e]=[],o[e]=[]);for(var l=r[e].length;l&&i[e][l-1]<n;)l--;i[e].splice(l,0,n),r[e].splice(l,0,t),o[e].splice(l,0,Vl(5))}(e,t,n)}))};e.off=function(e,t){(e=e instanceof Array?e:[e]).forEach((function(e){return function(e,t){if(r[e]){var n=r[e].indexOf(t);-1!==n&&(r[e].splice(n,1),i[e].splice(n,1),o[e].splice(n,1)),r[e].length||delete r[e]}else console.log("Missing event",e,r)}(e,t)}))};var a=function(e){return e&&e.replace("   at module.exports ","at ")},l={},s=function(e,t){t=t||{};var n=r[e];return l[e]||(l[e]=!0),n?new Promise((function(r,i){var l=setTimeout((function(){console.log("\ud83d\udca5 Event ".concat(e," stopped ").concat(s," of ").concat(n.length).concat(a(o[e][s-1]),"  ").concat(o[e].map((function(e,t){return"".concat(t,".").concat(a(e))})).join("  ")))}),5e3),s=0,c=t;!function e(t){if(t instanceof Promise)t.then(e).catch(i);else{if(t="undefined"===typeof t?c:t,s>=n.length)return clearTimeout(l),void r(t);c=t,Promise.resolve(n[s++](t)).then(e).catch(i)}}(t)})):Promise.resolve(t)};return e.event=s,e.waitFor=function(t){return new Promise((function(n){l[t]?n():e.on(t,(function r(){e.off(t,r),n()}))}))},t&&t.forEach((function(t){e[t]=function(e,n){return s(t,e)}})),e}var Rl=JSON.parse('{"debug":true,"name":"Nystem server","domain":"nystem-server.localhost"}'),Bl={settings:window&&window.___settings___||Rl,contentType:Pl,addeventhandler:zl};if(Bl.settings.fetchDomainFromUrl){var Hl=window&&window.location||{},Wl=Hl.protocol,Ul=Hl.host;"https:"!==Wl||Bl.settings.secure||(Bl.settings.secure=!0,Bl.settings.domain=Ul)}zl(Bl,"app");var ql=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};Bl.uuid=function(){return ql()+ql()+ql()+ql()+ql()+ql()+ql()+ql()},Bl.capFirst=function(e){return e&&e.substring(0,1).toUpperCase()+e.substring(1)},Bl.clone=function(e){return e&&JSON.parse(JSON.stringify(e))},function(t){!function(t){var n,i=function(){var i=o(r().mark((function i(){var o,a,l,s;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,t.event("getElementContext",{renderer:fl,component:"Index",element:pl});case 4:o=r.sent,a=o.renderer,l=o.component,s=o.element,(n=a.createRoot(s)).render(dl.createElement(e[l]));case 10:case"end":return r.stop()}}),i)})));return function(){return i.apply(this,arguments)}}();t.on("loaded",i),t.on("reload",i),t.on("unmount",(function(){n.unmount(),n=void 0}))}(t),hl(t),function(e){e.on("init",1e3,(function(){e.populatedViews=bl({app:e}),e.replaceInModel=gl}))}(t),Tl(t),Al(t),function(e){e.storage=e.addeventhandler({},["clear","getItem","setItem","removeItem","getItemMem","setItemMem","removeItemMem","setItemDebounce"],"storage"),e.storage.on("getItem",function(){var e=o(r().mark((function e(t){var n,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=window.localStorage.getItem(t.id))!=="nystemCache".concat(t.id)){e.next=8;break}return e.next=4,caches.open("nystem");case 4:return i=e.sent,e.next=7,i.match(n).then((function(e){return e.json()}));case 7:n=e.sent;case 8:return e.abrupt("return",k(k({},t),{},{value:!n||"["!==n[0]&&"{"!==n[0]?n:JSON.parse(n)}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.storage.on("setItem",function(){var e=o(r().mark((function e(t){var n,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.id,i=void 0===(i=t.value)||"string"===typeof i?i:JSON.stringify(i),e.prev=2,window.localStorage.setItem(n,i),e.next=16;break;case 6:return e.prev=6,e.t0=e.catch(2),e.next=10,caches.open("nystem");case 10:if(o=e.sent,22===e.t0.code){e.next=13;break}return e.abrupt("return");case 13:return e.next=15,o.put("nystemCache".concat(n),new Response(i,{status:200,statusText:"Dbcache",headers:new Headers({"content-type":"application/json",date:new Date,etag:"dbdata"})}));case 15:window.localStorage.setItem(n,"nystemCache".concat(n));case 16:case"end":return e.stop()}}),e,null,[[2,6]])})));return function(t){return e.apply(this,arguments)}}());var t={};e.storage.on("setItemDebounce",(function(n){var r=n.id,i=n.value,o=n.delay;clearTimeout(t[r]),t[r]=setTimeout((function(){delete t[r],e.storage.setItem({id:r,value:i})}),o)})),e.storage.on("removeItem",(function(e){var t=e.id;window.localStorage.removeItem(t)})),e.storage.on("clear",(function(){window.localStorage.clear()}));var n={};e.storage.on("getItemMem",(function(e){return Object.assign(e,{value:n[e.id]})})),e.storage.on("setItemMem",(function(e){var t=e.id,r=e.value;n[t]=r})),e.storage.on("removeItemMem",(function(e){var t=e.id;delete n[t]}))}(t),function(e){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/nystem-service-worker.js").then((function(e){e.update()}),(function(e){console.log("ServiceWorker registration failed: ",e)}))}));var t=!1;window.addEventListener("beforeinstallprompt",(function(e){t=e})),e.on("canRunAppInstall",(function(){return{installable:!!t}})),e.on("runAppInstall",(function(){t&&(t.prompt(),t.userChoice.then((function(e){"accepted"===e.outcome?console.log("User accepted the install prompt"):console.log("User dismissed the install prompt")})))}));var n=/main\.([0-9a-f]+)\.js/im;e.on("getAppVersion",(function(){return{appVersion:(n.exec([].concat(L(document.head.children),L(document.body.children)).map((function(e){return e.src})).find((function(e){return n.test(e)})))||[])[1]}})),e.on("clearCacheAndReload",o(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.storage.clear();case 2:window.caches.delete("nystem").then((function(){window.location.reload()}));case 3:case"end":return t.stop()}}),t)})))),e.on("init",-100,(function(){e.connection.on("connection",(function(t){t.connected&&e.connection.emit({type:"getAppVersion"}).then(function(){var t=o(r().mark((function t(n){var i,o,a;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.appVersion,t.next=3,e.event("getAppVersion");case 3:if(o=t.sent,a=o.appVersion,e.settings.version="".concat(a,"/").concat(i),a&&i&&a!==i){t.next=10;break}return t.next=9,e.storage.setItem("havereloaded","false");case 9:return t.abrupt("return");case 10:return t.next=12,e.storage.getItem("havereloaded");case 12:if(t.t0=t.sent,"true"!==t.t0){t.next=15;break}return t.abrupt("return");case 15:return t.next=17,e.storage.setItem("havereloaded","true");case 17:window.caches.delete("nystem").then((function(){window.location.reload()}));case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}))})),setTimeout(o(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.storage.setItem("havereloaded","false");case 2:case"end":return t.stop()}}),t)}))),1e4)}(t),function(e){e.parseURL=function(e){var t={},n=(e=e.replace(/^[^/]+:\/\/[^/]+/gi,"")).split("#"),r=n[0].split(/\/?\?/);for(var i in t.path=r[0].split("/"),t.domain=t.path.shift(),t.query={},t.hashtag=n[1],r=!!r[1]&&r[1].split("&")){var o=r[i].split("=");t.query[o[0]]=o[1]}return t}}(t),Fl(t),function(e){window.chrome.storage&&(console.log("chrome extension storage"),e.on("init",500,(function(){e.storage=e.addeventhandler({at:"window.chrome.storage"},["clear","getItem","setItem","removeItem","getItemMem","setItemMem","removeItemMem","setItemDebounce"],"storage");var t=function(e,t){return new Promise((function(n){window.chrome.storage.local.set(x({},e,t),n)}))},n=function(e){return new Promise((function(t){window.chrome.storage.local.get([e],(function(n){console.log("get",e,n),t(n[e])}))}))},i=function(e){return new Promise((function(t){window.chrome.storage.local.remove([e],t)}))};e.storage.on("getItem",function(){var e=o(r().mark((function e(t){var i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(t.id);case 2:if((i=e.sent)!=="nystemCache".concat(t.id)){e.next=10;break}return e.next=6,caches.open("nystem");case 6:return o=e.sent,e.next=9,o.match(i).then((function(e){return e.json()}));case 9:i=e.sent;case 10:return e.abrupt("return",k(k({},t),{},{value:!i||"["!==i[0]&&"{"!==i[0]?i:JSON.parse(i)}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.storage.on("setItem",function(){var e=o(r().mark((function e(n){var i,o,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.id,o=n.value,i){e.next=3;break}return e.abrupt("return");case 3:return o=void 0===o||"string"===typeof o?o:JSON.stringify(o),e.prev=4,e.next=7,t(i,o);case 7:e.next=20;break;case 9:return e.prev=9,e.t0=e.catch(4),e.next=13,caches.open("nystem");case 13:if(a=e.sent,22===e.t0.code){e.next=16;break}return e.abrupt("return");case 16:return e.next=18,a.put("nystemCache".concat(i),new Response(o,{status:200,statusText:"Dbcache",headers:new Headers({"content-type":"application/json",date:new Date,etag:"dbdata"})}));case 18:return e.next=20,t(i,"nystemCache".concat(i));case 20:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(t){return e.apply(this,arguments)}}());var a={};e.storage.on("setItemDebounce",(function(t){var n=t.id,r=t.value,i=t.delay;clearTimeout(a[n]),a[n]=setTimeout((function(){delete a[n],e.storage.setItem({id:n,value:r})}),i)})),e.storage.on("removeItem",function(){var e=o(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,e.next=3,i(n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.storage.on("clear",o(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){window.chrome.storage.local.clear(e)}));case 2:case"end":return e.stop()}}),e)}))));var l={};e.storage.on("getItemMem",(function(e){return Object.assign(e,{value:l[e.id]})})),e.storage.on("setItemMem",(function(e){var t=e.id,n=e.value;l[t]=n})),e.storage.on("removeItemMem",(function(e){var t=e.id;delete l[t]}))})))}(t),Dl(t)}(Bl),Bl.on("init",(function(){Bl.inited=!0}));var $l=function(){return Bl};Bl.event("init").then((function(){return Bl.event("start")}))}()}();
//# sourceMappingURL=main.ff2ef28b.js.map