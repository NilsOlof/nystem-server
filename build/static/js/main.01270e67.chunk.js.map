{"version":3,"sources":["C:/Users/Nisse/Dropbox/nodejs/nystem-server/core/date/my-moment/index.js","core/bootstrap/component/bootstrap/dropdown.js","core/bootstrap/component/bootstrap/inputWrapper.js","core/bootstrap/component/bootstrap/panel.js","core/bootstrap/component/bootstrap/panelIcon.js","core/bootstrap/component/bootstrap/panelOpen.js","core/bootstrap/component/bootstrap/panelOpenByPath.js","core/bootstrap/component/bootstrap/panelOpenByValue.js","core/bootstrap/component/bootstrap/panelToggle.js","core/bootstrap/component/bootstrap/view.js","core/bootstrap/component/panel.js","core/bootstrap/component/panelContext.js","core/bootstrap/component/viewPanel/view.js","core/components/component/boolean/button.js","core/components/component/boolean/exposedField.js","core/components/component/boolean/fields.js","core/components/component/boolean/validate.js","core/components/component/boolean/input.js","core/components/component/boolean/name.js","core/components/component/boolean/vibrate.js","core/components/component/boolean/view.js","core/components/component/conditional/empty.js","core/components/component/conditional/int.js","core/components/component/conditional/set.js","core/components/component/conditional/userRole.js","core/components/component/conditional/valid.js","core/components/component/conditional/view.js","core/components/component/conditional/viewAndOr.js","core/components/component/dragAndDrop/myDnd.js","core/components/component/dragAndDrop/context.js","core/components/component/dragAndDrop/fixedVal.js","core/components/component/dragAndDrop/list.js","core/components/component/dragAndDrop/handle.js","core/components/component/dragAndDrop/sortable.js","core/components/component/dragAndDrop/view.js","core/components/component/dragAndDrop/viewList.js","core/components/component/email/exposedField.js","core/components/component/email/validate.js","core/components/component/email/input.js","core/components/component/email/inputNoValidation.js","core/components/component/email/link.js","core/components/component/email/mailto.js","core/components/component/email/sortBy.js","core/components/component/email/verifiedInput.js","core/components/component/email/view.js","core/components/component/flatgroup/input.js","core/components/component/float/exposedField.js","core/components/component/float/validate.js","core/components/component/float/input.js","core/components/component/float/link.js","core/components/component/float/sortBy.js","core/components/component/float/view.js","core/components/component/group/view.js","core/components/component/int/exposedField.js","core/components/component/int/validate.js","core/components/component/int/input.js","core/components/component/int/link.js","core/components/component/int/sortBy.js","core/components/component/int/view.js","core/components/component/matrix/input.js","core/components/component/matrix/inputlist.js","core/components/component/multigroup/addRemove.js","core/components/component/multigroup/copyItem.js","core/components/component/multigroup/input.js","core/components/component/multigroup/panelOpenByValue.js","core/components/component/multigroup/view.js","core/components/component/multilinetext/count.js","core/components/component/multilinetext/exposedField.js","core/components/component/multilinetext/fields.js","core/components/component/multilinetext/validate.js","core/components/component/multilinetext/input.js","core/components/component/multilinetext/inputlist.js","core/components/component/multilinetext/itemLink.js","core/components/component/multilinetext/itemText.js","core/components/component/multilinetext/list.js","core/components/component/multilinetext/view.js","core/components/component/reference/exposedField.js","core/components/component/reference/exposedFieldViews.js","core/components/component/reference/first.js","core/components/component/reference/validate.js","core/components/component/reference/input.js","core/components/component/reference/queryValue.js","core/components/component/reference/select.js","module/nystemServer/component/reference/sortable.js","core/components/component/reference/sortBy.js","core/components/component/reference/view.js","core/components/component/select/button.js","core/components/component/select/exposedField.js","core/components/component/select/validate.js","core/components/component/select/input.js","core/components/component/select/queryValue.js","core/components/component/select/sortBy.js","core/components/component/select/view.js","core/components/component/select.js","core/components/component/slider/input.js","core/components/component/slider/link.js","core/components/component/slider/view.js","core/components/component/text/exposedField.js","core/components/component/text/validate.js","core/components/component/text/input.js","core/components/component/text/link.js","core/components/component/text/queryValue.js","core/components/component/text/sortBy.js","core/components/component/text/view.js","core/components/component/textarea/formatted.js","core/components/component/textarea/validate.js","core/components/component/textarea/input.js","core/components/component/textarea/link.js","core/components/component/textarea/sortBy.js","core/components/component/textarea/view.js","core/components/component/viewButton/autoSave.js","core/components/component/viewButton/back.js","core/components/component/viewButton/delete.js","core/components/component/viewButton/eventEmitter.js","core/components/component/viewButton/field2Event.js","core/components/component/viewButton/input.js","core/components/component/viewButton/reference.js","core/components/component/viewButton/setValue.js","core/components/component/viewButton/setValueOnLoad.js","core/components/component/viewButton/undoRedo.js","core/components/component/viewButton/view.js","core/components/component/viewInView/empty.js","core/components/component/viewInView/setValue.js","core/components/component/viewInView/view.js","core/components/component/viewLink/button.js","core/components/component/viewLink/dynamicFields.js","core/components/component/viewLink/dynamicLink.js","core/components/component/viewLink/external.js","core/components/component/viewLink/fields.js","core/components/component/viewLink/link.js","core/components/component/viewLink/view.js","core/components/component/viewList/dynamicInfinite.js","core/components/component/viewList/emptySearchresult.js","core/components/component/viewList/infinite.js","core/components/component/viewList/infiniteScrollPos.js","core/components/component/viewList/listStat.js","core/components/component/viewList/pager.js","core/components/component/viewList/search.js","core/components/component/viewList/view.js","core/components/component/viewText/break.js","core/components/component/viewText/token.js","core/components/component/viewText/tokenFallbackNew.js","core/components/component/viewText/view.js","core/connection/component/connection/cssclass.js","core/connection/component/connection/view.js","core/connection/component/offline.js","core/contentType/component/contentType/context.js","core/contentType/component/contentType/render.js","core/contentType/component/contentType/view.js","core/contentType/component/useValidator.js","module/nystemServer/component/button.js","core/core/component/errorManager.js","core/core/component/errorMsg.js","core/core/component/input.js","module/nystemServer/component/inputWrapper.js","core/core/component/label.js","core/core/component/loading.js","core/core/component/useEvent.js","core/core/component/useEventListner.js","core/core/component/viewSmallComponent/errorMsg.js","core/core/component/wrapper.js","core/database/component/database/addToCache.js","core/database/component/database/baseViewSearch.js","core/database/component/database/filter.js","core/database/component/database/get.js","core/database/component/database/missing.js","core/database/component/database/oneSearch.js","core/database/component/database/search.js","core/database/component/database/searchContext.js","core/database/component/database/searchContextProvider.js","core/database/component/database/showMoreButton.js","core/database/component/database/view.js","core/database/component/useSearch.js","core/date/component/date/exposedField.js","core/date/component/date/exposedYearMonth.js","core/date/component/date/validate.js","core/date/component/date/input.js","core/date/component/date/inputDate.js","core/date/component/date/inputTime.js","core/date/component/date/sortBy.js","core/date/component/date/view.js","module/nystemServer/component/image.js","core/file/component/viewImage/view.js","core/pwa/component/serviceWorker/selectBox.js","core/pwa/component/serviceWorker/view.js","core/pwa/component/viewButton/debugAndClear.js","core/pwa/component/viewText/pageMeta.js","core/router/component/inserter.js","core/router/component/link.js","core/router/component/router/backHandler.js","core/router/component/router/history.js","core/router/component/router/pageNotFound.js","core/router/component/router/redirect.js","core/router/component/router/scrollpos.js","core/router/component/router/state.js","core/router/component/router/toTopOnNav.js","core/router/component/router/useQueryStore.js","core/router/component/router/view.js","core/router/component/router/viewByHistory.js","core/session/component/password/validate.js","core/session/component/password/confirmInput.js","core/session/component/password/input.js","core/session/component/password/oldpassword.js","core/session/component/password/view.js","core/session/component/role/view.js","core/session/component/role.js","core/session/component/session/logout.js","core/session/component/session/noRole.js","core/session/component/session/role.js","core/session/component/session/user.js","core/session/component/session/view.js","core/session/component/viewButton/login.js","core/style/component/icon/view.js","icons.js","iconsViewPorts.js","core/style/component/icon.js","core/style/component/style/classNameByValue.js","core/style/component/style/eventOutside.js","core/style/component/style/onOverHandle.js","core/style/component/style/onOver.js","core/style/component/style/onOverRemove.js","core/style/component/style/view.js","module/chromextension/component/extension/backgroundIndex.js","module/chromextension/component/extension/icon.js","module/chromextension/component/extension/search.js","module/chromextension/component/extension/tab.js","module/chromextension/component/extension/view.js","module/electron/component/connection/electron.js","module/electron/component/electron/appButton.js","module/electron/component/electron/moveWindow.js","module/electron/component/electron/passOnToNode.js","module/electron/component/electron/urlCopyPaste.js","module/electron/component/electron/view.js","module/nystemServer/component/bootstrap/computedClass.js","module/nystemServer/component/database/filterResult.js","module/nystemServer/component/index.js","module/nystemServer/component/overlay/accessible.js","module/nystemServer/component/overlay/close.js","module/nystemServer/component/overlay/closeButton.js","module/nystemServer/component/overlay/context.js","module/nystemServer/component/overlay/index.js","module/nystemServer/component/overlay/menu.js","module/nystemServer/component/overlay/open.js","module/nystemServer/component/overlay/overlay.js","module/nystemServer/component/overlay/view.js","module/nystemServer/component/reference/dynamicForm.js","module/nystemServer/component/viewButton/mirrorSave.js","module/nystemServer/component/viewInView/setBaseViewValue.js","module/nystemServer/component/viewText/titlePopup.js","module/service/component/textarea/log.js","core/components/client/index.js","core/connection/client/index.js","core/connection/client/httpsfallback.js","core/contentType/client/index.js","core/database/client/memdb/search.js","core/database/client/memdb/index.js","core/database/client/memdb/delete.js","core/database/client/memdb/find.js","core/database/client/memdb/get.js","core/database/client/memdb/init.js","core/database/client/memdb/save.js","core/database/client/cache.js","core/database/client/index.js","core/database/client/connection.js","core/database/client/updates.js","core/database/client/debug.js","core/database/client/storage.js","core/database/client/saveQueue.js","core/session/client/session.js","module/electron/client/index.js","module/electron/client/connection.js","core/core/client/eventhandler.js","core/core/client/nystem.js","indexScripts.js","core/core/client/index.js","core/file/client/index.js","core/pwa/client/index.js","core/router/client/index.js","core/session/client/index.js"],"names":["typeByFormat","Intl","DateTimeFormat","year","month","day","hour","minute","YYYY","YY","MM","DD","M","D","HH","mm","format","at","val","H","m","dddd","weekday","finderRegExp","RegExp","Object","keys","join","myMoment","Date","now","startOf","isUTC","UTC","getFullYear","getMonth","getDate","valueOf","getTime","replace","replacer","module","exports","BootstrapDropdown","React","Component","constructor","props","super","this","state","expanded","toggleExpand","setState","render","self","headerProps","children","headerChildren","Array","map","typeClass","type","menuItem","item","className","onClick","role","slice","BootstrapInputWrapper","model","path","items","BootstrapPanel","header","body","BootstrapPanelIcon","iconOpen","iconClosed","useContext","PanelContext","icon","classNames","BootstrapPanelOpen","classNameOpen","classNameClosed","BootstrapPanelOpenByPath","view","pathname","useLocation","useEffect","setExpanded","match","str","p1","test","params","getValue","invert","BootstrapPanelOpenByValue","value","keyCount","length","key","condition","BootstrapPanelToggle","tabIndex","iconClassName","BootstrapView","renderAs","types","default","wrapper","primary","defaultWithoutPadding","compact","Panel","setSexpanded","useState","panelElement","useRef","storedState","app","stateStore","get","ref","Provider","set","visibilityHidden","createContext","ViewPanelView","onClickExpand","classNameHead","panelProps","BooleanButton","setValue","text","falseText","split","btnType","falseBtnType","size","includes","alt","t","BooleanExposedField","RouterUseQueryStore","saveId","UseSearch","id","hideTrue","trueText","hideFalse","option","push","_id","clearButton","selectAllOnFocus","limit","BooleanFields","itemTrue","itemFalse","mandatory","text_mandatory","BooleanInput","error","setValidated","UseValidator","validate","uuid","classNameInput","placeholder","checked","onChange","disabled","BooleanName","BooleanVibrate","UNSAFE_componentWillReceiveProps","nextProps","vibrate","componentDidMount","navigator","atState","pattern","JSON","parse","BooleanView","isSetRecursive","values","filter","ConditionalEmpty","checkId","empty","byType","v1","v2","ConditionalInt","useCallback","i","field","testVal","parseFloat","testCondition","isset","ConditionalSet","setId","condId","condVal","undefined","reverse","substring","on","off","ConditionalUserRole","visible","session","user","contains","array1","array2","indexOf","createItem","ConditionalValid","valid","setValid","timer","clearTimeout","setTimeout","async","errors","event","silent","ConditionalView","notExact","ConditionalViewAndOr","tempValue","changeTimer","setValueView","inThis","refs","testOneCondition","sum","sumValidator","parseInt","componentWillUnmount","MyDragAndDropContext","DragDropContext","onDragEnd","addeventhandler","parents","styleDraggableItem","boxSizing","opacity","pointerEvents","position","transform","transition","zIndex","offsetStyle","Droppable","droppableId","isDropDisabled","style","setStyle","innerRef","styleRef","current","context","provided","droppableProps","useMemo","paddingBottom","window","getComputedStyle","stop","result","x","y","pos","top","bottom","left","right","destination","move","getBoundingClientRect","over","height","isDraggingOver","Draggable","draggableId","index","minHeight","breakpoint","currentStyle","offsetStyleSet","start","setStyles","element","styles","entries","forEach","prop","display","draggableProps","dragHandleProps","onMouseDown","e","baseProps","stringify","movingState","clientX","clientY","clonedElement","cloneNode","mouseMove","document","appendChild","width","then","query","mouseUp","removeEventListener","removeChild","combine","mode","reason","source","data","addEventListener","onDragStart","preventDefault","draggable","DragAndDropContext","modifiers","checkModifiers","shiftKey","metaKey","ctrlKey","altKey","DragAndDropFixedVal","onDragEndAddValue","valueType","DragAndDropListContext","DragAndDropList","ids","getId","valuePath","lastIndexOf","updated","splice","snapshot","hoverClassName","DragAndDropHandle","DragAndDropSortable","contentType","DragAndDropView","DragAndDropViewList","search","DatabaseSearchContext","emptyFields","settings","noForm","baseView","rowClassName","EmailExposedField","EmailInput","focus","componentClassName","maxLength","toLowerCase","onBlur","EmailInputNoValidation","EmailLink","EmailMailto","href","EmailSortBy","EmailVerifiedInput","add","errormsg","validated","handleChange","input","EmailView","FlatgroupInput","add2id","groupVal","startWith","getGroupVal","createElement","components","capFirst","FloatExposedField","from","setFrom","saveIdFrom","to","setTo","saveIdTo","base","nolabel","modelFrom","modelTo","FloatInput","classNameLabel","FloatLink","FloatSortBy","outputFloat","tofixed","toFixed","lang","FloatView","GroupView","getValuePath","IntExposedField","searchProp","onUpdate","update","classNameBase","updateCounter","modelId","delayTimer","isMounted","offUpdate","IntInput","intVal","IntLink","IntSortBy","IntView","MatrixInput","rowLabel","mapField","label","atRow","newVal","len","rowIndex","MatrixInputlist","concat","oneVal","handleKeyChange","MultigroupAddRemove","action","parts","valPath","console","log","parentVal","btnSize","title","buttonText","MultigroupCopyItem","active","setActive","readOnly","direction","clipboard","readText","clipText","clipVal","select","execCommand","blur","err","replaceInObject","fn","MultigroupInput","fallback","startsWith","idField","MultigroupPanelOpenByValue","MultigroupView","replaceInModel","viewFormat","MultilinetextCount","MultilinetextExposedField","MultilinetextFields","rel","target","MultilinetextInput","itemValue","MultilinetextInputlist","MultilinetextItemLink","MultilinetextItemText","translate","MultilinetextList","MultilinetextView","nul","ReferenceExposedField","setOption","database","autoUpdate","parseFilter","count","selectModel","clone","textField","ReferenceExposedFieldViews","exact","exposed","ReferenceFirst","renderFormat","itemClassName","onReference","InputSpes","onFocus","inputEl","inFocus","setInFocus","InlineAdd","isAdding","setIsAdding","inlineAdd","onSave","close","ReferenceInput","searchVal","setSearchVal","events","remove","addValue","atPath","addable","removeValue","clicked","renderFormatSelect","exclude","ReferenceQueryValue","ReferenceSelect","loadOption","connected","namefield","connection","ReferenceSortable","localValue","func","bind","save","componentWillReceiveProps","onDelete","addField","hashtag","addTransform","fieldBase","out","utils","insertValues","onMissing","fieldId","onAdd","ReferenceSortBy","ReferenceView","SelectButton","trueState","trueOnState","falseState","falseOnState","SelectExposedField","renderTypes","dropdown","dropdownText","button","classNameItem","checkbox","inline","SelectInput","optionObj","normalizeOption","shift","SelectQueryValue","SelectSortBy","SelectView","find","Select","SliderInput","absolute","min","max","precision","textClass","SliderLink","SliderView","TextExposedField","setClassName","noClearButton","noWrapper","ClearButton","aria-hidden","forwardRef","TextLink","toFormat","addToPath","toType","reference","int","float","array","TextQueryValue","history","useHistory","enabled","setEnabled","location","qVal","reg","getQueryValue","rest","setRouterValue","TextSortBy","sortby","ev","setEv","sortbyId","reverse1","rev","setSearch","TextView","TextareaFormatted","dangerouslySetInnerHTML","__html","cutPoint","contents","TextareaLink","TextareaSortBy","TextareaView","ViewButtonAutoSave","saveIds","saveDelay","saveToDb","hasId","reduce","res","fields","withRouter","fwd","go","deletedText","setText","stopPropagation","delete","redirectURL","EventButton","sendEvent","buttonStates","confirm","saving","success","setButton","savedTimer","setSavedTimer","activeKeySaveView","setActiveKeySaveView","setError","handleSubmit","redirectToPath","router","click","handleKeySave","inactivateKeySaveView","activateKeySaveView","saveOnKey","ViewButtonEventEmitter","emitter","emit","baseViewBaseView","baseViewBaseViewBaseView","eventType","checkActive","activeClass","inactiveClass","subEvent","prev","ViewButtonField2Event","componentName","component","baseButtonStates","deleted","saved","noRedirect","clearOnSave","sendOnly","ViewButtonReference","callView","ViewButtonSetValue","modelValue","false","true","ViewButtonSetValueOnLoad","hasOwnProperty","arrValue","ViewButtonUndoRedo","isHistory","IconButton","atPos","ViewButtonView","ViewInViewEmpty","viewId","ViewInViewSetValue","addid","ViewInViewView","ViewLinkButton","renderType","ViewLinkDynamicFields","ViewLinkDynamicLink","insertVal","ViewLinkExternal","link","ViewLinkFields","toView","addId","ViewLinkLink","blank","ViewLinkView","Link","SlotContent","slot","slotSearch","setSlotSearch","mounted","db","searchDelay","searchTotal","InfiniteSlot","setTop","setViewListHeight","ro","slotHeights","ResizeObserver","newH","offsetHeight","observe","unobserve","ViewListDynamicInfinite","loading","slotCount","setSlotCount","setPos","heightTotal","setHeightTotal","heights","slotsTotal","slotLimit","total","innerHeight","offset","updateTimer","updateSlots","scrollY","scrollTop","topPos","newPos","toPos","scrollEvent","newTop","includeHidden","overflowY","overflowX","overflow","overflowRegex","parent","parentElement","getScrollParent","getViewListHeight","heightTimer","setHeight","totHeight","setViewListHeightTotal","slots","ViewListEmptySearchresult","searchText","$and","$all","inverse","getStyle","extend","ViewListInfiniteSlot","hidden","setSize","visibility","ViewListInfinite","heightRef","clearHeightOnUpdate","slotUpdateDelay","innerWidth","resizeEvent","fill","getPos","old","und","newHeight","ViewListInfiniteScrollPos","classNameInfo","UseEventListner","ViewListListStat","show","ViewListPager","last","relUrl","next","hasPrev","hasNext","ViewListSearch","ViewListRender","itemRenderAs","ViewListView","headerFields","ViewTextBreak","ViewTextToken","ViewTextTokenFallbackNew","name","ViewTextView","ConnectionCssclass","setConnected","connectionClass","onlineClass","offlineClass","ConnectionView","offline","setConnectedState","Offline","ContentTypeContext","ViewContextProvider","ContentTypeRender","category","focused","setValueAtPath","debug","ContentTypeView","addForm","itemFrom","itemTo","viewModel","propvalue","populatedViews","views","toUpperCase","setLoading","noAutoUpdate","firstData","savedData","doGet","diff","getDiff","applyDiff","changeData","oldValue","setData","newValue","saveData","reload","useValue","onSubmit","isValidated","validator","Promise","resolve","clearErrorValidation","secondary","danger","warning","info","primaryDisabled","secondaryDisabled","dangerDisabled","warningDisabled","infoDisabled","errorDisabled","defaultDisabled","sizes","xs","sm","lg","xl","Button","ErrorManager","disconnectEvent","errorEvent","connectEvent","url","line","errorTimer","errorReload","ErrorMsg","password","parentRef","localRef","setVal","valRef","flat","Infinity","elementProps","accessibilityLabel","accessible","accessibilityTraits","InputWrapper","pClassName","inputWidth","floatlabel","htmlFor","errorMsg","Label","Loading","inDelay","UseEvent","setResult","handler","ViewSmallComponentErrorMsg","errorSetter","tags","tag","DatabaseAddToCache","options","addMedia","doSearchDebounce","addReferencesToCache","DatabaseBaseViewSearch","baseFilter","setBaseFilter","updateSearch","onSearch","DatabaseFilter","firstVal","DatabaseGet","first","DatabaseMissing","DatabaseOneSearch","inSearch","searchString","setSearchState","DatabaseSearch","subView","reversesortby","reversesortby2","reversesortby3","getFilter","searchFilter","ofilter","oneFilter","and","oneFilterIn","__exact","removeifempty","delay","before","DatabaseSearchContextProvider","setSearchDebounce","doSearch","newSearch","isDirty","searchResult","getSearch","DatabaseShowMoreButton","setCount","amount","DatabaseView","DateExposedField","modelYear","months","toLocaleDateString","modelMonth","modelDay","daysInMonth","getArray","utc","addUTC","getByType","DateExposedYearMonth","years","fromMonth","toMonth","fromDay","toDay","setYear","setMonth","DateInput","dateType","validateAndSet","DateInputDate","inputVal","setInputVal","moment","setFromPicker","formVal","getMoment","pikaday","onSelect","firstDay","DateInputTime","inputClassName","datePart","toString","part","parseVal","DateSortBy","dateTimeFormats","dateLong","timeLong","dateTimeLong","dateTimeNoYear","dateTimeNoYearDay","dateNoYearDay","timeDay","DateView","dateFormat","relative","hourInMs","formatDate","setInterval","clearInterval","domain","secure","Image","src","ViewImageView","fullPath","filename","isInstalled","standalone","matchMedia","matches","ServiceWorkerSelectBox","install","setInstall","installable","runInstall","ServiceWorkerView","ViewButtonDebugAndClear","appVersion","findByType","description","obj","querySelector","head","getElementsByTagName","setAttribute","ViewTextPageMeta","fieldValue","fieldFormat","origin","getAttribute","Inserter","propMatch","toClassString","Boolean","RouterBackHandler","routerHistory","atNew","found","is404","setIs404","nodeName","RouterRedirect","positions","documentElement","RouterScrollpos","RouterState","getPath","storage","getItem","redirect","setItem","contextTypes","PropTypes","object","RouterView","RouterViewByHistory","itemsByPosition","paths","historyPos","sort","a","b","PasswordConfirmInput","value1","setValue1","value2","setValue2","svalue","autoComplete","PasswordInput","PasswordOldpassword","PasswordView","RoleView","sessionChange","Role","isVisible","logout","hasNoRole","SessionNoRole","setVisible","check","SessionRole","userrole","updateVisibility","reqRole","userRole","SessionUser","userid","toformat","SessionView","saveButton","setSaveButton","login","IconView","deg","d","points","fillRule","stroke","strokeWidth","strokeLinecap","strokeLinejoin","Icon","xmlns","viewBox","iconsViewPorts","rotate","icons","StyleClassNameByValue","mapper","classNameByValue","testValue","getClasses","StyleEventOutside","classNameInner","innerClicked","HideOnNotOverContext","StyleOnOverHandle","setOver","onMouseOver","onMouseOut","StyleOnOver","classNameOut","classNameOver","delayedOver","setDelayedOver","useDelayed","StyleOnOverRemove","StyleView","ExtensionBackgroundIndex","updateTabs","tab","siteScript","tabs","addToEventLog","updateTabSettings","recording","eventLog","tabId","extensionEvent","doEvent","chrome","tabLoadCallback","status","redirected","tabLoading","callback","doingEvent","sendMessage","connect","saveTab","pathErrorClick","runtime","onMessage","addListener","request","sender","sendResponse","tabOptions","response","newPath","listenTo","forceUpdate","tabField","changed","newUrl","webNavigation","onCompleted","frameId","onBeforeNavigate","onCreated","onUpdated","changeInfo","onRemoved","contextMenus","create","onclick","contexts","extensionIcon","browserAction","color","canvas","setIcon","setBadgeBackgroundColor","setBadgeText","canvasContext","getContext","imageData","getImageData","ExtensionSearch","missing","setMissing","extract","currentWindow","exec","ExtensionTab","isMatch","setIsMatch","ExtensionView","inExtension","protocol","ConnectionElectron","atId","message","filePaths","ElectronAppButton","buttonActive","ElectronMoveWindow","screenX","screenY","ElectronPassOnToNode","ElectronUrlCopyPaste","paste","URL","doPaste","doCopy","ElectronView","args","electron","BootstrapComputedClass","s","row","DatabaseFilterResult","filterSearch","definition","viewFields","Index","OverlayAccessible","overlayEvent","open","accessibleId","_handleScreenReaderToggled","isEnabled","screenReaderEnabled","getChildContext","overlayId","string","childContextTypes","OverlayClose","handleEvent","do","OverlayCloseButton","toPath","OverlayContextObject","OverlayContext","Consumer","OverlayContextProvider","OverlayIndex","setOpenState","child","OverlayMenu","OverlayOpen","OverlayOverlay","findPosition","offsetLeft","offsetTop","offsetParent","getScroll","pageYOffset","pageXOffset","r","scrollLeft","modal","shouldComponentUpdate","nextState","OverlayView","ReferenceDynamicForm","require","dynamicForm","generate","transformContentType","ViewButtonMirrorSave","oldVal","saveOn","saveVals","ViewInViewSetBaseViewValue","toField","fromField","Portal","setElement","createPortal","MouseOver","isOver","setIsOver","ViewTextTitlePopup","popup","overPos","TextareaLog","setLog","hasVal","parseLog","colors","fullLog","updateLog","clearLog","wrapperClass","0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","ReactDOM","broadcast","callbacks","openconnection","sendSocket","webSocket","send","noCallback","callbackClient","WebSocket","onerror","onclose","onopen","onmessage","receiveSocket","wait","onConnect","waitOnConnect","onEmit","fetch","method","json","httpsfallbackM","viewCreatorFields","deepCopy","dynamicFields","fullId","substr","flattenFields","flatten","subFields","populateViews","mapFn","partId","pop","byField","curr","sortFuncInt","up","down","sortByType","date","sortByFunc","sortBys","sortFuncs","collection","fieldByType","field2IdType","extends","_crdate","dbArray","addFields2All","searchFor","oneSearchField","oneSearchValue","oneField","searchField","searchValue","searchInvert","tmp","getFilterArray","oneSearchInvert","createRegExp","expression","setSearchDefaults","sortBy","thisItem","matchVal","addOne","filterResult","assign","oldData","dbIndex","deleteM","testIfSet","findM","getM","initM","saveM","searchM","machinename","getKey","inCache","updates","connectionM","updateGet","timer03","timer20","timeoutTimes","updateFrequency","updateEvent","onData","callbackId","delItem","_chdate","updatesM","debugM","memdbM","noClientCache","insertItem","chdate","searchCache","allInCache","cacheM","setItemDebounce","storageM","storageId","saveQueue","saveQueueM","all","contentTypes","init","clearCache","userContentType","sessionKey","autoLoginUser","sessionid","loginEvent","removeItem","userStore","back","callbackServer","getStackTrace","Error","captureStackTrace","stack","column","host","some","scriptEl","onload","addScript","sourceMap","SourceMapConsumer","initialize","consumer","originalPositionFor","addEventHandler","mapevents","callbacksprio","callbacksStack","addEventHandlerInitiator","Math","random","addEventHandlers","prio","addEvent","removeEvent","fired","reject","catch","waitFor","call","defectiveCallback","___settings___","buildsettings","fetchDomainFromUrl","S4","comp","renderer","unmountComponentAtNode","parsedfilter","states","domPathId","unshift","tagName","keyCode","platform","core","localStorage","nystemCache","caches","req","code","put","Response","statusText","headers","Headers","etag","memstore","file","serviceWorker","register","registration","deferredPrompt","prompt","userChoice","choiceResult","outcome","regExpVersion","clear","clientAppVersion","pwa","parseURL","param","sessionM","addContents","token","inited"],"mappings":"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GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,WCnTD7+C,GAAQitC,EAAQ,GAChB6R,GAAW7R,EAAQ,IAEnB92B,GAAOnF,SAASyE,cAAc,OACpCU,GAAK9U,UAAY,aACjB8U,GAAK1P,GAAK,aACVuK,SAASjP,KAAKkP,YAAYkF,IAEVrR,ICRAA,OACd,IAAKA,EAAI+O,SAASwoB,OAAQ,OAC1Bv3B,EAAI0Z,WAAa1Z,EAAI8H,gBAAgB,GAAI,CAAC,OAAQ,aAAc,cAChE,MAAM,WAAE4R,GAAe1Z,EAEvB0Z,EAAWjU,GAAG,YAAcqH,GAC1B4M,EAAWmI,KAAK,IAAK/U,EAAMmtC,WAAW,KAGxC,MAAMC,EAAY,GA8BZC,EAAiB,KACrBhmC,QAAQC,IAAK,kBAAiBgb,GAC9B,IAAI7oB,GAAQ,EACZ,MAAM6zC,GAhCY1Z,EAgCayD,GAAYkW,EAAUC,KAAKnW,GAhC1Br3B,GAChC,IAAI8gB,QAASC,IACN/gB,EAAKytC,WAGH1sB,KAFL/gB,EAAK0tC,eAAiBx6C,EAAI+C,OAC1Bm3C,EAAUptC,EAAK0tC,gBAAkB3sB,GAGnC,IAAIsW,EAAUrgC,KAAK6H,UAAUmB,GAE7B,KAAOq3B,EAAQvlC,OAAS,MACtB8hC,EAASyD,EAAQ3+B,UAAU,EAAG,OAC9B2+B,EAAUA,EAAQ3+B,UAAU,MAE9Bk7B,EAASyD,MAbOzD,MAkClB,MAAM2Z,EAAY,IAAII,UAAUrrB,GAEhCirB,EAAUK,QAAW/3C,IACnB+W,EAAW9S,MAAM,QAAS,CAAEjE,WAE9B03C,EAAUM,QAAWh4C,IACnB+W,EAAW9S,MAAM,aAAc,CAAEjE,QAAO6W,WAAW,IAC9CjT,IACL+wB,cAAc/wB,GACdmT,EAAWhU,IAAI,OAAQ00C,KAGzBC,EAAUO,OAAS,KACjBlhC,EAAWjU,GAAG,OAAQ20C,GACtB1gC,EAAW9S,MAAM,aAAc,CAAE4S,WAAW,IAC5CjT,EAAQ8wB,YAAY,IAAMgjB,EAAUC,KAAK,MAAO,OAGlDD,EAAUQ,UAAa1W,GApCFA,KACrB,MAAMr3B,EAAOhJ,KAAKC,MAAMogC,GAExB,GAAI+V,EAAUptC,EAAK0tC,gBAAiB,CAClC,IACEN,EAAUptC,EAAK0tC,gBAAgB1tC,GAC/B,MAAOrB,GACP0I,QAAQC,IAAI,MAAO8lC,EAAUptC,EAAK0tC,gBAAiB/uC,UAE9CyuC,EAAUptC,EAAK0tC,qBACjB9gC,EAAW9S,MAAMkG,EAAK1Q,KAAM0Q,IA0BAguC,CAAc3W,EAAQr3B,OAG3D,IAAIsmB,EAAQ,EACZ,MAAMhE,EAAO,KAAIpvB,EAAI+O,SAASyoB,OAAS,IAAM,QAAQx3B,EAAI+O,SAASwoB,SAsClE,GArCA7d,EAAWjU,GAAG,aAAc,EAAG+T,YAAW/D,eACpCA,KAEc,IAAd+D,IAAoB4Z,EAAQ,IACd,IAAd5Z,IAEJ/S,WAAW0zC,EAAgB,IAAO/mB,GAC9BA,EAAQ,KAAIA,GAASpzB,EAAI+O,SAASid,MAAQ,EAAI,OAEpDmuB,IAEAzgC,EAAWF,WAAY,EACvBE,EAAWjU,GAAG,aAAc,IAAM6G,IACD,qBAApBA,EAAMkN,YACflN,EAAMkN,UAAYE,EAAWF,WAE/BE,EAAWF,UAAYlN,EAAMkN,YAG/BE,EAAWjU,GAAG,aAAc,EAAGs1C,OAAMvhC,gBACnC,GAAKuhC,IAAQvhC,EAEb,OAAO,IAAIoU,QAASC,IAClB,MAAMmtB,EAAY,EAAGxhC,gBACdA,IACLE,EAAWhU,IAAI,aAAcs1C,GAC7BntB,EAAQ,CAAErU,WAAW,MAEvBE,EAAWjU,GAAG,aAAcu1C,OAI5Bh7C,EAAI+O,SAASksC,eACfj7C,EAAIyF,GAAG,SAAU,IAAM,IACrBiU,EAAW9S,MAAM,aAAc,CAAEm0C,MAAM,KAGvC/6C,EAAI+O,SAASid,MAAO,CACtB,IAAIxwB,EAAQ,eACZke,EAAWjU,GAAG,aAAc,EAAG+T,YAAW/D,eACpCA,IAEU,iBAAVja,GAA4Bge,GAAWlQ,OAAO0U,SAASuP,SAC7C,cAAV/xB,GAA0Bge,IAAWhe,EAAQ,gBACnC,iBAAVA,GAA4Bge,IAAWhe,EAAQ,gBCjHzCwE,KACd,MAAMk7C,EAASx0C,UACb,MAAM66B,QAAiB4Z,MAAM,iBAAkB,CAC7CC,OAAQ,OACRn+C,KAAM6G,KAAK6H,UAAU1O,KAGjB6P,QAAay0B,EAAS8Z,OAG5B,OADAr7C,EAAI0Z,WAAW9S,MAAMkG,EAAK1Q,KAAM0Q,GACzBA,GAGT,IAAItR,EAAQ,eACZwE,EAAI0Z,WAAWjU,GAAG,aAAc,EAAG+T,YAAW/D,eACvC+D,IAAa/D,IAEJ,aAAVja,GAAsBwE,EAAI0Z,WAAWhU,IAAI,aAAcw1C,GAC3D1/C,EAAQ,eAGVwE,EAAI0Z,WAAWjU,GAAG,QAASiB,UACzB,GAAc,cAAVlL,GAAmC,aAAVA,EAAsB,OACnDA,EAAQ,WAER,MAAM+lC,QAAiB4Z,MAAM,iBAAkB,CAC7CC,OAAQ,OACRn+C,KAAM,OAGwB,aAArBskC,EAASzgC,SAEpBd,EAAI0Z,WAAWjU,GAAG,OAAQy1C,GAC1Bl7C,EAAI0Z,WAAW9S,MAAM,aAAc,CAAE4S,WAAW,EAAM/D,UAAU,QDoFlE6lC,CAAet7C,IErHjB,MAAMu7C,GAAoBpT,EAAQ,IAc5BqT,GAAY5iB,GAAQA,GAAO90B,KAAKC,MAAMD,KAAK6H,UAAUitB,IAUrD9iB,GAAiB,EACrBlZ,QACAmZ,aACAR,KACA1Y,OAAO,GACP4+C,gBAAgB,OAEhB,IAAK7+C,EAAO,MAAO,GAEnBA,EAAQ4+C,GAAS5+C,GACjB,MAAM,KAAER,EAAF,GAAQuF,GAAO/E,EACf8+C,EAnBM,GAAG7+C,OAAO,GAAI8E,KAAK,MAC3B9E,GAAQ8E,EAAY,GAAE9E,KAAQ8E,IAC9BA,GACG,GAgBQqM,CAAM,CAAEnR,OAAM8E,OACvBrI,EAASsD,EAAMtD,QAAUyc,EAE/B,IAAIwM,EAAiB,GAAEnmB,IAhBP+B,EAgBuB7E,EAhBf6E,EAAIw9C,OAAO,EAAG,GAAGlvB,cAAgBtuB,EAAIw9C,OAAO,KAApDx9C,MAqBhB,YAJyCmH,IAArCi2C,GAAkBh5B,KACpBA,EAAmBnmB,EAAF,SAEnBQ,EAAQ2Y,EAAG,CAAE3Y,QAAOtD,SAAQuD,OAAM8E,KAAI+5C,cAGtCD,EAAgB,IACXA,KACCF,GAAkBh5B,IAAkB,KAG5BpX,QAAStM,IAChBjC,EAAMiC,KAEXjC,EAAMiC,GAAOjC,EAAMiC,aAAgB5C,MAAQW,EAAMiC,GAAO,CAACjC,EAAMiC,IAE/DjC,EAAMiC,GAAOjC,EAAMiC,GAChB3C,IAAKI,GACJwZ,GAAe,CACblZ,MAAON,EACPyZ,aACAR,KACA1Y,KAAM6+C,GAAU7+C,KAGnBsH,OAAQvH,KAAYA,MAGlBA,GAxBY,MA2Bfg/C,GAAgB,EAAGt/C,OAAMi/C,oBAAmB1+C,OAAO,OACtDP,GAAQ,IAAIsjB,OAAO,CAACyC,EAAMxd,KACzB,MAAM,KAAEzI,EAAF,GAAQuF,GAAOkD,EACf+yB,EAAW/6B,EAAQ,GAAEA,KAAQ8E,IAAOA,EAE1C,IAAKvF,EAAM,MAAO,CAAE,CAACuF,GAAKkD,KAAUwd,GAEpC,MAAMw5B,EAAUN,EAAqBn/C,EAAF,cACnC,IAAKy/C,EAAS,MAAO,CAAE,CAACjkB,GAAW/yB,KAAUwd,GAE7C,MAAMy5B,EAAYD,EAAQj8B,OACxB,CAACyC,EAAMxjB,IACLgG,EAAMhG,GACF+8C,GAAc,CACZt/C,KAAMuI,EAAMhG,GACZ08C,oBACA1+C,KAAM+6B,IAERvV,EACN,IAGF,MAAO,CAAE,CAACuV,GAAW/yB,KAAUi3C,KAAcz5B,IAC5C,IAEC05B,GAAgB,EAAG/7C,UACvB,MAAM,YAAEyO,GAAgBzO,EAxFR,IAAC66B,EAAQmhB,EA0HzB,OA1HiBnhB,EA0FgB2gB,GAAS/sC,GA1FjButC,EA0FgCvtC,IACvD,MAAM,MAAE+d,EAAF,KAASlwB,GAASmS,EACxB,IAAK+d,EAAO,OAAO/d,EAEnB,MAAMqR,EAAS87B,GAAc,CAAEt/C,OAAMi/C,uBAErCxhD,OAAOmR,QAAQ4U,GAAQ3U,QAAQ,EAAEtM,EAAKH,MAChCG,EAAIqH,QAAQ,OACd4Z,EAAOjhB,EAAI2G,UAAU,EAAG3G,EAAIqH,QAAQ,KAAO,GAAKrH,GAAOH,KAG3D,MAAM6tB,EAAiBC,EAAMtwB,IAAK2B,GAChCiY,GAAe,CACblZ,MAAO,IAAKiB,EAAMzB,KAAM,cAAeuF,QAAI2D,GAC3CiQ,GAAI,EAAG3Y,MAAOiB,EAAM69C,SAAQpiD,aAC1B,IAAKoiD,EAAQ,MAAO,CAAEpiD,YAAWuE,GAEjC,GAAIiiB,EAAO47B,GAAS,MAAO,CAAEpiD,YAAWwmB,EAAO47B,MAAY79C,GAE3D,MAAMo+C,EAASP,EAAO16C,MAAM,KAAKk7C,MACjC,OAAIp8B,EAAOm8B,GAAgB,CAAE3iD,YAAWwmB,EAAOm8B,MAAYp+C,GAEpD,CAAEvE,YAAWuE,IAEtBkY,WAAYlY,EAAKvE,QAAU,UAxHnB,IAAM6iD,EA6HlB,OADA1tC,EAAY+d,OA5HM2vB,EA4H0B,OAAhB5vB,EA3H1B3M,OAAO,CAACyC,EAAM+5B,KAChB/5B,EAAK+5B,EAAKD,IAAYC,EACf/5B,GACN,KAyHM5T,GAtHT1U,OAAOC,KAAK6gC,GAAQjb,OAAO,CAACnW,EAAQ5K,KAClC4K,EAAO5K,GAAOm9C,EAAMnhB,EAAOh8B,IACpB4K,GACN,KCZL,MAAM4yC,GAAc,CAACx9C,EAAK0G,KACxB,MAAM+2C,EAAK/2C,EAAU,GAAK,EACpBg3C,EAAOh3C,GAAW,EAAI,EAE5B,MAAO,CAAC61B,EAAGC,KACT,MAAM3xB,EAAI0xB,EAAEv8B,GACN8K,EAAI0xB,EAAEx8B,GAEZ,YAAUyG,IAANoE,OAA8BpE,IAANqE,EAAkB,EAAI4yC,OACxCj3C,IAANqE,GACGD,EAAIC,EADiB2yC,EACR5yC,EAAIC,EAAI4yC,EAAO,IAkCjCC,GAAa,CACjBh/B,IAAK6+B,GACLI,KAAMJ,GACN9+B,UAjBoB,CAAC1e,EAAK0G,KAC1B,MAAM+2C,EAAK/2C,EAAU,GAAK,EACpBg3C,EAAOh3C,GAAW,EAAI,EAE5B,MAAO,CAAC61B,EAAGC,KACT,MAAM3xB,EAAI0xB,EAAEv8B,GAAOu8B,EAAEv8B,GAAKD,OAAS,EAC7B+K,EAAI0xB,EAAEx8B,GAAOw8B,EAAEx8B,GAAKD,OAAS,EAEnC,YAAU0G,IAANoE,OAA8BpE,IAANqE,EAAkB,EAAI4yC,OACxCj3C,IAANqE,GACGD,EAAIC,EADiB2yC,EACR5yC,EAAIC,EAAI4yC,EAAO,IAQrCl9C,QAlCmB,CAACR,EAAK0G,KACzB,MAAM+2C,EAAK/2C,EAAU,GAAK,EACpBg3C,EAAOh3C,GAAW,EAAI,EAE5B,MAAO,CAAC61B,EAAGC,KACT,IAAI3xB,EAAI0xB,EAAEv8B,GACN8K,EAAI0xB,EAAEx8B,GACV,YAAUyG,IAANoE,OAA8BpE,IAANqE,EAAkB,EAAI2yC,OACxCh3C,IAANqE,EAAwB4yC,GAC5B7yC,EAAIA,EAAE0sB,WAAW5mB,cACjB7F,EAAIA,EAAEysB,WAAW5mB,cAEV9F,EAAIC,EAAI2yC,EAAK5yC,EAAIC,EAAI4yC,EAAO,MAyBjCG,GAAa,CAACh/B,EAAOi/B,KACzB,MAAMC,EAAYD,EAAQzgD,IAAI,EAAGE,OAAMyC,MAAK0G,aAC1Ci3C,GAAWpgD,GACPogD,GAAWpgD,GAAMyC,EAAK0G,GACtBi3C,GAAWn9C,QAAQR,EAAK0G,IAG9B,OAAOmY,EAAMyd,KAAK,CAACC,EAAGC,KACpB,IAAIxb,EACJ,IAAK,IAAIjb,EAAI,EAAGA,EAAIg4C,EAAUh+C,OAAQgG,IAEpC,GADAib,EAAM+8B,EAAUh4C,GAAGw2B,EAAGC,GACV,IAARxb,EAAW,OAAOA,EAExB,OAAOA,KAyCK7f,WACdA,EAAIgX,SAASvR,GAAG,OAAQ,EAAGo3C,aAAYx3B,SACrC,MAAM,YAAE5W,GAAgBouC,EAClBC,EAxCV,SAAsBruC,GACpB,MAAMsuC,EAAe,GACrBtuC,EAAYnS,KAAOmS,EAAYnS,MAAQ,GACvC,IAAK,IAAIsI,EAAI,EAAGA,EAAI6J,EAAYnS,KAAKsC,OAAQgG,IAAK,CAChD,MAAMtI,EAAOmS,EAAYnS,KAAKsI,GAC9Bm4C,EAAazgD,EAAKqF,IAAMrF,EAAK0gD,QAAU1gD,EAAK0gD,QAAU1gD,EAAKF,KAG7D,OADA2gD,EAAaE,QAAU,OAChBF,EAgCeA,CAAatuC,GAEjCouC,EAAWp3C,GAAG,OAAQ,GAAI,KACxB,MAAM,QAAEy3C,GAAY73B,EACpBq3B,GAAWQ,EAAS,CAAC,CAAE9gD,KAAM,MAAOyC,IAAK,eAG3C,MAAMs+C,EAAgB,CAAC5sC,EAAQ6sC,EAAWC,EAAgBC,IACxD7uC,EAAYnS,KAAK6O,QAASoyC,IACpBA,EAAS57C,IAAwB,SAAlB47C,EAASnhD,MAC1BihD,EAAer7C,KAAKuO,EAASgtC,EAAS57C,IACtC27C,EAAet7C,KAAKo7C,IACXG,EAAShtC,QAClB4sC,EACK5sC,EAASgtC,EAAShtC,OAApB,IACD6sC,EACAC,EACAC,KAIR,SAAS1qB,EAAUtmB,GACjB,MAAMkxC,EAAc,GACdC,EAAc,GACdC,EAAe,GAyCrB,OAjFN,SAAwBv5C,GACtB,GAAIA,GAAyC,IAA/BpK,OAAOC,KAAKmK,GAAQvF,OAAc,MAAO,GACvD,GAAIuF,GAAUA,EAAOqkB,KAAM,CAEzB,MAAMm1B,GADNx5C,EAAS,IAAKA,IACKqkB,KAEnB,cADOrkB,EAAOqkB,KACVm1B,aAAe1hD,MAAc0hD,EAAI/pC,OAAOzP,GACrC,CAACA,EAAQw5C,GAGlB,MAAO,CAACx5C,GAgCJy5C,CAAetxC,EAAMnI,QAAQgH,QAAShH,IACpC,MAAMk5C,EAAiB,GACjBC,EAAiB,GACjBO,EAAkB,GAEpB15C,EAAOskB,MAAwB,KAAhBtkB,EAAOskB,MACxB00B,EACE,GACAW,EAAa35C,EAAOskB,MACpB40B,EACAC,GAGJ,MAAM9lC,EAAQrT,EAAO+uB,SAAW5mB,EAAMkL,MACtCzd,OAAOmR,QAAQ/G,GAAQgH,QAAQ,EAAEtG,EAAOnG,GAAQ+L,KACzC,CAAC,OAAQ,OAAQ,WAAWrJ,SAASyD,KACxCw4C,EAAer7C,KAAK6C,GAEH,MAAbnG,EAAM,KACRm/C,EAAgBpzC,IAAS,EACzB/L,EAAQA,EAAM8G,UAAU,IAGtBgS,EAAO8lC,EAAet7C,KAAK87C,EAAc,IAAGp/C,OACvCA,aAAiBzC,MACxBqhD,EAAet7C,KAAK87C,EAAap/C,EAAMzE,KAAK,OAClCyE,GACO,IAAVA,EAAgB4+C,EAAet7C,KAAK,SACR,IAA5B,KAAKkE,QAAQxH,EAAM,IAAY4+C,EAAet7C,KAAKtD,GACvD4+C,EAAet7C,KAAK87C,EAAap/C,EAAOmG,IAH1By4C,EAAet7C,KAAK,YAOvCq7C,EAAez+C,OAAS,IAC1B4+C,EAAYx7C,KAAKq7C,GACjBI,EAAYz7C,KAAKs7C,GACjBI,EAAa17C,KAAK67C,MAGK,IAAvBL,EAAY5+C,OAAqB,GAC9B,CAAE4+C,cAAaC,cAAaC,gBAGrC,SAASI,EAAaC,EAAYp8C,GAChC,MAAwB,YAApBm7C,EAAYn7C,GAA0Bo8C,EACnC,IAAIjkD,OAAOikD,EAAW3nB,WAAWv7B,QAAQ,MAAO,OAAQ,KA4FjEgiD,EAAWp3C,GAAG,SAAU,KAzFxB,SAAgB6G,GACd,QAAmBhH,IAAfgH,EAAMQ,KAAoB,OAE9B,MAAM,QAAEowC,GAAY73B,EACpB/Y,EAAMsa,MAAQs2B,EAAQt+C,OA3G5B,SAA2B0N,EAAOmC,GAChC,MAAM3R,EAAQ2R,EAAYnS,MAAQ,GAClCgQ,EAAMiS,OAAUjS,EAAMiS,OAIlBjS,EAAMiS,OAHNzhB,EAAMof,KAAM5f,GAAqB,UAAZA,EAAKqF,IACxB,QACA,OAGN2K,EAAMiS,OAASjS,EAAMiS,QAAU,UAC/BjS,EAAMlE,SAAWkE,EAAMlE,UAAY,EACnCkE,EAAM6K,MAAQ7K,EAAM6K,OAAS,IAkGzB6mC,CAAkB1xC,EAAOmC,GACzB,IAAIhF,EAAS,GAyCTw0C,EACF3xC,EAAMiS,kBAAkBtiB,MACpBqQ,EAAMiS,OACN,CAACjS,EAAMiS,QAAU,WAEnBhZ,EACF+G,EAAM/G,mBAAmBtJ,MACrBqQ,EAAM/G,QACN,CAAC+G,EAAM/G,UAAW,GAKxB,GAHkB,YAAd04C,EAAO,IAAsC,IAAlBA,EAAOr/C,SAAcq/C,GAAS,IAC1C,IAAf14C,EAAQ,IAAmC,IAAnBA,EAAQ3G,SAAc2G,GAAU,IAEvD+G,EAAMnI,SApDX,SAAsBmI,GACpB,MAAM,YAAEkxC,EAAF,YAAeC,EAAf,aAA4BC,GAAiB9qB,EAAUtmB,GAC7D,IAAKkxC,EAAa,OAAO,EAEzB,IAAK,IAAI5zC,EAAM,EAAGA,EAAMszC,EAAQt+C,OAAQgL,IAAO,CAC7C,MAAMs0C,EAAWhB,EAAQtzC,GACzB,IAAIoG,GAAM,EACV,IAAK,IAAIpL,EAAI,EAAGA,EAAI44C,EAAY5+C,OAAQgG,IAAK,CAC3CoL,GAAM,EACN,IAAK,IAAInL,EAAQ,EAAGA,EAAQ24C,EAAY54C,GAAGhG,OAAQiG,IAAS,CAC1D,IAAIrL,EAAM0kD,EAASV,EAAY54C,GAAGC,IAClC,MAAMs5C,EAAWV,EAAY74C,GAAGC,GAC5BrL,GAA0B,oBAAnBA,EAAI48B,aACb58B,EAAMsK,KAAK6H,UAAUnS,IAEvB,MAAM4kD,EACU,UAAbD,IAAyB3kD,GACZ,SAAb2kD,GAAuB3kD,GACP,MAAhB2kD,EAAS,IACRp5C,WAAWvL,GAAOuL,WAAWo5C,EAAS34C,UAAU,KACjC,MAAhB24C,EAAS,IACRp5C,WAAWvL,GAAOuL,WAAWo5C,EAAS34C,UAAU,KACjDhM,GAAO2kD,EAAS9/C,MAAQ8/C,EAAS9/C,KAAK7E,GAEzC,GACG4kD,IAAWV,EAAa94C,GAAGC,KAC1Bu5C,GAAUV,EAAa94C,GAAGC,GAC5B,CACAmL,GAAM,EACN,OAGJ,IAAKA,EAAK,MAERA,GAAKvG,EAAOzH,KAAKk8C,GAEvB,OAAO,EAgBaG,CAAa/xC,GACjC,GAAI2xC,GAAW14C,GAAWkE,EAAO7K,QAAU0N,EAAM6K,MAAQ,CACvD1N,EAAS,IAAIxN,MAAMihD,EAAQt+C,QAC3B,IAAIgG,EAAIs4C,EAAQt+C,OAChB,KAAOgG,KAAK6E,EAAO7E,GAAKs4C,EAAQt4C,QAC3B6E,EAASyzC,EAGlB5wC,EAAMiZ,YAAc9b,EAAO7K,OAEvBq/C,EACFvB,GACEjzC,EACAw0C,EAAO/hD,IAAI,CAAC2C,EAAK4L,KAAN,CACTrO,KAAM0gD,EAAYj+C,GAClBA,MACA0G,QAASA,EAAQkF,OAGdlF,EAAQ,KACXkE,IAAWyzC,IAASzzC,EAAS,IAAIA,IACrCA,EAAOlE,WAELkE,EAAO7K,QAAU0N,EAAMlE,SAAUqB,EAAS,GACrCA,EAAO7K,OAAS0N,EAAM6K,QAC7B1N,EAASA,EAAO/M,MAAM4P,EAAMlE,SAAUkE,EAAMlE,SAAWkE,EAAM6K,QAE/D7K,EAAMQ,OAAOrD,EAAO7K,QAAS6K,QCtQnBzJ,OCPAA,KACdA,EAAIgX,SAASvR,GAAG,OAAQ,EAAGo3C,aAAYx3B,SACrCw3B,EAAWp3C,GAAG,SAAU,IAAO6G,IAC7B,MAAM3K,EAAK2K,EAAM3K,IAAM2K,EAAMQ,KAAK7K,IAC5B6K,EAAOR,EAAMQ,MAAQ,CAAE7K,IAAKN,GAClC,OAAO5H,OAAOukD,OAAOhyC,EAAO,CAAE3K,KAAI48C,QAASl5B,EAAGm5B,QAAQ78C,GAAKmL,WAG7D+vC,EAAWp3C,GAAG,UAAW,IAAM6G,IAC7B,IAAKA,EAAMQ,KAAM,OACjB,MAAM,QAAEowC,EAAF,QAAWsB,GAAYn5B,SACtBm5B,EAAQlyC,EAAM3K,IACrB,MAAMiI,EAAMszC,EAAQh3C,QAAQoG,EAAMiyC,SAClCrB,EAAQ9uC,OAAOxE,EAAK,QDLxB60C,CAAQz+C,GERKA,KACbA,EAAIgX,SAASvR,GAAG,OAAQ,EAAGo3C,aAAYx3B,SACrCw3B,EAAWp3C,GAAG,OAAQ,IAAM6G,IAC1B,MAAM,MAAEzH,EAAF,MAASnG,EAAT,KAAgBoO,EAAhB,UAAsB4xC,GAAcpyC,EAC1C,GAAIQ,EAAM,OACV,MAAM,QAAEowC,GAAY73B,EAEpB,IAAKq5B,EAAW,CACd,IAAK,IAAI95C,EAAI,EAAGA,EAAIs4C,EAAQt+C,OAAQgG,IAClC,GAAIs4C,EAAQt4C,GAAGC,KAAWnG,EACxB,MAAO,IAAK4N,EAAOQ,KAAMowC,EAAQt4C,IACrC,OAAO0H,EAGT,IAAK,IAAI1H,EAAI,EAAGA,EAAIs4C,EAAQt+C,OAAQgG,IAClC,IAAKs4C,EAAQt4C,GAAGC,MAAYnG,EAC1B,MAAO,IAAK4N,EAAOQ,KAAMowC,EAAQt4C,SFPzC+5C,CAAM3+C,GGTOA,KACbA,EAAIgX,SAASvR,GAAG,OAAQ,EAAGo3C,aAAYx3B,SACrCw3B,EAAWp3C,GACT,MACA,IACA6G,GACEA,EAAMQ,KACFR,EACA,IAAKA,EAAOQ,KAAMuY,EAAGm5B,QAAQlyC,EAAM3K,SHE7Ci9C,CAAK5+C,GIVQA,KACbA,EAAIgX,SAASvR,GAAG,OAAQ,EAAGo3C,aAAYx3B,SACrCw3B,EAAWp3C,GAAG,OAAQ,IAAM6G,GAASvS,OAAOukD,OAAOj5B,EAAI/Y,IACvDuwC,EAAWp3C,GAAG,QAAS,IAAM,IAQpBo3C,MJAXgC,CAAM7+C,GKXQA,KACdA,EAAIgX,SAASvR,GAAG,OAAQ,EAAGo3C,aAAYx3B,SACrCw3B,EAAWp3C,GAAG,OAAQ,IAAO6G,IAC3B,MAAM3K,EAAK2K,EAAM3K,IAAO2K,EAAMQ,MAAQR,EAAMQ,KAAK7K,IACjD,IAAKN,GAAM2K,EAAMiyC,QAAS,OAE1B,MAAMA,EAAUl5B,EAAGm5B,QAAQ78C,GAC3B,OAAK48C,GAEDjyC,EAAMwT,SAAQxT,EAAMQ,KAAO,IAAKyxC,KAAYjyC,EAAMQ,OAC/C,IAAKR,EAAOiyC,iBAHnB,IAMF1B,EAAWp3C,GAAG,OAAQ,IAAO6G,IACtBA,EAAMQ,OAGXR,EAAMQ,KAAK7K,IAAMqK,EAAM3K,GAAK2K,EAAM3K,IAAM2K,EAAMQ,KAAK7K,KAAOjC,EAAI+C,UAGhE85C,EAAWp3C,GAAG,QAAS,IAAM6G,IAC3B,IAAKA,EAAMQ,KAAM,OAEjB,MAAM,QAAEowC,EAAF,QAAWsB,GAAYn5B,EAEzB/Y,EAAMiyC,UACRrB,EAAQ9uC,OAAO8uC,EAAQh3C,QAAQoG,EAAMiyC,SAAU,UACxCC,EAAQlyC,EAAMiyC,QAAQt8C,MAG/Bu8C,EAAQlyC,EAAM3K,IAAM2K,EAAMQ,KAC1BowC,EAAQl7C,KAAKsK,EAAMQ,WLnBvBgyC,CAAM9+C,GACN++C,GAAQ/+C,GAERA,EAAIgX,SAASvR,GACX,OACA,EAAGgJ,kBACD,MAAM4W,EAAK,CAAE63B,QAAS,GAAIsB,QAAS,IAE7B3B,EAAa78C,EAAI8H,gBACrB,CAAE2G,eACF,CACE,SACA,OACA,MACA,OACA,OACA,SACA,OACA,SACA,WAED,YAAWA,EAAYuwC,aAa1B,OAVAnC,EAAWp3C,GAAG,OAAQ,KACpB,MAAM,QAAEy3C,EAAF,QAAWsB,GAAYn5B,EAC7B63B,EAAQ/xC,QAAS7O,IACXkiD,EAAQliD,EAAK2F,MACfi7C,EAAQ9uC,OAAO8uC,EAAQh3C,QAAQs4C,EAAQliD,EAAK2F,MAAO,GACrDu8C,EAAQliD,EAAK2F,KAAO3F,MAIxBugD,EAAWp3C,GAAG,OAAQ,IAAM4f,EAAG63B,QAAQt+C,QAChC,CAAEi+C,aAAYx3B,KAAI5W,gBAE3B,MMhDJ,MAAMwwC,GAAUnyC,GAAShJ,KAAK6H,UAAUmB,GAExB9M,ICMAA,OACd,MAAMgX,EAAWhX,EAAI8H,gBACnB,GACA,CAAC,OAAQ,MAAO,cAChB,kBAEF9H,EAAIgX,SAAWA,ECdDhX,KACd,IAAIwZ,GAAY,EAChBxZ,EAAIyF,GAAG,OAAQ,OACV+T,aAAcxZ,EAAI0Z,YACrB1Z,EAAI0Z,WAAWjU,GAAG,aAAe6G,MAC5BkN,aAAclN,OAIrBtM,EAAIgX,SAASvR,GAAG,OAAQ,EAAGo3C,aAAYpuC,kBACrC,MAAM6rC,EAAO,CAACtmC,EAAQ1H,IACpBtM,EAAI0Z,WACDmI,KAAK,CACJzlB,KAAM,WACN4X,SACAvF,YAAaA,EAAYuwC,YACzB1yC,UAEDD,KAAMzF,GAAUA,EAAM0F,OAE3B,CAAC,OAAQ,MAAO,QAAQnB,QAASvE,IAC/Bi2C,EAAWp3C,GAAGmB,EAAO,IAAM0F,GACzBA,EAAMQ,UACFxH,EACCkU,EAED8gC,EAAK1zC,EAAO0F,GADZ,IAAKA,EAAOif,SAAS,MAK7BsxB,EAAWp3C,GAAG,SAAU,KAAO6G,GAC5BkN,EAA0C8gC,EAAK,SAAUhuC,GAA7C,IAAKA,EAAOif,SAAS,IAGpCsxB,EAAWp3C,GAAG,OAAQ,KAAO6G,GAC1BkN,EAA0C8gC,EAAK,OAAQhuC,GAA3C,IAAKA,EAAOif,SAAS,IAGpCsxB,EAAWp3C,GAAG,SAAU,KAAO6G,GAC7BA,EAAM4yC,aACF55C,EACCkU,EAED8gC,EAAK,SAAUhuC,GADf,IAAKA,EAAOif,SAAS,IAI3BsxB,EAAWp3C,GAAG,UAAY6G,GAAUguC,EAAK,UAAWhuC,IACpDuwC,EAAWp3C,GAAG,SAAU,IAAM6G,IAAD,IACxBA,EACHif,SAAU/R,KAGZxZ,EAAI0Z,WAAWjU,GAAG,WAAamB,IAE3BA,EAAM6H,cAAgBA,EAAYuwC,aACjC,CAAC,UAAU59C,SAASwF,EAAMoN,SAI7B6oC,EAAWj2C,EAAMoN,QAAQpN,EAAM0F,SAGjCtM,EAAI0Z,WAAWjU,GAAG,aAAc,EAAG+T,gBAC7BA,GAAWqjC,EAAWsC,eD/C9BC,CAAYp/C,GEhBEA,KACdA,EAAIgX,SAASvR,GAAG,OAAQ,EAAGo3C,aAAYx3B,SACrC,IAAItX,EAAM,GACV,MAAM6jB,EAAe,GACfytB,EAAY,GAClB,IAAIC,EACAC,EAEJ,MAAMC,EAAgBx/C,EAAI+O,SAASiI,UACjChX,EAAI+O,SAASiI,SAASyoC,iBAAoB,CAAC,IAAK,KAE5CC,EAAc,KAClBl5C,aAAa84C,GACb94C,aAAa+4C,GACbA,GAAU,EACV1C,EAAWj2C,MAAM,SAAU,CAAEmH,QAAO1B,KAAK,KACvC0B,EAAM,MAIV8uC,EAAWp3C,GAAG,MAAO,IAAO6G,IACrBA,EAAMqzC,SAAUrzC,EAAMszC,aAC3BtzC,EAAMszC,WAAa5/C,EAAI+C,OACvBs8C,EAAU/yC,EAAM3K,IAAM09C,EAAU/yC,EAAM3K,KAAO,GAC7C09C,EAAU/yC,EAAM3K,IAAI2K,EAAMszC,YAActzC,EAAMqzC,cACvCrzC,EAAMqzC,UAEf9C,EAAWp3C,GAAG,OAAQ,IAAO6G,IACvBA,EAAMszC,YAAYP,EAAU/yC,EAAM3K,IAAI2K,EAAMszC,YAAYtzC,KAG9DuwC,EAAWp3C,GAAG,SAAU,IAAO6G,IACxBA,EAAMqzC,SAAUrzC,EAAMszC,aAC3BtzC,EAAMszC,WAAa5/C,EAAI+C,OACvB6uB,EAAatlB,EAAMszC,YAAc,IAAKtzC,EAAOQ,MAAM,UAC5CR,EAAMqzC,UAEf9C,EAAWp3C,GAAG,UAAW,IAAO6G,IAC1BA,EAAMszC,YAAYhuB,EAAatlB,EAAMszC,YAAYD,OAAOrzC,KAG9DuwC,EAAWp3C,GAAG,YAAc6G,IACtBslB,EAAatlB,EAAMszC,mBAAoBhuB,EAAatlB,EAAMszC,mBAClDP,EAAU/yC,EAAM3K,IAAI2K,EAAMszC,cAGxC/C,EAAWp3C,GAAG,CAAC,OAAQ,WAAY,IAAO6G,IACnCA,EAAMif,UAEP+zB,GAAS94C,aAAa84C,GAC1BA,EAAU74C,WAAWi5C,EAAaF,EAAa,IAC1CD,IAASA,EAAU94C,WAAWi5C,EAAaF,EAAa,KACxDzxC,EAAI3M,SAASkL,EAAM3K,KAAKoM,EAAI/L,KAAKsK,EAAM3K,OAG9C,MAAMk+C,EAAWl+C,IAGf0jB,EAAG63B,QAAU73B,EAAG63B,QAAQ/4C,OAAQS,GAAMA,EAAE3C,MAAQN,UACzC0jB,EAAGm5B,QAAQ78C,IAGpBk7C,EAAWp3C,GAAG,SAAU,EAAGsI,MAAKwd,cAC1BA,IACAxd,EACFA,EAAI5C,QAAQ00C,IAIdx6B,EAAG63B,QAAU,GACb73B,EAAGm5B,QAAU,OAGf3B,EAAWp3C,GAAG,UAAW,IAAM,EAAGsI,UAChChU,OAAOmK,OAAO0tB,GAAczmB,QAASmB,GACnCuwC,EAAWjuC,OAAO,IAAKtC,EAAOQ,MAAM,EAAO6yC,QAAQ,MAGhC5xC,EACjBA,EAAI5J,OAAQxC,GAAO09C,EAAU19C,IAC7B5H,OAAOC,KAAKqlD,IAEHl0C,QAASxJ,IACpB5H,OAAOmK,OAAOm7C,EAAU19C,IAAKwJ,QAASy0C,GACpC/C,EACG38C,IAAI,CAAEyB,OACN0K,KAAMC,GAAU+yC,EAAU19C,GAAIi+C,GAAYtzC,OAIjDuwC,EAAWj2C,MAAM,iBAGnBi2C,EAAWp3C,GAAG,UAAW,IAAM,KAC7B,MAAM,QAAEy3C,GAAY73B,EACdzgB,EAAIs4C,EAAQt+C,OAAS,EAE3B,IAAW,IAAPgG,GAAas4C,EAAQt4C,GAAGk7C,QAE5B,MAAO,CAAErD,KAAMS,EAAQt4C,GAAGk7C,WAE5BjD,EAAWp3C,GAAG,WAAY,IAAMo3C,EAAWtqC,WFpF7CwtC,CAAS//C,GGTIA,KACbA,EAAIgX,SAASvR,GAAG,OAAQ,EAAGo3C,aAAYx3B,aHSvC26B,CAAOhgD,GACPigD,GAAOjgD,GDjBOA,KACVA,EAAI+O,SAASmxC,eAEjBlgD,EAAIgX,SAASvR,GAAG,OAAQ,EAAGo3C,aAAYx3B,SACrC,GAAIw3B,EAAWpuC,YAAYyxC,cAAe,OAE1C,MAAMC,EAAc7jD,IAClB,MAAM,QAAEkiD,EAAF,QAAWtB,GAAY73B,EAC7B,GAAIm5B,EAAQliD,EAAK2F,KAAM,OAEvBu8C,EAAQliD,EAAK2F,KAAO3F,EAEpB,MAAM8jD,EAAS9jD,EAAKwjD,QACpB,IAAIl2C,EAAMszC,EAAQt+C,OAAS,EAE3B,GAAIwhD,EACF,KACEx2C,GAAO,KACLszC,EAAQtzC,GAAKk2C,SAAW5C,EAAQtzC,GAAKk2C,QAAUM,IAEjDx2C,GAAO,EAEPA,IAAQszC,EAAQt+C,OAAS,EAAGs+C,EAAQl7C,KAAK1F,GACxC4gD,EAAQ9uC,OAAOxE,EAAM,EAAG,EAAGtN,GAEhCugD,EAAWj2C,MAAM,gBAGnB,IAAIy5C,EAAc,GACdC,GAAa,EAEjBzD,EAAWp3C,GAAG,CAAC,SAAU,cAAe,IAAM,KAC5C46C,EAAc,GACdC,GAAa,IAGfzD,EAAWp3C,GAAG,SAAU,IAAO6G,IAC7B,MAAM4yC,EACJoB,GAAcD,EAAYpB,GAAO,IAAK3yC,EAAOQ,UAAMxH,KAErD,MAAO,IAAKgH,EAAO4yC,aAErBrC,EAAWp3C,GAAG,UAAW,IAAO6G,IAC9B,IAAKA,EAAMQ,MAAQwzC,EAAY,OAE/BA,EACEh0C,EAAM6K,MAAQ7K,EAAMiZ,aAAejZ,EAAMiZ,cAAgBjZ,EAAMsa,MAEjEta,EAAMQ,KAAK3B,QAAQg1C,GAEnB,MAAMthD,EAAMogD,GAAO,IAAK3yC,EAAOQ,UAAMxH,IAChC+6C,EAAYxhD,KAAMwhD,EAAYxhD,IAAO,KAG5Cg+C,EAAWp3C,GAAG,CAAC,MAAO,SAAU,IAAM,EAAGqH,YAClCwzC,GAAcxzC,GAAMqzC,EAAWrzC,QCrCxCyzC,CAAOvgD,GIpBOA,KACVA,EAAI+O,SAASmxC,eAEjBlgD,EAAIgX,SAASvR,GAAG,OAAQ,EAAGo3C,aAAYx3B,SACrC,MAAM1jB,EAAM,YAAWk7C,EAAWpuC,YAAYuwC,YAE9CnC,EAAWp3C,GAAG,CAAC,OAAQ,SAAU,gBAAiB,IAAM,KACtDzF,EAAIu6B,QAAQimB,gBAAgB,CAAE7+C,KAAIjD,MAAO2mB,EAAG63B,QAAS9pB,MAAO,QAG9DypB,EAAWp3C,GAAG,OAAQ,IAAM,IAC1BzF,EAAIu6B,QAAQC,QAAQ,CAAE74B,OAAM0K,KAAK,EAAG3N,YAClC2mB,EAAG63B,QAAUx+C,GAAS,MAI1Bm+C,EAAWp3C,GAAG,aAAc,KAC1BzF,EAAIu6B,QAAQimB,gBAAgB,CAAE7+C,KAAIjD,MAAO,GAAI00B,MAAO,IACpD/N,EAAG63B,QAAU,GACb73B,EAAGm5B,QAAU,QJEjBiC,CAASzgD,GKrBKA,KACVA,EAAI+O,SAASmxC,eAEjBlgD,EAAIgX,SAASvR,GAAG,OAAQ,EAAGo3C,aAAYx3B,SACrC,MAAMq7B,EAAa,cAAa7D,EAAWpuC,YAAYuwC,YAEvD,IAAI2B,EAAY,GAChB3gD,EAAIu6B,QACDC,QAAQ,CAAE74B,GAAI++C,IAEdr0C,KAAK,EAAG3N,WAAaiiD,EAAYjiD,GAAS,IAE7C,MAAMsR,EAAM,EAAGrO,KAAImL,OAAMye,cAClBA,IACLo1B,EAAUh/C,GAAMmL,EAChB9M,EAAIu6B,QAAQimB,gBAAgB,CAC1B7+C,GAAI++C,EACJhiD,MAAOiiD,EACPvtB,MAAO,QAGXypB,EAAWp3C,GAAG,QAAS,IAAO6G,GAAU0D,EAAI1D,IAC5CuwC,EAAWp3C,GAAG,UAAW,IAAO6G,GAC9B0D,EAAI,IAAK1D,EAAOQ,KAAM,aAGxB+vC,EAAWp3C,GAAG,UAAW,IAAM6G,IAC7B,MAAM,QAAE4wC,GAAY73B,GACd,KAAEo3B,GAASnwC,EACjB,IAAKmwC,EAAM,OAEX,IAAI73C,EAAIs4C,EAAQt+C,OAAS,EAEzB,IADAuV,QAAQC,IAAI,cACE,IAAPxP,IAAa+7C,EAAUzD,EAAQt4C,GAAG3C,MAEvC2C,IAEF,MAAO,IAAK0H,EAAOq0C,YAAWlE,UAEhCI,EAAWp3C,GAAG,WAAY,IAAK,KAC7Bk7C,EAAY,GACZ3gD,EAAIu6B,QAAQG,QAAQ,CAAE/4B,GAAI++C,EAAWhiD,MAAO,ULnBhDkiD,CAAW5gD,GAEXgX,EAASvR,GAAG,aAAc,IACxBmoB,QAAQizB,IACN9mD,OAAOC,KAAKgG,EAAIyO,aACbtK,OAAQ7H,GAAS0a,EAAS1a,IAC1BJ,IAAKI,GAAS0a,EAAS1a,GAAMsK,MAAM,iBAiB1C5G,EAAIyF,GAAG,QAAS,IAAK,KAInB,OAHAzF,EAAI0Z,WAAWjU,GAAG,iBAAmBqH,GACnCkK,EAASlK,EAAK2B,aAAa8D,OAAOzF,IAE7B8gB,QAAQizB,KAjBMC,EAiBY/mD,OAAOmK,OAAOlE,EAAIyO,aAhBnDqyC,EACG38C,OAAQsK,GAAwC,SAAxBA,EAAY8rB,SACpCr+B,IAAKuS,GACJuI,EACG+pC,KAAK,CAAEtyC,gBACPpC,KAAK,EAAGwwC,gBAAiBA,EAAWkE,QACpC10C,KAEEwwC,GAAgB7lC,EAASvI,EAAYuwC,aAAenC,MAQKxwC,KAChE,KACErM,EAAIyF,GAAG,CAAC,QAAS,UAAW,KAC1BuR,EAASgqC,aAAa30C,KAAK,YApBZy0C,SMhCT9gD,OACd,MAAM,gBAAEihD,EAAkB,aAAgBjhD,EAAI+O,SACxCmyC,EAAc,UAASD,EAE7BjhD,EAAI6F,QAAU7F,EAAI8H,gBAAgB,GAAI,CAAC,QAAS,UAAW,WAC3D,MAAM,QAAEjC,GAAY7F,EACpB,IAAImhD,GAAgB,EAgBpBt7C,EAAQJ,GAAG,QAAU/G,GACnBsB,EAAI0Z,WACDmI,KAAK,CACJzlB,KAAM,QACN0Q,KAAMpO,EACN0iD,UAAW1iD,EAAM0iD,UACjB3yC,YAAa/P,EAAM+P,cAEpBpC,KAAMC,IACL,MAAM,KAAExG,GAASwG,EAEjB,GAAIxG,IAASwG,EAAM3J,OAzBzB,SAAoBmD,GAClB,GAAIhC,KAAK6H,UAAU7F,KAAUhC,KAAK6H,UAAU9F,EAAQC,MAApD,CAEA,IACE9F,EAAIu6B,QAAQG,QAAQ,CAAE/4B,GAAIu/C,EAAYxiD,MAAOoH,IAE7C,MAAO2F,IACT5F,EAAQC,KAAOA,EACkB,kBAAtBD,EAAQC,KAAKrJ,OACtBoJ,EAAQC,KAAKrJ,KAAO,CAACoJ,EAAQC,KAAKrJ,OAEpCuD,EAAI4G,MAAM,QAASd,IAcWu7C,CAAWv7C,QAChC,GAAID,EAAQC,OAASq7C,EAAe,CACvCt7C,EAAQC,KAAOq7C,EACf,IACEnhD,EAAIu6B,QAAQ+mB,WAAW,CAAE3/C,GAAIu/C,IAE7B,MAAOz1C,KAEX,OAAOa,KAGbtM,EAAIyF,GAAG,QAAS,IAAK,KACnBzF,EAAI0Z,WAAWjU,GAAG,YAAc6G,IAC9B,MAAM,KAAExG,EAAF,MAAQnD,GAAU2J,EAEnBxG,IAAQnD,IACbw+C,EAAgBr7C,EACZD,EAAQC,OAEZD,EAAQC,KAAOA,EACkB,kBAAtBD,EAAQC,KAAKrJ,OACtBoJ,EAAQC,KAAKrJ,KAAO,CAACoJ,EAAQC,KAAKrJ,OAEpCuD,EAAI4G,MAAM,QAASd,OAGrB,MAAMynB,EAAS,EAAG1uB,MAAK8C,UAChB9C,GAAO8C,KAAQu/C,GACpB53C,OAAO0U,SAASuP,UAElBjkB,OAAOyD,iBAAiB,UAAWwgB,GACnCvtB,EAAIu6B,QAAQ90B,GAAG,cAAe,IAAM8nB,GACpCvtB,EAAIu6B,QAAQ90B,GAAG,WAAY,IAAM8nB,GAEjC1nB,EAAQJ,GAAG,SAAU,KACnBzF,EAAIu6B,QAAQ+mB,WAAW,CAAE3/C,GAAIu/C,WAEtBr7C,EAAQC,KAEf9F,EAAI0Z,WAAWmI,KAAK,CAClBzlB,KAAM,SACNqS,YAAawyC,EACb1G,YAAY,IAGdv6C,EAAI4G,MAAM,YAGZ5G,EAAI0Z,WAAWjU,GAAG,SAAU,KAC1BzF,EAAIu6B,QAAQ+mB,WAAW,CAAE3/C,GAAIu/C,MAG/BlhD,EAAIu6B,QAAQC,QAAQ,CAAE74B,GAAIu/C,IAAc70C,KAAK,EAAG3N,MAAO6iD,MACrD17C,EAAQC,KAAOy7C,GAAaJ,EAExBI,IACEvhD,EAAI0Z,WAAWF,WAAW3T,EAAQu3B,MAAMmkB,GAE5CvhD,EAAI0Z,WAAWjU,GAAG,aAAc,EAAG+T,gBAC7BA,GAAW3T,EAAQu3B,MAAMmkB,WC1FvBvhD,OACd,IAAKsJ,OAAO47B,SAAU,OACjBllC,EAAI+O,SAASwoB,QCJJv3B,KACd,GAAIA,EAAI+O,SAASwoB,OAAQ,OAEzBv3B,EAAI0Z,WAAa1Z,EAAI8H,gBAAgB,GAAI,CAAC,OAAQ,aAAc,cAChE,MAAM,WAAE4R,GAAe1Z,EAEvB0Z,EAAWjU,GAAG,YAAcqH,GAC1B9M,EAAI4G,MAAM,gBAAiB,IAAKkG,EAAMmtC,WAAW,KAEnDvgC,EAAWjU,GAAG,OAASqH,GAAS9M,EAAI4G,MAAM,gBAAiBkG,IAE3D9M,EAAIyF,GAAG,eAAiBqH,GAAS4M,EAAW9S,MAAMkG,EAAK1Q,KAAM0Q,IAE7D4M,EAAWF,WAAY,EACvBE,EAAWjU,GAAG,aAAc,IAAM6G,IACD,qBAApBA,EAAMkN,YACflN,EAAMkN,UAAYE,EAAWF,WAE/BE,EAAWF,UAAYlN,EAAMkN,YAG/BxZ,EAAIyF,GAAG,QAAS,KACdiU,EAAW9S,MAAM,aAAc,CAAE4S,WAAW,MAG9CE,EAAWjU,GAAG,aAAc,EAAGs1C,OAAMvhC,gBACnC,GAAKuhC,IAAQvhC,EAEb,OAAO,IAAIoU,QAASC,IAClB,MAAMmtB,EAAY,EAAGxhC,gBACdA,IACLE,EAAWhU,IAAI,aAAcs1C,GAC7BntB,EAAQ,CAAErU,WAAW,MAEvBE,EAAWjU,GAAG,aAAcu1C,QD9BNoE,CAAYp/C,GAEtC,MAAMk6C,EAAY,GAsBlB5wC,OAAO47B,SAASz/B,GAAGiB,MAAOwnB,EAAMphB,KAC1BA,EAAK0tC,eAbG1tC,KACZ,GAAKotC,EAAUptC,EAAK0tC,gBAApB,CAEA,IACEN,EAAUptC,EAAK0tC,gBAAgB1tC,GAC/B,MAAOrB,GACP0I,QAAQC,IAAI,MAAO8lC,EAAUptC,EAAK0tC,gBAAiB/uC,UAG9CyuC,EAAUptC,EAAK0tC,kBAIGgH,CAAK10C,IAE5BA,QAAa9M,EAAI4G,MAAM,eAAgBkG,IAC9B20C,gBAAgBn4C,OAAO47B,SAASoV,KAAKxtC,KAIlD9M,EAAIyF,GAAG,gBAAkBqH,IACvB,IAAIA,EAAKytC,WACJ,MA9BM,EAACztC,EAAM4zB,IAClB,IAAI9S,QAASC,IACX/gB,EAAK0tC,eAAiBx6C,EAAI+C,OAC1Bm3C,EAAUptC,EAAK0tC,gBAAkB3sB,EAEjC6S,MAyBU4Z,CAAKxtC,EAAM,IAAMxD,OAAO47B,SAASoV,KAAKxtC,IAD7BxD,OAAO47B,SAASoV,KAAKxtC,M,SEnC9C,MAAM40C,GAAiBrc,IACrB,MAAMzM,EAAM,GACZ,IAAK+oB,MAAMC,kBAAmB,OAC9BD,MAAMC,kBAAkBhpB,EAAK8oB,IACjB,IAARrc,GAAWlxB,QAAQC,IAAIwkB,EAAIipB,MAAM7gD,MAAM,OAC3C,MAAO,CAAE6L,EAAQwiB,EAAMyyB,GACrB,+CAA+Cpe,KAC7C9K,EAAIipB,MAAM7gD,MAAM,MAAMqkC,KACnB,GAEP,OAAQx4B,EAEJ6J,GAAW,GAAE7J,KAAUwiB,KAAQyyB,KAD/BlpB,EAAIipB,MAAM7gD,MAAM,MAAMqkC,IAI5B,IAAI3uB,GAAavY,GAAQA,EAEzB,GACoB,qBAAXmL,QACPA,OAAO0U,SAAS+jC,KAAK3gD,SAAS,aAC9B,CACmBs2B,IACjB,IAAI9J,QAASC,IACX,GACE,IAAI3hB,SAAS4sB,KAAK/8B,UAAUimD,KACzB/a,GAAUA,EAAM5N,aAAa,SAAW3B,GAI3C,YADA7J,IAIF,MAAMo0B,EAAW/1C,SAASyE,cAAc,UAExCsxC,EAASjpB,aAAa,MAAOtB,GAC7BuqB,EAASC,OAASr0B,EAClB3hB,SAAS4sB,KAAK3sB,YAAY81C,KAG9BE,CAAU,kBAAkB91C,KAAK3F,UAC/B4C,OAAO84C,UAAUC,kBAAkBC,WAAW,CAC5C,oBAAqB,mBAEvB,IACE,MAAMC,QAAiB,IAAIj5C,OAAO84C,UAAUC,wBACpClH,MAAM,gCAAgC9uC,KAAMwT,GAAQA,EAAIw7B,SAEhE3kC,GAAavY,IACX,IAAKA,IAAQA,EAAIiD,SAAS,KAAM,OAAOjD,EAEvC,IAAK0O,EAAQwiB,EAAMyyB,GAAU3jD,EAAI6C,MAAM,QAMvC,QAJG6L,SAAQwiB,OAAMyyB,UAAWS,EAASC,oBAAoB,CACvDnzB,KAAM5nB,SAAS4nB,EAAM,IACrByyB,OAAQr6C,SAASq6C,EAAQ,OAEnB,GAAEj1C,KAAUwiB,KAAQyyB,KAG9B,MAAOr2C,OAME,SAASg3C,GAAgBx5C,EAASy5C,EAAW33B,GAC1D,MAAMmvB,EAAY,GACZyI,EAAgB,GAChBC,EAAiB,GACE,kBAAdF,IACT33B,EAAO23B,EACPA,OAAYp9C,GAGds9C,EAAeC,yBAA2B,CACvC,GAAE93B,KAAQ+3B,KAAKC,WAChBrB,GAAc,IAGhBj7C,WAAW,KACa,qBAAX6C,SACTvP,OAAOmR,QAAQ03C,GAAgBz3C,QAAQ,EAAEtM,EAAKH,MAC5CkkD,EAAe/jD,GAAOH,EAAMxC,IAAKI,GAASoa,GAAUpa,MAGtDgN,OAAO05C,iBAAiBJ,EAAeC,yBAAyB,IAC9DD,IAEH,MAEH35C,EAAUA,GAAW,IA6BbxD,GAAK,CAACmB,EAAO85B,EAAUuiB,MAC7Br8C,EAAQA,aAAiB3K,MAAQ2K,EAAQ,CAACA,IACpCuE,QAASvE,GA7BA,EAACA,EAAO85B,EAAUuiB,KACjC,GAAwB,kBAAbviB,EAAuB,CAChC,MAAMid,EAAMjd,EACZA,EAAWuiB,EACXA,EAAOtF,EAGT,IAAKjd,EAAU,OAAOvsB,QAAQxR,MAAM,cAAe++C,GAAc,IACjE,GAAwB,oBAAbhhB,EACT,OAAOvsB,QAAQxR,MAAM,iBAAkB++C,GAAc,GAAIhhB,GAE3DuiB,EAAOA,GAAQ,EAEV/I,EAAUtzC,KACbszC,EAAUtzC,GAAS,GACnB+7C,EAAc/7C,GAAS,GACvBg8C,EAAeh8C,GAAS,IAG1B,IAAIgD,EAAMswC,EAAUtzC,GAAOhI,OAC3B,KAAOgL,GAAO+4C,EAAc/7C,GAAOgD,EAAM,GAAKq5C,GAAMr5C,IAEpD+4C,EAAc/7C,GAAOwH,OAAOxE,EAAK,EAAGq5C,GACpC/I,EAAUtzC,GAAOwH,OAAOxE,EAAK,EAAG82B,GAChCkiB,EAAeh8C,GAAOwH,OAAOxE,EAAK,EAAG83C,GAAc,KAK1BwB,CAASt8C,EAAO85B,EAAUuiB,KAkBrDh6C,EAAQvD,IAAM,CAACkB,EAAO85B,MACpB95B,EAAQA,aAAiB3K,MAAQ2K,EAAQ,CAACA,IACpCuE,QAASvE,GAjBG,EAACA,EAAO85B,KAC1B,IAAKwZ,EAAUtzC,GAEb,YADAuN,QAAQC,IAAI,gBAAiBxN,EAAOszC,GAGtC,MAAMtwC,EAAMswC,EAAUtzC,GAAOV,QAAQw6B,IACxB,IAAT92B,IACFswC,EAAUtzC,GAAOwH,OAAOxE,EAAK,GAC7B+4C,EAAc/7C,GAAOwH,OAAOxE,EAAK,GACjCg5C,EAAeh8C,GAAOwH,OAAOxE,EAAK,IAG/BswC,EAAUtzC,GAAOhI,eAAes7C,EAAUtzC,IAKtBu8C,CAAYv8C,EAAO85B,KAG9C,MAAM0iB,EAAQ,GACRhjB,EAAU,CAACx5B,EAAOkG,KACtBA,EAAOA,GAAQ,GACf,MAAM4zB,EAAWwZ,EAAUtzC,GAG3B,OADKw8C,EAAMx8C,KAAQw8C,EAAMx8C,IAAS,GAC7B85B,EAEE,IAAI9S,QAAQ,CAACC,EAASw1B,KAC3B,MAAM98C,EAAQE,WAAW,KACvB0N,QAAQC,IACNxN,EACA,cACAgD,EACA82B,EAAS9hC,OACT7E,OAAOC,KAAKiP,GACZ25C,EAAeh8C,GAAOgD,EAAM,GAC5Bg5C,EAAeh8C,KAEhB,KACH,IAAIgD,EAAM,EACN20C,EAAUzxC,EAEd,MAAMsd,EAAQtd,IACZ,GAAIA,aAAgB8gB,QAClB9gB,EAAKT,KAAK+d,GAAMk5B,MAAMD,OADxB,CAOA,GAFAv2C,EAAuB,qBAATA,EAAuByxC,EAAUzxC,EAE3ClD,GAAO82B,EAAS9hC,OAGlB,OAFA4H,aAAaD,QACbsnB,EAAQ/gB,GAIVyxC,EAAUzxC,EACV8gB,QAAQC,QAAQ6S,EAAS92B,KAAOkD,IAC7BT,KAAK+d,GACLk5B,MAAMD,KAEXj5B,EAAKtd,KApCe8gB,QAAQC,QAAQ/gB,IA4DxC,OArBA7D,EAAQrC,MAAQw5B,EAEhBn3B,EAAQs6C,QAAW38C,GACjB,IAAIgnB,QAASC,IACX,MAAM21B,EAAO,KACXv6C,EAAQvD,IAAIkB,EAAO48C,GACnB31B,KAGEu1B,EAAMx8C,GAAQinB,IACb5kB,EAAQxD,GAAGmB,EAAO48C,KAGvBd,GACFA,EAAUv3C,QAASvE,IACjBqC,EAAQrC,GAAS,CAACkG,EAAM22C,IAEfrjB,EAAQx5B,EAAOkG,KAIrB7D,EAnJa,qBAAXK,SAAwBA,OAAO05C,iBAAmB,I,aC3D7D,MACMhjD,GAAM,CAAE+O,SADIzF,QAAUA,OAAOo6C,gBAAmBC,GAC9Bl1C,eAAa3G,oBAErC,GAAI9H,GAAI+O,SAAS60C,mBAAoB,CACnC,MAAM,SAAE5f,EAAF,KAAY+d,GAAUz4C,QAAUA,OAAO0U,UAAa,GACzC,WAAbgmB,GAA0BhkC,GAAI+O,SAASyoB,SACzCx3B,GAAI+O,SAASyoB,QAAS,EACtBx3B,GAAI+O,SAASwoB,OAASwqB,GAI1Bj6C,GAAgB9H,GAAK,OACrB,MAAM6jD,GAAK,KAEe,OAArB,EAAIf,KAAKC,UAAuB,GAAG3sB,SAAS,IAAI5wB,UAAU,GCThD,IAASxF,GDUxBA,GAAI+C,KAAO,IAAM8gD,KAAOA,KAAOA,KAAOA,KAAOA,KAAOA,KAAOA,KAAOA,KAClE7jD,GAAI6Q,SAAY/P,GACdA,GAAQA,EAAK0E,UAAU,EAAG,GAAGinB,cAAgB3rB,EAAK0E,UAAU,GAC9DxF,GAAIqX,MAASvK,GAASA,GAAQhJ,KAAKC,MAAMD,KAAK6H,UAAUmB,ItBdxC9M,KACd,IAAI8jD,EACJ9jD,EAAIyF,GAAG,SAAUiB,UACf,MAAM,SAAEq9C,EAAF,UAAYvhC,EAAZ,QAAuBxX,SAAkBhL,EAAI4G,MACjD,oBACA,CACEm9C,SAAU/J,GACVx3B,UAAW,QACXxX,QAASqG,KAGbyyC,EAAO94C,EACP+4C,EAASnoD,OAAOV,GAAMyV,cAAcC,EAAW4R,IAAaxX,KAG9DhL,EAAIyF,GAAG,UAAW,KAChBu0C,GAASgK,uBAAuBF,MuBdlClzC,CADsB5Q,GDeXA,ICbX0Z,GAAW1Z,IpBwHGA,KACdA,EAAIyF,GAAG,OAAQ,IAAM,KACnBzF,EAAIusB,eAAiBwvB,GAAc,CAAE/7C,QACrCA,EAAI8V,eAAiBA,MoB1HvBrH,CAAYzO,ICbEA,KACTA,EAAIsB,IAAGtB,EAAIsB,EAAKR,GAASA,GA2F9Bd,EAAIyF,GAAG,QAAS,KAzFhB,SAASs7C,IACF70C,SAASjP,MAKV+C,EAAI+O,SAASid,OAAO7X,QAAQC,IAAIpU,GAEpCA,EAAIkX,YAAc,CAAC/S,EAAQ5F,EAAU1B,KACnC,IAAKsH,EAAQ,MAAO,GACpB,SAASmgB,EAAU9qB,GACjB,OAAOA,EAAIqB,QAAQ,oBAAqB,CAACsD,EAAKC,IACrCG,EAASH,EAAGvD,QAAQ,KAAMgC,KAGrC,MAAMonD,EAAe,CAAEz7B,KAAM,IAE7B,IAAK,MAAMlsB,KAAQ6H,EAAQ,CACzB,MAAM4uB,EAAY,GACZE,EAAc9uB,EAAO7H,GAAM02B,IACjC,IAAK,MAAMpuB,KAAKquB,EACdF,EAAUzO,EAAU2O,EAAYruB,GAAG,KAAO0f,EACxC2O,EAAYruB,GAAG,IAEnBq/C,EAAaz7B,KAAKxmB,KAAK+wB,GAEzB,OAAOkxB,GAGTjkD,EAAIC,WAAa,MACf,MAAMikD,EAAS,GACf,MAAO,CACL7jD,IAAK,SAAUu4B,EAAKp9B,EAAOY,GACzB,GAAa,aAATA,EAAqB,OAEzB,MAAMgzB,EAAM9lB,OAAO0U,SAASlgB,SACtB6D,EAAK3B,EAAImkD,UAAUvrB,EAAI5vB,SAChB,gBAAT5M,GAKC8nD,EAAO90B,KAAM80B,EAAO90B,GAAO,IAEhC80B,EAAO90B,GAAKztB,GAAMnG,GANhB0oD,EAAOviD,GAAMnG,GAQjB0E,IAAK,SAAU04B,EAAKx8B,GAClB,GAAa,aAATA,EAAqB,OAAO,KAEhC,MAAMuF,EAAK3B,EAAImkD,UAAUvrB,EAAI5vB,SAC7B,GAAa,gBAAT5M,EAAwB,OAAO8nD,EAAOviD,GAE1C,MAAMytB,EAAM9lB,OAAO0U,SAASlgB,SAE5B,OAAKomD,EAAO90B,SAA4B9pB,IAApB4+C,EAAO90B,GAAKztB,GACzBuiD,EAAO90B,GAAKztB,GADuC,QAzB/C,GA+BjB3B,EAAImkD,UAAan5C,IACf,IAAKA,EAAS,OAAO,KACrB,MAAMnO,EAAO,GACb,IAAK,IAAI+H,EAAI,EAAGA,EAAI,KAAOoG,EAAQ8c,cAAeljB,IAAK,CACrD,IAAK,IAAItI,EAAO,EAAGA,EAAO0O,EAAQ8c,cAAc/rB,SAAS6C,OAAQtC,IAC3D0O,EAAQ8c,cAAc/rB,SAASO,KAAU0O,GAC3CnO,EAAKunD,QAAS,GAAE9nD,KAAQ0O,EAAQq5C,WACpCr5C,EAAUA,EAAQ8c,cAEpB,OAAOjrB,EAAK5C,KAAK,MAGnBiS,SAASa,iBACP,UACCtB,IAEiB,KAAdA,EAAE64C,UACD3gD,UAAU4gD,SAASrmD,MAAM,OAASuN,EAAE8B,QAAU9B,EAAE+B,WAEjD/B,EAAEwB,iBACFjN,EAAI4G,MAAM,wBAGd,GAGF5G,EAAI4G,MAAM,WApFR0C,OAAO44C,OAASnB,MDSpByD,CAAKxkD,IACLgX,GAAShX,IEhBKA,KACdA,EAAIu6B,QAAUv6B,EAAI8H,gBAChB,GACA,CACE,UACA,UACA,aACA,aACA,aACA,gBACA,UACA,UACA,aACA,mBAEF,WAGF9H,EAAIu6B,QAAQ90B,GAAG,UAAWiB,UACxB,IAAIlN,EAAM8P,OAAOm7C,aAAajqB,QAAQ1tB,EAAKnL,IAE3C,GAAInI,IAAS,cAAasT,EAAKnL,GAAM,CACnC,MAAM+iD,QAAoBC,OAAO9e,KAAK,UACtCrsC,QAAYkrD,EAAYxmD,MAAM1E,GAAK6S,KAAMu4C,GAAQA,EAAIvJ,QAEvD,MAAO,IACFvuC,EACHpO,OAAOlF,GAAmB,MAAXA,EAAI,IAAyB,MAAXA,EAAI,GAAgCA,EAAlBsK,KAAKC,MAAMvK,MAIlEwG,EAAIu6B,QAAQ90B,GAAG,UAAWiB,OAAS/E,KAAIjD,YACrCA,EAAyB,kBAAVA,EAAqBA,EAAQoF,KAAK6H,UAAUjN,GAE3D,IACE4K,OAAOm7C,aAAa/pB,QAAQ/4B,EAAIjD,GAChC,MAAO+M,GACP,MAAMi5C,QAAoBC,OAAO9e,KAAK,UACtC,GAAe,KAAXp6B,EAAEo5C,KAAa,aAEbH,EAAYI,IACf,cAAanjD,EACd,IAAIojD,SAASrmD,EAAO,CAClB6hC,OAAQ,IACRykB,WAAY,UACZC,QAAS,IAAIC,QAAQ,CACnB,eAAiB,mBACjBzI,KAAM,IAAItiD,KACVgrD,KAAM,cAIZ77C,OAAOm7C,aAAa/pB,QAAQ/4B,EAAK,cAAaA,MAIlD,MAAM4E,EAAQ,GACdvG,EAAIu6B,QAAQ90B,GAAG,kBAAmB,EAAG9D,KAAIjD,QAAO00B,YAC9C5sB,aAAaD,EAAM5E,IACnB4E,EAAM5E,GAAM8E,WAAW,YACdF,EAAM5E,GACb3B,EAAIu6B,QAAQG,QAAQ,CAAE/4B,KAAIjD,WACzB00B,KAGLpzB,EAAIu6B,QAAQ90B,GAAG,aAAc,EAAG9D,SAC9B2H,OAAOm7C,aAAanD,WAAW3/C,KAGjC,MAAMyjD,EAAW,GAEjBplD,EAAIu6B,QAAQ90B,GAAG,aAAeqH,GAC5B/S,OAAOukD,OAAOxxC,EAAM,CAAEpO,MAAO0mD,EAASt4C,EAAKnL,OAG7C3B,EAAIu6B,QAAQ90B,GAAG,aAAc,EAAG9D,KAAIjD,YAClC0mD,EAASzjD,GAAMjD,IAGjBsB,EAAIu6B,QAAQ90B,GAAG,gBAAiB,EAAG9D,gBAC1ByjD,EAASzjD,MF/DlB0jD,CAAKrlD,IGjBSA,KACV,kBAAmB2D,WACrB2F,OAAOyD,iBAAiB,OAAQ,KAC9BpJ,UAAU2hD,cAAcC,SAAS,6BAA6Bl5C,KAC3Dm5C,IACCrxC,QAAQC,IAAI,yCACZoxC,EAAajzC,UAEd8C,IACClB,QAAQC,IAAI,sCAAuCiB,OAK3D,IAAIowC,GAAiB,EAErBn8C,OAAOyD,iBAAiB,sBAAwBtB,IAC9Cg6C,EAAiBh6C,IAGnBzL,EAAIyF,GAAG,mBAAoB,MACzB4yB,cAAeotB,KAGjBzlD,EAAIyF,GAAG,gBAAiB,KACjBggD,IAELA,EAAeC,SAEfD,EAAeE,WAAWt5C,KAAMu5C,IACD,aAAzBA,EAAaC,QACf1xC,QAAQC,IAAI,oCACTD,QAAQC,IAAI,0CAIrB,MAAM0xC,EAAgB,gCACtB9lD,EAAIyF,GAAG,gBAAiB,MACtBgzB,YAAaqtB,EAAcpiB,KACzB,IAAIx3B,SAASjP,KAAKlB,UACfG,IAAK+qC,GAAUA,EAAMvP,KACrBxb,KAAMwb,GAAQouB,EAAcznD,KAAKq5B,MACjC,IAAI,MAGX13B,EAAIyF,GAAG,sBAAuB,KAC5B6D,OAAOm7C,aAAasB,QACpBz8C,OAAOq7C,OAAOtkC,OAAO,UAAUhU,KAAK,KAClC/C,OAAO0U,SAASuP,aAGpBvtB,EAAIyF,GAAG,QAAS,IAAK,KACnBzF,EAAI0Z,WAAWjU,GAAG,aAAc,EAAG+T,gBAC5BA,GAELxZ,EAAI0Z,WACDmI,KAAK,CAAEzlB,KAAM,kBACbiQ,KAAK3F,OAAS+xB,iBACb,MAAQA,WAAYutB,SAA2BhmD,EAAI4G,MACjD,iBAEFuN,QAAQC,IAAI,aAAc,CAAE4xC,mBAAkBvtB,eAE3CutB,GACAvtB,GACDutB,IAAqBvtB,EAM6B,SAAhDnvB,OAAOm7C,aAAajqB,QAAQ,kBAEhClxB,OAAOm7C,aAAa/pB,QAAQ,eAAgB,QAE5CpxB,OAAOq7C,OAAOtkC,OAAO,UAAUhU,KAAK,KAClC/C,OAAO0U,SAASuP,YAThBjkB,OAAOm7C,aAAa/pB,QAAQ,eAAgB,eActDj0B,WAAW,KACT6C,OAAOm7C,aAAa/pB,QAAQ,eAAgB,UAC3C,MHjEHurB,CAAIjmD,IIlBUA,KAmCdA,EAAIkmD,SAAY92B,IAEd,MAAM9U,EAAM,GACNH,GAFNiV,EAAMA,EAAIv0B,QAAQ,qBAAsB,KAEpBmG,MAAM,KAC1B,IAAIsL,EAAQ6N,EAAQ,GAAGnZ,MAAM,SAC7BsZ,EAAIzd,KAAOyP,EAAM,GAAGtL,MAAM,KAC1BsZ,EAAIid,OAASjd,EAAIzd,KAAKif,QACtBxB,EAAIhO,MAAQ,GAEZgO,EAAIH,QAAUA,EAAQ,GACtB7N,IAAQA,EAAM,IAAKA,EAAM,GAAGtL,MAAM,KAElC,IAAK,MAAM4D,KAAK0H,EAAO,CACrB,MAAM65C,EAAQ75C,EAAM1H,GAAG5D,MAAM,KAE7BsZ,EAAIhO,MAAM65C,EAAM,IAAMA,EAAM,GAE9B,OAAO7rC,IJjCT+G,CAAOrhB,IKjBMA,KACbomD,GAASpmD,GAET,MAAMqmD,EAAcC,IAAK,CACvBlL,OAAQ,OACRn+C,KAAM6G,KAAK6H,UAAU,CAAE26C,YAGzBtmD,EAAIyF,GAAG,SAAU,IAAK,EAAG6gD,YAClBA,GACLnL,MAAM,SAAUkL,EAAYC,MAG9BtmD,EAAIyF,GAAG,UAAW,IAAK,EAAG6gD,YACnBA,GACLnL,MAAM,UAAWkL,EAAYC,OLG/BzgD,CAAQ7F,IACRklC,GAASllC,IDOXA,GAAIyF,GAAG,OAAQ,KACbzF,GAAIumD,QAAS,IAGA,WAAMvmD,GACrBA,GAAI4G,MAAM,QAAQyF,KAAK,IAAMrM,GAAI4G,MAAM,Y","file":"static/js/main.01270e67.chunk.js","sourcesContent":["\"use strict\";\r\n\r\nconst typeByFormat = {\r\n  \"YYYY-MM-DD\": new Intl.DateTimeFormat(\"sv-SE\", {\r\n    year: \"numeric\",\r\n    month: \"numeric\",\r\n    day: \"numeric\",\r\n  }),\r\n  \"YYYY-MM-DD HH:mm\": new Intl.DateTimeFormat(\"sv-SE\", {\r\n    year: \"numeric\",\r\n    month: \"numeric\",\r\n    day: \"numeric\",\r\n    hour: \"numeric\",\r\n    minute: \"numeric\",\r\n  }),\r\n  \"HH:mm\": new Intl.DateTimeFormat(\"sv-SE\", {\r\n    hour: \"numeric\",\r\n    minute: \"numeric\",\r\n  }),\r\n  \"H:mm\": new Intl.DateTimeFormat(\"sv-SE\", {\r\n    hour: \"numeric\",\r\n    minute: \"numeric\",\r\n  }),\r\n  YYYY: new Intl.DateTimeFormat(\"sv-SE\", { year: \"numeric\" }),\r\n  YY: new Intl.DateTimeFormat(\"sv-SE\", { year: \"2-digit\" }),\r\n  MM: new Intl.DateTimeFormat(\"sv-SE\", { month: \"2-digit\" }),\r\n  DD: new Intl.DateTimeFormat(\"sv-SE\", { day: \"2-digit\" }),\r\n  M: new Intl.DateTimeFormat(\"sv-SE\", { month: \"numeric\" }),\r\n  D: new Intl.DateTimeFormat(\"sv-SE\", { day: \"numeric\" }),\r\n  HH: new Intl.DateTimeFormat(\"sv-SE\", { hour: \"2-digit\" }),\r\n  mm: {\r\n    format: (at) => {\r\n      const val = new Intl.DateTimeFormat(\"sv-SE\", {\r\n        minute: \"2-digit\",\r\n      }).format(at);\r\n\r\n      return val < 10 ? `0${val}` : val;\r\n    },\r\n  },\r\n  H: new Intl.DateTimeFormat(\"sv-SE\", { hour: \"numeric\" }),\r\n  m: new Intl.DateTimeFormat(\"sv-SE\", { minute: \"numeric\" }),\r\n  dddd: new Intl.DateTimeFormat(\"en-GB\", { weekday: \"long\" }),\r\n};\r\n\r\nconst finderRegExp = new RegExp(Object.keys(typeByFormat).join(\"|\"), \"gi\");\r\nconst replacer = (at) => (format) => typeByFormat[format]?.format(at);\r\n\r\nconst myMoment = (val) => {\r\n  const at = new Date(val || Date.now());\r\n\r\n  return {\r\n    startOf: (isUTC) =>\r\n      myMoment(\r\n        (isUTC ? Date.UTC : Date)(at.getFullYear(), at.getMonth(), at.getDate())\r\n      ),\r\n    valueOf: () => at.getTime(),\r\n    format: (format) => {\r\n      if (!typeByFormat[format])\r\n        return format.replace(finderRegExp, replacer(at));\r\n\r\n      return typeByFormat[format].format(at);\r\n    },\r\n  };\r\n};\r\n\r\nmodule.exports = myMoment;\r\n\r\n/*\r\n\r\nInput\tExample\tDescription\r\nYYYY\t2014\t4 or 2 digit year. Note: Only 4 digit can be parsed on strict mode\r\nYY\t14\t2 digit year\r\nY\t-25\tYear with any number of digits and sign\r\nQ\t1..4\tQuarter of year. Sets month to first month in quarter.\r\nM MM\t1..12\tMonth number\r\nMMM MMMM\tJan..December\tMonth name in locale set by moment.locale()\r\nD DD\t1..31\tDay of month\r\nDo\t1st..31st\tDay of month with ordinal\r\nDDD DDDD\t1..365\tDay of year\r\nX\t1410715640.579\tUnix timestamp\r\nx\t1410715640579\tUnix ms timestamp\r\n\r\nhttps://devhints.io/wip/intl-datetime\r\nhttps://momentjscom.readthedocs.io/en/latest/moment/04-displaying/02-fromnow/\r\n\r\nconst dateTimeFormats = {\r\n  dateLong: \"YYYY-MM-DD\",\r\n  timeLong: \"H:mm\",\r\n  dateTimeLong: \"YYYY-MM-DD HH:mm\",\r\n  dateTimeNoYear: \"D/M H:mm\",\r\n  dateTimeNoYearDay: \"ddd D/M H:mm\",\r\n  dateNoYearDay: \"ddd D/M\",\r\n  timeDay: \"ddd D/M H:mm\",\r\n  day: \"dddd\",\r\n};\r\n\r\n{\r\n  weekday: 'narrow' | 'short' | 'long',\r\n  era: 'narrow' | 'short' | 'long',\r\n  year: 'numeric' | '2-digit',\r\n  month: 'numeric' | '2-digit' | 'narrow' | 'short' | 'long',\r\n  day: 'numeric' | '2-digit',\r\n  hour: 'numeric' | '2-digit',\r\n  minute: 'numeric' | '2-digit',\r\n  second: 'numeric' | '2-digit',\r\n  timeZoneName: 'short' | 'long',\r\n\r\n  // Time zone to express it in\r\n  timeZone: 'Asia/Shanghai',\r\n  // Force 12-hour or 24-hour\r\n  hour12: true | false,\r\n\r\n  // Rarely-used options\r\n  hourCycle: 'h11' | 'h12' | 'h23' | 'h24',\r\n  formatMatcher: 'basic' | 'best fit'\r\n}\r\n*/\r\n","import React from \"react\";\r\nimport { Button } from \"nystem-components\";\r\n\r\nclass BootstrapDropdown extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      expanded: this.props.expanded\r\n    };\r\n  }\r\n  toggleExpand() {\r\n    this.setState({\r\n      expanded: !this.state.expanded\r\n    });\r\n  }\r\n  render() {\r\n    function headerContent() {\r\n      return <div />;\r\n    }\r\n    const self = this;\r\n    const headerProps = this.props.children[0].props;\r\n    const headerChildren =\r\n      headerProps.children instanceof Array\r\n        ? headerProps.children.map(headerContent)\r\n        : headerProps.children;\r\n    let typeClass = this.props.type ? this.props.type : \"\";\r\n    if (!headerProps) return null;\r\n    function menuItem(item) {\r\n      return <li>{item}</li>;\r\n    }\r\n    function bodyContent() {\r\n      if (self.state.expanded)\r\n        return (\r\n          <ul className=\"dropdown-menu\" role=\"menu\">\r\n            {self.props.children.slice(1).map(menuItem)}\r\n          </ul>\r\n        );\r\n      return \"\";\r\n    }\r\n    if (this.props.className) typeClass += ` ${this.props.className}`;\r\n    if (this.state.expanded) typeClass += \" open\";\r\n    return (\r\n      <div className={`btn-group${typeClass}`}>\r\n        <Button type=\"secondary\" onClick={this.toggleExpand}>\r\n          {headerChildren} <span className=\"caret\" />\r\n        </Button>\r\n        {bodyContent()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default BootstrapDropdown;\r\n","import React from \"react\";\r\nimport { InputWrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst BootstrapInputWrapper = ({ model, path }) => {\r\n  const { item } = model;\r\n\r\n  return (\r\n    <InputWrapper model={model}>\r\n      <ContentTypeRender path={path} items={item} />\r\n    </InputWrapper>\r\n  );\r\n};\r\nexport default BootstrapInputWrapper;\r\n","import React from \"react\";\r\nimport { Panel, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst BootstrapPanel = ({ model, path }) => {\r\n  const { item, header, typeClass } = model;\r\n\r\n  return (\r\n    <Panel\r\n      {...model}\r\n      type={typeClass}\r\n      header={<ContentTypeRender path={path} items={header} />}\r\n      body={<ContentTypeRender path={path} items={item} />}\r\n    />\r\n  );\r\n};\r\nexport default BootstrapPanel;\r\n","import React, { useContext } from \"react\";\r\nimport { Icon, PanelContext } from \"nystem-components\";\r\n\r\nconst BootstrapPanelIcon = ({ model }) => {\r\n  const { className, iconOpen, iconClosed } = model;\r\n  const { expanded } = useContext(PanelContext);\r\n\r\n  return (\r\n    <Icon\r\n      icon={\r\n        expanded ? iconOpen || \"cheveron-down\" : iconClosed || \"cheveron-right\"\r\n      }\r\n      className={className || \"w-6 h-6 pl-0 pointer\"}\r\n    />\r\n  );\r\n};\r\nexport default BootstrapPanelIcon;\r\n","import React, { useContext } from \"react\";\r\nimport { Wrapper, ContentTypeRender, PanelContext } from \"nystem-components\";\r\n\r\nconst classNames = (className) =>\r\n  !className ? [] : className instanceof Array ? className : [className];\r\n\r\nconst BootstrapPanelOpen = ({ model, path, children }) => {\r\n  const { className, item, classNameOpen, classNameClosed } = model;\r\n  const { expanded } = useContext(PanelContext);\r\n\r\n  return (\r\n    <Wrapper\r\n      className={[\r\n        ...classNames(className),\r\n        ...(expanded ? classNames(classNameOpen) : classNames(classNameClosed)),\r\n      ]}\r\n    >\r\n      {children || <ContentTypeRender path={path} items={item} />}\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default BootstrapPanelOpen;\r\n","import { useEffect, useContext } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { PanelContext } from \"nystem-components\";\r\n\r\nconst BootstrapPanelOpenByPath = ({ model, path, view }) => {\r\n  const { toggleExpand, expanded } = useContext(PanelContext);\r\n  const { pathname } = useLocation();\r\n\r\n  useEffect(() => {\r\n    const insertVal = (val) =>\r\n      val &&\r\n      val.replace(/\\{([a-z_.0-9]+)\\}/gim, (str, p1) =>\r\n        /pathItem[0-9]/.test(p1) && view.params\r\n          ? view.params[p1[8]]\r\n          : view.getValue(p1.replace(\"..\", path))\r\n      );\r\n\r\n    let setExpanded = pathname.match(new RegExp(insertVal(model.match)));\r\n    if (model.invert) setExpanded = !setExpanded;\r\n\r\n    if (setExpanded && !expanded) toggleExpand(setExpanded);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [pathname]);\r\n\r\n  return null;\r\n};\r\n\r\nexport default BootstrapPanelOpenByPath;\r\n","import { useEffect, useContext } from \"react\";\r\nimport { PanelContext } from \"nystem-components\";\r\n\r\nconst BootstrapPanelOpenByValue = ({ model, view, path }) => {\r\n  const { toggleExpand, expanded } = useContext(PanelContext);\r\n\r\n  useEffect(() => {\r\n    const value = view.getValue(path);\r\n\r\n    if (model.keyCount || model.keyCount === 0) {\r\n      let setExpanded =\r\n        Object.keys(view.getValue(path)).length > model.keyCount;\r\n      if (model.invert) setExpanded = !setExpanded;\r\n\r\n      if (setExpanded && !expanded) toggleExpand(setExpanded);\r\n    } else {\r\n      const [[key, val]] = model.condition;\r\n      let setExpanded = value[key] === val;\r\n      if (val === \"false\") setExpanded = !val;\r\n      else if (val === \"true\") setExpanded = !!val;\r\n\r\n      if (model.invert) setExpanded = !setExpanded;\r\n\r\n      if (setExpanded && !expanded) toggleExpand(setExpanded);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [model]);\r\n\r\n  return null;\r\n};\r\n\r\nexport default BootstrapPanelOpenByValue;\r\n","import React, { useContext } from \"react\";\r\nimport {\r\n  Wrapper,\r\n  ContentTypeRender,\r\n  Icon,\r\n  PanelContext,\r\n} from \"nystem-components\";\r\n\r\nconst addClick = (doFunction) => ({\r\n  onClick: doFunction,\r\n  role: \"button\",\r\n  tabIndex: \"0\",\r\n});\r\n\r\nconst BootstrapPanelToggle = ({ model, path, children }) => {\r\n  const { className, item } = model;\r\n  const { toggleExpand, expanded } = useContext(PanelContext);\r\n\r\n  return (\r\n    <Wrapper className={className} {...addClick(toggleExpand)}>\r\n      {model.icon && (\r\n        <Icon\r\n          icon={expanded ? \"cheveron-down\" : \"cheveron-right\"}\r\n          className={model.iconClassName || \"w-6 h-6 pl-0 pointer\"}\r\n        />\r\n      )}\r\n      {children || <ContentTypeRender path={path} items={item} />}\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default BootstrapPanelToggle;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst BootstrapView = ({ model, path }) => {\r\n  const { className, renderAs, item } = model;\r\n\r\n  return (\r\n    <Wrapper className={className} renderAs={renderAs}>\r\n      <ContentTypeRender path={path} items={item} />\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default BootstrapView;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { Wrapper, PanelContext } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst types = {\r\n  default: {\r\n    wrapper: \"mb-3 border shadow rounded\",\r\n    body: \"p-3\",\r\n    header: \"bg-gray-200 pointer p-1 pl-3\",\r\n  },\r\n  primary: {\r\n    wrapper: \"mb-3 border shadow rounded bg-blue-600 border-blue-600\",\r\n    body: \"p-3 bg-white rounded\",\r\n    header: \"text-white pointer p-1 pl-3\",\r\n  },\r\n  defaultWithoutPadding: {\r\n    wrapper: \"mb-3 border shadow rounded\",\r\n    body: \"\",\r\n    header: \"bg-gray-200 pointer pl-2 pr-1\",\r\n  },\r\n  compact: {\r\n    wrapper: \"mb-1\",\r\n    body: \"pl-3\",\r\n    header: \"\",\r\n  },\r\n};\r\n\r\nconst Panel = ({ body, header, className, ...props }) => {\r\n  const [expanded, setSexpanded] = useState(props.expanded);\r\n  const panelElement = useRef(null);\r\n\r\n  const toggleExpand = () => {\r\n    setSexpanded(!expanded);\r\n    app().stateStore.set(panelElement, !expanded, props.stateStore);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const storedState = app().stateStore.get(panelElement, props.stateStore);\r\n    if (storedState === null || storedState === expanded) return;\r\n    setSexpanded(storedState);\r\n  }, [expanded, props.stateStore]);\r\n\r\n  const type = types[props.type || \"default\"];\r\n\r\n  return (\r\n    <Wrapper ref={panelElement} className={[type.wrapper, className]}>\r\n      <Wrapper className={type.header}>\r\n        <PanelContext.Provider value={{ toggleExpand, expanded }}>\r\n          {header}\r\n        </PanelContext.Provider>\r\n      </Wrapper>\r\n      {expanded ? (\r\n        <Wrapper className={type.body}>{body}</Wrapper>\r\n      ) : props.visibilityHidden ? (\r\n        <Wrapper className={[type.body, \"hidden\"]}>{body}</Wrapper>\r\n      ) : null}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Panel;\r\n","import React from \"react\";\r\n\r\nconst PanelContext = React.createContext();\r\nexport default PanelContext;\r\n","import React from \"react\";\r\nimport { Panel, Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst ViewPanelView = ({ model, path }) => {\r\n  const {\r\n    onClickExpand,\r\n    classNameHead,\r\n    item,\r\n    header,\r\n    typeClass,\r\n    ...panelProps\r\n  } = model;\r\n\r\n  return (\r\n    <Panel {...panelProps} type={typeClass}>\r\n      <Wrapper\r\n        renderAs=\"h3\"\r\n        onClickExpand={onClickExpand}\r\n        className={classNameHead}\r\n      >\r\n        <ContentTypeRender path={path} items={header || []} />\r\n      </Wrapper>\r\n      <ContentTypeRender path={path} items={item || []} />\r\n    </Panel>\r\n  );\r\n};\r\nexport default ViewPanelView;\r\n","import React from \"react\";\r\nimport { Button, Icon } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst classNames = (className) =>\r\n  !className ? [] : className instanceof Array ? className : [className];\r\n\r\nconst BooleanButton = ({ setValue, model, value }) => {\r\n  const [text, className = []] = (value\r\n    ? model.text\r\n    : model.falseText || model.text\r\n  ).split(\":\");\r\n\r\n  return (\r\n    <Button\r\n      type={value ? model.btnType : model.falseBtnType}\r\n      size={model.size}\r\n      className={[...classNames(className), ...classNames(model.className)]}\r\n      onClick={() => setValue(!value)}\r\n    >\r\n      {[\r\n        \"code\",\r\n        \"pause\",\r\n        \"play\",\r\n        \"folder\",\r\n        \"cog\",\r\n        \"wallet\",\r\n        \"location\",\r\n      ].includes(text) ? (\r\n        <Icon className=\"w-4 h-4\" icon={text} alt={text} />\r\n      ) : (\r\n        app().t(text)\r\n      )}\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default BooleanButton;\r\n","import React from \"react\";\r\nimport { SelectInput, UseSearch, RouterUseQueryStore } from \"nystem-components\";\r\n\r\nconst BooleanExposedField = ({ model, view }) => {\r\n  const [value, setValue] = RouterUseQueryStore(model.saveId);\r\n  UseSearch({ view, id: model.id, value });\r\n  const { hideTrue, trueText, hideFalse, falseText } = model;\r\n\r\n  const option = [];\r\n\r\n  if (!hideFalse)\r\n    option.push({\r\n      _id: \"false\",\r\n      text: falseText || \"False\",\r\n    });\r\n  if (!hideTrue)\r\n    option.push({\r\n      _id: \"true\",\r\n      text: trueText || \"True\",\r\n    });\r\n\r\n  return (\r\n    <SelectInput\r\n      view={view}\r\n      model={{\r\n        ...model,\r\n        clearButton: true,\r\n        selectAllOnFocus: true,\r\n        option,\r\n        limit: 1,\r\n      }}\r\n      value={value}\r\n      setValue={setValue}\r\n    />\r\n  );\r\n};\r\nexport default BooleanExposedField;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst BooleanFields = ({ setValue, model, value, path = \"\" }) => {\r\n  const { itemTrue, itemFalse, className } = model;\r\n  return (\r\n    <Wrapper className={className} onClick={() => setValue(!value)}>\r\n      <ContentTypeRender\r\n        path={path.replace(model.id, \"\")}\r\n        items={value ? itemTrue : itemFalse}\r\n      />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default BooleanFields;\r\n","// eslint-disable-next-line camelcase\r\nconst text_mandatory = \"Field is mandatory\";\r\n\r\nexport default ({ value, model }) =>\r\n  // eslint-disable-next-line camelcase\r\n  model.mandatory && !value && (model.text_mandatory || text_mandatory);\r\n","import React, { useState } from \"react\";\r\nimport { InputWrapper, Input, Button, UseValidator } from \"nystem-components\";\r\nimport app from \"nystem\";\r\nimport validate from \"./validate\";\r\n\r\nconst BooleanInput = ({ model, setValue, value, view, render }) => {\r\n  const [error, setValidated] = UseValidator({ view, validate, value, model });\r\n  const [id] = useState(app().uuid);\r\n\r\n  const handleChangeButton = () => {\r\n    setValidated(true);\r\n    setValue(!value);\r\n  };\r\n\r\n  if (model.render === \"button\" || render === \"button\")\r\n    return (\r\n      <Button\r\n        type={value ? \"primary\" : \"secondary\"}\r\n        className={model.className}\r\n        onClick={handleChangeButton}\r\n        size=\"xs\"\r\n      >\r\n        {model.text}\r\n      </Button>\r\n    );\r\n\r\n  return (\r\n    <InputWrapper id={id} model={model} error={error}>\r\n      <Input\r\n        id={id}\r\n        className={model.classNameInput}\r\n        placeholder={model.text}\r\n        checked={value || false}\r\n        onChange={() => setValue(!value)}\r\n        disabled={model.disabled}\r\n        type=\"checkbox\"\r\n      />\r\n    </InputWrapper>\r\n  );\r\n};\r\n\r\nexport default BooleanInput;\r\n","import React from \"react\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nconst BooleanName = ({ model, value }) =>\r\n  value ? <Wrapper className={model.className}>{model.text}</Wrapper> : null;\r\n\r\nexport default BooleanName;\r\n","import React from \"react\";\r\n\r\nclass BooleanVibrate extends React.Component {\r\n  // eslint-disable-next-line camelcase\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (this.props.value !== nextProps.value) this.vibrate(nextProps);\r\n  }\r\n  componentDidMount() {\r\n    this.vibrate(this.props);\r\n  }\r\n  vibrate(props) {\r\n    if (!navigator.vibrate) return;\r\n    const { atState, pattern } = props.model;\r\n    if (props.value === atState)\r\n      navigator.vibrate(pattern ? JSON.parse(pattern) : 300);\r\n  }\r\n  render() {\r\n    return null;\r\n  }\r\n}\r\nexport default BooleanVibrate;\r\n","import React from \"react\";\r\nimport { Icon } from \"nystem-components\";\r\n\r\nconst BooleanView = ({ model, value }) =>\r\n  value ? <Icon className={model.className} type=\"checkmark\" /> : null;\r\n\r\nexport default BooleanView;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst isset = (val) => !!val && !(val instanceof Array && val.length === 0);\r\nconst isSetRecursive = (value) => {\r\n  if (typeof value === \"object\")\r\n    return Object.values(value)\r\n      .map((value) => isSetRecursive(value))\r\n      .filter((val) => val).length;\r\n\r\n  return isset(value);\r\n};\r\n\r\nconst ConditionalEmpty = ({ model, path, view }) => {\r\n  const { className, renderAs, item, invert, checkId } = model;\r\n\r\n  const empty = !isSetRecursive(view.getValue(checkId));\r\n\r\n  if ((empty && !invert) || (!empty && invert))\r\n    return (\r\n      <Wrapper className={className} renderAs={renderAs}>\r\n        <ContentTypeRender path={path} items={item} />\r\n      </Wrapper>\r\n    );\r\n\r\n  return null;\r\n};\r\nexport default ConditionalEmpty;\r\n","import React, { useCallback } from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst byType = {\r\n  \"<\": (v1, v2) => v1 < v2,\r\n  \">\": (v1, v2) => v1 > v2,\r\n  \"<=\": (v1, v2) => v1 <= v2,\r\n  \">=\": (v1, v2) => v1 >= v2,\r\n};\r\n\r\nconst ConditionalInt = ({ view, model, path }) => {\r\n  const testCondition = useCallback(() => {\r\n    const { condition } = model;\r\n    for (let i = 0; i < condition.length; i++) {\r\n      const [field, test] = condition[i];\r\n      const val = view.getValue(field);\r\n\r\n      const [, type, testVal] = test.match(/([<>=]{1,2})(.+)/im) || [];\r\n      if (byType[type](parseFloat(val), parseFloat(testVal))) return true;\r\n    }\r\n    return false;\r\n  }, [model, view]);\r\n\r\n  if (testCondition())\r\n    return (\r\n      <Wrapper className={model.className}>\r\n        <ContentTypeRender path={path} items={model.item} />\r\n      </Wrapper>\r\n    );\r\n  return null;\r\n};\r\n\r\nexport default ConditionalInt;\r\n","import { useEffect } from \"react\";\r\n\r\nconst isset = (val) => !!val && !(val instanceof Array && val.length === 0);\r\n\r\nconst ConditionalSet = ({ view, model, value }) => {\r\n  useEffect(() => {\r\n    const testCondition = (id, value) => {\r\n      const val = view.getValue(id);\r\n      if (value === \"false\") return !isset(val);\r\n      if (value === \"true\") return isset(val);\r\n\r\n      const reverse = value[0] === \"!\";\r\n      if (reverse) value = value.substring(1);\r\n      value = new RegExp(`^${value}$`, \"i\");\r\n      if (value.test(val)) {\r\n        if (!reverse) return true;\r\n      } else if (reverse) return true;\r\n    };\r\n\r\n    const onChange = ({ id }) => {\r\n      const { setId, condId, condVal } = model;\r\n      let { setValue } = model;\r\n      if (setValue === \"false\") setValue = false;\r\n      if (setValue === \"true\") setValue = true;\r\n      if (setValue === \"undefined\") setValue = undefined;\r\n\r\n      if (\r\n        id === condId &&\r\n        testCondition(condId, condVal) &&\r\n        view.getValue(setId) !== setValue\r\n      )\r\n        view.setValue({ path: setId, value: setValue });\r\n    };\r\n\r\n    view.on(\"change\", -1000, onChange);\r\n    return () => {\r\n      view.off(\"change\", onChange);\r\n    };\r\n  }, [model, value, view]);\r\n\r\n  return null;\r\n};\r\n\r\nexport default ConditionalSet;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nclass ConditionalUserRole extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.view = props.view;\r\n    const state = {\r\n      value: props.value\r\n    };\r\n    state.visible = app().session.user\r\n      ? this.contains(app().session.user.role, this.model.role)\r\n      : false;\r\n    this.state = state;\r\n  }\r\n  contains(array1, array2) {\r\n    if (typeof array1 === \"string\") array1 = [array1];\r\n    if (typeof array2 === \"string\") array2 = [array2];\r\n\r\n    for (let i = 0; i < array1.length; i++)\r\n      if (array2.indexOf(array1[i]) !== -1) return true;\r\n\r\n    return false;\r\n  }\r\n  render() {\r\n    const className = this.props.model.className\r\n      ? this.props.model.className.join(\" \")\r\n      : \"\";\r\n    if (this.state.visible)\r\n      return (\r\n        <Wrapper className={className}>\r\n          {this.model.item.map(this.props.view.createItem, this)}\r\n        </Wrapper>\r\n      );\r\n    return null;\r\n  }\r\n}\r\nexport default ConditionalUserRole;\r\n","/* eslint-disable no-continue */\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst ConditionalValid = ({ view, model, path }) => {\r\n  const [valid, setValid] = useState(false);\r\n\r\n  useEffect(() => {\r\n    let timer;\r\n\r\n    const onChange = () => {\r\n      clearTimeout(timer);\r\n\r\n      timer = setTimeout(async () => {\r\n        const { errors = [] } = await view.event(\"validate\", { silent: true });\r\n\r\n        setValid(!errors.length);\r\n      }, 100);\r\n    };\r\n\r\n    view.on(\"change\", onChange);\r\n    return () => {\r\n      view.off(\"change\", onChange);\r\n    };\r\n  }, [view]);\r\n\r\n  if (valid)\r\n    return (\r\n      <Wrapper className={model.className}>\r\n        <ContentTypeRender path={path} items={model.item} />\r\n      </Wrapper>\r\n    );\r\n  return null;\r\n};\r\n\r\nexport default ConditionalValid;\r\n","/* eslint-disable no-continue */\r\nimport React, { useCallback } from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst isset = (val) => !!val && !(val instanceof Array && val.length === 0);\r\n\r\nconst ConditionalView = ({ view, model, path }) => {\r\n  const testCondition = useCallback(() => {\r\n    const { condition } = model;\r\n    for (let i = 0; i < condition.length; i++) {\r\n      const id = condition[i][0].replace(/^\\./i, `${path}.`);\r\n      const val = view.getValue(id);\r\n\r\n      let test = condition[i][1];\r\n\r\n      if (test === \"false\") {\r\n        if (!isset(val)) return true;\r\n        continue;\r\n      }\r\n\r\n      if (test === \"undefined\") {\r\n        if (val === undefined) return true;\r\n        continue;\r\n      }\r\n\r\n      if (test === \"true\") {\r\n        if (isset(val)) return true;\r\n        continue;\r\n      }\r\n\r\n      const reverse = test[0] === \"!\";\r\n      if (reverse) test = test.substring(1);\r\n      test = new RegExp(model.notExact ? test : `^${test}$`, \"i\");\r\n\r\n      if (test.test(val)) {\r\n        if (!reverse) return true;\r\n      } else if (reverse) return true;\r\n    }\r\n    return false;\r\n  }, [model, path, view]);\r\n\r\n  if (testCondition())\r\n    return (\r\n      <Wrapper className={model.className}>\r\n        <ContentTypeRender path={path} items={model.item} />\r\n      </Wrapper>\r\n    );\r\n  return null;\r\n};\r\n\r\nexport default ConditionalView;\r\n","import React from \"react\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nclass ConditionalViewAndOr extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.view = props.view;\r\n    const state = {\r\n      value: this.view.value,\r\n    };\r\n    if (!state.value) state.value = {};\r\n    state.visible = this.testCondition(state.value);\r\n    this.view.on(\"change\", this.onChange);\r\n    this.tempValue = {};\r\n    this.state = state;\r\n  }\r\n  setValue(id, value) {\r\n    return this.view.setValue(id, value);\r\n  }\r\n  onChange() {\r\n    if (this.changeTimer) clearTimeout(this.changeTimer);\r\n    this.changeTimer = setTimeout(this.setValueView, 0);\r\n  }\r\n  setValueView() {\r\n    this.changeTimer = false;\r\n    if (this.inThis) return;\r\n    this.inThis = true;\r\n    const { value } = this.view;\r\n    const visible = this.testCondition(value);\r\n    /* if (!visible && this.state.visible)\r\n      for (let i=0;i<this.model.item.length;i++){\r\n        if (this.model.item[i].id){\r\n          this.tempValue[this.model.item[i].id] = value[this.model.item[i].id];\r\n          this.setValue(this.model.item[i].id);\r\n        } else\r\n        if (this.model.item[i].item){\r\n          for (let j=0;j<this.model.item[i].item.length;j++)\r\n            if (this.model.item[i].item[j].id)\r\n              this.setValue(this.model.item[i].item[j].id);\r\n        } else\r\n        if (this.refs['component'+i].clear)\r\n          this.refs['component'+i].clear();\r\n      } else\r\n      if (visible && !this.state.visible)\r\n        for (let i=0;i<this.model.item.length;i++)\r\n          if (this.model.item[i].id && typeof value[this.model.item[i].id] === 'undefined')\r\n            this.setValue(this.model.item[i].id,this.tempValue[this.model.item[i].id]); */\r\n\r\n    this.setState({\r\n      value: value,\r\n      visible: visible,\r\n    });\r\n    this.inThis = false;\r\n  }\r\n  valid() {\r\n    let valid = true;\r\n    if (this.state.visible)\r\n      for (let i = 0; i < this.model.item.length; i++)\r\n        // eslint-disable-next-line react/no-string-refs\r\n        if (!this.refs[`component${i}`].valid()) valid = false;\r\n    return valid;\r\n  }\r\n  visible() {\r\n    return this.state.visible;\r\n  }\r\n  testCondition(value) {\r\n    const { condition } = this.model;\r\n    if (!condition || !condition.length) return false;\r\n\r\n    function testOneCondition(condition) {\r\n      const key = condition[0];\r\n      const val = value[key];\r\n      let test = condition[1];\r\n      if (test === \"false\" || test === false) return !val;\r\n      if (test === \"true\" || test === true) return !!val;\r\n      const reverse = test[0] === \"!\";\r\n      if (reverse) test = test.substring(1);\r\n      test = new RegExp(`^${test}$`, \"i\");\r\n      if (test.test(val)) {\r\n        if (!reverse) return true;\r\n      } else if (reverse) return true;\r\n      return false;\r\n    }\r\n\r\n    let valid = true;\r\n    let sum = false;\r\n    const sumValidator = (condition) => {\r\n      let sum = 0;\r\n      condition = condition.split(\"||\");\r\n      return function (valid) {\r\n        if (typeof valid !== \"undefined\" && valid) sum++;\r\n        for (let i = 0; i < condition.length; i++)\r\n          if (parseInt(condition[i], 10) === sum) return true;\r\n        return false;\r\n      };\r\n    };\r\n    for (let i = 0; i < condition.length; i++) {\r\n      if (condition[i][0] === \"||\") {\r\n        if (sum) {\r\n          valid = sum();\r\n          sum = false;\r\n        }\r\n        if (valid) return true;\r\n        valid = true;\r\n      } else if (condition[i][0] === \"<sum>\") {\r\n        sum = sumValidator(condition[i][1]);\r\n      } else if (sum) sum(testOneCondition(condition[i]));\r\n      else valid = testOneCondition(condition[i]) && valid;\r\n    }\r\n    if (sum) valid = sum();\r\n    return valid;\r\n  }\r\n  componentWillUnmount() {\r\n    this.props.view.off(\"change\", this.onChange);\r\n  }\r\n  render() {\r\n    const { model, view } = this.props;\r\n    if (this.state.visible)\r\n      return (\r\n        <Wrapper className={model.className}>\r\n          {model.item.map(view.createItem, this)}\r\n        </Wrapper>\r\n      );\r\n    return null;\r\n  }\r\n}\r\nexport default ConditionalViewAndOr;\r\n","// Same as react-beautiful-dnd but more levels than 2\r\n\r\nimport React, { useState, useRef, useEffect, useContext, useMemo } from \"react\";\r\nimport app from \"nystem\";\r\n\r\nconst MyDragAndDropContext = React.createContext();\r\n\r\nexport const DragDropContext = ({ children, onDragEnd }) => {\r\n  const event = app().addeventhandler();\r\n\r\n  useEffect(() => {\r\n    event.on(\"onDragEnd\", onDragEnd);\r\n  }, [event, onDragEnd]);\r\n\r\n  return (\r\n    <MyDragAndDropContext.Provider value={{ event, parents: [] }}>\r\n      {children}\r\n    </MyDragAndDropContext.Provider>\r\n  );\r\n};\r\n\r\nconst styleDraggableItem = {\r\n  boxSizing: \"border-box\",\r\n  opacity: null,\r\n  pointerEvents: \"none\",\r\n  position: \"fixed\",\r\n  transform: null,\r\n  transition: \"opacity 0.2s cubic-bezier(0.2, 0, 0, 1)\",\r\n  zIndex: 4500,\r\n};\r\nconst offsetStyle = {\r\n  transform: \"translate(0px,0px)\",\r\n  transition:\r\n    \"transform 0.33s cubic-bezier(.2,1,.1,1), opacity 0.33s cubic-bezier(.2,1,.1,1)\",\r\n};\r\n\r\nexport const Droppable = ({ droppableId, type, children, isDropDisabled }) => {\r\n  const [style, setStyle] = useState(null);\r\n  const innerRef = useRef();\r\n  const styleRef = useRef();\r\n  styleRef.current = style;\r\n\r\n  const context = useContext(MyDragAndDropContext);\r\n  const { event } = context;\r\n\r\n  const provided = {\r\n    droppableProps: { style: style || offsetStyle },\r\n    innerRef,\r\n  };\r\n\r\n  const parents = useMemo(\r\n    () => [\r\n      ...context.parents,\r\n      ...(context.droppableId ? [context.droppableId] : []),\r\n    ],\r\n    [context.droppableId, context.parents]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (isDropDisabled) return;\r\n\r\n    const paddingBottom = parseInt(\r\n      window.getComputedStyle(innerRef.current).paddingBottom,\r\n      10\r\n    );\r\n\r\n    let size;\r\n    const stop = (result) => {\r\n      setStyle(null);\r\n      const { x, y } = result.pos;\r\n\r\n      if (y < size.top || y > size.bottom || x < size.left || x > size.right)\r\n        return;\r\n\r\n      if (result.destination.parents.includes(droppableId)) return;\r\n\r\n      return {\r\n        ...result,\r\n        destination: { ...result.destination, droppableId, parents },\r\n      };\r\n    };\r\n\r\n    const move = (result) => {\r\n      if (!innerRef.current) return;\r\n\r\n      size = innerRef.current.getBoundingClientRect();\r\n      const { x, y } = result;\r\n\r\n      if (y < size.top || y > size.bottom || x < size.left || x > size.right)\r\n        return;\r\n\r\n      if (result.parents.includes(droppableId)) return;\r\n\r\n      return { ...result, over: droppableId, parents };\r\n    };\r\n\r\n    const over = ({ over, height }) => {\r\n      if (!innerRef.current) return;\r\n\r\n      if (over !== droppableId) {\r\n        if (styleRef.current) setStyle(null);\r\n        return;\r\n      }\r\n      if (!styleRef.current)\r\n        setStyle({ ...offsetStyle, paddingBottom: paddingBottom + height });\r\n    };\r\n\r\n    event.on(`${type}Over`, over);\r\n    event.on(`${type}Move`, move);\r\n    event.on(`${type}Stop`, 100, stop);\r\n    return () => {\r\n      event.off(`${type}Over`, over);\r\n      event.on(`${type}Move`, move);\r\n      event.off(`${type}Stop`, stop);\r\n    };\r\n  }, [droppableId, event, isDropDisabled, parents, type]);\r\n\r\n  return (\r\n    <MyDragAndDropContext.Provider\r\n      value={{ ...context, parents, droppableId, isDropDisabled, type }}\r\n    >\r\n      {children(provided, { isDraggingOver: !!style })}\r\n    </MyDragAndDropContext.Provider>\r\n  );\r\n};\r\n\r\nexport const Draggable = ({ draggableId, index, children, minHeight = 0 }) => {\r\n  const [style, setStyle] = useState(null);\r\n\r\n  const innerRef = useRef();\r\n  const { event, droppableId, isDropDisabled, type } =\r\n    useContext(MyDragAndDropContext);\r\n\r\n  useEffect(() => {\r\n    if (isDropDisabled) return;\r\n\r\n    let breakpoint;\r\n    let currentStyle = null;\r\n\r\n    let offsetStyleSet = null;\r\n    const start = (props) => {\r\n      currentStyle = null;\r\n\r\n      if (props.draggableId === draggableId) return;\r\n\r\n      const size = innerRef.current.getBoundingClientRect();\r\n      breakpoint = size.top + size.height / 2;\r\n\r\n      offsetStyleSet = {\r\n        ...offsetStyle,\r\n        transform: `translate(0px, ${props.height}px)`,\r\n      };\r\n      setStyle({\r\n        transform:\r\n          props.y > breakpoint\r\n            ? offsetStyle\r\n            : `translate(0px, ${props.height}px)`,\r\n      });\r\n      currentStyle = true;\r\n    };\r\n\r\n    const move = (pos) => {\r\n      if (!currentStyle) return;\r\n      const size = innerRef.current.getBoundingClientRect();\r\n      breakpoint = size.top + size.height / 2;\r\n\r\n      if (pos.y < breakpoint && droppableId === pos.over) {\r\n        if (currentStyle === offsetStyleSet) return;\r\n        currentStyle = offsetStyleSet;\r\n      } else {\r\n        if (currentStyle === offsetStyle) return;\r\n        currentStyle = offsetStyle;\r\n      }\r\n      setStyle(currentStyle);\r\n    };\r\n\r\n    event.on(`${type}Start`, start);\r\n    event.on(`${type}Over`, move);\r\n    return () => {\r\n      event.off(`${type}Start`, start);\r\n      event.off(`${type}Over`, move);\r\n    };\r\n  }, [droppableId, draggableId, event, isDropDisabled, type]);\r\n\r\n  useEffect(() => {\r\n    if (isDropDisabled) return;\r\n\r\n    const stop = (result) => {\r\n      setStyle(null);\r\n      const { destination } = result;\r\n\r\n      const size = innerRef.current.getBoundingClientRect();\r\n      const breakpoint = size.top + size.height / 2;\r\n\r\n      if (destination.droppableId !== droppableId) return;\r\n      if (destination.index > index) return;\r\n      if (result.pos.y < breakpoint) return;\r\n\r\n      return {\r\n        ...result,\r\n        destination: { ...result.destination, index: index + 1 },\r\n      };\r\n    };\r\n\r\n    event.on(`${type}Stop`, stop);\r\n    return () => {\r\n      event.off(`${type}Stop`, stop);\r\n    };\r\n  }, [droppableId, event, index, isDropDisabled, type]);\r\n\r\n  const setStyles = (element, styles) =>\r\n    Object.entries(styles).forEach(([prop, val]) => {\r\n      element.style[prop] = val;\r\n    });\r\n\r\n  const onMouseDown = (e) => {\r\n    const baseProps = JSON.parse(\r\n      JSON.stringify(innerRef.current.getBoundingClientRect())\r\n    );\r\n\r\n    const style = {\r\n      ...styleDraggableItem,\r\n      ...baseProps,\r\n    };\r\n    minHeight = parseInt(minHeight, 10);\r\n    style.height = style.height < minHeight ? minHeight : style.height;\r\n\r\n    const movingState = {\r\n      x: e.clientX - style.left,\r\n      y: e.clientY - style.top,\r\n      height: style.height,\r\n      draggableId,\r\n      droppableId,\r\n      index,\r\n      type,\r\n    };\r\n    let pos = false;\r\n    const clonedElement = innerRef.current.cloneNode(true);\r\n\r\n    const mouseMove = (e) => {\r\n      if (!pos) {\r\n        document.body.appendChild(clonedElement);\r\n        setStyles(clonedElement, style);\r\n        clonedElement.style.width = `${baseProps.width}px`;\r\n        event.event(`${type}Start`, movingState);\r\n      }\r\n\r\n      pos = {\r\n        x: e.clientX - movingState.x,\r\n        y: e.clientY - movingState.y,\r\n        height: style.height,\r\n        parents: [],\r\n      };\r\n\r\n      setStyles(clonedElement, {\r\n        top: `${pos.y}px`,\r\n        left: `${pos.x}px`,\r\n        transform: \"scale(1.01,1.15)\",\r\n      });\r\n      setStyle({ display: \"none\" });\r\n      event\r\n        .event(`${type}Move`, pos)\r\n        .then((query) => event.event(`${type}Over`, query));\r\n    };\r\n\r\n    const mouseUp = () => {\r\n      window.removeEventListener(\"mousemove\", mouseMove);\r\n      window.removeEventListener(\"mouseup\", mouseUp);\r\n\r\n      if (!pos) return;\r\n\r\n      document.body.removeChild(clonedElement);\r\n\r\n      event\r\n        .event(`${type}Stop`, {\r\n          combine: null,\r\n          destination: { index: 0, parents: [] },\r\n          draggableId,\r\n          mode: \"FLUID\",\r\n          reason: \"DROP\",\r\n          source: { index, droppableId },\r\n          type,\r\n          pos,\r\n        })\r\n        .then((data) =>\r\n          event.event(\"onDragEnd\", {\r\n            ...data,\r\n            pos: undefined,\r\n          })\r\n        );\r\n\r\n      setStyle(null);\r\n      pos = false;\r\n    };\r\n\r\n    window.addEventListener(\"mouseup\", mouseUp);\r\n    window.addEventListener(\"mousemove\", mouseMove);\r\n  };\r\n\r\n  const onDragStart = (e) => {\r\n    e.preventDefault();\r\n  };\r\n\r\n  if (style && style.display === \"none\") return null;\r\n\r\n  const provided = {\r\n    draggableProps: { style },\r\n    dragHandleProps: {\r\n      onMouseDown,\r\n      onDragStart,\r\n      draggable: false,\r\n      role: \"button\",\r\n      style: {},\r\n    },\r\n    innerRef,\r\n  };\r\n  return children(provided, {});\r\n};\r\n\r\nexport default () => {};\r\n","import React, { useEffect, useRef } from \"react\";\r\nimport app from \"nystem\";\r\nimport { DragDropContext } from \"./myDnd\";\r\n\r\nconst DragAndDropContext = ({ children }) => {\r\n  const modifiers = useRef({});\r\n  useEffect(() => {\r\n    const checkModifiers = (e) => {\r\n      const { shiftKey, metaKey, ctrlKey, altKey } = e;\r\n      modifiers.current = { shiftKey, metaKey, ctrlKey, altKey };\r\n    };\r\n    document.body.addEventListener(\"mouseup\", checkModifiers);\r\n    return () => {\r\n      document.body.removeEventListener(\"mouseup\", checkModifiers);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <DragDropContext\r\n      onDragEnd={(e) => {\r\n        app().event(\"dragAndDropOnDragEnd\", { ...modifiers.current, ...e });\r\n      }}\r\n    >\r\n      {children}\r\n    </DragDropContext>\r\n  );\r\n};\r\nexport default DragAndDropContext;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { ContentTypeRender } from \"nystem-components\";\r\nimport app from \"nystem\";\r\nimport { Droppable, Draggable } from \"./myDnd\";\r\n\r\nconst DragAndDropFixedVal = ({ value, model, path }) => {\r\n  const [droppableId] = useState(app().uuid());\r\n\r\n  useEffect(() => {\r\n    if (!value) return;\r\n\r\n    const onDragEndAddValue = (result) => {\r\n      if (result.source.droppableId !== droppableId) return;\r\n      result.source.value = JSON.parse(model.setValue);\r\n      result.source.uuid = droppableId;\r\n    };\r\n\r\n    app().on(\"dragAndDropOnDragEnd\", 100, onDragEndAddValue);\r\n    return () => {\r\n      app().off(\"dragAndDropOnDragEnd\", onDragEndAddValue);\r\n    };\r\n  }, [value, droppableId, model.setValue]);\r\n\r\n  const { item } = model;\r\n\r\n  return (\r\n    <Droppable\r\n      droppableId={droppableId}\r\n      type={model.valueType}\r\n      isDropDisabled={true}\r\n    >\r\n      {(provided) => {\r\n        // console.log(provided);\r\n        return (\r\n          <div {...provided.droppableProps} ref={provided.innerRef}>\r\n            <Draggable\r\n              key={droppableId}\r\n              draggableId={droppableId}\r\n              index={0}\r\n              minHeight={model.minHeight}\r\n            >\r\n              {(provided) => {\r\n                // console.log(provided.draggableProps.style);\r\n                return (\r\n                  <div\r\n                    ref={provided.innerRef}\r\n                    {...provided.draggableProps}\r\n                    {...provided.dragHandleProps}\r\n                    style={provided.draggableProps.style}\r\n                  >\r\n                    <ContentTypeRender path={path} items={item} />\r\n                  </div>\r\n                );\r\n              }}\r\n            </Draggable>\r\n            {provided.placeholder}\r\n          </div>\r\n        );\r\n      }}\r\n    </Droppable>\r\n  );\r\n};\r\n\r\nexport default DragAndDropFixedVal;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { ContentTypeRender, Wrapper } from \"nystem-components\";\r\nimport app from \"nystem\";\r\nimport { Droppable, Draggable } from \"./myDnd\";\r\n\r\nexport const DragAndDropListContext = React.createContext();\r\n\r\nconst DragAndDropList = ({ value = [], model, path, view }) => {\r\n  const [droppableId] = useState(app().uuid());\r\n\r\n  const ids = useRef([]);\r\n  const getId = (pos) => {\r\n    if (!ids.current[pos]) ids.current[pos] = app().uuid();\r\n    return ids.current[pos];\r\n  };\r\n\r\n  const { valueType } = model;\r\n  let { field } = model;\r\n  if (field instanceof Array) [field] = field;\r\n  if (!field) field = { id: \"item\" };\r\n\r\n  let valuePath = field.id.substring(field.id.lastIndexOf(\".\") + 1);\r\n  if (path) valuePath = `${path}.${valuePath}`;\r\n\r\n  value = view.getValue(valuePath);\r\n  value = value || [];\r\n\r\n  useEffect(() => {\r\n    const onDragEnd = (result) => {\r\n      const value = view.getValue(valuePath) || [];\r\n\r\n      let updated = false;\r\n\r\n      if (!result.ctrlKey && result.source.droppableId === droppableId) {\r\n        value.splice(result.source.index, 1);\r\n        ids.current.splice(result.source.index, 1);\r\n        updated = true;\r\n      }\r\n\r\n      if (\r\n        result.destination &&\r\n        result.destination.droppableId === droppableId\r\n      ) {\r\n        value.splice(result.destination.index, 0, result.source.value);\r\n        ids.current.splice(\r\n          result.destination.index,\r\n          0,\r\n          result.source.droppableId === droppableId\r\n            ? result.source.uuid\r\n            : app().uuid()\r\n        );\r\n        updated = true;\r\n      }\r\n\r\n      if (updated) view.setValue({ path: valuePath, value });\r\n    };\r\n\r\n    const onDragEndAddValue = (result) => {\r\n      if (result.source.droppableId !== droppableId) return;\r\n      const value = view.getValue(valuePath);\r\n      result.source.value = value[result.source.index];\r\n      result.source.uuid = result.ctrlKey\r\n        ? app().uuid()\r\n        : ids.current[result.source.index];\r\n    };\r\n\r\n    app().on(\"dragAndDropOnDragEnd\", 100, onDragEndAddValue);\r\n    app().on(\"dragAndDropOnDragEnd\", onDragEnd);\r\n    return () => {\r\n      app().off(\"dragAndDropOnDragEnd\", onDragEndAddValue);\r\n      app().off(\"dragAndDropOnDragEnd\", onDragEnd);\r\n    };\r\n  }, [droppableId, valuePath, view]);\r\n\r\n  if (!(value instanceof Array)) return null;\r\n\r\n  return (\r\n    <Droppable droppableId={droppableId} type={valueType}>\r\n      {(provided, snapshot) => (\r\n        <Wrapper\r\n          className={[\r\n            model.className,\r\n            snapshot.isDraggingOver && model.hoverClassName,\r\n          ]}\r\n          {...provided.droppableProps}\r\n          ref={provided.innerRef}\r\n        >\r\n          {value.map((item, index) => (\r\n            <Draggable\r\n              key={getId(index)}\r\n              draggableId={getId(index)}\r\n              index={index}\r\n              minHeight={model.minHeight}\r\n            >\r\n              {(provided) => (\r\n                <div\r\n                  ref={provided.innerRef}\r\n                  {...provided.draggableProps}\r\n                  style={provided.draggableProps.style}\r\n                >\r\n                  <DragAndDropListContext.Provider\r\n                    value={provided.dragHandleProps}\r\n                  >\r\n                    <ContentTypeRender\r\n                      path={`${path ? `${path}.` : \"\"}${field.id}.${index}`}\r\n                      items={model.item}\r\n                    />\r\n                  </DragAndDropListContext.Provider>\r\n                </div>\r\n              )}\r\n            </Draggable>\r\n          ))}\r\n          {provided.placeholder}\r\n        </Wrapper>\r\n      )}\r\n    </Droppable>\r\n  );\r\n};\r\nexport default DragAndDropList;\r\n","import React, { useContext } from \"react\";\r\nimport { ContentTypeRender, Icon, Wrapper } from \"nystem-components\";\r\nimport { DragAndDropListContext } from \"./list\";\r\n\r\nconst DragAndDropHandle = ({ model, path }) => {\r\n  const { item, className = [] } = model;\r\n  const dragHandleProps = useContext(DragAndDropListContext);\r\n\r\n  return (\r\n    <Wrapper className={className} {...dragHandleProps}>\r\n      {model.icon && <Icon icon=\"move\" className=\"w-8 h-8 py-2\" />}\r\n      {item && <ContentTypeRender path={path} items={item} />}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default DragAndDropHandle;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport app from \"nystem\";\r\nimport { Droppable, Draggable } from \"./myDnd\";\r\n\r\nconst DragAndDropSortable = ({ Component, items = [], setValue }) => {\r\n  const [droppableId] = useState(app().uuid());\r\n  useEffect(() => {\r\n    if (!items.length) return;\r\n\r\n    const onDragEnd = (result) => {\r\n      const value = items.map((item) => item.id);\r\n      let updated = false;\r\n\r\n      if (result.source.droppableId === droppableId) {\r\n        value.splice(result.source.index, 1);\r\n        updated = true;\r\n      }\r\n\r\n      if (\r\n        result.destination &&\r\n        result.destination.droppableId === droppableId\r\n      ) {\r\n        value.splice(result.destination.index, 0, result.draggableId);\r\n        updated = true;\r\n      }\r\n\r\n      if (updated) setValue(value);\r\n    };\r\n\r\n    app().on(\"dragAndDropOnDragEnd\", onDragEnd);\r\n    return () => {\r\n      app().off(\"dragAndDropOnDragEnd\", onDragEnd);\r\n    };\r\n  }, [items, setValue, droppableId]);\r\n\r\n  if (!items.length) return null;\r\n\r\n  return (\r\n    <Droppable droppableId={droppableId} type={items[0].contentType}>\r\n      {(provided) => (\r\n        <div {...provided.droppableProps} ref={provided.innerRef}>\r\n          {items.map((item, index) => (\r\n            <Draggable key={item.id} draggableId={item.id} index={index}>\r\n              {(provided) => (\r\n                <div\r\n                  ref={provided.innerRef}\r\n                  {...provided.draggableProps}\r\n                  {...provided.dragHandleProps}\r\n                  style={provided.draggableProps.style}\r\n                >\r\n                  {<Component {...item} />}\r\n                </div>\r\n              )}\r\n            </Draggable>\r\n          ))}\r\n          {provided.placeholder}\r\n        </div>\r\n      )}\r\n    </Droppable>\r\n  );\r\n};\r\n\r\nexport default DragAndDropSortable;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { ContentTypeRender } from \"nystem-components\";\r\nimport app from \"nystem\";\r\nimport { Droppable, Draggable } from \"./myDnd\";\r\n\r\nconst DragAndDropView = ({ value, model, path }) => {\r\n  const [droppableId] = useState(app().uuid());\r\n\r\n  useEffect(() => {\r\n    if (!value) return;\r\n\r\n    const onDragEndAddValue = (result) => {\r\n      if (result.source.droppableId !== droppableId) return;\r\n      result.source.value = value;\r\n      result.source.uuid = droppableId;\r\n    };\r\n\r\n    app().on(\"dragAndDropOnDragEnd\", 100, onDragEndAddValue);\r\n    return () => {\r\n      app().off(\"dragAndDropOnDragEnd\", onDragEndAddValue);\r\n    };\r\n  }, [value, droppableId]);\r\n\r\n  if (!model) return null;\r\n  const { item } = model;\r\n  return (\r\n    <Droppable\r\n      droppableId={droppableId}\r\n      type={model.valueType}\r\n      isDropDisabled={true}\r\n    >\r\n      {(provided) => {\r\n        // console.log(provided);\r\n        return (\r\n          <div {...provided.droppableProps} ref={provided.innerRef}>\r\n            <Draggable\r\n              key={droppableId}\r\n              draggableId={droppableId}\r\n              index={0}\r\n              minHeight={model.minHeight}\r\n            >\r\n              {(provided) => {\r\n                // console.log(provided.draggableProps.style);\r\n                return (\r\n                  <div\r\n                    ref={provided.innerRef}\r\n                    {...provided.draggableProps}\r\n                    {...provided.dragHandleProps}\r\n                    style={provided.draggableProps.style}\r\n                  >\r\n                    <ContentTypeRender path={path} items={item} />\r\n                  </div>\r\n                );\r\n              }}\r\n            </Draggable>\r\n            {provided.placeholder}\r\n          </div>\r\n        );\r\n      }}\r\n    </Droppable>\r\n  );\r\n};\r\n\r\nexport default DragAndDropView;\r\n","import React, { useEffect, useState, useContext, useRef, useMemo } from \"react\";\r\nimport {\r\n  DatabaseSearchContext,\r\n  Wrapper,\r\n  ContentTypeRender,\r\n  ContentTypeView,\r\n} from \"nystem-components\";\r\nimport app from \"nystem\";\r\nimport { Droppable, Draggable } from \"./myDnd\";\r\nimport { DragAndDropListContext } from \"./list\";\r\n\r\nconst DragAndDropViewList = ({ model, view }) => {\r\n  const [droppableId] = useState(app().uuid());\r\n  const { search } = useContext(DatabaseSearchContext);\r\n  const ids = useRef([]);\r\n  const getId = (pos) => {\r\n    if (!ids.current[pos]) ids.current[pos] = app().uuid();\r\n    return ids.current[pos];\r\n  };\r\n\r\n  const { emptyFields, className = [], valueType } = model;\r\n  const value = useMemo(() => (search && search.data) || [], [search]);\r\n\r\n  useEffect(() => {\r\n    const onDragEnd = (result) => {\r\n      if (result.destination.droppableId !== droppableId) return;\r\n\r\n      result.destination.id = view.id;\r\n      result.destination.value = value;\r\n      result.destination.type = valueType;\r\n      result.destination.contentType = view.contentType;\r\n    };\r\n\r\n    const onDragEndAddValue = (result) => {\r\n      if (result.source.droppableId !== droppableId) return;\r\n\r\n      result.source.value = value[result.source.index];\r\n      result.source.type = valueType;\r\n      result.source.contentType = view.contentType;\r\n      result.source.uuid = result.ctrlKey\r\n        ? app().uuid()\r\n        : ids.current[result.source.index];\r\n    };\r\n\r\n    app().on(\"dragAndDropOnDragEnd\", 100, onDragEndAddValue);\r\n    app().on(\"dragAndDropOnDragEnd\", 90, onDragEnd);\r\n    return () => {\r\n      app().off(\"dragAndDropOnDragEnd\", onDragEndAddValue);\r\n      app().off(\"dragAndDropOnDragEnd\", onDragEnd);\r\n    };\r\n  }, [droppableId, value, valueType, view]);\r\n\r\n  if (value.length === 0 && emptyFields && emptyFields.length > 0)\r\n    return (\r\n      <Wrapper className={className}>\r\n        <ContentTypeRender items={emptyFields} />\r\n      </Wrapper>\r\n    );\r\n\r\n  const createItem = (item) => {\r\n    const id = [\"number\", \"string\"].includes(typeof item) ? item : item._id;\r\n\r\n    const settings = {\r\n      view: model,\r\n      contentType: view.contentType,\r\n      id,\r\n      key: id,\r\n      noForm: true,\r\n      baseView: view,\r\n      params: view.params,\r\n      className: model.rowClassName,\r\n      renderAs: item.renderAs,\r\n    };\r\n\r\n    return <ContentTypeView {...settings} />;\r\n  };\r\n\r\n  return (\r\n    <Droppable droppableId={droppableId} type={valueType}>\r\n      {(provided) => (\r\n        <Wrapper\r\n          className={className}\r\n          {...provided.droppableProps}\r\n          ref={provided.innerRef}\r\n        >\r\n          {value.map((item, index) => (\r\n            <Draggable\r\n              key={getId(index)}\r\n              draggableId={getId(index)}\r\n              index={index}\r\n              minHeight={model.minHeight}\r\n            >\r\n              {(provided) => (\r\n                <Wrapper\r\n                  ref={provided.innerRef}\r\n                  {...provided.draggableProps}\r\n                  style={provided.draggableProps.style}\r\n                >\r\n                  <DragAndDropListContext.Provider\r\n                    value={provided.dragHandleProps}\r\n                  >\r\n                    {createItem(item)}\r\n                  </DragAndDropListContext.Provider>\r\n                </Wrapper>\r\n              )}\r\n            </Draggable>\r\n          ))}\r\n          {provided.placeholder}\r\n        </Wrapper>\r\n      )}\r\n    </Droppable>\r\n  );\r\n};\r\nexport default DragAndDropViewList;\r\n","import React from \"react\";\r\nimport { TextExposedField } from \"nystem-components\";\r\n\r\nconst EmailExposedField = (props) => <TextExposedField {...props} />;\r\nexport default EmailExposedField;\r\n","export default ({ value, model }) => {\r\n  if (model.mandatory && !value) return model.text_mandatory;\r\n  if (!value) return false;\r\n  if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,6}$/im.test(value))\r\n    return \"Incorrect e-mail adress\";\r\n  return false;\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { InputWrapper, Input, UseValidator } from \"nystem-components\";\r\nimport app from \"nystem\";\r\nimport validate from \"./validate\";\r\n\r\nconst EmailInput = ({ model, view, focus, setValue, value, className }) => {\r\n  const [error, setValidated] = UseValidator({ view, validate, value, model });\r\n  const { disabled, length, text, clearButton, classNameInput } = model;\r\n  const [id] = useState(app().uuid);\r\n\r\n  const componentClassName = [\r\n    className,\r\n    ...(model.className || []),\r\n    \"textInput\",\r\n  ];\r\n  if (clearButton) componentClassName.push(\"flex\");\r\n\r\n  return (\r\n    <InputWrapper\r\n      id={id}\r\n      model={model}\r\n      error={error}\r\n      className={componentClassName}\r\n    >\r\n      <Input\r\n        id={id}\r\n        placeholder={app().t(text)}\r\n        className={classNameInput}\r\n        value={value || \"\"}\r\n        maxLength={length}\r\n        onChange={(value) => setValue(value.toLowerCase())}\r\n        disabled={disabled}\r\n        type=\"text\"\r\n        focus={focus}\r\n        onBlur={() => setValidated(true)}\r\n      />\r\n    </InputWrapper>\r\n  );\r\n};\r\nexport default EmailInput;\r\n","import React, { useState } from \"react\";\r\nimport { InputWrapper, Input } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst EmailInputNoValidation = ({ model, focus, setValue, value, className }) => {\r\n  const { disabled, length, text, clearButton, classNameInput } = model;\r\n  const [id] = useState(app().uuid);\r\n\r\n  const componentClassName = [\r\n    className,\r\n    ...(model.className || []),\r\n    \"textInput\",\r\n  ];\r\n  if (clearButton) componentClassName.push(\"flex\");\r\n\r\n  return (\r\n    <InputWrapper id={id} model={model} className={componentClassName}>\r\n      <Input\r\n        id={id}\r\n        placeholder={app().t(text)}\r\n        className={classNameInput}\r\n        value={value || \"\"}\r\n        maxLength={length}\r\n        onChange={(value) => setValue(value)}\r\n        disabled={disabled}\r\n        type=\"text\"\r\n        focus={focus}\r\n      />\r\n    </InputWrapper>\r\n  );\r\n};\r\nexport default EmailInputNoValidation;\r\n","import React from \"react\";\r\nimport { TextLink } from \"nystem-components\";\r\n\r\nconst EmailLink = props => <TextLink {...props} />;\r\nexport default EmailLink;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst EmailMailto = ({ model, value }) => {\r\n  const { className, item } = model;\r\n\r\n  return (\r\n    <Wrapper renderAs=\"a\" href={`mailto:${value}`} className={className}>\r\n      <ContentTypeRender items={item} />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default EmailMailto;\r\n","import React from \"react\";\r\nimport { TextSortBy } from \"nystem-components\";\r\n\r\nconst EmailSortBy = (props) => <TextSortBy {...props} />;\r\nexport default EmailSortBy;\r\n","/* eslint-disable react/no-string-refs */\r\nimport React from \"react\";\r\nimport app from \"nystem\";\r\nimport { InputWrapper } from \"nystem-components\";\r\n\r\nclass EmailVerifiedInput extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    const state = {\r\n      value: props.value,\r\n    };\r\n    if (props.add && this.model.default)\r\n      this.props.setValue(this.model.id, this.model.default);\r\n    this.errormsg = this.model.text_mandatory\r\n      ? this.model.text_mandatory\r\n      : true;\r\n    this.validated = false;\r\n    this.state = state;\r\n  }\r\n  handleChange() {\r\n    this.validated = true;\r\n    const { value } = this.refs.input;\r\n    this.setState({\r\n      value: value,\r\n      error: this.model.mandatory && !value ? this.errormsg : false,\r\n    });\r\n    this.props.setValue(this.model.id, value);\r\n  }\r\n  valid() {\r\n    this.validated = true;\r\n    if (this.model.mandatory && !this.state.value) {\r\n      this.setState({\r\n        error: this.errormsg,\r\n      });\r\n      return false;\r\n    }\r\n    if (this.test(this.state.value)) {\r\n      this.setState({\r\n        error: \"Incorrect e-mail adress\",\r\n      });\r\n      return false;\r\n    }\r\n    if (this.state.error) delete this.state.error;\r\n    return true;\r\n  }\r\n  test(value) {\r\n    return (\r\n      (this.validated && this.model.mandatory && !value) ||\r\n      !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,6}$/im.test(value)\r\n    );\r\n  }\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (this.props.value !== nextProps.value) {\r\n      const error = this.validated && this.model.mandatory && !nextProps.value;\r\n      this.setState({\r\n        value: nextProps.value,\r\n        error: error ? this.errormsg : false,\r\n      });\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    if (this.props.focus) this.refs.input.focus();\r\n  }\r\n  render() {\r\n    return (\r\n      <InputWrapper model={this.model} error={this.state.error}>\r\n        <input\r\n          ref=\"input\"\r\n          placeholder={app().t(this.model.text)}\r\n          className=\"form-control\"\r\n          value={this.state.value}\r\n          maxLength={this.model.length}\r\n          onChange={this.handleChange}\r\n          type=\"text\"\r\n        />\r\n      </InputWrapper>\r\n    );\r\n  }\r\n}\r\nexport default EmailVerifiedInput;\r\n","import React from \"react\";\r\nimport { TextView } from \"nystem-components\";\r\n\r\nconst EmailView = props => <TextView {...props} />;\r\nexport default EmailView;\r\n","import React from \"react\";\r\nimport * as components from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nclass FlatgroupInput extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    if (!this.model.add2id) this.model.add2id = \"\";\r\n    this.state = {\r\n      value: props.value || {},\r\n    };\r\n  }\r\n  setValue(id, value) {\r\n    const val = this.state.value;\r\n    val[this.model.add2id + id] = value;\r\n    if (this.props.setValue) this.props.setValue(this.model.add2id + id, val);\r\n  }\r\n  valid() {\r\n    let valid = true;\r\n    for (let i = 0; i < this.model.item.length; i++)\r\n      // eslint-disable-next-line react/no-string-refs\r\n      if (!this.refs[`component${i}`].valid()) valid = false;\r\n    return valid;\r\n  }\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (this.props.value !== nextProps.value)\r\n      this.setState({ value: nextProps.value });\r\n  }\r\n  render() {\r\n    const self = this;\r\n    let groupVal = false;\r\n    function getGroupVal() {\r\n      if (!groupVal) {\r\n        if (!self.model.add2id) return self.state.value;\r\n        groupVal = {};\r\n        for (const item of self.state.value) {\r\n          const startWith = new RegExp(`^${self.model.add2id}`, \"i\");\r\n          if (startWith.test(item))\r\n            groupVal[item.replace(startWith, \"\")] = self.state.value[item];\r\n        }\r\n      }\r\n      return groupVal;\r\n    }\r\n    const createItem = (item, index) => {\r\n      const value = item.id\r\n        ? self.state.value[self.model.add2id + item.id]\r\n        : getGroupVal();\r\n      return React.createElement(\r\n        components[`${app().capFirst(item.type)}Input`],\r\n        {\r\n          ref: `component${index}`,\r\n          model: item,\r\n          value: value,\r\n          setValue: self.setValue,\r\n          validated: self.props.validated,\r\n          add: self.props.add,\r\n        }\r\n      );\r\n    };\r\n    return (\r\n      <div>\r\n        <h3>{app().t(this.model.text)}</h3>\r\n        <div>{this.model.item.map(createItem)}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default FlatgroupInput;\r\n","import React from \"react\";\r\nimport {\r\n  InputWrapper,\r\n  FloatInput,\r\n  UseSearch,\r\n  RouterUseQueryStore,\r\n} from \"nystem-components\";\r\n\r\nconst FloatExposedField = ({ model, view }) => {\r\n  const [from, setFrom] = RouterUseQueryStore(model.saveIdFrom, \"float\");\r\n  const [to, setTo] = RouterUseQueryStore(model.saveIdTo, \"float\");\r\n\r\n  UseSearch({ view, id: model.id, value: from && `>${from}` });\r\n  UseSearch({ view, id: model.id, value: to && `<${to}` });\r\n\r\n  const base = {\r\n    clearButton: true,\r\n    classNameInput: [\"w-16\"],\r\n    nolabel: true,\r\n    id: \"1\",\r\n  };\r\n  const modelFrom = { ...base, text: \"From\" };\r\n  const modelTo = { ...base, text: \"To\" };\r\n\r\n  return (\r\n    <InputWrapper model={model}>\r\n      <div className=\"flex items-center\">\r\n        <FloatInput model={modelFrom} value={from} setValue={setFrom} />-\r\n        <FloatInput model={modelTo} value={to} setValue={setTo} />\r\n      </div>\r\n    </InputWrapper>\r\n  );\r\n};\r\n\r\nexport default FloatExposedField;\r\n","export default ({ value, model }) =>\r\n  model.mandatory && !value && model.text_mandatory;\r\n","import React from \"react\";\r\nimport { InputWrapper, Input, UseValidator } from \"nystem-components\";\r\nimport app from \"nystem\";\r\nimport validate from \"./validate\";\r\n\r\nconst FloatInput = ({ model, view, focus, setValue, value, className }) => {\r\n  const [error, setValidated] = UseValidator({ view, validate, value, model });\r\n  const { disabled, length, text, clearButton } = model;\r\n\r\n  const componentClassName = [\r\n    className,\r\n    ...(model.className || []),\r\n    \"textInput\",\r\n  ];\r\n  if (clearButton) componentClassName.push(\"flex\");\r\n\r\n  const inputClassName = [\"textInputDefault\"];\r\n  if (error) inputClassName.push(\"textInputError\");\r\n\r\n  return (\r\n    <InputWrapper\r\n      model={{ ...model, classNameInput: \"flex\", classNameLabel: \" \" }}\r\n      error={error}\r\n      className={componentClassName}\r\n    >\r\n      <Input\r\n        placeholder={app().t(text)}\r\n        className={model.classNameInput}\r\n        value={!value && value !== 0 ? \"\" : value}\r\n        maxLength={length}\r\n        onChange={(value) => {\r\n          const val = value.replace(/[^0-9.-]/gim, \"\");\r\n          setValue(val ? parseFloat(val) : undefined);\r\n        }}\r\n        disabled={disabled}\r\n        type=\"text\"\r\n        focus={model.focus || focus}\r\n        onBlur={() => setValidated(true)}\r\n        selectAllOnFocus={model.selectAllOnFocus}\r\n      />\r\n    </InputWrapper>\r\n  );\r\n};\r\nexport default FloatInput;\r\n","import React from \"react\";\r\nimport { TextLink } from \"nystem-components\";\r\n\r\nconst FloatLink = (props) => <TextLink {...props} />;\r\nexport default FloatLink;\r\n","import React from \"react\";\r\nimport { TextSortBy } from \"nystem-components\";\r\n\r\nconst FloatSortBy = (props) => <TextSortBy {...props} />;\r\nexport default FloatSortBy;\r\n","import React from \"react\";\r\nimport { TextView } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nfunction outputFloat({ value, model }) {\r\n  if (!value || !model || !model.tofixed) return value;\r\n  value = parseFloat(value).toFixed(model.tofixed);\r\n  return app().settings.lang === \"sv\" ? value.replace(\".\", \",\") : value;\r\n}\r\n\r\nconst FloatView = (props) => <TextView {...props} value={outputFloat(props)} />;\r\nexport default FloatView;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst GroupView = ({ view, model, path }) => (\r\n  <Wrapper className={model.className}>\r\n    <ContentTypeRender\r\n      items={model.item}\r\n      path={view.getValuePath(path, model.id)}\r\n    />\r\n  </Wrapper>\r\n);\r\nexport default GroupView;\r\n","import React from \"react\";\r\nimport { InputWrapper, IntInput } from \"nystem-components\";\r\n\r\nclass IntExposedField extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    props.view.searchProp.onUpdate(this.update);\r\n    this.classNameBase = this.model.className ? this.model.className : [];\r\n    this.updateCounter = 0;\r\n  }\r\n  update() {\r\n    if (this.id) {\r\n      const state = {};\r\n      const modelId = this.model.id;\r\n\r\n      state.from = this.props.view.searchProp.filter.get(`${this.id}_from`);\r\n      if (state.from !== \"undefined\" && state.from[modelId])\r\n        state.from = state.from[modelId].substring(1);\r\n      else delete state.from;\r\n\r\n      state.to = this.props.view.searchProp.filter.get(`${this.id}_to`);\r\n      if (state.to !== \"undefined\" && state.to[modelId])\r\n        state.to = state.to[modelId].substring(1);\r\n      else delete state.to;\r\n      if (typeof state.from !== \"undefined\" || typeof state.to !== \"undefined\")\r\n        this.setState(state);\r\n    }\r\n    const self = this;\r\n    if (this.updateCounter > 0) this.updateCounter--;\r\n    if (this.state.className === \"\" || this.updateCounter > 0) return;\r\n    this.setState({\r\n      className: \"has-success\",\r\n    });\r\n    this.delayTimer = setTimeout(() => {\r\n      if (self.isMounted())\r\n        self.setState({\r\n          className: \"\",\r\n        });\r\n    }, 1000);\r\n  }\r\n  search(id, value) {\r\n    if (value === \"\") value = undefined;\r\n    const self = this;\r\n    clearTimeout(this.delayTimer);\r\n    const state = {\r\n      className: \"has-warning\",\r\n    };\r\n    state[id] = value;\r\n    this.setState(state);\r\n    this.delayTimer = setTimeout(() => {\r\n      self.updateCounter++;\r\n      if (value)\r\n        if (id === \"to\") value = `<${value}`;\r\n        else value = `>${value}`;\r\n\r\n      self.props.view.searchProp.filter.add(\r\n        self.model.id,\r\n        value,\r\n        `${self.id}_${id}`\r\n      );\r\n    }, 200);\r\n  }\r\n  componentDidMount() {}\r\n  componentWillUnmount() {\r\n    this.props.view.searchProp.offUpdate(this.update);\r\n    clearTimeout(this.delayTimer);\r\n  }\r\n  render() {\r\n    /* const model = this.props.model;\r\n    const className = model.className && !this.props.wrapper\r\n      ? model.className.join(\" \")\r\n      : \"\"; */\r\n    const modelFrom = {\r\n      id: \"from\",\r\n      placeholder: \"From\",\r\n      clearButton: true,\r\n    };\r\n    const modelTo = {\r\n      id: \"to\",\r\n      placeholder: \"To\",\r\n      clearButton: true,\r\n    };\r\n    const style = {\r\n      width: \"100px\",\r\n    };\r\n    return (\r\n      <InputWrapper model={this.model} error={this.state.error}>\r\n        <div className=\"form-inline\">\r\n          <IntInput\r\n            style={style}\r\n            model={modelFrom}\r\n            value={this.state.from}\r\n            setValue={this.search}\r\n          />\r\n          {\" - \"}\r\n          <IntInput\r\n            style={style}\r\n            model={modelTo}\r\n            value={this.state.to}\r\n            setValue={this.search}\r\n          />\r\n        </div>\r\n      </InputWrapper>\r\n    );\r\n  }\r\n}\r\nexport default IntExposedField;\r\n","export default ({ value, model }) =>\r\n  model.mandatory && !value && model.text_mandatory;\r\n","import React, { useState } from \"react\";\r\nimport { InputWrapper, Input, UseValidator } from \"nystem-components\";\r\nimport app from \"nystem\";\r\nimport validate from \"./validate\";\r\n\r\nconst IntInput = ({ model, view, focus, setValue, value, className }) => {\r\n  const [error, setValidated] = UseValidator({ view, validate, value, model });\r\n  const { disabled, length, text, clearButton } = model;\r\n  const [id] = useState(app().uuid);\r\n\r\n  const componentClassName = [\r\n    className,\r\n    ...(model.className || []),\r\n    \"textInput\",\r\n  ];\r\n  if (clearButton) componentClassName.push(\"flex\");\r\n\r\n  const inputClassName = [\"textInputDefault\"];\r\n  if (error) inputClassName.push(\"textInputError\");\r\n\r\n  return (\r\n    <InputWrapper\r\n      id={id}\r\n      model={{ ...model, classNameInput: \"flex\", classNameLabel: \" \" }}\r\n      error={error}\r\n      className={componentClassName}\r\n    >\r\n      <Input\r\n        id={id}\r\n        placeholder={app().t(text)}\r\n        className={model.classNameInput}\r\n        value={!value && value !== 0 ? \"\" : value}\r\n        maxLength={length}\r\n        onChange={(value) => {\r\n          const intVal = value.replace(/[^0-9-]/gim, \"\");\r\n          setValue(\r\n            intVal === \"-\" ? intVal : intVal ? parseInt(intVal, 10) : undefined\r\n          );\r\n        }}\r\n        disabled={disabled}\r\n        type=\"text\"\r\n        focus={model.focus || focus}\r\n        onBlur={() => setValidated(true)}\r\n        selectAllOnFocus={model.selectAllOnFocus}\r\n      />\r\n    </InputWrapper>\r\n  );\r\n};\r\nexport default IntInput;\r\n","import React from \"react\";\r\nimport { TextLink } from \"nystem-components\";\r\n\r\nconst IntLink = (props) => <TextLink {...props} />;\r\nexport default IntLink;\r\n","import React from \"react\";\r\nimport { TextSortBy } from \"nystem-components\";\r\n\r\nconst IntSortBy = props => <TextSortBy {...props} />;\r\nexport default IntSortBy;\r\n","import React from \"react\";\r\nimport { TextView } from \"nystem-components\";\r\n\r\nconst IntView = ({ value, ...props }) => (\r\n  <TextView {...props} value={value === 0 ? \"0\" : value} />\r\n);\r\nexport default IntView;\r\n","import React from \"react\";\r\nimport { InputWrapper, Input } from \"nystem-components\";\r\n\r\nconst MatrixInput = ({ value, model, setValue }) => {\r\n  const { limit = 0, rowLabel } = model;\r\n\r\n  value = value || [];\r\n  if (!limit || value.length < limit) value = [...value, []];\r\n\r\n  const handleChange = (atRow, index, newVal) => {\r\n    const len = value.length;\r\n    const val = value.slice(0, atRow === len - 1 ? len : len - 1);\r\n\r\n    val[atRow][index] = newVal;\r\n\r\n    if (val[len - 2] && !val[len - 2][0]) setValue(val.slice(0, len - 2));\r\n    else setValue(val);\r\n  };\r\n\r\n  const mapHeader = (item, index) => <th key={index}>{item}</th>;\r\n\r\n  const mapField = (label, atRow, index) => {\r\n    const val = value[atRow][index] ? value[atRow][index] : \"\";\r\n    return (\r\n      <td key={index}>\r\n        <Input\r\n          placeholder={label}\r\n          className=\"form-control\"\r\n          value={val}\r\n          maxLength={model.length}\r\n          onChange={(val) => handleChange(atRow, index, val)}\r\n          type=\"text\"\r\n        />\r\n      </td>\r\n    );\r\n  };\r\n\r\n  const mapRow = (item, rowIndex) => (\r\n    <tr key={rowIndex}>\r\n      {model.rowLabel.map((label, index) => mapField(label, rowIndex, index))}\r\n    </tr>\r\n  );\r\n\r\n  return (\r\n    <InputWrapper model={model}>\r\n      <table>\r\n        <thead>\r\n          <tr>{rowLabel.map(mapHeader)}</tr>\r\n        </thead>\r\n        <tbody>{value.map(mapRow)}</tbody>\r\n      </table>\r\n    </InputWrapper>\r\n  );\r\n};\r\nexport default MatrixInput;\r\n","import React from \"react\";\r\n\r\nclass MatrixInputlist extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    let val = props.value || [];\r\n    if (!(val instanceof Array)) val = [val];\r\n    if (val.length > props.limit) this.state = { value: val.concat([]) };\r\n    else this.state = { value: val.concat([\"\"]) };\r\n  }\r\n  handleChange() {\r\n    const val = [];\r\n    for (let i = 0; i < this.state.value.length; i++) {\r\n      // eslint-disable-next-line react/no-string-refs\r\n      const oneVal = this.refs[`input${i}`].value;\r\n      if (oneVal) val.push(oneVal);\r\n    }\r\n    if (this.props.setValue) this.props.setValue(val);\r\n\r\n    this.setState({\r\n      value: val.length > this.props.limit ? val.concat([\"\"]) : val.concat([]),\r\n    });\r\n  }\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (this.props.value !== nextProps.value) {\r\n      let val = nextProps.value;\r\n      if (typeof nextProps.value === \"string\") val = [nextProps.value];\r\n      this.setState({ value: val.concat([\"\"]) });\r\n    }\r\n  }\r\n  render() {\r\n    const self = this;\r\n    const inputKeyField = (item, index) => {\r\n      return (\r\n        <input\r\n          ref={`inputKey${index}`}\r\n          className=\"form-control\"\r\n          value={item}\r\n          onChange={self.handleKeyChange}\r\n          type=\"text\"\r\n        />\r\n      );\r\n    };\r\n    const inputValueField = (item, index) => {\r\n      return (\r\n        <input\r\n          ref={`inputValue${index}`}\r\n          className=\"form-control\"\r\n          value={item}\r\n          onChange={self.handleChange}\r\n          type=\"text\"\r\n        />\r\n      );\r\n    };\r\n    return (\r\n      <div>\r\n        <div className=\"col-sm-3\">{this.state.value.map(inputKeyField)}</div>\r\n        <div className=\"col-sm-3\">{this.state.value.map(inputValueField)}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default MatrixInputlist;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Button, Icon } from \"nystem-components\";\r\n\r\nconst MultigroupAddRemove = ({ model, view, setValue, value, path }) => {\r\n  const doDelete = () => {\r\n    const parts = path.split(\".\");\r\n    const valPath = parts.slice(0, parts.length - 1).join(\".\");\r\n    console.log({ valPath, parts }, view.getValue(valPath));\r\n    const parentVal = [...view.getValue(valPath)];\r\n    parentVal.splice(parts[parts.length - 1], 1);\r\n\r\n    view.setValue({ path: valPath, value: parentVal });\r\n  };\r\n\r\n  const doAdd = () => setValue([...value, {}]);\r\n\r\n  value = value || [];\r\n  const { action } = model;\r\n\r\n  return (\r\n    <Button\r\n      renderAs=\"button\"\r\n      className={model.className}\r\n      type={model.btnType}\r\n      onClick={action === \"Add\" ? doAdd : doDelete}\r\n      size={model.btnSize}\r\n      title={action}\r\n    >\r\n      {!model.buttonText ? (\r\n        <Icon\r\n          className={[\"w-4 h-4\", action === \"Add\" && \"transform rotate-45\"]}\r\n          icon=\"close\"\r\n          title={action}\r\n        />\r\n      ) : (\r\n        app().t(model.buttonText)\r\n      )}\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default MultigroupAddRemove;\r\n","import React, { useRef, useState } from \"react\";\r\nimport app from \"nystem\";\r\nimport { Button, Icon } from \"nystem-components\";\r\nimport \"./copyItem.css\";\r\n\r\nconst MultigroupCopyItem = ({ model, value = [], path, view, setValue }) => {\r\n  const ref = useRef();\r\n  const [active, setActive] = useState(false);\r\n\r\n  const doCopyVal = () => {\r\n    const { current } = ref;\r\n    current.value = JSON.stringify(value, null, \"  \");\r\n    current.style.display = \"block\";\r\n    current.select();\r\n    try {\r\n      console.log(\"copy text\");\r\n      document.execCommand(\"copy\");\r\n      current.blur();\r\n      current.style.display = \"none\";\r\n    } catch (err) {\r\n      console.log(\"please press Ctrl/Cmd+C to copy\");\r\n    }\r\n    setActive(true);\r\n    setTimeout(() => {\r\n      setActive(false);\r\n    }, 200);\r\n  };\r\n\r\n  const doPasteVal = () => {\r\n    navigator.clipboard.readText().then((clipText) => {\r\n      const clipVal = JSON.parse(clipText);\r\n      if (!/\\.[0-9]+$/im.test(path)) {\r\n        if (clipVal instanceof Array) setValue([...clipVal, ...value]);\r\n        else setValue([clipVal, ...value]);\r\n        return;\r\n      }\r\n      const parts = path.split(\".\");\r\n      const valPath = parts.slice(0, parts.length - 1).join(\".\");\r\n      const parentVal = [...view.getValue(valPath)];\r\n      try {\r\n        parentVal.splice(parts[parts.length - 1], 0, clipVal);\r\n\r\n        view.setValue({ path: valPath, value: parentVal });\r\n        // eslint-disable-next-line no-empty\r\n      } catch (e) {}\r\n    });\r\n    setActive(true);\r\n    setTimeout(() => {\r\n      setActive(false);\r\n    }, 200);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <textarea\r\n        className=\"bg-black\"\r\n        ref={ref}\r\n        style={{\r\n          display: \"none\",\r\n          position: \"absolute\",\r\n        }}\r\n        readOnly={true}\r\n      />\r\n      <Button\r\n        renderAs=\"button\"\r\n        className={[...(model.className || []), active ? \"copyItemBounce\" : \"\"]}\r\n        type={model.btnType}\r\n        onClick={model.direction === \"paste\" ? doPasteVal : doCopyVal}\r\n        size={model.btnSize}\r\n        title={model.direction}\r\n      >\r\n        {[\"edit-copy\", \"paste\"].includes(model.text) ? (\r\n          <Icon className=\"w-4 h-4\" icon={model.text} alt={model.text} />\r\n        ) : (\r\n          app().t(model.text)\r\n        )}\r\n      </Button>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MultigroupCopyItem;\r\n","import React from \"react\";\r\nimport { ContentTypeRender } from \"nystem-components\";\r\nimport { fallback } from \"./input.json\";\r\n// http://manager.localhost:9154/view/input/view_testmultigroup\r\n\r\nconst replaceInObject = (item, fn) => {\r\n  if (item instanceof Array)\r\n    return item.map((item) => replaceInObject(item, fn));\r\n\r\n  if (typeof item === \"object\") {\r\n    item = fn(item);\r\n\r\n    Object.entries(item).forEach(([key, value]) => {\r\n      item[key] = replaceInObject(value, fn);\r\n    });\r\n  }\r\n  return item;\r\n};\r\n\r\nconst MultigroupInput = ({ model, path }) => {\r\n  const item = replaceInObject(fallback, (item) => {\r\n    if (item.id && item.id.startsWith(\"testmultigroup\"))\r\n      return item.id === \"testmultigroup._id\"\r\n        ? model.header\r\n          ? { type: \"style\", item: model.header }\r\n          : { ...item, id: `${model.idField || \"_id\"}` }\r\n        : { ...item, id: item.id.replace(\"testmultigroup\", model.id) };\r\n\r\n    if (item.item === \"item\")\r\n      return {\r\n        ...item,\r\n        item: model.item.map((field) => ({\r\n          ...field,\r\n          id:\r\n            field.id && field.id.includes(\".\")\r\n              ? field.id\r\n              : `${model.id}.${field.id}`,\r\n        })),\r\n      };\r\n\r\n    if (item.text === \"{name}\") return { ...item, text: model.text };\r\n    return { ...item };\r\n  });\r\n\r\n  return <ContentTypeRender path={path} items={[item]} />;\r\n};\r\nexport default MultigroupInput;\r\n","import { useEffect, useContext } from \"react\";\r\nimport { PanelContext } from \"nystem-components\";\r\n\r\nconst MultigroupPanelOpenByValue = ({ model, view, path }) => {\r\n  const { toggleExpand, expanded } = useContext(PanelContext);\r\n\r\n  useEffect(() => {\r\n    const value = view.getValue(path);\r\n\r\n    if (model.keyCount || model.keyCount === 0) {\r\n      const parentVal = view.getValue(path);\r\n      if (!parentVal) return;\r\n\r\n      let setExpanded =\r\n        Object.keys(view.getValue(path)).length > model.keyCount;\r\n      if (model.invert) setExpanded = !setExpanded;\r\n\r\n      if (setExpanded && !expanded) toggleExpand(setExpanded);\r\n    } else {\r\n      const [[key, val]] = model.condition;\r\n      let setExpanded = value[key] === val;\r\n      if (val === \"false\") setExpanded = !val;\r\n      else if (val === \"true\") setExpanded = !!val;\r\n\r\n      if (model.invert) setExpanded = !setExpanded;\r\n\r\n      if (setExpanded && !expanded) toggleExpand(setExpanded);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [model]);\r\n\r\n  return null;\r\n};\r\n\r\nexport default MultigroupPanelOpenByValue;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst getId = (item, model) =>\r\n  item.id.replace(new RegExp(`^${model.id}.`, \"i\"), \"\");\r\n\r\nconst MultigroupView = ({ value, view, model, path }) => {\r\n  const { className, rowClassName } = model;\r\n\r\n  value = value || [];\r\n  if (model.limit) value = value.slice(0, model.limit);\r\n\r\n  return (\r\n    <Wrapper className={className}>\r\n      {value.map((item, index) => (\r\n        <Wrapper key={index} className={rowClassName}>\r\n          <ContentTypeRender\r\n            path={`${view.getValuePath(path, model.id)}.${index}`}\r\n            items={\r\n              app().replaceInModel({\r\n                model,\r\n                viewFormat: view.viewFormat,\r\n                fn: ({ model: item }) =>\r\n                  item.id && item.id.indexOf(model.id) === 0\r\n                    ? { ...item, id: getId(item, model) }\r\n                    : item,\r\n              }).item\r\n            }\r\n          />\r\n        </Wrapper>\r\n      ))}\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default MultigroupView;\r\n","import React from \"react\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nconst MultilinetextCount = ({ model, value }) => {\r\n  const { className, renderAs } = model;\r\n\r\n  return (\r\n    <Wrapper className={className} renderAs={renderAs}>\r\n      {value ? value.length : model.fallback}\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default MultilinetextCount;\r\n","import { TextExposedField } from \"nystem-components\";\r\nimport React from \"react\";\r\n\r\nconst MultilinetextExposedField = (props) => <TextExposedField {...props} />;\r\n\r\nexport default MultilinetextExposedField;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst MultilinetextFields = ({ value, model, path }) => {\r\n  if (!value) return null;\r\n  const { limit, item, className } = model;\r\n\r\n  value = value instanceof Array ? value : [value];\r\n  if (limit) value = value.slice(0, limit);\r\n\r\n  return (\r\n    <Wrapper>\r\n      {value.map((val, index) => (\r\n        <Wrapper key={index} className={className}>\r\n          <a href={`http://${val}`} rel=\"noopener noreferrer\" target=\"_blank\">\r\n            <ContentTypeRender path={path} items={item} />\r\n          </a>\r\n        </Wrapper>\r\n      ))}\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default MultilinetextFields;\r\n","const text_mandatory = \"Field is mandatory\";\r\n\r\nexport default ({ value, model }) =>\r\n  model.mandatory &&\r\n  !value &&\r\n  !value.length &&\r\n  (model.text_mandatory || text_mandatory);\r\n","import React from \"react\";\r\nimport { Input, InputWrapper, UseValidator } from \"nystem-components\";\r\nimport validate from \"./validate\";\r\n\r\nconst MultilinetextInput = ({ model, value, setValue, view }) => {\r\n  const [error, setValidated] = UseValidator({ view, validate, value, model });\r\n  value = value instanceof Array ? value : value ? [value] : [];\r\n\r\n  value = value.filter((value) => value !== \"\");\r\n  value.push(\"\");\r\n\r\n  const onChange = (itemValue, index) => {\r\n    value[index] = itemValue;\r\n    setValidated(true);\r\n    setValue(value);\r\n  };\r\n\r\n  return (\r\n    <InputWrapper model={model} error={error}>\r\n      {value.map((value, index) => (\r\n        <div key={index}>\r\n          <Input\r\n            className=\"textInputDefault\"\r\n            value={value}\r\n            onChange={(value) => onChange(value, index)}\r\n          />\r\n        </div>\r\n      ))}\r\n    </InputWrapper>\r\n  );\r\n};\r\n\r\nexport default MultilinetextInput;\r\n","import React from \"react\";\r\n\r\nclass MultilinetextInputlist extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    let val = props.value || [];\r\n    if (!(val instanceof Array)) val = [val];\r\n    if (props.limit && val.length > props.limit)\r\n      return { value: val.concat([]) };\r\n    return { value: val.concat([\"\"]) };\r\n  }\r\n  handleChange() {\r\n    const val = [];\r\n    for (let i = 0; i < this.state.value.length; i++) {\r\n      // eslint-disable-next-line react/no-string-refs\r\n      const oneVal = this.refs[`input${i}`].value;\r\n      if (oneVal) val.push(oneVal);\r\n    }\r\n    if (this.props.setValue) this.props.setValue(val);\r\n    if (val.length > this.props.limit)\r\n      this.setState({\r\n        value: val.concat([]),\r\n      });\r\n    else\r\n      this.setState({\r\n        value: val.concat([\"\"]),\r\n      });\r\n  }\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (this.props.value !== nextProps.value) {\r\n      let val = nextProps.value;\r\n      if (typeof nextProps.value === \"string\") val = [nextProps.value];\r\n      if (this.props.limit && val.length > this.props.limit)\r\n        this.setState({ value: val.concat([]) });\r\n      else this.setState({ value: val.concat([\"\"]) });\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    if (this.props.focus)\r\n      // eslint-disable-next-line react/no-string-refs\r\n      this.refs[`input${this.state.value.length - 1}`].focus();\r\n  }\r\n  render() {\r\n    const self = this;\r\n    function inputField(item, index) {\r\n      return (\r\n        <input\r\n          key={`input${index}`}\r\n          ref={`input${index}`}\r\n          className=\"form-control\"\r\n          value={item}\r\n          onChange={self.handleChange}\r\n          type=\"text\"\r\n        />\r\n      );\r\n    }\r\n    return <div>{this.state.value.map(inputField)}</div>;\r\n  }\r\n}\r\nexport default MultilinetextInputlist;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst MultilinetextItemLink = ({ value, model, path }) => (\r\n  <Wrapper\r\n    renderAs=\"a\"\r\n    className={model.className}\r\n    href={`http://${value}`}\r\n    rel=\"noopener noreferrer\"\r\n    target=\"_blank\"\r\n  >\r\n    <ContentTypeRender path={path} items={model.item} />\r\n  </Wrapper>\r\n);\r\nexport default MultilinetextItemLink;\r\n","import React from \"react\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nconst MultilinetextItemText = ({ model, value }) => (\r\n  <Wrapper\r\n    className={model.className}\r\n    renderAs={model.renderAs}\r\n    translate={model.translate}\r\n  >\r\n    {value || model.fallback}\r\n  </Wrapper>\r\n);\r\n\r\nexport default MultilinetextItemText;\r\n","import React from \"react\";\r\n\r\nclass MultilinetextList extends React.Component {\r\n  render() {\r\n    let { value } = this.props;\r\n    const createItem = function(item, index) {\r\n      const add = value.length !== index + 1 ? \", \" : \"\";\r\n      return (\r\n        <span key={index}>\r\n          <a href={`http://${item}`} rel=\"noopener noreferrer\" target=\"_blank\">\r\n            {item}\r\n          </a>\r\n          {add}\r\n        </span>\r\n      );\r\n    };\r\n    if (!value) return null;\r\n    if (!(value instanceof Array)) value = [value];\r\n    const { model } = this.props;\r\n    const className =\r\n      model.className && !this.props.wrapper ? model.className.join(\" \") : \"\";\r\n    if (value.length > 2)\r\n      return (\r\n        <div className={className.replace(\"btn\", \"\")}>\r\n          {value.map(createItem)}\r\n        </div>\r\n      );\r\n    return <div className={className}>{value.map(createItem)}</div>;\r\n  }\r\n}\r\nexport default MultilinetextList;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst MultilinetextView = ({ value, path, model, view }) => {\r\n  if (!value) return null;\r\n\r\n  value = value instanceof Array ? value : [value];\r\n  const { className, id } = model;\r\n  return (\r\n    <Wrapper className={className}>\r\n      {value.map((nul, index) => (\r\n        <ContentTypeRender\r\n          key={index}\r\n          path={`${path ? `${path}.` : \"\"}${id}.${index}`}\r\n          items={\r\n            app().replaceInModel({\r\n              model,\r\n              viewFormat: view.viewFormat,\r\n              fn: ({ model: item }) =>\r\n                item.id && item.id.startsWith(id)\r\n                  ? { ...item, id: undefined }\r\n                  : item,\r\n            }).item\r\n          }\r\n        />\r\n      ))}\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default MultilinetextView;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport app from \"nystem\";\r\nimport { SelectExposedField } from \"nystem-components\";\r\n\r\nconst ReferenceExposedField = ({ model, view, path }) => {\r\n  const [option, setOption] = useState();\r\n\r\n  useEffect(() => {\r\n    app()\r\n      .database[model.source].search({\r\n        autoUpdate: true,\r\n        filter: app().parseFilter(model.filter, view.getValue, path),\r\n        count: 100,\r\n      })\r\n      .then(({ data: option }) => setOption(option));\r\n  }, [model.filter, model.source, path, view.getValue]);\r\n\r\n  if (!option || option.length === 0) return null;\r\n\r\n  const selectModel = app().clone(model);\r\n  delete selectModel.source;\r\n  delete selectModel.mandatory;\r\n\r\n  selectModel.option = option.map((item) => ({\r\n    ...item,\r\n    text: item[model.textField || \"name\"],\r\n  }));\r\n\r\n  return <SelectExposedField model={selectModel} view={view} />;\r\n};\r\n\r\nexport default ReferenceExposedField;\r\n","import React from \"react\";\r\nimport {\r\n  ReferenceInput,\r\n  RouterUseQueryStore,\r\n  UseSearch,\r\n} from \"nystem-components\";\r\n\r\nconst ReferenceExposedFieldViews = ({ model, view, path }) => {\r\n  const [value, setValue] = RouterUseQueryStore(model.saveId, \"array\");\r\n  UseSearch({ view, id: model.id, value, exact: true });\r\n\r\n  return (\r\n    <ReferenceInput\r\n      model={{ ...model, mandatory: false, exposed: true }}\r\n      setValue={setValue}\r\n      view={view}\r\n      value={value}\r\n      path={path}\r\n    />\r\n  );\r\n};\r\n\r\nexport default ReferenceExposedFieldViews;\r\n","import React from \"react\";\r\nimport { ContentTypeView, InputWrapper, Wrapper } from \"nystem-components\";\r\n\r\nconst ReferenceFirst = ({ model, view, value = [] }) => {\r\n  value = value instanceof Array ? value[0] : value;\r\n  const { renderFormat, className, source, itemClassName } = model;\r\n\r\n  if (!value) return null;\r\n\r\n  const option = (item) => (\r\n    <ContentTypeView\r\n      key={item}\r\n      contentType={source}\r\n      baseView={view}\r\n      format={renderFormat || \"view\"}\r\n      id={item}\r\n      params={view.params}\r\n      className={itemClassName}\r\n      onReference={(item) => view.event(item.event, { ...item, model })}\r\n    />\r\n  );\r\n\r\n  if (model.wrapper)\r\n    return <InputWrapper model={model}>{option(value)}</InputWrapper>;\r\n\r\n  return <Wrapper className={className}>{option(value)}</Wrapper>;\r\n};\r\nexport default ReferenceFirst;\r\n","export default ({ value, model }) =>\r\n  model.mandatory &&\r\n  (!value || (value instanceof Array && !value[0])) &&\r\n  (model.text_mandatory || \"Field is mandatory\");\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport {\r\n  InputWrapper,\r\n  Wrapper,\r\n  ReferenceSortable,\r\n  Button,\r\n  ViewInViewView,\r\n  UseValidator,\r\n  Input,\r\n  ContentTypeView,\r\n} from \"nystem-components\";\r\nimport validate from \"./validate\";\r\nimport \"./input.css\";\r\n\r\nconst InputSpes = ({ focus, onBlur, onFocus, ...props }) => {\r\n  const inputEl = useRef(null);\r\n  const [inFocus, setInFocus] = useState(false);\r\n  useEffect(() => {\r\n    if (!focus || inFocus) return;\r\n    inputEl.current.focus();\r\n  }, [focus, inFocus, onBlur]);\r\n\r\n  let { className } = props;\r\n  className = className instanceof Array ? className.join(\" \") : className;\r\n\r\n  return (\r\n    <Input\r\n      ref={inputEl}\r\n      {...props}\r\n      className={className || \"sm:w-1/2 w-full\"}\r\n      onChange={props.onChange}\r\n      onFocus={() => {\r\n        setInFocus(true);\r\n        if (onFocus) onFocus();\r\n      }}\r\n      onBlur={() => {\r\n        setInFocus(false);\r\n        onBlur();\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nconst InlineAdd = ({ model, view, path }) => {\r\n  const [isAdding, setIsAdding] = useState(false);\r\n  if (!model.inlineAdd) return null;\r\n  if (!isAdding)\r\n    return (\r\n      <Button\r\n        onClick={() => setIsAdding(true)}\r\n        size=\"sm\"\r\n        className=\"mb-1 float-right\"\r\n      >\r\n        Create new\r\n      </Button>\r\n    );\r\n  return (\r\n    <ViewInViewView\r\n      model={{\r\n        contentType: model.source,\r\n        view: model.inlineAdd,\r\n        className: model.classNameInput,\r\n      }}\r\n      onSave={({ _id }) => {\r\n        view.event(\"referenceAdd\", {\r\n          model,\r\n          path,\r\n          value: { _id },\r\n          close: true,\r\n        });\r\n        setIsAdding(false);\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nconst ReferenceInput = ({ model, view, value = [], setValue, path }) => {\r\n  const { exposed } = model;\r\n  const [inFocus, setInFocus] = useState(false);\r\n  const [searchVal, setSearchVal] = useState(\"\");\r\n  const [error] = UseValidator({ view, validate, value, model });\r\n\r\n  if (!value) value = [];\r\n  value = value instanceof Array ? value : [value];\r\n\r\n  useEffect(() => {\r\n    const modelId = model.id;\r\n    const events = exposed\r\n      ? { add: \"exposedReferenceAdd\", remove: \"exposedReferenceRemove\" }\r\n      : { add: \"referenceAdd\", remove: \"referenceRemove\" };\r\n\r\n    const add = ({ model, value: addValue, close, path: atPath }) => {\r\n      if (path !== atPath || modelId !== model.id) return;\r\n\r\n      const newVal = [...value, addValue._id];\r\n      setValue(model.limit === 1 ? newVal[0] : newVal);\r\n\r\n      const addable = !model.limit || newVal.length < model.limit;\r\n      if (!close) setInFocus(addable);\r\n\r\n      setSearchVal(\"\");\r\n    };\r\n    const remove = ({ model, value: removeValue, path: atPath }) => {\r\n      if (path !== atPath || modelId !== model.id) return;\r\n\r\n      const newVal = value.filter((id) => `${id}` !== `${removeValue._id}`);\r\n      setValue(newVal.length ? newVal : undefined);\r\n      setInFocus(true);\r\n    };\r\n    view.on(events.add, add);\r\n    view.on(events.remove, remove);\r\n    return () => {\r\n      view.off(events.add, add);\r\n      view.off(events.remove, remove);\r\n    };\r\n  }, [view, setValue, value, setInFocus, model.id, model.limit, path, exposed]);\r\n\r\n  let clicked = false;\r\n\r\n  const addable = !model.limit || value.length < model.limit || null;\r\n\r\n  return (\r\n    <InputWrapper\r\n      model={{ ...model, classNameInput: \"relative flex-grow\" }}\r\n      error={error}\r\n    >\r\n      {(value.length || null) && (\r\n        <Wrapper className=\"px-1 pb-2 pt-1 w-full max-w-sm\">\r\n          <ReferenceSortable\r\n            model={model}\r\n            view={view}\r\n            value={value}\r\n            setValue={setValue}\r\n            path={path}\r\n          />\r\n        </Wrapper>\r\n      )}\r\n      {addable && (\r\n        <>\r\n          <InlineAdd model={model} view={view} path={path} />\r\n          <InputSpes\r\n            onFocus={() => setInFocus(true)}\r\n            onBlur={() => {\r\n              if (!clicked) setInFocus(false);\r\n            }}\r\n            onChange={(value) => setSearchVal(value)}\r\n            value={searchVal}\r\n            placeholder=\"Search and add existing\"\r\n            focus={inFocus}\r\n          />\r\n        </>\r\n      )}\r\n      {addable && inFocus && (\r\n        <Wrapper\r\n          className=\"absolute shadow-md sm:w-1/2 w-full overflow-y-auto z-10 max-h-400\"\r\n          onMouseDown={() => {\r\n            clicked = true;\r\n            setInFocus(true);\r\n            setTimeout(() => {\r\n              clicked = false;\r\n            }, 500);\r\n          }}\r\n        >\r\n          <ContentTypeView\r\n            contentType={model.source}\r\n            baseView={view}\r\n            format={model.renderFormatSelect}\r\n            onReference={(item) =>\r\n              view.event(item.event, { ...item, model, path })\r\n            }\r\n            value={{ exclude: value, searchVal }}\r\n          />\r\n        </Wrapper>\r\n      )}\r\n    </InputWrapper>\r\n  );\r\n};\r\nexport default ReferenceInput;\r\n","import React from \"react\";\r\nimport { TextQueryValue } from \"nystem-components\";\r\n\r\nconst ReferenceQueryValue = (props) => <TextQueryValue {...props} />;\r\n\r\nexport default ReferenceQueryValue;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport app from \"nystem\";\r\nimport { SelectInput } from \"nystem-components\";\r\n\r\nconst ReferenceSelect = ({ model, setValue, value, view, path }) => {\r\n  const [option, setOption] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const loadOption = ({ connected }) => {\r\n      if (!connected) return;\r\n\r\n      const namefield = model.namefield ? model.namefield : \"name\";\r\n      app()\r\n        .database[model.source].search({\r\n          filter: app().parseFilter(model.filter, view.getValue, path),\r\n          count: 100,\r\n        })\r\n        .then(({ data }) => {\r\n          app().connection.on(\"connection\", loadOption);\r\n\r\n          setOption(\r\n            data\r\n              ? data.map((item) => ({ _id: item._id, text: item[namefield] }))\r\n              : []\r\n          );\r\n        });\r\n    };\r\n    loadOption({ connected: true });\r\n    return () => {\r\n      app().connection.off(\"connection\", loadOption);\r\n    };\r\n  }, [model, path, view]);\r\n\r\n  if (!value) value = [];\r\n  if (!(value instanceof Array)) value = [value];\r\n\r\n  return (\r\n    <SelectInput\r\n      view={view}\r\n      model={{ ...model, option }}\r\n      setValue={setValue}\r\n      value={value}\r\n    />\r\n  );\r\n};\r\n\r\nexport default ReferenceSelect;\r\n// 57 40 35\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport {\r\n  ContentTypeView,\r\n  InputWrapper,\r\n  DragAndDropList\r\n} from \"nystem-components\";\r\n\r\nclass ReferenceSortable extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.localValue = {};\r\n    [\"setValue\", \"onSave\", \"onDelete\", \"addField\"].forEach(func => {\r\n      this[func] = this[func].bind(this);\r\n    });\r\n    this.props.view.on(\"save\", this.onSave);\r\n    this.state = {\r\n      value: this.props.value\r\n    };\r\n  }\r\n  setValue(id, val) {\r\n    let { value } = this.state;\r\n    if (!value) value = [];\r\n    if (id) value[id] = val;\r\n    else value = val;\r\n    if (this.props.setValue) this.props.setValue(this.model.id, value);\r\n  }\r\n  onSave(data) {\r\n    if (!this.state.value) return true;\r\n    for (let i = 0; i < this.state.value.length; i++)\r\n      if (this.localValue[this.state.value[i]])\r\n        app().database[this.model.source].save({\r\n          data: this.localValue[this.state.value[i]]\r\n        });\r\n    return true;\r\n  }\r\n  componentWillReceiveProps(nextProps) {\r\n    this.setState({\r\n      value: nextProps.value\r\n    });\r\n  }\r\n  onDelete(id) {\r\n    this.state.value.splice(this.state.value.indexOf(id), 1);\r\n    const self = this;\r\n    setTimeout(() => {\r\n      if (self.props.setValue)\r\n        self.props.setValue(self.props.model.id, self.state.value);\r\n    }, 0);\r\n    return true;\r\n  }\r\n  addField(data) {\r\n    if (!data.hashtag || !this.model.addTransform) return;\r\n    const fieldBase = JSON.parse(data.hashtag.replace(/'/g, '\"'));\r\n    const out = {};\r\n    for (\r\n      let i = 0;\r\n      this.model.addTransform && i < this.model.addTransform.length;\r\n      i++\r\n    )\r\n      out[this.model.addTransform[i][0]] = app().utils.insertValues(\r\n        this.model.addTransform[i][1],\r\n        fieldBase\r\n      );\r\n    return out;\r\n  }\r\n  render() {\r\n    const { model } = this.props;\r\n    let { value } = this.state;\r\n    if (!value) value = [];\r\n    if (!(value instanceof Array)) value = [value];\r\n    const className =\r\n      model.className && !this.props.wrapper ? model.className.join(\" \") : \"\";\r\n    const self = this;\r\n    function option(item, index) {\r\n      let id = item;\r\n      function onChange(fieldId, value) {\r\n        self.localValue[id] = value;\r\n      }\r\n      if (typeof item !== \"string\") {\r\n        if (!item._id) item._id = app.uuid();\r\n        id = item._id;\r\n        self.localValue[id] = item;\r\n        self.state.value[index] = id;\r\n      }\r\n      return (\r\n        <ContentTypeView\r\n          key={id}\r\n          noForm=\"true\"\r\n          contentType={model.source}\r\n          format={model.renderFormat ? model.renderFormat : \"view\"}\r\n          onDelete={self.onDelete}\r\n          onMissing={self.onDelete}\r\n          onChange={onChange}\r\n          value={self.localValue[id] ? self.localValue[id] : null}\r\n          id={self.localValue[id] ? null : id}\r\n          baseView={self.props.view}\r\n        />\r\n      );\r\n    }\r\n    this.id = app().uuid();\r\n    if (model.wrapper)\r\n      return (\r\n        <InputWrapper model={model} error={this.state.error}>\r\n          <div className=\"row col-sm-12\">\r\n            <DragAndDropList\r\n              ref=\"list\"\r\n              value={this.state.value}\r\n              setValue={this.setValue}\r\n              onAdd={this.addField}\r\n            >\r\n              {value.map(option)}\r\n            </DragAndDropList>\r\n          </div>\r\n        </InputWrapper>\r\n      );\r\n    return (\r\n      <div className={className}>\r\n        <DragAndDropList\r\n          ref=\"list\"\r\n          value={this.state.value}\r\n          setValue={this.setValue}\r\n          onAdd={this.addField}\r\n        >\r\n          {value.map(option)}\r\n        </DragAndDropList>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default ReferenceSortable;\r\n","import { TextSortBy } from \"nystem-components\";\r\nimport React from \"react\";\r\n\r\nconst ReferenceSortBy = (props) => <TextSortBy {...props} />;\r\nexport default ReferenceSortBy;\r\n","import React from \"react\";\r\nimport { ContentTypeView, InputWrapper, Wrapper } from \"nystem-components\";\r\n\r\nconst ReferenceView = ({ model, view, value = [], path }) => {\r\n  value = value instanceof Array ? value : [value];\r\n  const { renderFormat, className, source, itemClassName } = model;\r\n\r\n  const option = (item) => (\r\n    <ContentTypeView\r\n      key={item}\r\n      contentType={source}\r\n      baseView={view}\r\n      format={renderFormat || \"view\"}\r\n      id={item}\r\n      params={view.params}\r\n      className={itemClassName}\r\n      onReference={(item) => view.event(item.event, { ...item, model, path })}\r\n    />\r\n  );\r\n\r\n  if (model.wrapper)\r\n    return <InputWrapper model={model}>{value.map(option)}</InputWrapper>;\r\n\r\n  return <Wrapper className={className}>{value.map(option)}</Wrapper>;\r\n};\r\nexport default ReferenceView;\r\n","import React from \"react\";\r\nimport { Button } from \"nystem-components\";\r\n\r\nconst SelectButton = ({ model, setValue, value }) => {\r\n  const { trueState, trueOnState, falseState, btnType, falseOnState } = model;\r\n\r\n  const handleChange = () =>\r\n    setValue(trueOnState.indexOf(value) ? trueState : falseState);\r\n\r\n  let text = \"\";\r\n  let type = false;\r\n\r\n  if (trueOnState.indexOf(value) !== -1) {\r\n    ({ text } = model);\r\n    type = btnType;\r\n  } else if (falseOnState.indexOf(value) !== -1) {\r\n    text = model.falseText;\r\n    type = model.falseBtnType;\r\n  }\r\n\r\n  return (\r\n    <Button type={type} className={model.className} onClick={handleChange}>\r\n      {text || \"...\"}\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default SelectButton;\r\n","import React, { useEffect } from \"react\";\r\nimport { SelectInput, UseSearch, RouterUseQueryStore } from \"nystem-components\";\r\n\r\nconst SelectExposedField = ({ model, view }) => {\r\n  const [value, setValue] = RouterUseQueryStore(model.saveId);\r\n  UseSearch({ view, id: model.id, value, exact: model.exact });\r\n\r\n  useEffect(() => {\r\n    if (value && !model.option.map((option) => option._id).includes(value))\r\n      setValue(false);\r\n  }, [model.option, setValue, value]);\r\n\r\n  return (\r\n    <SelectInput\r\n      model={{\r\n        ...model,\r\n        clearButton: true,\r\n        selectAllOnFocus: true,\r\n      }}\r\n      value={value}\r\n      setValue={setValue}\r\n    />\r\n  );\r\n};\r\nexport default SelectExposedField;\r\n","export default ({ value, model }) => {\r\n  value = value || [];\r\n  if (!(value instanceof Array)) value = [value];\r\n\r\n  return (\r\n    model.mandatory &&\r\n    !value.length &&\r\n    (model.text_mandatory || \"Field is mandatory\")\r\n  );\r\n};\r\n","import React, { useRef, useMemo, useEffect, useState } from \"react\";\r\nimport app from \"nystem\";\r\nimport {\r\n  InputWrapper,\r\n  UseValidator,\r\n  Button,\r\n  Wrapper,\r\n  Select,\r\n} from \"nystem-components\";\r\nimport validate from \"./validate\";\r\n\r\nconst normalizeOption = ({ option, optionObj }) =>\r\n  !option\r\n    ? optionObj || []\r\n    : option.map((item) =>\r\n        typeof item === \"string\" || typeof item === \"number\"\r\n          ? {\r\n              _id: item,\r\n              text: item,\r\n            }\r\n          : item\r\n      );\r\n\r\nconst RenderButton = ({ option, handleChange, value, model }) => (\r\n  <Wrapper className={model.classNameInput}>\r\n    {option.map(({ text, _id }) => (\r\n      <Button\r\n        onClick={() => handleChange(_id)}\r\n        className={[model.classNameItem, \"mr-2 my-1\"]}\r\n        key={_id}\r\n        type={value.indexOf(_id) !== -1 ? \"primary\" : \"secondary\"}\r\n        size=\"xs\"\r\n      >\r\n        {text}\r\n      </Button>\r\n    ))}\r\n  </Wrapper>\r\n);\r\n\r\nconst RenderCheckbox = ({\r\n  model,\r\n  option,\r\n  handleChange,\r\n  value,\r\n  limit,\r\n  inline,\r\n}) => {\r\n  const ref = useRef();\r\n  useEffect(() => {\r\n    if (!ref.current || !model.focus) return;\r\n    ref.current.focus();\r\n  }, [model.focus, option.length]);\r\n\r\n  return (\r\n    <Wrapper className={inline && \"flex flex-wrap items-center\"}>\r\n      {option.map(({ text, _id }, index) => (\r\n        <Wrapper className={[\"px-2\", \"my-1\"]} key={_id}>\r\n          <label>\r\n            <input\r\n              ref={index === 0 ? ref : undefined}\r\n              onChange={() => handleChange(_id)}\r\n              type={limit === 1 ? \"radio\" : \"checkbox\"}\r\n              checked={value.indexOf(_id) !== -1 ? \"checked\" : false}\r\n              className=\"p-1 mr-2\"\r\n            />\r\n            {text}\r\n          </label>\r\n        </Wrapper>\r\n      ))}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nconst RenderDropdown = ({\r\n  option,\r\n  handleChange,\r\n  value,\r\n  placeholder,\r\n  model,\r\n}) => (\r\n  // eslint-disable-next-line jsx-a11y/no-onchange\r\n  <Select\r\n    className={model.classNameInput || \"sm:w-1/2 w-full p-2 border\"}\r\n    onChange={(e) => handleChange(e.target.value)}\r\n    value={value[0]}\r\n  >\r\n    <option key=\"_empty\" value=\"\">\r\n      {model.dropdownText || placeholder || \" - choose - \"}\r\n    </option>\r\n    {option.map(({ text, _id }) => (\r\n      <option key={_id || \"___\"} value={_id || \"___\"}>\r\n        {text}\r\n      </option>\r\n    ))}\r\n  </Select>\r\n);\r\n\r\nconst renderTypes = {\r\n  dropdown: RenderDropdown,\r\n  button: RenderButton,\r\n  checkbox: RenderCheckbox,\r\n};\r\n\r\nconst SelectInput = ({ model, value, view, setValue }) => {\r\n  const [id] = useState(app().uuid);\r\n  const [error, setValidated] = UseValidator({ view, validate, value, model });\r\n\r\n  useEffect(() => {\r\n    if (!view || view.value._id || value.length || !model.default) return;\r\n\r\n    setTimeout(() => {\r\n      setValue(model.default);\r\n    }, 0);\r\n  }, [view, value, model, setValue]);\r\n\r\n  const { placeholder, inline, render } = model;\r\n\r\n  const limit = render === \"dropdown\" ? 1 : parseInt(model.limit, 10);\r\n  if (!value) value = [];\r\n  if (!(value instanceof Array)) value = [value];\r\n\r\n  const option = useMemo(() => normalizeOption(model), [model]);\r\n\r\n  const handleChange = (id) => {\r\n    if (id === \"\") id = undefined;\r\n    if (value.indexOf(id) !== -1) value.splice(value.indexOf(id), 1);\r\n    else value.push(id);\r\n\r\n    if (limit && limit < value.length) value.shift();\r\n\r\n    if (limit === 1) setValue(value[0]);\r\n    else setValue(value);\r\n    setValidated(true);\r\n  };\r\n  useEffect(() => {\r\n    if (value.length === 0 && model.default) handleChange(model.default);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  return (\r\n    <InputWrapper id={id} model={model} error={error}>\r\n      {renderTypes[render || \"checkbox\"]({\r\n        option,\r\n        handleChange,\r\n        value,\r\n        limit,\r\n        inline,\r\n        placeholder,\r\n        model,\r\n        id,\r\n      })}\r\n    </InputWrapper>\r\n  );\r\n};\r\nexport default SelectInput;\r\n","import React from \"react\";\r\nimport { TextQueryValue } from \"nystem-components\";\r\n\r\nconst SelectQueryValue = (props) => <TextQueryValue {...props} />;\r\n\r\nexport default SelectQueryValue;\r\n","import React from \"react\";\r\nimport { TextSortBy } from \"nystem-components\";\r\n\r\nconst SelectSortBy = (props) => <TextSortBy {...props} />;\r\nexport default SelectSortBy;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nconst SelectView = ({ model, value }) => {\r\n  const { className, renderAs, option } = model;\r\n  let val = value || model.fallback;\r\n\r\n  val =\r\n    option\r\n      .map((item) =>\r\n        typeof item === \"string\" ? { _id: item, text: item } : item\r\n      )\r\n      .find(({ _id }) => value === _id) || {};\r\n\r\n  return (\r\n    <Wrapper renderAs={renderAs} className={className}>\r\n      {app().t(val.text)}\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default SelectView;\r\n","import React from \"react\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nconst Select = ({ className, ...props }) => (\r\n  <Wrapper renderAs=\"select\" className={className} {...props} />\r\n);\r\nexport default Select;\r\n","import React, { useState } from \"react\";\r\nimport { Input, Wrapper, InputWrapper } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst SliderInput = ({ model, setValue, value }) => {\r\n  const [id] = useState(app().uuid);\r\n  const val = model.absolute ? value : ((value - model.min) / model.max) * 100;\r\n  const display = model.precision\r\n    ? parseFloat(val).toFixed(model.precision)\r\n    : parseInt(val, 10);\r\n\r\n  return (\r\n    <InputWrapper id={id} model={model} className={model.className}>\r\n      <Input\r\n        id={id}\r\n        placeholder={app().t(model.text)}\r\n        className=\"w-full\"\r\n        value={parseInt(value * 10, 10) || 0}\r\n        onChange={(value) => setValue(value / 10)}\r\n        type=\"range\"\r\n        min={model.min * 10}\r\n        max={model.max * 10}\r\n      />\r\n      <Wrapper className={model.textClass}>{`(${display || 0}%)`}</Wrapper>\r\n    </InputWrapper>\r\n  );\r\n};\r\n\r\nexport default SliderInput;\r\n","import React from \"react\";\r\nimport { TextLink } from \"nystem-components\";\r\n\r\nconst SliderLink = (props) => <TextLink {...props} />;\r\nexport default SliderLink;\r\n","import React from \"react\";\r\nimport { TextView } from \"nystem-components\";\r\n\r\nconst SliderView = ({ value, ...props }) => {\r\n  const { precision } = props.model;\r\n  // eslint-disable-next-line eqeqeq\r\n  value = precision == 0 ? parseInt(value, 10) : value.toFixed(precision);\r\n  return <TextView value={value} {...props} />;\r\n};\r\nexport default SliderView;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { TextInput, UseSearch, RouterUseQueryStore } from \"nystem-components\";\r\n\r\nconst TextExposedField = ({ model, view }) => {\r\n  const [className, setClassName] = useState(\"\");\r\n  const [value, setValue, ref] = RouterUseQueryStore(model.saveId);\r\n  UseSearch({ view, id: model.id, value, exact: model.exact || undefined });\r\n\r\n  useEffect(() => {\r\n    if (!value) {\r\n      setClassName(\"\");\r\n      return;\r\n    }\r\n\r\n    setClassName(\"border-orange-300 outline-none\");\r\n\r\n    let timer = setTimeout(() => {\r\n      setClassName(\"border-green-500 outline-none\");\r\n      timer = setTimeout(() => {\r\n        timer = false;\r\n        setClassName(\"\");\r\n      }, 500);\r\n    }, 200);\r\n\r\n    return () => {\r\n      if (timer) clearTimeout(timer);\r\n    };\r\n  }, [value]);\r\n\r\n  return (\r\n    <TextInput\r\n      ref={ref}\r\n      model={{\r\n        ...model,\r\n        mandatory: false,\r\n        clearButton: !model.noClearButton,\r\n        classNameInput: [\r\n          !model.noWrapper && \"w-full\",\r\n          className,\r\n          model.classNameInput,\r\n        ],\r\n        selectAllOnFocus: true,\r\n      }}\r\n      value={value}\r\n      setValue={setValue}\r\n    />\r\n  );\r\n};\r\n\r\nexport default TextExposedField;\r\n","export default ({ value, model }) =>\r\n  model.mandatory && !value && (model.text_mandatory || \"Field is mandatory\");\r\n","import React, { useState } from \"react\";\r\nimport { InputWrapper, Input, Icon, UseValidator } from \"nystem-components\";\r\nimport app from \"nystem\";\r\nimport validate from \"./validate\";\r\nimport \"./input.css\";\r\n\r\nconst ClearButton = ({ value, setValue }) =>\r\n  !value ? null : (\r\n    <Icon\r\n      onClick={() => setValue(\"\")}\r\n      className=\"w-8 h-8 p-2 relative right-8 cursor-pointer\"\r\n      icon=\"close\"\r\n      aria-hidden=\"true\"\r\n    />\r\n  );\r\n\r\nconst TextInput = ({ model, view, focus, setValue, value }, ref) => {\r\n  const [error, setValidated] = UseValidator({ view, validate, value, model });\r\n  const { disabled, length, text, clearButton, classNameInput = [] } = model;\r\n  const [id] = useState(app().uuid);\r\n\r\n  return (\r\n    <InputWrapper\r\n      id={id}\r\n      model={{\r\n        ...model,\r\n        classNameInput: \"relative flex w-full\",\r\n      }}\r\n      error={error}\r\n    >\r\n      <Input\r\n        id={id}\r\n        ref={ref}\r\n        placeholder={model.placeholder || app().t(text)}\r\n        className={classNameInput}\r\n        value={value || \"\"}\r\n        maxLength={length}\r\n        onChange={(value) => setValue(value)}\r\n        disabled={disabled}\r\n        type=\"text\"\r\n        focus={model.focus || focus}\r\n        onBlur={() => setValidated(true)}\r\n        selectAllOnFocus={model.selectAllOnFocus}\r\n      />\r\n      {clearButton ? <ClearButton value={value} setValue={setValue} /> : null}\r\n    </InputWrapper>\r\n  );\r\n};\r\nexport default React.forwardRef(TextInput);\r\n","import React from \"react\";\r\nimport { Link, Wrapper } from \"nystem-components\";\r\n\r\nconst TextLink = ({ model, view, value }) => {\r\n  const id = view.value ? `/${view.value._id}` : \"\";\r\n  const format = model.toFormat || \"input\";\r\n\r\n  if (model.renderAs)\r\n    return (\r\n      <Wrapper renderAs={model.renderAs} className={model.className}>\r\n        <Link\r\n          to={`${model.addToPath || \"\"}/${view.contentType}/${format}${id}`}\r\n        >\r\n          {value || model.fallback}\r\n        </Link>\r\n      </Wrapper>\r\n    );\r\n\r\n  return (\r\n    <Link\r\n      renderAs={model.renderAs}\r\n      className={model.className}\r\n      to={`${model.addToPath || \"\"}/${view.contentType}/${format}${id}`}\r\n    >\r\n      {value || model.fallback}\r\n    </Link>\r\n  );\r\n};\r\nexport default TextLink;\r\n","import { useState, useEffect, useCallback } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst toType = {\r\n  reference: (val) => val,\r\n  text: (val) => val,\r\n  select: (val) => val,\r\n  int: (val) => parseInt(val || 0, 10),\r\n  float: (val) => parseFloat(val),\r\n  array: (val) => (val === \"\" ? undefined : val),\r\n};\r\n\r\nconst TextQueryValue = ({ model, setValue, value }) => {\r\n  const { saveId, type, push } = model;\r\n  const history = useHistory();\r\n  const [enabled, setEnabled] = useState(false);\r\n\r\n  const { search } = history.location;\r\n\r\n  const getQueryValue = useCallback(\r\n    (query) => {\r\n      if (!saveId) return \"\";\r\n      const reg = `\\\\&${saveId}=([^\\\\s&]+)`;\r\n      const [, value = \"\"] = query.match(new RegExp(reg, \"im\")) || [];\r\n      return type ? toType[type](value) : value;\r\n    },\r\n    [saveId, type]\r\n  );\r\n\r\n  const setRouterValue = (value) => {\r\n    if (!saveId) return;\r\n\r\n    const { pathname, search } = history.location;\r\n\r\n    const reg = `(^\\\\?)|(\\\\&${saveId}=[^\\\\s&]*)`;\r\n    const rest = search.replace(new RegExp(reg, \"gi\"), \"\");\r\n    const add = value ? `&${saveId}=${value}` : \"\";\r\n\r\n    history[push ? \"push\" : \"replace\"](`${pathname}?${rest}${add}`);\r\n  };\r\n\r\n  const qVal = getQueryValue(search);\r\n\r\n  value = value || \"\";\r\n  if (enabled && value !== qVal) setRouterValue(value);\r\n\r\n  useEffect(() => {\r\n    if (value) return;\r\n\r\n    setTimeout(() => {\r\n      if (qVal) setValue(qVal);\r\n      setEnabled(true);\r\n    }, 10);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  return null;\r\n};\r\n\r\nexport default TextQueryValue;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { Wrapper, DatabaseSearchContext, Icon } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst TextSortBy = ({ model, view }) => {\r\n  const { search } = useContext(DatabaseSearchContext);\r\n  const { id, text, className } = model;\r\n  const { sortby, reverse } = search;\r\n  const [ev, setEv] = useState(false);\r\n\r\n  const sortbyId = sortby instanceof Array ? sortby[0] : sortby;\r\n  const reverse1 = reverse instanceof Array ? reverse[0] : reverse;\r\n\r\n  const handleSort = (event) => {\r\n    if (event) event.preventDefault();\r\n\r\n    const rev = sortbyId === id ? !reverse : false;\r\n    const setSearch = (search) => ({\r\n      ...search,\r\n      reverse: rev,\r\n      sortby: id,\r\n    });\r\n\r\n    setEv(setSearch);\r\n    view.on(\"setSearch\", 200, setSearch);\r\n    view.event(\"setSearch\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!ev) return;\r\n\r\n    return () => {\r\n      view.off(\"setSearch\", ev);\r\n      setEv(false);\r\n    };\r\n  }, [ev, view]);\r\n\r\n  return (\r\n    <Wrapper\r\n      className={[className, \"flex\"]}\r\n      renderAs=\"a\"\r\n      href={id}\r\n      onClick={handleSort}\r\n    >\r\n      <Wrapper renderAs=\"span\">{`${app().t(text)} `}</Wrapper>\r\n      {sortbyId === id ? (\r\n        <Icon\r\n          icon={`arrow-${reverse1 ? \"up\" : \"down\"}`}\r\n          className=\"ml-1 w-4 font-bold\"\r\n        />\r\n      ) : null}\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default TextSortBy;\r\n","import React from \"react\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nconst TextView = ({ model, value }) => (\r\n  <Wrapper\r\n    className={model.className}\r\n    renderAs={model.renderAs}\r\n    translate={model.translate}\r\n    title={value || model.fallback}\r\n  >\r\n    {value || model.fallback}\r\n  </Wrapper>\r\n);\r\n\r\nexport default TextView;\r\n","import React from \"react\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nconst TextareaFormatted = ({ model, value }) => (\r\n  <Wrapper\r\n    className={model.className}\r\n    renderAs={model.renderAs}\r\n    translate={model.translate}\r\n    dangerouslySetInnerHTML={{\r\n      __html: (value || model.fallback || \"\")\r\n        .substring(0, model.cutPoint || 100000)\r\n        .replace(\r\n          /(https?:\\/\\/[^\\s]+)/gim,\r\n          '<a target=\"_blank\" class=\"text-gray-400\" href=\"$1\">$1</a>'\r\n        )\r\n        .replace(/[\\n]/g, \"<br>\"),\r\n    }}\r\n  />\r\n);\r\n\r\nexport default TextareaFormatted;\r\n","export default ({ value, model }) =>\r\n  model.mandatory && !value && (model.text_mandatory || \"Field is mandatory\");\r\n","import React, { useState } from \"react\";\r\nimport { InputWrapper, Input, UseValidator } from \"nystem-components\";\r\nimport app from \"nystem\";\r\nimport validate from \"./validate\";\r\n\r\nconst TextInput = ({ model, view, focus, setValue, value }, ref) => {\r\n  const [error, setValidated] = UseValidator({ view, validate, value, model });\r\n  const { disabled, length, text, classNameInput = [] } = model;\r\n  const [id] = useState(app().uuid);\r\n\r\n  const style = model.height && { height: `${model.height}px` };\r\n  const contents = (\r\n    <Input\r\n      id={id}\r\n      ref={ref}\r\n      placeholder={model.placeholder || app().t(text)}\r\n      className={classNameInput}\r\n      value={value || \"\"}\r\n      maxLength={length}\r\n      onChange={(value) => setValue(value)}\r\n      disabled={disabled}\r\n      type=\"textarea\"\r\n      focus={model.focus || focus}\r\n      onBlur={() => setValidated(true)}\r\n      selectAllOnFocus={model.selectAllOnFocus}\r\n      style={style}\r\n    />\r\n  );\r\n\r\n  return model.noWrapper ? (\r\n    contents\r\n  ) : (\r\n    <InputWrapper\r\n      id={id}\r\n      model={{\r\n        ...model,\r\n        classNameInput: \"relative flex-grow flex\",\r\n      }}\r\n      error={error}\r\n    >\r\n      {contents}\r\n    </InputWrapper>\r\n  );\r\n};\r\nexport default React.forwardRef(TextInput);\r\n","import React from \"react\";\r\nimport { TextLink } from \"nystem-components\";\r\n\r\nconst TextareaLink = (props) => <TextLink {...props} />;\r\nexport default TextareaLink;\r\n","import React from \"react\";\r\nimport { TextSortBy } from \"nystem-components\";\r\n\r\nconst TextareaSortBy = (props) => <TextSortBy {...props} />;\r\nexport default TextareaSortBy;\r\n","import React from \"react\";\r\nimport { TextView } from \"nystem-components\";\r\n\r\nconst TextareaView = (props) => <TextView {...props} />;\r\nexport default TextareaView;\r\n","import { useEffect } from \"react\";\r\nimport app from \"nystem\";\r\n\r\nconst ViewButtonAutoSave = ({ view }) => {\r\n  useEffect(() => {\r\n    let saveIds = [];\r\n    let saveDelay = false;\r\n\r\n    const saveToDb = async () => {\r\n      const { errors = [] } = await view.event(\"validate\");\r\n      if ((!saveIds.length && view.value._id) || errors.length) return;\r\n\r\n      const reduceById = (res, id) => ({ ...res, [id]: view.getValue(id) });\r\n\r\n      const hasId = !!(view.value._id || view.id);\r\n\r\n      const data = await app().database[view.contentType].save({\r\n        data: hasId\r\n          ? saveIds.reduce(reduceById, {\r\n              _id: view.value._id || view.id,\r\n            })\r\n          : view.value,\r\n        fields: hasId,\r\n      });\r\n\r\n      if (!view.value._id) await view.setValue({ path: \"_id\", value: data.id });\r\n\r\n      view.event(\"save\", view.value);\r\n\r\n      saveIds = [];\r\n    };\r\n\r\n    const handleChange = ({ id, value }) => {\r\n      if (id === \"_id\" || ((!value || value._id) && !id)) return;\r\n\r\n      if (!id) saveIds = Object.keys(value);\r\n      else {\r\n        [id] = id.split(\".\");\r\n\r\n        if (saveIds.includes(id)) return;\r\n        saveIds.push(id);\r\n      }\r\n\r\n      saveDelay = setTimeout(saveToDb, 200);\r\n    };\r\n    if (!view.value._id && Object.keys(view.value).length)\r\n      saveDelay = setTimeout(saveToDb, 200);\r\n\r\n    view.on(\"change\", -2100, handleChange);\r\n    return () => {\r\n      view.off(\"change\", handleChange);\r\n      if (saveDelay) clearTimeout(saveDelay);\r\n    };\r\n  }, [view]);\r\n\r\n  return null;\r\n};\r\nexport default ViewButtonAutoSave;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Icon, Wrapper, Button } from \"nystem-components\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nconst ViewButtonBack = ({ children, model, history, ...rest }) => {\r\n  const { className, text, fwd, size, icon, btnType } = model || rest;\r\n\r\n  if (icon)\r\n    return (\r\n      <Icon className={className} icon={icon} onClick={() => history.go(-1)} />\r\n    );\r\n\r\n  return (\r\n    <Button\r\n      size={size}\r\n      type={btnType}\r\n      className={className}\r\n      onClick={() => history.go(fwd ? 1 : -1)}\r\n    >\r\n      <Icon icon={fwd ? \"arrow-right\" : \"arrow-left\"} className=\"w-6 h-6\" />\r\n      <Wrapper>{children || app().t(text)}</Wrapper>\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default withRouter(ViewButtonBack);\r\n","import React, { useState } from \"react\";\r\nimport app from \"nystem\";\r\nimport { Button } from \"nystem-components\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nconst ViewButtonDelete = ({ view, model, history }) => {\r\n  const { className, size, btnType, deletedText } = model;\r\n  const [text, setText] = useState(model.text);\r\n\r\n  const handleDelete = (event) => {\r\n    if (model.stopPropagation) event.stopPropagation();\r\n\r\n    if (view.event(\"delete\"))\r\n      app()\r\n        .database[view.contentType].delete({ id: view.value._id })\r\n        .then(() =>\r\n          model.redirectURL\r\n            ? history.replace(model.redirectURL)\r\n            : setText(deletedText)\r\n        );\r\n  };\r\n\r\n  return (\r\n    <Button\r\n      className={className}\r\n      size={size}\r\n      onMouseDown={(event) => {\r\n        if (model.stopPropagation) event.stopPropagation();\r\n      }}\r\n      onClick={handleDelete}\r\n      type={btnType}\r\n    >\r\n      {app().t(text || \"Delete\")}\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default withRouter(ViewButtonDelete);\r\n","import React, { useState, useEffect, useCallback, useMemo } from \"react\";\r\nimport app from \"nystem\";\r\nimport { Button, Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst EventButton = ({ model, view, sendEvent }) => {\r\n  const buttonStates = useMemo(\r\n    () => ({\r\n      default: {\r\n        text: model.text ? model.text : \"Send\",\r\n        type: model.btnType ? model.btnType : \"secondary\",\r\n      },\r\n      confirm: {\r\n        text: \"Are you sure?\",\r\n        type: \"danger\",\r\n      },\r\n      saving: {\r\n        text: \"Sending ...\",\r\n        type: \"warning\",\r\n      },\r\n      success: {\r\n        text: \"Sent\",\r\n        type: \"success\",\r\n      },\r\n    }),\r\n    [model.btnType, model.text]\r\n  );\r\n\r\n  const [button, setButton] = useState(buttonStates.default);\r\n  const [savedTimer, setSavedTimer] = useState(false);\r\n  const [activeKeySaveView, setActiveKeySaveView] = useState(false);\r\n  const [error, setError] = useState(false);\r\n\r\n  const handleSubmit = useCallback(\r\n    async (event) => {\r\n      if (event) event.preventDefault();\r\n      const { errors = [] } = await view.event(\"validate\");\r\n      if (errors.length) {\r\n        setError(\"Correct validation errors\");\r\n        return;\r\n      }\r\n\r\n      if (model.confirm && button !== buttonStates.confirm) {\r\n        setButton(buttonStates.confirm);\r\n        setSavedTimer(setTimeout(() => setButton(buttonStates.default), 1000));\r\n      } else {\r\n        setButton(buttonStates.saving);\r\n\r\n        const data = await sendEvent();\r\n        setButton(buttonStates.success);\r\n        setSavedTimer(setTimeout(() => setButton(buttonStates.default), 1000));\r\n\r\n        if (data.redirectToPath) app().router.click(data.redirectToPath);\r\n      }\r\n    },\r\n    [button, buttonStates, model.confirm, sendEvent, view]\r\n  );\r\n\r\n  useEffect(() => {\r\n    const handleKeySave = () => {\r\n      if (activeKeySaveView) handleSubmit();\r\n    };\r\n    const inactivateKeySaveView = () => setActiveKeySaveView(false);\r\n    const activateKeySaveView = () => {\r\n      app().event(\"inactivateKeySaveView\");\r\n      setActiveKeySaveView(true);\r\n    };\r\n\r\n    if (model.saveOnKey) {\r\n      view.on(\"submit\", handleSubmit);\r\n      app().on(\"keypressSaveEvent\", handleKeySave);\r\n      app().on(\"inactivateKeySaveView\", inactivateKeySaveView);\r\n      setActiveKeySaveView(false);\r\n      view.on(\"change\", activateKeySaveView);\r\n    }\r\n\r\n    return () => {\r\n      if (savedTimer) clearTimeout(savedTimer);\r\n      if (model.saveOnKey) {\r\n        view.off(\"submit\", handleSubmit);\r\n        view.off(\"change\", activateKeySaveView);\r\n        app().off(\"keypressSaveEvent\", handleKeySave);\r\n        app().off(\"inactivateKeySaveView\", inactivateKeySaveView);\r\n      }\r\n    };\r\n  }, [activeKeySaveView, handleSubmit, model.saveOnKey, savedTimer, view]);\r\n\r\n  return (\r\n    <>\r\n      <Button\r\n        onClick={handleSubmit}\r\n        className={model.className}\r\n        type={model.btnType}\r\n        size={model.size}\r\n      >\r\n        {app().t(button.text)}\r\n      </Button>\r\n      {error}\r\n    </>\r\n  );\r\n};\r\n\r\nconst pick = (fields, value) =>\r\n  fields\r\n    ? fields.reduce(\r\n        (prev, [id, to]) => (value[id] ? { ...prev, [to]: value[id] } : prev),\r\n        {}\r\n      )\r\n    : value;\r\n\r\nconst ViewButtonEventEmitter = ({ model, view, path }) => {\r\n  const [active, setActive] = useState(false);\r\n\r\n  const emitterByType = {\r\n    connection: {\r\n      event: (type, data) => app().connection.emit({ type, ...data }),\r\n    },\r\n    view: view,\r\n    baseView: view.baseView,\r\n    baseViewBaseView: view.baseView?.baseView,\r\n    baseViewBaseViewBaseView: view.baseView?.baseView?.baseView,\r\n    app: app(),\r\n  };\r\n  const emitter = emitterByType[model.eventType || \"connection\"];\r\n\r\n  useEffect(() => {\r\n    if (!emitter.on) return;\r\n\r\n    const checkActive = () => {\r\n      setActive(false);\r\n    };\r\n\r\n    emitter.on(model.event, checkActive);\r\n    return () => {\r\n      emitter.off(model.event, checkActive);\r\n    };\r\n  }, [emitter, model.event, view.value._id]);\r\n\r\n  const sendEvent = async () => {\r\n    await emitter.event(model.event, {\r\n      event: model.subEvent,\r\n      value: active ? false : pick(model.fields, view.value),\r\n      contentType: view.contentType,\r\n    });\r\n    if (model.inactiveClass || model.activeClass) setActive(!active);\r\n  };\r\n\r\n  if (model.item)\r\n    return (\r\n      <Wrapper\r\n        className={[\r\n          model.className,\r\n          active && model.activeClass,\r\n          !active && model.inactiveClass,\r\n        ]}\r\n        onClick={sendEvent}\r\n      >\r\n        <ContentTypeRender path={path} items={model.item} />\r\n      </Wrapper>\r\n    );\r\n\r\n  return <EventButton model={model} view={view} path={path} />;\r\n};\r\nexport default ViewButtonEventEmitter;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport app from \"nystem\";\r\nimport * as components from \"nystem-components\";\r\n\r\nconst ViewButtonField2Event = ({ model, view }) => {\r\n  const { capFirst } = app();\r\n\r\n  const { type, format } = model.field[0];\r\n  const [value, setValue] = useState(model.default);\r\n\r\n  const componentName = `${capFirst(type)}${capFirst(\r\n    format || view.viewFormat || \"view\"\r\n  )}`;\r\n  const component =\r\n    components[componentName] || components[`${capFirst(type)}View`];\r\n\r\n  useEffect(() => {\r\n    view.event(model.event, { value });\r\n  }, [model.event, value, view]);\r\n\r\n  return React.createElement(component, {\r\n    value,\r\n    view,\r\n    model: model.field[0],\r\n    setValue,\r\n  });\r\n};\r\nexport default ViewButtonField2Event;\r\n","import React, { useState, useEffect, useMemo, useCallback } from \"react\";\r\nimport app from \"nystem\";\r\nimport { Button, Wrapper } from \"nystem-components\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nconst baseButtonStates = {\r\n  default: {\r\n    text: \"Save\",\r\n    type: \"secondary\",\r\n  },\r\n  saving: {\r\n    text: \"Saving ...\",\r\n    type: \"warning\",\r\n  },\r\n  success: {\r\n    text: \"Saved\",\r\n    type: \"success\",\r\n  },\r\n  deleted: {\r\n    text: \"Undo delete\",\r\n    type: \"warning\",\r\n  },\r\n};\r\n\r\nconst ViewButtonInput = ({ view, model, value, history, location }) => {\r\n  const { text, btnType } = model;\r\n\r\n  const buttonStates = useMemo(\r\n    () =>\r\n      text\r\n        ? {\r\n            ...baseButtonStates,\r\n            default: {\r\n              text,\r\n              type: `${btnType || \"secondary\"}`,\r\n            },\r\n          }\r\n        : baseButtonStates,\r\n    [btnType, text]\r\n  );\r\n  const [button, setButton] = useState(\"default\");\r\n  const [error, setError] = useState(false);\r\n  const [savedTimer, setSavedTimer] = useState(false);\r\n  const [activeKeySaveView, setActiveKeySaveView] = useState(false);\r\n\r\n  const inactivateKeySaveView = () => {\r\n    setActiveKeySaveView(false);\r\n  };\r\n  const activateKeySaveView = () => {\r\n    app().event(\"inactivateKeySaveView\");\r\n    setActiveKeySaveView(true);\r\n  };\r\n  const handleCancel = () => {\r\n    if (view.event(\"cancel\")) view.event(\"reload\");\r\n  };\r\n  const handleDelete = () => {\r\n    if (view.event(\"delete\"))\r\n      app()\r\n        .database[view.contentType].delete({ id: view.value._id })\r\n        .then(() => setButton(\"deleted\"));\r\n  };\r\n\r\n  const handleSubmit = useCallback(async () => {\r\n    if (button !== \"default\") return;\r\n\r\n    const { errors = [] } = await view.event(\"validate\");\r\n    if (errors.length) {\r\n      setError(\"Correct validation errors\", errors);\r\n      setSavedTimer(\r\n        setTimeout(() => {\r\n          setSavedTimer(false);\r\n        }, 1000)\r\n      );\r\n      return;\r\n    }\r\n    setError(false);\r\n    setButton(\"saving\");\r\n\r\n    const { data, error } = await app().database[view.contentType].save({\r\n      data: { ...value },\r\n      view: view.format,\r\n    });\r\n\r\n    console.log(\"zzave\", { data, error }, value._id);\r\n\r\n    if (error) {\r\n      view.event(\"error\", error);\r\n      setButton(\"default\");\r\n      return;\r\n    }\r\n\r\n    const saved = await view.event(\"save\", data);\r\n    const { pathname } = location;\r\n\r\n    if (data && view.value._id && view.value._id !== data._id) {\r\n      history.replace(\r\n        pathname.replace(`/${view.value._id}`, `/${data._id || \"\"}`)\r\n      );\r\n      return;\r\n    }\r\n\r\n    if (!model.noRedirect && !view.value._id) {\r\n      view.setValue({ path: \"_id\", value: data._id });\r\n      history.replace(`${model.redirectURL || pathname}/${data._id || \"\"}`);\r\n      return;\r\n    }\r\n\r\n    if (!saved) return;\r\n\r\n    if (model.clearOnSave) view.setValue({ value: {} });\r\n\r\n    setButton(\"success\");\r\n    setSavedTimer(\r\n      setTimeout(() => {\r\n        setButton(\"default\");\r\n        setSavedTimer(false);\r\n      }, 1000)\r\n    );\r\n  }, [button, history, location, model, value, view]);\r\n\r\n  useEffect(() => () => savedTimer && clearTimeout(savedTimer), [savedTimer]);\r\n\r\n  useEffect(() => {\r\n    const handleKeySave = () => {\r\n      if (activeKeySaveView) handleSubmit();\r\n    };\r\n\r\n    view.on(\"submit\", handleSubmit);\r\n    app().on(\"keypressSaveEvent\", handleKeySave);\r\n    app().on(\"inactivateKeySaveView\", inactivateKeySaveView);\r\n    view.on(\"change\", activateKeySaveView);\r\n\r\n    return () => {\r\n      view.off(\"submit\", handleSubmit);\r\n      view.off(\"change\", activateKeySaveView);\r\n      app().off(\"keypressSaveEvent\", handleKeySave);\r\n      app().off(\"inactivateKeySaveView\", inactivateKeySaveView);\r\n    };\r\n  }, [activeKeySaveView, handleSubmit, view]);\r\n\r\n  return (\r\n    <>\r\n      <Wrapper className={model.className}>\r\n        <Button\r\n          size={model.size}\r\n          onClick={handleSubmit}\r\n          type={buttonStates[button].type}\r\n        >\r\n          {app().t(buttonStates[button].text)}\r\n        </Button>\r\n        {button === \"default\" && !model.sendOnly && view.value._id && (\r\n          <>\r\n            <Button size={model.size} onClick={handleCancel} type=\"warning\">\r\n              Cancel\r\n            </Button>\r\n            <Button size={model.size} onClick={handleDelete} type=\"danger\">\r\n              {app().t(\"Delete\")}\r\n            </Button>\r\n          </>\r\n        )}\r\n      </Wrapper>\r\n      {error && (\r\n        <Wrapper className={`red py-2 px-1 ${savedTimer ? \"font-bold\" : \"\"}`}>\r\n          {error}\r\n        </Wrapper>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default withRouter(ViewButtonInput);\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Button, Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst ViewButtonReference = ({ model, view, path }) => {\r\n  const { event, item, className } = model;\r\n  const callView = event.includes(\"Add\") ? view.baseView : view;\r\n\r\n  if (item && item.length)\r\n    return (\r\n      <Wrapper\r\n        className={className}\r\n        onClick={() =>\r\n          callView.event(\"reference\", { event, value: view.value })\r\n        }\r\n      >\r\n        <ContentTypeRender path={path} items={item} />\r\n      </Wrapper>\r\n    );\r\n\r\n  return (\r\n    <Button\r\n      onClick={() => callView.event(\"reference\", { event, value: view.value })}\r\n      className={className}\r\n      type={model.btnType}\r\n      size={model.btnSize}\r\n    >\r\n      {app().t(model.text)}\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default ViewButtonReference;\r\n","import React from \"react\";\r\nimport { Button } from \"nystem-components\";\r\n\r\nconst ViewButtonSetValue = ({ model, view }) => {\r\n  const value = view.getValue(model.field);\r\n  const modelValue =\r\n    model.value.replace(/[0-9]/, \"\") === \"\"\r\n      ? parseInt(model.value, 10)\r\n      : model.value;\r\n\r\n  const setValue = () =>\r\n    view.setValue({ path: model.field, value: modelValue });\r\n\r\n  return (\r\n    <Button\r\n      type={value === modelValue ? model.btnType : model.falseBtnType}\r\n      size={model.size}\r\n      className={model.className}\r\n      onClick={() => setValue()}\r\n    >\r\n      {value ? model.text : model.falseText || model.text}\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default ViewButtonSetValue;\r\n","import { useEffect } from \"react\";\r\n\r\nconst byType = {\r\n  false: false,\r\n  true: true,\r\n  undefined: undefined,\r\n};\r\n\r\nconst ViewButtonSetValueOnLoad = ({ model, view }) => {\r\n  useEffect(() => {\r\n    let value = view.getValue(model.field);\r\n\r\n    if (model.value) {\r\n      let modelValue =\r\n        model.value.replace(/[0-9]/, \"\") === \"\"\r\n          ? parseInt(model.value, 10)\r\n          : model.value;\r\n\r\n      if (byType.hasOwnProperty(modelValue)) modelValue = byType[modelValue];\r\n\r\n      if (value !== modelValue)\r\n        setTimeout(() => {\r\n          view.setValue({ path: model.field, value: modelValue });\r\n        }, 0);\r\n    } else if (model.arrValue) {\r\n      value = value || [];\r\n\r\n      const modelValue = model.arrValue\r\n        .map((val) =>\r\n          val.replace(/[0-9]/, \"\") === \"\" ? parseInt(val, 10) : val\r\n        )\r\n        .map((val) => (byType.hasOwnProperty(val) ? byType[val] : val));\r\n\r\n      const add = modelValue\r\n        .filter((val) => val)\r\n        .filter((val) => !value.includes(val));\r\n\r\n      if (add.length)\r\n        setTimeout(() => {\r\n          view.setValue({ path: model.field, value: [...value, ...add] });\r\n        }, 0);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [view, view.id]);\r\n\r\n  return null;\r\n};\r\n\r\nexport default ViewButtonSetValueOnLoad;\r\n","import React, { useEffect, useRef } from \"react\";\r\nimport { Button, Wrapper, Icon } from \"nystem-components\";\r\n\r\nconst ViewButtonUndoRedo = ({ model, view }) => {\r\n  const { iconClassName, className } = model;\r\n  const history = useRef([view.value]);\r\n  const at = useRef(false);\r\n\r\n  useEffect(() => {\r\n    const onChange = ({ value, isHistory }) => {\r\n      if (isHistory) return;\r\n\r\n      if (at.current) history.current = history.current.slice(0, at.current);\r\n      history.current.push(value);\r\n      at.current = false;\r\n    };\r\n    view.on(\"change\", -1000, onChange);\r\n    return () => {\r\n      view.off(\"change\", onChange);\r\n    };\r\n  }, [view]);\r\n\r\n  const IconButton = ({ icon, onClick }) => (\r\n    <Button onClick={onClick} type={model.btnType} size={model.btnSize}>\r\n      <Icon className={iconClassName || \"w-4 h-4\"} icon={icon} />\r\n    </Button>\r\n  );\r\n\r\n  return (\r\n    <Wrapper className={className}>\r\n      <IconButton\r\n        icon=\"undo\"\r\n        onClick={() => {\r\n          const atPos = at.current || history.current.length - 1;\r\n\r\n          const value = history.current[atPos - 1];\r\n          if (value) view.event(\"change\", { value, isHistory: true });\r\n          if (atPos) at.current = atPos - 1;\r\n        }}\r\n      />\r\n      <IconButton\r\n        icon=\"redo\"\r\n        onClick={() => {\r\n          if (!at.current || at.current === history.current.length - 1) return;\r\n\r\n          const value = history.current[at.current + 1];\r\n          if (value) view.event(\"change\", { value, isHistory: true });\r\n          if (at.current !== history.current.length - 1) at.current += 1;\r\n        }}\r\n      />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default ViewButtonUndoRedo;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Button, Wrapper } from \"nystem-components\";\r\n\r\nconst ViewButtonView = ({ model, view }) => (\r\n  <Wrapper className={model.className}>\r\n    <Button\r\n      type={model.btnType}\r\n      onClick={() => view.event(model.event || \"submit\", view.value)}\r\n    >\r\n      {app().t(model.text || \"...\")}\r\n    </Button>\r\n  </Wrapper>\r\n);\r\n\r\nexport default ViewButtonView;\r\n","import React from \"react\";\r\nimport { ContentTypeView } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst ViewInViewEmpty = ({ model, view, path }) => {\r\n  const { contentType, className, viewId } = model;\r\n\r\n  const insertVal = (val) => {\r\n    if (!val) return val;\r\n    return val.replace(/\\{([a-z_.0-9]+)\\}/gim, (str, p1) => {\r\n      if (p1 === \"_language\") return app().settings.lang;\r\n      if (p1 === \"id\") return view.id;\r\n      if (p1.indexOf(\"baseView.\") !== 0)\r\n        return view.getValue(p1.replace(\"..\", path));\r\n      p1 = p1.replace(\"baseView.\", \"\");\r\n      return view.baseView.getValue(p1.replace(\"..\", path));\r\n    });\r\n  };\r\n\r\n  return (\r\n    <ContentTypeView\r\n      className={className}\r\n      contentType={contentType}\r\n      format={model.view}\r\n      baseView={view}\r\n      id={insertVal(viewId)}\r\n    />\r\n  );\r\n};\r\nexport default ViewInViewEmpty;\r\n","import React from \"react\";\r\nimport { ContentTypeView } from \"nystem-components\";\r\n\r\nconst ViewInViewSetValue = ({ model, view, path, value }) => {\r\n  const { addid, viewId, contentType } = model;\r\n\r\n  const setValue = (id, value) => {\r\n    if (!id && !value) return;\r\n    if (model.addid) view.setValue({ path: model.addid, value });\r\n    else view.setValue(id, value);\r\n  };\r\n\r\n  const insertVal = (val) =>\r\n    val &&\r\n    val.replace(/\\{([a-z_.]+)\\}/gim, (str, p1) =>\r\n      view.getValue(p1.replace(\"..\", path))\r\n    );\r\n\r\n  return (\r\n    <ContentTypeView\r\n      className={model.className}\r\n      setValue={setValue}\r\n      contentType={contentType}\r\n      format={model.view}\r\n      value={addid ? value[addid] : value}\r\n      id={insertVal(viewId)}\r\n    />\r\n  );\r\n};\r\n\r\nexport default ViewInViewSetValue;\r\n","import React from \"react\";\r\nimport { ContentTypeView } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst ViewInViewView = ({ model, view, value, path, onSave }) => {\r\n  const { addid, contentType, className, viewId } = model;\r\n\r\n  const insertVal = (val) => {\r\n    if (!val) return val;\r\n    return val.replace(/\\{([a-z_.0-9]+)\\}/gim, (str, p1) => {\r\n      if (p1 === \"id\") return view.id;\r\n      if (p1 === \"_language\") return app().settings.lang;\r\n\r\n      if (p1.indexOf(\"params.\") === 0)\r\n        return view.params[p1.replace(\"params.\", \"\")];\r\n\r\n      if (p1.indexOf(\"baseView.\") !== 0)\r\n        return view.getValue(p1.replace(\"..\", path));\r\n\r\n      p1 = p1.replace(\"baseView.\", \"\");\r\n      return view.baseView.getValue(p1.replace(\"..\", path));\r\n    });\r\n  };\r\n\r\n  return (\r\n    <ContentTypeView\r\n      className={className}\r\n      contentType={contentType}\r\n      format={model.view}\r\n      value={(addid && value[addid]) || value}\r\n      id={insertVal(viewId)}\r\n      baseView={view}\r\n      params={view.params}\r\n      {...(onSave ? { onSave } : {})}\r\n    />\r\n  );\r\n};\r\nexport default ViewInViewView;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Link } from \"nystem-components\";\r\n\r\nclass ViewLinkButton extends React.Component {\r\n  render() {\r\n    const { model } = this.props;\r\n    let className = model.className ? model.className.join(\" \") : \"\";\r\n    let { href } = model;\r\n    if (model.renderType) className += ` btn-${model.renderType}`;\r\n    if (href[href.length - 1] === \"/\" && this.props.view.value)\r\n      href += this.props.view.value._id;\r\n    return (\r\n      <Link\r\n        className={`${className} btn`}\r\n        to={href}\r\n        match={model.match}\r\n        type=\"button\"\r\n        title={this.props.title ? this.props.title : \"\"}\r\n      >\r\n        {app().t(model.text)}\r\n      </Link>\r\n    );\r\n  }\r\n}\r\nexport default ViewLinkButton;\r\n","import React from \"react\";\r\nimport { Link, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst ViewLinkDynamicFields = ({ view, path, model }) => {\r\n  const insertVal = (val) => {\r\n    if (!val) return val;\r\n    return val.replace(/\\{([a-z_.0-9]+)\\}/gim, (str, p1) => {\r\n      if (p1 === \"id\") return view.id;\r\n\r\n      if (p1.indexOf(\"params.\") === 0)\r\n        return view.params[p1.replace(\"params.\", \"\")];\r\n\r\n      if (p1.indexOf(\"baseView.\") !== 0)\r\n        return view.getValue(p1.replace(\"..\", path));\r\n\r\n      p1 = p1.replace(\"baseView.\", \"\");\r\n      return view.baseView.getValue(p1.replace(\"..\", path));\r\n    });\r\n  };\r\n\r\n  const { className, exact, match, item, href } = model;\r\n\r\n  return (\r\n    <Link\r\n      className={className}\r\n      to={insertVal(href)}\r\n      match={match}\r\n      exact={exact}\r\n    >\r\n      <ContentTypeRender path={path} items={item} />\r\n    </Link>\r\n  );\r\n};\r\nexport default ViewLinkDynamicFields;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Link } from \"nystem-components\";\r\n\r\nconst ViewLinkDynamicLink = ({ model, view, path }) => {\r\n  const insertVal = (val) =>\r\n    val &&\r\n    val.replace(/\\{([a-z_.0-9]+)\\}/gim, (str, p1) => {\r\n      let val = \"\";\r\n      if (p1 === \"_language\") val = app().settings.lang;\r\n      else if (p1 === \"id\") val = view.id;\r\n      else if (p1.indexOf(\"params.\") === 0)\r\n        val = view.params[p1.replace(\"params.\", \"\")];\r\n      else if (p1.indexOf(\"baseView.\") !== 0)\r\n        val = view.getValue(p1.replace(\"..\", path));\r\n      else {\r\n        p1 = p1.replace(\"baseView.\", \"\");\r\n        val = view.baseView.getValue(p1.replace(\"..\", path));\r\n      }\r\n      if (val instanceof Array) val = val.join(\"|\");\r\n      return val;\r\n    });\r\n\r\n  const { href, match, className } = model;\r\n\r\n  return (\r\n    <Link\r\n      className={className ? className.join(\" \") : \"\"}\r\n      to={insertVal(href)}\r\n      match={insertVal(match)}\r\n    >\r\n      {app().t(model.text)}\r\n    </Link>\r\n  );\r\n};\r\nexport default ViewLinkDynamicLink;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst ViewLinkExternal = ({ view, path, model }) => {\r\n  const insertVal = (val) => {\r\n    if (!val) return val;\r\n    return val.replace(/\\{([a-z_.0-9]+)\\}/gim, (str, p1) => {\r\n      if (/pathItem[0-9]/.test(p1) && view.params) return view.params[p1[8]];\r\n      return view.getValue(p1.replace(\"..\", path));\r\n    });\r\n  };\r\n\r\n  const { className, item, href } = model;\r\n  let link = insertVal(href);\r\n  if (!/https?:\\/\\//im.test(link) && !link.startsWith(\"mailto:\"))\r\n    link = `https://${link}`;\r\n\r\n  return (\r\n    <Wrapper\r\n      className={className}\r\n      href={link}\r\n      target=\"_blank\"\r\n      renderAs=\"a\"\r\n      rel=\"noopener\"\r\n    >\r\n      <ContentTypeRender path={path} items={item} />\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default ViewLinkExternal;\r\n","import React from \"react\";\r\nimport { Link, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst ViewLinkFields = ({ model, value, path }) => {\r\n  const { className, contentType, view: toView, add, addId, item } = model;\r\n\r\n  let href = `/${contentType}/${toView}`;\r\n  if (addId && value) href += `/${value._id}`;\r\n\r\n  return (\r\n    <Link to={(add || \"\") + href} className={className}>\r\n      <ContentTypeRender path={path} items={item} />\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default ViewLinkFields;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Link, Icon } from \"nystem-components\";\r\n\r\nclass ViewLinkLink extends React.Component {\r\n  render() {\r\n    const { model } = this.props;\r\n    const className = model.className ? model.className.join(\" \") : \"\";\r\n    const href =\r\n      model.href && this.props.view.id\r\n        ? model.href.replace(\"{id}\", this.props.view.id)\r\n        : model.href;\r\n\r\n    if (model.blank)\r\n      return (\r\n        <a\r\n          className={className}\r\n          href={href}\r\n          rel=\"noopener noreferrer\"\r\n          target=\"_blank\"\r\n        >\r\n          {app().t(model.text)}\r\n        </a>\r\n      );\r\n\r\n    if (model.renderType === \"icon\")\r\n      return (\r\n        <Link to={href} match={model.match} type=\"link\">\r\n          <Icon className={className} />\r\n        </Link>\r\n      );\r\n\r\n    return (\r\n      <Link className={className} to={href} match={model.match} type=\"link\">\r\n        {app().t(model.text)}\r\n      </Link>\r\n    );\r\n  }\r\n}\r\nexport default ViewLinkLink;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Link, Button } from \"nystem-components\";\r\n\r\nconst ViewLinkView = ({ model, value }) => {\r\n  const {\r\n    renderType,\r\n    className,\r\n    contentType,\r\n    view: toView,\r\n    text,\r\n    add,\r\n    addId,\r\n    btnType,\r\n    size,\r\n  } = model;\r\n\r\n  let href = `/${contentType}/${toView}`;\r\n  if (addId && value) href += `/${value._id}`;\r\n\r\n  if (renderType === \"button\")\r\n    return (\r\n      <Button\r\n        type={btnType}\r\n        size={size}\r\n        to={(add || \"\") + href}\r\n        className={className}\r\n        Component={Link}\r\n      >\r\n        {app().t(text)}\r\n      </Button>\r\n    );\r\n\r\n  return (\r\n    <Link\r\n      type={renderType || \"list\"}\r\n      to={(add || \"\") + href}\r\n      className={className}\r\n    >\r\n      {app().t(text)}\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default ViewLinkView;\r\n","/* eslint-disable space-in-parens */\r\nimport React, { useState, useEffect, useRef, useContext } from \"react\";\r\nimport app from \"nystem\";\r\nimport {\r\n  Wrapper,\r\n  DatabaseSearchContext,\r\n  ContentTypeRender,\r\n} from \"nystem-components\";\r\n\r\nfunction getScrollParent(element, includeHidden) {\r\n  let { position, overflowY, overflowX, overflow } = getComputedStyle(element);\r\n  const overflowRegex = includeHidden\r\n    ? /(auto|scroll|hidden)/\r\n    : /(auto|scroll)/;\r\n\r\n  if (position === \"fixed\") return document.body;\r\n\r\n  // eslint-disable-next-line no-cond-assign\r\n  for (let parent = element; (parent = parent.parentElement); ) {\r\n    ({ position, overflowY, overflowX, overflow } = getComputedStyle(parent));\r\n\r\n    if (position === \"absolute\" && position === \"static\") continue;\r\n    if (overflowRegex.test(overflow + overflowY + overflowX)) return parent;\r\n  }\r\n\r\n  return document.body;\r\n}\r\n\r\nconst SlotContent = ({ slot, model, view }) => {\r\n  const context = useContext(DatabaseSearchContext);\r\n  const [slotSearch, setSlotSearch] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (slot === 0) return;\r\n    let mounted = true;\r\n    setSlotSearch(false);\r\n    const db = app().database[view.contentType];\r\n\r\n    const timer = setTimeout(() => {\r\n      db.search({\r\n        ...context.search,\r\n        position: slot * context.search.count,\r\n        data: undefined,\r\n      }).then((search) => mounted && search.data && setSlotSearch(search));\r\n    }, model.searchDelay || 100);\r\n\r\n    return () => {\r\n      mounted = false;\r\n      clearTimeout(timer);\r\n    };\r\n  }, [context.search, model.searchDelay, slot, view.contentType]);\r\n\r\n  if (slot !== 0 && !slotSearch)\r\n    return <div className=\"loading p-4 m-4 rounded-lg shadow h-4 max-w-xl\" />;\r\n\r\n  if (slot !== 0 && context.search.count * slot === context.search.searchTotal)\r\n    return null;\r\n\r\n  if (slot === 0)\r\n    return <ContentTypeRender path={model.path} items={model.item} />;\r\n\r\n  return (\r\n    <DatabaseSearchContext.Provider value={{ search: slotSearch }}>\r\n      <ContentTypeRender path={model.path} items={model.item} />\r\n    </DatabaseSearchContext.Provider>\r\n  );\r\n};\r\n\r\nconst InfiniteSlot = ({ slot, model, view }) => {\r\n  const ref = useRef();\r\n  const [top, setTop] = useState();\r\n\r\n  useEffect(() => {\r\n    const element = ref.current;\r\n    let setViewListHeight;\r\n    let ro;\r\n\r\n    view.event(\"getViewListHeight\", { slot }).then(({ height }) => {\r\n      setViewListHeight = (query) => {\r\n        query.slotHeights[slot] = height;\r\n\r\n        if (query.top < height) query.top = height;\r\n        let top = 0;\r\n        for (let pos = 0; pos < slot; pos++)\r\n          top += query.slotHeights[pos] || query.top;\r\n\r\n        setTop(top);\r\n        return query;\r\n      };\r\n      ro = new ResizeObserver(() => {\r\n        const newH = element.offsetHeight;\r\n        if (newH < 10 || newH < height) return;\r\n\r\n        height = newH;\r\n        view.event(\"setViewListHeight\");\r\n      });\r\n      ro.observe(element);\r\n\r\n      view.on(\"setViewListHeight\", -slot, setViewListHeight);\r\n    });\r\n\r\n    return () => {\r\n      view.off(\"setViewListHeight\", setViewListHeight);\r\n      if (ro) ro.unobserve(element);\r\n    };\r\n  }, [slot, view]);\r\n\r\n  return (\r\n    <div\r\n      ref={ref}\r\n      style={{ position: \"absolute\", top: `${top}px`, width: \"100%\" }}\r\n    >\r\n      <SlotContent slot={slot} model={model} view={view} />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ViewListDynamicInfinite = ({ view, model }) => {\r\n  const { search, loading } = useContext(DatabaseSearchContext);\r\n  const { searchTotal } = search;\r\n  const ref = useRef();\r\n  const [slotCount, setSlotCount] = useState(0);\r\n\r\n  const [pos, setPos] = useState(0);\r\n  const [heightTotal, setHeightTotal] = useState(0);\r\n  const heights = useRef([]);\r\n  const slotsTotal = parseInt((searchTotal || 0) / search.count, 10) || 0;\r\n  let slotLimit = parseInt(slotCount || model.slotLimit || 3, 10);\r\n  if (slotLimit > slotsTotal) slotLimit = slotsTotal;\r\n\r\n  useEffect(() => {\r\n    if (!slotsTotal) return;\r\n    view.event(\"infiniteScrollPos\", { pos, total: slotsTotal - slotLimit + 1 });\r\n  }, [pos, slotLimit, slotsTotal, view]);\r\n\r\n  useEffect(() => {\r\n    let pos = 0;\r\n    let top = 0;\r\n    let innerHeight = 0;\r\n    const slotHeights = new Array(slotsTotal);\r\n    heights.current = slotHeights;\r\n    let height = 0;\r\n    const offset = (height) => (height < top ? 0 : height - top);\r\n    let slotCount = 0;\r\n\r\n    let updateTimer = false;\r\n    const updateSlots = () => {\r\n      clearTimeout(updateTimer);\r\n      updateTimer = false;\r\n\r\n      if (!element) return;\r\n      const top = offset(element.scrollY || element.scrollTop || 0);\r\n      const bottom = top + innerHeight;\r\n\r\n      let topPos = 0;\r\n      let newPos = 0;\r\n      let toPos = 0;\r\n      while (newPos < slotsTotal && topPos < bottom + 200) {\r\n        topPos += slotHeights[newPos] || height;\r\n        if (topPos < top) newPos++;\r\n        toPos++;\r\n      }\r\n      newPos -= 2;\r\n      if (newPos < 0) newPos = 0;\r\n\r\n      if (pos !== newPos) setPos(newPos);\r\n      pos = newPos;\r\n      if (toPos - pos !== slotCount) setSlotCount(toPos - pos);\r\n      slotCount = toPos - pos;\r\n    };\r\n\r\n    const scrollEvent = () => {\r\n      if (!updateTimer) updateTimer = setTimeout(updateSlots, 200);\r\n    };\r\n\r\n    let timer = false;\r\n    let element = false;\r\n    const start = () => {\r\n      element = ref.current;\r\n      if (!element) {\r\n        timer = setTimeout(start, 20);\r\n        return;\r\n      }\r\n      const { top: newTop } = element.getBoundingClientRect();\r\n      if (newTop > 0) top = newTop;\r\n\r\n      element = getScrollParent(element, true);\r\n      if (element === window.document.body) {\r\n        element = window;\r\n        // eslint-disable-next-line prefer-destructuring\r\n        innerHeight = window.innerHeight;\r\n      } else innerHeight = window.innerHeight - top;\r\n\r\n      element.addEventListener(\"scroll\", scrollEvent);\r\n    };\r\n    start();\r\n\r\n    const setViewListHeight = () => ({ innerHeight, slotHeights, top: 0 });\r\n    view.on(\"setViewListHeight\", 1000, setViewListHeight);\r\n\r\n    const getViewListHeight = ({ slot }) => ({\r\n      slot,\r\n      height: slotHeights[slot],\r\n    });\r\n    view.on(\"getViewListHeight\", getViewListHeight);\r\n\r\n    let heightTimer = false;\r\n    const setHeight = () => {\r\n      let totHeight = 0;\r\n      for (let i = 0; i < slotsTotal; i++)\r\n        totHeight += slotHeights[i] || height;\r\n\r\n      setHeightTotal(totHeight);\r\n      heightTimer = false;\r\n      if (!updateTimer) updateTimer = setTimeout(updateSlots, 200);\r\n    };\r\n\r\n    const setViewListHeightTotal = ({ top }) => {\r\n      if (!heightTimer) heightTimer = setTimeout(setHeight, 200);\r\n      height = top;\r\n    };\r\n    view.on(\"setViewListHeight\", -1000, setViewListHeightTotal);\r\n\r\n    return () => {\r\n      if (timer) clearTimeout(timer);\r\n      if (updateTimer) clearTimeout(updateTimer);\r\n      view.off(\"getViewListHeight\", getViewListHeight);\r\n      view.off(\"setViewListHeight\", setViewListHeight);\r\n      view.off(\"setViewListHeight\", setViewListHeightTotal);\r\n\r\n      if (!element) return;\r\n      element.removeEventListener(\"scroll\", scrollEvent);\r\n    };\r\n  }, [model, search, slotsTotal, view]);\r\n\r\n  if (loading) return null;\r\n\r\n  const slots = [];\r\n  for (let count = pos; count === 0 || slotLimit + pos > count; count++)\r\n    slots.push(\r\n      <InfiniteSlot\r\n        key={`${slotsTotal}_${count}`}\r\n        slot={count}\r\n        model={model}\r\n        view={view}\r\n      />\r\n    );\r\n\r\n  return (\r\n    <Wrapper\r\n      ref={ref}\r\n      className={model.className}\r\n      style={{\r\n        position: \"relative\",\r\n        height: `${heightTotal}px`,\r\n      }}\r\n    >\r\n      {slots}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default ViewListDynamicInfinite;\r\n","import React, { useContext } from \"react\";\r\nimport {\r\n  Wrapper,\r\n  ContentTypeRender,\r\n  DatabaseSearchContext,\r\n} from \"nystem-components\";\r\n\r\nconst ViewListEmptySearchresult = ({ model, path }) => {\r\n  const { search = {} } = useContext(DatabaseSearchContext);\r\n  const { filter = {} } = search;\r\n  const searchText = ((filter.$and || []).find((item) => item.$all) || {}).$all;\r\n\r\n  if ((!searchText && model.inverse) || (searchText && !model.inverse))\r\n    return (\r\n      <Wrapper className={model.className} renderAs={model.renderAs}>\r\n        <ContentTypeRender path={path} items={model.item} />\r\n      </Wrapper>\r\n    );\r\n\r\n  return null;\r\n};\r\nexport default ViewListEmptySearchresult;\r\n","/* eslint-disable space-in-parens */\r\nimport React, { useState, useEffect, useRef, useContext } from \"react\";\r\nimport app from \"nystem\";\r\nimport {\r\n  Wrapper,\r\n  DatabaseSearchContext,\r\n  ContentTypeRender,\r\n} from \"nystem-components\";\r\n\r\nfunction getScrollParent(element, includeHidden) {\r\n  let { position, overflowY, overflowX, overflow } = getComputedStyle(element);\r\n  const overflowRegex = includeHidden\r\n    ? /(auto|scroll|hidden)/\r\n    : /(auto|scroll)/;\r\n\r\n  if (position === \"fixed\") return document.body;\r\n\r\n  // eslint-disable-next-line no-cond-assign\r\n  for (let parent = element; (parent = parent.parentElement); ) {\r\n    ({ position, overflowY, overflowX, overflow } = getComputedStyle(parent));\r\n\r\n    if (position === \"absolute\" && position === \"static\") continue;\r\n    if (overflowRegex.test(overflow + overflowY + overflowX)) return parent;\r\n  }\r\n\r\n  return document.body;\r\n}\r\n\r\nconst getStyle = (top, extend) => ({\r\n  position: \"absolute\",\r\n  top: `${top}px`,\r\n  width: \"100%\",\r\n  ...extend,\r\n});\r\n\r\nconst ViewListInfiniteSlot = ({ pos, hidden, slot, model, setSize, view }) => {\r\n  const context = useContext(DatabaseSearchContext);\r\n  const [slotSearch, setSlotSearch] = useState(false);\r\n  const ref = useRef();\r\n\r\n  useEffect(() => {\r\n    if (slot === 0) return;\r\n    const db = app().database[view.contentType];\r\n\r\n    const timer = setTimeout(() => {\r\n      db.search({\r\n        ...context.search,\r\n        position: slot * context.search.count,\r\n        data: undefined,\r\n      }).then((search) => search.data && setSlotSearch(search));\r\n    }, model.searchDelay || 10);\r\n    return () => {\r\n      clearTimeout(timer);\r\n    };\r\n  }, [context.search, model.searchDelay, slot, view.contentType]);\r\n\r\n  useEffect(() => {\r\n    const setHeight = () => {\r\n      if (ref.current && ref.current.offsetHeight)\r\n        setSize(ref.current.offsetHeight);\r\n      else setTimeout(setHeight, 20);\r\n    };\r\n    setTimeout(setHeight, 0);\r\n  }, [setSize]);\r\n\r\n  if (slot !== 0 && context.search.count * slot === context.search.searchTotal)\r\n    return null;\r\n\r\n  if (slot !== 0 && !slotSearch)\r\n    return (\r\n      <div\r\n        className=\"loading p-4 m-4 rounded-lg shadow h-4 max-w-xl\"\r\n        style={getStyle(pos)}\r\n      />\r\n    );\r\n\r\n  const contents = (\r\n    <div\r\n      ref={ref}\r\n      style={getStyle(pos, { visibility: hidden ? \"hidden\" : \"visible\" })}\r\n    >\r\n      <ContentTypeRender path={model.path} items={model.item} />\r\n    </div>\r\n  );\r\n\r\n  if (slot === 0) return contents;\r\n\r\n  return (\r\n    <DatabaseSearchContext.Provider value={{ search: slotSearch }}>\r\n      {contents}\r\n    </DatabaseSearchContext.Provider>\r\n  );\r\n};\r\n\r\nconst ViewListInfinite = ({ view, model }) => {\r\n  const { search, loading } = useContext(DatabaseSearchContext);\r\n  const { searchTotal } = search;\r\n  const ref = useRef();\r\n\r\n  const [pos, setPos] = useState(0);\r\n  const [height, setHeight] = useState(0);\r\n  const heightRef = useRef();\r\n  heightRef.current = height;\r\n  const slotHeights = useRef({});\r\n  if (!height) slotHeights.current = {};\r\n\r\n  const slotsTotal = parseInt((searchTotal || 0) / search.count, 10) || 0;\r\n  const slotLimit = parseInt(model.slotLimit || 3, 10);\r\n\r\n  useEffect(() => {\r\n    if (model.clearHeightOnUpdate) setHeight(0);\r\n  }, [model, searchTotal]);\r\n\r\n  useEffect(() => {\r\n    if (!slotsTotal) return;\r\n    view.event(\"infiniteScrollPos\", { pos, total: slotsTotal - slotLimit + 1 });\r\n  }, [pos, slotLimit, slotsTotal, view]);\r\n\r\n  useEffect(() => {\r\n    let updateTimer = false;\r\n    let pos = 0;\r\n    let element = false;\r\n    let top = 0;\r\n    let timer = false;\r\n    const offset = (height) => (height < top ? 0 : height - top);\r\n\r\n    const updateSlots = () => {\r\n      clearTimeout(updateTimer);\r\n      updateTimer = false;\r\n\r\n      const top = element.scrollY || element.scrollTop || 0;\r\n\r\n      const newPos =\r\n        parseInt((offset(top) / (height * slotsTotal)) * slotsTotal, 10) || 0;\r\n\r\n      if (pos === newPos) return;\r\n      pos = newPos;\r\n      setPos(pos);\r\n    };\r\n\r\n    const scrollEvent = () => {\r\n      if (!updateTimer)\r\n        updateTimer = setTimeout(updateSlots, model.slotUpdateDelay || 200);\r\n    };\r\n\r\n    let width = window.innerWidth;\r\n    const resizeEvent = () => {\r\n      if (width === window.innerWidth) return;\r\n\r\n      width = window.innerWidth;\r\n      scrollEvent();\r\n      setHeight(0);\r\n    };\r\n\r\n    const start = () => {\r\n      element = ref.current;\r\n      if (!element) {\r\n        timer = setTimeout(start, 20);\r\n        return;\r\n      }\r\n      const { top: newTop } = element.getBoundingClientRect();\r\n      if (newTop > 0) top = newTop;\r\n\r\n      element = getScrollParent(element, true);\r\n      if (element === window.document.body) element = window;\r\n\r\n      element.addEventListener(\"scroll\", scrollEvent);\r\n      element.addEventListener(\"resize\", resizeEvent);\r\n    };\r\n    start();\r\n\r\n    return () => {\r\n      if (timer) clearTimeout(timer);\r\n      if (updateTimer) clearTimeout(updateTimer);\r\n      if (!element) return;\r\n\r\n      element.removeEventListener(\"scroll\", scrollEvent);\r\n      element.removeEventListener(\"resize\", resizeEvent);\r\n    };\r\n  }, [height, model, search.count, search.searchTotal, slotsTotal]);\r\n\r\n  if (loading) return null;\r\n\r\n  const slots = Array(\r\n    slotsTotal - pos < slotLimit - 1 ? slotsTotal - pos + 1 : slotLimit\r\n  ).fill();\r\n\r\n  let at = pos * height;\r\n  const getPos = () => {\r\n    const old = at;\r\n    at += height;\r\n    return old;\r\n  };\r\n\r\n  return (\r\n    <Wrapper\r\n      ref={ref}\r\n      className={model.className}\r\n      style={{\r\n        position: \"relative\",\r\n        height: `${height * (slotsTotal || slots.length)}px`,\r\n      }}\r\n    >\r\n      {slots.map((und, index) => (\r\n        <ViewListInfiniteSlot\r\n          key={index + pos}\r\n          pos={getPos(index + pos)}\r\n          slot={index + pos}\r\n          model={model}\r\n          hidden={height === 0}\r\n          setSize={(newHeight) => {\r\n            slotHeights.current[index + pos] = newHeight;\r\n\r\n            if (heightRef.current < newHeight) setHeight(newHeight);\r\n          }}\r\n          view={view}\r\n          search={search}\r\n        />\r\n      ))}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default ViewListInfinite;\r\n","import React from \"react\";\r\nimport { Wrapper, UseEventListner } from \"nystem-components\";\r\n\r\nconst ViewListInfiniteScrollPos = ({ model, view }) => {\r\n  const { text, className, classNameLabel, classNameInfo } = model;\r\n  const { pos, total } = UseEventListner(view, \"infiniteScrollPos\");\r\n\r\n  if (!total) return null;\r\n\r\n  return (\r\n    <Wrapper className={className}>\r\n      <Wrapper className={classNameLabel}>{text}</Wrapper>\r\n      <Wrapper className={classNameInfo}>\r\n        {pos + 1} of {total + 1}\r\n      </Wrapper>\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default ViewListInfiniteScrollPos;\r\n","import React, { useContext } from \"react\";\r\nimport { Wrapper, DatabaseSearchContext } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst ViewListListStat = ({ model }) => {\r\n  const { search } = useContext(DatabaseSearchContext);\r\n  function total() {\r\n    if (\r\n      search.searchTotal === search.total ||\r\n      model.show.indexOf(\"total\") === -1\r\n    )\r\n      return null;\r\n    return (\r\n      <Wrapper renderAs=\"span\">\r\n        {`, ${search.total}${app().t(\" in total\")}`}\r\n      </Wrapper>\r\n    );\r\n  }\r\n\r\n  let text = \"\";\r\n  if (!model.show) model.show = [];\r\n  if (model.show.indexOf(\"currentPos\") !== -1)\r\n    text += search.position ? search.position : 0;\r\n  if (\r\n    model.show.indexOf(\"currentPos\") !== -1 &&\r\n    model.show.indexOf(\"toPos\") !== -1\r\n  )\r\n    text += \" - \";\r\n  if (model.show.indexOf(\"toPos\") !== -1)\r\n    text += search.count ? search.count : 0;\r\n  if (\r\n    model.show.indexOf(\"searchTotal\") !== -1 &&\r\n    (model.show.indexOf(\"currentPos\") !== -1 ||\r\n      model.show.indexOf(\"toPos\") !== -1)\r\n  )\r\n    text += \" of \";\r\n  if (model.show.indexOf(\"searchTotal\") !== -1)\r\n    text += search.searchTotal ? search.searchTotal : 0;\r\n\r\n  /* const toPos = settings.searchTotal < settings.position + settings.count\r\n      ? settings.searchTotal\r\n      : settings.position + settings.count; */\r\n  return (\r\n    <Wrapper className={[model.className, \"control-label\"]}>\r\n      <Wrapper>{model.text}</Wrapper>\r\n      <Wrapper>{text}</Wrapper>\r\n      {total()}\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default ViewListListStat;\r\n","import React, { useEffect, useRef, useContext } from \"react\";\r\nimport {\r\n  Button,\r\n  Wrapper,\r\n  RouterUseQueryStore,\r\n  DatabaseSearchContext,\r\n} from \"nystem-components\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport app from \"nystem\";\r\n\r\nconst ViewListPager = ({ view, model }) => {\r\n  const { search } = useContext(DatabaseSearchContext);\r\n  const [value, setValue, ref] = RouterUseQueryStore(model.saveId, \"int\", true);\r\n  const history = useHistory();\r\n\r\n  const last = useRef(false);\r\n\r\n  useEffect(() => {\r\n    if (!value && !last.current) return;\r\n\r\n    const setSearch = (query) => {\r\n      if (!value) return;\r\n      query.position = value;\r\n    };\r\n    if (value) view.on(\"setSearch\", setSearch);\r\n    view.event(\"setSearch\");\r\n\r\n    last.current = value;\r\n    return () => {\r\n      if (value) view.off(\"setSearch\", setSearch);\r\n    };\r\n  }, [value, view]);\r\n\r\n  const relUrl = (value) => {\r\n    const { saveId } = model;\r\n\r\n    if (!saveId) return;\r\n\r\n    const { pathname, search } = history.location;\r\n\r\n    const reg = `(^\\\\?)|(\\\\&${saveId}=[^\\\\s&]*)`;\r\n    const rest = search.replace(new RegExp(reg, \"gi\"), \"\");\r\n    const add = value ? `&${saveId}=${value}` : \"\";\r\n\r\n    return `${pathname}?${rest}${add}`;\r\n  };\r\n\r\n  const update = (move) => {\r\n    if (move === -1) setValue(prev(search));\r\n    if (move === 1) setValue(next(search));\r\n  };\r\n\r\n  const prev = () =>\r\n    search.position !== 0 ? search.position - search.count : -1;\r\n  const next = () =>\r\n    search.position + search.count < search.searchTotal\r\n      ? search.position + search.count\r\n      : -1;\r\n\r\n  const hasPrev = prev() !== -1;\r\n  const hasNext = next() !== -1;\r\n\r\n  return (\r\n    <Wrapper ref={ref} className={[model.className, \"flex\", \"py-4\"]}>\r\n      <Button\r\n        renderAs=\"a\"\r\n        disabled={!hasPrev && \"disabled\"}\r\n        className=\"mr-2\"\r\n        onClick={hasPrev ? () => update(-1) : undefined}\r\n        href={hasPrev ? relUrl(prev(search)) : undefined}\r\n      >\r\n         {app().t(\"Previous\")}\r\n      </Button>\r\n      <Button\r\n        renderAs=\"a\"\r\n        disabled={!hasNext && \"disabled\"}\r\n        onClick={hasNext ? () => update(1) : undefined}\r\n        href={hasNext ? relUrl(next(search)) : undefined}\r\n      >\r\n        {app().t(\"Next\")} \r\n      </Button>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default ViewListPager;\r\n","import React from \"react\";\r\nimport { TextExposedField } from \"nystem-components\";\r\n\r\nconst ViewListSearch = ({ model, view }) => (\r\n  <TextExposedField\r\n    view={view}\r\n    model={{ text: \"Search\", ...model, id: \"$all\" }}\r\n  />\r\n);\r\n\r\nexport default ViewListSearch;\r\n","import React, { useContext } from \"react\";\r\nimport {\r\n  DatabaseSearchContext,\r\n  Wrapper,\r\n  ContentTypeRender,\r\n  ContentTypeView,\r\n} from \"nystem-components\";\r\n\r\nimport \"./table.css\";\r\n\r\nconst ViewListRender = ({ model, view, value }) => {\r\n  const { rowClassName = [] } = model;\r\n  value = model.value || value;\r\n\r\n  function createItem(item) {\r\n    const id = [\"number\", \"string\"].includes(typeof item) ? item : item._id;\r\n\r\n    const settings = {\r\n      view: model,\r\n      contentType: view.contentType,\r\n      id,\r\n      key: id,\r\n      noForm: true,\r\n      baseView: view,\r\n      params: view.params,\r\n      className: rowClassName,\r\n      renderAs: item.renderAs,\r\n      itemRenderAs: item.renderAs === \"tr\" && \"td\",\r\n    };\r\n\r\n    return <ContentTypeView {...settings} />;\r\n  }\r\n\r\n  return value.map(createItem);\r\n};\r\n\r\nconst ViewListView = ({ model, view }) => {\r\n  const { search } = useContext(DatabaseSearchContext);\r\n\r\n  const value = (search && search.data) || [];\r\n  const { emptyFields, className = [], headerFields, renderFormat } = model;\r\n\r\n  if (value.length === 0 && emptyFields && emptyFields.length > 0)\r\n    return (\r\n      <Wrapper className={className}>\r\n        <ContentTypeRender items={emptyFields} />\r\n      </Wrapper>\r\n    );\r\n\r\n  if (model.renderFormat === \"table\")\r\n    return (\r\n      <Wrapper renderAs=\"table\" className={className}>\r\n        <Wrapper renderAs=\"thead\">\r\n          <Wrapper renderAs=\"tr\">\r\n            <ContentTypeRender items={headerFields} renderAs=\"th\" />\r\n          </Wrapper>\r\n        </Wrapper>\r\n        <Wrapper renderAs=\"tbody\">\r\n          <ViewListRender\r\n            value={value.map((data) => ({ ...data, renderAs: \"tr\" }))}\r\n            model={model}\r\n            view={view}\r\n          />\r\n        </Wrapper>\r\n      </Wrapper>\r\n    );\r\n\r\n  if (renderFormat === \"list\")\r\n    return (\r\n      <Wrapper className={className}>\r\n        <ViewListRender value={value} model={model} view={view} />\r\n      </Wrapper>\r\n    );\r\n\r\n  if (headerFields && headerFields.length)\r\n    return (\r\n      <Wrapper className={className}>\r\n        <ContentTypeRender items={headerFields} />\r\n        <ViewListRender value={value} model={model} view={view} />\r\n      </Wrapper>\r\n    );\r\n\r\n  return (\r\n    <Wrapper className={className}>\r\n      <ViewListRender value={value} model={model} view={view} />\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default ViewListView;\r\n","import React from \"react\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nconst ViewTextBreak = ({ model }) => {\r\n  const className = model.className ? model.className.join(\" \") : \"\";\r\n  return (\r\n    <Wrapper className={className} renderAs={model.renderAs} translate=\"true\">\r\n      <br />\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default ViewTextBreak;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nclass ViewTextToken extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.view = props.view;\r\n    const state = {\r\n      value: app().clone(this.view.value),\r\n      text: this.insertVal(this.model.text),\r\n    };\r\n    this.view.on(\"change\", this.setValueView);\r\n    this.state = state;\r\n  }\r\n  setValueView() {\r\n    const self = this;\r\n    if (JSON.stringify(this.view.value) !== JSON.stringify(this.state.value))\r\n      setTimeout(() => {\r\n        if (self.isMounted())\r\n          self.setState({\r\n            value: app().clone(self.view.value),\r\n            text: self.insertVal(self.model.text),\r\n          });\r\n      }, 0);\r\n  }\r\n  insertVal(val) {\r\n    if (!val) return val;\r\n    const self = this;\r\n    this.val = false;\r\n    return val.replace(/\\{([a-z_.]+)\\}/gim, (str, p1) => {\r\n      const val = self.view.getValue(p1.replace(\"..\", self.props.path));\r\n      return typeof val === \"undefined\" ? \"\" : val;\r\n    });\r\n  }\r\n  componentWillUnmount() {\r\n    this.view.off(\"change\", this.setValueView);\r\n  }\r\n  render() {\r\n    const className = this.model.className\r\n      ? this.model.className.join(\" \")\r\n      : \"\";\r\n    const renderAs = this.props.model.renderAs\r\n      ? this.props.model.renderAs\r\n      : this.props.model.format;\r\n    return (\r\n      <Wrapper renderAs={renderAs} className={className}>\r\n        {app().t(this.state.text)}\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\nexport default ViewTextToken;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nclass ViewTextTokenFallbackNew extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.view = props.view;\r\n    const state = {\r\n      value: app().clone(this.view.value),\r\n      text: this.insertVal(this.model.text),\r\n    };\r\n    this.view.on(\"change\", this.setValueView);\r\n    this.state = state;\r\n  }\r\n  setValueView() {\r\n    const self = this;\r\n    if (JSON.stringify(this.view.value) !== JSON.stringify(this.state.value))\r\n      setTimeout(() => {\r\n        if (self.isMounted())\r\n          self.setState({\r\n            value: app().clone(self.view.value),\r\n            text: self.insertVal(self.model.text),\r\n          });\r\n      }, 0);\r\n  }\r\n  insertVal(val) {\r\n    if (!val) return val;\r\n    const self = this;\r\n    this.val = false;\r\n    return val.replace(/\\{([a-z_.]+)\\}/gim, (str, p1) => {\r\n      const val = self.view.getValue(p1.replace(\"..\", self.props.path));\r\n      self.val = self.val || val;\r\n      return typeof val === \"undefined\" ? \"\" : val;\r\n    });\r\n  }\r\n  componentWillUnmount() {\r\n    this.view.off(\"change\", this.setValueView);\r\n  }\r\n  render() {\r\n    const className = this.model.className\r\n      ? this.model.className.join(\" \")\r\n      : \"\";\r\n    const renderAs = this.props.model.renderAs\r\n      ? this.props.model.renderAs\r\n      : this.props.model.format;\r\n    const text = this.val\r\n      ? this.state.text\r\n      : `New ${app().contentType[this.view.contentType].name}`;\r\n    return (\r\n      <Wrapper renderAs={renderAs} className={className}>\r\n        {app().t(text)}\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\nexport default ViewTextTokenFallbackNew;\r\n","import React from \"react\";\r\nimport { Wrapper } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst ViewTextView = ({ model }) => {\r\n  const className = model.className ? model.className.join(\" \") : \"\";\r\n  return (\r\n    <Wrapper className={className} renderAs={model.renderAs} translate=\"true\">\r\n      {app().t(model.text)}\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default ViewTextView;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst ConnectionCssclass = ({ children, path, model }) => {\r\n  const [connected, setConnected] = useState(app().connection.connected);\r\n\r\n  useEffect(() => {\r\n    const update = () => setConnected(app().connection.connected);\r\n    app().connection.on(\"connection\", update);\r\n    return () => {\r\n      app().connection.off(\"connection\", update);\r\n    };\r\n  });\r\n\r\n  const connectionClass =\r\n    (connected ? model.onlineClass : model.offlineClass) || \"\";\r\n\r\n  return (\r\n    <Wrapper className={[model.className, connectionClass]}>\r\n      {children || <ContentTypeRender path={path} items={model.item} />}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default ConnectionCssclass;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst ConnectionView = ({ model = {}, offline, className, path, children }) => {\r\n  const [connected, setConnectedState] = useState();\r\n\r\n  useEffect(() => {\r\n    const update = ({ connected }) => setConnectedState(connected);\r\n\r\n    app().connection.on(\"connection\", update);\r\n    setConnectedState(app().connection.connected);\r\n\r\n    return () => {\r\n      app().connection.off(\"connection\", update);\r\n    };\r\n  }, []);\r\n\r\n  className = className || model.className;\r\n  offline = offline || model.offline;\r\n\r\n  if ((connected && offline) || (!connected && !offline)) return null;\r\n\r\n  return (\r\n    <Wrapper className={className}>\r\n      {children || <ContentTypeRender path={path} items={model.item} />}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default ConnectionView;\r\n","import React from \"react\";\r\n\r\nclass Offline extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className=\"cssload-loader\">\r\n        <div className=\"cssload-inner cssload-one\" />\r\n        <div className=\"cssload-inner cssload-two\" />\r\n        <div className=\"cssload-inner cssload-three\" />\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Offline;\r\n","import React from \"react\";\r\n\r\nconst ContentTypeContext = React.createContext();\r\n\r\nexport default ContentTypeContext;\r\n\r\nexport const ViewContextProvider = ContentTypeContext.Provider;\r\n","import React, { useContext } from \"react\";\r\nimport app from \"nystem\";\r\nimport * as components from \"nystem-components\";\r\n\r\nconst createItem = ({ item, value, path, view, ...context }) => {\r\n  const { capFirst } = app();\r\n  const { id, type, format } = item;\r\n\r\n  const componentName = `${capFirst(type)}${capFirst(\r\n    format || view.viewFormat || \"view\"\r\n  )}`;\r\n\r\n  let component =\r\n    components[componentName] || components[`${capFirst(type)}View`];\r\n\r\n  const { getValue, getValuePath } = view;\r\n  const valuePath = getValuePath(path, id);\r\n  const setValue = (value) => view.setValue({ path: valuePath, value });\r\n\r\n  if (!component)\r\n    return (\r\n      <div\r\n        key={context.key}\r\n        className=\"red\"\r\n      >{`Missing component ${componentName}`}</div>\r\n    );\r\n\r\n  const focus =\r\n    item.format === \"input\" &&\r\n    item.category !== \"view\" &&\r\n    view.focus &&\r\n    !view.focused;\r\n\r\n  if (focus) view.focused = true;\r\n  if (typeof component === \"object\" && !component.render) {\r\n    console.log(component, item);\r\n    component = \"div\";\r\n  }\r\n  return React.createElement(component, {\r\n    ...context,\r\n    value: getValue(valuePath),\r\n    path,\r\n    view,\r\n    model: item,\r\n    setValue,\r\n    focus,\r\n  });\r\n};\r\n\r\nconst ContentTypeRender = (props) => {\r\n  const { path, items, renderAs } = props;\r\n  const context = useContext(components.ContentTypeContext);\r\n\r\n  if (!items) return <div className=\"red\">Missing items</div>;\r\n\r\n  return items.map((item, key) => {\r\n    const out = createItem({ key, item, path, ...context });\r\n    return (renderAs && React.createElement(renderAs, { key }, out)) || out;\r\n  });\r\n};\r\nexport default ContentTypeRender;\r\n","import React, { useState, useEffect, useMemo } from \"react\";\r\nimport app from \"nystem\";\r\nimport {\r\n  Loading,\r\n  Wrapper,\r\n  ContentTypeRender,\r\n  DatabaseSearchContextProvider,\r\n} from \"nystem-components\";\r\nimport { getDiff, applyDiff } from \"recursive-diff\";\r\n\r\nimport { ViewContextProvider } from \"./context\";\r\nimport \"./view.css\";\r\n\r\nconst setValueAtPath = ({ path, current, value }) => {\r\n  if (!path) return value;\r\n\r\n  const parts = path.split(\".\");\r\n  const out = { ...current };\r\n  let at = out;\r\n\r\n  parts.forEach((key, index) => {\r\n    if (parts.length - 1 === index) at[key] = value;\r\n    else {\r\n      at[key] = at[key] instanceof Array ? [...at[key]] : { ...at[key] };\r\n      at = at[key];\r\n    }\r\n  });\r\n\r\n  if (app().settings.debug) console.log(out);\r\n  return out;\r\n};\r\n\r\nconst getValuePath = (path = \"\", id = \"\") => {\r\n  if (id) {\r\n    id = id.substring(id.lastIndexOf(\".\") + 1);\r\n    return path ? `${path}.${id}` : id;\r\n  }\r\n  return path;\r\n};\r\n\r\nconst useValue = ({ view, propvalue }) => {\r\n  const [value, setValue] = useState({});\r\n  const [loading, setLoading] = useState(!!view.id);\r\n\r\n  useEffect(() => {\r\n    if (!propvalue || view.id) return;\r\n    setTimeout(() => {\r\n      view.event(\"change\", { value: propvalue });\r\n    }, 10);\r\n  }, [view, propvalue]);\r\n\r\n  useEffect(() => {\r\n    if (!view.on) return;\r\n\r\n    const { id, contentType, noAutoUpdate } = view;\r\n    const db = app().database[contentType];\r\n    let firstData = id ? false : {};\r\n    let value = false;\r\n    let savedData = false;\r\n\r\n    const doGet = ({ ids } = {}) => {\r\n      if (!ids || ids.includes(id))\r\n        db.get({ id }).then(({ data }) => {\r\n          if (!data) data = {};\r\n          if (!firstData) {\r\n            view.event(\"change\", { value: data });\r\n            return;\r\n          }\r\n\r\n          const diff = getDiff(savedData, data);\r\n          value = applyDiff(value, diff);\r\n\r\n          if (diff.length) view.event(\"change\", { value });\r\n        });\r\n    };\r\n    if (id) {\r\n      if (!db) console.error(\"Missing db\", view);\r\n      doGet();\r\n      if (!noAutoUpdate) db.on(\"update\", doGet);\r\n    }\r\n\r\n    const changeData = (props) => ({\r\n      ...props,\r\n      id: props.path,\r\n      value: props.path\r\n        ? setValueAtPath({ ...props, current: value })\r\n        : props.value,\r\n      oldValue: value,\r\n    });\r\n\r\n    view.on(\"change\", 1000, changeData);\r\n\r\n    const setData = async ({ value: newValue }) => {\r\n      value = newValue;\r\n      await setValue({ ...value });\r\n\r\n      if (!firstData) {\r\n        // eslint-disable-next-line no-multi-assign\r\n        firstData = savedData = value;\r\n        setLoading(false);\r\n      }\r\n    };\r\n    view.on(\"change\", -999, setData);\r\n\r\n    const saveData = (data) => {\r\n      savedData = data;\r\n    };\r\n    view.on(\"save\", -1000, saveData);\r\n\r\n    const reload = () => {\r\n      view.event(\"clearErrorValidation\");\r\n      view.event(\"change\", { value: firstData });\r\n    };\r\n    view.on(\"reload\", reload);\r\n\r\n    return () => {\r\n      if (id && !noAutoUpdate) db.off(\"update\", doGet);\r\n      view.off(\"reload\", reload);\r\n      view.off(\"change\", changeData);\r\n      view.off(\"change\", setData);\r\n      view.on(\"save\", saveData);\r\n    };\r\n  }, [view]);\r\n\r\n  view.getValue = (path) =>\r\n    path ? path.split(\".\").reduce((val, key) => val && val[key], value) : value;\r\n\r\n  view.setValue = (props) => view.event(\"change\", props);\r\n  view.value = value;\r\n\r\n  return { value, loading };\r\n};\r\n\r\nconst ContentTypeView = ({\r\n  id,\r\n  contentType,\r\n  baseView,\r\n  addForm,\r\n  className,\r\n  itemFrom,\r\n  itemTo,\r\n  format,\r\n  children,\r\n  view: viewModel,\r\n  value: propvalue,\r\n  renderAs,\r\n  itemRenderAs,\r\n  params,\r\n  ...events\r\n}) => {\r\n  const view = useMemo(() => {\r\n    const model = app().populatedViews[contentType];\r\n\r\n    if (!viewModel && !(model && model.views)) {\r\n      console.error(\"View creation error\", {\r\n        contentType,\r\n        baseView,\r\n        format,\r\n      });\r\n      return { model: {} };\r\n    }\r\n\r\n    const base = viewModel || model.views[format] || {};\r\n    return app().addeventhandler(\r\n      {\r\n        ...base,\r\n        baseView,\r\n        model,\r\n        format,\r\n        viewFormat: base.format,\r\n        contentType,\r\n        getValuePath,\r\n        id,\r\n      },\r\n      `view ${contentType} ${format}`\r\n    );\r\n  }, [contentType, viewModel, format, baseView, id]);\r\n\r\n  const { model } = view;\r\n  view.params = params;\r\n\r\n  useEffect(() => {\r\n    if (!view.on) return;\r\n\r\n    Object.keys(events).forEach((event) => {\r\n      if (event.substring(0, 2) === \"on\" && event[2].toUpperCase() === event[2])\r\n        view.on(event.substring(2).toLowerCase(), events[event]);\r\n    });\r\n\r\n    return () => {\r\n      Object.keys(events).forEach((event) => {\r\n        if (\r\n          event.substring(0, 2) === \"on\" &&\r\n          event[2].toUpperCase() === event[2]\r\n        )\r\n          view.off(event.substring(2).toLowerCase(), events[event]);\r\n      });\r\n    };\r\n  }, [events, view]);\r\n\r\n  const { value, loading } = useValue({ view, propvalue });\r\n\r\n  if (!model) return \"Missing model to create view\";\r\n  if (loading) return <Loading />;\r\n\r\n  const context = { contentType, model, view, value };\r\n  const items = view.item ? view.item.slice(itemFrom, itemTo) : [];\r\n\r\n  if (!renderAs) renderAs = !(addForm || view.addForm) ? undefined : \"form\";\r\n\r\n  return (\r\n    <ViewContextProvider value={context}>\r\n      <Wrapper\r\n        renderAs={renderAs}\r\n        className={className}\r\n        {...(!addForm\r\n          ? {}\r\n          : {\r\n              onSubmit: (e) => {\r\n                e.preventDefault();\r\n                view.event(\"submit\");\r\n              },\r\n            })}\r\n      >\r\n        <DatabaseSearchContextProvider view={view}>\r\n          {children || (\r\n            <ContentTypeRender items={items} renderAs={itemRenderAs} />\r\n          )}\r\n        </DatabaseSearchContextProvider>\r\n      </Wrapper>\r\n    </ViewContextProvider>\r\n  );\r\n};\r\n\r\nexport default ContentTypeView;\r\n","import { useState, useEffect } from \"react\";\r\n\r\nconst UseValidator = ({ validate, view, model, value }) => {\r\n  const [isValidated, setValidated] = useState(view && view.isValidated);\r\n  const error = isValidated && validate({ value, model });\r\n\r\n  useEffect(() => {\r\n    const validator = async ({ errors, silent }) => {\r\n      if (!silent) setValidated(true);\r\n\r\n      const error = await Promise.resolve(validate({ value, model }) || false);\r\n      if (error) errors = [...(errors || []), error];\r\n      return errors ? { errors, silent } : undefined;\r\n    };\r\n\r\n    const clearErrorValidation = () => {\r\n      setValidated(false);\r\n    };\r\n    if (!view) return;\r\n    view.on(\"validate\", validator);\r\n    view.on(\"clearErrorValidation\", clearErrorValidation);\r\n\r\n    return () => {\r\n      if (!view) return;\r\n      view.off(\"validate\", validator);\r\n      view.off(\"clearErrorValidation\", clearErrorValidation);\r\n    };\r\n  }, [view, validate, value, model]);\r\n\r\n  return [error, setValidated];\r\n};\r\nexport default UseValidator;\r\n","import React from \"react\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nconst types = {\r\n  primary: \"bg-blue-500 hover:bg-blue-500 text-white rounded shadow-sm\",\r\n  secondary:\r\n    \"bg-gray-200 hover:bg-gray-300 text-gray-900 border border-gray-300 rounded shadow-sm\",\r\n  \"ehc-primary\": \"floatlabel bg-primary text-white w-full\",\r\n  \"ehc-secondary\": \"floatlabel bg-secondary border border-gray-300 w-full\",\r\n  danger: \"bg-red-700 hover:bg-red-600 text-white rounded shadow-sm\",\r\n  warning: \"bg-yellow-600 hover:bg-yellow-500 text-white rounded shadow-sm\",\r\n  success: \"bg-green-600 hover:bg-green-500 text-white rounded shadow-sm\",\r\n  info: \"btn\",\r\n  error: \"btn\",\r\n  default: \"bg-gray-200 hover:bg-gray-300 text-gray-900 border border-gray-300\",\r\n  primaryDisabled: \"bg-blue-400 cursor-not-allowed\",\r\n  secondaryDisabled: \"bg-gray-600 text-white cursor-not-allowed\",\r\n  dangerDisabled: \"bg-red-400 text-white cursor-not-allowed\",\r\n  warningDisabled: \"bg-yellow-300 text-white cursor-not-allowed\",\r\n  infoDisabled: \"btn\",\r\n  errorDisabled: \"btn\",\r\n  defaultDisabled: \"bg-gray-300 text-white cursor-not-allowed\",\r\n};\r\n\r\nconst sizes = {\r\n  xs: \"py-1 px-2 text-xs\",\r\n  sm: \"py-1 px-2 text-sm\",\r\n  base: \"py-2 px-4 text-base\",\r\n  lg: \"py-4 px-6 text-lg\",\r\n  xl: \"py-4 px-8 text-xl\",\r\n  \"2xl\": \"py-4 px-8 text-xl2\",\r\n};\r\n\r\nconst Button = ({\r\n  onClick,\r\n  className = [],\r\n  type,\r\n  size,\r\n  disabled,\r\n  ...props\r\n}) => {\r\n  className = className instanceof Array ? [...className] : [className];\r\n\r\n  if (!className.includes(\"floatlabel\")) {\r\n    className.push(types[(type || \"default\") + (disabled ? \"Disabled\" : \"\")]);\r\n    className.push(sizes[size] || sizes.base);\r\n  }\r\n\r\n  if (props.Component)\r\n    return React.createElement(props.Component, {\r\n      className,\r\n      ...props,\r\n    });\r\n\r\n  return (\r\n    <Wrapper\r\n      renderAs=\"button\"\r\n      className={className}\r\n      {...props}\r\n      onClick={(e) => {\r\n        e.preventDefault();\r\n        onClick();\r\n      }}\r\n    />\r\n  );\r\n};\r\nexport default Button;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Button } from \"nystem-components\";\r\n\r\nclass ErrorManager extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.disconnectEvent = this.disconnectEvent.bind(this);\r\n    this.errorEvent = this.errorEvent.bind(this);\r\n    this.connectEvent = this.connectEvent.bind(this);\r\n    // window.onerror = this.errorEvent;\r\n    app().connection.on(\"disconnect\", this.disconnectEvent);\r\n    app().connection.on(\"connect\", this.connectEvent);\r\n    this.state = {\r\n      error: false,\r\n      offline: false,\r\n    };\r\n  }\r\n  disconnectEvent() {\r\n    this.setState({\r\n      offline: true,\r\n    });\r\n  }\r\n  connectEvent() {\r\n    if (this.state)\r\n      this.setState({\r\n        offline: false,\r\n      });\r\n  }\r\n  errorEvent(error, url, line) {\r\n    const self = this;\r\n    console.log(error);\r\n    console.log(`URL: ${url}`);\r\n    console.log(`Line Number: ${line}`);\r\n    this.setState({ error: \"An error occured. Reload?\" });\r\n    if (this.errorTimer) clearTimeout(this.errorTimer);\r\n    this.errorTimer = setTimeout(() => {\r\n      self.setState({ error: false });\r\n    }, 5000);\r\n  }\r\n  errorReload() {\r\n    window.location.reload();\r\n  }\r\n  componentWillUnmount() {\r\n    clearTimeout(this.errorTimer);\r\n    app().connection.off(\"disconnect\", this.disconnectEvent);\r\n    app().connection.off(\"connect\", this.connectEvent);\r\n  }\r\n  render() {\r\n    if (this.state.error || this.state.offline)\r\n      return (\r\n        <Button className=\"btn-danger btn\" onClick={this.errorReload}>\r\n          {this.state.error || \"Site is offline\"}\r\n        </Button>\r\n      );\r\n    return <div />;\r\n  }\r\n}\r\nexport default ErrorManager;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\n\r\nclass ErrorMsg extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { error: this.props.error };\r\n  }\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    this.setState({ error: nextProps.error });\r\n  }\r\n  render() {\r\n    const error =\r\n      this.state.error === true ? \"Required field\" : this.state.error;\r\n    const defaultType = \"danger\";\r\n    const className = [\"alert\"];\r\n    className.push(`alert-${this.props.type ? this.props.type : defaultType}`);\r\n    if (this.props.className) className.push(this.props.className);\r\n    if (error)\r\n      return (\r\n        <p\r\n          className={className.join(\" \")}\r\n          dangerouslySetInnerHTML={{ __html: app().t(error) }}\r\n        />\r\n      );\r\n    return null;\r\n  }\r\n}\r\nexport default ErrorMsg;\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\n\r\nconst byType = {\r\n  text:\r\n    \"appearance-none block bg-grey-lighter text-grey-darker border border-grey-lighter rounded py-1 px-3 shadow-sm\",\r\n  password:\r\n    \"appearance-none block bg-grey-lighter text-grey-darker border border-grey-lighter rounded py-1 px-3 shadow-sm\",\r\n  checkbox: \"m-4\",\r\n};\r\n\r\nconst Input = ({ type, value, ...props }, parentRef) => {\r\n  const localRef = useRef(null);\r\n  const [val, setVal] = useState(value);\r\n  const ref = parentRef || localRef;\r\n\r\n  const valRef = useRef();\r\n  valRef.current = val;\r\n  useEffect(() => {\r\n    if (valRef.current === value) return;\r\n    setVal(value);\r\n  }, [value]);\r\n\r\n  useEffect(() => {\r\n    if (props.focus) ref.current.focus();\r\n  }, [props.focus, ref]);\r\n\r\n  let { className } = props;\r\n  className =\r\n    className instanceof Array\r\n      ? className\r\n          .flat(Infinity)\r\n          .filter((item) => item)\r\n          .join(\" \")\r\n      : className;\r\n\r\n  type = type || \"text\";\r\n  if (!className && [\"text\", \"password\"].includes(type))\r\n    className = \"sm:w-1/2 w-full\";\r\n\r\n  const elementProps = {\r\n    ...props,\r\n    ref,\r\n    onChange: (e) => {\r\n      setVal(e.target.value);\r\n      props.onChange(e.target.value);\r\n    },\r\n    onFocus: (ev) => {\r\n      if (props.selectAllOnFocus) ref.current.select();\r\n      if (props.onFocus) return props.onFocus(ev);\r\n    },\r\n    className: `${byType[type]} ${className}`,\r\n    type,\r\n    value: val,\r\n    focus: undefined,\r\n    renderAs: undefined,\r\n    accessibilityLabel: undefined,\r\n    accessible: undefined,\r\n    translate: undefined,\r\n    accessibilityTraits: undefined,\r\n    selectAllOnFocus: undefined,\r\n  };\r\n\r\n  Object.keys(elementProps)\r\n    .filter((key) => elementProps[key] === undefined)\r\n    .forEach((key) => {\r\n      delete elementProps[key];\r\n    });\r\n\r\n  return type === \"textarea\" ? (\r\n    <textarea {...elementProps} />\r\n  ) : (\r\n    <input {...elementProps} />\r\n  );\r\n};\r\n\r\nexport default React.forwardRef(Input);\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nconst InputWrapper = ({\r\n  model,\r\n  error,\r\n  className: pClassName,\r\n  children,\r\n  id,\r\n}) => {\r\n  const inputWidth = model.classNameInput;\r\n\r\n  function label() {\r\n    const classNameLabel = [...(model.classNameLabel || [])];\r\n    if (!model.floatlabel)\r\n      classNameLabel.push(\r\n        \"mr-3 font-semibold sm:w-32 min-w-32 text-right align-top mt-1\"\r\n      );\r\n\r\n    if (!model.text) return null;\r\n    const text =\r\n      typeof model.text === \"string\" ? app().t(model.text) : model.text;\r\n\r\n    return (\r\n      <Wrapper renderAs=\"label\" htmlFor={id} className={classNameLabel}>\r\n        {text}\r\n        {model.mandatory && <span className=\"text-red-800 text-sm\">*</span>}\r\n      </Wrapper>\r\n    );\r\n  }\r\n\r\n  function errorMsg() {\r\n    error = error === true ? \"Required field\" : error;\r\n\r\n    const className = [\"text-red-600 ml-3\"];\r\n    if (pClassName) className.push(pClassName);\r\n\r\n    if (error) return <p className={className.join(\" \")}>{app().t(error)}</p>;\r\n    return null;\r\n  }\r\n\r\n  const info = () =>\r\n    model.info ? (\r\n      <span className=\"help-block\">{app().t(model.info)}</span>\r\n    ) : null;\r\n\r\n  const className = pClassName || model.className || [];\r\n\r\n  if (model.nolabel)\r\n    return (\r\n      <Wrapper className={className}>\r\n        {children}\r\n        {info()}\r\n        {errorMsg()}\r\n      </Wrapper>\r\n    );\r\n\r\n  if (model.floatlabel)\r\n    return (\r\n      <Wrapper className={className}>\r\n        {label()}\r\n        <Wrapper renderAs=\"div\">\r\n          {children}\r\n          {info()}\r\n          {errorMsg()}\r\n        </Wrapper>\r\n      </Wrapper>\r\n    );\r\n\r\n  return (\r\n    <Wrapper className={[...className, \"sm:flex my-2\"]}>\r\n      {label()}\r\n      <Wrapper renderAs=\"div\" className={inputWidth || \"flex-grow\"}>\r\n        {children}\r\n        {info()}\r\n        {errorMsg()}\r\n      </Wrapper>\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default InputWrapper;\r\n","import React from \"react\";\r\n\r\nclass Label extends React.Component {\r\n  render() {\r\n    if (!this.props.model.text) return null;\r\n    if (this.props.model.mandatory)\r\n      return (\r\n        <label htmlFor=\"id_input\" className=\"col-sm-2 col-form-label\">\r\n          {this.props.model.text}\r\n          <span className=\"red\">*</span>\r\n        </label>\r\n      );\r\n    return (\r\n      <label htmlFor=\"id_input\" className=\"col-sm-2 col-form-label\">\r\n        {this.props.model.text}\r\n      </label>\r\n    );\r\n  }\r\n}\r\nexport default Label;\r\n","import React from \"react\";\r\nimport \"./loading.css\";\r\n\r\nclass Loading extends React.Component {\r\n  state = { inDelay: true };\r\n  componentDidMount() {\r\n    this.delayTimer = setTimeout(() => this.setState({ inDelay: false }), 200);\r\n  }\r\n  componentWillUnmount() {\r\n    clearTimeout(this.delayTimer);\r\n  }\r\n  render() {\r\n    const { inDelay } = this.state;\r\n    return inDelay ? null : (\r\n      <div className=\"loading m-2 rounded-lg shadow h-2\" />\r\n    );\r\n  }\r\n}\r\n\r\nexport default Loading;\r\n","import { useState, useEffect } from \"react\";\r\nimport app from \"nystem\";\r\n\r\nconst UseEvent = (event, data) => {\r\n  const [result, setResult] = useState({});\r\n\r\n  useEffect(() => {\r\n    app()\r\n      .event(event, data)\r\n      .then((result) => setResult(result));\r\n  }, [data, event]);\r\n\r\n  return result;\r\n};\r\n\r\nexport default UseEvent;\r\n","import { useState, useEffect } from \"react\";\r\nimport app from \"nystem\";\r\n\r\nconst UseEventListner = (handler, event) => {\r\n  const [result, setResult] = useState({});\r\n  handler = handler || app();\r\n\r\n  useEffect(() => {\r\n    handler.on(event, setResult);\r\n    return () => {\r\n      handler.off(event, setResult);\r\n    };\r\n  }, [event, handler]);\r\n\r\n  return result;\r\n};\r\n\r\nexport default UseEventListner;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nconst ViewSmallComponentErrorMsg = ({ view, model }) => {\r\n  const [error, setError] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const errorSetter = error => {\r\n      setError(error);\r\n    };\r\n    view.on(\"error\", errorSetter);\r\n\r\n    return () => {\r\n      view.off(\"error\", errorSetter);\r\n    };\r\n  });\r\n\r\n  const className = model.className ? model.className.join(\" \") : \"\";\r\n\r\n  if (error)\r\n    return (\r\n      <Wrapper className={`text-red-500 ml-32 pl-12 ${className}`}>\r\n        {app().t(error)}\r\n      </Wrapper>\r\n    );\r\n  return null;\r\n};\r\n\r\nexport default ViewSmallComponentErrorMsg;\r\n","import React from \"react\";\r\n\r\nconst tags = [\r\n  \"p\",\r\n  \"a\",\r\n  \"h1\",\r\n  \"h2\",\r\n  \"h3\",\r\n  \"h4\",\r\n  \"h5\",\r\n  \"h6\",\r\n  \"div\",\r\n  \"nav\",\r\n  \"section\",\r\n  \"span\",\r\n  \"b\",\r\n  \"em\",\r\n  \"strong\",\r\n  \"i\",\r\n  \"form\",\r\n  \"button\",\r\n  \"label\",\r\n  \"table\",\r\n  \"tbody\",\r\n  \"thead\",\r\n  \"tr\",\r\n  \"th\",\r\n  \"td\",\r\n  \"sup\",\r\n  \"main\",\r\n  \"header\",\r\n  \"select\",\r\n  \"iframe\",\r\n  \"svg\",\r\n  \"canvas\",\r\n].reduce((prev, tag) => {\r\n  prev[tag] = true;\r\n  return prev;\r\n}, {});\r\n\r\nconst Wrapper = (\r\n  {\r\n    renderAs,\r\n    className,\r\n    model,\r\n    accessibilityLabel,\r\n    accessible,\r\n    translate,\r\n    accessibilityTraits,\r\n    children,\r\n    onClick,\r\n    style,\r\n    ...props\r\n  },\r\n  ref\r\n) => {\r\n  className =\r\n    className instanceof Array\r\n      ? className\r\n          .flat(Infinity)\r\n          .filter((item) => item)\r\n          .join(\" \")\r\n      : className;\r\n\r\n  if (\r\n    !ref &&\r\n    !className &&\r\n    !renderAs &&\r\n    !onClick &&\r\n    !style &&\r\n    !Object.keys(props).length\r\n  )\r\n    return children || null;\r\n\r\n  if (!tags[renderAs] || renderAs === \"input\") renderAs = \"div\";\r\n\r\n  return React.createElement(\r\n    renderAs,\r\n    { ...props, ref, className, onClick, style },\r\n    children\r\n  );\r\n};\r\nexport default React.forwardRef(Wrapper);\r\n","import { useEffect } from \"react\";\r\nimport app from \"nystem\";\r\n\r\nconst DatabaseAddToCache = ({ options = {}, contentType, addMedia }) => {\r\n  useEffect(() => {\r\n    const doSearch = () => {\r\n      if (options.count) options.count = parseInt(options.count, 10);\r\n\r\n      app()\r\n        .database[contentType].search(options)\r\n        .then(({ data }) => {\r\n          if (!data) return;\r\n\r\n          data.forEach((item) =>\r\n            app().event(\"addToCache\", {\r\n              id: item._id,\r\n              contentType,\r\n              addReferencesToCache: options.addReferencesToCache,\r\n              addMedia,\r\n              value: item,\r\n            })\r\n          );\r\n        });\r\n    };\r\n\r\n    let timer = false;\r\n    const doSearchDebounce = () => {\r\n      clearTimeout(timer);\r\n      timer = setTimeout(() => {\r\n        timer = false;\r\n        doSearch();\r\n      }, 5000);\r\n    };\r\n\r\n    app().database[contentType].on(\"update\", -1000, doSearchDebounce);\r\n    app().on([\"login\", \"logout\"], -1000, doSearchDebounce);\r\n\r\n    return () => {\r\n      if (timer) clearTimeout(timer);\r\n\r\n      app().database[contentType].off(\"update\", doSearchDebounce);\r\n      app().off([\"login\", \"logout\"], doSearchDebounce);\r\n    };\r\n  });\r\n\r\n  return null;\r\n};\r\nexport default DatabaseAddToCache;\r\n","import { useEffect, useContext, useState } from \"react\";\r\nimport { DatabaseSearchContext } from \"nystem-components\";\r\n\r\nconst DatabaseBaseViewSearch = ({ view }) => {\r\n  const [baseFilter, setBaseFilter] = useState({});\r\n  const { search } = useContext(DatabaseSearchContext);\r\n\r\n  useEffect(() => {\r\n    const updateSearch = ({ filter }) => {\r\n      setBaseFilter(filter);\r\n    };\r\n    view.baseView.on(\"search\", -100, updateSearch);\r\n    return () => {\r\n      view.baseView.off(\"search\", updateSearch);\r\n    };\r\n  }, [view]);\r\n\r\n  useEffect(() => {\r\n    if (!search.contentType || search.filter) return;\r\n\r\n    setTimeout(() => {\r\n      view.baseView\r\n        .event(\"getSearch\")\r\n        .then(({ filter }) => setBaseFilter(filter));\r\n    }, 0);\r\n  }, [search, view]);\r\n\r\n  useEffect(() => {\r\n    if (!baseFilter) return;\r\n\r\n    const onSearch = (search) => ({ ...search, filter: baseFilter });\r\n\r\n    view.on(\"setSearch\", 10, onSearch);\r\n    view.event(\"setSearch\");\r\n    return () => {\r\n      view.off(\"setSearch\", onSearch);\r\n    };\r\n  }, [baseFilter, view]);\r\n\r\n  return null;\r\n};\r\n\r\nexport default DatabaseBaseViewSearch;\r\n","import { useEffect, useRef } from \"react\";\r\nimport { UseSearch, RouterUseQueryStore } from \"nystem-components\";\r\n\r\nconst DatabaseFilter = ({ model, view }) => {\r\n  const [value, setValue] = RouterUseQueryStore(model.saveId);\r\n  const firstVal = useRef();\r\n  firstVal.current = firstVal.current || value;\r\n  UseSearch({ view, id: model.field, value, exact: model.exact || undefined });\r\n\r\n  const emitterByType = {\r\n    view,\r\n    baseView: view.baseView,\r\n    baseViewBaseView: view.baseView?.baseView,\r\n    baseViewBaseViewBaseView: view.baseView?.baseView?.baseView,\r\n  };\r\n  const emitter = emitterByType[model.eventType || \"baseView\"];\r\n\r\n  useEffect(() => {\r\n    if (!firstVal.current) return;\r\n    setTimeout(() => {\r\n      if (emitter.getValue(model.value) !== firstVal.current)\r\n        emitter.setValue({ path: model.value, value: firstVal.current });\r\n    }, 0);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const onChange = () => {\r\n      const val = emitter.getValue(model.value);\r\n      if (value !== val) setValue(emitter.getValue(model.value));\r\n    };\r\n\r\n    onChange();\r\n    emitter.on(\"change\", -100, onChange);\r\n    return () => {\r\n      emitter.off(\"change\", onChange);\r\n    };\r\n  }, [emitter, model.value, setValue, value]);\r\n\r\n  return null;\r\n};\r\n\r\nexport default DatabaseFilter;\r\n","import { useEffect, useState } from \"react\";\r\nimport app from \"nystem\";\r\n\r\nconst DatabaseGet = ({ id, contentType, noAutoUpdate }) => {\r\n  const db = app().database[contentType];\r\n  const [result, setResult] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (!id) {\r\n      setResult(false);\r\n      return;\r\n    }\r\n    if (!db) {\r\n      console.error({ id, contentType, noAutoUpdate });\r\n      return;\r\n    }\r\n\r\n    let first = true;\r\n\r\n    const doGet = ({ ids } = {}) => {\r\n      if (!ids || ids.includes(id))\r\n        db.get({ id }).then((result) => {\r\n          setResult({ first, ...result });\r\n          first = false;\r\n        });\r\n    };\r\n    doGet();\r\n    if (noAutoUpdate) return;\r\n\r\n    db.on(\"update\", doGet);\r\n    return () => {\r\n      db.off(\"update\", doGet);\r\n    };\r\n  }, [noAutoUpdate, contentType, db, id]);\r\n\r\n  return { loading: id && !result, ...result };\r\n};\r\nexport default DatabaseGet;\r\n","import React, { useContext } from \"react\";\r\nimport { ContentTypeRender, DatabaseSearchContext } from \"nystem-components\";\r\n\r\nconst DatabaseMissing = ({ model, path }) => {\r\n  const { search } = useContext(DatabaseSearchContext);\r\n\r\n  if (!search.data) return <ContentTypeRender path={path} items={model.item} />;\r\n  return null;\r\n};\r\nexport default DatabaseMissing;\r\n","import { useState, useEffect, useCallback } from \"react\";\r\nimport app from \"nystem\";\r\n\r\nconst DatabaseOneSearch = ({ noAutoUpdate, contentType, search: inSearch }) => {\r\n  const db = app().database[contentType];\r\n  const searchString = JSON.stringify(inSearch);\r\n\r\n  const [search, setSearchState] = useState(inSearch);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const setSearch = useCallback(\r\n    (search, loading) => {\r\n      if (loading) setLoading(true);\r\n\r\n      db.search({ ...search, data: undefined }).then((search) => {\r\n        setSearchState(search);\r\n        if (loading) setLoading(false);\r\n      });\r\n    },\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [db, searchString]\r\n  );\r\n\r\n  useEffect(() => {\r\n    setSearch(inSearch, true);\r\n    if (!noAutoUpdate) db.on(\"update\", () => setSearch(search));\r\n    return () => {\r\n      if (!noAutoUpdate) db.off(\"update\", setSearch);\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [noAutoUpdate, db, setSearch]);\r\n\r\n  return { loading, search, setSearch };\r\n};\r\n\r\nexport default DatabaseOneSearch;\r\n","import { useEffect } from \"react\";\r\nimport app from \"nystem\";\r\n\r\nconst DatabaseSearch = ({ view, model, path, children }) => {\r\n  const { exact, count, subView, filter } = model;\r\n\r\n  let { sortby } = model;\r\n\r\n  useEffect(() => {\r\n    const reverse = [\r\n      model.reversesortby,\r\n      model.reversesortby2,\r\n      model.reversesortby3,\r\n    ];\r\n\r\n    const getFilter = () => {\r\n      const searchFilter = { $and: [] };\r\n      if (!filter) return searchFilter;\r\n\r\n      const insertVal = (val) =>\r\n        val.replace(/\\{([a-z_.0-9]+)\\}/gim, (str, p1) => {\r\n          let val = \"\";\r\n          if (p1 === \"_language\") val = app().settings.lang;\r\n          else if (p1 === \"id\") val = view.id;\r\n          else if (p1.indexOf(\"params.\") === 0)\r\n            val = view.params[p1.replace(\"params.\", \"\")];\r\n          else if (p1.indexOf(\"baseView.\") !== 0)\r\n            val = view.getValue(p1.replace(\"..\", path));\r\n          else {\r\n            p1 = p1.replace(\"baseView.\", \"\");\r\n            val = view.baseView.getValue(p1.replace(\"..\", path));\r\n          }\r\n          if (val instanceof Array) val = val.join(\"|\");\r\n          return val || \"\";\r\n        });\r\n\r\n      filter.forEach((ofilter) => {\r\n        const oneFilter = {};\r\n\r\n        ofilter.and.forEach((oneFilterIn) => {\r\n          oneFilter[insertVal(oneFilterIn[0])] = insertVal(oneFilterIn[1]);\r\n        });\r\n\r\n        if (ofilter.exact) oneFilter.__exact = true;\r\n\r\n        if (\r\n          !ofilter.removeifempty ||\r\n          Object.values(oneFilter).find((val) => val)\r\n        )\r\n          searchFilter.$and.push(oneFilter);\r\n      });\r\n\r\n      return searchFilter;\r\n    };\r\n\r\n    const { contentType } = view;\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    sortby = sortby instanceof Array ? sortby : sortby && [sortby];\r\n\r\n    const options = {\r\n      position: 0,\r\n      exact,\r\n      sortby: sortby && sortby.map((item) => item.id),\r\n      reverse,\r\n      contentType,\r\n      delay: model.button ? -1 : parseInt(model.delay, 10),\r\n      noAutoUpdate: model.noAutoUpdate,\r\n    };\r\n\r\n    if (count) options.count = parseInt(count, 10);\r\n    if (view.id && subView) options.database = view.id;\r\n\r\n    let searchFilter = getFilter();\r\n    const onChange = () => {\r\n      const before = JSON.stringify(searchFilter);\r\n      searchFilter = getFilter();\r\n\r\n      if (before !== JSON.stringify(searchFilter)) view.event(\"setSearch\");\r\n    };\r\n\r\n    const onSearch = () => ({ ...options, filter: getFilter() });\r\n    view.on(\"setSearch\", 1000, onSearch);\r\n    view.on(\"change\", -1000, onChange);\r\n\r\n    setTimeout(() => {\r\n      view.event(\"setSearch\", options);\r\n    }, 0);\r\n    return () => {\r\n      view.off(\"setSearch\", onSearch);\r\n      view.off(\"change\", -10, onChange);\r\n    };\r\n  }, [count, exact, path, sortby, subView, view]);\r\n\r\n  return children || null;\r\n};\r\n\r\nexport default DatabaseSearch;\r\n","import React from \"react\";\r\n\r\nconst DatabaseSearchContext = React.createContext();\r\n\r\nexport default DatabaseSearchContext;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport app from \"nystem\";\r\nimport SearchContext from \"./searchContext\";\r\n\r\nconst DatabaseSearchContextProvider = ({ children, view }) => {\r\n  const [search, setSearchState] = useState({});\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const { contentType } = view;\r\n    let search = {};\r\n    let timer = false;\r\n    let active = false;\r\n    let mounted = true;\r\n\r\n    const setSearchDebounce = async (newSearch) => {\r\n      if (!mounted) return;\r\n      if (!active) {\r\n        setLoading(true);\r\n        view.on(\"search\", 200, doSearch);\r\n        if (!newSearch.noAutoUpdate)\r\n          app().database[contentType].on(\"update\", -1000, setSearch);\r\n        app().on([\"login\", \"logout\"], -1000, setSearch);\r\n        active = true;\r\n      }\r\n      if (newSearch) search = { ...newSearch, isDirty: true };\r\n      if (!timer && search.delay !== -1)\r\n        timer = setTimeout(() => setSearch(), 0);\r\n    };\r\n\r\n    const setSearch = async () => {\r\n      if (!mounted) return;\r\n      timer = false;\r\n\r\n      const searchResult = await view.event(\"search\", {\r\n        ...search,\r\n        data: undefined,\r\n      });\r\n      setSearchState({ ...searchResult, isDirty: false });\r\n\r\n      setLoading(false);\r\n      return searchResult;\r\n    };\r\n\r\n    const getSearch = () => search;\r\n    view.on(\"getSearch\", getSearch);\r\n\r\n    view.on(\"setSearch\", -500, setSearchDebounce);\r\n\r\n    const doSearch = (search) =>\r\n      app().database[contentType].search({\r\n        ...search,\r\n        data: undefined,\r\n      });\r\n\r\n    return () => {\r\n      mounted = false;\r\n      view.off(\"setSearch\", setSearchDebounce);\r\n\r\n      if (active) {\r\n        view.off(\"search\", doSearch);\r\n        app().database[contentType].off(\"update\", setSearch);\r\n        app().off([\"login\", \"logout\"], setSearch);\r\n      }\r\n      view.off(\"getSearch\", getSearch);\r\n    };\r\n  }, [view]);\r\n\r\n  return (\r\n    <SearchContext.Provider value={{ loading, search }}>\r\n      {children}\r\n    </SearchContext.Provider>\r\n  );\r\n};\r\nexport default DatabaseSearchContextProvider;\r\n","import React, { useContext, useState, useEffect } from \"react\";\r\nimport { Button, DatabaseSearchContext } from \"nystem-components\";\r\n\r\nconst DatabaseShowMoreButton = ({ model, view }) => {\r\n  const { search } = useContext(DatabaseSearchContext);\r\n  const [count, setCount] = useState();\r\n\r\n  useEffect(() => {\r\n    if (!count) return;\r\n\r\n    const onSearch = (search) => ({ ...search, count });\r\n    view.on(\"setSearch\", onSearch);\r\n    view.event(\"setSearch\");\r\n    return () => {\r\n      view.off(\"setSearch\", onSearch);\r\n    };\r\n  }, [count, view]);\r\n\r\n  if (search.count > search.searchTotal) return null;\r\n\r\n  return (\r\n    <Button\r\n      className={model.className}\r\n      type=\"lsdkfh\"\r\n      onClick={() => {\r\n        setCount((count || search.count || 0) + parseInt(model.amount, 10));\r\n      }}\r\n    >\r\n      {model.text}\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default DatabaseShowMoreButton;\r\n","import React, { useContext } from \"react\";\r\nimport { ContentTypeRender, DatabaseSearchContext } from \"nystem-components\";\r\n\r\nconst DatabaseView = ({ model, path }) => {\r\n  const { search } = useContext(DatabaseSearchContext);\r\n\r\n  if (search.data) return <ContentTypeRender path={path} items={model.item} />;\r\n  return null;\r\n};\r\nexport default DatabaseView;\r\n","import { useRef, useEffect } from \"react\";\r\n\r\nconst UseSearch = ({ view, id, value, exact = false }) => {\r\n  const last = useRef(false);\r\n\r\n  useEffect(() => {\r\n    if (!value && !last.current) return;\r\n\r\n    const setSearch = (query) => {\r\n      query.filter = query.filter || {};\r\n      query.filter.$and = query.filter.$and || [];\r\n      const search = exact ? { [id]: value, __exact: true } : { [id]: value };\r\n      query.filter.$and.push(search);\r\n    };\r\n    if (value) view.on(\"setSearch\", setSearch);\r\n    view.event(\"setSearch\");\r\n\r\n    last.current = value;\r\n    return () => {\r\n      if (value) view.off(\"setSearch\", setSearch);\r\n    };\r\n  }, [exact, id, value, view]);\r\n};\r\nexport default UseSearch;\r\n","import React from \"react\";\r\nimport { DateInput } from \"nystem-components\";\r\n\r\nclass DateExposedField extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.props.view.searchProp.onUpdate(this.update);\r\n    this.classNameBase = this.model.className ? this.model.className : [];\r\n    this.updateCounter = 0;\r\n  }\r\n  update() {\r\n    if (this.id) {\r\n      const state = {};\r\n      const modelId = this.model.id;\r\n\r\n      state.from = this.props.view.searchProp.filter.get(`${this.id}_from`);\r\n      if (typeof state.from !== \"undefined\" && state.from[modelId])\r\n        state.from = state.from[modelId].substring(1);\r\n      else delete state.from;\r\n\r\n      state.to = this.props.view.searchProp.filter.get(`${this.id}_to`);\r\n      if (typeof state.to !== \"undefined\" && state.to[modelId])\r\n        state.to = state.to[modelId].substring(1);\r\n      else delete state.to;\r\n      if (typeof state.from !== \"undefined\" || typeof state.to !== \"undefined\")\r\n        this.setState(state);\r\n    }\r\n    const self = this;\r\n    if (this.updateCounter > 0) this.updateCounter--;\r\n    if (this.state.className === \"\" || this.updateCounter > 0) return;\r\n    this.setState({\r\n      className: \"has-success\",\r\n    });\r\n    this.delayTimer = setTimeout(() => {\r\n      if (self.isMounted())\r\n        self.setState({\r\n          className: \"\",\r\n        });\r\n    }, 1000);\r\n  }\r\n  search(id, value) {\r\n    const self = this;\r\n    clearTimeout(this.delayTimer);\r\n    const state = {\r\n      className: \"has-warning\",\r\n    };\r\n    state[id] = value;\r\n    this.setState(state);\r\n    this.delayTimer = setTimeout(() => {\r\n      self.updateCounter++;\r\n      if (value)\r\n        if (id === \"to\") value = `<${value}`;\r\n        else value = `>${value}`;\r\n      self.props.view.searchProp.filter.add(\r\n        self.model.id,\r\n        value,\r\n        `${self.id}_${id}`\r\n      );\r\n    }, 200);\r\n  }\r\n  componentDidMount() {}\r\n  componentWillUnmount() {\r\n    this.props.view.searchProp.offUpdate(this.update);\r\n    clearTimeout(this.delayTimer);\r\n  }\r\n  render() {\r\n    const { model } = this.props;\r\n    const className =\r\n      model.className && !this.props.wrapper ? model.className.join(\" \") : \"\";\r\n    const modelFrom = {\r\n      id: \"from\",\r\n      placeholder: \"From\",\r\n      clearButton: true,\r\n    };\r\n    const modelTo = {\r\n      id: \"to\",\r\n      placeholder: \"To\",\r\n      clearButton: true,\r\n    };\r\n    const style = {\r\n      width: \"150px\",\r\n    };\r\n    return (\r\n      <div className={`${className} form-inline`}>\r\n        {this.model.text}\r\n        <DateInput\r\n          style={style}\r\n          model={modelFrom}\r\n          value={this.state.from}\r\n          setValue={this.search}\r\n        />\r\n        {\" - \"}\r\n        <DateInput\r\n          style={style}\r\n          model={modelTo}\r\n          value={this.state.to}\r\n          setValue={this.search}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default DateExposedField;\r\n","import React, { useState } from \"react\";\r\nimport {\r\n  InputWrapper,\r\n  SelectInput,\r\n  UseSearch,\r\n  RouterUseQueryStore,\r\n} from \"nystem-components\";\r\n\r\nconst modelYear = {\r\n  id: \"year\",\r\n  option: [1200],\r\n  render: \"button\",\r\n  limit: 1,\r\n  text: \"Year\",\r\n};\r\n\r\nconst months = Array.from({ length: 12 }, (e, i) =>\r\n  new Date(null, i + 1, null).toLocaleDateString(\"en\", {\r\n    month: \"short\",\r\n  })\r\n);\r\nconst modelMonth = {\r\n  id: \"month\",\r\n  option: months,\r\n  render: \"button\",\r\n  limit: 1,\r\n  text: \"Month\",\r\n};\r\n\r\nconst modelDay = {\r\n  id: \"day\",\r\n  option: [],\r\n  render: \"button\",\r\n  limit: 1,\r\n  text: \"Day\",\r\n};\r\n\r\nconst daysInMonth = (year, month) => new Date(year, month, 0).getDate();\r\nconst getArray = (from, to) =>\r\n  Array.from({ length: to - from }, (e, i) => parseInt(from, 10) + i);\r\n\r\nconst getDate = ({ utc, year, month = 0, day = 1 }) =>\r\n  utc ? Date.UTC(year, month, day) : new Date(year, month, day).getTime();\r\n\r\nconst addUTC = {\r\n  getFullYear: \"getUTCFullYear\",\r\n  getMonth: \"getUTCMonth\",\r\n  getDate: \"getUTCDate\",\r\n};\r\n\r\nconst getByType = (utc, val, func) =>\r\n  val ? new Date(val)[utc ? addUTC[func] : func]() : undefined;\r\n\r\nconst DateExposedYearMonth = ({ model, view }) => {\r\n  const [years] = useState(getArray(model.from, model.to));\r\n  const [from, setFrom] = RouterUseQueryStore(model.saveIdFrom, \"int\");\r\n  const [to, setTo] = RouterUseQueryStore(model.saveIdTo, \"int\");\r\n  UseSearch({ view, id: model.id, value: from && `>${from - 1}` });\r\n  UseSearch({ view, id: model.id, value: to && `<${to + 1}` });\r\n\r\n  const { utc } = model;\r\n\r\n  const year = getByType(utc, from, \"getFullYear\");\r\n\r\n  const fromMonth = getByType(utc, from, \"getMonth\");\r\n  const toMonth = getByType(utc, to, \"getMonth\");\r\n  const month = fromMonth === toMonth ? months[fromMonth] : null;\r\n\r\n  const fromDay = getByType(utc, from, \"getDate\");\r\n  const toDay = getByType(utc, to, \"getDate\");\r\n  const day = fromDay === toDay ? toDay : null;\r\n\r\n  const setYear = (year) => {\r\n    setFrom(year && getDate({ utc, year }));\r\n    setTo(year && getDate({ utc, year: year + 1 }) - 1);\r\n  };\r\n\r\n  const setMonth = (value) => {\r\n    if (!value) setYear(year);\r\n    else {\r\n      const month = months.indexOf(value);\r\n      setFrom(getDate({ utc, year, month }));\r\n      setTo(getDate({ utc, year, month: month + 1 }) - 1);\r\n    }\r\n  };\r\n\r\n  const setDay = (day) => {\r\n    const month = fromMonth;\r\n    if (!day) setMonth(months[month]);\r\n    else {\r\n      setFrom(getDate({ utc, year, month, day }));\r\n      setTo(getDate({ utc, year, month, day: day + 1 }) - 1);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <InputWrapper model={model}>\r\n      <SelectInput\r\n        model={{\r\n          ...modelYear,\r\n          classNameInput: \"yearExposedField\",\r\n          option: years,\r\n        }}\r\n        value={year}\r\n        setValue={setYear}\r\n      />\r\n      {year && model.month && (\r\n        <SelectInput model={modelMonth} value={month} setValue={setMonth} />\r\n      )}\r\n      {month && model.day && (\r\n        <SelectInput\r\n          model={{\r\n            ...modelDay,\r\n            option: getArray(1, daysInMonth(year, fromMonth) + 1),\r\n            classNameInput: \"dayExposedField\",\r\n          }}\r\n          value={day}\r\n          setValue={setDay}\r\n        />\r\n      )}\r\n    </InputWrapper>\r\n  );\r\n};\r\n\r\nexport default DateExposedYearMonth;\r\n","export default ({ value, model }) =>\r\n  model.mandatory && !value && (model.text_mandatory || \"Field is mandatory\");\r\n","import React from \"react\";\r\nimport {\r\n  InputWrapper,\r\n  DateInputDate,\r\n  UseValidator,\r\n  Wrapper,\r\n  DateInputTime,\r\n} from \"nystem-components\";\r\nimport validate from \"./validate\";\r\n\r\nconst DateInput = ({ model, view, setValue, value }) => {\r\n  const { dateType = [\"date\", \"time\"] } = model;\r\n  const [error, setValidated] = UseValidator({ view, validate, value, model });\r\n  const validateAndSet = (value) => {\r\n    setValue(value);\r\n    setValidated(true);\r\n  };\r\n\r\n  return (\r\n    <InputWrapper model={model} error={error}>\r\n      <Wrapper className=\"flex\">\r\n        {dateType.includes(\"date\") && (\r\n          <DateInputDate\r\n            model={model}\r\n            value={value}\r\n            setValue={validateAndSet}\r\n          />\r\n        )}\r\n        {dateType.includes(\"time\") && (\r\n          <DateInputTime\r\n            model={model}\r\n            value={value}\r\n            setValue={validateAndSet}\r\n          />\r\n        )}\r\n      </Wrapper>\r\n    </InputWrapper>\r\n  );\r\n};\r\nexport default DateInput;\r\n","import React, { useEffect, useRef, useCallback, useState } from \"react\";\r\nimport { Icon, Wrapper } from \"nystem-components\";\r\nimport app from \"nystem\";\r\nimport moment from \"my-moment\";\r\n\r\nconst ClearButton = ({ setValue }) => (\r\n  <Icon\r\n    onClick={() => setValue(\"\")}\r\n    className=\"absolute w-4 right-0 top-0 m-3\"\r\n    icon=\"close\"\r\n    aria-hidden=\"true\"\r\n  />\r\n);\r\n\r\nconst dateFormat = \"YYYY-MM-DD\";\r\n\r\nconst DateInputDate = ({ model, focus, setValue, value }) => {\r\n  const [inputVal, setInputVal] = useState(\r\n    value ? moment(value).format(dateFormat) : \"\"\r\n  );\r\n  const { disabled, length, text } = model;\r\n\r\n  const inputEl = useRef(null);\r\n\r\n  const setFromPicker = useCallback(\r\n    function () {\r\n      const formVal = this.getMoment().format(dateFormat);\r\n      setValue(moment(formVal).valueOf());\r\n    },\r\n    [setValue]\r\n  );\r\n\r\n  useEffect(() => {\r\n    setInputVal(value ? moment(value).format(dateFormat) : \"\");\r\n  }, [value]);\r\n\r\n  useEffect(() => {\r\n    const start = async () => {\r\n      const { pikaday } = await import(\"../../client/pikaday\");\r\n      pikaday({\r\n        field: inputEl.current,\r\n        format: dateFormat,\r\n        onSelect: setFromPicker,\r\n        firstDay: 1,\r\n      });\r\n    };\r\n    start();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  return (\r\n    <Wrapper className=\"relative w-1/3\">\r\n      <input\r\n        ref={inputEl}\r\n        placeholder={app().t(text)}\r\n        className={\r\n          \"appearance-none block bg-grey-lighter text-grey-darker border border-grey-lighter rounded py-2 px-3 w-full\"\r\n        }\r\n        value={inputVal}\r\n        maxLength={length}\r\n        onChange={(e) => setInputVal(e.target.value)}\r\n        disabled={disabled}\r\n        type=\"text\"\r\n        focus={focus}\r\n        onBlur={() => setValue(moment(inputVal).valueOf())}\r\n      />\r\n      {value ? <ClearButton setValue={setValue} /> : null}\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default DateInputDate;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Wrapper, Input } from \"nystem-components\";\r\nimport app from \"nystem\";\r\nimport moment from \"my-moment\";\r\n\r\nconst parseVal = (val) => {\r\n  if (val > 100) val /= 100;\r\n\r\n  const parts = val\r\n    .toString()\r\n    .split(/[^0-9]/)\r\n    .filter((part) => part);\r\n\r\n  const min = parseFloat(`.${parts[1] || 0}`) * 100;\r\n  return `${parts[0]}:${min < 10 ? `0${min}` : min}`;\r\n};\r\n\r\nconst DateInputTime = ({ model, focus, setValue, value }) => {\r\n  const { disabled, length, inputClassName = [] } = model;\r\n  const [inputVal, setInputVal] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    setInputVal(value ? moment(value).format(\"HH:mm\") : \"\");\r\n  }, [value]);\r\n\r\n  return (\r\n    <Wrapper className=\"flex\">\r\n      <Input\r\n        placeholder={app().t(\"Time\")}\r\n        className={[\"w-40\", inputClassName]}\r\n        value={inputVal}\r\n        maxLength={length}\r\n        onChange={(value) => setInputVal(value)}\r\n        disabled={disabled}\r\n        type=\"text\"\r\n        focus={focus}\r\n        onBlur={() => {\r\n          if (!inputVal) return;\r\n          const datePart = moment(value || Date.now()).format(\"YYYY-MM-DD\");\r\n          setValue(moment(`${datePart} ${parseVal(inputVal)}`).valueOf());\r\n        }}\r\n      />\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default DateInputTime;\r\n","import { TextSortBy } from \"nystem-components\";\r\nimport React from \"react\";\r\n\r\nconst DateSortBy = props => <TextSortBy {...props} />;\r\nexport default DateSortBy;\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport moment from \"my-moment\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nconst dateTimeFormats = {\r\n  year: \"YYYY\",\r\n  dateLong: \"YYYY-MM-DD\",\r\n  timeLong: \"H:mm\",\r\n  dateTimeLong: \"YYYY-MM-DD HH:mm\",\r\n  dateTimeNoYear: \"D/M H:mm\",\r\n  dateTimeNoYearDay: \"ddd D/M H:mm\",\r\n  dateNoYearDay: \"ddd D/M\",\r\n  timeDay: \"ddd D/M H:mm\",\r\n  day: \"dddd\",\r\n};\r\n\r\nconst hourInMs = 1000 * 60 * 60;\r\n\r\nconst DateView = ({ model, value }) => {\r\n  const { className, renderAs, dateFormat } = model;\r\n  const format = dateTimeFormats[dateFormat]\r\n    ? dateTimeFormats[dateFormat]\r\n    : dateFormat || dateTimeFormats.dateTimeLong;\r\n\r\n  value = parseInt(value, 10);\r\n  let rel = value && model.relative && value + hourInMs * 24 - Date.now();\r\n  rel = !rel || rel < 0 ? 0 : rel;\r\n  if (rel && moment().startOf(\"day\").valueOf() > value) rel = 0;\r\n\r\n  const formatDate = useCallback(\r\n    () => (rel ? moment(value).format(\"H:mm\") : moment(value).format(format)),\r\n    [format, rel, value]\r\n  );\r\n  const [result, setResult] = useState(formatDate());\r\n\r\n  useEffect(() => {\r\n    if (!rel) return;\r\n\r\n    const update = () => setResult(formatDate());\r\n    const timer = setInterval(update, 30000);\r\n    return () => {\r\n      clearInterval(timer);\r\n    };\r\n  }, [formatDate, rel]);\r\n\r\n  return (\r\n    <Wrapper renderAs={renderAs} className={className}>\r\n      {app().t(value ? result : \"\")}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default DateView;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\n\r\nconst add = (path) => {\r\n  if (/^https?:/im.test(path)) return path;\r\n\r\n  const { domain, secure } = app().settings;\r\n  return `http${secure ? \"s\" : \"\"}://${domain}${path}`;\r\n};\r\n\r\nconst Image = ({ className, alt, src, ...props }) => (\r\n  <img\r\n    alt={alt}\r\n    {...props}\r\n    className={\r\n      className instanceof Array\r\n        ? className\r\n            .flat(Infinity)\r\n            .filter((item) => item)\r\n            .join(\" \")\r\n        : className\r\n    }\r\n    src={add(src)}\r\n  />\r\n);\r\n\r\nexport default Image;\r\n","import React from \"react\";\r\nimport { Image } from \"nystem-components\";\r\n\r\nconst ViewImageView = ({ model }) => (\r\n  <Image\r\n    alt=\"logo\"\r\n    className={model.className}\r\n    width={model.width}\r\n    height={model.height}\r\n    src={model.fullPath ? model.filename : `/image/${model.filename}`}\r\n  />\r\n);\r\nexport default ViewImageView;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { InputWrapper, Input } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nlet isInstalled =\r\n  navigator.standalone || matchMedia(\"(display-mode: standalone)\").matches;\r\n\r\nconst ServiceWorkerSelectBox = ({ model, view }) => {\r\n  const [install, setInstall] = useState(false);\r\n  const [id] = useState(app().uuid);\r\n\r\n  useEffect(() => {\r\n    if (!install) return;\r\n    app()\r\n      .event(\"canRunAppInstall\")\r\n      .then(({ installable }) => {\r\n        isInstalled = isInstalled || !installable;\r\n      });\r\n\r\n    const runInstall = () => app().event(\"runAppInstall\");\r\n\r\n    view.on([\"save\"], runInstall);\r\n    app().on([\"login\"], runInstall);\r\n    return () => {\r\n      view.off([\"save\"], runInstall);\r\n\r\n      setTimeout(() => {\r\n        app().off([\"login\"], runInstall);\r\n      }, 200);\r\n    };\r\n  }, [install, view]);\r\n\r\n  return isInstalled ? null : (\r\n    <InputWrapper id={id} model={model} error={false}>\r\n      <Input\r\n        id={id}\r\n        className={model.classNameInput}\r\n        checked={install}\r\n        onChange={() => setInstall(!install)}\r\n        disabled={model.disabled}\r\n        type=\"checkbox\"\r\n      />\r\n    </InputWrapper>\r\n  );\r\n};\r\n\r\nexport default ServiceWorkerSelectBox;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Button } from \"nystem-components\";\r\n\r\nconst isInstalled =\r\n  navigator.standalone || matchMedia(\"(display-mode: standalone)\").matches;\r\n\r\nconst ServiceWorkerView = ({ model }) =>\r\n  isInstalled ? null : (\r\n    <div className={model.className}>\r\n      <Button type={model.btnType} onClick={() => app().event(\"runAppInstall\")}>\r\n        {app().t(model.text || \"...\")}\r\n      </Button>\r\n    </div>\r\n  );\r\n\r\nexport default ServiceWorkerView;\r\n\r\nif (navigator.standalone) {\r\n  console.log(\"Launched: Installed (iOS)\");\r\n} else if (matchMedia(\"(display-mode: standalone)\").matches) {\r\n  console.log(\"Launched: Installed\");\r\n} else {\r\n  console.log(\"Launched: Browser Tab\");\r\n}\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Button, Wrapper, UseEvent } from \"nystem-components\";\r\n\r\nconst ViewButtonDebugAndClear = ({ model }) => {\r\n  const { appVersion } = UseEvent(\"getAppVersion\");\r\n  return (\r\n    <Wrapper className={model.className}>\r\n      <Wrapper className=\"mb-2\">App version: {appVersion || \"\"}</Wrapper>\r\n      <Wrapper className=\"mb-2\">\r\n        The button below will require you to log in again.\r\n      </Wrapper>\r\n      <Button\r\n        type={model.btnType}\r\n        onClick={() => app().event(\"clearCacheAndReload\")}\r\n      >\r\n        {app().t(model.text || \"...\")}\r\n      </Button>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default ViewButtonDebugAndClear;\r\n","import { useEffect } from \"react\";\r\nimport app from \"nystem\";\r\n\r\nconst findByType = {\r\n  description: 'meta[name=\"description\"]',\r\n  \"og:title\": 'meta[property=\"og:title\"]',\r\n  \"og:description\": 'meta[property=\"og:description\"]',\r\n  \"og:url\": 'meta[property=\"og:url\"]',\r\n  \"og:image\": 'meta[property=\"og:image\"]',\r\n};\r\n\r\nconst getValue = (field) => {\r\n  const obj = document.querySelector(findByType[field]);\r\n  return obj ? obj.getAttribute(\"content\") : \"\";\r\n};\r\nconst setValue = (field, value) => {\r\n  let obj = document.querySelector(findByType[field]);\r\n\r\n  if (!obj) {\r\n    const head = document.getElementsByTagName(\"head\")[0];\r\n    obj = document.createElement(\"meta\");\r\n    obj.setAttribute(\"property\", field);\r\n    head.appendChild(obj);\r\n  }\r\n\r\n  obj.setAttribute(\"content\", value);\r\n};\r\n\r\nconst ViewTextPageMeta = ({ model, view, path }) => {\r\n  useEffect(() => {\r\n    const insertVal = (val) => {\r\n      if (!val) return val;\r\n\r\n      return val.replace(/\\{([a-z0-9_.]+)\\}/gim, (str, p1) => {\r\n        if (p1 === \"_language\") return app().settings.lang;\r\n        if (p1 === \"location.href\") return window.location.href;\r\n        if (p1 === \"location.origin\") return window.location.origin;\r\n        if (p1 === \"id\") return view.id;\r\n        return view.getValue(p1.replace(\"..\", path)) || \"{{}}\";\r\n      });\r\n    };\r\n\r\n    const fieldValue = insertVal(model.fieldFormat);\r\n\r\n    if (!fieldValue || fieldValue.indexOf(\"{{}}\") !== -1) return;\r\n\r\n    let oldValue;\r\n    if (model.field === \"title\") {\r\n      oldValue = document.title;\r\n      document.title = fieldValue;\r\n    } else {\r\n      oldValue = getValue(model.field);\r\n\r\n      setValue(model.field, fieldValue);\r\n    }\r\n\r\n    return () => {\r\n      if (model.field === \"title\") document.title = oldValue;\r\n      else setValue(model.field, oldValue);\r\n    };\r\n  }, [model, path, view]);\r\n\r\n  return null;\r\n};\r\nexport default ViewTextPageMeta;\r\n\r\n// {location.origin}/image/{content.0.image.0.id}.{content.0.image.0.ext}\r\n","import { ContentTypeView } from \"nystem-components\";\r\nimport { Route } from \"react-router-dom\";\r\nimport React from \"react\";\r\n\r\nconst Inserter = (props) => {\r\n  const { match, className, children, source, exclude } = props;\r\n  const exact = !(match && match.indexOf(\"*\") === match.length - 1);\r\n  const propMatch = exact ? match : match.substring(0, match.length - 1);\r\n\r\n  return (\r\n    <Route\r\n      className={children instanceof Array && className}\r\n      path={match || source}\r\n      exact={exact}\r\n    >\r\n      {({ location, match }) => {\r\n        if (!match || exclude === location.pathname) return null;\r\n\r\n        if (children)\r\n          return children instanceof Array && children.length ? (\r\n            <div className={className}>{children}</div>\r\n          ) : (\r\n            children\r\n          );\r\n\r\n        let path = location.pathname;\r\n        if (source && (exact || source.indexOf(\"*\") === -1)) path = source;\r\n        else if (propMatch && source) {\r\n          const replace = propMatch.replace(source, \"\");\r\n          path =\r\n            source.substring(0, source.length - 1) + path.replace(replace, \"\");\r\n        }\r\n\r\n        path = path.split(\"/\");\r\n\r\n        return (\r\n          <ContentTypeView\r\n            key={path.join(\"-\")}\r\n            className={className}\r\n            contentType={path[1]}\r\n            format={path[2]}\r\n            id={path[3]}\r\n            params={location.pathname.split(\"/\").slice(1)}\r\n            noForm={props.noForm}\r\n          />\r\n        );\r\n      }}\r\n    </Route>\r\n  );\r\n};\r\nexport default Inserter;\r\n","import React from \"react\";\r\n\r\nimport { Route, Link as RLink } from \"react-router-dom\";\r\n\r\nconst toClassString = (className, match) => {\r\n  className = className instanceof Array ? className.join(\" \") : className;\r\n  return match ? `${className} active` : className;\r\n};\r\n\r\nconst Link = ({ to, className, match, children, exact }) => (\r\n  <Route\r\n    exact={Boolean(exact)}\r\n    path={match || (typeof to === \"object\" ? to.pathname : to)}\r\n  >\r\n    {({ match }) => (\r\n      <RLink to={to || \"/\"} className={toClassString(className, match)}>\r\n        {children}\r\n      </RLink>\r\n    )}\r\n  </Route>\r\n);\r\nexport default Link;\r\n","const RouterBackHandler = () => null;\r\nexport default RouterBackHandler;\r\n","import { withRouter } from \"react-router\";\r\nimport app from \"nystem\";\r\n\r\nlet history = [];\r\nlet at = 0;\r\n\r\nconst RouterHistory = ({ location, history: routerHistory }) => {\r\n  let atNew =\r\n    history.reduce(\r\n      (found, item, index) => found || (location.key === item.key && index + 1),\r\n      false\r\n    ) || history.length + 1;\r\n\r\n  if (atNew === history.length + 1) {\r\n    history = history.slice(0, at);\r\n    atNew = history.length + 1;\r\n  }\r\n\r\n  if (atNew === history.length + 1) history.push(location);\r\n\r\n  at = atNew;\r\n  app().routerHistory = { history, at, routerHistory };\r\n\r\n  return null;\r\n};\r\n\r\nexport default withRouter(RouterHistory);\r\n","import React, { useState, useRef, useEffect } from \"react\";\r\nimport { ContentTypeRender } from \"nystem-components\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nconst exclude = [\"style\"].map((item) => item.toUpperCase());\r\n\r\nconst RouterPageNotFound = ({ model, path, children, location, ...rest }) => {\r\n  const { className, renderAs, item } = model || rest;\r\n  const [is404, setIs404] = useState(false);\r\n  const ref = useRef();\r\n\r\n  useEffect(() => {\r\n    setIs404(false);\r\n    setTimeout(() => {\r\n      const items = [...ref.current.parentElement.children]\r\n        .map((item) => item.nodeName)\r\n        .filter((name) => !exclude.includes(name));\r\n\r\n      if (items.length < 2) setIs404(true);\r\n    }, 200);\r\n  }, [location.pathname, ref, setIs404]);\r\n\r\n  if (!is404) return <div ref={ref} />;\r\n\r\n  return (\r\n    <div\r\n      ref={ref}\r\n      className={className && className.join(\" \")}\r\n      renderAs={renderAs}\r\n    >\r\n      {children || <ContentTypeRender path={path} items={item} />}\r\n    </div>\r\n  );\r\n};\r\nexport default withRouter(RouterPageNotFound);\r\n","import { useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst RouterRedirect = ({ to, model = {}, view, path }) => {\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    const insertVal = (val) =>\r\n      val &&\r\n      val.replace(/\\{([a-z_.0-9]+)\\}/gim, (str, p1) => {\r\n        if (/pathItem[0-9]/.test(p1) && view.params) return view.params[p1[8]];\r\n        return view.getValue(p1.replace(\"..\", path));\r\n      });\r\n\r\n    history.replace(insertVal(model.to || to));\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  return null;\r\n};\r\n\r\nexport default RouterRedirect;\r\n","import { useEffect } from \"react\";\r\n\r\nconst positions = {};\r\nlet count = 0;\r\n\r\nconst setPos = () => {\r\n  if (\r\n    document.documentElement.scrollTop === positions[window.location.pathname]\r\n  )\r\n    return;\r\n\r\n  count++;\r\n  if (count === 5) {\r\n    count = 0;\r\n    return;\r\n  }\r\n\r\n  document.documentElement.scrollTop = positions[window.location.pathname];\r\n  setTimeout(setPos, 120);\r\n};\r\n\r\nconst RouterScrollpos = () => {\r\n  useEffect(() => {\r\n    window.addEventListener(\r\n      \"popstate\",\r\n      () => positions[window.location.pathname] && setTimeout(setPos, 120)\r\n    );\r\n\r\n    window.addEventListener(\"scroll\", () => {\r\n      positions[window.location.pathname] = document.documentElement.scrollTop;\r\n    });\r\n  }, []);\r\n\r\n  return null;\r\n};\r\n\r\nexport default RouterScrollpos;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass RouterState extends React.Component {\r\n  getPath = (context) => {\r\n    return context.router.history.location.pathname;\r\n  };\r\n  componentDidMount() {\r\n    let pathname = this.getPath(this.context);\r\n    console.log(\"pathname\", pathname);\r\n    if (this.props.save === \"storage\")\r\n      app()\r\n        .storage.getItem({ id: \"router.pathname\" })\r\n        .then(({ value }) => {\r\n          if (value && value !== pathname)\r\n            this.context.router.history.replace(value);\r\n          else if (this.props.start && pathname === \"/\")\r\n            this.context.router.history.replace(this.props.start);\r\n        });\r\n    else if (this.props.save === \"memory\" && app().pathname) {\r\n      if (app().pathname !== pathname)\r\n        this.context.router.history.replace(app().pathname);\r\n    } else if (this.props.start && pathname === \"/\")\r\n      this.context.router.history.replace(this.props.start);\r\n    else if (this.props.redirect) {\r\n      if (pathname.indexOf(this.props.match) === 0) {\r\n        pathname = pathname.replace(this.props.match, \"\");\r\n        this.context.router.history.replace(this.props.redirect + pathname);\r\n      }\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {}\r\n\r\n  UNSAFE_componentWillReceiveProps() {\r\n    if (this.props.save === \"memory\")\r\n      app().pathname = this.getPath(this.context);\r\n    if (this.props.save === \"storage\")\r\n      app().storage.setItem({\r\n        id: \"router.pathname\",\r\n        value: this.getPath(this.context),\r\n      });\r\n  }\r\n\r\n  render() {\r\n    return null;\r\n  }\r\n}\r\nRouterState.contextTypes = {\r\n  router: PropTypes.object,\r\n};\r\nexport default RouterState;\r\n\r\n// app.storage.getItem({ id: \"language\" }));\r\n","import { withRouter } from \"react-router\";\r\n\r\nlet last = false;\r\nconst RouterToTopOnNav = ({ location }) => {\r\n  if (location.pathname !== last) {\r\n    last = location.pathname;\r\n    document.documentElement.scrollTop = 0;\r\n  }\r\n\r\n  return null;\r\n};\r\n\r\nexport default withRouter(RouterToTopOnNav);\r\n","import { useState, useRef, useEffect, useCallback } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst toType = {\r\n  int: (val) => parseInt(val || 0, 10),\r\n  float: (val) => parseFloat(val),\r\n  array: (val) => (val === \"\" ? undefined : val),\r\n};\r\n\r\nconst RouterUseQueryStore = (saveId, type, push) => {\r\n  const history = useHistory();\r\n\r\n  const ref = useRef();\r\n  const { search } = history.location;\r\n\r\n  const getQueryValue = useCallback(\r\n    (query) => {\r\n      if (!saveId) return \"\";\r\n      const reg = `\\\\&${saveId}=([^\\\\s&]+)`;\r\n      const [, value = \"\"] = query.match(new RegExp(reg, \"im\")) || [];\r\n      return type ? toType[type](value) : value;\r\n    },\r\n    [saveId, type]\r\n  );\r\n\r\n  const [value, setValue] = useState(\r\n    saveId ? getQueryValue(search) : type ? toType[type](\"\") : \"\"\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (!push) return;\r\n\r\n    const newVal = getQueryValue(search);\r\n    if (newVal !== value) setValue(newVal);\r\n  }, [getQueryValue, push, search, value]);\r\n\r\n  const setRouterValue = (value) => {\r\n    setValue(value);\r\n\r\n    if (!saveId) return;\r\n\r\n    const { pathname, search } = history.location;\r\n\r\n    const reg = `(^\\\\?)|(\\\\&${saveId}=[^\\\\s&]*)`;\r\n    const rest = search.replace(new RegExp(reg, \"gi\"), \"\");\r\n    const add = value ? `&${saveId}=${value}` : \"\";\r\n\r\n    history[push ? \"push\" : \"replace\"](`${pathname}?${rest}${add}`);\r\n  };\r\n\r\n  return [value, setRouterValue, ref];\r\n};\r\n\r\nexport default RouterUseQueryStore;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nconst RouterView = ({ model, view, path }) => {\r\n  const { className, renderAs, item } = model;\r\n  const { pathname } = useLocation();\r\n\r\n  const insertVal = (val) =>\r\n    val &&\r\n    val.replace(/\\{([a-z_.0-9]+)\\}/gim, (str, p1) => {\r\n      if (/pathItem[0-9]/.test(p1) && view.params) return view.params[p1[8]];\r\n      return view.getValue(p1.replace(\"..\", path));\r\n    });\r\n\r\n  if (!pathname.match(new RegExp(insertVal(model.match)))) return null;\r\n\r\n  return (\r\n    <Wrapper className={className} renderAs={renderAs}>\r\n      <ContentTypeRender path={path} items={item} />\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default RouterView;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst sortFuncInt = (key) => (a, b) => {\r\n  const x = a[key];\r\n  const y = b[key];\r\n  if (x === undefined) return y === undefined ? 0 : 1;\r\n  if (y === undefined) return -1;\r\n  return x < y ? -1 : x > y ? 1 : 0;\r\n};\r\n\r\nconst historyPos = (test) => {\r\n  const { history, at } = app().routerHistory;\r\n\r\n  const slice = history.slice(0, at);\r\n  slice.reverse();\r\n\r\n  const pos = slice.reduce((result, { pathname }, index) => {\r\n    if (result) return result;\r\n\r\n    if (test === \"/\") {\r\n      if (pathname === \"/\") return slice.length - index + 1;\r\n    } else if (new RegExp(test).test(pathname)) return slice.length - index + 1;\r\n\r\n    return 0;\r\n  }, 0);\r\n\r\n  return pos;\r\n};\r\n\r\nconst RouterViewByHistory = ({ model, path }) => {\r\n  model = model || {};\r\n  const { className, renderAs, items } = model;\r\n\r\n  const itemsByPosition = items.map((item) => ({\r\n    ...item,\r\n    pos: item.paths.reduce((res, path) => {\r\n      const pos = historyPos(path);\r\n      return pos > res ? pos : res;\r\n    }, 0),\r\n  }));\r\n\r\n  itemsByPosition.sort(sortFuncInt(\"pos\"));\r\n  itemsByPosition.reverse();\r\n\r\n  return (\r\n    <Wrapper className={className} renderAs={renderAs}>\r\n      <ContentTypeRender\r\n        path={path}\r\n        items={itemsByPosition.reduce(\r\n          (res, item) => [...res, ...item.item],\r\n          []\r\n        )}\r\n      />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default RouterViewByHistory;\r\n","export default ({ value, model }) => {\r\n  if (model.mandatory && !value[0]) return model.text_mandatory;\r\n  if (!value[0] && !value[1]) return false;\r\n\r\n  if (value[0].length < model.length)\r\n    return `Password must be at least ${model.length} characters`;\r\n\r\n  if (value[0] !== value[1]) return \"Repeated password must match\";\r\n\r\n  return false;\r\n};\r\n","import React, { useState } from \"react\";\r\nimport app from \"nystem\";\r\nimport { InputWrapper, Input, UseValidator } from \"nystem-components\";\r\nimport validate from \"./validate\";\r\nimport \"./confirmInput.css\";\r\n\r\nconst PasswordConfirmInput = ({ model, value, view, setValue }) => {\r\n  const [value1, setValue1] = useState(\"\");\r\n  const [value2, setValue2] = useState(\"\");\r\n\r\n  const [error, setValidated] = UseValidator({\r\n    view,\r\n    validate,\r\n    value: [value1, value2],\r\n    model,\r\n  });\r\n\r\n  return (\r\n    <InputWrapper model={model} error={error}>\r\n      <div>\r\n        <Input\r\n          placeholder={app().t(model.text)}\r\n          className={[model.classNameInput, \"confirm-input\"]}\r\n          value={value1}\r\n          onChange={(svalue) => {\r\n            setValidated(true);\r\n            setValue1(svalue);\r\n            if (svalue === value2) setValue(value1);\r\n            else if (value) setValue(\"\");\r\n          }}\r\n          type=\"password\"\r\n          autoComplete=\"new-password\"\r\n        />\r\n      </div>\r\n      <div>\r\n        <Input\r\n          placeholder={app().t(\"Repeat\")}\r\n          className={[model.classNameInput, \"confirm-input\"]}\r\n          value={value2}\r\n          onChange={(svalue) => {\r\n            setValidated(true);\r\n            setValue2(svalue);\r\n            if (svalue === value1) setValue(value1);\r\n            else if (value) setValue(\"\");\r\n          }}\r\n          type=\"password\"\r\n          autoComplete=\"new-password\"\r\n        />\r\n      </div>\r\n    </InputWrapper>\r\n  );\r\n};\r\nexport default PasswordConfirmInput;\r\n","import React, { useState } from \"react\";\r\nimport { InputWrapper, Input } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst PasswordInput = ({ model, value, setValue }) => {\r\n  const { disabled, text, classNameInput = [] } = model;\r\n  const [id] = useState(app().uuid);\r\n\r\n  return (\r\n    <InputWrapper model={model} id={id}>\r\n      <Input\r\n        id={id}\r\n        placeholder={app().t(text)}\r\n        className={classNameInput || \"sm:w-1/2 w-full\"}\r\n        value={value || \"\"}\r\n        onChange={setValue}\r\n        type=\"password\"\r\n        disabled={disabled}\r\n      />\r\n    </InputWrapper>\r\n  );\r\n};\r\n\r\nexport default PasswordInput;\r\n","/* eslint-disable react/no-string-refs */\r\nimport React from \"react\";\r\nimport { InputWrapper } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nclass PasswordOldpassword extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.errormsg = this.model.text_mandatory\r\n      ? this.model.text_mandatory\r\n      : true;\r\n    this.validated = false;\r\n    this.state = {};\r\n  }\r\n  handleChange() {\r\n    this.validated = true;\r\n    const { value } = this.refs.input;\r\n    this.setState({\r\n      value: value,\r\n      error: this.model.mandatory && !value ? this.errormsg : false,\r\n    });\r\n    this.props.setValue(`__${this.model.id}`, value);\r\n  }\r\n  valid() {\r\n    this.validated = true;\r\n    if (this.model.mandatory && !this.state.value) {\r\n      this.setState({\r\n        error: this.errormsg,\r\n      });\r\n      return false;\r\n    }\r\n    if (this.state.error) delete this.state.error;\r\n    return true;\r\n  }\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (this.props.value !== nextProps.value) {\r\n      const error = this.validated && this.model.mandatory && !nextProps.value;\r\n      this.setState({\r\n        error: error ? this.errormsg : false,\r\n      });\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <InputWrapper model={this.model} error={this.state.error}>\r\n        <input\r\n          ref=\"input\"\r\n          placeholder={app().t(this.model.text)}\r\n          className=\"form-control\"\r\n          value={this.state.value}\r\n          onChange={this.handleChange}\r\n          type=\"password\"\r\n        />\r\n      </InputWrapper>\r\n    );\r\n  }\r\n}\r\nexport default PasswordOldpassword;\r\n","import React from \"react\";\r\n\r\nclass PasswordView extends React.Component {\r\n  render() {\r\n    return null;\r\n  }\r\n}\r\nexport default PasswordView;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\n\r\nclass RoleView extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    app().on(\"login\", this.sessionChange);\r\n    app().on(\"logout\", this.sessionChange);\r\n\r\n    this.sessionChange();\r\n\r\n    return {};\r\n  }\r\n  sessionChange() {\r\n    let session = app.session.user;\r\n    const { fields } = this.props.model;\r\n\r\n    if (!session) session = {};\r\n\r\n    if (!fields || !fields.length) this.props.setValue(false, session);\r\n    else\r\n      for (let i = 0; i < fields.length; i++)\r\n        this.props.setValue(fields[i], session[fields[i]]);\r\n  }\r\n\r\n  render() {\r\n    return null;\r\n  }\r\n}\r\nexport default RoleView;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nclass Role extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    app().on(\"login\", this.sessionChange.bind(this));\r\n    app().on(\"logout\", this.sessionChange.bind(this));\r\n    this.state = { visible: this.isVisible(props) };\r\n  }\r\n  contains(array1, array2) {\r\n    if (typeof array1 === \"string\") array1 = [array1];\r\n    if (typeof array2 === \"string\") array2 = [array2];\r\n\r\n    for (let i = 0; i < array1.length; i++)\r\n      if (array2.indexOf(array1[i]) !== -1) return true;\r\n\r\n    return false;\r\n  }\r\n  isVisible(props) {\r\n    const { user } = app().session;\r\n    const role =\r\n      user && user.role ? [\"logged-in\"].concat(user.role) : [\"logged-out\"];\r\n    return this.contains(props.role.split(\" \"), role);\r\n  }\r\n  sessionChange() {\r\n    const visible = this.isVisible(this.props);\r\n    if (visible !== this.state.visible) this.setState({ visible });\r\n  }\r\n\r\n  render() {\r\n    if (this.state.visible)\r\n      return (\r\n        <Wrapper className={this.props.className}>\r\n          {this.props.children}\r\n        </Wrapper>\r\n      );\r\n    return null;\r\n  }\r\n}\r\nexport default Role;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nconst SessionLogout = ({ children, model, history, path, ...props }) => {\r\n  const { item, className, to } = model || props;\r\n  return (\r\n    <Wrapper\r\n      className={className}\r\n      onClick={(e) => {\r\n        e.preventDefault();\r\n        app().session.logout();\r\n        if (!to) return;\r\n\r\n        history.replace(to);\r\n      }}\r\n    >\r\n      {children || <ContentTypeRender path={path} items={item} />}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default withRouter(SessionLogout);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst hasNoRole = user => user && !user.role;\r\n\r\nconst SessionNoRole = ({ model = {}, children, path, className }) => {\r\n  const [visible, setVisible] = useState(hasNoRole(app().session.user));\r\n\r\n  useEffect(() => {\r\n    const check = () => {\r\n      setVisible(hasNoRole(app().session.user));\r\n    };\r\n\r\n    app().on(\"logout\", check);\r\n    app().on(\"login\", check);\r\n\r\n    return () => {\r\n      app().off(\"login\", check);\r\n      app().off(\"logout\", check);\r\n    };\r\n  }, []);\r\n\r\n  if (!visible) return null;\r\n\r\n  className = model.className || className;\r\n\r\n  if (children) return <Wrapper className={className}>{children}</Wrapper>;\r\n\r\n  return (\r\n    <Wrapper className={className}>\r\n      <ContentTypeRender path={path} items={model.item} />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default SessionNoRole;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst contains = (array1, array2) => {\r\n  if (!(array1 instanceof Array)) array1 = [array1];\r\n  if (!(array2 instanceof Array)) array2 = [array2];\r\n  for (let i = 0; i < array1.length; i++)\r\n    if (array2.indexOf(array1[i]) !== -1) return true;\r\n\r\n  return false;\r\n};\r\n\r\nconst SessionRole = ({ userrole, model = {}, children, path, className }) => {\r\n  const [visible, setVisible] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const updateVisibility = () => {\r\n      let reqRole = model.role || userrole;\r\n      reqRole = typeof reqRole === \"string\" ? reqRole.split(\" \") : reqRole;\r\n\r\n      const { role } = app().session.user || {};\r\n\r\n      const userRole = role ? [\"logged-in\"].concat(role) : \"logged-out\";\r\n\r\n      setVisible(contains(userRole, reqRole));\r\n    };\r\n\r\n    app().on(\"logout\", -1000, updateVisibility);\r\n    app().on(\"login\", -1000, updateVisibility);\r\n\r\n    updateVisibility();\r\n    return () => {\r\n      app().off(\"login\", updateVisibility);\r\n      app().off(\"logout\", updateVisibility);\r\n    };\r\n  }, [model.role, userrole]);\r\n\r\n  if (!visible) return null;\r\n\r\n  if (children)\r\n    return (\r\n      <Wrapper className={model.className || className}>{children}</Wrapper>\r\n    );\r\n\r\n  return (\r\n    <Wrapper className={model.className}>\r\n      <ContentTypeRender path={path} items={model.item} />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default SessionRole;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { ContentTypeView } from \"nystem-components\";\r\n\r\nclass SessionUser extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    app().on(\"login\", this.sessionChange.bind(this));\r\n    app().on(\"logout\", this.sessionChange.bind(this));\r\n\r\n    const session = app().session.user;\r\n    this.state = { userid: session ? session._id : null };\r\n  }\r\n  sessionChange() {\r\n    const session = app().session.user;\r\n    this.setState({ userid: session ? session._id : null });\r\n  }\r\n  render() {\r\n    const { view, model } = this.props;\r\n    if (this.state.userid && model.toformat !== view.format)\r\n      return (\r\n        <ContentTypeView\r\n          key={this.state.userid}\r\n          contentType={view.contentType}\r\n          format={model.toformat}\r\n          id={this.state.userid}\r\n          baseView={view}\r\n        />\r\n      );\r\n    return null;\r\n  }\r\n}\r\nexport default SessionUser;\r\n","import { useEffect } from \"react\";\r\nimport app from \"nystem\";\r\n\r\nconst SessionView = ({ view }) => {\r\n  useEffect(() => {\r\n    const sessionChange = () => {\r\n      let session = app().session.user;\r\n      const { fields } = this.props.model;\r\n\r\n      if (!session) session = {};\r\n\r\n      if (!fields || !fields.length) view.setValue(false, session);\r\n      else\r\n        for (let i = 0; i < fields.length; i++)\r\n          view.setValue(fields[i], session[fields[i]]);\r\n    };\r\n\r\n    app().on(\"login\", sessionChange);\r\n    app().on(\"logout\", sessionChange);\r\n\r\n    sessionChange();\r\n    return () => {\r\n      app().off(\"login\", sessionChange);\r\n      app().off(\"logout\", sessionChange);\r\n    };\r\n  }, [view]);\r\n\r\n  return null;\r\n};\r\nexport default SessionView;\r\n","import React, { useState } from \"react\";\r\nimport app from \"nystem\";\r\nimport { Button } from \"nystem-components\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nconst ViewButtonLogin = ({ view, model, history }) => {\r\n  const [saveButton, setSaveButton] = useState(\"Log in\");\r\n\r\n  const handleSubmit = async () => {\r\n    const { errors = [] } = await view.event(\"validate\");\r\n\r\n    if (errors.length) {\r\n      view.event(\"error\", \"Correct validation errors\");\r\n      return;\r\n    }\r\n    setSaveButton(\"Logging in\");\r\n    view.value.contentType = view.contentType;\r\n    const { error } = await app().session.login(view.value);\r\n\r\n    if (error === \"missing\") view.event(\"error\", \"Email does not exist\");\r\n    else if (error === \"password\") view.event(\"error\", \"Password error\");\r\n    else if (model.redirectURL) history.replace(model.redirectURL);\r\n\r\n    setSaveButton(\"Log in\");\r\n  };\r\n\r\n  return (\r\n    <Button\r\n      className={model.className}\r\n      type={model.btnType}\r\n      size={model.size}\r\n      onClick={handleSubmit}\r\n    >\r\n      {saveButton}\r\n    </Button>\r\n  );\r\n};\r\nexport default withRouter(ViewButtonLogin);\r\n","import React from \"react\";\r\nimport { Icon } from \"nystem-components\";\r\n\r\nconst IconView = ({ model }) => (\r\n  <Icon\r\n    className={model.className}\r\n    icon={model.icon}\r\n    deg={model.deg !== \"0\" && model.deg}\r\n  />\r\n);\r\n\r\nexport default IconView;\r\n","/* eslint-disable */\n    import React from \"react\";\n  \n  export default {\"add-outline\":<path d=\"M11 9h4v2h-4v4H9v-4H5V9h4V5h2v4zm-1 11a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16z\"/>,\"add-solid\":<path d=\"M11 9V5H9v4H5v2h4v4h2v-4h4V9h-4zm-1 11a10 10 0 1 1 0-20 10 10 0 0 1 0 20z\"/>,\"adjust\":<path d=\"M10 2v16a8 8 0 1 0 0-16zm0 18a10 10 0 1 1 0-20 10 10 0 0 1 0 20z\"/>,\"airplane\":<path d=\"M8.4 12H2.8L1 15H0V5h1l1.8 3h5.6L6 0h2l4.8 8H18a2 2 0 1 1 0 4h-5.2L8 20H6l2.4-8z\"/>,\"album\":<path d=\"M0 0h20v20H0V0zm10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm0-5a3 3 0 1 1 0-6 3 3 0 0 1 0 6z\"/>,\"align-center\":<path d=\"M1 1h18v2H1V1zm0 8h18v2H1V9zm0 8h18v2H1v-2zM4 5h12v2H4V5zm0 8h12v2H4v-2z\"/>,\"align-justified\":<path d=\"M1 1h18v2H1V1zm0 8h18v2H1V9zm0 8h18v2H1v-2zM1 5h18v2H1V5zm0 8h18v2H1v-2z\"/>,\"align-left\":<path d=\"M1 1h18v2H1V1zm0 8h18v2H1V9zm0 8h18v2H1v-2zM1 5h12v2H1V5zm0 8h12v2H1v-2z\"/>,\"align-right\":<path d=\"M1 1h18v2H1V1zm0 8h18v2H1V9zm0 8h18v2H1v-2zM7 5h12v2H7V5zm0 8h12v2H7v-2z\"/>,\"anchor\":<path d=\"M4.34 15.66A7.97 7.97 0 0 0 9 17.94V10H5V8h4V5.83a3 3 0 1 1 2 0V8h4v2h-4v7.94a7.97 7.97 0 0 0 4.66-2.28l-1.42-1.42h5.66l-2.83 2.83a10 10 0 0 1-14.14 0L.1 14.24h5.66l-1.42 1.42zM10 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2z\"/>,\"announcement\":<path d=\"M3 6c0-1.1.9-2 2-2h8l4-4h2v16h-2l-4-4H5a2 2 0 0 1-2-2H1V6h2zm8 9v5H8l-1.67-5H5v-2h8v2h-2z\"/>,\"apparel\":<path d=\"M7 0H6L0 3v6l4-1v12h12V8l4 1V3l-6-3h-1a3 3 0 0 1-6 0z\"/>,\"arrow-down\":<polygon points=\"9 16.172 2.929 10.101 1.515 11.515 10 20 10.707 19.293 18.485 11.515 17.071 10.101 11 16.172 11 0 9 0\"/>,\"arrow-left\":<polygon points=\"3.828 9 9.899 2.929 8.485 1.515 0 10 .707 10.707 8.485 18.485 9.899 17.071 3.828 11 20 11 20 9 3.828 9\"/>,\"arrow-outline-down\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm-2-8V5h4v5h3l-5 5-5-5h3z\"/>,\"arrow-outline-left\":<path d=\"M0 10a10 10 0 1 1 20 0 10 10 0 0 1-20 0zm2 0a8 8 0 1 0 16 0 8 8 0 0 0-16 0zm8-2h5v4h-5v3l-5-5 5-5v3z\"/>,\"arrow-outline-right\":<path d=\"M20 10a10 10 0 1 1-20 0 10 10 0 0 1 20 0zm-2 0a8 8 0 1 0-16 0 8 8 0 0 0 16 0zm-8 2H5V8h5V5l5 5-5 5v-3z\"/>,\"arrow-outline-up\":<path d=\"M10 0a10 10 0 1 1 0 20 10 10 0 0 1 0-20zm0 2a8 8 0 1 0 0 16 8 8 0 0 0 0-16zm2 8v5H8v-5H5l5-5 5 5h-3z\"/>,\"arrow-right\":<polygon points=\"16.172 9 10.101 2.929 11.515 1.515 20 10 19.293 10.707 11.515 18.485 10.101 17.071 16.172 11 0 11 0 9\"/>,\"arrow-thick-down\":<path d=\"M7 10V2h6v8h5l-8 8-8-8h5z\"/>,\"arrow-thick-left\":<path d=\"M10 13h8V7h-8V2l-8 8 8 8v-5z\"/>,\"arrow-thick-right\":<path d=\"M10 7H2v6h8v5l8-8-8-8v5z\"/>,\"arrow-thick-up\":<path d=\"M7 10v8h6v-8h5l-8-8-8 8h5z\"/>,\"arrow-thin-down\":<path d=\"M9 16.172l-6.071-6.071-1.414 1.414L10 20l.707-.707 7.778-7.778-1.414-1.414L11 16.172V0H9z\"/>,\"arrow-thin-left\":<path d=\"M3.828 9l6.071-6.071-1.414-1.414L0 10l.707.707 7.778 7.778 1.414-1.414L3.828 11H20V9H3.828z\"/>,\"arrow-thin-right\":<path d=\"M16.172 9l-6.071-6.071 1.414-1.414L20 10l-.707.707-7.778 7.778-1.414-1.414L16.172 11H0V9z\"/>,\"arrow-thin-up\":<path d=\"M9 3.828L2.929 9.899 1.515 8.485 10 0l.707.707 7.778 7.778-1.414 1.414L11 3.828V20H9V3.828z\"/>,\"arrow-up\":<polygon points=\"9 3.828 2.929 9.899 1.515 8.485 10 0 10.707 .707 18.485 8.485 17.071 9.899 11 3.828 11 20 9 20 9 3.828\"/>,\"artist\":<path d=\"M15.75 8l-3.74-3.75a3.99 3.99 0 0 1 6.82-3.08A4 4 0 0 1 15.75 8zM1.85 15.3l9.2-9.19 2.83 2.83-9.2 9.2-2.82-2.84zm-1.4 2.83l2.11-2.12 1.42 1.42-2.12 2.12-1.42-1.42zM10 15l2-2v7h-2v-5z\"/>,\"at-symbol\":<path d=\"M13.6 13.47A4.99 4.99 0 0 1 5 10a5 5 0 0 1 8-4V5h2v6.5a1.5 1.5 0 0 0 3 0V10a8 8 0 1 0-4.42 7.16l.9 1.79A10 10 0 1 1 20 10h-.18.17v1.5a3.5 3.5 0 0 1-6.4 1.97zM10 13a3 3 0 1 0 0-6 3 3 0 0 0 0 6z\"/>,\"attachment\":<path d=\"M15 3H7a7 7 0 1 0 0 14h8v-2H7A5 5 0 0 1 7 5h8a3 3 0 0 1 0 6H7a1 1 0 0 1 0-2h8V7H7a3 3 0 1 0 0 6h8a5 5 0 0 0 0-10z\"/>,\"backspace\":<path d=\"M0 10l7-7h13v14H7l-7-7zm14.41 0l2.13-2.12-1.42-1.42L13 8.6l-2.12-2.13-1.42 1.42L11.6 10l-2.13 2.12 1.42 1.42L13 11.4l2.12 2.13 1.42-1.42L14.4 10z\"/>,\"backward-step\":<path d=\"M4 5h3v10H4V5zm12 0v10l-9-5 9-5z\"/>,\"backward\":<path d=\"M19 5v10l-9-5 9-5zm-9 0v10l-9-5 9-5z\"/>,\"badge\":<path d=\"M10 12a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-3a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm4 2.75V20l-4-4-4 4v-8.25a6.97 6.97 0 0 0 8 0z\"/>,\"battery-full\":<path d=\"M0 6c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6zm2 0v8h16V6H2zm1 1h4v6H3V7zm5 0h4v6H8V7zm5 0h4v6h-4V7z\"/>,\"battery-half\":<path d=\"M0 6c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6zm2 0v8h16V6H2zm1 1h4v6H3V7zm5 0h4v6H8V7z\"/>,\"battery-low\":<path d=\"M0 6c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6zm2 0v8h16V6H2zm1 1h4v6H3V7z\"/>,\"beverage\":<path d=\"M9 18v-7L0 2V0h20v2l-9 9v7l5 1v1H4v-1l5-1zm2-10a2 2 0 1 0 0-4 2 2 0 0 0 0 4z\"/>,\"block\":<path d=\"M0 10a10 10 0 1 1 20 0 10 10 0 0 1-20 0zm16.32-4.9L5.09 16.31A8 8 0 0 0 16.32 5.09zm-1.41-1.42A8 8 0 0 0 3.68 14.91L14.91 3.68z\"/>,\"bluetooth\":<path d=\"M9.41 0l6 6-4 4 4 4-6 6H9v-7.59l-3.3 3.3-1.4-1.42L8.58 10l-4.3-4.3L5.7 4.3 9 7.58V0h.41zM11 4.41V7.6L12.59 6 11 4.41zM12.59 14L11 12.41v3.18L12.59 14z\"/>,\"bolt\":<path d=\"M13 8V0L8.11 5.87 3 12h4v8L17 8h-4z\"/>,\"book-reference\":<path d=\"M6 4H5a1 1 0 1 1 0-2h11V1a1 1 0 0 0-1-1H4a2 2 0 0 0-2 2v16c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V5a1 1 0 0 0-1-1h-7v8l-2-2-2 2V4z\"/>,\"bookmark copy 2\":<polygon points=\"18 12 18 13 8 13 8 18 2 12 8 6 8 11 16 11 16 2 18 2\"/>,\"bookmark copy 3\":<polygon points=\"3.5 13 12 13 12 18 18 12 12 6 12 11 4 11 4 2 2 2 2 13\"/>,\"bookmark-outline-add\":<path d=\"M2 2c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v18l-8-4-8 4V2zm2 0v15l6-3 6 3V2H4zm5 5V5h2v2h2v2h-2v2H9V9H7V7h2z\"/>,\"bookmark-outline\":<path d=\"M2 2c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v18l-8-4-8 4V2zm2 0v15l6-3 6 3V2H4z\"/>,\"bookmark\":<path d=\"M2 2c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v18l-8-4-8 4V2z\"/>,\"border-all\":<path d=\"M11 11v6h6v-6h-6zm0-2h6V3h-6v6zm-2 2H3v6h6v-6zm0-2V3H3v6h6zm-8 9V1h18v18H1v-1z\"/>,\"border-bottom\":<path d=\"M1 1h2v2H1V1zm0 4h2v2H1V5zm0 4h2v2H1V9zm0 4h2v2H1v-2zm0 4h18v2H1v-2zM5 1h2v2H5V1zm0 8h2v2H5V9zm4-8h2v2H9V1zm0 4h2v2H9V5zm0 4h2v2H9V9zm0 4h2v2H9v-2zm4-12h2v2h-2V1zm0 8h2v2h-2V9zm4-8h2v2h-2V1zm0 4h2v2h-2V5zm0 4h2v2h-2V9zm0 4h2v2h-2v-2z\"/>,\"border-horizontal\":<path d=\"M1 1h2v2H1V1zm0 4h2v2H1V5zm0 4h18v2H1V9zm0 4h2v2H1v-2zm0 4h2v2H1v-2zM5 1h2v2H5V1zm0 16h2v2H5v-2zM9 1h2v2H9V1zm0 4h2v2H9V5zm0 8h2v2H9v-2zm0 4h2v2H9v-2zm4-16h2v2h-2V1zm0 16h2v2h-2v-2zm4-16h2v2h-2V1zm0 4h2v2h-2V5zm0 8h2v2h-2v-2zm0 4h2v2h-2v-2z\"/>,\"border-inner\":<path d=\"M9 9V1h2v8h8v2h-8v8H9v-8H1V9h8zM1 1h2v2H1V1zm0 4h2v2H1V5zm0 8h2v2H1v-2zm0 4h2v2H1v-2zM5 1h2v2H5V1zm0 16h2v2H5v-2zm8-16h2v2h-2V1zm0 16h2v2h-2v-2zm4-16h2v2h-2V1zm0 4h2v2h-2V5zm0 8h2v2h-2v-2zm0 4h2v2h-2v-2z\"/>,\"border-left\":<path d=\"M1 1h2v18H1V1zm4 0h2v2H5V1zm0 8h2v2H5V9zm0 8h2v2H5v-2zM9 1h2v2H9V1zm0 4h2v2H9V5zm0 4h2v2H9V9zm0 4h2v2H9v-2zm0 4h2v2H9v-2zm4-16h2v2h-2V1zm0 8h2v2h-2V9zm0 8h2v2h-2v-2zm4-16h2v2h-2V1zm0 4h2v2h-2V5zm0 4h2v2h-2V9zm0 4h2v2h-2v-2zm0 4h2v2h-2v-2z\"/>,\"border-none\":<path d=\"M1 1h2v2H1V1zm0 4h2v2H1V5zm0 4h2v2H1V9zm0 4h2v2H1v-2zm0 4h2v2H1v-2zM5 1h2v2H5V1zm0 8h2v2H5V9zm0 8h2v2H5v-2zM9 1h2v2H9V1zm0 4h2v2H9V5zm0 4h2v2H9V9zm0 4h2v2H9v-2zm0 4h2v2H9v-2zm4-16h2v2h-2V1zm0 8h2v2h-2V9zm0 8h2v2h-2v-2zm4-16h2v2h-2V1zm0 4h2v2h-2V5zm0 4h2v2h-2V9zm0 4h2v2h-2v-2zm0 4h2v2h-2v-2z\"/>,\"border-outer\":<path d=\"M2 19H1V1h18v18H2zm1-2h14V3H3v14zm10-8h2v2h-2V9zM9 9h2v2H9V9zM5 9h2v2H5V9zm4-4h2v2H9V5zm0 8h2v2H9v-2z\"/>,\"border-right\":<path d=\"M5 1h2v2H5V1zm0 8h2v2H5V9zm0 8h2v2H5v-2zM9 1h2v2H9V1zm0 4h2v2H9V5zm0 4h2v2H9V9zm0 4h2v2H9v-2zm0 4h2v2H9v-2zm4-16h2v2h-2V1zm0 8h2v2h-2V9zm0 8h2v2h-2v-2zM1 1h2v2H1V1zm0 4h2v2H1V5zm0 4h2v2H1V9zm0 4h2v2H1v-2zm0 4h2v2H1v-2zM17 1h2v18h-2V1z\"/>,\"border-top\":<path d=\"M1 1h18v2H1V1zm0 4h2v2H1V5zm0 4h2v2H1V9zm0 4h2v2H1v-2zm0 4h2v2H1v-2zm4-8h2v2H5V9zm0 8h2v2H5v-2zM9 5h2v2H9V5zm0 4h2v2H9V9zm0 4h2v2H9v-2zm0 4h2v2H9v-2zm4-8h2v2h-2V9zm0 8h2v2h-2v-2zm4-12h2v2h-2V5zm0 4h2v2h-2V9zm0 4h2v2h-2v-2zm0 4h2v2h-2v-2z\"/>,\"border-vertical\":<path d=\"M1 1h2v2H1V1zm0 4h2v2H1V5zm0 4h2v2H1V9zm0 4h2v2H1v-2zm0 4h2v2H1v-2zM5 1h2v2H5V1zm0 8h2v2H5V9zm0 8h2v2H5v-2zM9 1h2v18H9V1zm4 0h2v2h-2V1zm0 8h2v2h-2V9zm0 8h2v2h-2v-2zm4-16h2v2h-2V1zm0 4h2v2h-2V5zm0 4h2v2h-2V9zm0 4h2v2h-2v-2zm0 4h2v2h-2v-2z\"/>,\"box\":<path d=\"M0 2C0 .9.9 0 2 0h16a2 2 0 0 1 2 2v2H0V2zm1 3h18v13a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V5zm6 2v2h6V7H7z\"/>,\"brightness-down\":<path d=\"M10 13a3 3 0 1 1 0-6 3 3 0 0 1 0 6zM9 4a1 1 0 1 1 2 0 1 1 0 1 1-2 0zm4.54 1.05a1 1 0 1 1 1.41 1.41 1 1 0 1 1-1.41-1.41zM16 9a1 1 0 1 1 0 2 1 1 0 1 1 0-2zm-1.05 4.54a1 1 0 1 1-1.41 1.41 1 1 0 1 1 1.41-1.41zM11 16a1 1 0 1 1-2 0 1 1 0 1 1 2 0zm-4.54-1.05a1 1 0 1 1-1.41-1.41 1 1 0 1 1 1.41 1.41zM4 11a1 1 0 1 1 0-2 1 1 0 1 1 0 2zm1.05-4.54a1 1 0 1 1 1.41-1.41 1 1 0 1 1-1.41 1.41z\"/>,\"brightness-up\":<path d=\"M10 14a4 4 0 1 1 0-8 4 4 0 0 1 0 8zM9 1a1 1 0 1 1 2 0v2a1 1 0 1 1-2 0V1zm6.65 1.94a1 1 0 1 1 1.41 1.41l-1.4 1.4a1 1 0 1 1-1.41-1.41l1.4-1.4zM18.99 9a1 1 0 1 1 0 2h-1.98a1 1 0 1 1 0-2h1.98zm-1.93 6.65a1 1 0 1 1-1.41 1.41l-1.4-1.4a1 1 0 1 1 1.41-1.41l1.4 1.4zM11 18.99a1 1 0 1 1-2 0v-1.98a1 1 0 1 1 2 0v1.98zm-6.65-1.93a1 1 0 1 1-1.41-1.41l1.4-1.4a1 1 0 1 1 1.41 1.41l-1.4 1.4zM1.01 11a1 1 0 1 1 0-2h1.98a1 1 0 1 1 0 2H1.01zm1.93-6.65a1 1 0 1 1 1.41-1.41l1.4 1.4a1 1 0 1 1-1.41 1.41l-1.4-1.4z\"/>,\"browser-window-new\":<path d=\"M9 10V8h2v2h2v2h-2v2H9v-2H7v-2h2zM0 3c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3zm2 2v12h16V5H2z\"/>,\"browser-window-open\":<path d=\"M0 3c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3zm2 2v12h16V5H2zm8 3l4 5H6l4-5z\"/>,\"browser-window\":<path d=\"M0 3c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3zm2 2v12h16V5H2z\"/>,\"bug\":<path d=\"M15.3 14.89l2.77 2.77a1 1 0 0 1 0 1.41 1 1 0 0 1-1.41 0l-2.59-2.58A5.99 5.99 0 0 1 11 18V9.04a1 1 0 0 0-2 0V18a5.98 5.98 0 0 1-3.07-1.51l-2.59 2.58a1 1 0 0 1-1.41 0 1 1 0 0 1 0-1.41l2.77-2.77A5.95 5.95 0 0 1 4.07 13H1a1 1 0 1 1 0-2h3V8.41L.93 5.34a1 1 0 0 1 0-1.41 1 1 0 0 1 1.41 0l2.1 2.1h11.12l2.1-2.1a1 1 0 0 1 1.41 0 1 1 0 0 1 0 1.41L16 8.41V11h3a1 1 0 1 1 0 2h-3.07c-.1.67-.32 1.31-.63 1.89zM15 5H5a5 5 0 1 1 10 0z\"/>,\"buoy\":<path d=\"M17.16 6.42a8.03 8.03 0 0 0-3.58-3.58l-1.34 2.69a5.02 5.02 0 0 1 2.23 2.23l2.69-1.34zm0 7.16l-2.69-1.34a5.02 5.02 0 0 1-2.23 2.23l1.34 2.69a8.03 8.03 0 0 0 3.58-3.58zM6.42 2.84a8.03 8.03 0 0 0-3.58 3.58l2.69 1.34a5.02 5.02 0 0 1 2.23-2.23L6.42 2.84zM2.84 13.58a8.03 8.03 0 0 0 3.58 3.58l1.34-2.69a5.02 5.02 0 0 1-2.23-2.23l-2.69 1.34zM10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-7a3 3 0 1 0 0-6 3 3 0 0 0 0 6z\"/>,\"calculator\":<path d=\"M2 2c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2zm3 1v2h10V3H5zm0 4v2h2V7H5zm4 0v2h2V7H9zm4 0v2h2V7h-2zm-8 4v2h2v-2H5zm4 0v2h2v-2H9zm4 0v6h2v-6h-2zm-8 4v2h2v-2H5zm4 0v2h2v-2H9z\"/>,\"calendar\":<path d=\"M1 4c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V4zm2 2v12h14V6H3zm2-6h2v2H5V0zm8 0h2v2h-2V0zM5 9h2v2H5V9zm0 4h2v2H5v-2zm4-4h2v2H9V9zm0 4h2v2H9v-2zm4-4h2v2h-2V9zm0 4h2v2h-2v-2z\"/>,\"camera\":<path d=\"M0 6c0-1.1.9-2 2-2h3l2-2h6l2 2h3a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6zm10 10a5 5 0 1 0 0-10 5 5 0 0 0 0 10zm0-2a3 3 0 1 1 0-6 3 3 0 0 1 0 6z\"/>,\"chart-bar\":<path d=\"M1 10h3v10H1V10zM6 0h3v20H6V0zm5 8h3v12h-3V8zm5-4h3v16h-3V4z\"/>,\"chart-pie\":<path d=\"M19.95 11A10 10 0 1 1 9 .05V11h10.95zm-.08-2.6H11.6V.13a10 10 0 0 1 8.27 8.27z\"/>,\"chart\":<path d=\"M4.13 12H4a2 2 0 1 0 1.8 1.11L7.86 10a2.03 2.03 0 0 0 .65-.07l1.55 1.55a2 2 0 1 0 3.72-.37L15.87 8H16a2 2 0 1 0-1.8-1.11L12.14 10a2.03 2.03 0 0 0-.65.07L9.93 8.52a2 2 0 1 0-3.72.37L4.13 12zM0 4c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4z\"/>,\"chat-bubble-dots\":<path d=\"M10 15l-4 4v-4H2a2 2 0 0 1-2-2V3c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-8zM5 7v2h2V7H5zm4 0v2h2V7H9zm4 0v2h2V7h-2z\"/>,\"checkmark-outline\":<path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM6.7 9.29L9 11.6l4.3-4.3 1.4 1.42L9 14.4l-3.7-3.7 1.4-1.42z\"/>,\"checkmark\":<path d=\"M0 11l2-2 5 5L18 3l2 2L7 18z\"/>,\"cheveron-down\":<path d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\"/>,\"cheveron-left\":<path d=\"M7.05 9.293L6.343 10 12 15.657l1.414-1.414L9.172 10l4.242-4.243L12 4.343z\"/>,\"cheveron-outline-down\":<path d=\"M20 10a10 10 0 1 1-20 0 10 10 0 0 1 20 0zM10 2a8 8 0 1 0 0 16 8 8 0 0 0 0-16zm-.7 10.54L5.75 9l1.41-1.41L10 10.4l2.83-2.82L14.24 9 10 13.24l-.7-.7z\"/>,\"cheveron-outline-left\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm8-10a8 8 0 1 0-16 0 8 8 0 0 0 16 0zM7.46 9.3L11 5.75l1.41 1.41L9.6 10l2.82 2.83L11 14.24 6.76 10l.7-.7z\"/>,\"cheveron-outline-right\":<path d=\"M10 0a10 10 0 1 1 0 20 10 10 0 0 1 0-20zM2 10a8 8 0 1 0 16 0 8 8 0 0 0-16 0zm10.54.7L9 14.25l-1.41-1.41L10.4 10 7.6 7.17 9 5.76 13.24 10l-.7.7z\"/>,\"cheveron-outline-up\":<path d=\"M0 10a10 10 0 1 1 20 0 10 10 0 0 1-20 0zm10 8a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm.7-10.54L14.25 11l-1.41 1.41L10 9.6l-2.83 2.8L5.76 11 10 6.76l.7.7z\"/>,\"cheveron-right\":<path d=\"M12.95 10.707l.707-.707L8 4.343 6.586 5.757 10.828 10l-4.242 4.243L8 15.657l4.95-4.95z\"/>,\"cheveron-up\":<path d=\"M10.707 7.05L10 6.343 4.343 12l1.414 1.414L10 9.172l4.243 4.242L15.657 12z\"/>,\"clipboard\":<path d=\"M7.03 2.6a3 3 0 0 1 5.94 0L15 3v1h1a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h1V3l2.03-.4zM5 6H4v12h12V6h-1v1H5V6zm5-2a1 1 0 1 0 0-2 1 1 0 0 0 0 2z\"/>,\"close-outline\":<path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm1.41-1.41A8 8 0 1 0 15.66 4.34 8 8 0 0 0 4.34 15.66zm9.9-8.49L11.41 10l2.83 2.83-1.41 1.41L10 11.41l-2.83 2.83-1.41-1.41L8.59 10 5.76 7.17l1.41-1.41L10 8.59l2.83-2.83 1.41 1.41z\"/>,\"close-solid\":<path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zM11.4 10l2.83-2.83-1.41-1.41L10 8.59 7.17 5.76 5.76 7.17 8.59 10l-2.83 2.83 1.41 1.41L10 11.41l2.83 2.83 1.41-1.41L11.41 10z\"/>,\"close\":<path d=\"M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z\"/>,\"cloud-upload\":<path d=\"M16.88 9.1A4 4 0 0 1 16 17H5a5 5 0 0 1-1-9.9V7a3 3 0 0 1 4.52-2.59A4.98 4.98 0 0 1 17 8c0 .38-.04.74-.12 1.1zM11 11h3l-4-4-4 4h3v3h2v-3z\"/>,\"cloud\":<path d=\"M16.88 9.1A4 4 0 0 1 16 17H5a5 5 0 0 1-1-9.9V7a3 3 0 0 1 4.52-2.59A4.98 4.98 0 0 1 17 8c0 .38-.04.74-.12 1.1z\"/>,\"code\":<path d=\"M.7 9.3l4.8-4.8 1.4 1.42L2.84 10l4.07 4.07-1.41 1.42L0 10l.7-.7zm18.6 1.4l.7-.7-5.49-5.49-1.4 1.42L17.16 10l-4.07 4.07 1.41 1.42 4.78-4.78z\"/>,\"coffee\":<path d=\"M4 11H2a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h2V1h14v10a4 4 0 0 1-4 4H8a4 4 0 0 1-4-4zm0-2V5H2v4h2zm-2 8v-1h18v1l-4 2H6l-4-2z\"/>,\"cog\":<path d=\"M3.94 6.5L2.22 3.64l1.42-1.42L6.5 3.94c.52-.3 1.1-.54 1.7-.7L9 0h2l.8 3.24c.6.16 1.18.4 1.7.7l2.86-1.72 1.42 1.42-1.72 2.86c.3.52.54 1.1.7 1.7L20 9v2l-3.24.8c-.16.6-.4 1.18-.7 1.7l1.72 2.86-1.42 1.42-2.86-1.72c-.52.3-1.1.54-1.7.7L11 20H9l-.8-3.24c-.6-.16-1.18-.4-1.7-.7l-2.86 1.72-1.42-1.42 1.72-2.86c-.3-.52-.54-1.1-.7-1.7L0 11V9l3.24-.8c.16-.6.4-1.18.7-1.7zM10 13a3 3 0 1 0 0-6 3 3 0 0 0 0 6z\"/>,\"color-palette\":<path d=\"M9 20v-1.7l.01-.24L15.07 12h2.94c1.1 0 1.99.89 1.99 2v4a2 2 0 0 1-2 2H9zm0-3.34V5.34l2.08-2.07a1.99 1.99 0 0 1 2.82 0l2.83 2.83a2 2 0 0 1 0 2.82L9 16.66zM0 1.99C0 .9.89 0 2 0h4a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zM4 17a1 1 0 1 0 0-2 1 1 0 0 0 0 2z\"/>,\"compose\":<path d=\"M2 4v14h14v-6l2-2v10H0V2h10L8 4H2zm10.3-.3l4 4L8 16H4v-4l8.3-8.3zm1.4-1.4L16 0l4 4-2.3 2.3-4-4z\"/>,\"computer-desktop\":<path d=\"M7 17H2a2 2 0 0 1-2-2V2C0 .9.9 0 2 0h16a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2h-5l4 2v1H3v-1l4-2zM2 2v11h16V2H2z\"/>,\"computer-laptop\":<path d=\"M18 16h2v1a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1v-1h2V4c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v12zM4 4v9h12V4H4zm4 11v1h4v-1H8z\"/>,\"conversation\":<path d=\"M17 11v3l-3-3H8a2 2 0 0 1-2-2V2c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v7a2 2 0 0 1-2 2h-1zm-3 2v2a2 2 0 0 1-2 2H6l-3 3v-3H2a2 2 0 0 1-2-2V8c0-1.1.9-2 2-2h2v3a4 4 0 0 0 4 4h6z\"/>,\"copy\":<path d=\"M6 6V2c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-4v4a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V8c0-1.1.9-2 2-2h4zm2 0h4a2 2 0 0 1 2 2v4h4V2H8v4zM2 8v10h10V8H2z\"/>,\"credit-card\":<path d=\"M18 6V4H2v2h16zm0 4H2v6h16v-6zM0 4c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm4 8h4v2H4v-2z\"/>,\"currency-dollar\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm1-5h1a3 3 0 0 0 0-6H7.99a1 1 0 0 1 0-2H14V5h-3V3H9v2H8a3 3 0 1 0 0 6h4a1 1 0 1 1 0 2H6v2h3v2h2v-2z\"/>,\"dashboard\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm-5.6-4.29a9.95 9.95 0 0 1 11.2 0 8 8 0 1 0-11.2 0zm6.12-7.64l3.02-3.02 1.41 1.41-3.02 3.02a2 2 0 1 1-1.41-1.41z\"/>,\"date-add\":<path d=\"M15 2h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V4c0-1.1.9-2 2-2h2V0h2v2h6V0h2v2zM3 6v12h14V6H3zm6 5V9h2v2h2v2h-2v2H9v-2H7v-2h2z\"/>,\"dial-pad\":<path d=\"M5 4a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm5 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm5 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4zM5 9a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm5 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm5 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4zM5 14a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm5 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0 6a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm5-6a2 2 0 1 1 0-4 2 2 0 0 1 0 4z\"/>,\"directions\":<path d=\"M10 0l10 10-10 10L0 10 10 0zM6 10v3h2v-3h3v3l4-4-4-4v3H8a2 2 0 0 0-2 2z\"/>,\"document-add\":<path d=\"M9 10V8h2v2h2v2h-2v2H9v-2H7v-2h2zm-5 8h12V6h-4V2H4v16zm-2 1V0h12l4 4v16H2v-1z\"/>,\"document\":<path d=\"M4 18h12V6h-4V2H4v16zm-2 1V0h12l4 4v16H2v-1z\"/>,\"dots-horizontal-double\":<path d=\"M10 9a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0 6a2 2 0 1 1 0-4 2 2 0 0 1 0 4z\"/>,\"dots-horizontal-triple\":<path d=\"M10 12a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0-6a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0 12a2 2 0 1 1 0-4 2 2 0 0 1 0 4z\"/>,\"download\":<path d=\"M13 8V2H7v6H2l8 8 8-8h-5zM0 18h20v2H0v-2z\"/>,\"duplicate\":<path d=\"M6 6V2c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-4v4a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V8c0-1.1.9-2 2-2h4zm2 0h4a2 2 0 0 1 2 2v4h4V2H8v4zM2 8v10h10V8H2zm4 4v-2h2v2h2v2H8v2H6v-2H4v-2h2z\"/>,\"edit-copy\":<path d=\"M6 6V2c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-4v4a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V8c0-1.1.9-2 2-2h4zm2 0h4a2 2 0 0 1 2 2v4h4V2H8v4zM2 8v10h10V8H2z\"/>,\"edit-crop\":<path d=\"M14 16H6a2 2 0 0 1-2-2V6H0V4h4V0h2v14h14v2h-4v4h-2v-4zm0-3V6H7V4h7a2 2 0 0 1 2 2v7h-2z\"/>,\"edit-cut\":<path d=\"M9.77 11.5l5.34 3.91c.44.33 1.24.59 1.79.59H20L6.89 6.38A3.5 3.5 0 1 0 5.5 8.37L7.73 10 5.5 11.63a3.5 3.5 0 1 0 1.38 1.99l2.9-2.12zM3.5 7a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zM15.1 4.59A3.53 3.53 0 0 1 16.9 4H20l-7.5 5.5L10.45 8l4.65-3.41z\"/>,\"edit-pencil\":<path d=\"M12.3 3.7l4 4L4 20H0v-4L12.3 3.7zm1.4-1.4L16 0l4 4-2.3 2.3-4-4z\"/>,\"education\":<path d=\"M3.33 8L10 12l10-6-10-6L0 6h10v2H3.33zM0 8v8l2-2.22V9.2L0 8zm10 12l-5-3-2-1.2v-6l7 4.2 7-4.2v6L10 20z\"/>,\"envelope\":<path d=\"M18 2a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4c0-1.1.9-2 2-2h16zm-4.37 9.1L20 16v-2l-5.12-3.9L20 6V4l-10 8L0 4v2l5.12 4.1L0 14v2l6.37-4.9L10 14l3.63-2.9z\"/>,\"exclamation-outline\":<path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 5h2v6H9V5zm0 8h2v2H9v-2z\"/>,\"exclamation-solid\":<path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zM9 5v6h2V5H9zm0 8v2h2v-2H9z\"/>,\"explore\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zM7.88 7.88l-3.54 7.78 7.78-3.54 3.54-7.78-7.78 3.54zM10 11a1 1 0 1 1 0-2 1 1 0 0 1 0 2z\"/>,\"factory\":<path d=\"M10.5 20H0V7l5 3.33V7l5 3.33V7l5 3.33V0h5v20h-9.5z\"/>,\"fast-forward\":<path d=\"M1 5l9 5-9 5V5zm9 0l9 5-9 5V5z\"/>,\"fast-rewind\":<path d=\"M19 5v10l-9-5 9-5zm-9 0v10l-9-5 9-5z\"/>,\"film\":<path d=\"M0 4c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm6 0v12h8V4H6zM2 5v2h2V5H2zm0 4v2h2V9H2zm0 4v2h2v-2H2zm14-8v2h2V5h-2zm0 4v2h2V9h-2zm0 4v2h2v-2h-2zM8 7l5 3-5 3V7z\"/>,\"filter\":<path d=\"M12 12l8-8V0H0v4l8 8v8l4-4v-4z\"/>,\"flag\":<path d=\"M7.667 12H2v8H0V0h12l.333 2H20l-3 6 3 6H8l-.333-2z\"/>,\"flashlight\":<path d=\"M13 7v11a2 2 0 0 1-2 2H9a2 2 0 0 1-2-2V7L5 5V3h10v2l-2 2zM9 8v1a1 1 0 1 0 2 0V8a1 1 0 0 0-2 0zM5 0h10v2H5V0z\"/>,\"folder-outline-add\":<path d=\"M0 4c0-1.1.9-2 2-2h7l2 2h7a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm2 2v10h16V6H2zm7 4V8h2v2h2v2h-2v2H9v-2H7v-2h2z\"/>,\"folder-outline\":<path d=\"M0 4c0-1.1.9-2 2-2h7l2 2h7a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm2 2v10h16V6H2z\"/>,\"folder\":<path d=\"M0 4c0-1.1.9-2 2-2h7l2 2h7a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4z\"/>,\"format-bold\":<path d=\"M3 19V1h8a5 5 0 0 1 3.88 8.16A5.5 5.5 0 0 1 11.5 19H3zm7.5-8H7v5h3.5a2.5 2.5 0 1 0 0-5zM7 4v4h3a2 2 0 1 0 0-4H7z\"/>,\"format-font-size\":<path d=\"M16 9v8h-2V9h-4V7h10v2h-4zM8 5v12H6V5H0V3h15v2H8z\"/>,\"format-italic\":<path d=\"M8 1h9v2H8V1zm3 2h3L8 17H5l6-14zM2 17h9v2H2v-2z\"/>,\"format-text-size\":<path d=\"M16 9v8h-2V9h-4V7h10v2h-4zM8 5v12H6V5H0V3h15v2H8z\"/>,\"format-underline\":<path d=\"M16 9A6 6 0 1 1 4 9V1h3v8a3 3 0 0 0 6 0V1h3v8zM2 17h16v2H2v-2z\"/>,\"forward-step\":<path d=\"M13 5h3v10h-3V5zM4 5l9 5-9 5V5z\"/>,\"forward\":<path d=\"M1 5l9 5-9 5V5zm9 0l9 5-9 5V5z\"/>,\"gift\":<path d=\"M14.83 4H20v6h-1v10H1V10H0V4h5.17A3 3 0 0 1 10 .76 3 3 0 0 1 14.83 4zM8 10H3v8h5v-8zm4 0v8h5v-8h-5zM8 6H2v2h6V6zm4 0v2h6V6h-6zM8 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm4 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2z\"/>,\"globe\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm2-2.25a8 8 0 0 0 4-2.46V9a2 2 0 0 1-2-2V3.07a7.95 7.95 0 0 0-3-1V3a2 2 0 0 1-2 2v1a2 2 0 0 1-2 2v2h3a2 2 0 0 1 2 2v5.75zm-4 0V15a2 2 0 0 1-2-2v-1h-.5A1.5 1.5 0 0 1 4 10.5V8H2.25A8.01 8.01 0 0 0 8 17.75z\"/>,\"hand-stop\":<path d=\"M17 16a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4.01V4a1 1 0 0 1 1-1 1 1 0 0 1 1 1v6h1V2a1 1 0 0 1 1-1 1 1 0 0 1 1 1v8h1V1a1 1 0 1 1 2 0v9h1V2a1 1 0 0 1 1-1 1 1 0 0 1 1 1v13h1V9a1 1 0 0 1 1-1h1v8z\"/>,\"hard-drive\":<path d=\"M2 2c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2zm10.4 5.6A5 5 0 1 0 15 12V5l-2.6 2.6zM10 14a2 2 0 1 1 0-4 2 2 0 0 1 0 4zM6 3v2h4V3H6zM4 3a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 16a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm12 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0-16a1 1 0 1 0 0-2 1 1 0 0 0 0 2z\"/>,\"headphones\":<path d=\"M16 8A6 6 0 1 0 4 8v11H2a2 2 0 0 1-2-2v-4a2 2 0 0 1 2-2V8a8 8 0 1 1 16 0v3a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-2V8zm-4 2h3v10h-3V10zm-7 0h3v10H5V10z\"/>,\"heart\":<path d=\"M10 3.22l-.61-.6a5.5 5.5 0 0 0-7.78 7.77L10 18.78l8.39-8.4a5.5 5.5 0 0 0-7.78-7.77l-.61.61z\"/>,\"home\":<path d=\"M8 20H3V10H0L10 0l10 10h-3v10h-5v-6H8v6z\"/>,\"hot\":<path d=\"M10 0s8 7.58 8 12a8 8 0 1 1-16 0c0-1.5.91-3.35 2.12-5.15A3 3 0 0 0 10 6V0zM8 0a3 3 0 1 0 0 6V0z\"/>,\"hour-glass\":<path d=\"M3 18a7 7 0 0 1 4-6.33V8.33A7 7 0 0 1 3 2H1V0h18v2h-2a7 7 0 0 1-4 6.33v3.34A7 7 0 0 1 17 18h2v2H1v-2h2zM5 2a5 5 0 0 0 4 4.9V10h2V6.9A5 5 0 0 0 15 2H5z\"/>,\"inbox-check\":<path d=\"M0 2C0 .9.9 0 2 0h16a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm14 12h4V2H2v12h4c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2zM5 9l2-2 2 2 4-4 2 2-6 6-4-4z\"/>,\"inbox-download\":<path d=\"M0 2C0 .9.9 0 2 0h16a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm14 12h4V2H2v12h4c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2zM9 8V5h2v3h3l-4 4-4-4h3z\"/>,\"inbox-full\":<path d=\"M14 14h4V2H2v12h4c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2zM0 2C0 .9.9 0 2 0h16a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm4 2h12v2H4V4zm0 3h12v2H4V7zm0 3h12v2H4v-2z\"/>,\"inbox\":<path d=\"M0 2C0 .9.9 0 2 0h16a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm14 12h4V2H2v12h4c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2z\"/>,\"indent-decrease\":<path d=\"M1 1h18v2H1V1zm6 8h12v2H7V9zm-6 8h18v2H1v-2zM7 5h12v2H7V5zm0 8h12v2H7v-2zM5 6v8l-4-4 4-4z\"/>,\"indent-increase\":<path d=\"M1 1h18v2H1V1zm6 8h12v2H7V9zm-6 8h18v2H1v-2zM7 5h12v2H7V5zm0 8h12v2H7v-2zM1 6l4 4-4 4V6z\"/>,\"information-outline\":<path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z\"/>,\"information-solid\":<path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zM9 11v4h2V9H9v2zm0-6v2h2V5H9z\"/>,\"key\":<path d=\"M12.26 11.74L10 14H8v2H6v2l-2 2H0v-4l8.26-8.26a6 6 0 1 1 4 4zm4.86-4.62A3 3 0 0 0 15 2a3 3 0 0 0-2.12.88l4.24 4.24z\"/>,\"keyboard\":<path d=\"M0 6c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6zm2 0v2h2V6H2zm1 3v2h2V9H3zm-1 3v2h2v-2H2zm3 0v2h10v-2H5zm11 0v2h2v-2h-2zM6 9v2h2V9H6zm3 0v2h2V9H9zm3 0v2h2V9h-2zm3 0v2h2V9h-2zM5 6v2h2V6H5zm3 0v2h2V6H8zm3 0v2h2V6h-2zm3 0v2h4V6h-4z\"/>,\"layers\":<path d=\"M10 1l10 6-10 6L0 7l10-6zm6.67 10L20 13l-10 6-10-6 3.33-2L10 15l6.67-4z\"/>,\"library\":<path d=\"M0 6l10-6 10 6v2H0V6zm0 12h20v2H0v-2zm2-2h16v2H2v-2zm0-8h4v8H2V8zm6 0h4v8H8V8zm6 0h4v8h-4V8z\"/>,\"light-bulb\":<path d=\"M7 13.33a7 7 0 1 1 6 0V16H7v-2.67zM7 17h6v1.5c0 .83-.67 1.5-1.5 1.5h-3A1.5 1.5 0 0 1 7 18.5V17zm2-5.1V14h2v-2.1a5 5 0 1 0-2 0z\"/>,\"link\":<path d=\"M9.26 13a2 2 0 0 1 .01-2.01A3 3 0 0 0 9 5H5a3 3 0 0 0 0 6h.08a6.06 6.06 0 0 0 0 2H5A5 5 0 0 1 5 3h4a5 5 0 0 1 .26 10zm1.48-6a2 2 0 0 1-.01 2.01A3 3 0 0 0 11 15h4a3 3 0 0 0 0-6h-.08a6.06 6.06 0 0 0 0-2H15a5 5 0 0 1 0 10h-4a5 5 0 0 1-.26-10z\"/>,\"list-add\":<path d=\"M15 9h-3v2h3v3h2v-3h3V9h-3V6h-2v3zM0 3h10v2H0V3zm0 8h10v2H0v-2zm0-4h10v2H0V7zm0 8h10v2H0v-2z\"/>,\"list-bullet\":<path d=\"M1 4h2v2H1V4zm4 0h14v2H5V4zM1 9h2v2H1V9zm4 0h14v2H5V9zm-4 5h2v2H1v-2zm4 0h14v2H5v-2z\"/>,\"list\":<path d=\"M1 4h2v2H1V4zm4 0h14v2H5V4zM1 9h2v2H1V9zm4 0h14v2H5V9zm-4 5h2v2H1v-2zm4 0h14v2H5v-2z\"/>,\"load-balancer\":<path d=\"M17 12h-6v4h1v4H8v-4h1v-4H3v4h1v4H0v-4h1v-4a2 2 0 0 1 2-2h6V6H7V0h6v6h-2v4h6a2 2 0 0 1 2 2v4h1v4h-4v-4h1v-4z\"/>,\"location-current\":<path d=\"M0 0l20 8-8 4-2 8z\"/>,\"location-food\":<path d=\"M18 11v7a2 2 0 0 1-4 0v-5h-2V3a3 3 0 0 1 3-3h3v11zM4 10a2 2 0 0 1-2-2V1a1 1 0 0 1 2 0v4h1V1a1 1 0 0 1 2 0v4h1V1a1 1 0 0 1 2 0v7a2 2 0 0 1-2 2v8a2 2 0 0 1-4 0v-8z\"/>,\"location-gas-station\":<path d=\"M13 18h1v2H0v-2h1V2c0-1.1.9-2 2-2h8a2 2 0 0 1 2 2v16zM3 2v6h8V2H3zm10 8h1a2 2 0 0 1 2 2v3a1 1 0 0 0 2 0v-5l-2-2V6l-2-2 1-1 5 5v7a3 3 0 0 1-6 0v-3h-1v-2z\"/>,\"location-hotel\":<path d=\"M2 12h18v6h-2v-2H2v2H0V2h2v10zm8-6h8a2 2 0 0 1 2 2v3H10V6zm-4 5a3 3 0 1 1 0-6 3 3 0 0 1 0 6z\"/>,\"location-marina\":<path d=\"M8 1.88V0h2v16h10l-4 4H2l-2-4h8v-2H0v-.26A24.03 24.03 0 0 0 8 1.88zM19.97 14H10v-.36A11.94 11.94 0 0 0 10 .36v-.2A16.01 16.01 0 0 1 19.97 14z\"/>,\"location-park\":<path d=\"M5.33 12.77A4 4 0 1 1 3 5.13V5a4 4 0 0 1 5.71-3.62 3.5 3.5 0 0 1 6.26 1.66 2.5 2.5 0 0 1 2 2.08 4 4 0 1 1-2.7 7.49A5.02 5.02 0 0 1 12 14.58V18l2 1v1H6v-1l2-1v-3l-2.67-2.23zM5 10l3 3v-3H5z\"/>,\"location-restroom\":<path d=\"M12 16H9l2-4.5V9c0-1.1.9-2 2-2h2a2 2 0 0 1 2 2v2.5l2 4.5h-3v4h-4v-4zm-5-3h2V9a2 2 0 0 0-2-2H3a2 2 0 0 0-2 2v4h2v7h4v-7zM5 6a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm9 0a3 3 0 1 1 0-6 3 3 0 0 1 0 6z\"/>,\"location-shopping\":<path d=\"M16 6v2h2l2 12H0L2 8h2V6a6 6 0 1 1 12 0zm-2 0a4 4 0 1 0-8 0v2h8V6zM4 10v2h2v-2H4zm10 0v2h2v-2h-2z\"/>,\"location\":<path d=\"M10 20S3 10.87 3 7a7 7 0 1 1 14 0c0 3.87-7 13-7 13zm0-11a2 2 0 1 0 0-4 2 2 0 0 0 0 4z\"/>,\"lock-closed\":<path d=\"M4 8V6a6 6 0 1 1 12 0v2h1a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h1zm5 6.73V17h2v-2.27a2 2 0 1 0-2 0zM7 6v2h6V6a3 3 0 0 0-6 0z\"/>,\"lock-open\":<path d=\"M4 8V6a6 6 0 1 1 12 0h-3v2h4a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h1zm5 6.73V17h2v-2.27a2 2 0 1 0-2 0zM7 6v2h6V6a3 3 0 0 0-6 0z\"/>,\"map\":<path d=\"M0 0l6 4 8-4 6 4v16l-6-4-8 4-6-4V0zm7 6v11l6-3V3L7 6z\"/>,\"menu\":<path d=\"M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z\"/>,\"mic\":<path d=\"M9 18v-1.06A8 8 0 0 1 2 9h2a6 6 0 1 0 12 0h2a8 8 0 0 1-7 7.94V18h3v2H6v-2h3zM6 4a4 4 0 1 1 8 0v5a4 4 0 1 1-8 0V4z\"/>,\"minus-outline\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm5-9v2H5V9h10z\"/>,\"minus-solid\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm5-11H5v2h10V9z\"/>,\"minus\":<path d=\"M0 6h20v2H0v-2z\"/>,\"mobile-devices\":<path d=\"M17 6V5h-2V2H3v14h5v4h3.25H11a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6zm-5.75 14H3a2 2 0 0 1-2-2V2c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-5.75zM11 8v8h6V8h-6zm3 11a1 1 0 1 0 0-2 1 1 0 0 0 0 2z\"/>,\"mood-happy-outline\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zM6.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm7 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm2.16 3a6 6 0 0 1-11.32 0h11.32z\"/>,\"mood-happy-solid\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zM6.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm7 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm2.16 3H4.34a6 6 0 0 0 11.32 0z\"/>,\"mood-neutral-outline\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zM6.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm7 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zM7 13h6a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2z\"/>,\"mood-neutral-solid\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zM6.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm7 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM7 13a1 1 0 0 0 0 2h6a1 1 0 0 0 0-2H7z\"/>,\"mood-sad-outline\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zM6.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm7 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm2.16 6H4.34a6 6 0 0 1 11.32 0z\"/>,\"mood-sad-solid\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zM6.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm7 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm2.16 6a6 6 0 0 0-11.32 0h11.32z\"/>,\"mouse\":<path d=\"M4 9V6A6 6 0 0 1 9 .08V9H4zm0 2v3a6 6 0 1 0 12 0v-3H4zm12-2V6a6 6 0 0 0-5-5.92V9h5z\"/>,\"move\":<path d=\"M94.828,45.171L80.687,31.029c-1.562-1.562-4.095-1.562-5.657,0c-1.562,1.562-1.562,4.095,0,5.657L82.344,44H52V13.657  l7.313,7.313c1.562,1.562,4.095,1.562,5.657,0c1.562-1.562,1.562-4.095,0-5.657L50.828,1.171c-1.562-1.562-4.095-1.562-5.657,0  L31.029,15.314c-1.562,1.562-1.562,4.095,0,5.657s4.095,1.562,5.657,0L44,13.657V44H13.657l7.313-7.313  c1.562-1.562,1.562-4.095,0-5.657s-4.095-1.562-5.657,0L1.171,45.171c-1.562,1.562-1.562,4.095,0,5.657l14.143,14.143  c1.562,1.562,4.095,1.562,5.657,0c1.562-1.562,1.562-4.095,0-5.657L13.657,52H44v30.344l-7.313-7.314  c-1.562-1.562-4.095-1.562-5.657,0c-1.562,1.562-1.562,4.095,0,5.657l14.142,14.142c1.562,1.562,4.095,1.562,5.657,0l14.143-14.142  c1.562-1.562,1.562-4.095,0-5.657c-1.562-1.562-4.095-1.562-5.657,0L52,82.343V52h30.343l-7.313,7.313  c-1.562,1.562-1.562,4.095,0,5.657c1.562,1.562,4.095,1.562,5.657,0l14.142-14.143C96.391,49.267,96.391,46.733,94.828,45.171z\" />,\"music-album\":<path d=\"M0 0h20v20H0V0zm10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm0-5a3 3 0 1 1 0-6 3 3 0 0 1 0 6z\"/>,\"music-artist\":<path d=\"M15.75 8l-3.74-3.75a3.99 3.99 0 0 1 6.82-3.08A4 4 0 0 1 15.75 8zm-13.9 7.3l9.2-9.19 2.83 2.83-9.2 9.2-2.82-2.84zm-1.4 2.83l2.11-2.12 1.42 1.42-2.12 2.12-1.42-1.42zM10 15l2-2v7h-2v-5z\"/>,\"music-notes\":<path d=\"M20 2.5V0L6 2v12.17A3 3 0 0 0 5 14H3a3 3 0 0 0 0 6h2a3 3 0 0 0 3-3V5.71L18 4.3v7.88a3 3 0 0 0-1-.17h-2a3 3 0 0 0 0 6h2a3 3 0 0 0 3-3V2.5z\"/>,\"music-playlist\":<path d=\"M16 17a3 3 0 0 1-3 3h-2a3 3 0 0 1 0-6h2a3 3 0 0 1 1 .17V1l6-1v4l-4 .67V17zM0 3h12v2H0V3zm0 4h12v2H0V7zm0 4h12v2H0v-2zm0 4h6v2H0v-2z\"/>,\"navigation-more\":<path d=\"M4 12a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm6 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm6 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4z\"/>,\"network\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm7.75-8a8.01 8.01 0 0 0 0-4h-3.82a28.81 28.81 0 0 1 0 4h3.82zm-.82 2h-3.22a14.44 14.44 0 0 1-.95 3.51A8.03 8.03 0 0 0 16.93 14zm-8.85-2h3.84a24.61 24.61 0 0 0 0-4H8.08a24.61 24.61 0 0 0 0 4zm.25 2c.41 2.4 1.13 4 1.67 4s1.26-1.6 1.67-4H8.33zm-6.08-2h3.82a28.81 28.81 0 0 1 0-4H2.25a8.01 8.01 0 0 0 0 4zm.82 2a8.03 8.03 0 0 0 4.17 3.51c-.42-.96-.74-2.16-.95-3.51H3.07zm13.86-8a8.03 8.03 0 0 0-4.17-3.51c.42.96.74 2.16.95 3.51h3.22zm-8.6 0h3.34c-.41-2.4-1.13-4-1.67-4S8.74 3.6 8.33 6zM3.07 6h3.22c.2-1.35.53-2.55.95-3.51A8.03 8.03 0 0 0 3.07 6z\"/>,\"news-paper\":<path d=\"M16 2h4v15a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V0h16v2zm0 2v13a1 1 0 0 0 1 1 1 1 0 0 0 1-1V4h-2zM2 2v15a1 1 0 0 0 1 1h11.17a2.98 2.98 0 0 1-.17-1V2H2zm2 8h8v2H4v-2zm0 4h8v2H4v-2zM4 4h8v4H4V4z\"/>,\"notification\":<path d=\"M4 8a6 6 0 0 1 4.03-5.67 2 2 0 1 1 3.95 0A6 6 0 0 1 16 8v6l3 2v1H1v-1l3-2V8zm8 10a2 2 0 1 1-4 0h4z\"/>,\"notifications-outline\":<path d=\"M6 8v7h8V8a4 4 0 1 0-8 0zm2.03-5.67a2 2 0 1 1 3.95 0A6 6 0 0 1 16 8v6l3 2v1H1v-1l3-2V8a6 6 0 0 1 4.03-5.67zM12 18a2 2 0 1 1-4 0h4z\"/>,\"notifications\":<path d=\"M4 8a6 6 0 0 1 4.03-5.67 2 2 0 1 1 3.95 0A6 6 0 0 1 16 8v6l3 2v1H1v-1l3-2V8zm8 10a2 2 0 1 1-4 0h4z\"/>,\"paste\":<path d=\"M10.5 20H2a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h1V3l2.03-.4a3 3 0 0 1 5.94 0L13 3v1h1a2 2 0 0 1 2 2v1h-2V6h-1v1H3V6H2v12h5v2h3.5zM8 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm2 4h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-8a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2zm0 2v8h8v-8h-8z\"/>,\"pause-outline\":<path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM7 6h2v8H7V6zm4 0h2v8h-2V6z\"/>,\"pause-solid\":<path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zM7 6v8h2V6H7zm4 0v8h2V6h-2z\"/>,\"pause\":<path d=\"M5 4h3v12H5V4zm7 0h3v12h-3V4z\"/>,\"pen-tool\":<path d=\"M11 9.27V0l6 11-4 6H7l-4-6L9 0v9.27a2 2 0 1 0 2 0zM6 18h8v2H6v-2z\"/>,\"phone\":<path d=\"M20 18.35V19a1 1 0 0 1-1 1h-2A17 17 0 0 1 0 3V1a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v4c0 .56-.31 1.31-.7 1.7L3.16 8.84c1.52 3.6 4.4 6.48 8 8l2.12-2.12c.4-.4 1.15-.71 1.7-.71H19a1 1 0 0 1 .99 1v3.35z\"/>,\"photo\":<path d=\"M0 4c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm11 9l-3-3-6 6h16l-5-5-2 2zm4-4a2 2 0 1 0 0-4 2 2 0 0 0 0 4z\"/>,\"php-elephant\":<path fillRule=\"evenodd\" d=\"M10 12v8A10 10 0 0 1 8.17.17L10 2h5a5 5 0 0 1 5 4.99v9.02A4 4 0 0 1 16 20v-2a2 2 0 1 0 0-4h-4l-2-2zm5.5-3a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z\"/>,\"pin\":<path d=\"M11 12h6v-1l-3-1V2l3-1V0H3v1l3 1v8l-3 1v1h6v7l1 1 1-1v-7z\"/>,\"play-outline\":<path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM7 6l8 4-8 4V6z\"/>,\"play\":<path d=\"M4 4l12 6-12 6z\"/>,\"playlist\":<path d=\"M16 17a3 3 0 0 1-3 3h-2a3 3 0 0 1 0-6h2a3 3 0 0 1 1 .17V1l6-1v4l-4 .67V17zM0 3h12v2H0V3zm0 4h12v2H0V7zm0 4h12v2H0v-2zm0 4h6v2H0v-2z\"/>,\"plugin\":<path d=\"M20 14v4a2 2 0 0 1-2 2h-4v-2a2 2 0 0 0-2-2 2 2 0 0 0-2 2v2H6a2 2 0 0 1-2-2v-4H2a2 2 0 0 1-2-2 2 2 0 0 1 2-2h2V6c0-1.1.9-2 2-2h4V2a2 2 0 0 1 2-2 2 2 0 0 1 2 2v2h4a2 2 0 0 1 2 2v4h-2a2 2 0 0 0-2 2 2 2 0 0 0 2 2h2z\"/>,\"plus-circle\":<path d=\"M12 9V12M12 12V15M12 12H15M12 12H9M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z\" stroke=\"#4A5568\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>,\"plus\":<path d=\"M12 6V12M12 12V18M12 12H18M12 12L6 12\" stroke=\"#374151\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>,\"portfolio\":<path d=\"M9 12H1v6a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-6h-8v2H9v-2zm0-1H0V5c0-1.1.9-2 2-2h4V2a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v1h4a2 2 0 0 1 2 2v6h-9V9H9v2zm3-8V2H8v1h4z\"/>,\"printer\":<path d=\"M4 16H0V6h20v10h-4v4H4v-4zm2-4v6h8v-6H6zM4 0h12v5H4V0zM2 8v2h2V8H2zm4 0v2h2V8H6z\"/>,\"pylon\":<path d=\"M17.4 18H20v2H0v-2h2.6L8 0h4l5.4 18zm-3.2-4H5.8l-1.2 4h10.8l-1.2-4zm-2.4-8H8.2L7 10h6l-1.2-4z\"/>,\"question\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm2-13c0 .28-.21.8-.42 1L10 9.58c-.57.58-1 1.6-1 2.42v1h2v-1c0-.29.21-.8.42-1L13 9.42c.57-.58 1-1.6 1-2.42a4 4 0 1 0-8 0h2a2 2 0 1 1 4 0zm-3 8v2h2v-2H9z\"/>,\"queue\":<path d=\"M0 2h20v4H0V2zm0 8h20v2H0v-2zm0 6h20v2H0v-2z\"/>,\"radar copy 2\":<path d=\"M12 10a2 2 0 0 1-3.41 1.41A2 2 0 0 1 10 8V0a9.97 9.97 0 0 1 10 10h-8zm7.9 1.41A10 10 0 1 1 8.59.1v2.03a8 8 0 1 0 9.29 9.29h2.02zm-4.07 0a6 6 0 1 1-7.25-7.25v2.1a3.99 3.99 0 0 0-1.4 6.57 4 4 0 0 0 6.56-1.42h2.1z\"/>,\"radar\":<path d=\"M12 10a2 2 0 0 1-3.41 1.41A2 2 0 0 1 10 8V0a9.97 9.97 0 0 1 10 10h-8zm7.9 1.41A10 10 0 1 1 8.59.1v2.03a8 8 0 1 0 9.29 9.29h2.02zm-4.07 0a6 6 0 1 1-7.25-7.25v2.1a3.99 3.99 0 0 0-1.4 6.57 4 4 0 0 0 6.56-1.42h2.1z\"/>,\"radio\":<path d=\"M20 9v9a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V8c0-1.1.9-2 2-2h13.8L.74 1.97 1.26.03 20 5.06V9zm-5 9a3 3 0 1 0 0-6 3 3 0 0 0 0 6zM2 8v2h16V8H2zm1.5 10a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm6.5-1a2 2 0 1 1 0-4 2 2 0 0 1 0 4z\"/>,\"rectangle\":<path d=\"M0 3c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3zm2 2v12h16V5H2z\"/>,\"redo\":<path d=\"M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3z\" />,\"refresh\":<path d=\"M10 3v2a5 5 0 0 0-3.54 8.54l-1.41 1.41A7 7 0 0 1 10 3zm4.95 2.05A7 7 0 0 1 10 17v-2a5 5 0 0 0 3.54-8.54l1.41-1.41zM10 20l-4-4 4-4v8zm0-12V0l4 4-4 4z\"/>,\"reload\":<path d=\"M14.66 15.66A8 8 0 1 1 17 10h-2a6 6 0 1 0-1.76 4.24l1.42 1.42zM12 10h8l-4 4-4-4z\"/>,\"reply-all\":<path d=\"M18 17v-2.99A4 4 0 0 0 14 10h-3v5L5 9l6-6v5h3a6 6 0 0 1 6 6v3h-2zM6 6V3L0 9l6 6v-3L3 9l3-3z\"/>,\"reply\":<path d=\"M15 17v-2.99A4 4 0 0 0 11 10H8v5L2 9l6-6v5h3a6 6 0 0 1 6 6v3h-2z\"/>,\"repost\":<path d=\"M5 4a2 2 0 0 0-2 2v6H0l4 4 4-4H5V6h7l2-2H5zm10 4h-3l4-4 4 4h-3v6a2 2 0 0 1-2 2H6l2-2h7V8z\"/>,\"save-disk\":<path d=\"M0 2C0 .9.9 0 2 0h14l4 4v14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm5 0v6h10V2H5zm6 1h3v4h-3V3z\"/>,\"screen-full\":<path d=\"M2.8 15.8L0 13v7h7l-2.8-2.8 4.34-4.32-1.42-1.42L2.8 15.8zM17.2 4.2L20 7V0h-7l2.8 2.8-4.34 4.32 1.42 1.42L17.2 4.2zm-1.4 13L13 20h7v-7l-2.8 2.8-4.32-4.34-1.42 1.42 4.33 4.33zM4.2 2.8L7 0H0v7l2.8-2.8 4.32 4.34 1.42-1.42L4.2 2.8z\"/>,\"search\":<path d=\"M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12z\"/>,\"send\":<path d=\"M0 0l20 10L0 20V0zm0 8v4l10-2L0 8z\"/>,\"servers\":<path d=\"M0 2C0 .9.9 0 2 0h16a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm0 7c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V9zm0 7c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2zM12 2v2h2V2h-2zm4 0v2h2V2h-2zm-4 7v2h2V9h-2zm4 0v2h2V9h-2zm-4 7v2h2v-2h-2zm4 0v2h2v-2h-2z\"/>,\"share-01\":<path d=\"M4 10c0-1.1.9-2 2-2h8c1.1 0 2 .9 2 2v8c0 1.1-.9 2-2 2H6c-1.1 0-2-.9-2-2v-8zm2 0v8h8v-8h-2V8H8v2H6zm3-6.17V16h2V3.83l3.07 3.07 1.42-1.41L10 0l-.7.7L4.5 5.5l1.42 1.4L9 3.84z\"/>,\"share-alt\":<path d=\"M5.08 12.16A2.99 2.99 0 0 1 0 10a3 3 0 0 1 5.08-2.16l8.94-4.47a3 3 0 1 1 .9 1.79L5.98 9.63a3.03 3.03 0 0 1 0 .74l8.94 4.47A2.99 2.99 0 0 1 20 17a3 3 0 1 1-5.98-.37l-8.94-4.47z\"/>,\"share\":<path d=\"M4 10c0-1.1.9-2 2-2h8c1.1 0 2 .9 2 2v8c0 1.1-.9 2-2 2H6c-1.1 0-2-.9-2-2v-8zm2 0v8h8v-8h-2V8H8v2H6zm3-6.17V16h2V3.83l3.07 3.07 1.42-1.41L10 0l-.7.7-4.8 4.8 1.42 1.4L9 3.84z\"/>,\"shield\":<path d=\"M19 11a7.5 7.5 0 0 1-3.5 5.94L10 20l-5.5-3.06A7.5 7.5 0 0 1 1 11V3c3.38 0 6.5-1.12 9-3 2.5 1.89 5.62 3 9 3v8zm-9 1.08l2.92 2.04-1.03-3.41 2.84-2.15-3.56-.08L10 5.12 8.83 8.48l-3.56.08L8.1 10.7l-1.03 3.4L10 12.09z\"/>,\"shopping-cart\":<path d=\"M4 2h16l-3 9H4a1 1 0 1 0 0 2h13v2H4a3 3 0 0 1 0-6h.33L3 5 2 2H0V0h3a1 1 0 0 1 1 1v1zm1 18a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm10 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4z\"/>,\"show-sidebar\":<path d=\"M7 3H2v14h5V3zm2 0v14h9V3H9zM0 3c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3zm3 1h3v2H3V4zm0 3h3v2H3V7zm0 3h3v2H3v-2z\"/>,\"shuffle\":<path d=\"M6.59 12.83L4.4 15c-.58.58-1.59 1-2.4 1H0v-2h2c.29 0 .8-.2 1-.41l2.17-2.18 1.42 1.42zM16 4V1l4 4-4 4V6h-2c-.29 0-.8.2-1 .41l-2.17 2.18L9.4 7.17 11.6 5c.58-.58 1.59-1 2.41-1h2zm0 10v-3l4 4-4 4v-3h-2c-.82 0-1.83-.42-2.41-1l-8.6-8.59C2.8 6.21 2.3 6 2 6H0V4h2c.82 0 1.83.42 2.41 1l8.6 8.59c.2.2.7.41.99.41h2z\"/>,\"stand-by\":<path fillRule=\"evenodd\" d=\"M4.16 4.16l1.42 1.42A6.99 6.99 0 0 0 10 18a7 7 0 0 0 4.42-12.42l1.42-1.42a9 9 0 1 1-11.69 0zM9 0h2v8H9V0z\"/>,\"star-full\":<path d=\"M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z\"/>,\"station\":<path d=\"M9 11.73a2 2 0 1 1 2 0V20H9v-8.27zm5.24 2.51l-1.41-1.41A3.99 3.99 0 0 0 10 6a4 4 0 0 0-2.83 6.83l-1.41 1.41a6 6 0 1 1 8.49 0zm2.83 2.83l-1.41-1.41a8 8 0 1 0-11.31 0l-1.42 1.41a10 10 0 1 1 14.14 0z\"/>,\"step-backward\":<path d=\"M4 5h3v10H4V5zm12 0v10l-9-5 9-5z\"/>,\"step-forward\":<path d=\"M13 5h3v10h-3V5zM4 5l9 5-9 5V5z\"/>,\"stethoscope\":<path d=\"M17 10.27V4.99a1 1 0 0 0-2 0V15a5 5 0 0 1-10 0v-1.08A6 6 0 0 1 0 8V2C0 .9.9 0 2 0h1a1 1 0 0 1 1 1 1 1 0 0 1-1 1H2v6a4 4 0 1 0 8 0V2H9a1 1 0 0 1-1-1 1 1 0 0 1 1-1h1a2 2 0 0 1 2 2v6a6 6 0 0 1-5 5.92V15a3 3 0 0 0 6 0V5a3 3 0 0 1 6 0v5.27a2 2 0 1 1-2 0z\"/>,\"store-front\":<path d=\"M18 9.87V20H2V9.87a4.25 4.25 0 0 0 3-.38V14h10V9.5a4.26 4.26 0 0 0 3 .37zM3 0h4l-.67 6.03A3.43 3.43 0 0 1 3 9C1.34 9 .42 7.73.95 6.15L3 0zm5 0h4l.7 6.3c.17 1.5-.91 2.7-2.42 2.7h-.56A2.38 2.38 0 0 1 7.3 6.3L8 0zm5 0h4l2.05 6.15C19.58 7.73 18.65 9 17 9a3.42 3.42 0 0 1-3.33-2.97L13 0z\"/>,\"stroke-width\":<path d=\"M0 0h20v5H0V0zm0 7h20v4H0V7zm0 6h20v3H0v-3zm0 5h20v2H0v-2z\"/>,\"subdirectory-left\":<path d=\"M18 12v1H8v5l-6-6 6-6v5h8V2h2z\"/>,\"subdirectory-right\":<path d=\"M3.5 13H12v5l6-6-6-6v5H4V2H2v11z\"/>,\"swap\":<path d=\"M9 6a4 4 0 1 1 8 0v8h3l-4 4-4-4h3V6a2 2 0 0 0-2-2 2 2 0 0 0-2 2v8a4 4 0 1 1-8 0V6H0l4-4 4 4H5v8a2 2 0 0 0 2 2 2 2 0 0 0 2-2V6z\"/>,\"tablet\":<path d=\"M2 2c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2zm2 0v14h12V2H4zm6 17a1 1 0 1 0 0-2 1 1 0 0 0 0 2z\"/>,\"tag\":<path d=\"M0 10V2l2-2h8l10 10-10 10L0 10zm4.5-4a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z\"/>,\"target\":<path d=\"M17.94 11H13V9h4.94A8 8 0 0 0 11 2.06V7H9V2.06A8 8 0 0 0 2.06 9H7v2H2.06A8 8 0 0 0 9 17.94V13h2v4.94A8 8 0 0 0 17.94 11zM10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20z\"/>,\"text-box\":<path d=\"M0 0h6v6H0V0zm2 2v2h2V2H2zm12-2h6v6h-6V0zm2 2v2h2V2h-2zm-2 12h6v6h-6v-6zm2 2v2h2v-2h-2zM0 14h6v6H0v-6zm2 2v2h2v-2H2zM6 2h8v2H6V2zm0 14h8v2H6v-2zM16 6h2v8h-2V6zM2 6h2v8H2V6zm5 1h6v2H7V7zm2 2h2v4H9V9z\"/>,\"text-decoration\":<path d=\"M12 5h-2v12H8V3h8v2h-2v12h-2V5zM8 3a4 4 0 1 0 0 8V3z\"/>,\"thermometer\":<path d=\"M9 11.17V7h2v4.17a3 3 0 1 1-2 0zm-1-.63a4 4 0 1 0 4 0V4a2 2 0 1 0-4 0v6.53zM6 9.53V4a4 4 0 0 1 8 0v5.53A5.99 5.99 0 0 1 10 20 6 6 0 0 1 6 9.53z\"/>,\"thumbs-down\":<path d=\"M11 20a2 2 0 0 1-2-2v-6H2a2 2 0 0 1-2-2V8l2.3-6.12A3.11 3.11 0 0 1 5 0h8a2 2 0 0 1 2 2v8l-3 7v3h-1zm6-10V0h3v10h-3z\"/>,\"thumbs-up\":<path d=\"M11 0h1v3l3 7v8a2 2 0 0 1-2 2H5c-1.1 0-2.31-.84-2.7-1.88L0 12v-2a2 2 0 0 1 2-2h7V2a2 2 0 0 1 2-2zm6 10h3v10h-3V10z\"/>,\"ticket\":<path d=\"M20 12v5H0v-5a2 2 0 1 0 0-4V3h20v5a2 2 0 1 0 0 4zM3 5v10h14V5H3zm7 7.08l-2.92 2.04L8.1 10.7 5.27 8.56l3.56-.08L10 5.12l1.17 3.36 3.56.08-2.84 2.15 1.03 3.4L10 12.09z\"/>,\"time\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm-1-7.59V4h2v5.59l3.95 3.95-1.41 1.41L9 10.41z\"/>,\"timer\":<path d=\"M16.32 7.1A8 8 0 1 1 9 4.06V2h2v2.06c1.46.18 2.8.76 3.9 1.62l1.46-1.46 1.42 1.42-1.46 1.45zM10 18a6 6 0 1 0 0-12 6 6 0 0 0 0 12zM7 0h6v2H7V0zm5.12 8.46l1.42 1.42L10 13.4 8.59 12l3.53-3.54z\"/>,\"tools copy\":<path d=\"M10 0s8 7.58 8 12a8 8 0 1 1-16 0c0-1.5.91-3.35 2.12-5.15A3 3 0 0 0 10 6V0zM8 0a3 3 0 1 0 0 6V0z\"/>,\"translate\":<path d=\"M7.41 9l2.24 2.24-.83 2L6 10.4l-3.3 3.3-1.4-1.42L4.58 9l-.88-.88c-.53-.53-1-1.3-1.3-2.12h2.2c.15.28.33.53.51.7l.89.9.88-.88C7.48 6.1 8 4.84 8 4H0V2h5V0h2v2h5v2h-2c0 1.37-.74 3.15-1.7 4.12L7.4 9zm3.84 8L10 20H8l5-12h2l5 12h-2l-1.25-3h-5.5zm.83-2h3.84L14 10.4 12.08 15z\"/>,\"trash\":<path d=\"M6 2l2-2h4l2 2h4v2H2V2h4zM3 6h14l-1 14H4L3 6zm5 2v10h1V8H8zm3 0v10h1V8h-1z\"/>,\"travel-bus\":<path d=\"M13 18H7v1a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1a2 2 0 0 1-2-2V2c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2v1a1 1 0 0 1-1 1h-1a1 1 0 0 1-1-1v-1zM4 5v6h5V5H4zm7 0v6h5V5h-5zM5 2v1h10V2H5zm.5 14a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm9 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z\"/>,\"travel-car\":<path d=\"M2 14v-3H1a1 1 0 0 1-1-1 1 1 0 0 1 1-1h1l4-7h8l4 7h1a1 1 0 0 1 1 1 1 1 0 0 1-1 1h-1v6a1 1 0 0 1-1 1h-1a1 1 0 0 1-1-1v-1H5v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1v-3zm13.86-5L13 4H7L4.14 9h11.72zM5.5 14a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm9 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z\"/>,\"travel-case\":<path d=\"M14 5h2v14H4V5h2V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v1zm3 0h1a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1V5zM3 5v14H2a2 2 0 0 1-2-2V7c0-1.1.9-2 2-2h1zm5-1v1h4V4H8z\"/>,\"travel-taxi-cab\":<path d=\"M12 3h2l4 7h1a1 1 0 0 1 1 1 1 1 0 0 1-1 1h-1v6a1 1 0 0 1-1 1h-1a1 1 0 0 1-1-1v-1H5v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1v-6H1a1 1 0 0 1-1-1 1 1 0 0 1 1-1h1l4-7h2V1h4v2zm3.86 7L13 5H7l-2.86 5h11.72zM5.5 15a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm9 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z\"/>,\"travel-train\":<path d=\"M12 18H8l-2 2H3l2-2a2 2 0 0 1-2-2V2c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2l2 2h-3l-2-2zM5 5v6h10V5H5zm1.5 11a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm7 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM8 2v1h4V2H8z\"/>,\"travel-walk\":<path d=\"M11 7l1.44 2.16c.31.47 1.01.84 1.57.84H17V8h-3l-1.44-2.16a5.94 5.94 0 0 0-1.4-1.4l-1.32-.88a1.72 1.72 0 0 0-1.7-.04L4 6v5h2V7l2-1-3 14h2l2.35-7.65L11 14v6h2v-8l-2.7-2.7L11 7zm1-3a2 2 0 1 0 0-4 2 2 0 0 0 0 4z\"/>,\"travel\":<path d=\"M14 5h2v14H4V5h2V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v1zm3 0h1a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1V5zM3 5v14H2a2 2 0 0 1-2-2V7c0-1.1.9-2 2-2h1zm5-1v1h4V4H8z\"/>,\"trophy\":<path d=\"M15 9a3 3 0 0 0 3-3h2a5 5 0 0 1-5.1 5 5 5 0 0 1-3.9 3.9V17l5 2v1H4v-1l5-2v-2.1A5 5 0 0 1 5.1 11H5a5 5 0 0 1-5-5h2a3 3 0 0 0 3 3V4H2v2H0V2h5V0h10v2h5v4h-2V4h-3v5z\"/>,\"tuning\":<path d=\"M17 16v4h-2v-4h-2v-3h6v3h-2zM1 9h6v3H1V9zm6-4h6v3H7V5zM3 0h2v8H3V0zm12 0h2v12h-2V0zM9 0h2v4H9V0zM3 12h2v8H3v-8zm6-4h2v12H9V8z\"/>,\"undo\":<path d=\"M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8z\"/>,\"upload\":<path d=\"M13 10v6H7v-6H2l8-8 8 8h-5zM0 18h20v2H0v-2z\"/>,\"usb\":<path d=\"M15 8v2h-4V4h2l-3-4-3 4h2v8H5V9.73a2 2 0 1 0-2 0V12a2 2 0 0 0 2 2h4v2.27a2 2 0 1 0 2 0V12h4a2 2 0 0 0 2-2V8h1V4h-4v4h1z\"/>,\"user-add\":<path d=\"M2 6H0v2h2v2h2V8h2V6H4V4H2v2zm7 0a3 3 0 0 1 6 0v2a3 3 0 0 1-6 0V6zm11 9.14A15.93 15.93 0 0 0 12 13c-2.91 0-5.65.78-8 2.14V18h16v-2.86z\"/>,\"user-group\":<path d=\"M7 8a4 4 0 1 1 0-8 4 4 0 0 1 0 8zm0 1c2.15 0 4.2.4 6.1 1.09L12 16h-1.25L10 20H4l-.75-4H2L.9 10.09A17.93 17.93 0 0 1 7 9zm8.31.17c1.32.18 2.59.48 3.8.92L18 16h-1.25L16 20h-3.96l.37-2h1.25l1.65-8.83zM13 0a4 4 0 1 1-1.33 7.76 5.96 5.96 0 0 0 0-7.52C12.1.1 12.53 0 13 0z\"/>,\"user-solid-circle\":<path d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zM7 6v2a3 3 0 1 0 6 0V6a3 3 0 1 0-6 0zm-3.65 8.44a8 8 0 0 0 13.3 0 15.94 15.94 0 0 0-13.3 0z\"/>,\"user-solid-square\":<path d=\"M0 2C0 .9.9 0 2 0h16a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm7 4v2a3 3 0 1 0 6 0V6a3 3 0 1 0-6 0zm11 9.14A15.93 15.93 0 0 0 10 13c-2.91 0-5.65.78-8 2.14V18h16v-2.86z\"/>,\"user\":<path d=\"M5 5a5 5 0 0 1 10 0v2A5 5 0 0 1 5 7V5zM0 16.68A19.9 19.9 0 0 1 10 14c3.64 0 7.06.97 10 2.68V20H0v-3.32z\"/>,\"vector\":<path d=\"M12 4h4.27a2 2 0 1 1 0 2h-2.14a9 9 0 0 1 4.84 7.25 2 2 0 1 1-2 .04 7 7 0 0 0-4.97-6V8H8v-.71a7 7 0 0 0-4.96 6 2 2 0 1 1-2-.04A9 9 0 0 1 5.86 6H3.73a2 2 0 1 1 0-2H8V3h4v1z\"/>,\"video-camera\":<path d=\"M16 7l4-4v14l-4-4v3a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v3zm-8 7a4 4 0 1 0 0-8 4 4 0 0 0 0 8zm0-2a2 2 0 1 1 0-4 2 2 0 0 1 0 4z\"/>,\"view-carousel\":<path d=\"M16 16v2H4v-2H0V4h4V2h12v2h4v12h-4zM14 5.5V4H6v12h8V5.5zm2 .5v8h2V6h-2zM4 6H2v8h2V6z\"/>,\"view-column\":<path d=\"M12 4H8v12h4V4zm2 0v12h4V4h-4zM6 4H2v12h4V4zM0 2h20v16H0V2z\"/>,\"view-hide\":<path d=\"M12.81 4.36l-1.77 1.78a4 4 0 0 0-4.9 4.9l-2.76 2.75C2.06 12.79.96 11.49.2 10a11 11 0 0 1 12.6-5.64zm3.8 1.85c1.33 1 2.43 2.3 3.2 3.79a11 11 0 0 1-12.62 5.64l1.77-1.78a4 4 0 0 0 4.9-4.9l2.76-2.75zm-.25-3.99l1.42 1.42L3.64 17.78l-1.42-1.42L16.36 2.22z\"/>,\"view-list\":<path d=\"M0 3h20v2H0V3zm0 4h20v2H0V7zm0 4h20v2H0v-2zm0 4h20v2H0v-2z\"/>,\"view-show\":<path d=\"M.2 10a11 11 0 0 1 19.6 0A11 11 0 0 1 .2 10zm9.8 4a4 4 0 1 0 0-8 4 4 0 0 0 0 8zm0-2a2 2 0 1 1 0-4 2 2 0 0 1 0 4z\"/>,\"view-tile\":<path d=\"M0 0h9v9H0V0zm2 2v5h5V2H2zm-2 9h9v9H0v-9zm2 2v5h5v-5H2zm9-13h9v9h-9V0zm2 2v5h5V2h-5zm-2 9h9v9h-9v-9zm2 2v5h5v-5h-5z\"/>,\"volume-down\":<path d=\"M7 7H3v6h4l5 5V2L7 7zm8.54 6.54l-1.42-1.42a3 3 0 0 0 0-4.24l1.42-1.42a4.98 4.98 0 0 1 0 7.08z\"/>,\"volume-mute\":<path d=\"M9 7H5v6h4l5 5V2L9 7z\"/>,\"volume-off\":<path d=\"M15 8.59l-2.12-2.13-1.42 1.42L13.6 10l-2.13 2.12 1.42 1.42L15 11.4l2.12 2.13 1.42-1.42L16.4 10l2.13-2.12-1.42-1.42L15 8.6zM4 7H0v6h4l5 5V2L4 7z\"/>,\"volume-up\":<path d=\"M5 7H1v6h4l5 5V2L5 7zm11.36 9.36l-1.41-1.41a6.98 6.98 0 0 0 0-9.9l1.41-1.41a8.97 8.97 0 0 1 0 12.72zm-2.82-2.82l-1.42-1.42a3 3 0 0 0 0-4.24l1.42-1.42a4.98 4.98 0 0 1 0 7.08z\"/>,\"wallet\":<path d=\"M0 4c0-1.1.9-2 2-2h15a1 1 0 0 1 1 1v1H2v1h17a1 1 0 0 1 1 1v10a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm16.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z\"/>,\"watch\":<path d=\"M11 9h2v2H9V7h2v2zm-5.82 6.08a6.98 6.98 0 0 1 0-10.16L6 0h8l.82 4.92a6.98 6.98 0 0 1 0 10.16L14 20H6l-.82-4.92zM10 15a5 5 0 1 0 0-10 5 5 0 0 0 0 10z\"/>,\"window-new\":<path d=\"M9 10V8h2v2h2v2h-2v2H9v-2H7v-2h2zM0 3c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3zm2 2v12h16V5H2z\"/>,\"window-open\":<path d=\"M0 3c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3zm2 2v12h16V5H2zm8 3l4 5H6l4-5z\"/>,\"window\":<path d=\"M0 3c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3zm2 2v12h16V5H2z\"/>,\"wrench\":<path d=\"M6.47 9.8A5 5 0 0 1 .2 3.22l3.95 3.95 2.82-2.83L3.03.41a5 5 0 0 1 6.4 6.68l10 10-2.83 2.83L6.47 9.8z\"/>,\"yin-yang\":<path fillRule=\"evenodd\" d=\"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-18a8 8 0 1 0 0 16 4 4 0 1 1 0-8 4 4 0 1 0 0-8zm0 13a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0-8a1 1 0 1 1 0-2 1 1 0 0 1 0 2z\"/>,\"zoom-in\":<path fillRule=\"evenodd\" d=\"M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12zM7 7V5h2v2h2v2H9v2H7V9H5V7h2z\"/>,\"zoom-out\":<path fillRule=\"evenodd\" d=\"M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12zM5 7h6v2H5V7z\"/>}","/* eslint-disable */\n    export default {\"move\":\"0 0 96 96\",\"plus-circle\":\"0 0 24 24\",\"plus\":\"0 0 24 24\",\"redo\":\"0 0 24 24\",\"search\":\"0 0 512 512\",\"undo\":\"0 0 24 24\"}","import React from \"react\";\r\nimport { Wrapper } from \"nystem-components\";\r\n// eslint-disable-next-line import/extensions\r\nimport icons from \"../../../icons\";\r\n// eslint-disable-next-line import/extensions\r\nimport iconsViewPorts from \"../../../iconsViewPorts\";\r\n\r\nconst rotate = (deg) =>\r\n  (deg && { style: { transform: `rotate(${deg}deg)` } }) || undefined;\r\n\r\nconst Icon = ({ icon, className, renderAs, deg, ...props }) => {\r\n  return (\r\n    <Wrapper renderAs={renderAs} className={renderAs && className}>\r\n      <svg\r\n        className={`${\r\n          className instanceof Array\r\n            ? className\r\n                .flat(Infinity)\r\n                .filter((item) => item)\r\n                .join(\" \")\r\n            : className\r\n        } fill-current`}\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        viewBox={iconsViewPorts[icon] || \"0 0 20 20\"}\r\n        {...rotate(deg)}\r\n        {...props}\r\n      >\r\n        <title>{props.title || icon}</title>\r\n        {icons[icon]}\r\n      </svg>\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default Icon;\r\n\r\n// https://www.zondicons.com/icons.html\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst getClasses = ({ classNameByValue, field, view }) => {\r\n  const testValue = view.getValue(field);\r\n  return classNameByValue.map(([key, value]) => key === testValue && value);\r\n};\r\n\r\nconst StyleClassNameByValue = ({ model, path, view }) => {\r\n  const { renderAs, item, mapper, className } = model;\r\n  const add = mapper.map((value) => getClasses({ ...value, view }));\r\n\r\n  return (\r\n    <Wrapper className={[add, className]} renderAs={renderAs}>\r\n      <ContentTypeRender path={path} items={item} />\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default StyleClassNameByValue;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst StyleEventOutside = ({ model, path, view, value, children }) => {\r\n  const { className, classNameInner, item, event } = model;\r\n  let innerClicked = false;\r\n  return (\r\n    <Wrapper\r\n      className={className}\r\n      onClick={() => {\r\n        if (!innerClicked) view.event(event, value);\r\n        innerClicked = false;\r\n      }}\r\n    >\r\n      <Wrapper\r\n        className={classNameInner}\r\n        onClick={() => {\r\n          innerClicked = true;\r\n        }}\r\n      >\r\n        {children || <ContentTypeRender path={path} items={item} />}\r\n      </Wrapper>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default StyleEventOutside;\r\n","/* eslint-disable jsx-a11y/mouse-events-have-key-events */\r\nimport React, { useState } from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nexport const HideOnNotOverContext = React.createContext();\r\n\r\nconst StyleOnOverHandle = ({ model, path }) => {\r\n  const [over, setOver] = useState(false);\r\n  const { item, className } = model;\r\n\r\n  return (\r\n    <Wrapper\r\n      onMouseOver={() => setOver(true)}\r\n      onMouseOut={() => setOver(false)}\r\n      className={className}\r\n    >\r\n      <HideOnNotOverContext.Provider value={over}>\r\n        {<ContentTypeRender path={path} items={item} />}\r\n      </HideOnNotOverContext.Provider>\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default StyleOnOverHandle;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nimport { HideOnNotOverContext } from \"./onOverHandle\";\r\n\r\nconst useDelayed = (delay) => {\r\n  const over = useContext(HideOnNotOverContext);\r\n  const [delayedOver, setDelayedOver] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (!delay || over) return;\r\n    setDelayedOver(true);\r\n\r\n    const timer = setTimeout(() => {\r\n      setDelayedOver(false);\r\n    }, delay);\r\n\r\n    return () => {\r\n      clearTimeout(timer);\r\n    };\r\n  }, [delay, over, setDelayedOver]);\r\n\r\n  return delay && !over ? delayedOver : over;\r\n};\r\n\r\nconst StyleOnOver = ({ model, path, children }) => {\r\n  const { className, item, classNameOut, classNameOver } = model;\r\n  const over = useDelayed(model.delay);\r\n\r\n  return (\r\n    <Wrapper className={[className, over ? classNameOver : classNameOut]}>\r\n      {children || <ContentTypeRender path={path} items={item} />}\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default StyleOnOver;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nimport { HideOnNotOverContext } from \"./onOverHandle\";\r\n\r\nconst useDelayed = (delay) => {\r\n  const over = useContext(HideOnNotOverContext);\r\n  const [delayedOver, setDelayedOver] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (!delay || over) return;\r\n    setDelayedOver(true);\r\n\r\n    const timer = setTimeout(() => {\r\n      setDelayedOver(false);\r\n    }, delay);\r\n\r\n    return () => {\r\n      clearTimeout(timer);\r\n    };\r\n  }, [delay, over, setDelayedOver]);\r\n\r\n  return delay && !over ? delayedOver : over;\r\n};\r\n\r\nconst StyleOnOverRemove = ({ model, path, children }) => {\r\n  const { className, item, invert } = model;\r\n  let over = useDelayed(model.delay);\r\n\r\n  if (invert) over = !over;\r\n  if (over)\r\n    return (\r\n      <Wrapper className={className}>\r\n        {children || <ContentTypeRender path={path} items={item} />}\r\n      </Wrapper>\r\n    );\r\n\r\n  return null;\r\n};\r\nexport default StyleOnOverRemove;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst StyleView = ({ model, path }) => {\r\n  const { className, renderAs, item } = model;\r\n\r\n  return (\r\n    <Wrapper className={className} renderAs={renderAs}>\r\n      <ContentTypeRender path={path} items={item} />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default StyleView;\r\n","import * as React from \"react\";\r\nimport app from \"nystem\";\r\n\r\nclass ExtensionBackgroundIndex extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const self = this;\r\n    this.tabs = {};\r\n    this.tabLoadCallback = {};\r\n    this.tabLoading = {};\r\n    app().doingEvent = {};\r\n    app().pathErrorClick = {};\r\n    window.chrome.runtime.onMessage.addListener(\r\n      (request, sender, sendResponse) => {\r\n        const tabOptions = self.tabs[sender.tab.id];\r\n        if (!tabOptions) {\r\n          console.log(\"Missing \", sender.tab);\r\n          return;\r\n        }\r\n        if (request.doEvent) {\r\n          console.log(\"doEvent\", request, app().doingEvent[sender.tab.id]);\r\n          app().doingEvent[sender.tab.id] = false;\r\n          console.log(\"request.result\");\r\n          if (request.result.error === \"Path\") {\r\n            app().pathErrorClick[sender.tab.id] = request;\r\n            console.log(\"app().pathErrorClick\", app().pathErrorClick);\r\n          } else delete app().pathErrorClick[sender.tab.id];\r\n          app().connection.emit(request);\r\n        } else if (app().pathErrorClick[sender.tab.id]) {\r\n          const response = app().pathErrorClick[sender.tab.id];\r\n          delete app().pathErrorClick[sender.tab.id];\r\n          response.newPath = request.path;\r\n          console.log(\"response.newPath\", response);\r\n          app().connection.emit(response);\r\n        } else if (tabOptions.recording) {\r\n          request.tabId = `${sender.tab.id}`;\r\n          request.url = sender.tab.url;\r\n          if (\r\n            !tabOptions.listenTo ||\r\n            tabOptions.listenTo.length === 0 ||\r\n            tabOptions.listenTo.indexOf(request.event) !== -1\r\n          )\r\n            app().database.eventLog.save({\r\n              data: request,\r\n            });\r\n        }\r\n      }\r\n    );\r\n    // https://developer.window.chrome.com/extensions/tabs\r\n    // https://developer.window.chrome.com/extensions/api_index\r\n    // https://developer.window.chrome.com/extensions/messaging\r\n    app().connection.on(\"connect\", this.connect);\r\n    app().database.tab.on(\"update\", this.updateTabSettings);\r\n\r\n    this.saveTab = function (tab, forceUpdate) {\r\n      const tabField = [\"url\", \"title\"];\r\n      let changed = false;\r\n      const id = tab.id ? tab.id : tab._id;\r\n      if (!self.tabs[tab.id]) {\r\n        changed = true;\r\n        self.tabs[tab.id] = {};\r\n      }\r\n      const newUrl = tab.url !== self.tabs[id].url;\r\n      for (let i = 0; i < tabField.length; i++)\r\n        if (self.tabs[id][tabField[i]] !== tab[tabField[i]]) {\r\n          changed = true;\r\n          self.tabs[id][tabField[i]] = tab[tabField[i]];\r\n        }\r\n      self.tabs[id]._id = `${id}`;\r\n      if (changed || forceUpdate) {\r\n        const tabOptions = self.tabs[id];\r\n        if (\r\n          newUrl &&\r\n          tabOptions.recording &&\r\n          (!tabOptions.listenTo ||\r\n            tabOptions.listenTo.length === 0 ||\r\n            tabOptions.listenTo.indexOf(\"url\") !== -1)\r\n        )\r\n          app().database.eventLog.save({\r\n            data: {\r\n              name: `URL change ${tabOptions.url}`,\r\n              event: \"url\",\r\n              url: tabOptions.url,\r\n              title: tabOptions.title,\r\n              tabId: tabOptions._id,\r\n            },\r\n          });\r\n        app().database.tab.save({\r\n          data: tabOptions,\r\n        });\r\n      }\r\n    };\r\n    app().connection.on(\"extensionEvent\", this.extensionEvent);\r\n    window.chrome.webNavigation.onCompleted.addListener((info) => {\r\n      if (info.frameId !== 0) return;\r\n      const tabLoading = self.tabLoading[info.tabId];\r\n      delete self.tabLoading[info.tabId];\r\n      if (tabLoading && tabLoading.callback) tabLoading.callback();\r\n      if (self.tabLoadCallback[info.tabId]) self.tabLoadCallback[info.tabId]();\r\n    });\r\n    window.chrome.webNavigation.onBeforeNavigate.addListener((info) => {\r\n      if (info.frameId !== 0) return;\r\n      if (!self.tabLoading[info.tabId])\r\n        self.tabLoading[info.tabId] = {\r\n          loading: true,\r\n          callback: false,\r\n        };\r\n    });\r\n    window.chrome.tabs.onCreated.addListener(self.saveTab);\r\n    window.chrome.tabs.onUpdated.addListener((tabId, changeInfo, tab) => {\r\n      self.saveTab(tab);\r\n    });\r\n    window.chrome.tabs.onRemoved.addListener((id) => {\r\n      delete self.tabs[id];\r\n      app().database.tab.delete({ id });\r\n    });\r\n    window.chrome.contextMenus.create({\r\n      title: \"Validate in Testguide eventlog\",\r\n      onclick: this.addToEventLog,\r\n      contexts: [\r\n        \"page\",\r\n        \"selection\",\r\n        \"link\",\r\n        \"editable\",\r\n        \"image\",\r\n        \"video\",\r\n        \"audio\",\r\n      ],\r\n    });\r\n    this.updateTimer = setTimeout(this.updateTabs, 1000 * 10);\r\n    this.state = {};\r\n  }\r\n  updateTabs = () => {\r\n    app()\r\n      .database.tab.search()\r\n      .then(({ data }) =>\r\n        data\r\n          .filter((tab) => !tab.siteScript && !this.tabs[tab._id])\r\n          .forEach((tab) => app().database.tab.delete({ id: tab._id }))\r\n      );\r\n    this.updateTimer = setTimeout(this.updateTabs, 1000 * 60);\r\n  };\r\n  addToEventLog = (info, tab) => {\r\n    // console.log(info, tab);\r\n  };\r\n  updateTabSettings = (items) => {\r\n    if (!items) return;\r\n    const self = this;\r\n    const id = `${Object.keys(items)[0]}`;\r\n    const data = app()\r\n      .database.tab.get({ id })\r\n      .then(({ data }) => {\r\n        if (!data || data.siteScript) {\r\n          console.log(id);\r\n          return;\r\n        }\r\n        if (!self.tabs[data._id].recording && data.recording)\r\n          app().database.eventLog.save({\r\n            data: {\r\n              name: `Recording start ${data.url}`,\r\n              event: \"url\",\r\n              url: data.url,\r\n              title: data.title,\r\n              tabId: data._id,\r\n            },\r\n          });\r\n        self.tabs[data._id] = data;\r\n      });\r\n    if (data) this.tabs[data._id] = data;\r\n  };\r\n  extensionEvent = (data) => {\r\n    const self = this;\r\n    const tabId = parseInt(data.tabId, 10);\r\n    if (data.doEvent.event === \"url\") {\r\n      if (this.tabs[data.tabId].url !== data.doEvent.url)\r\n        window.chrome.tabs.update(tabId, { url: data.doEvent.url }, () => {\r\n          self.tabLoadCallback[tabId] = function () {\r\n            data.result = {\r\n              status: \"success\",\r\n              redirected: true,\r\n            };\r\n            app().connection.emit(data);\r\n          };\r\n        });\r\n      else {\r\n        data.result = {\r\n          status: \"success\",\r\n          redirected: false,\r\n        };\r\n        app().connection.emit(data);\r\n      }\r\n    } else if (data.doEvent)\r\n      if (this.tabLoading[tabId]) {\r\n        console.log(\"delay tab\");\r\n        this.tabLoading[tabId].callback = function () {\r\n          console.log(\"delay tab done\");\r\n          app().doingEvent[tabId] = data;\r\n          window.chrome.tabs.sendMessage(tabId, data);\r\n        };\r\n      } else {\r\n        app().doingEvent[tabId] = data;\r\n        window.chrome.tabs.sendMessage(tabId, data);\r\n      }\r\n  };\r\n  connect = (data) => {\r\n    const self = this;\r\n    app().connection.emit({\r\n      type: \"extensionEvent\",\r\n      event: \"connectExtension\",\r\n    });\r\n    window.chrome.tabs.query({}, (data) => {\r\n      for (const item in data) self.saveTab(data[item], true);\r\n    });\r\n  };\r\n  componentWillUnmount() {\r\n    app().connection.off(\"connect\", this.connect);\r\n    app().connection.off(\"extensionEvent\", this.extensionEvent);\r\n    clearTimeout(this.updateTimer);\r\n  }\r\n  render() {\r\n    return null;\r\n  }\r\n}\r\nexport default ExtensionBackgroundIndex;\r\n","const extensionIcon = props => {\r\n  const { browserAction } = window.chrome;\r\n  const { color, text, icon, canvas } = props.model || props;\r\n  if (icon) browserAction.setIcon({ path: icon });\r\n  if (color) browserAction.setBadgeBackgroundColor({ color }); // [190, 190, 190, 230]\r\n  if (text) browserAction.setBadgeText({ text });\r\n  if (canvas) {\r\n    const canvasContext = canvas.getContext(\"2d\");\r\n    browserAction.setIcon({\r\n      imageData: canvasContext.getImageData(0, 0, canvas.width, canvas.height)\r\n    });\r\n  }\r\n  return null;\r\n};\r\nexport default extensionIcon;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { ContentTypeRender } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst currentUrl = () =>\r\n  new Promise((resolve) =>\r\n    window.chrome.tabs.query({ currentWindow: true, active: true }, (tabs) => {\r\n      resolve(tabs[0].url);\r\n    })\r\n  );\r\n\r\nconst ExtensionSearch = ({ model, view, path, setValue }) => {\r\n  const [missing, setMissing] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const { extract, field } = model;\r\n\r\n    currentUrl().then(async (url) => {\r\n      const [, , val] = new RegExp(extract).exec(url) || [];\r\n      if (!val) return;\r\n\r\n      const { data } = await app().database[view.contentType].search({\r\n        filter: { [field]: val },\r\n        count: 1,\r\n      });\r\n\r\n      if (!data) {\r\n        setMissing(true);\r\n        return;\r\n      }\r\n\r\n      setValue(data[0]);\r\n      view.id = data[0]._id;\r\n    });\r\n  }, [model, setValue, view]);\r\n\r\n  return missing ? <ContentTypeRender path={path} items={model.item} /> : null;\r\n};\r\n\r\nexport default ExtensionSearch;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { ContentTypeRender } from \"nystem-components\";\r\n\r\nconst currentUrl = () =>\r\n  new Promise((resolve) =>\r\n    window.chrome.tabs.query({ currentWindow: true, active: true }, (tabs) => {\r\n      resolve(tabs[0].url);\r\n    })\r\n  );\r\n\r\nconst ExtensionTab = (props) => {\r\n  const { match, invert, children, item } = props.model || props;\r\n  const [isMatch, setIsMatch] = useState();\r\n\r\n  useEffect(() => {\r\n    currentUrl().then((url) => setIsMatch(url.includes(match)));\r\n  }, [match]);\r\n\r\n  if (isMatch === undefined || (isMatch && invert) || (!isMatch && !invert))\r\n    return null;\r\n\r\n  return children || <ContentTypeRender path={props.path} items={item} />;\r\n};\r\nexport default ExtensionTab;\r\n","import React from \"react\";\r\nimport { ContentTypeRender } from \"nystem-components\";\r\n\r\nconst ExtensionView = ({ invert, model = {}, path, children }) => {\r\n  const inExtension = window.location.protocol === \"chrome-extension:\";\r\n  invert = invert || model.invert;\r\n\r\n  if ((inExtension && invert) || (!inExtension && !invert)) return null;\r\n\r\n  return children || <ContentTypeRender path={path} items={model.item} />;\r\n};\r\nexport default ExtensionView;\r\n","import React, { useRef, useEffect } from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nconst ConnectionElectron = ({ model = {} }) => {\r\n  const atId = useRef(false);\r\n\r\n  useEffect(() => {\r\n    const message = (data) => {\r\n      if (!atId.current || data.atId !== atId.current) return;\r\n      console.log(data.filePaths);\r\n    };\r\n    app().on(\"electronData\", message);\r\n\r\n    return () => {\r\n      app().off(\"electronData\", message);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <Wrapper\r\n      onClick={() => {\r\n        atId.current = app().uuid();\r\n\r\n        app().event(\"electronEvent\", { event: \"dialog\", atId: atId.current });\r\n      }}\r\n    >\r\n      hepp\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default ConnectionElectron;\r\n","import React, { useState } from \"react\";\r\nimport app from \"nystem\";\r\nimport { Button, Wrapper, Icon } from \"nystem-components\";\r\n\r\nconst ElectronAppButton = ({ model, ...rest }) => {\r\n  const { className, btnType, button, buttonActive, size } = model || rest;\r\n  const [active, setActive] = useState(false);\r\n\r\n  if (!btnType)\r\n    return (\r\n      <Icon\r\n        className={className}\r\n        icon={active ? buttonActive || button : button}\r\n        alt={button}\r\n        onClick={() => {\r\n          app().event(\"electronEvent\", { event: \"appButton\", button, active });\r\n          setActive(!active);\r\n        }}\r\n      />\r\n    );\r\n\r\n  return (\r\n    <Wrapper className={className}>\r\n      <Button\r\n        type={btnType}\r\n        onClick={() => {\r\n          app().event(\"electronEvent\", { event: \"appButton\", button });\r\n          setActive(!active);\r\n        }}\r\n        size={size}\r\n      >\r\n        <Icon\r\n          className=\"w-4 h-4\"\r\n          icon={active ? buttonActive || button : button}\r\n          alt={button}\r\n        />\r\n      </Button>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default ElectronAppButton;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst ElectronMoveWindow = ({ model, path, children, ...rest }) => {\r\n  const [pos, setPos] = useState(false);\r\n  const { className, renderAs, item } = model || rest;\r\n\r\n  useEffect(() => {\r\n    if (!pos) return;\r\n    const { screenX, screenY } = window;\r\n\r\n    const mouseMove = async ({ screenX: x, screenY: y }) => {\r\n      app().event(\"electronEvent\", {\r\n        event: \"setWindowPos\",\r\n        x: x - pos.x + screenX,\r\n        y: y - pos.y + screenY,\r\n      });\r\n    };\r\n\r\n    document.addEventListener(\"mousemove\", mouseMove);\r\n\r\n    const mouseUp = () => {\r\n      setPos(false);\r\n    };\r\n    document.addEventListener(\"mouseup\", mouseUp);\r\n\r\n    return () => {\r\n      document.removeEventListener(\"mousemove\", mouseMove);\r\n      document.removeEventListener(\"mouseup\", mouseUp);\r\n    };\r\n  }, [pos]);\r\n\r\n  return (\r\n    <Wrapper\r\n      onMouseDown={({ screenX: x, screenY: y }) => {\r\n        setPos({ x, y });\r\n      }}\r\n      className={className}\r\n      renderAs={renderAs}\r\n    >\r\n      {children || <ContentTypeRender path={path} items={item} />}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default ElectronMoveWindow;\r\n","import { useEffect } from \"react\";\r\nimport app from \"nystem\";\r\n\r\nconst ElectronPassOnToNode = ({ model, view }) => {\r\n  const emitterByType = {\r\n    connection: {\r\n      event: (type, data) => app().connection.emit({ type, ...data }),\r\n      on: app().connection.on,\r\n      off: app().connection.off,\r\n    },\r\n    view: view,\r\n    baseView: view.baseView,\r\n    baseViewBaseView: view.baseView?.baseView,\r\n    baseViewBaseViewBaseView: view.baseView?.baseView?.baseView,\r\n    app: app(),\r\n  };\r\n  const emitter = emitterByType[model.eventType || \"connection\"];\r\n\r\n  useEffect(() => {\r\n    if (!emitter.on) return;\r\n    const sendEvent = (data) => app().event(\"electronEvent\", data);\r\n\r\n    emitter.on(model.event, sendEvent);\r\n    return () => {\r\n      emitter.off(model.event, sendEvent);\r\n    };\r\n  }, [emitter, model]);\r\n\r\n  return null;\r\n};\r\nexport default ElectronPassOnToNode;\r\n","import React, { useRef } from \"react\";\r\nimport { Button, Wrapper, Icon } from \"nystem-components\";\r\nimport { useLocation, useHistory } from \"react-router-dom\";\r\nimport app from \"nystem\";\r\n\r\nconst ElectronUrlCopyPaste = ({ model, ...rest }) => {\r\n  const { className, btnType, paste, text, size, title } = model || rest;\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const ref = useRef();\r\n\r\n  const doCopy = () => {\r\n    const { current } = ref;\r\n    current.value = `http${app().settings.secure ? \"s\" : \"\"}://${\r\n      app().settings.domain\r\n    }${location.pathname}`;\r\n\r\n    current.style.display = \"block\";\r\n    current.select();\r\n    try {\r\n      console.log(\"copy text\");\r\n      document.execCommand(\"copy\");\r\n      current.blur();\r\n      current.style.display = \"none\";\r\n    } catch (err) {\r\n      console.log(\"please press Ctrl/Cmd+C to copy\");\r\n    }\r\n  };\r\n  const doPaste = async () => {\r\n    const { pathname } = new URL(await navigator.clipboard.readText());\r\n    history.push(pathname);\r\n  };\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Button\r\n        className={className}\r\n        type={btnType}\r\n        onClick={() => (paste ? doPaste() : doCopy())}\r\n        size={size}\r\n      >\r\n        <Icon\r\n          className=\"w-4 h-4\"\r\n          icon={paste ? \"paste\" : \"edit-copy\"}\r\n          title={title}\r\n        />\r\n        <Wrapper className={text && \"ml-2 flex\"}>{text || \"\"}</Wrapper>\r\n      </Button>\r\n      <textarea\r\n        ref={ref}\r\n        style={{\r\n          display: \"none\",\r\n          position: \"absolute\",\r\n        }}\r\n        readOnly={true}\r\n      />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default ElectronUrlCopyPaste;\r\n","import React from \"react\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst ElectronView = ({ model, path, children, ...args }) => {\r\n  const { className, renderAs, item, invert } = model || args;\r\n  if ((!window.electron && !invert) || (window.electron && invert)) return null;\r\n\r\n  return (\r\n    <Wrapper className={className} renderAs={renderAs}>\r\n      {children || <ContentTypeRender path={path} items={item} />}\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default ElectronView;\r\n","import React from \"react\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nclass BootstrapComputedClass extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.view = props.view;\r\n    [\"valid\", \"setValue\"].forEach(func => {\r\n      this[func] = this[func].bind(this);\r\n    });\r\n    this.state = {\r\n      value: this.props.value\r\n    };\r\n    this.path = this.props.path;\r\n  }\r\n  valid() {\r\n    let valid = true;\r\n    for (let i = 0; i < this.model.item.length; i++)\r\n      if (\r\n        this.refs[`component${i}`].valid &&\r\n        this.refs[`component${i}`].valid &&\r\n        !this.refs[`component${i}`].valid()\r\n      )\r\n        valid = false;\r\n    return valid;\r\n  }\r\n  setValue(id, value) {\r\n    return this.props.setValue(id, value);\r\n  }\r\n  componentWillReceiveProps(nextProps) {\r\n    this.setState({\r\n      value: nextProps.value\r\n    });\r\n  }\r\n  render() {\r\n    const { view, model, path } = this.props;\r\n    const insertVal = val =>\r\n      val.replace(\r\n        /\\{([a-z_.]+)\\}/gim,\r\n        (str, p1, offset, s) => view.getValue(p1.replace(\".\", `${path}.`)) || \"\"\r\n      );\r\n\r\n    const className = model.className ? model.className.join(\" \") : \"\";\r\n    this.focus = view.focus;\r\n    if (model.row)\r\n      return (\r\n        <Wrapper className={insertVal(className)}>\r\n          <Wrapper className=\"row\">\r\n            {model.item.map(view.createItem, this)}\r\n          </Wrapper>\r\n        </Wrapper>\r\n      );\r\n    return (\r\n      <Wrapper className={insertVal(className)} renderAs={model.renderAs}>\r\n        {model.item.map(view.createItem, this)}\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\nexport default BootstrapComputedClass;\r\n","import { useEffect } from \"react\";\r\n\r\nconst DatabaseFilterResult = ({ view, children }) => {\r\n  useEffect(() => {\r\n    const filterSearch = (query) => {\r\n      const { data } = query;\r\n\r\n      const definition = data\r\n        .filter((item) => item.name === \"definition\")\r\n        .map((item) => item.component);\r\n\r\n      const viewFields = data\r\n        .filter((item) => item.name === \"view\")\r\n        .filter((item) => !definition.includes(item.component));\r\n\r\n      query.data = viewFields;\r\n    };\r\n\r\n    view.on(\"search\", filterSearch);\r\n    return () => {\r\n      view.off(\"search\", filterSearch);\r\n    };\r\n  }, [view]);\r\n\r\n  return children || null;\r\n};\r\n\r\nexport default DatabaseFilterResult;\r\n","import {\r\n  Wrapper,\r\n  Inserter,\r\n  DragAndDropContext,\r\n  SessionRole,\r\n} from \"nystem-components\";\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\nimport React from \"react\";\r\nimport \"../../../index.css\";\r\nimport \"./index.css\";\r\n\r\nconst Index = () => (\r\n  <Router>\r\n    <DragAndDropContext>\r\n      <SessionRole userrole=\"logged-out\">\r\n        <Inserter\r\n          className=\"p-8 text-left\"\r\n          match=\"*\"\r\n          source=\"/adminUser/login\"\r\n        />\r\n      </SessionRole>\r\n      <SessionRole userrole=\"logged-in\">\r\n        <Inserter\r\n          className=\"fixed top-0 w-full\"\r\n          match=\"*\"\r\n          source=\"/server/menu\"\r\n        />\r\n        <Wrapper\r\n          renderAs=\"main\"\r\n          className=\"h-full-minus overflow-y-scroll mt-11\"\r\n        >\r\n          <Inserter match=\"/popup.html\" source=\"/server/extension\" />\r\n          <Inserter match=\"/\" source=\"/server/overview\" />\r\n          <Inserter match=\"/menu\" source=\"/settings/menu\" />\r\n          <Wrapper className=\"px-6\">\r\n            <Inserter match=\"/server/*\" />\r\n            <Inserter match=\"/host/*\" />\r\n            <Inserter match=\"/settings/*\" />\r\n          </Wrapper>\r\n        </Wrapper>\r\n      </SessionRole>\r\n    </DragAndDropContext>\r\n  </Router>\r\n);\r\nexport default Index;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass OverlayAccessible extends React.Component {\r\n  state = { accessible: true };\r\n  overlayEvent = options => {\r\n    const accessible = !Object.keys(options.open).length;\r\n    if (this.state.accessible !== accessible) {\r\n      this.setState({ accessible });\r\n      app().event(\"accessible\", {\r\n        accessible,\r\n        accessibleId: this.accessibleId\r\n      });\r\n    }\r\n  };\r\n  getChildContext() {\r\n    return {\r\n      accessibleId: this.accessibleId\r\n    };\r\n  }\r\n\r\n  _handleScreenReaderToggled = isEnabled => {\r\n    this.setState({\r\n      screenReaderEnabled: isEnabled\r\n    });\r\n  };\r\n  componentDidMount(event) {\r\n    this.accessibleId = app().uuid();\r\n    app().on(\"overlay\", this.overlayEvent);\r\n  }\r\n  componentWillUnmount(event) {\r\n    app().off(\"overlay\", this.overlayEvent);\r\n  }\r\n  render() {\r\n    const { accessible } = this.state;\r\n    return (\r\n      <Wrapper accessible={accessible ? undefined : false}>\r\n        {this.props.children}\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\nOverlayAccessible.contextTypes = {\r\n  overlayId: PropTypes.string\r\n};\r\nOverlayAccessible.childContextTypes = {\r\n  accessibleId: PropTypes.string\r\n};\r\nexport default OverlayAccessible;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass OverlayClose extends React.Component {\r\n  handleEvent(event) {\r\n    if (event && event.preventDefault) event.preventDefault();\r\n    app().event(\"overlay\", { overlayId: this.context.overlayId, do: \"close\" });\r\n  }\r\n  render() {\r\n    const { className, renderAs, accessible } = this.props;\r\n    return (\r\n      <Wrapper\r\n        renderAs={renderAs || \"a\"}\r\n        className={className}\r\n        onClick={this.handleEvent.bind(this)}\r\n        accessible={accessible}\r\n      >\r\n        {this.props.children}\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\nOverlayClose.contextTypes = {\r\n  overlayId: PropTypes.string\r\n};\r\nexport default OverlayClose;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nclass OverlayCloseButton extends React.Component {\r\n  handleEvent(event) {\r\n    event.preventDefault();\r\n    const { view, path } = this.props;\r\n    const toPath = path || view.contentType + \"/\" + view.format + \"/\" + view.id;\r\n    app()\r\n      .event(\"closeOverlay\", toPath)\r\n      .then(data => {});\r\n  }\r\n  render() {\r\n    const { model, view } = this.props;\r\n    let { className } = this.props;\r\n    className = className || model.className ? model.className.join(\" \") : \"\";\r\n    return (\r\n      <Wrapper\r\n        renderAs={model.renderAs || \"a\"}\r\n        className={className}\r\n        onClick={this.handleEvent.bind(this)}\r\n      >\r\n        {model.item.map(view.createItem, this)}\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\nexport default OverlayCloseButton;\r\n","import React from \"react\";\r\n\r\nconst OverlayContextObject = React.createContext();\r\n\r\nconst OverlayContext = OverlayContextObject.Consumer;\r\nexport default OverlayContext;\r\n\r\nexport const OverlayContextProvider = OverlayContextObject.Provider;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport app from \"nystem\";\r\nimport { withRouter } from \"react-router\";\r\nimport { OverlayContextProvider } from \"./context\";\r\n\r\nlet atPath = \"\";\r\n\r\nconst OverlayIndex = withRouter(({ children, match }) => {\r\n  let [open, setOpenState] = useState({});\r\n\r\n  const overlayEvent = ({ event, overlayId }) => {\r\n    if (event === \"open\") open[overlayId] = true;\r\n    else if (event === \"close\") {\r\n      if (overlayId) delete open[overlayId];\r\n      else open = {};\r\n    }\r\n    setOpenState(open);\r\n  };\r\n\r\n  useEffect(() => {\r\n    app().on(\"overlay\", overlayEvent);\r\n    return () => {\r\n      app().off(\"overlay\", overlayEvent);\r\n    };\r\n  });\r\n\r\n  const { path } = match;\r\n  if (path !== atPath) app().event(\"overlay\", { event: \"close\" });\r\n  atPath = path;\r\n\r\n  const items =\r\n    children instanceof Array ? children : children ? [children] : [];\r\n\r\n  return items\r\n    .filter(({ props }) => open[props.overlayId])\r\n    .map(child => (\r\n      <OverlayContextProvider\r\n        key={child.props.overlayId}\r\n        value={child.props.overlayId}\r\n      >\r\n        {child}\r\n      </OverlayContextProvider>\r\n    ));\r\n});\r\n\r\nexport default OverlayIndex;\r\n","import React from \"react\";\r\nimport { Wrapper, OverlayClose } from \"nystem-components\";\r\nimport \"./menu.css\";\r\n\r\nconst OverlayMenu = ({ children }) => (\r\n  <Wrapper\r\n    className=\"overlay-menu-container overlay-menu-container--active\"\r\n    id=\"overlay-menu-container\"\r\n  >\r\n    <OverlayClose className=\"overlay-menu-shim\" renderAs=\"a\" accessible={false}>\r\n      {\" \"}\r\n    </OverlayClose>\r\n    <Wrapper renderAs=\"nav\" className=\"overlay-menu\">\r\n      {children}\r\n    </Wrapper>\r\n  </Wrapper>\r\n);\r\n\r\nexport default OverlayMenu;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nconst handleEvent = overlayId => e => {\r\n  e.preventDefault();\r\n  app().event(\"overlay\", { overlayId, event: \"open\" });\r\n};\r\n\r\nconst OverlayOpen = ({ overlayId, ...props }) => (\r\n  <Wrapper renderAs=\"a\" {...props} onClick={handleEvent(overlayId)} />\r\n);\r\n\r\nexport default OverlayOpen;\r\n","import React from \"react\";\r\nimport { Wrapper } from \"nystem-components\";\r\n\r\nclass OverlayOverlay extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      mounted: false\r\n    };\r\n  }\r\n  findPosition(obj) {\r\n    const pos = { x: 0, y: 0 };\r\n    while (1) {\r\n      pos.x += obj.offsetLeft;\r\n      pos.y += obj.offsetTop;\r\n      if (!obj.offsetParent) return pos;\r\n      obj = obj.offsetParent;\r\n    }\r\n  }\r\n  getScroll() {\r\n    if (window.pageYOffset !== undefined)\r\n      return { x: window.pageXOffset, y: window.pageYOffset };\r\n\r\n    const r = document.documentElement;\r\n    const b = document.body;\r\n    const sx = r.scrollLeft || b.scrollLeft || 0;\r\n    const sy = r.scrollTop || b.scrollTop || 0;\r\n    return { x: sx, y: sy };\r\n  }\r\n  onMouseDown(event) {\r\n    const { modal } = this.refs;\r\n    this.at = {\r\n      start: {\r\n        x: event.clientX,\r\n        y: event.clientY\r\n      },\r\n      obj: this.findPosition(modal),\r\n      pos: {\r\n        x: event.clientX,\r\n        y: event.clientY\r\n      }\r\n    };\r\n  }\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    if (nextState === this.state) return false;\r\n    return true;\r\n  }\r\n  componentDidMount() {\r\n    this.setState({ mounted: true });\r\n  }\r\n  render() {\r\n    const add = this.state.mounted ? \"--active\" : \"\";\r\n    return (\r\n      <Wrapper className={`overlay-background overlay-background${add}`}>\r\n        <Wrapper className={`overlay-contents overlay-contents${add}`}>\r\n          {this.props.children}\r\n        </Wrapper>\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\nexport default OverlayOverlay;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\n\r\nclass OverlayView extends React.Component {\r\n  onClick = event => {\r\n    event.preventDefault();\r\n    let { model } = this.props;\r\n    model = model || this.props;\r\n    app().event(\"addOverlay\", model);\r\n  };\r\n  render() {\r\n    let { model } = this.props;\r\n    model = model || this.props;\r\n    const className = model.className ? model.className.join(\" \") : \"\";\r\n    return (\r\n      <a className={className} href={model.link} onClick={this.onClick}>\r\n        {app().t(model.text)}\r\n      </a>\r\n    );\r\n  }\r\n}\r\nexport default OverlayView;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nimport { ContentTypeView } from \"nystem-components\";\r\n\r\nclass ReferenceDynamicForm extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.props.view.on(\"save\", this.onSave);\r\n    this.localValue = {};\r\n    const self = this;\r\n    const state = {};\r\n    app().require([\"dynamicForm\", \"fieldDefinitions\"], function () {\r\n      app().dynamicForm.generate(\r\n        self.props.view.contentType,\r\n        self.model.source,\r\n        self.model.transformContentType,\r\n        self.props.view.value,\r\n        function (id) {\r\n          if (typeof state.value !== \"undefined\")\r\n            self.setState({\r\n              value: id,\r\n            });\r\n          else state.value = id;\r\n        }\r\n      );\r\n    });\r\n    if (typeof state.value === \"undefined\") state.value = false; //'dynamicType' + self.props.view.value._id\r\n    this.state = state;\r\n  }\r\n  componentWillReceiveProps(nextProps) {\r\n    /*this.setState({\r\n      value: nextProps.value\r\n    });*/\r\n  }\r\n  render() {\r\n    const model = this.props.model;\r\n    const format = model.view ? model.view : \"input\";\r\n    if (this.state.value)\r\n      return (\r\n        <ContentTypeView\r\n          noForm=\"true\"\r\n          className={model.className}\r\n          contentType={this.state.value}\r\n          format={format}\r\n          value={{}}\r\n          id={this.props.view.params[3]}\r\n          params={this.props.view.params}\r\n        />\r\n      );\r\n    return null;\r\n  }\r\n}\r\nexport default ReferenceDynamicForm;\r\n","import React from \"react\";\r\nimport app from \"nystem\";\r\nclass ViewButtonMirrorSave extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.model = props.model;\r\n    this.view = props.view;\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.saveToDb = this.saveToDb.bind(this);\r\n    this.view.on(\"change\", this.handleChange);\r\n\r\n    this.oldVal = this.props.view.value\r\n      ? JSON.stringify(this.props.view.value)\r\n      : {};\r\n    if (!this.model.saveOn) return {};\r\n\r\n    if (this.model.saveOn.indexOf(\"baseView\") !== -1)\r\n      this.view.baseView.on(\"save\", this.saveToDb);\r\n    if (this.model.saveOn.indexOf(\"baseView.baseView\") !== -1)\r\n      this.view.baseView.baseView.on(\"save\", this.saveToDb);\r\n    if (this.model.saveOn.indexOf(\"baseView.baseView.baseView\") !== -1)\r\n      this.view.baseView.baseView.baseView.on(\"save\", this.saveToDb);\r\n  }\r\n  insertVal(val) {\r\n    if (!val) return val;\r\n    const self = this;\r\n    return val.replace(/\\{([a-z_.]+)\\}/gim, function(str, p1, offset, s) {\r\n      if (p1.indexOf(\"baseView.\") !== 0) return self.view.baseView.getValue(p1);\r\n      p1 = p1.replace(\"baseView.\", \"\");\r\n      if (p1.indexOf(\"baseView.\") !== 0)\r\n        return self.view.baseView.baseView.getValue(p1);\r\n      p1 = p1.replace(\"baseView.\", \"\");\r\n      return self.view.baseView.baseView.baseView.getValue(p1);\r\n    });\r\n  }\r\n  handleChange(id) {\r\n    if (!id || !this.view.value) return;\r\n\r\n    if (!this.saveVals) this.saveVals = {};\r\n\r\n    this.saveVals[id] = this.view.value[id];\r\n  }\r\n  saveToDb() {\r\n    const self = this;\r\n    if (this.saveVals && this.view.valid()) {\r\n      if (this.view.value._id) this.saveVals._id = this.view.value._id;\r\n\r\n      app().database[this.view.contentType].save(\r\n        {\r\n          data: this.saveVals,\r\n          fields: true\r\n        },\r\n        function(data) {\r\n          if (!self.view.value._id) self.view.setValue(\"_id\", data);\r\n\r\n          self.view.event(\"save\", self.view.value);\r\n        }\r\n      );\r\n\r\n      delete this.saveVals;\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    if (this.model.insertVal)\r\n      this.model.insertVal.forEach(item => {\r\n        this.view.setValue(item[0], this.insertVal(item[1]));\r\n      });\r\n  }\r\n  componentWillUnmount() {\r\n    this.view.off(\"change\", this.handleChange);\r\n    if (this.saveDelay) clearTimeout(this.saveDelay);\r\n\r\n    if (this.model.saveOn.indexOf(\"baseView\") !== -1)\r\n      this.view.baseView.off(\"save\", this.saveToDb);\r\n    if (this.model.saveOn.indexOf(\"baseView.baseView\") !== -1)\r\n      this.view.baseView.baseView.off(\"save\", this.saveToDb);\r\n    if (this.model.saveOn.indexOf(\"baseView.baseView.baseView\") !== -1)\r\n      this.view.baseView.baseView.baseView.off(\"save\", this.saveToDb);\r\n  }\r\n  render() {\r\n    return null;\r\n  }\r\n}\r\nexport default ViewButtonMirrorSave;\r\n","import { useEffect } from \"react\";\r\n\r\nconst ViewInViewSetBaseViewValue = ({ model, view }) => {\r\n  useEffect(() => {\r\n    view.setValue({\r\n      path: model.toField,\r\n      value: view.baseView.getValue(model.fromField),\r\n    });\r\n  }, [model, view]);\r\n\r\n  return null;\r\n};\r\nexport default ViewInViewSetBaseViewValue;\r\n","/* eslint-disable jsx-a11y/mouse-events-have-key-events */\r\n\r\nimport React, { useRef, useEffect, useState } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport { Wrapper, ContentTypeRender } from \"nystem-components\";\r\n\r\nconst Portal = ({ children }) => {\r\n  const [element, setElement] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const element = document.createElement(\"div\");\r\n    document.body.appendChild(element);\r\n    setElement(element);\r\n\r\n    return () => {\r\n      document.body.removeChild(element);\r\n    };\r\n  }, []);\r\n\r\n  if (!element) return null;\r\n\r\n  return createPortal(children, element);\r\n};\r\n\r\nconst MouseOver = ({ children, setOver }) => {\r\n  const [isOver, setIsOver] = useState(false);\r\n  const ref = useRef();\r\n  useEffect(() => {\r\n    if (!isOver) return;\r\n\r\n    const size = ref.current.getBoundingClientRect();\r\n    let pos = false;\r\n\r\n    const mouseMove = (e) => {\r\n      pos = { x: e.clientX, y: e.clientY };\r\n      const { x, y } = pos;\r\n\r\n      if (y < size.top || y > size.bottom || x < size.left || x > size.right) {\r\n        setOver(false);\r\n        setIsOver(false);\r\n      }\r\n    };\r\n    const delay = setTimeout(() => {\r\n      setOver(pos);\r\n    }, 100);\r\n\r\n    window.addEventListener(\"mousemove\", mouseMove);\r\n    return () => {\r\n      clearTimeout(delay);\r\n      window.removeEventListener(\"mousemove\", mouseMove);\r\n    };\r\n  }, [isOver, setOver]);\r\n\r\n  return (\r\n    <div ref={ref} onMouseOver={() => setIsOver(true)}>\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ViewTextTitlePopup = ({ model, path }) => {\r\n  const { item, popup } = model;\r\n\r\n  const [overPos, setOver] = useState(false);\r\n\r\n  return (\r\n    <>\r\n      {overPos && (\r\n        <Portal>\r\n          <Wrapper\r\n            style={{\r\n              position: \"fixed\",\r\n              left: overPos.x + 10,\r\n              top: overPos.y + 12,\r\n            }}\r\n          >\r\n            <ContentTypeRender path={path} items={popup} />\r\n          </Wrapper>\r\n        </Portal>\r\n      )}\r\n      <MouseOver setOver={setOver}>\r\n        <ContentTypeRender path={path} items={item} />\r\n      </MouseOver>\r\n    </>\r\n  );\r\n};\r\nexport default ViewTextTitlePopup;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Wrapper } from \"nystem-components\";\r\nimport app from \"nystem\";\r\n\r\nconst TextareaLog = ({ view, model, value = \"\" }) => {\r\n  const [log, setLog] = useState(\"\");\r\n  const hasVal = !!value;\r\n\r\n  useEffect(() => {\r\n    if (!hasVal) return;\r\n    const parseLog = (log) => {\r\n      const parsedLog = (log || \"\")\r\n        .replace(/ /g, \"&nbsp;\")\r\n        // eslint-disable-next-line no-control-regex\r\n        .replace(/\\x1b\\[((?:\\d{1,3};?)+|)m/gim, (match, p1) => {\r\n          return `</span><span style='color:${colors[parseInt(p1, 10)]};'>`;\r\n        });\r\n      return `<span>${parsedLog.replace(/\\n/g, \"</span><br/><span>\")}</span>`;\r\n    };\r\n\r\n    let fullLog = parseLog(value);\r\n    setLog(fullLog);\r\n\r\n    const updateLog = ({ data }) => {\r\n      fullLog += parseLog(data);\r\n      setLog(fullLog);\r\n    };\r\n\r\n    app().connection.on(`serverLog${view.id}`, updateLog);\r\n    const clearLog = () => {\r\n      setLog(\"\");\r\n      fullLog = \"\";\r\n    };\r\n    view.on(\"clearlog\", clearLog);\r\n    return () => {\r\n      view.off(\"clearlog\", clearLog);\r\n      app().connection.off(`serverLog${view.id}`, updateLog);\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [hasVal]);\r\n\r\n  const className = model.className && model.className.join(\" \");\r\n  return (\r\n    <code>\r\n      <Wrapper className={model.wrapperClass}>\r\n        <div className={className} dangerouslySetInnerHTML={{ __html: log }} />\r\n      </Wrapper>\r\n    </code>\r\n  );\r\n};\r\n\r\nexport default TextareaLog;\r\n\r\nconst colors = {\r\n  0: \"#000\",\r\n  1: \"white\", // ch\r\n  2: \"#0A0\",\r\n  3: \"#A50\",\r\n  4: \"#00A\",\r\n  5: \"#A0A\",\r\n  6: \"#0AA\",\r\n  7: \"#AAA\",\r\n  8: \"#555\",\r\n  9: \"#F55\",\r\n  10: \"#5F5\",\r\n  11: \"#FF5\",\r\n  12: \"#55F\",\r\n  13: \"#F5F\",\r\n  14: \"#5FF\",\r\n  15: \"#FFF\",\r\n  16: \"#000000\",\r\n  17: \"#00005f\",\r\n  18: \"#000087\",\r\n  19: \"#0000af\",\r\n  20: \"#0000d7\",\r\n  21: \"#0000ff\",\r\n  22: \"#A0A0A0\", // ch\r\n  23: \"#005f5f\",\r\n  24: \"#005f87\",\r\n  25: \"#005faf\",\r\n  26: \"#005fd7\",\r\n  27: \"#005fff\",\r\n  28: \"#008700\",\r\n  29: \"#00875f\",\r\n  30: \"#008787\",\r\n  31: \"red\", // ch\r\n  32: \"green\", // ch\r\n  33: \"yellow\", // ch\r\n  34: \"#00af00\",\r\n  35: \"#00af5f\",\r\n  36: \"#00af87\",\r\n  37: \"#00afaf\",\r\n  38: \"#00afd7\",\r\n  39: \"#00afff\",\r\n  40: \"#00d700\",\r\n  41: \"#00d75f\",\r\n  42: \"#00d787\",\r\n  43: \"#00d7af\",\r\n  44: \"#00d7d7\",\r\n  45: \"#00d7ff\",\r\n  46: \"#00ff00\",\r\n  47: \"#00ff5f\",\r\n  48: \"#00ff87\",\r\n  49: \"#00ffaf\",\r\n  50: \"#00ffd7\",\r\n  51: \"#00ffff\",\r\n  52: \"#5f0000\",\r\n  53: \"#5f005f\",\r\n  54: \"#5f0087\",\r\n  55: \"#5f00af\",\r\n  56: \"#5f00d7\",\r\n  57: \"#5f00ff\",\r\n  58: \"#5f5f00\",\r\n  59: \"#5f5f5f\",\r\n  60: \"#5f5f87\",\r\n  61: \"#5f5faf\",\r\n  62: \"#5f5fd7\",\r\n  63: \"#5f5fff\",\r\n  64: \"#5f8700\",\r\n  65: \"#5f875f\",\r\n  66: \"#5f8787\",\r\n  67: \"#5f87af\",\r\n  68: \"#5f87d7\",\r\n  69: \"#5f87ff\",\r\n  70: \"#5faf00\",\r\n  71: \"#5faf5f\",\r\n  72: \"#5faf87\",\r\n  73: \"#5fafaf\",\r\n  74: \"#5fafd7\",\r\n  75: \"#5fafff\",\r\n  76: \"#5fd700\",\r\n  77: \"#5fd75f\",\r\n  78: \"#5fd787\",\r\n  79: \"#5fd7af\",\r\n  80: \"#5fd7d7\",\r\n  81: \"#5fd7ff\",\r\n  82: \"#5fff00\",\r\n  83: \"#5fff5f\",\r\n  84: \"#5fff87\",\r\n  85: \"#5fffaf\",\r\n  86: \"#5fffd7\",\r\n  87: \"#5fffff\",\r\n  88: \"#870000\",\r\n  89: \"#87005f\",\r\n  90: \"#870087\",\r\n  91: \"#8700af\",\r\n  92: \"#8700d7\",\r\n  93: \"#8700ff\",\r\n  94: \"#875f00\",\r\n  95: \"#875f5f\",\r\n  96: \"#875f87\",\r\n  97: \"#875faf\",\r\n  98: \"#875fd7\",\r\n  99: \"#875fff\",\r\n  100: \"#878700\",\r\n  101: \"#87875f\",\r\n  102: \"#878787\",\r\n  103: \"#8787af\",\r\n  104: \"#8787d7\",\r\n  105: \"#8787ff\",\r\n  106: \"#87af00\",\r\n  107: \"#87af5f\",\r\n  108: \"#87af87\",\r\n  109: \"#87afaf\",\r\n  110: \"#87afd7\",\r\n  111: \"#87afff\",\r\n  112: \"#87d700\",\r\n  113: \"#87d75f\",\r\n  114: \"#87d787\",\r\n  115: \"#87d7af\",\r\n  116: \"#87d7d7\",\r\n  117: \"#87d7ff\",\r\n  118: \"#87ff00\",\r\n  119: \"#87ff5f\",\r\n  120: \"#87ff87\",\r\n  121: \"#87ffaf\",\r\n  122: \"#87ffd7\",\r\n  123: \"#87ffff\",\r\n  124: \"#af0000\",\r\n  125: \"#af005f\",\r\n  126: \"#af0087\",\r\n  127: \"#af00af\",\r\n  128: \"#af00d7\",\r\n  129: \"#af00ff\",\r\n  130: \"#af5f00\",\r\n  131: \"#af5f5f\",\r\n  132: \"#af5f87\",\r\n  133: \"#af5faf\",\r\n  134: \"#af5fd7\",\r\n  135: \"#af5fff\",\r\n  136: \"#af8700\",\r\n  137: \"#af875f\",\r\n  138: \"#af8787\",\r\n  139: \"#af87af\",\r\n  140: \"#af87d7\",\r\n  141: \"#af87ff\",\r\n  142: \"#afaf00\",\r\n  143: \"#afaf5f\",\r\n  144: \"#afaf87\",\r\n  145: \"#afafaf\",\r\n  146: \"#afafd7\",\r\n  147: \"#afafff\",\r\n  148: \"#afd700\",\r\n  149: \"#afd75f\",\r\n  150: \"#afd787\",\r\n  151: \"#afd7af\",\r\n  152: \"#afd7d7\",\r\n  153: \"#afd7ff\",\r\n  154: \"#afff00\",\r\n  155: \"#afff5f\",\r\n  156: \"#afff87\",\r\n  157: \"#afffaf\",\r\n  158: \"#afffd7\",\r\n  159: \"#afffff\",\r\n  160: \"#d70000\",\r\n  161: \"#d7005f\",\r\n  162: \"#d70087\",\r\n  163: \"#d700af\",\r\n  164: \"#d700d7\",\r\n  165: \"#d700ff\",\r\n  166: \"#d75f00\",\r\n  167: \"#d75f5f\",\r\n  168: \"#d75f87\",\r\n  169: \"#d75faf\",\r\n  170: \"#d75fd7\",\r\n  171: \"#d75fff\",\r\n  172: \"#d78700\",\r\n  173: \"#d7875f\",\r\n  174: \"#d78787\",\r\n  175: \"#d787af\",\r\n  176: \"#d787d7\",\r\n  177: \"#d787ff\",\r\n  178: \"#d7af00\",\r\n  179: \"#d7af5f\",\r\n  180: \"#d7af87\",\r\n  181: \"#d7afaf\",\r\n  182: \"#d7afd7\",\r\n  183: \"#d7afff\",\r\n  184: \"#d7d700\",\r\n  185: \"#d7d75f\",\r\n  186: \"#d7d787\",\r\n  187: \"#d7d7af\",\r\n  188: \"#d7d7d7\",\r\n  189: \"#d7d7ff\",\r\n  190: \"#d7ff00\",\r\n  191: \"#d7ff5f\",\r\n  192: \"#d7ff87\",\r\n  193: \"#d7ffaf\",\r\n  194: \"#d7ffd7\",\r\n  195: \"#d7ffff\",\r\n  196: \"#ff0000\",\r\n  197: \"#ff005f\",\r\n  198: \"#ff0087\",\r\n  199: \"#ff00af\",\r\n  200: \"#ff00d7\",\r\n  201: \"#ff00ff\",\r\n  202: \"#ff5f00\",\r\n  203: \"#ff5f5f\",\r\n  204: \"#ff5f87\",\r\n  205: \"#ff5faf\",\r\n  206: \"#ff5fd7\",\r\n  207: \"#ff5fff\",\r\n  208: \"#ff8700\",\r\n  209: \"#ff875f\",\r\n  210: \"#ff8787\",\r\n  211: \"#ff87af\",\r\n  212: \"#ff87d7\",\r\n  213: \"#ff87ff\",\r\n  214: \"#ffaf00\",\r\n  215: \"#ffaf5f\",\r\n  216: \"#ffaf87\",\r\n  217: \"#ffafaf\",\r\n  218: \"#ffafd7\",\r\n  219: \"#ffafff\",\r\n  220: \"#ffd700\",\r\n  221: \"#ffd75f\",\r\n  222: \"#ffd787\",\r\n  223: \"#ffd7af\",\r\n  224: \"#ffd7d7\",\r\n  225: \"#ffd7ff\",\r\n  226: \"#ffff00\",\r\n  227: \"#ffff5f\",\r\n  228: \"#ffff87\",\r\n  229: \"#ffffaf\",\r\n  230: \"#ffffd7\",\r\n  231: \"#ffffff\",\r\n  232: \"#080808\",\r\n  233: \"#121212\",\r\n  234: \"#1c1c1c\",\r\n  235: \"#262626\",\r\n  236: \"#303030\",\r\n  237: \"#3a3a3a\",\r\n  238: \"#444444\",\r\n  239: \"#4e4e4e\",\r\n  240: \"#585858\",\r\n  241: \"#626262\",\r\n  242: \"#6c6c6c\",\r\n  243: \"#767676\",\r\n  244: \"#808080\",\r\n  245: \"#8a8a8a\",\r\n  246: \"#949494\",\r\n  247: \"#9e9e9e\",\r\n  248: \"#a8a8a8\",\r\n  249: \"#b2b2b2\",\r\n  250: \"#bcbcbc\",\r\n  251: \"#c6c6c6\",\r\n  252: \"#d0d0d0\",\r\n  253: \"#dadada\",\r\n  254: \"#e4e4e4\",\r\n  255: \"#eeeeee\",\r\n};\r\n","import * as components from \"nystem-components\";\r\n\r\nconst React = require(\"react\");\r\nconst ReactDOM = require(\"react-dom\");\r\n\r\nconst base = document.createElement(\"div\");\r\nbase.className = \"react-root\";\r\nbase.id = \"react-root\";\r\ndocument.body.appendChild(base);\r\n\r\nexport default (app) => {\r\n  let comp;\r\n  app.on(\"loaded\", async () => {\r\n    const { renderer, component, element } = await app.event(\r\n      \"getElementContext\",\r\n      {\r\n        renderer: ReactDOM,\r\n        component: \"Index\",\r\n        element: base,\r\n      }\r\n    );\r\n    comp = element;\r\n    renderer.render(React.createElement(components[component]), element);\r\n  });\r\n\r\n  app.on(\"unmount\", () => {\r\n    ReactDOM.unmountComponentAtNode(comp);\r\n  });\r\n};\r\n","import httpsfallbackM from \"./httpsfallback\";\r\n\r\nexport default (app) => {\r\n  if (!app.settings.domain) return;\r\n  app.connection = app.addeventhandler({}, [\"emit\", \"broadcast\"], \"connection\");\r\n  const { connection } = app;\r\n\r\n  connection.on(\"broadcast\", (data) =>\r\n    connection.emit({ ...data, broadcast: true })\r\n  );\r\n\r\n  const callbacks = {};\r\n  const emitSocket = (callback) => (data) =>\r\n    new Promise((resolve) => {\r\n      if (!data.noCallback) {\r\n        data.callbackClient = app.uuid();\r\n        callbacks[data.callbackClient] = resolve;\r\n      } else resolve();\r\n\r\n      let message = JSON.stringify(data);\r\n\r\n      while (message.length > 64000) {\r\n        callback(message.substring(0, 64000));\r\n        message = message.substring(64000);\r\n      }\r\n      callback(message);\r\n    });\r\n\r\n  const receiveSocket = (message) => {\r\n    const data = JSON.parse(message);\r\n\r\n    if (callbacks[data.callbackClient]) {\r\n      try {\r\n        callbacks[data.callbackClient](data);\r\n      } catch (e) {\r\n        console.log(\"err\", callbacks[data.callbackClient], e);\r\n      }\r\n      delete callbacks[data.callbackClient];\r\n    } else connection.event(data.type, data);\r\n  };\r\n\r\n  const openconnection = () => {\r\n    console.log(`openconnection ${url}`);\r\n    let timer = false;\r\n    const sendSocket = emitSocket((message) => webSocket.send(message));\r\n\r\n    const webSocket = new WebSocket(url);\r\n\r\n    webSocket.onerror = (error) => {\r\n      connection.event(\"error\", { error });\r\n    };\r\n    webSocket.onclose = (error) => {\r\n      connection.event(\"connection\", { error, connected: false });\r\n      if (!timer) return;\r\n      clearInterval(timer);\r\n      connection.off(\"emit\", sendSocket);\r\n    };\r\n\r\n    webSocket.onopen = () => {\r\n      connection.on(\"emit\", sendSocket);\r\n      connection.event(\"connection\", { connected: true });\r\n      timer = setInterval(() => webSocket.send(\"li\"), 15000);\r\n    };\r\n\r\n    webSocket.onmessage = (message) => receiveSocket(message.data);\r\n  };\r\n\r\n  let delay = 0;\r\n  const url = `ws${app.settings.secure ? \"s\" : \"\"}://${app.settings.domain}`;\r\n  connection.on(\"connection\", ({ connected, fallback }) => {\r\n    if (fallback) return;\r\n\r\n    if (connected === true) delay = 0;\r\n    if (connected !== false) return;\r\n\r\n    setTimeout(openconnection, 1000 * delay);\r\n    if (delay < 50) delay += app.settings.debug ? 1 : 5;\r\n  });\r\n  openconnection();\r\n\r\n  connection.connected = false;\r\n  connection.on(\"connection\", 100, (query) => {\r\n    if (typeof query.connected === \"undefined\")\r\n      query.connected = connection.connected;\r\n\r\n    connection.connected = query.connected;\r\n  });\r\n\r\n  connection.on(\"connection\", ({ wait, connected }) => {\r\n    if (!wait || connected) return;\r\n\r\n    return new Promise((resolve) => {\r\n      const onConnect = ({ connected }) => {\r\n        if (!connected) return;\r\n        connection.off(\"connection\", onConnect);\r\n        resolve({ connected: true });\r\n      };\r\n      connection.on(\"connection\", onConnect);\r\n    });\r\n  });\r\n\r\n  if (app.settings.waitOnConnect)\r\n    app.on(\"loaded\", 1000, () =>\r\n      connection.event(\"connection\", { wait: true })\r\n    );\r\n\r\n  if (app.settings.debug) {\r\n    let state = \"notconnected\";\r\n    connection.on(\"connection\", ({ connected, fallback }) => {\r\n      if (fallback) return;\r\n\r\n      if (state === \"disconnected\" && connected) window.location.reload();\r\n      if (state === \"connected\" && !connected) state = \"disconnected\";\r\n      if (state === \"notconnected\" && connected) state = \"connected\";\r\n    });\r\n  }\r\n\r\n  httpsfallbackM(app);\r\n};\r\n","export default (app) => {\r\n  const onEmit = async (body) => {\r\n    const response = await fetch(\"/httpsfallback\", {\r\n      method: \"post\",\r\n      body: JSON.stringify(body),\r\n    });\r\n\r\n    const data = await response.json();\r\n\r\n    app.connection.event(data.type, data);\r\n    return data;\r\n  };\r\n\r\n  let state = \"notconnected\";\r\n  app.connection.on(\"connection\", ({ connected, fallback }) => {\r\n    if (!connected || fallback) return;\r\n\r\n    if (state === \"fallback\") app.connection.off(\"sendSocket\", onEmit);\r\n    state = \"connected\";\r\n  });\r\n\r\n  app.connection.on(\"error\", async () => {\r\n    if (state === \"connected\" || state === \"fallback\") return;\r\n    state = \"fallback\";\r\n\r\n    const response = await fetch(\"/httpsfallback\", {\r\n      method: \"post\",\r\n      body: \"li\",\r\n    });\r\n\r\n    if ((await response.text()) !== \"li\") return;\r\n\r\n    app.connection.on(\"emit\", onEmit);\r\n    app.connection.event(\"connection\", { connected: true, fallback: true });\r\n  });\r\n};\r\n","const viewCreatorFields = require(\"../../../viewCreatorFields.json\");\r\n\r\nconst arr2Obj = (arr, byField) =>\r\n  arr.reduce((prev, curr) => {\r\n    prev[curr[byField]] = curr;\r\n    return prev;\r\n  }, {});\r\n\r\nconst objectMap = (object, mapFn) =>\r\n  Object.keys(object).reduce((result, key) => {\r\n    result[key] = mapFn(object[key]);\r\n    return result;\r\n  }, {});\r\n\r\nconst deepCopy = (obj) => obj && JSON.parse(JSON.stringify(obj));\r\n\r\nconst getId = ({ path = \"\", id = \"\" }) => {\r\n  if (path && id) return `${path}.${id}`;\r\n  if (id) return id;\r\n  return \"\";\r\n};\r\n\r\nconst capFirst = (str) => str.substr(0, 1).toUpperCase() + str.substr(1);\r\n\r\nconst replaceInModel = ({\r\n  model,\r\n  viewFormat,\r\n  fn,\r\n  path = \"\",\r\n  dynamicFields = [],\r\n}) => {\r\n  if (!model) return {};\r\n\r\n  model = deepCopy(model);\r\n  const { type, id } = model;\r\n  const fullId = getId({ path, id });\r\n  const format = model.format || viewFormat;\r\n\r\n  let componentName = `${type}${capFirst(format)}`;\r\n  if (viewCreatorFields[componentName] === undefined)\r\n    componentName = `${type}View`;\r\n\r\n  model = fn({ model, format, path, id, fullId });\r\n  if (!model) return null;\r\n\r\n  dynamicFields = [\r\n    ...dynamicFields,\r\n    ...(viewCreatorFields[componentName] || []),\r\n  ];\r\n\r\n  dynamicFields.forEach((key) => {\r\n    if (!model[key]) return;\r\n\r\n    model[key] = model[key] instanceof Array ? model[key] : [model[key]];\r\n\r\n    model[key] = model[key]\r\n      .map((item) =>\r\n        replaceInModel({\r\n          model: item,\r\n          viewFormat,\r\n          fn,\r\n          path: fullId || path,\r\n        })\r\n      )\r\n      .filter((model) => !!model);\r\n  });\r\n\r\n  return model;\r\n};\r\n\r\nconst flattenFields = ({ item, viewCreatorFields, path = \"\" }) =>\r\n  (item || []).reduce((prev, field) => {\r\n    const { type, id } = field;\r\n    const fullPath = path ? `${path}.${id}` : id;\r\n\r\n    if (!type) return { [id]: field, ...prev };\r\n\r\n    const flatten = viewCreatorFields[`${type}Definition`];\r\n    if (!flatten) return { [fullPath]: field, ...prev };\r\n\r\n    const subFields = flatten.reduce(\r\n      (prev, key) =>\r\n        field[key]\r\n          ? flattenFields({\r\n              item: field[key],\r\n              viewCreatorFields,\r\n              path: fullPath,\r\n            })\r\n          : prev,\r\n      {}\r\n    );\r\n\r\n    return { [fullPath]: field, ...subFields, ...prev };\r\n  }, {});\r\n\r\nconst populateViews = ({ app }) => {\r\n  const { contentType } = app;\r\n\r\n  const populatedViews = objectMap(deepCopy(contentType), (contentType) => {\r\n    const { views, item } = contentType;\r\n    if (!views) return contentType;\r\n\r\n    const fields = flattenFields({ item, viewCreatorFields });\r\n\r\n    Object.entries(fields).forEach(([key, value]) => {\r\n      if (key.indexOf(\".\"))\r\n        fields[key.substring(0, key.indexOf(\".\") + 1) + key] = value;\r\n    });\r\n\r\n    const populatedViews = views.map((view) =>\r\n      replaceInModel({\r\n        model: { ...view, type: \"contentType\", id: undefined },\r\n        fn: ({ model: view, fullId, format }) => {\r\n          if (!fullId) return { format, ...view };\r\n\r\n          if (fields[fullId]) return { format, ...fields[fullId], ...view };\r\n\r\n          const partId = fullId.split(\".\").pop();\r\n          if (fields[partId]) return { format, ...fields[partId], ...view };\r\n\r\n          return { format, ...view };\r\n        },\r\n        viewFormat: view.format || \"view\",\r\n      })\r\n    );\r\n\r\n    contentType.views = arr2Obj(populatedViews, \"name\");\r\n    return contentType;\r\n  });\r\n\r\n  return populatedViews;\r\n};\r\n\r\nexport default (app) => {\r\n  app.on(\"init\", 1000, () => {\r\n    app.populatedViews = populateViews({ app });\r\n    app.replaceInModel = replaceInModel;\r\n  });\r\n};\r\n","const sortFuncInt = (key, reverse) => {\r\n  const up = reverse ? 1 : -1;\r\n  const down = reverse ? -1 : 1;\r\n\r\n  return (a, b) => {\r\n    const x = a[key];\r\n    const y = b[key];\r\n\r\n    if (x === undefined) return y === undefined ? 0 : down;\r\n    if (y === undefined) return up;\r\n    return x < y ? up : x > y ? down : 0;\r\n  };\r\n};\r\n\r\nconst sortFuncText = (key, reverse) => {\r\n  const up = reverse ? 1 : -1;\r\n  const down = reverse ? -1 : 1;\r\n\r\n  return (a, b) => {\r\n    let x = a[key];\r\n    let y = b[key];\r\n    if (x === undefined) return y === undefined ? 0 : up;\r\n    if (y === undefined) return down;\r\n    x = x.toString().toLowerCase();\r\n    y = y.toString().toLowerCase();\r\n\r\n    return x < y ? up : x > y ? down : 0;\r\n  };\r\n};\r\n\r\nconst sortFuncCount = (key, reverse) => {\r\n  const up = reverse ? 1 : -1;\r\n  const down = reverse ? -1 : 1;\r\n\r\n  return (a, b) => {\r\n    const x = a[key] ? a[key].length : 0;\r\n    const y = b[key] ? b[key].length : 0;\r\n\r\n    if (x === undefined) return y === undefined ? 0 : down;\r\n    if (y === undefined) return up;\r\n    return x < y ? up : x > y ? down : 0;\r\n  };\r\n};\r\n\r\nconst sortByType = {\r\n  int: sortFuncInt,\r\n  date: sortFuncInt,\r\n  reference: sortFuncCount,\r\n  default: sortFuncText,\r\n};\r\n\r\nconst sortByFunc = (array, sortBys) => {\r\n  const sortFuncs = sortBys.map(({ type, key, reverse }) =>\r\n    sortByType[type]\r\n      ? sortByType[type](key, reverse)\r\n      : sortByType.default(key, reverse)\r\n  );\r\n\r\n  return array.sort((a, b) => {\r\n    let res;\r\n    for (let i = 0; i < sortFuncs.length; i++) {\r\n      res = sortFuncs[i](a, b);\r\n      if (res !== 0) return res;\r\n    }\r\n    return res;\r\n  });\r\n};\r\n\r\nfunction field2IdType(contentType) {\r\n  const field2IdType = {};\r\n  contentType.item = contentType.item || [];\r\n  for (let i = 0; i < contentType.item.length; i++) {\r\n    const item = contentType.item[i];\r\n    field2IdType[item.id] = item.extends ? item.extends : item.type;\r\n  }\r\n  field2IdType._crdate = \"date\";\r\n  return field2IdType;\r\n}\r\n\r\nfunction setSearchDefaults(query, contentType) {\r\n  const items = contentType.item || [];\r\n  query.sortby = !query.sortby\r\n    ? items.find((item) => item.id === \"title\")\r\n      ? \"title\"\r\n      : \"name\"\r\n    : query.sortby;\r\n\r\n  query.sortby = query.sortby || \"_chdate\";\r\n  query.position = query.position || 0;\r\n  query.count = query.count || 200;\r\n}\r\n\r\nfunction getFilterArray(filter) {\r\n  if (filter && Object.keys(filter).length === 0) return [];\r\n  if (filter && filter.$and) {\r\n    filter = { ...filter };\r\n    const tmp = filter.$and;\r\n    delete filter.$and;\r\n    if (tmp instanceof Array) return tmp.concat(filter);\r\n    return [filter, tmp];\r\n  }\r\n\r\n  return [filter];\r\n}\r\n\r\nexport default (app) => {\r\n  app.database.on(\"init\", ({ collection, db }) => {\r\n    const { contentType } = collection;\r\n    const fieldByType = field2IdType(contentType);\r\n\r\n    collection.on(\"init\", 10, () => {\r\n      const { dbArray } = db;\r\n      sortByFunc(dbArray, [{ type: \"int\", key: \"_chdate\" }]);\r\n    });\r\n\r\n    const addFields2All = (add2id, searchFor, oneSearchField, oneSearchValue) =>\r\n      contentType.item.forEach((oneField) => {\r\n        if (oneField.id && oneField.type !== \"date\") {\r\n          oneSearchField.push(add2id + oneField.id);\r\n          oneSearchValue.push(searchFor);\r\n        } else if (oneField.add2id)\r\n          addFields2All(\r\n            `${add2id + oneField.add2id}_`,\r\n            searchFor,\r\n            oneSearchField,\r\n            oneSearchValue\r\n          );\r\n      });\r\n\r\n    function getFilter(query) {\r\n      const searchField = [];\r\n      const searchValue = [];\r\n      const searchInvert = [];\r\n\r\n      getFilterArray(query.filter).forEach((filter) => {\r\n        const oneSearchField = [];\r\n        const oneSearchValue = [];\r\n        const oneSearchInvert = [];\r\n\r\n        if (filter.$all && filter.$all !== \"\")\r\n          addFields2All(\r\n            \"\",\r\n            createRegExp(filter.$all),\r\n            oneSearchField,\r\n            oneSearchValue\r\n          );\r\n\r\n        const exact = filter.__exact || query.exact;\r\n        Object.entries(filter).forEach(([field, value], index) => {\r\n          if (![\"$all\", \"__id\", \"__exact\"].includes(field)) {\r\n            oneSearchField.push(field);\r\n\r\n            if (value[0] === \"!\") {\r\n              oneSearchInvert[index] = true;\r\n              value = value.substring(1);\r\n            }\r\n\r\n            if (exact) oneSearchValue.push(createRegExp(`^${value}$`));\r\n            else if (value instanceof Array) {\r\n              oneSearchValue.push(createRegExp(value.join(\"|\")));\r\n            } else if (!value) oneSearchValue.push(\"false\");\r\n            else if (value === true) oneSearchValue.push(\"true\");\r\n            else if (\"<>\".indexOf(value[0]) !== -1) oneSearchValue.push(value);\r\n            else oneSearchValue.push(createRegExp(value, field));\r\n          }\r\n        });\r\n\r\n        if (oneSearchField.length > 0) {\r\n          searchField.push(oneSearchField);\r\n          searchValue.push(oneSearchValue);\r\n          searchInvert.push(oneSearchInvert);\r\n        }\r\n      });\r\n      if (searchField.length === 0) return {};\r\n      return { searchField, searchValue, searchInvert };\r\n    }\r\n\r\n    function createRegExp(expression, id) {\r\n      if (fieldByType[id] === \"boolean\") return expression;\r\n      return new RegExp(expression.toString().replace(/\\*/g, \"\\\\*\"), \"i\");\r\n    }\r\n\r\n    function search(query) {\r\n      if (query.data !== undefined) return;\r\n\r\n      const { dbArray } = db;\r\n      query.total = dbArray.length;\r\n      setSearchDefaults(query, contentType);\r\n      let result = [];\r\n\r\n      function filterResult(query) {\r\n        const { searchField, searchValue, searchInvert } = getFilter(query);\r\n        if (!searchField) return false;\r\n\r\n        for (let pos = 0; pos < dbArray.length; pos++) {\r\n          const thisItem = dbArray[pos];\r\n          let add = false;\r\n          for (let i = 0; i < searchField.length; i++) {\r\n            add = false;\r\n            for (let field = 0; field < searchField[i].length; field++) {\r\n              let val = thisItem[searchField[i][field]];\r\n              const matchVal = searchValue[i][field];\r\n              if (val && val.toString() === \"[object Object]\")\r\n                val = JSON.stringify(val);\r\n\r\n              const addOne =\r\n                (matchVal === \"false\" && !val) ||\r\n                (matchVal === \"true\" && val) ||\r\n                (matchVal[0] === \"<\" &&\r\n                  parseFloat(val) < parseFloat(matchVal.substring(1))) ||\r\n                (matchVal[0] === \">\" &&\r\n                  parseFloat(val) > parseFloat(matchVal.substring(1))) ||\r\n                (val && matchVal.test && matchVal.test(val));\r\n\r\n              if (\r\n                (addOne && !searchInvert[i][field]) ||\r\n                (!addOne && searchInvert[i][field])\r\n              ) {\r\n                add = true;\r\n                break;\r\n              }\r\n            }\r\n            if (!add) break;\r\n          }\r\n          if (add) result.push(thisItem);\r\n        }\r\n        return true;\r\n      }\r\n\r\n      let sortBy =\r\n        query.sortby instanceof Array\r\n          ? query.sortby\r\n          : [query.sortby || \"_chdate\"];\r\n\r\n      let reverse =\r\n        query.reverse instanceof Array\r\n          ? query.reverse\r\n          : [query.reverse || false];\r\n\r\n      if (sortBy[0] === \"_chdate\" && sortBy.length === 1) sortBy = false;\r\n      if (reverse[0] === false && reverse.length === 1) reverse = false;\r\n\r\n      if (!query.filter || !filterResult(query)) {\r\n        if (sortBy || (reverse && result.length <= query.count)) {\r\n          result = new Array(dbArray.length);\r\n          let i = dbArray.length;\r\n          while (i--) result[i] = dbArray[i];\r\n        } else result = dbArray;\r\n      }\r\n\r\n      query.searchTotal = result.length;\r\n\r\n      if (sortBy)\r\n        sortByFunc(\r\n          result,\r\n          sortBy.map((key, index) => ({\r\n            type: fieldByType[key],\r\n            key,\r\n            reverse: reverse[index],\r\n          }))\r\n        );\r\n      else if (reverse[0]) {\r\n        if (result === dbArray) result = [...result];\r\n        result.reverse();\r\n      }\r\n      if (result.length <= query.position) result = [];\r\n      else if (result.length > query.count)\r\n        result = result.slice(query.position, query.position + query.count);\r\n\r\n      query.data = result.length ? result : false;\r\n    }\r\n    collection.on(\"search\", 1000, search);\r\n  });\r\n};\r\n","import deleteM from \"./delete\";\r\nimport findM from \"./find\";\r\nimport getM from \"./get\";\r\nimport initM from \"./init\";\r\nimport saveM from \"./save\";\r\nimport searchM from \"./search\";\r\n\r\nexport default (app) => {\r\n  deleteM(app);\r\n  findM(app);\r\n  getM(app);\r\n  initM(app);\r\n  saveM(app);\r\n  searchM(app);\r\n\r\n  app.database.on(\r\n    \"init\",\r\n    ({ contentType }) => {\r\n      const db = { dbArray: [], dbIndex: {} };\r\n\r\n      const collection = app.addeventhandler(\r\n        { contentType },\r\n        [\r\n          \"delete\",\r\n          \"find\",\r\n          \"get\",\r\n          \"init\",\r\n          \"save\",\r\n          \"search\",\r\n          \"size\",\r\n          \"update\",\r\n          \"updates\",\r\n        ],\r\n        `database ${contentType.machinename}`\r\n      );\r\n\r\n      collection.on(\"init\", () => {\r\n        const { dbArray, dbIndex } = db;\r\n        dbArray.forEach((item) => {\r\n          if (dbIndex[item._id])\r\n            dbArray.splice(dbArray.indexOf(dbIndex[item._id]), 1);\r\n          dbIndex[item._id] = item;\r\n        });\r\n      });\r\n\r\n      collection.on(\"size\", () => db.dbArray.length);\r\n      return { collection, db, contentType };\r\n    },\r\n    1000\r\n  );\r\n};\r\n","export default (app) => {\r\n  app.database.on(\"init\", ({ collection, db }) => {\r\n    collection.on(\"delete\", 1000, (query) => {\r\n      const id = query.id || query.data._id;\r\n      const data = query.data || { _id: id };\r\n      return Object.assign(query, { id, oldData: db.dbIndex[id], data });\r\n    });\r\n\r\n    collection.on(\"delete\", -200, (query) => {\r\n      if (!query.data) return;\r\n      const { dbArray, dbIndex } = db;\r\n      delete dbIndex[query.id];\r\n      const pos = dbArray.indexOf(query.oldData);\r\n      dbArray.splice(pos, 1);\r\n    });\r\n  });\r\n};\r\n","export default app => {\r\n  app.database.on(\"init\", ({ collection, db }) => {\r\n    collection.on(\"find\", 1000, query => {\r\n      const { field, value, data, testIfSet } = query;\r\n      if (data) return;\r\n      const { dbArray } = db;\r\n\r\n      if (!testIfSet) {\r\n        for (let i = 0; i < dbArray.length; i++)\r\n          if (dbArray[i][field] === value)\r\n            return { ...query, data: dbArray[i] };\r\n        return query;\r\n      }\r\n\r\n      for (let i = 0; i < dbArray.length; i++)\r\n        if (!dbArray[i][field] === !value)\r\n          return { ...query, data: dbArray[i] };\r\n    });\r\n  });\r\n};\r\n","export default app => {\r\n  app.database.on(\"init\", ({ collection, db }) => {\r\n    collection.on(\r\n      \"get\",\r\n      1000,\r\n      query =>\r\n        query.data\r\n          ? query\r\n          : { ...query, data: db.dbIndex[query.id] }\r\n    );\r\n  });\r\n};\r\n","export default app => {\r\n  app.database.on(\"init\", ({ collection, db }) => {\r\n    collection.on(\"init\", 1000, query => Object.assign(db, query));\r\n    collection.on(\"init\", -1000, () => {\r\n      /* collection.on(\r\n        \"init\",\r\n        () => {\r\n          throw new Error(\"Initited already\");\r\n        },\r\n        1001\r\n      ); */\r\n      return collection;\r\n    });\r\n  });\r\n};\r\n","export default (app) => {\r\n  app.database.on(\"init\", ({ collection, db }) => {\r\n    collection.on(\"save\", 2000, (query) => {\r\n      const id = query.id || (query.data && query.data._id);\r\n      if (!id || query.oldData) return;\r\n\r\n      const oldData = db.dbIndex[id];\r\n      if (!oldData) return;\r\n\r\n      if (query.fields) query.data = { ...oldData, ...query.data };\r\n      return { ...query, oldData };\r\n    });\r\n\r\n    collection.on(\"save\", 1000, (query) => {\r\n      if (!query.data) return;\r\n\r\n      // eslint-disable-next-line no-multi-assign\r\n      query.data._id = query.id = query.id || query.data._id || app.uuid();\r\n    });\r\n\r\n    collection.on(\"save\", -100, (query) => {\r\n      if (!query.data) return;\r\n\r\n      const { dbArray, dbIndex } = db;\r\n\r\n      if (query.oldData) {\r\n        dbArray.splice(dbArray.indexOf(query.oldData), 1);\r\n        delete dbIndex[query.oldData._id];\r\n      }\r\n\r\n      dbIndex[query.id] = query.data;\r\n      dbArray.push(query.data);\r\n    });\r\n  });\r\n};\r\n","const getKey = (data) => JSON.stringify(data);\r\n\r\nexport default (app) => {\r\n  if (app.settings.noClientCache) return;\r\n\r\n  app.database.on(\"init\", ({ collection, db }) => {\r\n    if (collection.contentType.noClientCache) return;\r\n\r\n    const insertItem = (item) => {\r\n      const { dbIndex, dbArray } = db;\r\n      if (dbIndex[item._id]) return;\r\n\r\n      dbIndex[item._id] = item;\r\n\r\n      const chdate = item._chdate;\r\n      let pos = dbArray.length - 1;\r\n\r\n      if (chdate)\r\n        while (\r\n          pos >= 0 &&\r\n          (!dbArray[pos]._chdate || dbArray[pos]._chdate > chdate)\r\n        )\r\n          pos -= 1;\r\n\r\n      if (pos === dbArray.length - 1) dbArray.push(item);\r\n      else dbArray.splice(pos + 1, 0, item);\r\n\r\n      collection.event(\"saveStorage\");\r\n    };\r\n\r\n    let searchCache = {};\r\n    let allInCache = false;\r\n\r\n    collection.on([\"update\", \"clearCache\"], 2000, () => {\r\n      searchCache = {};\r\n      allInCache = false;\r\n    });\r\n\r\n    collection.on(\"search\", 2000, (query) => {\r\n      const inCache =\r\n        allInCache || searchCache[getKey({ ...query, data: undefined })];\r\n\r\n      return { ...query, inCache };\r\n    });\r\n    collection.on(\"search\", -1000, (query) => {\r\n      if (!query.data || allInCache) return;\r\n\r\n      allInCache =\r\n        query.count > query.searchTotal && query.searchTotal === query.total;\r\n\r\n      query.data.forEach(insertItem);\r\n\r\n      const key = getKey({ ...query, data: undefined });\r\n      if (!searchCache[key]) searchCache[key] = true;\r\n    });\r\n\r\n    collection.on([\"get\", \"find\"], -1000, ({ data }) => {\r\n      if (!allInCache && data) insertItem(data);\r\n    });\r\n  });\r\n};\r\n","import connectionM from \"./connection\";\r\nimport updatesM from \"./updates\";\r\nimport debugM from \"./debug\";\r\nimport memdbM from \"./memdb\";\r\nimport cacheM from \"./cache\";\r\nimport storageM from \"./storage\";\r\nimport saveQueueM from \"./saveQueue\";\r\n\r\nexport default (app) => {\r\n  const database = app.addeventhandler(\r\n    {},\r\n    [\"init\", \"add\", \"clearCache\"],\r\n    \"databaseglobal\"\r\n  );\r\n  app.database = database;\r\n\r\n  connectionM(app);\r\n  updatesM(app);\r\n  debugM(app);\r\n  memdbM(app);\r\n  cacheM(app);\r\n  storageM(app);\r\n  saveQueueM(app);\r\n\r\n  database.on(\"clearCache\", () =>\r\n    Promise.all(\r\n      Object.keys(app.contentType)\r\n        .filter((item) => database[item])\r\n        .map((item) => database[item].event(\"clearCache\"))\r\n    )\r\n  );\r\n\r\n  const initDatabases = (contentTypes) =>\r\n    contentTypes\r\n      .filter((contentType) => contentType.storage !== \"none\")\r\n      .map((contentType) =>\r\n        database\r\n          .init({ contentType })\r\n          .then(({ collection }) => collection.init())\r\n          .then(\r\n            // eslint-disable-next-line no-return-assign\r\n            (collection) => (database[contentType.machinename] = collection)\r\n          )\r\n      );\r\n\r\n  app.on(\"init\", -100, () => {\r\n    app.connection.on(\"databaseUpdate\", (data) =>\r\n      database[data.contentType].update(data)\r\n    );\r\n    return Promise.all(initDatabases(Object.values(app.contentType))).then(\r\n      () => {\r\n        app.on([\"login\", \"logout\"], () => {\r\n          database.clearCache().then(() => undefined);\r\n        });\r\n      }\r\n    );\r\n  });\r\n};\r\n","export default (app) => {\r\n  let connected = false;\r\n  app.on(\"init\", () => {\r\n    ({ connected } = app.connection);\r\n    app.connection.on(\"connection\", (query) => {\r\n      ({ connected } = query);\r\n    });\r\n  });\r\n\r\n  app.database.on(\"init\", ({ collection, contentType }) => {\r\n    const send = (action, query) =>\r\n      app.connection\r\n        .emit({\r\n          type: \"database\",\r\n          action,\r\n          contentType: contentType.machinename,\r\n          query,\r\n        })\r\n        .then((event) => event.query);\r\n\r\n    [\"find\", \"get\", \"size\"].forEach((event) => {\r\n      collection.on(event, 900, (query) =>\r\n        query.data\r\n          ? undefined\r\n          : !connected\r\n          ? { ...query, offline: true }\r\n          : send(event, query)\r\n      );\r\n    });\r\n\r\n    collection.on(\"delete\", 2700, (query) =>\r\n      !connected ? { ...query, offline: true } : send(\"delete\", query)\r\n    );\r\n\r\n    collection.on(\"save\", 2700, (query) =>\r\n      !connected ? { ...query, offline: true } : send(\"save\", query)\r\n    );\r\n\r\n    collection.on(\"search\", 1700, (query) =>\r\n      query.inCache\r\n        ? undefined\r\n        : !connected\r\n        ? { ...query, offline: true }\r\n        : send(\"search\", query)\r\n    );\r\n\r\n    collection.on(\"updates\", (query) => send(\"updates\", query));\r\n    collection.on(\"update\", 200, (query) => ({\r\n      ...query,\r\n      offline: !connected,\r\n    }));\r\n\r\n    app.connection.on(\"database\", (event) => {\r\n      if (\r\n        event.contentType !== contentType.machinename ||\r\n        ![\"update\"].includes(event.action)\r\n      )\r\n        return;\r\n\r\n      collection[event.action](event.query);\r\n    });\r\n\r\n    app.connection.on(\"connection\", ({ connected }) => {\r\n      if (connected) collection.updates();\r\n    });\r\n  });\r\n};\r\n","export default (app) => {\r\n  app.database.on(\"init\", ({ collection, db }) => {\r\n    let ids = [];\r\n    const updateSearch = {};\r\n    const updateGet = {};\r\n    let timer03;\r\n    let timer20;\r\n\r\n    const timeoutTimes = (app.settings.database &&\r\n      app.settings.database.updateFrequency) || [300, 2000];\r\n\r\n    const updateEvent = () => {\r\n      clearTimeout(timer03);\r\n      clearTimeout(timer20);\r\n      timer20 = false;\r\n      collection.event(\"update\", { ids }).then(() => {\r\n        ids = [];\r\n      });\r\n    };\r\n\r\n    collection.on(\"get\", 1000, (query) => {\r\n      if (!query.onData || query.callbackId) return;\r\n      query.callbackId = app.uuid();\r\n      updateGet[query.id] = updateGet[query.id] || {};\r\n      updateGet[query.id][query.callbackId] = query.onData;\r\n      delete query.onData;\r\n    });\r\n    collection.on(\"get\", -1000, (query) => {\r\n      if (query.callbackId) updateGet[query.id][query.callbackId](query);\r\n    });\r\n\r\n    collection.on(\"search\", 1000, (query) => {\r\n      if (!query.onData || query.callbackId) return;\r\n      query.callbackId = app.uuid();\r\n      updateSearch[query.callbackId] = { ...query, data: false };\r\n      delete query.onData;\r\n    });\r\n    collection.on(\"search\", -1000, (query) => {\r\n      if (query.callbackId) updateSearch[query.callbackId].onData(query);\r\n    });\r\n\r\n    collection.on(\"offUpdate\", (query) => {\r\n      if (updateSearch[query.callbackId]) delete updateSearch[query.callbackId];\r\n      else delete updateGet[query.id][query.callbackId];\r\n    });\r\n\r\n    collection.on([\"save\", \"delete\"], -1000, (query) => {\r\n      if (!query.offline) return;\r\n\r\n      if (timer03) clearTimeout(timer03);\r\n      timer03 = setTimeout(updateEvent, timeoutTimes[0]);\r\n      if (!timer20) timer20 = setTimeout(updateEvent, timeoutTimes[1]);\r\n      if (!ids.includes(query.id)) ids.push(query.id);\r\n    });\r\n\r\n    const delItem = (id) => {\r\n      // Not working, strange...\r\n      // dbArray.splice(dbArray.indexOf(dbIndex[id]),1);\r\n      db.dbArray = db.dbArray.filter((i) => i._id !== id);\r\n      delete db.dbIndex[id];\r\n    };\r\n\r\n    collection.on(\"update\", ({ ids, offline }) => {\r\n      if (offline) return;\r\n      if (ids) {\r\n        ids.forEach(delItem);\r\n        return;\r\n      }\r\n\r\n      db.dbArray = [];\r\n      db.dbIndex = {};\r\n    });\r\n\r\n    collection.on(\"update\", -1000, ({ ids }) => {\r\n      Object.values(updateSearch).forEach((query) =>\r\n        collection.search({ ...query, data: false, onData: false })\r\n      );\r\n\r\n      const updateGetIds = ids\r\n        ? ids.filter((id) => updateGet[id])\r\n        : Object.keys(updateGet);\r\n\r\n      updateGetIds.forEach((id) => {\r\n        Object.values(updateGet[id]).forEach((callbackId) =>\r\n          collection\r\n            .get({ id })\r\n            .then((query) => updateGet[id][callbackId](query))\r\n        );\r\n      });\r\n\r\n      collection.event(\"saveStorage\");\r\n    });\r\n\r\n    collection.on(\"updates\", 1000, () => {\r\n      const { dbArray } = db;\r\n      const i = dbArray.length - 1;\r\n\r\n      if (i === -1 || !dbArray[i]._chdate) return;\r\n\r\n      return { date: dbArray[i]._chdate };\r\n    });\r\n    collection.on(\"updates\", -1000, collection.update);\r\n  });\r\n};\r\n","/*\r\nfunction getStackTrace(row) {\r\n  const obj = {};\r\n  Error.captureStackTrace(obj, getStackTrace);\r\n  if (row) return obj.stack.split(\"\\n\")[row].replace(\"   at \", \"\");\r\n  return obj.stack;\r\n}\r\n*/\r\nexport default app => {\r\n  app.database.on(\"init\", ({ collection, db }) => {\r\n    /*\r\n    [\"delete\", \"find\", \"get\", \"save\", \"search\", \"size\"].forEach(event => {\r\n      collection.on(\r\n        event,\r\n        query => {\r\n          console.log(event, query, getStackTrace(6));\r\n        },\r\n        1002\r\n      );\r\n    });*/\r\n  });\r\n};\r\n","export default (app) => {\r\n  if (app.settings.noClientCache) return;\r\n\r\n  app.database.on(\"init\", ({ collection, db }) => {\r\n    const id = `dbStorage${collection.contentType.machinename}`;\r\n\r\n    collection.on([\"save\", \"delete\", \"saveStorage\"], -1000, () => {\r\n      app.storage.setItemDebounce({ id, value: db.dbArray, delay: 500 });\r\n    });\r\n\r\n    collection.on(\"init\", 1000, () =>\r\n      app.storage.getItem({ id }).then(({ value }) => {\r\n        db.dbArray = value || [];\r\n      })\r\n    );\r\n\r\n    collection.on(\"clearCache\", () => {\r\n      app.storage.setItemDebounce({ id, value: [], delay: 0 });\r\n      db.dbArray = [];\r\n      db.dbIndex = {};\r\n    });\r\n  });\r\n};\r\n","export default (app) => {\r\n  if (app.settings.noClientCache) return;\r\n\r\n  app.database.on(\"init\", ({ collection, db }) => {\r\n    const storageId = `dbSaveQueue${collection.contentType.machinename}`;\r\n\r\n    let saveQueue = {};\r\n    app.storage\r\n      .getItem({ id: storageId })\r\n      // eslint-disable-next-line no-return-assign\r\n      .then(({ value }) => (saveQueue = value || {}));\r\n\r\n    const add = ({ id, data, offline }) => {\r\n      if (!offline) return;\r\n      saveQueue[id] = data;\r\n      app.storage.setItemDebounce({\r\n        id: storageId,\r\n        value: saveQueue,\r\n        delay: 300,\r\n      });\r\n    };\r\n    collection.on(\"save\", -1000, (query) => add(query));\r\n    collection.on(\"delete\", -1000, (query) =>\r\n      add({ ...query, data: \"deleted\" })\r\n    );\r\n\r\n    collection.on(\"updates\", 500, (query) => {\r\n      const { dbArray } = db;\r\n      const { date } = query;\r\n      if (!date) return;\r\n\r\n      let i = dbArray.length - 1;\r\n      console.log(\"saveQueue\");\r\n      while (i !== -1 && !saveQueue[dbArray[i]._id]) {\r\n        // date = dbArray[i]._chdate;\r\n        i--;\r\n      }\r\n      return { ...query, saveQueue, date };\r\n    });\r\n    collection.on(\"updates\", -500, () => {\r\n      saveQueue = {};\r\n      app.storage.setItem({ id: storageId, value: {} });\r\n    });\r\n  });\r\n};\r\n","export default (app) => {\r\n  const { userContentType = \"adminUser\" } = app.settings;\r\n  const sessionKey = `session${userContentType}`;\r\n\r\n  app.session = app.addeventhandler({}, [\"login\", \"logout\"], \"session\");\r\n  const { session } = app;\r\n  let autoLoginUser = false;\r\n\r\n  function loginEvent(user) {\r\n    if (JSON.stringify(user) === JSON.stringify(session.user)) return;\r\n\r\n    try {\r\n      app.storage.setItem({ id: sessionKey, value: user });\r\n      // eslint-disable-next-line no-empty\r\n    } catch (e) {}\r\n    session.user = user;\r\n    if (typeof session.user.role === \"string\")\r\n      session.user.role = [session.user.role];\r\n\r\n    app.event(\"login\", user);\r\n  }\r\n\r\n  session.on(\"login\", (value) =>\r\n    app.connection\r\n      .emit({\r\n        type: \"login\",\r\n        data: value,\r\n        sessionid: value.sessionid,\r\n        contentType: value.contentType,\r\n      })\r\n      .then((query) => {\r\n        const { user } = query;\r\n\r\n        if (user && !query.error) loginEvent(user);\r\n        else if (session.user !== autoLoginUser) {\r\n          session.user = autoLoginUser;\r\n          try {\r\n            app.storage.removeItem({ id: sessionKey });\r\n            // eslint-disable-next-line no-empty\r\n          } catch (e) {}\r\n        }\r\n        return query;\r\n      })\r\n  );\r\n  app.on(\"init\", -100, () => {\r\n    app.connection.on(\"autologin\", (query) => {\r\n      const { user, error } = query;\r\n\r\n      if (!user || error) return;\r\n      autoLoginUser = user;\r\n      if (session.user) return;\r\n\r\n      session.user = user;\r\n      if (typeof session.user.role === \"string\")\r\n        session.user.role = [session.user.role];\r\n\r\n      app.event(\"login\", user);\r\n    });\r\n\r\n    const reload = ({ key, id }) => {\r\n      if ((key || id) !== sessionKey) return;\r\n      window.location.reload();\r\n    };\r\n    window.addEventListener(\"storage\", reload);\r\n    app.storage.on(\"removeItem\", -1000, reload);\r\n    app.storage.on(\"setItem\", -1000, reload);\r\n\r\n    session.on(\"logout\", () => {\r\n      app.storage.removeItem({ id: sessionKey });\r\n\r\n      delete session.user;\r\n\r\n      app.connection.emit({\r\n        type: \"logout\",\r\n        contentType: userContentType,\r\n        noCallback: true,\r\n      });\r\n\r\n      app.event(\"logout\");\r\n    });\r\n\r\n    app.connection.on(\"logout\", () => {\r\n      app.storage.removeItem({ id: sessionKey });\r\n    });\r\n\r\n    app.storage.getItem({ id: sessionKey }).then(({ value: userStore }) => {\r\n      session.user = userStore || autoLoginUser;\r\n\r\n      if (userStore) {\r\n        if (app.connection.connected) session.login(userStore);\r\n\r\n        app.connection.on(\"connection\", ({ connected }) => {\r\n          if (connected) session.login(userStore);\r\n        });\r\n      }\r\n    });\r\n  });\r\n};\r\n","import connectionM from \"./connection\";\r\n\r\nexport default (app) => {\r\n  if (!window.electron) return;\r\n  if (!app.settings.domain) connectionM(app);\r\n\r\n  const callbacks = {};\r\n\r\n  const send = (data, callback) =>\r\n    new Promise((resolve) => {\r\n      data.callbackClient = app.uuid();\r\n      callbacks[data.callbackClient] = resolve;\r\n\r\n      callback();\r\n    });\r\n\r\n  const back = (data) => {\r\n    if (!callbacks[data.callbackClient]) return;\r\n\r\n    try {\r\n      callbacks[data.callbackClient](data);\r\n    } catch (e) {\r\n      console.log(\"err\", callbacks[data.callbackClient], e);\r\n    }\r\n\r\n    delete callbacks[data.callbackClient];\r\n  };\r\n\r\n  window.electron.on(async (info, data) => {\r\n    if (data.callbackClient) back(data);\r\n    else {\r\n      data = await app.event(\"electronData\", data);\r\n      if (data.callbackServer) window.electron.send(data);\r\n    }\r\n  });\r\n\r\n  app.on(\"electronEvent\", (data) => {\r\n    if (data.noCallback) window.electron.send(data);\r\n    else return send(data, () => window.electron.send(data));\r\n  });\r\n};\r\n","export default (app) => {\r\n  if (app.settings.domain) return;\r\n\r\n  app.connection = app.addeventhandler({}, [\"emit\", \"broadcast\"], \"connection\");\r\n  const { connection } = app;\r\n\r\n  connection.on(\"broadcast\", (data) =>\r\n    app.event(\"electronEvent\", { ...data, broadcast: true })\r\n  );\r\n  connection.on(\"emit\", (data) => app.event(\"electronEvent\", data));\r\n\r\n  app.on(\"electronData\", (data) => connection.event(data.type, data));\r\n\r\n  connection.connected = false;\r\n  connection.on(\"connection\", 100, (query) => {\r\n    if (typeof query.connected === \"undefined\")\r\n      query.connected = connection.connected;\r\n\r\n    connection.connected = query.connected;\r\n  });\r\n\r\n  app.on(\"start\", () => {\r\n    connection.event(\"connection\", { connected: true });\r\n  });\r\n\r\n  connection.on(\"connection\", ({ wait, connected }) => {\r\n    if (!wait || connected) return;\r\n\r\n    return new Promise((resolve) => {\r\n      const onConnect = ({ connected }) => {\r\n        if (!connected) return;\r\n        connection.off(\"connection\", onConnect);\r\n        resolve({ connected: true });\r\n      };\r\n      connection.on(\"connection\", onConnect);\r\n    });\r\n  });\r\n};\r\n","// obj instanceof Promise\r\n\r\nconst getStackTrace = (row) => {\r\n  const obj = {};\r\n  if (!Error.captureStackTrace) return;\r\n  Error.captureStackTrace(obj, getStackTrace);\r\n  if (row === 3) console.log(obj.stack.split(\"\\n\"));\r\n  const [, source, line, column] =\r\n    /https?:\\/\\/[^/]+\\/([^:]+):([^:]+):([0-9]+)/im.exec(\r\n      obj.stack.split(\"\\n\")[row]\r\n    ) || [];\r\n\r\n  return !source\r\n    ? obj.stack.split(\"\\n\")[row]\r\n    : translate(`${source} ${line}:${column}`);\r\n};\r\n\r\nlet translate = (str) => str;\r\n\r\nif (\r\n  typeof window !== \"undefined\" &&\r\n  window.location.host.includes(\"localhost\")\r\n) {\r\n  const addScript = (src) =>\r\n    new Promise((resolve) => {\r\n      if (\r\n        [...document.head.children].some(\r\n          (child) => child.getAttribute(\"src\") === src\r\n        )\r\n      ) {\r\n        resolve();\r\n        return;\r\n      }\r\n\r\n      const scriptEl = document.createElement(\"script\");\r\n\r\n      scriptEl.setAttribute(\"src\", src);\r\n      scriptEl.onload = resolve;\r\n      document.head.appendChild(scriptEl);\r\n    });\r\n\r\n  addScript(\"/source-map.js\").then(async () => {\r\n    window.sourceMap.SourceMapConsumer.initialize({\r\n      \"lib/mappings.wasm\": \"/mappings.wasm\",\r\n    });\r\n    try {\r\n      const consumer = await new window.sourceMap.SourceMapConsumer(\r\n        await fetch(\"/static/js/main.chunk.js.map\").then((res) => res.json())\r\n      );\r\n      translate = (str) => {\r\n        if (!str || !str.includes(\":\")) return str;\r\n\r\n        let [source, line, column] = str.split(/[ :]/);\r\n\r\n        ({ source, line, column } = consumer.originalPositionFor({\r\n          line: parseInt(line, 10),\r\n          column: parseInt(column, 10),\r\n        }));\r\n        return `${source} ${line}:${column}`;\r\n      };\r\n      // eslint-disable-next-line no-empty\r\n    } catch (e) {}\r\n  });\r\n}\r\n\r\nif (typeof window !== \"undefined\") window.addEventHandlers = {};\r\n\r\nexport default function addEventHandler(context, mapevents, name) {\r\n  const callbacks = {};\r\n  const callbacksprio = {};\r\n  const callbacksStack = {};\r\n  if (typeof mapevents === \"string\") {\r\n    name = mapevents;\r\n    mapevents = undefined;\r\n  }\r\n\r\n  callbacksStack.addEventHandlerInitiator = [\r\n    `${name} ${Math.random()}`,\r\n    getStackTrace(2),\r\n  ];\r\n\r\n  setTimeout(() => {\r\n    if (typeof window !== \"undefined\") {\r\n      Object.entries(callbacksStack).forEach(([key, value]) => {\r\n        callbacksStack[key] = value.map((item) => translate(item));\r\n      });\r\n\r\n      window.addEventHandlers[callbacksStack.addEventHandlerInitiator[0]] =\r\n        callbacksStack;\r\n    }\r\n  }, 1000);\r\n\r\n  context = context || {};\r\n\r\n  const addEvent = (event, callback, prio) => {\r\n    if (typeof callback === \"number\") {\r\n      const tmp = callback;\r\n      callback = prio;\r\n      prio = tmp;\r\n    }\r\n\r\n    if (!callback) return console.error(\"No callback\", getStackTrace(5));\r\n    if (typeof callback !== \"function\")\r\n      return console.error(\"Not a function\", getStackTrace(5), callback);\r\n\r\n    prio = prio || 0;\r\n\r\n    if (!callbacks[event]) {\r\n      callbacks[event] = [];\r\n      callbacksprio[event] = [];\r\n      callbacksStack[event] = [];\r\n    }\r\n\r\n    let pos = callbacks[event].length;\r\n    while (pos && callbacksprio[event][pos - 1] < prio) pos--;\r\n\r\n    callbacksprio[event].splice(pos, 0, prio);\r\n    callbacks[event].splice(pos, 0, callback);\r\n    callbacksStack[event].splice(pos, 0, getStackTrace(5));\r\n  };\r\n\r\n  context.on = (event, callback, prio) => {\r\n    event = event instanceof Array ? event : [event];\r\n    event.forEach((event) => addEvent(event, callback, prio));\r\n  };\r\n\r\n  const removeEvent = (event, callback) => {\r\n    if (!callbacks[event]) {\r\n      console.log(\"Missing event\", event, callbacks);\r\n      return;\r\n    }\r\n    const pos = callbacks[event].indexOf(callback);\r\n    if (pos !== -1) {\r\n      callbacks[event].splice(pos, 1);\r\n      callbacksprio[event].splice(pos, 1);\r\n      callbacksStack[event].splice(pos, 1);\r\n    }\r\n\r\n    if (!callbacks[event].length) delete callbacks[event];\r\n  };\r\n\r\n  context.off = (event, callback) => {\r\n    event = event instanceof Array ? event : [event];\r\n    event.forEach((event) => removeEvent(event, callback));\r\n  };\r\n\r\n  const fired = {};\r\n  const doEvent = (event, data) => {\r\n    data = data || {};\r\n    const callback = callbacks[event];\r\n\r\n    if (!fired[event]) fired[event] = true;\r\n    if (!callback) return Promise.resolve(data);\r\n\r\n    return new Promise((resolve, reject) => {\r\n      const timer = setTimeout(() => {\r\n        console.log(\r\n          event,\r\n          \" Stopped at\",\r\n          pos,\r\n          callback.length,\r\n          Object.keys(context),\r\n          callbacksStack[event][pos - 1],\r\n          callbacksStack[event]\r\n        );\r\n      }, 5000);\r\n      let pos = 0;\r\n      let oldData = data;\r\n\r\n      const next = (data) => {\r\n        if (data instanceof Promise) {\r\n          data.then(next).catch(reject);\r\n          return;\r\n        }\r\n\r\n        data = typeof data === \"undefined\" ? oldData : data;\r\n\r\n        if (pos >= callback.length) {\r\n          clearTimeout(timer);\r\n          resolve(data);\r\n          return;\r\n        }\r\n\r\n        oldData = data;\r\n        Promise.resolve(callback[pos++](data))\r\n          .then(next)\r\n          .catch(reject);\r\n      };\r\n      next(data);\r\n    });\r\n  };\r\n  context.event = doEvent;\r\n\r\n  context.waitFor = (event) =>\r\n    new Promise((resolve) => {\r\n      const call = () => {\r\n        context.off(event, call);\r\n        resolve();\r\n      };\r\n\r\n      if (fired[event]) resolve();\r\n      else context.on(event, call);\r\n    });\r\n\r\n  if (mapevents)\r\n    mapevents.forEach((event) => {\r\n      context[event] = (data, defectiveCallback) => {\r\n        if (defectiveCallback) debugger;\r\n        return doEvent(event, data);\r\n      };\r\n    });\r\n\r\n  return context;\r\n};\r\n","// eslint-disable-next-line import/extensions\r\nimport indexScripts from \"../../../indexScripts\";\r\nimport contentType from \"../../../contentype.json\";\r\nimport addeventhandler from \"./eventhandler\";\r\nimport buildsettings from \"../../../settings.json\";\r\n\r\nconst settings = (window && window.___settings___) || buildsettings;\r\nconst app = { settings, contentType, addeventhandler };\r\n\r\nif (app.settings.fetchDomainFromUrl) {\r\n  const { protocol, host } = (window && window.location) || {};\r\n  if (protocol === \"https:\" && !app.settings.secure) {\r\n    app.settings.secure = true;\r\n    app.settings.domain = host;\r\n  }\r\n}\r\n\r\naddeventhandler(app, \"app\");\r\nconst S4 = () =>\r\n  // eslint-disable-next-line no-bitwise\r\n  (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\r\napp.uuid = () => S4() + S4() + S4() + S4() + S4() + S4() + S4() + S4();\r\napp.capFirst = (text) =>\r\n  text && text.substring(0, 1).toUpperCase() + text.substring(1);\r\napp.clone = (data) => data && JSON.parse(JSON.stringify(data));\r\n\r\nindexScripts(app);\r\n\r\napp.on(\"init\", () => {\r\n  app.inited = true;\r\n});\r\n\r\nexport default () => app;\r\napp.event(\"init\").then(() => app.event(\"start\"));\r\n","import components from './core/components/client/index.js';\nimport connection from './core/connection/client/index.js';\nimport contentType from './core/contentType/client/index.js';\nimport core from './core/core/client/index.js';\nimport database from './core/database/client/index.js';\nimport file from './core/file/client/index.js';\nimport pwa from './core/pwa/client/index.js';\nimport router from './core/router/client/index.js';\nimport session from './core/session/client/index.js';\nimport electron from './module/electron/client/index.js';\n\nexport default function(app) {\n  components(app);\n  connection(app);\n  contentType(app);\n  core(app);\n  database(app);\n  file(app);\n  pwa(app);\n  router(app);\n  session(app);\n  electron(app);\n}\n","/* eslint-disable guard-for-in */\r\nexport default (app) => {\r\n  if (!app.t) app.t = (text) => text;\r\n\r\n  function init() {\r\n    if (!document.body) {\r\n      window.onload = init;\r\n      return;\r\n    }\r\n\r\n    if (app.settings.debug) console.log(app);\r\n\r\n    app.parseFilter = (filter, getValue, path) => {\r\n      if (!filter) return {};\r\n      function insertVal(val) {\r\n        return val.replace(/\\{([a-z_.]+)\\}/gim, (str, p1) => {\r\n          return getValue(p1.replace(\"..\", path));\r\n        });\r\n      }\r\n      const parsedfilter = { $and: [] };\r\n\r\n      for (const item in filter) {\r\n        const oneFilter = {};\r\n        const oneFilterIn = filter[item].and;\r\n        for (const i in oneFilterIn)\r\n          oneFilter[insertVal(oneFilterIn[i][0])] = insertVal(\r\n            oneFilterIn[i][1]\r\n          );\r\n        parsedfilter.$and.push(oneFilter);\r\n      }\r\n      return parsedfilter;\r\n    };\r\n\r\n    app.stateStore = (() => {\r\n      const states = {};\r\n      return {\r\n        set: function (obj, state, type) {\r\n          if (type === \"disabled\") return;\r\n\r\n          const url = window.location.pathname;\r\n          const id = app.domPathId(obj.current);\r\n          if (type === \"independent\") {\r\n            states[id] = state;\r\n            return;\r\n          }\r\n\r\n          if (!states[url]) states[url] = {};\r\n\r\n          states[url][id] = state;\r\n        },\r\n        get: function (obj, type) {\r\n          if (type === \"disabled\") return null;\r\n\r\n          const id = app.domPathId(obj.current);\r\n          if (type === \"independent\") return states[id];\r\n\r\n          const url = window.location.pathname;\r\n\r\n          if (!states[url] || states[url][id] === undefined) return null;\r\n          return states[url][id];\r\n        },\r\n      };\r\n    })();\r\n\r\n    app.domPathId = (element) => {\r\n      if (!element) return null;\r\n      const path = [];\r\n      for (let i = 0; i < 200 && element.parentElement; i++) {\r\n        for (let item = 0; item < element.parentElement.children.length; item++)\r\n          if (element.parentElement.children[item] === element)\r\n            path.unshift(`${item}.${element.tagName}`);\r\n        element = element.parentElement;\r\n      }\r\n      return path.join(\".\");\r\n    };\r\n\r\n    document.addEventListener(\r\n      \"keydown\",\r\n      (e) => {\r\n        if (\r\n          e.keyCode === 83 &&\r\n          (navigator.platform.match(\"Mac\") ? e.metaKey : e.ctrlKey)\r\n        ) {\r\n          e.preventDefault();\r\n          app.event(\"keypressSaveEvent\");\r\n        }\r\n      },\r\n      false\r\n    );\r\n\r\n    app.event(\"loaded\");\r\n  }\r\n\r\n  app.on(\"init\", -1000, init);\r\n};\r\n","export default (app) => {\r\n  app.storage = app.addeventhandler(\r\n    {},\r\n    [\r\n      \"getItem\",\r\n      \"setItem\",\r\n      \"removeItem\",\r\n      \"getItemMem\",\r\n      \"setItemMem\",\r\n      \"removeItemMem\",\r\n      \"getFile\",\r\n      \"setFile\",\r\n      \"removeFile\",\r\n      \"setItemDebounce\",\r\n    ],\r\n    \"storage\"\r\n  );\r\n\r\n  app.storage.on(\"getItem\", async (data) => {\r\n    let val = window.localStorage.getItem(data.id);\r\n\r\n    if (val === `nystemCache${data.id}`) {\r\n      const nystemCache = await caches.open(\"nystem\");\r\n      val = await nystemCache.match(val).then((req) => req.json());\r\n    }\r\n    return {\r\n      ...data,\r\n      value: val && (val[0] === \"[\" || val[0] === \"{\") ? JSON.parse(val) : val,\r\n    };\r\n  });\r\n\r\n  app.storage.on(\"setItem\", async ({ id, value }) => {\r\n    value = typeof value === \"string\" ? value : JSON.stringify(value);\r\n\r\n    try {\r\n      window.localStorage.setItem(id, value);\r\n    } catch (e) {\r\n      const nystemCache = await caches.open(\"nystem\");\r\n      if (e.code !== 22) return;\r\n\r\n      await nystemCache.put(\r\n        `nystemCache${id}`,\r\n        new Response(value, {\r\n          status: 200,\r\n          statusText: \"Dbcache\",\r\n          headers: new Headers({\r\n            \"content-type\": `application/json`,\r\n            date: new Date(),\r\n            etag: \"dbdata\",\r\n          }),\r\n        })\r\n      );\r\n      window.localStorage.setItem(id, `nystemCache${id}`);\r\n    }\r\n  });\r\n\r\n  const timer = {};\r\n  app.storage.on(\"setItemDebounce\", ({ id, value, delay }) => {\r\n    clearTimeout(timer[id]);\r\n    timer[id] = setTimeout(() => {\r\n      delete timer[id];\r\n      app.storage.setItem({ id, value });\r\n    }, delay);\r\n  });\r\n\r\n  app.storage.on(\"removeItem\", ({ id }) => {\r\n    window.localStorage.removeItem(id);\r\n  });\r\n\r\n  const memstore = {};\r\n\r\n  app.storage.on(\"getItemMem\", (data) =>\r\n    Object.assign(data, { value: memstore[data.id] })\r\n  );\r\n\r\n  app.storage.on(\"setItemMem\", ({ id, value }) => {\r\n    memstore[id] = value;\r\n  });\r\n\r\n  app.storage.on(\"removeItemMem\", ({ id }) => {\r\n    delete memstore[id];\r\n  });\r\n  /*\r\n  app.storage.on(\"getFile\", (data) => {});\r\n\r\n  app.storage.on(\"setFile\", ({ id, value }) => {});\r\n\r\n  app.storage.on(\"removeFile\", ({ id }) => {});\r\n  */\r\n};\r\n","export default (app) => {\r\n  if (\"serviceWorker\" in navigator)\r\n    window.addEventListener(\"load\", () => {\r\n      navigator.serviceWorker.register(\"/nystem-service-worker.js\").then(\r\n        (registration) => {\r\n          console.log(\"ServiceWorker registration successful\");\r\n          registration.update();\r\n        },\r\n        (err) => {\r\n          console.log(\"ServiceWorker registration failed: \", err);\r\n        }\r\n      );\r\n    });\r\n\r\n  let deferredPrompt = false;\r\n\r\n  window.addEventListener(\"beforeinstallprompt\", (e) => {\r\n    deferredPrompt = e;\r\n  });\r\n\r\n  app.on(\"canRunAppInstall\", () => ({\r\n    installable: !!deferredPrompt,\r\n  }));\r\n\r\n  app.on(\"runAppInstall\", () => {\r\n    if (!deferredPrompt) return;\r\n\r\n    deferredPrompt.prompt();\r\n\r\n    deferredPrompt.userChoice.then((choiceResult) => {\r\n      if (choiceResult.outcome === \"accepted\")\r\n        console.log(\"User accepted the install prompt\");\r\n      else console.log(\"User dismissed the install prompt\");\r\n    });\r\n  });\r\n\r\n  const regExpVersion = /main\\.([0-9a-f]+)\\.chunk.js/im;\r\n  app.on(\"getAppVersion\", () => ({\r\n    appVersion: (regExpVersion.exec(\r\n      [...document.body.children]\r\n        .map((child) => child.src)\r\n        .find((src) => regExpVersion.test(src))\r\n    ) || [])[1],\r\n  }));\r\n\r\n  app.on(\"clearCacheAndReload\", () => {\r\n    window.localStorage.clear();\r\n    window.caches.delete(\"nystem\").then(() => {\r\n      window.location.reload();\r\n    });\r\n  });\r\n  app.on(\"init\", -100, () => {\r\n    app.connection.on(\"connection\", ({ connected }) => {\r\n      if (!connected) return;\r\n\r\n      app.connection\r\n        .emit({ type: \"getAppVersion\" })\r\n        .then(async ({ appVersion }) => {\r\n          const { appVersion: clientAppVersion } = await app.event(\r\n            \"getAppVersion\"\r\n          );\r\n          console.log(\"At version\", { clientAppVersion, appVersion });\r\n          if (\r\n            !clientAppVersion ||\r\n            !appVersion ||\r\n            clientAppVersion === appVersion\r\n          ) {\r\n            window.localStorage.setItem(\"havereloaded\", \"false\");\r\n            return;\r\n          }\r\n\r\n          if (window.localStorage.getItem(\"havereloaded\") === \"true\") return;\r\n\r\n          window.localStorage.setItem(\"havereloaded\", \"true\");\r\n\r\n          window.caches.delete(\"nystem\").then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n    });\r\n  });\r\n  setTimeout(() => {\r\n    window.localStorage.setItem(\"havereloaded\", \"false\");\r\n  }, 10000);\r\n};\r\n","export default (app) => {\r\n  /* const pathRegexp = function(path, keys, sensitive, strict) {\r\n    if (Object.prototype.toString.call(path) === \"[object RegExp]\") return path;\r\n    if (Array.isArray(path)) path = \"(\" + path.join(\"|\") + \")\";\r\n    path = path\r\n      .concat(strict ? \"\" : \"/?\")\r\n      .replace(/\\/\\(/g, \"(?:/\")\r\n      .replace(/(\\/)?(\\.)?:(\\w+)(?:(\\(.*?\\)))?(\\?)?(\\*)?/g, function(\r\n        _,\r\n        slash,\r\n        format,\r\n        key,\r\n        capture,\r\n        optional,\r\n        star\r\n      ) {\r\n        keys.push({ name: key, optional: !!optional });\r\n        slash = slash || \"\";\r\n        return (\r\n          \"\" +\r\n          (optional ? \"\" : slash) +\r\n          \"(?:\" +\r\n          (optional ? slash : \"\") +\r\n          (format || \"\") +\r\n          (capture || ((format && \"([^/.]+?)\") || \"([^/]+?)\")) +\r\n          \")\" +\r\n          (optional || \"\") +\r\n          (star ? \"(/*)?\" : \"\")\r\n        );\r\n      })\r\n      .replace(/([/.])/g, \"\\\\$1\")\r\n      .replace(/\\* /g, \"(.*)\"); Change * /\r\n    return new RegExp(\"^\" + path + \"$\", sensitive ? \"\" : \"i\");\r\n}; */\r\n\r\n  app.parseURL = (url) => {\r\n    url = url.replace(/^[^/]+:\\/\\/[^/]+/gi, \"\");\r\n    const out = {};\r\n    const hashtag = url.split(\"#\");\r\n    let query = hashtag[0].split(/\\/?\\?/);\r\n    out.path = query[0].split(\"/\");\r\n    out.domain = out.path.shift();\r\n    out.query = {};\r\n    // eslint-disable-next-line prefer-destructuring\r\n    out.hashtag = hashtag[1];\r\n    query = query[1] ? query[1].split(\"&\") : false;\r\n    // eslint-disable-next-line guard-for-in\r\n    for (const i in query) {\r\n      const param = query[i].split(\"=\");\r\n      // eslint-disable-next-line prefer-destructuring\r\n      out.query[param[0]] = param[1];\r\n    }\r\n    return out;\r\n  };\r\n\r\n  /* app.on(\"loaded\", () => {\r\n    if (app.settings.extension) {\r\n      const to = \"/\";\r\n      if (\r\n        window.localStorage[\"lastpos\"] &&\r\n        window.localStorage[\"lastpos\"] !== \"/index.html\"\r\n      )\r\n        to = window.localStorage[\"lastpos\"];\r\n      window.history.pushState({}, \"Site\", to);\r\n      app.router.setState();\r\n    }\r\n  }); */\r\n};\r\n","import sessionM from \"./session\";\r\n\r\nexport default app => {\r\n  sessionM(app);\r\n\r\n  const addContents = token => ({\r\n    method: \"POST\",\r\n    body: JSON.stringify({ token })\r\n  });\r\n\r\n  app.on(\"login\", -100, ({ token }) => {\r\n    if (!token) return;\r\n    fetch(\"/login\", addContents(token));\r\n  });\r\n\r\n  app.on(\"logout\", -100, ({ token }) => {\r\n    if (!token) return;\r\n    fetch(\"/logout\", addContents(token));\r\n  });\r\n};\r\n"],"sourceRoot":""}